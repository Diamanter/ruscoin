(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"001c":function(e,t){function i(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}e.exports=i},"00b3":function(e,t){function i(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,i){return t.apply(this,arguments)};case 3:return function(e,i,s){return t.apply(this,arguments)};case 4:return function(e,i,s,r){return t.apply(this,arguments)};case 5:return function(e,i,s,r,a){return t.apply(this,arguments)};case 6:return function(e,i,s,r,a,n){return t.apply(this,arguments)};case 7:return function(e,i,s,r,a,n,o){return t.apply(this,arguments)};case 8:return function(e,i,s,r,a,n,o,c){return t.apply(this,arguments)};case 9:return function(e,i,s,r,a,n,o,c,d){return t.apply(this,arguments)};case 10:return function(e,i,s,r,a,n,o,c,d,h){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}e.exports=i},"00ee":function(e,t,i){var s=i("b622"),r=s("toStringTag"),a={};a[r]="z",e.exports="[object z]"===String(a)},"014f":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,InsufficientFunds:n,BadSymbol:o,OrderNotFound:c}=i("74b0"),{TICK_SIZE:d}=i("5ea4"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"ndax",name:"NDAX",countries:["US"],rateLimit:1e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2419200","4M":"9676800"},urls:{logo:"https://user-images.githubusercontent.com/1294454/108623144-67a3ef00-744e-11eb-8140-75c6b851e945.jpg",test:{public:"https://ndaxmarginstaging.cdnhop.net:8443/AP",private:"https://ndaxmarginstaging.cdnhop.net:8443/AP"},api:{public:"https://api.ndax.io:8443/AP",private:"https://api.ndax.io:8443/AP"},www:"https://ndax.io",doc:["https://apidoc.ndax.io/"],fees:"https://ndax.io/fees",referral:"https://one.ndax.io/bfQiSL"},api:{public:{get:["Activate2FA","Authenticate2FA","AuthenticateUser","GetL2Snapshot","GetLevel1","GetValidate2FARequiredEndpoints","LogOut","GetTickerHistory","GetProduct","GetProducts","GetInstrument","GetInstruments","Ping","trades","GetLastTrades","SubscribeLevel1","SubscribeLevel2","SubscribeTicker","SubscribeTrades","SubscribeBlockTrades","UnsubscribeBlockTrades","UnsubscribeLevel1","UnsubscribeLevel2","UnsubscribeTicker","UnsubscribeTrades","Authenticate"]},private:{get:["GetUserAccountInfos","GetUserAccounts","GetUserAffiliateCount","GetUserAffiliateTag","GetUserConfig","GetAllUnredactedUserConfigsForUser","GetUnredactedUserConfigByKey","GetUserDevices","GetUserReportTickets","GetUserReportWriterResultRecords","GetAccountInfo","GetAccountPositions","GetAllAccountConfigs","GetTreasuryProductsForAccount","GetAccountTrades","GetAccountTransactions","GetOpenTradeReports","GetAllOpenTradeReports","GetTradesHistory","GetOpenOrders","GetOpenQuotes","GetOrderFee","GetOrderHistory","GetOrdersHistory","GetOrderStatus","GetOmsFeeTiers","GetAccountDepositTransactions","GetAccountWithdrawTransactions","GetAllDepositRequestInfoTemplates","GetDepositInfo","GetDepositRequestInfoTemplate","GetDeposits","GetDepositTicket","GetDepositTickets","GetOMSWithdrawFees","GetWithdrawFee","GetWithdraws","GetWithdrawTemplate","GetWithdrawTemplateTypes","GetWithdrawTicket","GetWithdrawTickets"],post:["AddUserAffiliateTag","CancelUserReport","RegisterNewDevice","SubscribeAccountEvents","UpdateUserAffiliateTag","GenerateTradeActivityReport","GenerateTransactionActivityReport","GenerateTreasuryActivityReport","ScheduleTradeActivityReport","ScheduleTransactionActivityReport","ScheduleTreasuryActivityReport","CancelAllOrders","CancelOrder","CancelQuote","CancelReplaceOrder","CreateQuote","ModifyOrder","SendOrder","SubmitBlockTrade","UpdateQuote","CancelWithdraw","CreateDepositTicket","CreateWithdrawTicket","SubmitDepositTicketComment","SubmitWithdrawTicketComment","GetOrderHistoryByOrderId"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.0025}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},precisionMode:d,exceptions:{exact:{Not_Enough_Funds:n,"Server Error":r,"Resource Not Found":c},broad:{"Invalid InstrumentId":o,"This endpoint requires 2FACode along with the payload":a}},options:{omsId:1,orderTypes:{Market:1,Limit:2,StopMarket:3,StopLimit:4,TrailingStopMarket:5,TrailingStopLimit:6,BlockTrade:7}}})}async fetchCurrencies(e={}){const t=this.safeInteger(this.options,"omsId",1),i={omsId:t},s=await this.publicGetGetProducts(this.extend(i,e)),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"ProductId"),i=this.safeString(e,"ProductFullName"),n=this.safeString(e,"ProductType"),o=this.safeCurrencyCode(this.safeString(e,"Product")),c=this.safeNumber(e,"TickSize"),d=this.safeValue(e,"IsDisabled"),h=!d;r[o]={id:t,name:i,code:o,type:n,precision:c,info:e,active:h,fee:void 0,limits:this.limits}}return r}async fetchMarkets(e={}){const t=this.safeInteger(this.options,"omsId",1),i={omsId:t},s=await this.publicGetGetInstruments(this.extend(i,e)),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"InstrumentId"),i=this.safeString(e,"Product1"),n=this.safeString(e,"Product2"),o=this.safeCurrencyCode(this.safeString(e,"Product1Symbol")),c=this.safeCurrencyCode(this.safeString(e,"Product2Symbol")),d=o+"/"+c,h={amount:this.safeNumber(e,"QuantityIncrement"),price:this.safeNumber(e,"PriceIncrement")},u=this.safeString(e,"SessionStatus"),l=this.safeValue(e,"IsDisable"),f="Running"===u,p=!(!f||l);r.push({id:t,symbol:d,base:o,quote:c,baseId:i,quoteId:n,info:e,active:p,precision:h,limits:{amount:{min:this.safeNumber(e,"MinimumQuantity"),max:void 0},price:{min:this.safeNumber(e,"MinimumPrice"),max:void 0},cost:{min:void 0,max:void 0}}})}return r}parseOrderBook(e,t,i,s="bids",r="asks",a=6,n=8){let o=void 0;const c={symbol:t,bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let d=0;d<e.length;d++){const t=e[d];if(void 0===i)i=this.safeInteger(t,2);else{const e=this.safeInteger(t,2);i=Math.max(i,e)}if(void 0===o)o=this.safeInteger(t,0);else{const e=this.safeInteger(t,0);o=Math.max(o,e)}const h=this.parseBidAsk(t,a,n),u=this.safeInteger(t,9),l=u?r:s;c[l].push(h)}return c["bids"]=this.sortBy(c["bids"],0,!0),c["asks"]=this.sortBy(c["asks"],0),c["timestamp"]=i,c["datetime"]=this.iso8601(i),c["nonce"]=o,c}async fetchOrderBook(e,t,i={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const r=this.market(e);t=void 0===t?100:t;const a={omsId:s,InstrumentId:r["id"],Depth:t},n=await this.publicGetGetL2Snapshot(this.extend(a,i));return this.parseOrderBook(n,e)}parseTicker(e,t){const i=this.safeInteger(e,"TimeStamp"),s=this.safeString(e,"InstrumentId"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"LastTradedPx"),n=this.safeNumber(e,"Rolling24HrPxChangePercent"),o=this.safeNumber(e,"Rolling24HrPxChange"),c=this.safeNumber(e,"SessionOpen");let d=void 0;void 0!==a&&void 0!==o&&(d=this.sum(a,c)/2);const h=this.safeNumber(e,"Rolling24HrVolume"),u=this.safeNumber(e,"Rolling24HrNotional"),l=this.vwap(h,u);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"SessionHigh"),low:this.safeNumber(e,"SessionLow"),bid:this.safeNumber(e,"BestBid"),bidVolume:void 0,ask:this.safeNumber(e,"BestOffer"),askVolume:void 0,vwap:l,open:c,close:a,last:a,previousClose:void 0,change:o,percentage:n,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const s=this.market(e),r={omsId:i,InstrumentId:s["id"]},a=await this.publicGetGetLevel1(this.extend(r,t));return this.parseTicker(a,s)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,3),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){const a=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const n=this.market(e),o={omsId:a,InstrumentId:n["id"],Interval:this.timeframes[t]},c=this.parseTimeframe(t),d=this.milliseconds();void 0===i?void 0!==s&&(o["FromDate"]=this.ymdhms(d-c*s*1e3),o["ToDate"]=this.ymdhms(d)):(o["FromDate"]=this.ymdhms(i),o["ToDate"]=void 0===s?this.ymdhms(d):this.ymdhms(this.sum(i,c*s*1e3)));const h=await this.publicGetGetTickerHistory(this.extend(o,r));return this.parseOHLCVs(h,n,t,i,s)}parseTrade(e,t){let i=void 0,s=void 0,r=void 0,a=void 0,n=void 0,o=void 0,c=void 0,d=void 0,u=void 0,l=void 0,f=void 0;if(Array.isArray(e)){i=this.safeString(e,3),s=this.safeString(e,2),a=this.safeInteger(e,6),n=this.safeString(e,0),o=this.safeString(e,1);const t=this.safeValue(e,8);c=t?"sell":"buy",d=this.safeString(e,4)}else{a=this.safeInteger2(e,"TradeTimeMS","ReceiveTime"),n=this.safeString(e,"TradeId"),d=this.safeString2(e,"OrderId","OrigOrderId"),o=this.safeString2(e,"InstrumentId","Instrument"),i=this.safeString(e,"Price"),s=this.safeString(e,"Quantity"),r=this.safeNumber2(e,"Value","GrossValueExecuted"),u=this.safeStringLower(e,"MakerTaker"),c=this.safeStringLower(e,"Side"),f=this.safeStringLower(e,"OrderType");const t=this.safeNumber(e,"Fee");if(void 0!==t){const i=this.safeString(e,"FeeProductId"),s=this.safeCurrencyCode(i);l={cost:t,currency:s}}}const p=this.parseNumber(i),m=this.parseNumber(s);void 0===r&&(r=this.parseNumber(h.stringMul(i,s)));const g=this.safeSymbol(o,t);return{info:e,id:n,symbol:g,timestamp:a,datetime:this.iso8601(a),order:d,type:f,side:c,takerOrMaker:u,price:p,amount:m,cost:r,fee:l}}async fetchTrades(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const a=this.market(e),n={omsId:r,InstrumentId:a["id"]};void 0!==i&&(n["Count"]=i);const o=await this.publicGetGetLastTrades(this.extend(n,s));return this.parseTrades(o,a,t,i)}async fetchAccounts(e={}){const t=this.safeInteger(this.options,"omsId",1);this.checkRequiredCredentials();const i={omsId:t,UserId:this.uid,UserName:"igor@ccxt.trade"},s=await this.privateGetGetUserAccounts(this.extend(i,e)),r=[];for(let a=0;a<s.length;a++){const e=this.safeString(s,a);r.push({id:e,type:void 0,currency:void 0,info:e})}return r}async fetchBalance(e={}){const t=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const i=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),s=this.safeInteger2(e,"accountId","AccountId",i);e=this.omit(e,["accountId","AccountId"]);const r={omsId:t,AccountId:s},a=await this.privateGetGetAccountPositions(this.extend(r,e)),n={info:a,timestamp:void 0,datetime:void 0};for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"ProductId"),i=this.safeCurrencyCode(t),s=this.account();s["total"]=this.safeString(e,"Amount"),s["used"]=this.safeString(e,"Hold"),n[i]=s}return this.parseBalance(n,!1)}parseLedgerEntryType(e){const t={Trade:"trade",Deposit:"transaction",Withdraw:"transaction",Transfer:"transfer",OrderHold:"trade",WithdrawHold:"transaction",DepositHold:"transaction",MarginHold:"trade",ManualHold:"trade",ManualEntry:"trade",MarginAcquisition:"trade",MarginRelinquish:"trade",MarginQuoteHold:"trade"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"TransactionId"),s=this.safeString(e,"AccountId"),r=this.safeString(e,"ReferenceId"),a=this.safeString(e,"Counterparty"),n=this.parseLedgerEntryType(this.safeString(e,"ReferenceType")),o=this.safeString(e,"ProductId"),c=this.safeCurrencyCode(o,t),d=this.safeNumber(e,"CR"),h=this.safeNumber(e,"DR");let u=void 0,l=void 0;d>0?(u=d,l="in"):h>0&&(u=h,l="out");const f=this.safeInteger(e,"TimeStamp");let p=void 0;const m=this.safeNumber(e,"Balance");"out"===l?p=this.sum(m,u):"in"===l&&(p=Math.max(0,m-u));const g="ok";return{info:e,id:i,direction:l,account:s,referenceId:r,referenceAccount:a,type:n,currency:c,amount:u,before:p,after:m,status:g,timestamp:f,datetime:this.iso8601(f),fee:void 0}}async fetchLedger(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(s,"accountId","AccountId",a);s=this.omit(s,["accountId","AccountId"]);const o={omsId:r,AccountId:n};void 0!==i&&(o["Depth"]=i);const c=await this.privateGetGetAccountTransactions(this.extend(o,s));let d=void 0;return void 0!==e&&(d=this.currency(e)),this.parseLedger(c,d,t,i)}parseOrderStatus(e){const t={Accepted:"open",Rejected:"rejected",Working:"open",Canceled:"canceled",Expired:"expired",FullyExecuted:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString2(e,"ReplacementOrderId","OrderId"),s=this.safeInteger(e,"ReceiveTime"),r=this.safeInteger(e,"LastUpdatedTime"),a=this.safeString(e,"Instrument"),n=this.safeSymbol(a,t),o=this.safeStringLower(e,"Side"),c=this.safeStringLower(e,"OrderType"),d=this.safeString2(e,"ReplacementClOrdId","ClientOrderId");let h=this.safeNumber(e,"Price",0);h=h>0?h:void 0;const u=this.safeNumber(e,"OrigQuantity"),l=this.safeNumber(e,"QuantityExecuted"),f=this.safeNumber(e,"GrossValueExecuted");let p=this.safeNumber(e,"AvgPrice",0);p=p>0?p:void 0;let m=this.safeNumber(e,"StopPrice",0);m=m>0?m:void 0;const g=void 0,y=this.parseOrderStatus(this.safeString(e,"OrderState")),v=void 0,b=void 0;return this.safeOrder({id:i,clientOrderId:d,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:r,status:y,symbol:n,type:c,timeInForce:g,postOnly:void 0,side:o,price:h,stopPrice:m,cost:f,amount:u,filled:l,average:p,remaining:void 0,fee:v,trades:b})}async createOrder(e,t,i,s,r,a={}){const n=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const o=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),c=this.safeInteger2(a,"accountId","AccountId",o),d=this.safeInteger2(a,"ClientOrderId","clientOrderId");a=this.omit(a,["accountId","AccountId","clientOrderId","ClientOrderId"]);const h=this.market(e),u="buy"===i?0:1,l={InstrumentId:parseInt(h["id"]),omsId:n,AccountId:c,TimeInForce:1,Side:u,Quantity:parseFloat(this.amountToPrecision(e,s)),OrderType:this.safeInteger(this.options["orderTypes"],this.capitalize(t))};void 0!==r&&(l["LimitPrice"]=parseFloat(this.priceToPrecision(e,r))),void 0!==d&&(l["ClientOrderId"]=d);const f=await this.privatePostSendOrder(this.extend(l,a));return this.parseOrder(f,h)}async editOrder(e,t,i,s,r,a,n={}){const o=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const c=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),d=this.safeInteger2(n,"accountId","AccountId",c),h=this.safeInteger2(n,"ClientOrderId","clientOrderId");n=this.omit(n,["accountId","AccountId","clientOrderId","ClientOrderId"]);const u=this.market(t),l="buy"===s?0:1,f={OrderIdToReplace:parseInt(e),InstrumentId:parseInt(u["id"]),omsId:o,AccountId:d,TimeInForce:1,Side:l,Quantity:parseFloat(this.amountToPrecision(t,r)),OrderType:this.safeInteger(this.options["orderTypes"],this.capitalize(i))};void 0!==a&&(f["LimitPrice"]=parseFloat(this.priceToPrecision(t,a))),void 0!==h&&(f["ClientOrderId"]=h);const p=await this.privatePostCancelReplaceOrder(this.extend(f,n));return this.parseOrder(p,u)}async fetchMyTrades(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(s,"accountId","AccountId",a);s=this.omit(s,["accountId","AccountId"]);const o={omsId:r,AccountId:n};let c=void 0;void 0!==e&&(c=this.market(e),o["InstrumentId"]=c["id"]),void 0!==t&&(o["StartTimeStamp"]=parseInt(t/1e3)),void 0!==i&&(o["Depth"]=i);const d=await this.privateGetGetTradesHistory(this.extend(o,s));return this.parseTrades(d,c,t,i)}async cancelAllOrders(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const s=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),r=this.safeInteger2(t,"accountId","AccountId",s);t=this.omit(t,["accountId","AccountId"]);const a={omsId:i,AccountId:r};if(void 0!==e){const t=this.market(e);a["IntrumentId"]=t["id"]}const n=await this.privatePostCancelAllOrders(this.extend(a,t));return n}async cancelOrder(e,t,i={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();let r=void 0;void 0!==t&&(r=this.market(t));const a={omsId:s},n=this.safeInteger2(i,"clientOrderId","ClOrderId");void 0!==n?a["ClOrderId"]=n:a["OrderId"]=parseInt(e),i=this.omit(i,["clientOrderId","ClOrderId"]);const o=await this.privatePostCancelOrder(this.extend(a,i)),c=this.parseOrder(o,r);return this.extend(c,{id:e,clientOrderId:n})}async fetchOpenOrders(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(s,"accountId","AccountId",a);s=this.omit(s,["accountId","AccountId"]);let o=void 0;void 0!==e&&(o=this.market(e));const c={omsId:r,AccountId:n},d=await this.privateGetGetOpenOrders(this.extend(c,s));return this.parseOrders(d,o,t,i)}async fetchOrders(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(s,"accountId","AccountId",a);s=this.omit(s,["accountId","AccountId"]);const o={omsId:r,AccountId:n};let c=void 0;void 0!==e&&(c=this.market(e),o["InstrumentId"]=c["id"]),void 0!==t&&(o["StartTimeStamp"]=parseInt(t/1e3)),void 0!==i&&(o["Depth"]=i);const d=await this.privateGetGetOrdersHistory(this.extend(o,s));return this.parseOrders(d,c,t,i)}async fetchOrder(e,t,i={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const r=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(i,"accountId","AccountId",r);i=this.omit(i,["accountId","AccountId"]);let n=void 0;void 0!==t&&(n=this.market(t));const o={omsId:s,AccountId:a,OrderId:parseInt(e)},c=await this.privateGetGetOrderStatus(this.extend(o,i));return this.parseOrder(c,n)}async fetchOrderTrades(e,t,i,s,r={}){const a=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();let n=void 0;void 0!==t&&(n=this.market(t));const o={OMSId:parseInt(a),OrderId:parseInt(e)},c=await this.privatePostGetOrderHistoryByOrderId(this.extend(o,r)),d=this.groupBy(c,"ChangeReason"),h=this.safeValue(d,"Trade",[]);return this.parseTrades(h,n,i,s)}async fetchDepositAddress(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const s=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),r=this.safeInteger2(t,"accountId","AccountId",s);t=this.omit(t,["accountId","AccountId"]);const a=this.currency(e),n={omsId:i,AccountId:r,ProductId:a["id"],GenerateNewKey:!1},o=await this.privateGetGetDepositInfo(this.extend(n,t));return this.parseDepositAddress(o,a)}parseDepositAddress(e,t){const i=this.safeString(e,"DepositInfo"),s=JSON.parse(i),r=s.length,a=this.safeString(s,r-1),n=a.split("?memo="),o=this.safeString(n,0),c=this.safeString(n,1);let d=void 0;return void 0!==t&&(d=t["code"]),this.checkAddress(o),{currency:d,address:o,tag:c,info:e}}async createDepositAddress(e,t={}){const i={GenerateNewKey:!0};return await this.fetchDepositAddress(e,this.extend(i,t))}async fetchDeposits(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(s,"accountId","AccountId",a);s=this.omit(s,["accountId","AccountId"]);let o=void 0;void 0!==e&&(o=this.currency(e));const c={omsId:r,AccountId:n},d=await this.privateGetGetDeposits(this.extend(c,s));return this.parseTransactions(d,o,t,i)}async fetchWithdrawals(e,t,i,s={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(s,"accountId","AccountId",a);s=this.omit(s,["accountId","AccountId"]);let o=void 0;void 0!==e&&(o=this.currency(e));const c={omsId:r,AccountId:n},d=await this.privateGetGetWithdraws(this.extend(c,s));return this.parseTransactions(d,o,t,i)}parseTransactionStatusByType(e,t){const i={deposit:{New:"pending",AdminProcessing:"pending",Accepted:"pending",Rejected:"rejected",SystemProcessing:"pending",FullyProcessed:"ok",Failed:"failed",Pending:"pending",Confirmed:"pending",AmlProcessing:"pending",AmlAccepted:"pending",AmlRejected:"rejected",AmlFailed:"failed",LimitsAccepted:"pending",LimitsRejected:"rejected"},withdrawal:{New:"pending",AdminProcessing:"pending",Accepted:"pending",Rejected:"rejected",SystemProcessing:"pending",FullyProcessed:"ok",Failed:"failed",Pending:"pending",Pending2Fa:"pending",AutoAccepted:"pending",Delayed:"pending",UserCanceled:"canceled",AdminCanceled:"canceled",AmlProcessing:"pending",AmlAccepted:"pending",AmlRejected:"rejected",AmlFailed:"failed",LimitsAccepted:"pending",LimitsRejected:"rejected",Submitted:"pending",Confirmed:"pending",ManuallyConfirmed:"pending",Confirmed2Fa:"pending"}},s=this.safeValue(i,t,{});return this.safeString(s,e,e)}parseTransaction(e,t){const i=this.safeString(e,"DepositId");let s=void 0;const r=this.safeString(e,"ProductId"),a=this.safeCurrencyCode(r,t);let n=void 0,o=void 0;"DepositId"in e?o="deposit":"WithdrawId"in e&&(o="withdrawal");const c=this.safeString(e,"TemplateForm");let d=void 0,h=this.safeInteger(e,"LastUpdateTimeStamp");if(void 0!==c){const e=JSON.parse(c);d=this.safeString(e,"ExternalAddress"),s=this.safeString(e,"TxId"),n=this.safeInteger(e,"TimeSubmitted"),h=this.safeInteger(e,"LastUpdated",h)}const u=d,l=this.parseTransactionStatusByType(this.safeString(e,"TicketStatus"),o),f=this.safeNumber(e,"Amount"),p=this.safeNumber(e,"FeeAmount");let m=void 0;return void 0!==p&&(m={currency:a,cost:p}),{info:e,id:i,txid:s,timestamp:n,datetime:this.iso8601(n),address:d,addressTo:u,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:o,amount:f,currency:a,status:l,updated:h,fee:m}}async withdraw(e,t,i,s,a={}){if(void 0===this.twofa)throw new r(this.id+" withdraw() requires exchange.twofa credential for OATH codes");this.checkAddress(i);const n=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const o=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),c=this.safeInteger2(a,"accountId","AccountId",o);a=this.omit(a,["accountId","AccountId"]);const d=this.currency(e),h={omsId:n,AccountId:c,ProductId:d["id"]},u=await this.privateGetGetWithdrawTemplateTypes(h),l=this.safeValue(u,"TemplateTypes",[]),f=this.safeValue(l,0);if(void 0===f)throw new r(this.id+" withdraw() could not find a withdraw template type for "+d["code"]);const p=this.safeString(f,"TemplateName"),m={omsId:n,AccountId:c,ProductId:d["id"],TemplateType:p,AccountProviderId:f["AccountProviderId"]},g=await this.privateGetGetWithdrawTemplate(m),y=this.safeString(g,"Template");if(void 0===y)throw new r(this.id+" withdraw() could not find a withdraw template for "+d["code"]);const v=JSON.parse(y);v["ExternalAddress"]=i,void 0!==s&&"Memo"in v&&(v["Memo"]=s);const b={omsId:n,AccountId:c,ProductId:d["id"],TemplateForm:this.json(v),TemplateType:p},w={TfaType:"Google",TFaCode:this.oath(),Payload:this.json(b)},k=await this.privatePostCreateWithdrawTicket(this.deepExtend(w,a));return{info:k,id:this.safeString(k,"Id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,s=this.hmac(this.encode(t),this.encode(this.secret));r={Nonce:e,APIKey:this.apiKey,Signature:s,UserId:this.uid},"POST"===i?(r["Content-Type"]="application/json",a=this.json(o)):Object.keys(o).length&&(n+="?"+this.urlencode(o))}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,n,o,c,d,h){if(404===e)throw new a(this.id+" "+o);if(void 0===c)return;const u=this.safeString(c,"errormsg");if(void 0!==u&&""!==u){const e=this.id+" "+o;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],o,e),new r(e)}}}},"01ab":function(e,t,i){"use strict";const s=i("90db"),{ExchangeNotAvailable:r,ExchangeError:a,DDoSProtection:n,BadSymbol:o}=i("74b0"),c=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"whitebit",name:"WhiteBit",version:"v2",countries:["EE"],rateLimit:500,has:{cancelOrder:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchBalance:!1,fetchBidsAsks:!1,fetchCurrencies:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,privateAPI:!1,publicAPI:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/66732963-8eb7dd00-ee66-11e9-849b-10d9282bb9e0.jpg",api:{web:"https://whitebit.com/",publicV2:"https://whitebit.com/api/v2/public",publicV1:"https://whitebit.com/api/v1/public"},www:"https://www.whitebit.com",doc:"https://documenter.getpostman.com/view/7473075/Szzj8dgv?version=latest",fees:"https://whitebit.com/fee-schedule",referral:"https://whitebit.com/referral/d9bdf40e-28f2-4b52-b2f9-cd1415d82963"},api:{web:{get:["v1/healthcheck"]},publicV1:{get:["markets","tickers","ticker","symbols","depth/result","history","kline"]},publicV2:{get:["markets","ticker","assets","fee","depth/{market}","trades/{market}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},options:{fetchTradesMethod:"fetchTradesV1"},exceptions:{exact:{503:r},broad:{"Market is not available":o}}})}async fetchMarkets(e={}){const t=await this.publicV2GetMarkets(e),i=this.safeValue(t,"result"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"name"),a=this.safeString(e,"stock"),n=this.safeString(e,"money"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"tradesEnabled"),u={id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:h,precision:{amount:this.safeInteger(e,"stockPrec"),price:this.safeInteger(e,"moneyPrec")},limits:{amount:{min:this.safeNumber(e,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minTotal"),max:void 0}}};s.push(u)}return s}async fetchCurrencies(e={}){const t=await this.publicV2GetAssets(e),i=this.safeValue(t,"result"),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeValue(t,"canDeposit",!0),o=this.safeValue(t,"canWithdraw",!0),c=n&&o,d=this.safeCurrencyCode(e);r[d]={id:e,code:d,info:t,name:void 0,active:c,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(t,"minWithdrawal"),max:this.safeNumber(t,"maxWithdrawal")}}}}return r}async fetchTradingFees(e={}){const t=await this.publicV2GetFee(e),i=this.safeValue(t,"result");return{maker:this.safeNumber(i,"makerFee"),taker:this.safeNumber(i,"takerFee")}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicV1GetTicker(this.extend(s,t)),a=this.safeValue(r,"result",{});return this.parseTicker(a,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"at",this.milliseconds());e=this.safeValue(e,"ticker",e);let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last"),a=this.safeNumber(e,"change");let n=void 0;return void 0!==a&&(n=this.numberToString(.01*a)),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:r,last:r,previousClose:void 0,change:n,percentage:a,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"deal"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicV1GetTickers(t),s=this.safeValue(i,"result"),r=Object.keys(s),a={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeMarket(e),i=this.parseTicker(s[e],t),o=i["symbol"];a[o]=i}return this.filterByArray(a,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicV2GetDepthMarket(this.extend(r,i)),n=this.safeValue(a,"result",{}),o=this.parse8601(this.safeString(n,"lastUpdateTimestamp"));return this.parseOrderBook(n,e,o)}async fetchTradesV1(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"],lastId:1};void 0!==i&&(a["limit"]=i);const n=await this.publicV1GetHistory(this.extend(a,s)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,r,t,i)}async fetchTradesV2(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicV2GetTradesMarket(this.extend(a,s)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,r,t,i)}async fetchTrades(e,t,i,s={}){const r=this.safeString(this.options,"fetchTradesMethod","fetchTradesV2");return await this[r](e,t,i,s)}parseTrade(e,t){let i=this.safeValue(e,"time");i="string"===typeof i?this.parse8601(i):parseInt(1e3*i);const s=this.safeString(e,"price"),r=this.safeString2(e,"amount","volume"),a=this.parseNumber(c.stringMul(s,r)),n=this.parseNumber(s),o=this.parseNumber(r),d=this.safeString2(e,"id","tradeId");let h=this.safeString(e,"type");if(void 0===h){const t=this.safeValue(e,"isBuyerMaker");h=t?"buy":"sell"}let u=void 0;return void 0!==t&&(u=t["symbol"]),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:d,order:void 0,type:void 0,takerOrMaker:void 0,side:h,price:n,amount:o,cost:a,fee:void 0}}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={market:a["id"],interval:this.timeframes[t]};if(void 0!==i){const e=1440;void 0===s&&(s=e),s=Math.min(s,e);const r=parseInt(i/1e3),a=this.parseTimeframe(t),o=this.sum(r,a*s);n["start"]=r,n["end"]=o}void 0!==s&&(n["limit"]=s);const o=await this.publicV1GetKline(this.extend(n,r)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,a,t,i,s)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchStatus(e={}){const t=await this.webGetV1Healthcheck(e),i=this.safeInteger(t,"status");let s="ok";return 503===i&&(s="maintenance"),this.status=this.extend(this.status,{status:s,updated:this.milliseconds()}),this.status}sign(e,t="publicV1",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e));let o=this.urls["api"][t]+"/"+this.implodeParams(e,s);return Object.keys(n).length&&(o+="?"+this.urlencode(n)),{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,o,c,d,h){if(418===e||429===e)throw new n(this.id+" "+e.toString()+" "+t+" "+o);if(404===e)throw new a(this.id+" "+e.toString()+" endpoint not found");if(void 0!==c){const e=this.safeValue(c,"success");if(!e){const e=this.id+" "+o,t=this.safeString(c,"status");throw"string"===typeof t&&this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],o,e),new a(e)}}}}},"01b4":function(e,t,i){"use strict";const s=i("90db"),{BadSymbol:r,PermissionDenied:a,ExchangeError:n,ExchangeNotAvailable:o,OrderNotFound:c,InsufficientFunds:d,InvalidOrder:h,RequestTimeout:u,AuthenticationError:l}=i("74b0"),{TRUNCATE:f,DECIMAL_PLACES:p,TICK_SIZE:m}=i("5ea4"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"hitbtc",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"2",pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0,transfer:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",test:{public:"https://api.demo.hitbtc.com",private:"https://api.demo.hitbtc.com"},api:{public:"https://api.hitbtc.com",private:"https://api.hitbtc.com"},www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["currency","currency/{currency}","symbol","symbol/{symbol}","ticker","ticker/{symbol}","trades","trades/{symbol}","orderbook","orderbook/{symbol}","candles","candles/{symbol}"]},private:{get:["trading/balance","order","order/{clientOrderId}","trading/fee/all","trading/fee/{symbol}","margin/account","margin/account/{symbol}","margin/position","margin/position/{symbol}","margin/order","margin/order/{clientOrderId}","history/order","history/trades","history/order/{orderId}/trades","account/balance","account/crypto/address/{currency}","account/crypto/addresses/{currency}","account/crypto/used-addresses/{currency}","account/crypto/estimate-withdraw","account/crypto/is-mine/{address}","account/transactions","account/transactions/{id}","sub-acc","sub-acc/acl","sub-acc/balance/{subAccountUserID}","sub-acc/deposit-address/{subAccountUserId}/{currency}"],post:["order","margin/order","account/crypto/address/{currency}","account/crypto/withdraw","account/crypto/transfer-convert","account/transfer","account/transfer/internal","sub-acc/freeze","sub-acc/activate","sub-acc/transfer"],put:["order/{clientOrderId}","margin/account/{symbol}","margin/order/{clientOrderId}","account/crypto/withdraw/{id}","sub-acc/acl/{subAccountUserId}"],delete:["order","order/{clientOrderId}","margin/account","margin/account/{symbol}","margin/position","margin/position/{symbol}","margin/order","margin/order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},precisionMode:m,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002}},options:{defaultTimeInForce:"FOK",accountsByType:{bank:"bank",exchange:"exchange",main:"bank",trading:"exchange"},fetchBalanceMethod:{account:"account",main:"account",trading:"trading"}},commonCurrencies:{AUTO:"Cube",BCC:"BCC",BET:"DAO.Casino",BOX:"BOX Token",CPT:"Cryptaur",GET:"Themis",HSR:"HC",IQ:"IQ.Cash",LNC:"LinkerCoin",PLA:"PlayChip",PNT:"Penta",SBTC:"Super Bitcoin",STX:"Stox",TV:"Tokenville",USD:"USDT",XPNT:"PNT"},exceptions:{504:u,1002:l,1003:a,2010:h,2001:r,2011:h,2020:h,20002:c,20001:d}})}feeToPrecision(e,t){return this.decimalToPrecision(t,f,8,p)}async fetchMarkets(e={}){const t=await this.publicGetSymbol(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);let d=o+"/"+c;r.indexOf("_")>=0&&(d=r);const h=this.safeString(e,"quantityIncrement"),u=this.safeString(e,"tickSize"),l=this.parseNumber(h),f=this.parseNumber(u),p={price:f,amount:l},m=this.safeNumber(e,"takeLiquidityRate"),y=this.safeNumber(e,"provideLiquidityRate"),v=this.safeString(e,"feeCurrency"),b=this.safeCurrencyCode(v);i.push(this.extend(this.fees["trading"],{info:e,id:r,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:!0,taker:m,maker:y,precision:p,feeCurrency:b,limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:this.parseNumber(g.stringMul(h,u)),max:void 0}}}))}return i}async transfer(e,t,i,s,r={}){await this.loadMarkets();const a=this.currency(e),o=this.currencyToPrecision(e,t),c={currency:a["id"],amount:o};let d=this.safeString(r,"type");if(void 0===d){const e=this.safeValue(this.options,"accountsByType",{}),t=this.safeString(e,i),r=this.safeString(e,s),a=Object.keys(e);if(void 0===t)throw new n(this.id+" fromAccount must be one of "+a.join(", ")+" instead of "+t);if(void 0===r)throw new n(this.id+" toAccount must be one of "+a.join(", ")+" instead of "+r);if(t===r)throw new n(this.id+" from and to cannot be the same account");d=t+"To"+this.capitalize(r)}c["type"]=d;const h=await this.privatePostAccountTransfer(this.extend(c,r)),u=this.safeString(h,"id");return{info:h,id:u,timestamp:void 0,datetime:void 0,amount:o,currency:e,fromAccount:i,toAccount:s,status:void 0}}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeInteger(e,"precisionTransfer",8),n=1/Math.pow(10,a),o=this.safeCurrencyCode(r),c=this.safeValue(e,"payinEnabled"),d=this.safeValue(e,"payoutEnabled"),h=this.safeValue(e,"transferEnabled");let u=c&&d&&h;"disabled"in e&&e["disabled"]&&(u=!1);let l="fiat";"crypto"in e&&e["crypto"]&&(l="crypto");const f=this.safeString(e,"fullName");i[o]={id:r,code:o,type:l,payin:c,payout:d,transfer:h,info:e,name:f,active:u,fee:this.safeNumber(e,"payoutFee"),precision:n,limits:{amount:{min:1/Math.pow(10,a),max:Math.pow(10,a)},withdraw:{min:void 0,max:Math.pow(10,n)}}}}return i}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),s=this.extend({symbol:i["id"]},this.omit(t,"symbol")),r=await this.privateGetTradingFeeSymbol(s);return{info:r,maker:this.safeNumber(r,"provideLiquidityRate"),taker:this.safeNumber(r,"takeLiquidityRate")}}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","trading"),i=this.safeValue(this.options,"fetchBalanceMethod",{}),s=this.safeString(i,t);if(void 0===s)throw new n(this.id+" fetchBalance account type must be either main or trading");const r="privateGet"+this.capitalize(s)+"Balance",a=this.omit(e,"type"),o=await this[r](a),c={info:o,timestamp:void 0,datetime:void 0};for(let n=0;n<o.length;n++){const e=o[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),s=this.account();s["free"]=this.safeString(e,"available"),s["used"]=this.safeString(e,"reserved"),c[i]=s}return this.parseBalance(c,!1)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"max"),this.safeNumber(e,"min"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],period:this.timeframes[t]};void 0!==i&&(n["from"]=this.iso8601(i)),void 0!==s&&(n["limit"]=s);const o=await this.publicGetCandlesSymbol(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==t&&(s["limit"]=t);const r=await this.publicGetOrderbookSymbol(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"bid","ask","price","size")}parseTicker(e,t){const i=this.parse8601(e["timestamp"]);let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"volume"),a=this.safeNumber(e,"volumeQuote"),n=this.safeNumber(e,"open"),o=this.safeNumber(e,"last");let c=void 0,d=void 0,h=void 0;void 0!==o&&void 0!==n&&(c=o-n,h=this.sum(o,n)/2,n>0&&(d=c/n*100));const u=this.vwap(r,a);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:u,open:n,close:o,last:o,previousClose:void 0,change:c,percentage:d,average:h,baseVolume:r,quoteVolume:a,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=this.safeMarket(t),n=a["symbol"];s[n]=this.parseTicker(e,a)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTickerSymbol(this.extend(s,t));if("message"in r)throw new n(this.id+" "+r["message"]);return this.parseTicker(r,i)}parseTrade(e,t){const i=this.parse8601(e["timestamp"]),s=this.safeString(e,"symbol");t=this.safeMarket(s,t);const r=t["symbol"];let a=void 0;const n=this.safeNumber(e,"fee");if(void 0!==n){const e=t?t["feeCurrency"]:void 0;a={cost:n,currency:e}}const o=this.safeString(e,"clientOrderId"),c=this.safeString(e,"price"),d=this.safeString(e,"quantity"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(g.stringMul(c,d)),f=this.safeString(e,"side"),p=this.safeString(e,"id");return{info:e,id:p,order:o,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:f,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:a}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["asset"]=r["id"]),void 0!==t&&(a["startTime"]=t);const n=await this.privateGetAccountTransactions(this.extend(a,s));return this.parseTransactions(n,r,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"createdAt")),r=this.parse8601(this.safeString(e,"updatedAt")),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeNumber(e,"amount"),d=this.safeString(e,"address"),h=this.safeString(e,"hash");let u=void 0;const l=this.safeNumber(e,"fee");void 0!==l&&(u={cost:l,currency:n});const f=this.parseTransactionType(this.safeString(e,"type"));return{info:e,id:i,txid:h,timestamp:s,datetime:this.iso8601(s),address:d,tag:void 0,type:f,amount:c,currency:n,status:o,updated:r,fee:u}}parseTransactionStatus(e){const t={pending:"pending",failed:"failed",success:"ok"};return this.safeString(t,e,e)}parseTransactionType(e){const t={payin:"deposit",payout:"withdrawal",withdraw:"withdrawal"};return this.safeString(t,e,e)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit"]=i),void 0!==t&&(a["sort"]="ASC",a["from"]=this.iso8601(t));const n=await this.publicGetTradesSymbol(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=this.uuid(),c=o.split("-");let d=c.join("");d=d.slice(0,32),s=parseFloat(s);const u={clientOrderId:d,symbol:n["id"],side:i,quantity:this.amountToPrecision(e,s),type:t};"limit"===t?u["price"]=this.priceToPrecision(e,r):u["timeInForce"]=this.options["defaultTimeInForce"];const l=await this.privatePostOrder(this.extend(u,a)),f=this.parseOrder(l);if("rejected"===f["status"])throw new h(this.id+" order was rejected by the exchange "+this.json(f));return f}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o=this.uuid(),c=o.split("-");let d=c.join("");d=d.slice(0,32);const h={clientOrderId:e,requestClientId:d};void 0!==r&&(h["quantity"]=this.amountToPrecision(t,r)),void 0!==a&&(h["price"]=this.priceToPrecision(t,a));const u=await this.privatePatchOrderClientOrderId(this.extend(h,n));return this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={clientOrderId:e},r=await this.privateDeleteOrderClientOrderId(this.extend(s,i));return this.parseOrder(r)}parseOrderStatus(e){const t={new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"createdAt")),s=this.parse8601(this.safeString(e,"updatedAt")),r=this.safeString(e,"symbol");t=this.safeMarket(r,t);const a=t["symbol"],n=this.safeNumber(e,"quantity"),o=this.safeNumber(e,"cumQuantity"),c=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeString(e,"clientOrderId"),h=d,u=this.safeNumber(e,"price"),l=this.safeString(e,"type"),f=this.safeString(e,"side");let p=this.safeValue(e,"tradesReport");const m=void 0,g=this.safeNumber(e,"avgPrice");void 0!==p&&(p=this.parseTrades(p,t));const y=this.safeString(e,"timeInForce");return this.safeOrder({id:d,clientOrderId:h,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:s,status:c,symbol:a,type:l,timeInForce:y,side:f,price:u,stopPrice:void 0,average:g,amount:n,cost:void 0,filled:o,remaining:void 0,fee:m,trades:p,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={clientOrderId:e},r=await this.privateGetHistoryOrder(this.extend(s,i)),a=r.length;if(a>0)return this.parseOrder(r[0]);throw new c(this.id+" order "+e+" not found")}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const s={clientOrderId:e},r=await this.privateGetOrderClientOrderId(this.extend(s,i));return this.parseOrder(r)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["symbol"]=r["id"]);const n=await this.privateGetOrder(this.extend(a,s));return this.parseOrders(n,r,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["symbol"]=r["id"]),void 0!==i&&(a["limit"]=i),void 0!==t&&(a["from"]=this.iso8601(t));const n=await this.privateGetHistoryOrder(this.extend(a,s)),o=this.parseOrders(n,r),c=[];for(let d=0;d<o.length;d++){const e=o[d],t=e["status"];"closed"!==t&&"canceled"!==t||c.push(e)}return this.filterBySinceLimit(c,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["symbol"]=a["id"]),void 0!==t&&(r["from"]=this.iso8601(t)),void 0!==i&&(r["limit"]=i);const n=await this.privateGetHistoryTrades(this.extend(r,s));return this.parseTrades(n,a,t,i)}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={orderId:e},o=await this.privateGetHistoryOrderOrderIdTrades(this.extend(n,r)),d=o.length;if(d>0)return this.parseTrades(o,a,i,s);throw new c(this.id+" order "+e+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]')}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostAccountCryptoAddressCurrency(this.extend(s,t)),a=this.safeString(r,"address");this.checkAddress(a);const n=this.safeString(r,"paymentId");return{currency:i,address:a,tag:n,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetAccountCryptoAddressCurrency(this.extend(s,t)),a=this.safeString(r,"address");this.checkAddress(a);const n=this.safeString(r,"paymentId");return{currency:i["code"],address:a,tag:n,info:r}}async withdraw(e,t,i,s,r={}){await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={currency:a["id"],amount:parseFloat(t),address:i};s&&(n["paymentId"]=s);const o=await this.privatePostAccountCryptoWithdraw(this.extend(n,r));return{info:o,id:o["id"]}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/api/"+this.version+"/";const o=this.omit(s,this.extractParams(e));if("public"===t)n+=t+"/"+this.implodeParams(e,s),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),n+=this.implodeParams(e,s),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o));const t=this.encode(this.apiKey+":"+this.secret),c=this.stringToBase64(t);r={Authorization:"Basic "+this.decode(c),"Content-Type":"application/json"}}return n=this.urls["api"][t]+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,c,d,u){if(void 0!==c&&e>=400){const t=this.id+" "+a;if(503===e||504===e)throw new o(t);if(429===e)return;if("{"===a[0]&&"error"in c){const e=this.safeString(c["error"],"code");this.throwExactlyMatchedException(this.exceptions,e,t);const i=this.safeString(c["error"],"message");if("Duplicate clientOrderId"===i)throw new h(t)}throw new n(t)}}}},"02a7":function(e,t,i){"use strict";var s=i("f4c8"),r=i("b9b3").assert,a=i("b9b3"),{byteArrayToWordArray:n}=i("39f1");const o=s.enc.Utf8.parse(""),c=s.enc.Utf8.parse("\0");function d(e){if(!(this instanceof d))return new d(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.slice(3,6),this.minEntropy=e.minEntropy||192,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=e.entropy,i=e.nonce,s=[];r(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,s)}e.exports=d,d.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new s.lib.WordArray.init,this.V=new s.lib.WordArray.init;const a=16843009;this.V.words=Array(this.outLen/32).fill(a),this.V.sigBytes=32,this._update(r),this._reseed=1,this.reseedInterval=281474976710656},d.prototype._hmac=function(){return new s.lib.WordArray.init},d.prototype._update=function(e){var t=this._hmac();t.concat(this.V),t.concat(c),e&&t.concat(n(e)),this.K=s["Hmac"+this.hash](t,this.K),this.V=s["Hmac"+this.hash](this.V,this.K),e&&(t=this._hmac(),t.concat(this.V),t.concat(o),t.concat(n(e)),this.K=s["Hmac"+this.hash](t,this.K),this.V=s["Hmac"+this.hash](this.V,this.K))},d.prototype.reseed=function(e,t,i,s){"string"!==typeof t&&(i,i=t,t=null),r(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},d.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(i,i=t,t=null),i&&(i=s.enc.Utf8.parse(i),this._update(i));var n=new s.lib.WordArray.init;while(n.sigBytes<e)this.V=s["Hmac"+this.hash](this.V,this.K),n.concat(this.V);return this._update(i),this._reseed++,a.wordArrayToBuffer(n)}},"02cf":function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i("896c"),a=i("7e63"),n=i("f9ee"),o=i("abf9"),c=i("efc3"),d=i("7d18"),h=s(i("a4b3"));t.seedWithNonce=function(e,t){return{seed:a.Seed.toBinary(e).seed,nonce:t}},t.buildAddress=function(e,t){void 0===t&&(t=r.MAIN_NET_CHAIN_ID);var i=[1,"string"===typeof t?t.charCodeAt(0):t],s=n._hashChain(e).slice(0,20),a=c.concat(i,s),o=n._hashChain(a).slice(0,4);return c.concat(a,o)};var u=function(e,t){var i=[0,0,0,0];if(t&&t>0)for(var s=t,r=3;r>=0;r--)i[3-r]=Math.floor(s/Math.pow(2,8*r)),s%=Math.pow(2,8*r);var a=c.concat(i,e),o=n._hashChain(a);return n.sha256(o)};t.keyPair=function(e){var t=a.Seed.toBinary(e),i=t.seed,s=t.nonce,r=u(i,s),n=h.default.generateKeyPair(r);return{privateKey:n.private,publicKey:n.public}},t.address=function(e,i){return void 0===i&&(i=r.MAIN_NET_CHAIN_ID),d.isPublicKey(e)?t.buildAddress(o._fromIn(e.publicKey),i):t.address(t.keyPair(e),i)},t.publicKey=function(e){return d.isPrivateKey(e)?h.default.generateKeyPair(o._fromIn(e.privateKey)).public:t.keyPair(e).publicKey},t.privateKey=function(e){return t.keyPair(e).privateKey}},"02ff":function(e,t){function i(e,t){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=i},"0366":function(e,t,i){var s=i("1c0b");e.exports=function(e,t,i){if(s(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,s){return e.call(t,i,s)};case 3:return function(i,s,r){return e.call(t,i,s,r)}}return function(){return e.apply(t,arguments)}}},"0406":function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,PermissionDenied:n,ExchangeNotAvailable:o,OnMaintenance:c,InvalidOrder:d,OrderNotFound:h,InsufficientFunds:u,ArgumentsRequired:l,BadSymbol:f,BadRequest:p,RequestTimeout:m,NetworkError:g}=i("74b0"),{TRUNCATE:y}=i("5ea4"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"huobipro",name:"Huobi Pro",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents["chrome39"],version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{test:{market:"https://api.testnet.huobi.pro",public:"https://api.testnet.huobi.pro",private:"https://api.testnet.huobi.pro"},logo:"https://user-images.githubusercontent.com/1294454/76137448-22748a80-604e-11ea-8069-6e389271911d.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}",v2Public:"https://{hostname}",v2Private:"https://{hostname}"},www:"https://www.huobi.com",referral:"https://www.huobi.com/en-us/topic/invited/?invite_code=rwrd3",doc:["https://huobiapi.github.io/docs/spot/v1/cn/","https://huobiapi.github.io/docs/dm/v1/cn/","https://huobiapi.github.io/docs/coin_margined_swap/v1/cn/","https://huobiapi.github.io/docs/usdt_swap/v1/cn/","https://huobiapi.github.io/docs/option/v1/cn/"],fees:"https://www.huobi.com/about/fee/"},api:{v2Public:{get:["reference/currencies","market-status"]},v2Private:{get:["account/ledger","account/withdraw/quota","account/withdraw/address","account/deposit/address","account/repayment","reference/transact-fee-rate","account/asset-valuation","point/account","sub-user/user-list","sub-user/user-state","sub-user/account-list","sub-user/deposit-address","sub-user/query-deposit","user/api-key","user/uid","algo-orders/opening","algo-orders/history","algo-orders/specific","c2c/offers","c2c/offer","c2c/transactions","c2c/repayment","c2c/account","etp/reference","etp/transactions","etp/transaction","etp/rebalance","etp/limit"],post:["account/transfer","account/repayment","point/transfer","sub-user/management","sub-user/creation","sub-user/tradable-market","sub-user/transferability","sub-user/api-key-generation","sub-user/api-key-modification","sub-user/api-key-deletion","sub-user/deduct-mode","algo-orders","algo-orders/cancel-all-after","algo-orders/cancellation","c2c/offer","c2c/cancellation","c2c/cancel-all","c2c/repayment","c2c/transfer","etp/creation","etp/redemption","etp/{transactId}/cancel","etp/batch-cancel"]},market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail","tickers","etp"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","account/accounts/{sub-uid}","account/history","cross-margin/loan-info","margin/loan-info","fee/fee-rate/get","order/openOrders","order/orders","order/orders/{id}","order/orders/{id}/matchresults","order/orders/getClientOrder","order/history","order/matchresults","dw/withdraw-virtual/addresses","query/deposit-withdraw","margin/loan-info","margin/loan-orders","margin/accounts/balance","cross-margin/loan-orders","cross-margin/accounts/balance","points/actions","points/orders","subuser/aggregate-balance","stable-coin/exchange_rate","stable-coin/quote"],post:["account/transfer","futures/transfer","order/batch-orders","order/orders/place","order/orders/submitCancelClientOrder","order/orders/batchCancelOpenOrders","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay","cross-margin/transfer-in","cross-margin/transfer-out","cross-margin/orders","cross-margin/orders/{id}/repay","stable-coin/exchange","subuser/transfer"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{broad:{"contract is restricted of closing positions on API.  Please contact customer service":c,maintain:c},exact:{"bad-request":p,"base-date-limit-error":p,"api-not-support-temp-addr":n,timeout:m,"gateway-internal-error":o,"account-frozen-balance-insufficient-error":u,"invalid-amount":d,"order-limitorder-amount-min-error":d,"order-limitorder-amount-max-error":d,"order-marketorder-amount-min-error":d,"order-limitorder-price-min-error":d,"order-limitorder-price-max-error":d,"order-holding-limit-failed":d,"order-orderprice-precision-error":d,"order-etp-nav-price-max-error":d,"order-orderstate-error":h,"order-queryorder-invalid":h,"order-update-error":o,"api-signature-check-failed":r,"api-signature-not-valid":r,"base-record-invalid":h,"base-symbol-trade-disabled":f,"base-symbol-error":f,"system-maintenance":c,"invalid symbol":f,"symbol trade not open now":f}},options:{fetchOrdersByStatesMethod:"private_get_order_orders",fetchOpenOrdersMethod:"fetch_open_orders_v1",createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"},commonCurrencies:{GET:"Themis",GTC:"Game.com",HIT:"HitChain",HOT:"Hydro Protocol",PNT:"Penta",SBTC:"Super Bitcoin",BIFI:"Bitcoin File"}})}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let s=0;s<e.length;s++){const r=e[s];i[r]=await this.fetchTradingLimitsById(this.marketId(r),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},s=await this.publicGetCommonExchange(this.extend(i,t));return this.parseTradingLimits(this.safeValue(s,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,limits:{amount:{min:this.safeNumber(e,"limit-order-must-greater-than"),max:this.safeNumber(e,"limit-order-must-less-than")}}}}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e]["precision"]["cost"],this.precisionMode)}async fetchMarkets(e={}){const t=this.options["fetchMarketsMethod"],i=await this[t](e),s=this.safeValue(i,"data"),r=s.length;if(r<1)throw new g(this.id+" publicGetCommonSymbols returned empty response: "+this.json(s));const a=[];for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"base-currency"),i=this.safeString(e,"quote-currency"),r=t+i,o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(i),d=o+"/"+c,h={amount:this.safeInteger(e,"amount-precision"),price:this.safeInteger(e,"price-precision"),cost:this.safeInteger(e,"value-precision")},u="OMG"===o?0:.002,l="OMG"===o?0:.002,f=this.safeNumber(e,"min-order-amt",Math.pow(10,-h["amount"])),p=this.safeNumber(e,"max-order-amt"),m=this.safeNumber(e,"min-order-value",0),g=this.safeString(e,"state"),y="online"===g;a.push({id:r,symbol:d,base:o,quote:c,baseId:t,quoteId:i,active:y,precision:h,taker:l,maker:u,limits:{amount:{min:f,max:p},price:{min:Math.pow(10,-h["price"]),max:void 0},cost:{min:m,max:void 0}},info:e})}return a}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const s=this.safeInteger(e,"ts");let r=void 0,a=void 0,n=void 0,o=void 0;"bid"in e&&(Array.isArray(e["bid"])?(r=this.safeNumber(e["bid"],0),a=this.safeNumber(e["bid"],1)):(r=this.safeNumber(e,"bid"),a=this.safeValue(e,"bidSize"))),"ask"in e&&(Array.isArray(e["ask"])?(n=this.safeNumber(e["ask"],0),o=this.safeNumber(e["ask"],1)):(n=this.safeNumber(e,"ask"),o=this.safeValue(e,"askSize")));const c=this.safeNumber(e,"open"),d=this.safeNumber(e,"close");let h=void 0,u=void 0,l=void 0;void 0!==c&&void 0!==d&&(h=d-c,l=this.sum(c,d)/2,void 0!==d&&d>0&&(u=h/c*100));const f=this.safeNumber(e,"amount"),p=this.safeNumber(e,"vol"),m=this.vwap(f,p);return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:r,bidVolume:a,ask:n,askVolume:o,vwap:m,open:c,close:d,last:d,previousClose:void 0,change:h,percentage:u,average:l,baseVolume:f,quoteVolume:p,info:e}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"],type:"step0"},n=await this.marketGetDepth(this.extend(r,i));if("tick"in n){if(!n["tick"])throw new f(this.id+" fetchOrderBook() returned empty response: "+this.json(n));const t=this.safeValue(n,"tick"),i=this.safeInteger(t,"ts",this.safeInteger(n,"ts")),s=this.parseOrderBook(t,e,i);return s["nonce"]=this.safeInteger(t,"version"),s}throw new a(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(n))}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.marketGetDetailMerged(this.extend(s,t)),a=this.parseTicker(r["tick"],i),n=this.safeInteger(r,"ts");return a["timestamp"]=n,a["datetime"]=this.iso8601(n),a}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t),s=this.safeValue(i,"data"),r=this.safeInteger(i,"ts"),a={};for(let n=0;n<s.length;n++){const e=this.safeString(s[n],"symbol"),t=this.safeMarket(e),i=t["symbol"],o=this.parseTicker(s[n],t);o["timestamp"]=r,o["datetime"]=this.iso8601(r),a[i]=o}return this.filterByArray(a,"symbol",e)}parseTrade(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),r=this.safeInteger2(e,"ts","created-at"),a=this.safeString(e,"order-id");let n=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){const e=o.split("-");n=e[0],o=e[1]}const c=this.safeString(e,"role"),d=this.safeString(e,"price"),h=this.safeString2(e,"filled-amount","amount"),u=this.parseNumber(d),l=this.parseNumber(h),f=this.parseNumber(v.stringMul(d,h));let p=void 0,m=this.safeNumber(e,"filled-fees"),g=this.safeCurrencyCode(this.safeString(e,"fee-currency"));const y=this.safeNumber(e,"filled-points");void 0!==y&&(void 0!==m&&0!==m||(m=y,g=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==m&&(p={cost:m,currency:g});const b=this.safeString2(e,"trade-id","tradeId"),w=this.safeString(e,"id",b);return{id:w,info:e,order:a,timestamp:r,datetime:this.iso8601(r),symbol:s,type:o,side:n,takerOrMaker:c,price:u,amount:l,cost:f,fee:p}}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a={id:e},n=await this.privateGetOrderOrdersIdMatchresults(this.extend(a,r));return this.parseTrades(n["data"],void 0,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["symbol"]=r["id"]),void 0!==i&&(a["size"]=i),void 0!==t&&(a["start-date"]=this.ymd(t),a["end-date"]=this.ymd(this.sum(t,864e5)));const n=await this.privateGetOrderMatchresults(this.extend(a,s));return this.parseTrades(n["data"],r,t,i)}async fetchTrades(e,t,i=1e3,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["size"]=i);const n=await this.marketGetHistoryTrade(this.extend(a,s)),o=this.safeValue(n,"data");let c=[];for(let d=0;d<o.length;d++){const e=this.safeValue(o[d],"data",[]);for(let t=0;t<e.length;t++){const i=this.parseTrade(e[t],r);c.push(i)}}return c=this.sortBy(c,"timestamp"),this.filterBySymbolSinceLimit(c,e,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,s=1e3,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],period:this.timeframes[t]};void 0!==s&&(n["size"]=s);const o=await this.marketGetHistoryKline(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchAccounts(e={}){await this.loadMarkets();const t=await this.privateGetAccountAccounts(e);return t["data"]}async fetchCurrencies(e={}){const t={language:this.options["language"]},i=await this.publicGetSettingsCurrencys(this.extend(t,e)),s=this.safeValue(i,"data"),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeValue(e,"name"),i=this.safeInteger(e,"withdraw-precision"),n=this.safeCurrencyCode(t),o=e["visible"]&&e["deposit-enabled"]&&e["withdraw-enabled"],c=this.safeString(e,"display-name");r[n]={id:t,code:n,type:"crypto",name:c,active:o,fee:void 0,precision:i,limits:{amount:{min:Math.pow(10,-i),max:Math.pow(10,i)},deposit:{min:this.safeNumber(e,"deposit-min-amount"),max:Math.pow(10,i)},withdraw:{min:this.safeNumber(e,"withdraw-min-amount"),max:Math.pow(10,i)}},info:e}}return r}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.options["fetchBalanceMethod"],i={id:this.accounts[0]["id"]},s=await this[t](this.extend(i,e)),r=this.safeValue(s["data"],"list",[]),a={info:s};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t);let s=void 0;s=i in a?a[i]:this.account(),"trade"===e["type"]&&(s["free"]=this.safeString(e,"balance")),"frozen"===e["type"]&&(s["used"]=this.safeString(e,"balance")),a[i]=s}return this.parseBalance(a,!1)}async fetchOrdersByStates(e,t,i,s,r={}){await this.loadMarkets();const a={states:e};let n=void 0;void 0!==t&&(n=this.market(t),a["symbol"]=n["id"]);const o=this.safeString(this.options,"fetchOrdersByStatesMethod","private_get_order_orders"),c=await this[o](this.extend(a,r));return this.parseOrders(c["data"],n,i,s)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrderOrdersId(this.extend(s,i)),a=this.safeValue(r,"data");return this.parseOrder(a)}async fetchOrders(e,t,i,s={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,i,s)}async fetchOpenOrders(e,t,i,s={}){const r=this.safeString(this.options,"fetchOpenOrdersMethod","fetch_open_orders_v1");return await this[r](e,t,i,s)}async fetchOpenOrdersV1(e,t,i,s={}){if(void 0===e)throw new l(this.id+" fetchOpenOrdersV1() requires a symbol argument");return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,i,s)}async fetchOpenOrdersV2(e,t,i,s={}){if(await this.loadMarkets(),void 0===e)throw new l(this.id+" fetchOpenOrders() requires a symbol argument");const r=this.market(e);let a=this.safeString(s,"account-id");if(void 0===a){await this.loadAccounts();for(let e=0;e<this.accounts.length;e++){const t=this.accounts[e];if("spot"===t["type"]&&(a=this.safeString(t,"id"),void 0!==a))break}}const n={symbol:r["id"],"account-id":a};void 0!==i&&(n["size"]=i);const o=this.omit(s,"account-id"),c=await this.privateGetOrderOpenOrders(this.extend(n,o)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,r,t,i)}parseOrderStatus(e){const t={"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let s=void 0,r=void 0,a=void 0;if("type"in e){const t=e["type"].split("-");s=t[0],r=t[1],a=this.parseOrderStatus(this.safeString(e,"state"))}const n=this.safeString(e,"symbol"),o=this.safeSymbol(n,t),c=this.safeInteger(e,"created-at"),d=this.safeNumber(e,"amount"),h=this.safeNumber2(e,"filled-amount","field-amount");let u=this.safeNumber(e,"price");0===u&&(u=void 0);const l=this.safeNumber2(e,"filled-cash-amount","field-cash-amount"),f=this.safeNumber2(e,"filled-fees","field-fees");let p=void 0;if(void 0!==f){let e=void 0;void 0!==t&&(e="sell"===s?t["quote"]:t["base"]),p={cost:f,currency:e}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:r,timeInForce:void 0,postOnly:void 0,side:s,price:u,stopPrice:void 0,average:void 0,cost:l,amount:d,filled:h,remaining:void 0,status:a,fee:p,trades:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o={"account-id":this.accounts[0]["id"],symbol:n["id"],type:i+"-"+t},c=this.safeString2(a,"clientOrderId","client-order-id");if(void 0!==c&&(o["client-order-id"]=c),a=this.omit(a,["clientOrderId","client-order-id"]),"market"===t&&"buy"===i)if(this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===r)throw new d(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");o["amount"]=this.costToPrecision(e,parseFloat(s)*parseFloat(r))}else o["amount"]=this.costToPrecision(e,s);else o["amount"]=this.amountToPrecision(e,s);"limit"!==t&&"ioc"!==t&&"limit-maker"!==t||(o["price"]=this.priceToPrecision(e,r));const h=this.options["createOrderMethod"],u=await this[h](this.extend(o,a)),l=this.milliseconds(),f=this.safeString(u,"data");return{info:u,id:f,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:r,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){const s=await this.privatePostOrderOrdersIdSubmitcancel({id:e});return this.extend(this.parseOrder(s),{id:e,status:"canceled"})}async cancelOrders(e,t,i={}){await this.loadMarkets();const s=this.safeValue2(i,"clientOrderIds","client-order-ids");i=this.omit(i,["clientOrderIds","client-order-ids"]);const r={};void 0===s?r["order-ids"]=e:r["client-order-ids"]=s;const a=await this.privatePostOrderOrdersBatchcancel(this.extend(r,i));return a}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;void 0!==e&&(s=this.market(e),i["symbol"]=s["id"]);const r=await this.privatePostOrderOrdersBatchCancelOpenOrders(this.extend(i,t));return r}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e]["precision"])}parseDepositAddress(e,t){const i=this.safeString(e,"address"),s=this.safeString(e,"addressTag"),r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r);return this.checkAddress(i),{currency:a,address:i,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.v2PrivateGetAccountDepositAddress(this.extend(s,t)),a=this.safeValue(r,"data",[]);return this.parseDepositAddress(this.safeValue(a,0,{}),i)}async fetchDeposits(e,t,i,s={}){(void 0===i||i>100)&&(i=100),await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a={type:"deposit",from:0};void 0!==r&&(a["currency"]=r["id"]),void 0!==i&&(a["size"]=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,s));return this.parseTransactions(n["data"],r,t,i)}async fetchWithdrawals(e,t,i,s={}){(void 0===i||i>100)&&(i=100),await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a={type:"withdraw",from:0};void 0!==r&&(a["currency"]=r["id"]),void 0!==i&&(a["size"]=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,s));return this.parseTransactions(n["data"],r,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"created-at"),s=this.safeInteger(e,"updated-at"),r=this.safeCurrencyCode(this.safeString(e,"currency"));let a=this.safeString(e,"type");"withdraw"===a&&(a="withdrawal");const n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag");let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:o,type:a,amount:this.safeNumber(e,"amount"),currency:r,status:n,updated:s,fee:{currency:r,cost:c,rate:void 0}}}parseTransactionStatus(e){const t={unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"};return this.safeString(t,e,e)}async withdraw(e,t,i,s,r={}){await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={address:i,amount:t,currency:a["id"].toLowerCase()};void 0!==s&&(n["addr-tag"]=s);const o=await this.privatePostDwWithdrawApiCreate(this.extend(n,r)),c=this.safeString(o,"data");return{info:o,id:c}}sign(e,t="public",i="GET",s={},r,a){let n="/";"market"===t?n+=t:"public"===t||"private"===t?n+=this.version:"v2Public"!==t&&"v2Private"!==t||(n+="v2"),n+="/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("private"===t||"v2Private"===t){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let s=this.urlencode(t);const c=[i,this.hostname,n,s].join("\n"),d=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");s+="&"+this.urlencode({Signature:d}),n+="?"+s,"POST"===i?(a=this.json(o),r={"Content-Type":"application/json"}):r={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(s).length&&(n+="?"+this.urlencode(s));return n=this.implodeParams(this.urls["api"][t],{hostname:this.hostname})+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0!==o&&"status"in o){const e=this.safeString(o,"status");if("error"===e){const e=this.safeString(o,"err-code"),t=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions["broad"],n,t),this.throwExactlyMatchedException(this.exceptions["exact"],e,t);const i=this.safeString(o,"err-msg");throw this.throwExactlyMatchedException(this.exceptions["exact"],i,t),new a(t)}}}}},"0481":function(e,t,i){"use strict";var s=i("23e7"),r=i("a2bf"),a=i("7b0b"),n=i("50c4"),o=i("a691"),c=i("65f0");s({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),i=n(t.length),s=c(t,0);return s.length=r(s,t,t,i,0,void 0===e?1:o(e)),s}})},"04d1":function(e,t,i){var s=i("342f"),r=s.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},"0538":function(e,t,i){"use strict";var s=i("1c0b"),r=i("861d"),a=[].slice,n={},o=function(e,t,i){if(!(t in n)){for(var s=[],r=0;r<t;r++)s[r]="a["+r+"]";n[t]=Function("C,a","return new C("+s.join(",")+")")}return n[t](e,i)};e.exports=Function.bind||function(e){var t=s(this),i=a.call(arguments,1),n=function(){var s=i.concat(a.call(arguments));return this instanceof n?o(t,s.length,s):t.apply(e,s)};return r(t.prototype)&&(n.prototype=t.prototype),n}},"057f":function(e,t,i){var s=i("fc6a"),r=i("241c").f,a={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return r(e)}catch(t){return n.slice()}};e.exports.f=function(e){return n&&"[object Window]"==a.call(e)?o(e):r(s(e))}},"0633":function(e,t,i){(function(t){var i={};e.exports=i;var s={};function r(e,t){var i=0,s=t.length,r=t.charAt(0),a=[0];for(i=0;i<e.length();++i){for(var n=0,o=e.at(i);n<a.length;++n)o+=a[n]<<8,a[n]=o%s,o=o/s|0;while(o>0)a.push(o%s),o=o/s|0}var c="";for(i=0;0===e.at(i)&&i<e.length()-1;++i)c+=r;for(i=a.length-1;i>=0;--i)c+=t[a[i]];return c}i.encode=function(e,t,i){if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==i&&"number"!==typeof i)throw new TypeError('"maxline" must be a number.');var s="";if(e instanceof Uint8Array){var a=0,n=t.length,o=t.charAt(0),c=[0];for(a=0;a<e.length;++a){for(var d=0,h=e[a];d<c.length;++d)h+=c[d]<<8,c[d]=h%n,h=h/n|0;while(h>0)c.push(h%n),h=h/n|0}for(a=0;0===e[a]&&a<e.length-1;++a)s+=o;for(a=c.length-1;a>=0;--a)s+=t[c[a]]}else s=r(e,t);if(i){var u=new RegExp(".{1,"+i+"}","g");s=s.match(u).join("\r\n")}return s},i.decode=function(e,i){if("string"!==typeof e)throw new TypeError('"input" must be a string.');if("string"!==typeof i)throw new TypeError('"alphabet" must be a string.');var r=s[i];if(!r){r=s[i]=[];for(var a=0;a<i.length;++a)r[i.charCodeAt(a)]=a}e=e.replace(/\s/g,"");var n=i.length,o=i.charAt(0),c=[0];for(a=0;a<e.length;a++){var d=r[e.charCodeAt(a)];if(void 0===d)return;for(var h=0,u=d;h<c.length;++h)u+=c[h]*n,c[h]=255&u,u>>=8;while(u>0)c.push(255&u),u>>=8}for(var l=0;e[l]===o&&l<e.length-1;++l)c.push(0);return"undefined"!==typeof t?t.from(c.reverse()):new Uint8Array(c.reverse())}}).call(this,i("b639").Buffer)},"0697":function(e,t,i){"use strict";var s=i("b92f"),r=i("b9b3"),a=r.assert,n=r.parseBytes,o=i("4001"),c=i("a7b5");const d=i("74d2"),{byteArrayToWordArray:h}=i("39f1"),u=i("f4c8");function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);var t=s[e].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8)}e.exports=l,l.prototype.sign=function(e,t){e=n(e);var i=this.keyFromSecret(t),s=this.hashInt(i.secret(),e),r=this.g.mul(s),a=this.encodePoint(r),o=this.hashInt(a,i.pubBytes(),e);o=o.mul(i.priv());var c=s.add(o).umod(this.curve.n);return this.makeSignature({R:r,S:c,Rencoded:a})},l.prototype.signModified=function(e,t){e=n(e);var i=this.keyFromSecret(t);const s=new d(i.secret(),16,"le"),r=this.encodePoint(this.g.mul(s)),a=128&r[31];var o=this.hashInt(i.secret(),e),c=this.g.mul(o),h=this.encodePoint(c);let u=this.hashInt(h,r,e);u=u.mul(s);var l=o.add(u).umod(this.curve.n),f=l.toArray("le");return f[31]|=a,this.makeSignature({R:c,S:l,Rencoded:h,Sencoded:f})},l.prototype.verify=function(e,t,i){e=n(e),t=this.makeSignature(t);var s=this.keyFromPublic(i),r=this.hashInt(t.Rencoded(),s.pubBytes(),e),a=this.g.mul(t.S()),o=t.R().add(s.pub().mul(r));return o.eq(a)},l.prototype.hashInt=function(){let e=Array.from(arguments).reduce((e,t)=>e.concat(t));e=h(e);const t=u["SHA512"](e).toString(u.enc.Hex);return r.intFromLE(t).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return o.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return o.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){e=r.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(-129&e[t]),s=0!==(128&e[t]),a=r.intFromLE(i);return this.curve.pointFromY(a,s)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return r.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},"06c5":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("fb6a"),i("d3b7"),i("b0c0"),i("a630"),i("3ca3");var s=i("6b75");function r(e,t){if(e){if("string"===typeof e)return Object(s["a"])(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(s["a"])(e,t):void 0}}},"06cf":function(e,t,i){var s=i("83ab"),r=i("d1e7"),a=i("5c6c"),n=i("fc6a"),o=i("c04e"),c=i("5135"),d=i("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=s?h:function(e,t){if(e=n(e),t=o(t,!0),d)try{return h(e,t)}catch(i){}if(c(e,t))return a(!r.f.call(e,t),e[t])}},"0760":function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}var r;Object.defineProperty(t,"__esModule",{value:!0});var a=i("a681"),n=i("e6f8");t.seedWordsList=n.seedWordsList;var o=i("2d6e");t.ChaidId=o.ChaidId;var c=i("7e63");t.Seed=c.Seed;var d=i("7d18");t.isPrivateKey=d.isPrivateKey,t.isPublicKey=d.isPublicKey;var h=i("a681");t.crypto=h.crypto,s(i("896c")),t.signBytes=(r=a.crypto({output:"Base58"}),r.signBytes),t.keyPair=r.keyPair,t.publicKey=r.publicKey,t.privateKey=r.privateKey,t.address=r.address,t.buildAddress=r.buildAddress,t.blake2b=r.blake2b,t.keccak=r.keccak,t.sha256=r.sha256,t.sharedKey=r.sharedKey,t.seedWithNonce=r.seedWithNonce,t.base64Encode=r.base64Encode,t.base64Decode=r.base64Decode,t.base58Encode=r.base58Encode,t.base58Decode=r.base58Decode,t.base16Encode=r.base16Encode,t.base16Decode=r.base16Decode,t.stringToBytes=r.stringToBytes,t.bytesToString=r.bytesToString,t.random=r.random,t.randomSeed=r.randomSeed,t.randomBytes=r.randomBytes,t.verifySignature=r.verifySignature,t.verifyPublicKey=r.verifyPublicKey,t.verifyAddress=r.verifyAddress,t.messageDecrypt=r.messageDecrypt,t.messageEncrypt=r.messageEncrypt,t.aesDecrypt=r.aesDecrypt,t.aesEncrypt=r.aesEncrypt,t.encryptSeed=r.encryptSeed,t.decryptSeed=r.decryptSeed,t.rsaKeyPair=r.rsaKeyPair,t.rsaKeyPairSync=r.rsaKeyPairSync,t.rsaSign=r.rsaSign,t.rsaVerify=r.rsaVerify,t.merkleVerify=r.merkleVerify,t.split=r.split,t.concat=r.concat},"0789":function(e,t,i){"use strict";i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return u})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return f}));i("99af");var s=i("d9f7");function r(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];return(e=Array()).concat.apply(e,[t].concat(s))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",i=arguments.length>2?arguments[2]:void 0;return{name:e,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:i},origin:{type:String,default:t}},render:function(t,i){var a="transition".concat(i.props.group?"-group":""),n={props:{name:e,mode:i.props.mode},on:{beforeEnter:function(e){e.style.transformOrigin=i.props.origin,e.style.webkitTransformOrigin=i.props.origin}}};return i.props.leaveAbsolute&&(n.on.leave=r(n.on.leave,(function(e){var t=e.offsetTop,i=e.offsetLeft,s=e.offsetWidth,r=e.offsetHeight;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=t+"px",e.style.left=i+"px",e.style.width=s+"px",e.style.height=r+"px"})),n.on.afterLeave=r(n.on.afterLeave,(function(e){if(e&&e._transitionInitialStyles){var t=e._transitionInitialStyles,i=t.position,s=t.top,r=t.left,a=t.width,n=t.height;delete e._transitionInitialStyles,e.style.position=i||"",e.style.top=s||"",e.style.left=r||"",e.style.width=a||"",e.style.height=n||""}}))),i.props.hideOnLeave&&(n.on.leave=r(n.on.leave,(function(e){e._initialDisplay=e.style.display,e.style.display="none"})),n.on.afterLeave=r(n.on.afterLeave,(function(e){e&&(e.style.display=e._initialDisplay||"")}))),t(a,Object(s["a"])(i.data,n),i.children)}}}function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return{name:e,functional:!0,props:{mode:{type:String,default:i}},render:function(i,r){return i("transition",Object(s["a"])(r.data,{props:{name:e},on:t}),r.children)}}}var o=i("ade3"),c=i("80d2"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?"width":"height",s="offset".concat(Object(c["D"])(i));return{beforeEnter:function(e){e._parent=e.parentNode,e._initialStyle=Object(o["a"])({transition:e.style.transition,overflow:e.style.overflow},i,e.style[i])},enter:function(t){var r=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";var a="".concat(t[s],"px");t.style[i]="0",t.offsetHeight,t.style.transition=r.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((function(){t.style[i]=a}))},afterEnter:a,enterCancelled:a,leave:function(e){e._initialStyle=Object(o["a"])({transition:"",overflow:e.style.overflow},i,e.style[i]),e.style.overflow="hidden",e.style[i]="".concat(e[s],"px"),e.offsetHeight,requestAnimationFrame((function(){return e.style[i]="0"}))},afterLeave:r,leaveCancelled:r};function r(t){e&&t._parent&&t._parent.classList.remove(e),a(t)}function a(e){var t=e._initialStyle[i];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[i]=t),delete e._initialStyle}},h=(a("carousel-transition"),a("carousel-reverse-transition"),a("tab-transition"),a("tab-reverse-transition"),a("menu-transition"),a("fab-transition","center center","out-in"),a("dialog-transition"),a("dialog-bottom-transition"),a("dialog-top-transition"),a("fade-transition")),u=(a("scale-transition"),a("scroll-x-transition"),a("scroll-x-reverse-transition"),a("scroll-y-transition"),a("scroll-y-reverse-transition"),a("slide-x-transition")),l=(a("slide-x-reverse-transition"),a("slide-y-transition"),a("slide-y-reverse-transition"),n("expand-transition",d())),f=n("expand-x-transition",d("",!0))},"07ac":function(e,t,i){var s=i("23e7"),r=i("6f53").values;s({target:"Object",stat:!0},{values:function(e){return r(e)}})},"07f4":function(e,t,i){"use strict";var s=i("be7f"),r=4,a=0,n=1,o=2;function c(e){var t=e.length;while(--t>=0)e[t]=0}var d=0,h=1,u=2,l=3,f=258,p=29,m=256,g=m+1+p,y=30,v=19,b=2*g+1,w=15,k=16,S=7,_=256,O=16,T=17,C=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=512,M=new Array(2*(g+2));c(M);var P=new Array(2*y);c(P);var B=new Array(N);c(B);var R=new Array(f-l+1);c(R);var L=new Array(p);c(L);var V,D,q,j=new Array(y);function G(e,t,i,s,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=s,this.max_length=r,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?B[e]:B[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,i){e.bi_valid>k-i?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>k-e.bi_valid,e.bi_valid+=i-k):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function K(e,t,i){z(e,i[2*t],i[2*t+1])}function W(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function $(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var i,s,r,a,n,o,c=t.dyn_tree,d=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=w;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<b;i++)s=e.heap[i],a=c[2*c[2*s+1]+1]+1,a>p&&(a=p,m++),c[2*s+1]=a,s>d||(e.bl_count[a]++,n=0,s>=f&&(n=l[s-f]),o=c[2*s],e.opt_len+=o*(a+n),u&&(e.static_len+=o*(h[2*s+1]+n)));if(0!==m){do{a=p-1;while(0===e.bl_count[a])a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--){s=e.bl_count[a];while(0!==s)r=e.heap[--i],r>d||(c[2*r+1]!==a&&(e.opt_len+=(a-c[2*r+1])*c[2*r],c[2*r+1]=a),s--)}}}function X(e,t,i){var s,r,a=new Array(w+1),n=0;for(s=1;s<=w;s++)a[s]=n=n+i[s-1]<<1;for(r=0;r<=t;r++){var o=e[2*r+1];0!==o&&(e[2*r]=W(a[o]++,o))}}function Z(){var e,t,i,s,r,a=new Array(w+1);for(i=0,s=0;s<p-1;s++)for(L[s]=i,e=0;e<1<<x[s];e++)R[i++]=s;for(R[i-1]=s,r=0,s=0;s<16;s++)for(j[s]=r,e=0;e<1<<I[s];e++)B[r++]=s;for(r>>=7;s<y;s++)for(j[s]=r<<7,e=0;e<1<<I[s]-7;e++)B[256+r++]=s;for(t=0;t<=w;t++)a[t]=0;e=0;while(e<=143)M[2*e+1]=8,e++,a[8]++;while(e<=255)M[2*e+1]=9,e++,a[9]++;while(e<=279)M[2*e+1]=7,e++,a[7]++;while(e<=287)M[2*e+1]=8,e++,a[8]++;for(X(M,g+1,a),e=0;e<y;e++)P[2*e+1]=5,P[2*e]=W(e,5);V=new G(M,x,m+1,g,w),D=new G(P,I,0,y,w),q=new G(new Array(0),E,0,v,S)}function Q(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<y;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function J(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,i,r){J(e),r&&(H(e,i),H(e,~i)),s.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function te(e,t,i,s){var r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&s[t]<=s[i]}function ie(e,t,i){var s=e.heap[i],r=i<<1;while(r<=e.heap_len){if(r<e.heap_len&&te(t,e.heap[r+1],e.heap[r],e.depth)&&r++,te(t,s,e.heap[r],e.depth))break;e.heap[i]=e.heap[r],i=r,r<<=1}e.heap[i]=s}function se(e,t,i){var s,r,a,n,o=0;if(0!==e.last_lit)do{s=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],r=e.pending_buf[e.l_buf+o],o++,0===s?K(e,r,t):(a=R[r],K(e,a+m+1,t),n=x[a],0!==n&&(r-=L[a],z(e,r,n)),s--,a=F(s),K(e,a,i),n=I[a],0!==n&&(s-=j[a],z(e,s,n)))}while(o<e.last_lit);K(e,_,t)}function re(e,t){var i,s,r,a=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=b,i=0;i<c;i++)0!==a[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):a[2*i+1]=0;while(e.heap_len<2)r=e.heap[++e.heap_len]=d<2?++d:0,a[2*r]=1,e.depth[r]=0,e.opt_len--,o&&(e.static_len-=n[2*r+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)ie(e,a,i);r=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ie(e,a,1),s=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=s,a[2*r]=a[2*i]+a[2*s],e.depth[r]=(e.depth[i]>=e.depth[s]?e.depth[i]:e.depth[s])+1,a[2*i+1]=a[2*s+1]=r,e.heap[1]=r++,ie(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),X(a,d,e.bl_count)}function ae(e,t,i){var s,r,a=-1,n=t[1],o=0,c=7,d=4;for(0===n&&(c=138,d=3),t[2*(i+1)+1]=65535,s=0;s<=i;s++)r=n,n=t[2*(s+1)+1],++o<c&&r===n||(o<d?e.bl_tree[2*r]+=o:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*O]++):o<=10?e.bl_tree[2*T]++:e.bl_tree[2*C]++,o=0,a=r,0===n?(c=138,d=3):r===n?(c=6,d=3):(c=7,d=4))}function ne(e,t,i){var s,r,a=-1,n=t[1],o=0,c=7,d=4;for(0===n&&(c=138,d=3),s=0;s<=i;s++)if(r=n,n=t[2*(s+1)+1],!(++o<c&&r===n)){if(o<d)do{K(e,r,e.bl_tree)}while(0!==--o);else 0!==r?(r!==a&&(K(e,r,e.bl_tree),o--),K(e,O,e.bl_tree),z(e,o-3,2)):o<=10?(K(e,T,e.bl_tree),z(e,o-3,3)):(K(e,C,e.bl_tree),z(e,o-11,7));o=0,a=r,0===n?(c=138,d=3):r===n?(c=6,d=3):(c=7,d=4)}}function oe(e){var t;for(ae(e,e.dyn_ltree,e.l_desc.max_code),ae(e,e.dyn_dtree,e.d_desc.max_code),re(e,e.bl_desc),t=v-1;t>=3;t--)if(0!==e.bl_tree[2*A[t]+1])break;return e.opt_len+=3*(t+1)+5+5+4,t}function ce(e,t,i,s){var r;for(z(e,t-257,5),z(e,i-1,5),z(e,s-4,4),r=0;r<s;r++)z(e,e.bl_tree[2*A[r]+1],3);ne(e,e.dyn_ltree,t-1),ne(e,e.dyn_dtree,i-1)}function de(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return n;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return n;return a}c(j);var he=!1;function ue(e){he||(Z(),he=!0),e.l_desc=new U(e.dyn_ltree,V),e.d_desc=new U(e.dyn_dtree,D),e.bl_desc=new U(e.bl_tree,q),e.bi_buf=0,e.bi_valid=0,Q(e)}function le(e,t,i,s){z(e,(d<<1)+(s?1:0),3),ee(e,t,i,!0)}function fe(e){z(e,h<<1,3),K(e,_,M),$(e)}function pe(e,t,i,s){var a,n,c=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=de(e)),re(e,e.l_desc),re(e,e.d_desc),c=oe(e),a=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=a&&(a=n)):a=n=i+5,i+4<=a&&-1!==t?le(e,t,i,s):e.strategy===r||n===a?(z(e,(h<<1)+(s?1:0),3),se(e,M,P)):(z(e,(u<<1)+(s?1:0),3),ce(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),se(e,e.dyn_ltree,e.dyn_dtree)),Q(e),s&&J(e)}function me(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(R[i]+m+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1}t._tr_init=ue,t._tr_stored_block=le,t._tr_flush_block=pe,t._tr_tally=me,t._tr_align=fe},"0960":function(e,t,i){e.exports=i("b19a")},"0a06":function(e,t,i){"use strict";var s=i("c532"),r=i("30b5"),a=i("f6b4"),n=i("5270"),o=i("4a7b");function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=o(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[n,void 0],i=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)i=i.then(t.shift(),t.shift());return i},c.prototype.getUri=function(e){return e=o(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,i){return this.request(o(i||{},{method:e,url:t,data:(i||{}).data}))}})),s.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,i,s){return this.request(o(s||{},{method:e,url:t,data:i}))}})),e.exports=c},"0a57":function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,AuthenticationError:a,InsufficientFunds:n,InvalidOrder:o,AccountSuspended:c,ExchangeError:d,DuplicateOrderId:h,OrderNotFound:u,BadSymbol:l,ExchangeNotAvailable:f,BadRequest:p}=i("74b0"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"wavesexchange",name:"Waves.Exchange",countries:["CH"],rateLimit:500,certified:!0,pro:!1,has:{cancelOrder:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/84547058-5fb27d80-ad0b-11ea-8711-78ac8b3c7f31.jpg",api:{matcher:"http://matcher.waves.exchange",node:"https://nodes.waves.exchange",public:"https://api.wavesplatform.com/v0",private:"https://api.waves.exchange/v1",forward:"https://waves.exchange/api/v1/forward/matcher",market:"https://waves.exchange/api/v1/forward/marketdata/api/v1"},doc:"https://docs.waves.exchange",www:"https://waves.exchange"},api:{matcher:{get:["matcher","matcher/settings","matcher/settings/rates","matcher/balance/reserved/{publicKey}","matcher/debug/allSnashotOffsets","matcher/debug/currentOffset","matcher/debug/lastOffset","matcher/debug/oldestSnapshotOffset","matcher/orderbook","matcher/orderbook/{amountAsset}/{priceAsset}","matcher/orderbook/{baseId}/{quoteId}/publicKey/{publicKey}","matcher/orderbook/{baseId}/{quoteId}/{orderId}","matcher/orderbook/{baseId}/{quoteId}/info","matcher/orderbook/{baseId}/{quoteId}/status","matcher/orderbook/{baseId}/{quoteId}/tradeableBalance/{address}","matcher/orderbook/{publicKey}","matcher/orderbook/{publicKey}/{orderId}","matcher/orders/{address}","matcher/orders/{address}/{orderId}","matcher/transactions/{orderId}"],post:["matcher/orderbook","matcher/orderbook/market","matcher/orderbook/cancel","matcher/orderbook/{baseId}/{quoteId}/cancel","matcher/debug/saveSnapshots","matcher/orders/{address}/cancel","matcher/orders/cancel/{orderId}"],delete:["matcher/orderbook/{baseId}/{quoteId}","matcher/settings/rates/{assetId}"],put:["matcher/settings/rates/{assetId}"]},node:{get:["addresses","addresses/balance/{address}","addresses/balance/{address}/{confirmations}","addresses/balance/details/{address}","addresses/data/{address}","addresses/data/{address}/{key}","addresses/effectiveBalance/{address}","addresses/effectiveBalance/{address}/{confirmations}","addresses/publicKey/{publicKey}","addresses/scriptInfo/{address}","addresses/scriptInfo/{address}/meta","addresses/seed/{address}","addresses/seq/{from}/{to}","addresses/validate/{address}","alias/by-address/{address}","alias/by-alias/{alias}","assets/{assetId}/distribution/{height}/{limit}","assets/balance/{address}","assets/balance/{address}/{assetId}","assets/details/{assetId}","assets/nft/{address}/limit/{limit}","blockchain/rewards","blockchain/rewards/height","blocks/address/{address}/{from}/{to}/","blocks/at/{height}","blocks/delay/{signature}/{blockNum}","blocks/first","blocks/headers/last","blocks/headers/seq/{from}/{to}","blocks/height","blocks/height/{signature}","blocks/last","blocks/seq/{from}/{to}","blocks/signature/{signature}","consensus/algo","consensus/basetarget","consensus/basetarget/{blockId}","consensus/{generatingbalance}/address","consensus/generationsignature","consensus/generationsignature/{blockId}","debug/balances/history/{address}","debug/blocks/{howMany}","debug/configInfo","debug/historyInfo","debug/info","debug/minerInfo","debug/portfolios/{address}","debug/state","debug/stateChanges/address/{address}","debug/stateChanges/info/{id}","debug/stateWaves/{height}","leasing/active/{address}","node/state","node/version","peers/all","peers/blacklisted","peers/connected","peers/suspended","transactions/address/{address}/limit/{limit}","transactions/info/{id}","transactions/status","transactions/unconfirmed","transactions/unconfirmed/info/{id}","transactions/unconfirmed/size","utils/seed","utils/seed/{length}","utils/time","wallet/seed"],post:["addresses","addresses/data/{address}","addresses/sign/{address}","addresses/signText/{address}","addresses/verify/{address}","addresses/verifyText/{address}","debug/blacklist","debug/print","debug/rollback","debug/validate","node/stop","peers/clearblacklist","peers/connect","transactions/broadcast","transactions/calculateFee","tranasctions/sign","transactions/sign/{signerAddress}","tranasctions/status","utils/hash/fast","utils/hash/secure","utils/script/compileCode","utils/script/compileWithImports","utils/script/decompile","utils/script/estimate","utils/sign/{privateKey}","utils/transactionsSerialize"],delete:["addresses/{address}","debug/rollback-to/{signature}"]},public:{get:["pairs","candles/{baseId}/{quoteId}","transactions/exchange"]},private:{get:["deposit/addresses/{code}","deposit/currencies","withdraw/currencies","withdraw/addresses/{currency}/{address}"],post:["oauth2/token"]},forward:{get:["matcher/orders/{address}","matcher/orders/{address}/{orderId}"],post:["matcher/orders/{wavesAddress}/cancel"]},market:{get:["tickers"]}},options:{allowedCandles:1440,accessToken:void 0,matcherPublicKey:void 0,quotes:void 0,createOrderDefaultExpiry:24192e5,wavesAddress:void 0,withdrawFeeUSDN:7420,withdrawFeeWAVES:1e5,wavesPrecision:8},requiresEddsa:!0,exceptions:{3147270:n,112:n,4:d,13:f,14:f,3145733:c,3148040:h,3148801:a,9440512:a,9440771:l,9441026:o,9441282:o,9441286:o,9441295:o,9441540:o,9441542:o,106954752:a,106954769:a,106957828:a,106960131:a,106981137:a,9437193:u,1048577:p,1051904:a}})}async getQuotes(){let e=this.safeValue(this.options,"quotes");if(e)return e;{const t=await this.matcherGetMatcherSettings();e={};const i=this.safeValue(t,"priceAssets");for(let s=0;s<i.length;s++)e[i[s]]=!0;return this.options["quotes"]=e,e}}async fetchMarkets(e={}){const t=await this.marketGetTickers(),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"amountAssetID"),a=this.safeString(e,"priceAssetID"),n=r+"/"+a,o=this.safeString(e,"symbol"),[c,d]=o.split("/"),h=this.safeCurrencyCode(c)+"/"+this.safeCurrencyCode(d),u={amount:this.safeInteger(e,"amountAssetDecimals"),price:this.safeInteger(e,"priceAssetDecimals")};i.push({symbol:h,id:n,base:c,quote:d,baseId:r,quoteId:a,info:e,precision:u})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r=this.extend({amountAsset:s["baseId"],priceAsset:s["quoteId"]},i),a=await this.matcherGetMatcherOrderbookAmountAssetPriceAsset(r),n=this.safeInteger(a,"timestamp"),o=this.parseOrderBookSide(this.safeValue(a,"bids"),s,t),c=this.parseOrderBookSide(this.safeValue(a,"asks"),s,t);return{symbol:e,bids:o,asks:c,timestamp:n,datetime:this.iso8601(n),nonce:void 0}}parseOrderBookSide(e,t,i){const s=t["precision"],r=this.safeInteger(this.options,"wavesPrecision",8),a=Math.pow(10,s["amount"]),n=s["amount"]-s["price"],o=Math.pow(10,r-n),c=[];for(let d=0;d<e.length;d++){const t=e[d],s=this.safeInteger(t,"price",0)/o,r=this.safeInteger(t,"amount",0)/a;if(void 0!==i&&d>i)break;c.push([s,r])}return c}checkRequiredKeys(){if(void 0===this.apiKey)throw new a(this.id+" requires apiKey credential");if(void 0===this.secret)throw new a(this.id+" requires secret credential");let e=void 0,t=void 0;try{e=this.base58ToBinary(this.apiKey)}catch(r){throw new a(this.id+" apiKey must be a base58 encoded public key")}try{t=this.base58ToBinary(this.secret)}catch(r){throw new a(this.id+" secret must be a base58 encoded private key")}const i=this.binaryToBase16(e),s=this.binaryToBase16(t);if(64!==i.length)throw new a(this.id+" apiKey must be a base58 encoded public key");if(64!==s.length)throw new a(this.id+" secret must be a base58 encoded private key")}sign(e,t="public",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e)),o="matcher/orders/{wavesAddress}/cancel"===e;e=this.implodeParams(e,s);let c=this.urls["api"][t]+"/"+e,d=this.urlencode(n);if("private"===t||"forward"===t){r={Accept:"application/json"};const e=this.safeString(this.options,"accessToken");e&&(r["Authorization"]="Bearer "+e),r["content-type"]="POST"===i?"application/json":"application/x-www-form-urlencoded",o&&(a=this.json([n["orderId"]]),d=""),d.length>0&&(c+="?"+d)}else"matcher"===t?"POST"===i?(r={"content-type":"application/json"},a=this.json(n)):r=n:"POST"===i?(r={"content-type":"application/json"},a=this.json(n)):(r={"content-type":"application/x-www-form-urlencoded"},d.length>0&&(c+="?"+d));return{url:c,method:i,body:a,headers:r}}async getAccessToken(){if(!this.safeString(this.options,"accessToken")){const e="ffffff01",t=604800;let i=this.sum(this.seconds(),t);i=i.toString();const s="waves.exchange",r="W:"+s+":"+i,a=this.binaryToBase16(this.stringToBinary(this.encode(r))),n=e+a,o=this.binaryToBase16(this.base58ToBinary(this.secret)),c=this.eddsa(n,o,"ed25519"),d={grant_type:"password",scope:"general",username:this.apiKey,password:i+":"+c,client_id:s},h=await this.privatePostOauth2Token(d);return this.options["accessToken"]=this.safeString(h,"access_token"),this.options["accessToken"]}}parseTicker(e,t){const i=void 0,s=this.safeString(e,"amountAsset"),r=this.safeString(e,"priceAsset");let a=void 0;if(void 0!==s&&void 0!==r){const e=s+"/"+r;if(e in this.markets_by_id)t=this.markets_by_id[e];else{const e=this.safeCurrencyCode(s),t=this.safeCurrencyCode(r);a=e+"/"+t}}void 0===a&&void 0!==t&&(a=t["symbol"]);const n=this.safeValue(e,"data",{}),o=this.safeNumber(n,"lastPrice"),c=this.safeNumber(n,"low"),d=this.safeNumber(n,"high"),h=this.safeNumber(n,"weightedAveragePrice"),u=this.safeNumber(n,"volume"),l=this.safeNumber(n,"quoteVolume"),f=this.safeNumber(n,"firstPrice");let p=void 0,m=void 0,g=void 0;return void 0!==o&&void 0!==f&&(p=o-f,m=this.sum(o,f)/2,f>0&&(g=p/f*100)),{symbol:a,timestamp:i,datetime:this.iso8601(i),high:d,low:c,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:h,open:f,close:o,last:o,previousClose:void 0,change:p,percentage:g,average:m,baseVolume:u,quoteVolume:l,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pairs:i["id"]},r=await this.publicGetPairs(this.extend(s,t)),a=this.safeValue(r,"data",[]),n=this.safeValue(a,0,{});return this.parseTicker(n,i)}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={baseId:a["baseId"],quoteId:a["quoteId"],interval:this.timeframes[t]};if(void 0!==i)n["timeStart"]=i.toString();else{const e=this.safeInteger(this.options,"allowedCandles",1440),i=1e3*this.parseTimeframe(t),s=Math.floor(this.milliseconds()/i)*i,r=(e-1)*i,a=s-r;n["timeStart"]=a.toString()}const o=await this.publicGetCandlesBaseIdQuoteId(this.extend(n,r)),c=this.safeValue(o,"data",[]),d=this.parseOHLCVs(c,a,t,i,s);let h=void 0;const u=d.length;for(let l=0;l<d.length;l++){const e=u-l-1,t=d[e],i=t[1];void 0===i&&(t[1]=h,t[2]=h,t[3]=h,t[4]=h,d[e]=t),h=t[4]}return d}parseOHLCV(e,t){const i=this.safeValue(e,"data",{});return[this.parse8601(this.safeString(i,"time")),this.safeNumber(i,"open"),this.safeNumber(i,"high"),this.safeNumber(i,"low"),this.safeNumber(i,"close"),this.safeNumber(i,"volume",0)]}async fetchDepositAddress(e,t={}){await this.getAccessToken();const i=await this.privateGetDepositCurrencies(),s={},r=this.safeValue(i,"items",[]);for(let d=0;d<r.length;d++){const e=r[d],t=this.safeString(e,"id");s[t]=!0}if(!(e in s)){const t=Object.keys(s);throw new d(this.id+" fetch "+e+" deposit address not supported. Currency code must be one of "+t.toString())}const a=this.extend({code:e},t),n=await this.privateGetDepositAddressesCode(a),o=this.safeValue(n,"deposit_addresses"),c=this.safeString(o,0);return{address:c,code:e,tag:void 0,info:n}}async getMatcherPublicKey(){const e=this.safeString(this.options,"matcherPublicKey");if(e)return e;{const e=await this.matcherGetMatcher();return this.options["matcherPublicKey"]=e.slice(1,e.length-1),this.options["matcherPublicKey"]}}getAssetBytes(e){return"WAVES"===e?this.numberToBE(0,1):this.binaryConcat(this.numberToBE(1,1),this.base58ToBinary(e))}getAssetId(e){return"WAVES"===e?"":e}priceToPrecision(e,t){const i=this.markets[e],s=this.safeInteger(this.options,"wavesPrecision",8),r=i["precision"]["amount"]-i["precision"]["price"];return parseInt(parseFloat(this.toPrecision(t,s-r)))}amountToPrecision(e,t){return parseInt(parseFloat(this.toPrecision(t,this.markets[e]["precision"]["amount"])))}currencyToPrecision(e,t){return parseInt(parseFloat(this.toPrecision(t,this.currencies[e]["precision"])))}fromPrecision(e,t){if(void 0===e)return;const i=new m(e);return i.decimals=i.decimals+t,i.reduce(),i.toString()}toPrecision(e,t){const i=e.toString(),s=new m(i);return s.decimals=s.decimals-t,s.reduce(),s.toString()}currencyFromPrecision(e,t){const i=this.currencies[e]["precision"];return this.fromPrecision(t,i)}priceFromPrecision(e,t){const i=this.markets[e],s=this.safeInteger(this.options,"wavesPrecision",8),r=s-i["precision"]["amount"]+i["precision"]["price"];return this.fromPrecision(t,r)}async createOrder(e,t,i,s,r,a={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.loadMarkets();const o=this.market(e),c=await this.getMatcherPublicKey(),d=this.getAssetId(o["baseId"]),h=this.getAssetId(o["quoteId"]);s=this.amountToPrecision(e,s),r=this.priceToPrecision(e,r);const u="buy"===i?0:1,l=this.milliseconds(),f=this.safeInteger(this.options,"createOrderDefaultExpiry",24192e5),p=this.sum(l,f),g=await this.matcherGetMatcherSettings(),y=this.safeValue(g,"orderFee"),v=this.safeValue(y,"dynamic"),b=this.safeString(v,"baseFee"),w=this.currencyFromPrecision("WAVES",b),k=this.safeValue(v,"rates"),S=Object.keys(k);let _=void 0,O=void 0;if("feeAssetId"in a)_=a["feeAssetId"];else if("feeAssetId"in this.options)_=this.options["feeAssetId"];else{const e=await this.fetchBalance();if(e["WAVES"]["free"]>w)_="WAVES",O=b;else for(let t=0;t<S.length;t++){const i=S[t],s=this.safeCurrencyCode(i),r=this.safeValue(this.safeValue(e,s,{}),"free"),a=m.stringMul(k[i],w);if(void 0!==r&&r>a){_=i;break}}}if(void 0===_)throw n(this.id+" not enough funds to cover the fee, specify feeAssetId in params or options, or buy some WAVES");if(void 0===O){const e=this.safeInteger(this.options,"wavesPrecision",8),t=this.safeString(k,_),i=this.safeCurrencyCode(_),s=this.currency(i),r=e-s["precision"];O=this.fromPrecision(m.stringMul(t,b),r),O=m.stringDiv(m.stringAdd(O,"1"),"1",0)}const T=[this.numberToBE(3,1),this.base58ToBinary(this.apiKey),this.base58ToBinary(c),this.getAssetBytes(o["baseId"]),this.getAssetBytes(o["quoteId"]),this.numberToBE(u,1),this.numberToBE(r,8),this.numberToBE(s,8),this.numberToBE(l,8),this.numberToBE(p,8),this.numberToBE(O,8),this.getAssetBytes(_)],C=this.binaryConcatArray(T),x=this.eddsa(this.binaryToBase16(C),this.binaryToBase16(this.base58ToBinary(this.secret)),"ed25519"),I={amountAsset:d,priceAsset:h},E={senderPublicKey:this.apiKey,matcherPublicKey:c,assetPair:I,orderType:i,price:r,amount:s,timestamp:l,expiration:p,matcherFee:parseInt(O),signature:x,version:3};"WAVES"!==_&&(E["matcherFeeAssetId"]=_);const A=await this.matcherPostMatcherOrderbook(E),N=this.safeValue(A,"message");return this.parseOrder(N,o)}async cancelOrder(e,t,i={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.getAccessToken();const s=await this.getWavesAddress(),r=await this.forwardPostMatcherOrdersWavesAddressCancel({wavesAddress:s,orderId:e}),a=this.safeValue(r,"message"),n=this.safeValue(a,0),o=this.safeValue(n,0),c=this.safeString(o,"orderId");return{info:r,id:c,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:t,type:void 0,side:void 0,price:void 0,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async fetchOrders(e,t,i,s={}){if(this.checkRequiredDependencies(),this.checkRequiredKeys(),void 0===e)throw new r(this.id+" fetchOrders() requires symbol argument");await this.loadMarkets();const a=this.market(e),n=this.milliseconds(),o=[this.base58ToBinary(this.apiKey),this.numberToBE(n,8)],c=this.binaryConcatArray(o),d=this.binaryToBase16(this.base58ToBinary(this.secret)),h=this.eddsa(this.binaryToBase16(c),d,"ed25519"),u={Accept:"application/json",Timestamp:n.toString(),Signature:h,publicKey:this.apiKey,baseId:a["baseId"],quoteId:a["quoteId"]},l=await this.matcherGetMatcherOrderbookBaseIdQuoteIdPublicKeyPublicKey(this.extend(u,s));return this.parseOrders(l,a,t,i)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets(),await this.getAccessToken();let r=void 0;void 0!==e&&(r=this.market(e));const a=await this.getWavesAddress(),n={address:a,activeOnly:!0},o=await this.forwardGetMatcherOrdersAddress(n);return this.parseOrders(o,r,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets(),await this.getAccessToken();let r=void 0;void 0!==e&&(r=this.market(e));const a=await this.getWavesAddress(),n={address:a,closedOnly:!0},o=await this.forwardGetMatcherOrdersAddress(n);return this.parseOrders(o,r,t,i)}parseOrderStatus(e){const t={Cancelled:"canceled",Accepted:"open",Filled:"closed",PartiallyFilled:"open"};return this.safeString(t,e,e)}getSymbolFromAssetPair(e){const t=this.safeString(e,"amountAsset","WAVES"),i=this.safeString(e,"priceAsset","WAVES");return this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}parseOrder(e,t){const i=this.safeInteger(e,"timestamp"),s=this.safeString2(e,"type","orderType");let r="limit";"type"in e&&(r=this.safeString(e,"orderType",r));const a=this.safeString(e,"id"),n=this.safeString(e,"filled"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.safeValue(e,"assetPair");let h=void 0;void 0!==d?h=this.getSymbolFromAssetPair(d):void 0!==t&&(h=t["symbol"]);const u=this.safeCurrencyCode(this.safeString(d,"amountAsset","WAVES")),l=this.parseNumber(this.priceFromPrecision(h,o)),f=this.parseNumber(this.currencyFromPrecision(u,c)),p=this.parseNumber(this.currencyFromPrecision(u,n)),m=this.parseNumber(this.priceFromPrecision(h,this.safeString(e,"avgWeighedPrice"))),g=this.parseOrderStatus(this.safeString(e,"status"));let y=void 0;if("type"in e){const t=this.safeCurrencyCode(this.safeString(e,"feeAsset"));y={currency:t,fee:this.parseNumber(this.currencyFromPrecision(t,this.safeString(e,"filledFee")))}}else{const t=this.safeCurrencyCode(this.safeString(e,"matcherFeeAssetId","WAVES"));y={currency:t,fee:this.parseNumber(this.currencyFromPrecision(t,this.safeString(e,"matcherFee")))}}return this.safeOrder({info:e,id:a,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:h,type:r,timeInForce:void 0,postOnly:void 0,side:s,price:l,stopPrice:void 0,amount:f,cost:void 0,average:m,filled:p,remaining:void 0,status:g,fee:y,trades:void 0})}async getWavesAddress(){const e=this.safeString(this.options,"wavesAddress");if(void 0===e){const e={publicKey:this.apiKey},t=await this.nodeGetAddressesPublicKeyPublicKey(e);return this.options["wavesAddress"]=this.safeString(t,"address"),this.options["wavesAddress"]}return e}async fetchBalance(e={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.loadMarkets();const t=await this.getWavesAddress(),i={address:t},s=await this.nodeGetAssetsBalanceAddress(i),r=this.safeValue(s,"balances"),a={};let n=void 0;for(let v=0;v<r.length;v++){const e=r[v],t=this.safeInteger(e,"timestamp");n=void 0===n?t:Math.max(n,t);const i=this.safeValue(e,"issueTransaction"),s=this.safeInteger(i,"decimals"),o=this.safeString(e,"assetId"),c=this.safeString(e,"balance");let d=void 0;o in this.currencies_by_id&&(d=this.safeCurrencyCode(o),a[d]=this.account(),a[d]["total"]=this.fromPrecision(c,s))}const o=this.milliseconds(),c=[this.base58ToBinary(this.apiKey),this.numberToBE(o,8)],d=this.binaryConcatArray(c),h=this.binaryToBase16(this.base58ToBinary(this.secret)),u=this.eddsa(this.binaryToBase16(d),h,"ed25519"),l={publicKey:this.apiKey,signature:u,timestamp:o.toString()},f=await this.matcherGetMatcherBalanceReservedPublicKey(l),p=Object.keys(f);for(let v=0;v<p.length;v++){const e=p[v],t=this.safeCurrencyCode(e);t in a||(a[t]=this.account());const i=this.safeString(f,e);a[t]["used"]=this.currencyFromPrecision(t,i)}const m={address:t},g=await this.nodeGetAddressesBalanceAddress(m);a["WAVES"]=this.safeValue(a,"WAVES",{}),a["WAVES"]["total"]=this.currencyFromPrecision("WAVES",this.safeString(g,"balance"));const y=Object.keys(a);for(let v=0;v<y.length;v++){const e=y[v];void 0===this.safeValue(a[e],"used")&&(a[e]["used"]="0")}return a["timestamp"]=n,a["datetime"]=this.iso8601(n),this.parseBalance(a,!1)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a=await this.getWavesAddress(),n={sender:a,amountAsset:r["baseId"],priceAsset:r["quoteId"]},o=await this.publicGetTransactionsExchange(n),c=this.safeValue(o,"data");return this.parseTrades(c,r,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={amountAsset:r["baseId"],priceAsset:r["quoteId"]};void 0!==i&&(a["limit"]=i),void 0!==t&&(a["timeStart"]=t);const n=await this.publicGetTransactionsExchange(a),o=this.safeValue(n,"data");return this.parseTrades(o,r,t,i)}parseTrade(e,t){const i=this.safeValue(e,"data"),s=this.safeString(i,"timestamp"),r=this.parse8601(s),a=this.safeString(i,"id"),n=this.safeString(i,"price"),o=this.safeString(i,"amount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(m.stringMul(n,o)),u=this.safeValue(i,"order1"),l=this.safeValue(i,"order2");let f=void 0;f=this.safeString(u,"senderPublicKey")===this.apiKey?u:l;let p=void 0;const g=this.safeValue(f,"assetPair");void 0!==g?p=this.getSymbolFromAssetPair(g):void 0!==t&&(p=t["symbol"]);const y=this.safeString(f,"orderType"),v=this.safeString(f,"id"),b={cost:this.safeNumber(f,"matcherFee"),currency:this.safeCurrencyCode(this.safeString(f,"matcherFeeAssetId","WAVES"))};return{info:e,timestamp:r,datetime:s,symbol:p,id:a,order:v,type:void 0,side:y,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:b}}handleErrors(e,t,i,s,r,a,n,o,c){const h=this.safeString(n,"error"),u=this.safeValue(n,"success",!0),l=this.safeValue(this.exceptions,h);if(void 0!==l){const e=this.safeString(n,"message");throw new l(this.id+" "+e)}const f=this.safeString(n,"message");if("Validation Error"===f)throw new p(this.id+" "+a);if(!u)throw new d(this.id+" "+a)}async withdraw(e,t,i,s,r={}){if("WAVES"!==e){const t=await this.privateGetWithdrawCurrencies(),i={},s=this.safeValue(t,"items",[]);for(let e=0;e<s.length;e++){const t=s[e],r=this.safeString(t,"id");i[r]=!0}if(!(e in i)){const t=Object.keys(i);throw new d(this.id+" fetch "+e+" withdrawals are not supported. Currency code must be one of "+t.toString())}}await this.loadMarkets();const a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n={};for(let d=0;d<a.length;d++){const e=a[d];n[e]=!0}let o=!0;const c=this.remove0xPrefix(i),h=c.toLowerCase();for(let d=0;d<h.length;d++){const e=h[d];if(!(e in n)){o=!1;break}}await this.getAccessToken();let u=void 0;if("WAVES"!==e||o){const s={address:i,currency:e},r=await this.privateGetWithdrawAddressesCurrencyAddress(s),a=this.safeValue(r,"currency"),n=this.safeValue(a,"allowed_amount"),o=this.safeNumber(n,"min");if(t<=o)throw new p(this.id+" "+e+" withdraw failed, amount "+t.toString()+" must be greater than the minimum allowed amount of "+o.toString());const c=this.safeValue(r,"proxy_addresses",[]);u=this.safeString(c,0)}else u=i;const l=this.safeInteger(this.options,"withdrawFeeWAVES",1e5),f="WAVES",m=4,g=2,y=this.currencyToPrecision(e,t),v=this.currency(e),b=this.milliseconds(),w=[this.numberToBE(4,1),this.numberToBE(2,1),this.base58ToBinary(this.apiKey),this.getAssetBytes(v["id"]),this.getAssetBytes(f),this.numberToBE(b,8),this.numberToBE(y,8),this.numberToBE(l,8),this.base58ToBinary(u),this.numberToBE(0,2)],k=this.binaryConcatArray(w),S=this.binaryToBase16(this.base58ToBinary(this.secret)),_=this.eddsa(this.binaryToBase16(k),S,"ed25519"),O={senderPublicKey:this.apiKey,amount:y,fee:l,type:m,version:g,attachment:"",feeAssetId:this.getAssetId(f),proofs:[_],assetId:this.getAssetId(v["id"]),recipient:u,timestamp:b,signature:_};return await this.nodePostTransactionsBroadcast(O)}}},"0b16":function(e,t,i){"use strict";var s=i("1985"),r=i("35e8");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=k,t.resolve=_,t.resolveObject=O,t.format=S,t.Url=a;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(d),u=["'"].concat(h),l=["%","/","?",";","#"].concat(u),f=["/","?","#"],p=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=i("b383");function k(e,t,i){if(e&&r.isObject(e)&&e instanceof a)return e;var s=new a;return s.parse(e,t,i),s}function S(e){return r.isString(e)&&(e=k(e)),e instanceof a?e.format():a.prototype.format.call(e)}function _(e,t){return k(e,!1,!0).resolve(t)}function O(e,t){return e?k(e,!1,!0).resolveObject(t):t}a.prototype.parse=function(e,t,i){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),o=-1!==a&&a<e.indexOf("#")?"?":"#",d=e.split(o),h=/\\/g;d[0]=d[0].replace(h,"/"),e=d.join(o);var k=e;if(k=k.trim(),!i&&1===e.split("#").length){var S=c.exec(k);if(S)return this.path=k,this.href=k,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=n.exec(k);if(_){_=_[0];var O=_.toLowerCase();this.protocol=O,k=k.substr(_.length)}if(i||_||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===k.substr(0,2);!T||_&&v[_]||(k=k.substr(2),this.slashes=!0)}if(!v[_]&&(T||_&&!b[_])){for(var C,x,I=-1,E=0;E<f.length;E++){var A=k.indexOf(f[E]);-1!==A&&(-1===I||A<I)&&(I=A)}x=-1===I?k.lastIndexOf("@"):k.lastIndexOf("@",I),-1!==x&&(C=k.slice(0,x),k=k.slice(x+1),this.auth=decodeURIComponent(C)),I=-1;for(E=0;E<l.length;E++){A=k.indexOf(l[E]);-1!==A&&(-1===I||A<I)&&(I=A)}-1===I&&(I=k.length),this.host=k.slice(0,I),k=k.slice(I),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var M=this.hostname.split(/\./),P=(E=0,M.length);E<P;E++){var B=M[E];if(B&&!B.match(m)){for(var R="",L=0,V=B.length;L<V;L++)B.charCodeAt(L)>127?R+="x":R+=B[L];if(!R.match(m)){var D=M.slice(0,E),q=M.slice(E+1),j=B.match(g);j&&(D.push(j[1]),q.unshift(j[2])),q.length&&(k="/"+q.join(".")+k),this.hostname=D.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=s.toASCII(this.hostname));var G=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+G,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==k[0]&&(k="/"+k))}if(!y[O])for(E=0,P=u.length;E<P;E++){var F=u[E];if(-1!==k.indexOf(F)){var H=encodeURIComponent(F);H===F&&(H=escape(F)),k=k.split(F).join(H)}}var z=k.indexOf("#");-1!==z&&(this.hash=k.substr(z),k=k.slice(0,z));var K=k.indexOf("?");if(-1!==K?(this.search=k.substr(K),this.query=k.substr(K+1),t&&(this.query=w.parse(this.query)),k=k.slice(0,K)):t&&(this.search="",this.query={}),k&&(this.pathname=k),b[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){G=this.pathname||"";var W=this.search||"";this.path=G+W}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",s=this.hash||"",a=!1,n="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(n=w.stringify(this.query));var o=this.search||n&&"?"+n||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==a?(a="//"+(a||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):a||(a=""),s&&"#"!==s.charAt(0)&&(s="#"+s),o&&"?"!==o.charAt(0)&&(o="?"+o),i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),o=o.replace("#","%23"),t+a+i+o+s},a.prototype.resolve=function(e){return this.resolveObject(k(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(r.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var i=new a,s=Object.keys(this),n=0;n<s.length;n++){var o=s[n];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),d=0;d<c.length;d++){var h=c[d];"protocol"!==h&&(i[h]=e[h])}return b[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!b[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];i[f]=e[f]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||v[e.protocol])i.pathname=e.pathname;else{var p=(e.pathname||"").split("/");while(p.length&&!(e.host=p.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",g=i.search||"";i.path=m+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=w||y||i.host&&e.pathname,S=k,_=i.pathname&&i.pathname.split("/")||[],O=(p=e.pathname&&e.pathname.split("/")||[],i.protocol&&!b[i.protocol]);if(O&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),k=k&&(""===p[0]||""===_[0])),w)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),i.search=e.search,i.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(O){i.hostname=i.host=_.shift();var T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");T&&(i.auth=T.shift(),i.host=i.hostname=T.shift())}return i.search=e.search,i.query=e.query,r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var C=_.slice(-1)[0],x=(i.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,I=0,E=_.length;E>=0;E--)C=_[E],"."===C?_.splice(E,1):".."===C?(_.splice(E,1),I++):I&&(_.splice(E,1),I--);if(!k&&!S)for(;I--;I)_.unshift("..");!k||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),x&&"/"!==_.join("/").substr(-1)&&_.push("");var A=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(O){i.hostname=i.host=A?"":_.length?_.shift():"";T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");T&&(i.auth=T.shift(),i.host=i.hostname=T.shift())}return k=k||i.host&&_.length,k&&!A&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},a.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"0bc6":function(e,t,i){},"0cb2":function(e,t,i){var s=i("7b0b"),r=Math.floor,a="".replace,n=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,c,d,h){var u=i+e.length,l=c.length,f=o;return void 0!==d&&(d=s(d),f=n),a.call(h,f,(function(s,a){var n;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(u);case"<":n=d[a.slice(1,-1)];break;default:var o=+a;if(0===o)return s;if(o>l){var h=r(o/10);return 0===h?s:h<=l?void 0===c[h-1]?a.charAt(1):c[h-1]+a.charAt(1):s}n=c[o-1]}return void 0===n?"":n}))}},"0cfb":function(e,t,i){var s=i("83ab"),r=i("d039"),a=i("cc12");e.exports=!s&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e30":function(e,t,i){var s=i("70ea"),r=i("5a7c"),a=i("001c");function n(e){return function t(i,n,o){switch(arguments.length){case 0:return t;case 1:return a(i)?t:r((function(t,s){return e(i,t,s)}));case 2:return a(i)&&a(n)?t:a(i)?r((function(t,i){return e(t,n,i)})):a(n)?r((function(t,s){return e(i,t,s)})):s((function(t){return e(i,n,t)}));default:return a(i)&&a(n)&&a(o)?t:a(i)&&a(n)?r((function(t,i){return e(t,i,o)})):a(i)&&a(o)?r((function(t,i){return e(t,n,i)})):a(n)&&a(o)?r((function(t,s){return e(i,t,s)})):a(i)?s((function(t){return e(t,n,o)})):a(n)?s((function(t){return e(i,t,o)})):a(o)?s((function(t){return e(i,n,t)})):e(i,n,o)}}}e.exports=n},"0eb2":function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeNotAvailable:a,AccountSuspended:n,PermissionDenied:o,RateLimitExceeded:c,InvalidNonce:d,InvalidAddress:h,ArgumentsRequired:u,ExchangeError:l,InvalidOrder:f,InsufficientFunds:p,BadRequest:m,OrderNotFound:g,BadSymbol:y,NotSupported:v}=i("74b0"),{ROUND:b,TICK_SIZE:w,TRUNCATE:k}=i("5ea4");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitmart",name:"BitMart",countries:["US","CN","HK","KR"],rateLimit:1e3,version:"v1",has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchStatus:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},hostname:"bitmart.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/61835713-a2662f80-ae85-11e9-9d00-6442919701fd.jpg",api:"https://api-cloud.{hostname}",www:"https://www.bitmart.com/",doc:"https://developer-pro.bitmart.com/",referral:"http://www.bitmart.com/?r=rQCFLh",fees:"https://www.bitmart.com/fee/en"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{system:{get:["time","service"]},account:{get:["currencies"]},spot:{get:["currencies","symbols","symbols/details","ticker","steps","symbols/kline","symbols/book","symbols/trades"]},contract:{get:["contracts","pnls","indexes","tickers","quote","indexquote","trades","depth","fundingrate"]}},private:{account:{get:["wallet","deposit/address","withdraw/charge","deposit-withdraw/history","deposit-withdraw/detail"],post:["withdraw/apply"]},spot:{get:["wallet","order_detail","orders","trades"],post:["submit_order","cancel_order","cancel_orders"]},contract:{get:["userOrders","userOrderInfo","userTrades","orderTrades","accounts","userPositions","userLiqRecords","positionFee"],post:["batchOrders","submitOrder","cancelOrders","marginOper"]}}},timeframes:{"1m":1,"3m":3,"5m":5,"15m":15,"30m":30,"45m":45,"1h":60,"2h":120,"3h":180,"4h":240,"1d":1440,"1w":10080,"1M":43200},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.0025,tiers:{taker:[[0,.002],[10,.0018],[50,.0016],[250,.14/100],[1e3,.0012],[5e3,.001],[25e3,8e-4],[5e4,6e-4]],maker:[[0,.001],[10,9e-4],[50,8e-4],[250,.07/100],[1e3,6e-4],[5e3,5e-4],[25e3,4e-4],[5e4,3e-4]]}}},precisionMode:w,exceptions:{exact:{3e4:l,30001:r,30002:r,30003:n,30004:r,30005:r,30006:r,30007:r,30008:r,30010:o,30011:r,30012:r,30013:c,30014:a,6e4:m,60001:m,60002:m,60003:l,60004:l,60005:l,60006:l,60007:h,60008:p,60009:l,60010:l,60011:h,60012:l,60020:o,60021:o,60022:o,60030:m,60031:m,60050:l,60051:l,5e4:m,50001:y,50002:m,50003:m,50004:m,50005:g,50006:f,50007:f,50008:f,50009:f,50010:f,50011:f,50012:f,50013:f,50014:m,50015:m,50016:m,50017:m,50018:m,50019:m,50020:p,50021:m,50022:a,50023:y,53e3:n,57001:m,58001:m,59001:l,59002:l,40001:l,40002:l,40003:l,40004:l,40005:l,40006:o,40007:m,40008:d,40009:m,40010:m,40011:m,40012:l,40013:l,40014:y,40015:y,40016:f,40017:f,40018:f,40019:l,40020:f,40021:l,40022:l,40023:l,40024:l,40025:l,40026:l,40027:p,40028:o,40029:f,40030:f,40031:f,40032:f,40033:f,40034:y},broad:{}},commonCurrencies:{COT:"Community Coin",CPC:"CPCoin",ONE:"Menlo One",PLA:"Plair"},options:{defaultType:"spot",fetchBalance:{type:"spot"},createMarketBuyOrderRequiresPrice:!0}})}async fetchTime(e={}){const t=await this.publicSystemGetTime(e),i=this.safeValue(t,"data",{});return this.safeInteger(i,"server_time")}async fetchStatus(e={}){const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeString(this.options,"defaultType");let s=this.safeString(t,"type",i);s=this.safeString(e,"type",s),e=this.omit(e,"type");const r=await this.publicSystemGetService(e),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"service",[]),o=this.indexBy(n,"service_type");"swap"!==s&&"future"!==s||(s="contract");const c=this.safeValue(o,s);let d=void 0,h=void 0;if(void 0!==c){const e=this.safeInteger(c,"status");2===e?d="ok":(d="maintenance",h=this.safeInteger(c,"end_time"))}return this.status=this.extend(this.status,{status:d,updated:this.milliseconds(),eta:h}),this.status}async fetchSpotMarkets(e={}){const t=await this.publicSpotGetSymbolsDetails(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"symbols",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"symbol"),i=this.safeInteger(e,"symbol_id"),n=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeInteger(e,"price_max_precision"),l={amount:this.safeNumber(e,"base_min_size"),price:parseFloat(this.decimalToPrecision(Math.pow(10,-u),b,10))},f=this.safeNumber(e,"min_buy_amount"),p=this.safeNumber(e,"min_sell_amount"),m=Math.max(f,p),g={amount:{min:this.safeNumber(e,"base_min_size"),max:this.safeNumber(e,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:m,max:void 0}};r.push({id:t,numericId:i,symbol:h,base:c,quote:d,baseId:n,quoteId:o,type:"spot",spot:!0,future:!1,swap:!1,precision:l,limits:g,info:e,active:void 0})}return r}async fetchContractMarkets(e={}){const t=await this.publicContractGetContracts(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"contracts",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeValue(e,"contract",{}),i=this.safeString(t,"contract_id"),n=this.safeInteger(t,"contract_id"),o=this.safeString(t,"base_coin"),c=this.safeString(t,"quote_coin"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=this.safeString(t,"name"),l=this.safeNumber(t,"vol_unit"),f=this.safeNumber(t,"price_unit"),p={amount:l,price:f},m={amount:{min:this.safeNumber(t,"min_vol"),max:this.safeNumber(t,"max_vol")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},g=this.safeValue(t,"contract_type");let y=!1,v=!1,b="contract";1===g?(b="swap",v=!0):2===g&&(b="future",y=!0);const w=this.safeValue(e,"fee_config",{}),k=this.safeNumber(w,"maker_fee"),S=this.safeNumber(w,"taker_fee");r.push({id:i,numericId:n,symbol:u,base:d,quote:h,baseId:o,quoteId:c,maker:k,taker:S,type:b,spot:!1,future:y,swap:v,precision:p,limits:m,info:e,active:void 0})}return r}async fetchMarkets(e={}){return await this.fetchSpotMarkets()}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp",this.milliseconds()),s=this.safeString2(e,"symbol","contract_id"),r=this.safeSymbol(s,t,"_"),a=this.safeNumber2(e,"close_24h","last_price");let n=this.safeNumber(e,"fluctuation","rise_fall_rate");void 0!==n&&(n*=100);const o=this.safeNumber2(e,"base_volume_24h","base_coin_volume"),c=this.safeNumber2(e,"quote_volume_24h","quote_coin_volume"),d=this.vwap(o,c),h=this.safeNumber2(e,"open_24h","open");let u=void 0;void 0!==a&&void 0!==h&&(u=this.sum(a,h)/2),u=this.safeNumber(e,"avg_price",u);const l=this.safeValue(e,"depth_price",e);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high_24h"),low:this.safeNumber2(e,"low","low_24h"),bid:this.safeNumber(l,"best_bid","bid_price"),bidVolume:this.safeNumber(e,"best_bid_size"),ask:this.safeNumber(l,"best_ask","ask_price"),askVolume:this.safeNumber(e,"best_ask_size"),vwap:d,open:this.safeNumber(e,"open_24h"),close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:u,baseVolume:o,quoteVolume:c,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={};let r=void 0;i["swap"]||i["future"]?(r="publicContractGetTickers",s["contractID"]=i["id"]):i["spot"]&&(r="publicSpotGetTicker",s["symbol"]=i["id"]);const a=await this[r](this.extend(s,t)),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"tickers",[]),c=this.indexBy(o,"symbol"),d=this.safeValue(c,i["id"]);return this.parseTicker(d,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options,"defaultType","spot"),s=this.safeString(t,"type",i);t=this.omit(t,"type");let r=void 0;"swap"===s||"future"===s?r="publicContractGetTickers":"spot"===s&&(r="publicSpotGetTicker");const a=await this[r](t),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"tickers",[]),c={};for(let d=0;d<o.length;d++){const e=this.parseTicker(o[d]),t=e["symbol"];c[t]=e}return this.filterByArray(c,"symbol",e)}async fetchCurrencies(e={}){const t=await this.publicAccountGetCurrencies(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"currencies",[]),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),n=this.safeString(e,"name"),o=this.safeValue(e,"withdraw_enabled"),c=this.safeValue(e,"deposit_enabled"),d=o&&c;r[i]={id:t,code:i,name:n,info:e,active:d,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={};let a=void 0;s["spot"]?(a="publicSpotGetSymbolsBook",r["symbol"]=s["id"]):(s["swap"]||s["future"])&&(a="publicContractGetDepth",r["contractID"]=s["id"],void 0!==t&&(r["count"]=t));const n=await this[a](this.extend(r,i)),o=this.safeValue(n,"data",{});return s["spot"]?this.parseOrderBook(o,e,void 0,"buys","sells","price","amount"):s["swap"]||s["future"]?this.parseOrderBook(o,e,void 0,"buys","sells","price","vol"):void 0}parseTrade(e,t){const i=this.safeString2(e,"trade_id","detail_id");let s=this.safeInteger2(e,"order_time","create_time");void 0===s&&(s=this.parse8601(this.safeString(e,"created_at")));const r=void 0,a=this.safeInteger(e,"way");let n=this.safeStringLower2(e,"type","side");void 0===n&&void 0!==a&&(n=a<5?"buy":"sell");let o=void 0;const c=this.safeString(e,"exec_type");void 0!==c&&(o="M"===c?"maker":"taker");let d=this.safeNumber2(e,"price","deal_price");d=this.safeNumber(e,"price_avg",d);let h=this.safeNumber2(e,"amount","deal_vol");h=this.safeNumber(e,"size",h);let u=this.safeNumber2(e,"count","notional");void 0===u&&void 0!==d&&void 0!==h&&(u=h*d);const l=this.safeInteger(e,"order_id"),f=this.safeString2(e,"contract_id","symbol"),p=this.safeSymbol(f,t,"_"),m=this.safeNumber(e,"fees");let g=void 0;if(void 0!==m){const i=this.safeString(e,"fee_coin_name");let s=this.safeCurrencyCode(i);void 0===s&&void 0!==t&&(s="buy"===n?t["base"]:t["quote"]),g={cost:m,currency:s}}return{info:e,id:i,order:l,timestamp:s,datetime:this.iso8601(s),symbol:p,type:r,side:n,price:d,amount:h,cost:u,takerOrMaker:o,fee:g}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};let n=void 0;r["spot"]?(a["symbol"]=r["id"],n="publicSpotGetSymbolsTrades"):(r["swap"]||r["future"])&&(n="publicContractGetTrades",a["contractID"]=r["id"]);const o=await this[n](this.extend(a,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=a["type"];let o=void 0;const c={},d=this.parseTimeframe(t);if("spot"===n){o="publicSpotGetSymbolsKline",c["symbol"]=a["id"],c["step"]=this.timeframes[t];const e=500;if(void 0===s&&(s=e),s=Math.min(e,s),void 0===i){const e=parseInt(this.milliseconds()/1e3),t=e-s*d;c["from"]=t,c["to"]=e}else{const e=parseInt(i/1e3),t=this.sum(e,s*d);c["from"]=e,c["to"]=t}}else if("swap"===n||"future"===n){o="publicContractGetQuote",c["contractID"]=a["id"];const e=500;if(void 0===s&&(s=e),void 0===i){const e=parseInt(this.milliseconds()/1e3),t=e-s*d;c["startTime"]=t,c["endTime"]=e}else{const e=parseInt(i/1e3),t=this.sum(e,s*d);c["startTime"]=e,c["endTime"]=t}c["unit"]=this.timeframes[t],c["resolution"]="M"}const h=await this[o](this.extend(c,r)),u=this.safeValue(h,"data",{});if(Array.isArray(u))return this.parseOHLCVs(u,a,t,i,s);{const e=this.safeValue(u,"klines",[]);return this.parseOHLCVs(e,a,t,i,s)}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new u(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e);let a=void 0;const n={};r["spot"]?(n["symbol"]=r["id"],n["offset"]=1,void 0===i&&(i=100),n["limit"]=i,a="privateSpotGetTrades"):(r["swap"]||r["future"])&&(n["contractID"]=r["id"],void 0!==i&&(n["size"]=i),a="privateContractGetUserTrades");const o=await this[a](this.extend(n,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,r,t,i)}async fetchOrderTrades(e,t,i,s,r={}){if(void 0===t)throw new u(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t);let n=void 0;const o={};a["spot"]?(o["symbol"]=a["id"],o["order_id"]=e,n="privateSpotGetTrades"):(a["swap"]||a["future"])&&(o["contractID"]=a["id"],o["orderID"]=e,n="privateContractGetOrderTrades");const c=await this[n](this.extend(o,r)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"trades",[]);return this.parseTrades(h,a,i,s)}async fetchBalance(e={}){await this.loadMarkets();let t=void 0;const i=this.safeValue(this.options,"fetchBalance",{}),s=this.safeString(this.options,"defaultType","spot");let r=this.safeString(i,"type",s);r=this.safeString(e,"type",r),e=this.omit(e,"type"),"spot"===r?t="privateSpotGetWallet":"account"===r?t="privateAccountGetWallet":"swap"!==r&&"future"!==r&&"contract"!==r||(t="privateContractGetAccounts");const a=await this[t](e),n=this.safeValue(a,"data",{}),o=this.safeValue2(n,"wallet","accounts",[]),c={info:a};for(let d=0;d<o.length;d++){const e=o[d];let t=this.safeString2(e,"id","currency");t=this.safeString(e,"coin_code",t);const i=this.safeCurrencyCode(t),s=this.account();s["free"]=this.safeString2(e,"available","available_vol"),s["used"]=this.safeString2(e,"frozen","freeze_vol"),c[i]=s}return this.parseBalance(c,!1)}parseOrder(e,t){let i=void 0;"string"===typeof e&&(i=e,e={}),i=this.safeString(e,"order_id",i);let s=this.parse8601(this.safeString(e,"created_at"));s=this.safeInteger(e,"create_time",s);const r=this.safeString2(e,"symbol","contract_id"),a=this.safeSymbol(r,t,"_");let n=void 0;void 0!==t&&(n=this.parseOrderStatusByType(t["type"],this.safeString(e,"status")));let o=this.safeNumber(e,"price"),c=this.safeNumber2(e,"price_avg","done_avg_price");const d=this.safeNumber2(e,"size","vol"),h=this.safeNumber2(e,"filled_size","done_vol");let u=this.safeString(e,"side");u=this.safeString(e,"way",u);const l=this.safeInteger(e,"category");let f=this.safeString(e,"type");return 1===l?f="limit":2===l&&(f="market"),"market"===f&&(0===o&&(o=void 0),0===c&&(c=void 0)),this.safeOrder({id:i,clientOrderId:void 0,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:a,type:f,timeInForce:void 0,postOnly:void 0,side:u,price:o,stopPrice:void 0,amount:d,cost:void 0,average:c,filled:h,remaining:void 0,status:n,fee:void 0,trades:void 0})}parseOrderStatusByType(e,t){const i={spot:{1:"failed",2:"open",3:"failed",4:"open",5:"open",6:"closed",7:"canceling",8:"canceled"},swap:{1:"open",2:"open",4:"closed"}},s=this.safeValue(i,e,{});return this.safeString(s,t,t)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={};let c=void 0;if(n["spot"]){if(o["symbol"]=n["id"],o["side"]=i,o["type"]=t,c="privateSpotPostSubmitOrder","limit"===t)o["size"]=this.amountToPrecision(e,s),o["price"]=this.priceToPrecision(e,r);else if("market"===t)if("buy"===i){let e=this.safeNumber(a,"notional");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==r)void 0===e&&(e=s*r);else if(void 0===e)throw new f(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?s:e;const i=n["precision"]["price"];o["notional"]=this.decimalToPrecision(e,k,i,this.precisionMode)}else"sell"===i&&(o["size"]=this.amountToPrecision(e,s))}else(n["swap"]||n["future"])&&(c="privateContractPostSubmitOrder",o["contractID"]=n["id"],"limit"===t?o["category"]=1:"market"===t&&(o["category"]=2),o["way"]=i,o["custom_id"]=this.nonce(),o["open_type"]=1,o["leverage"]=1,o["price"]=this.priceToPrecision(e,r),o["vol"]=this.amountToPrecision(e,s));const d=await this[c](this.extend(o,a)),h=this.safeValue(d,"data",{});return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={};let a=void 0;s["spot"]?(a="privateSpotPostCancelOrder",r["order_id"]=parseInt(e),r["symbol"]=s["id"]):(s["swap"]||s["future"])&&(a="privateContractPostCancelOrders",r["contractID"]=s["id"],r["orders"]=[parseInt(e)]);const n=await this[a](this.extend(r,i)),o=this.safeValue(n,"data");if(!0===o)return this.parseOrder(e,s);const c=this.safeValue(o,"succeed");if(void 0!==c){if(e=this.safeString(c,0),void 0===e)throw new f(this.id+" cancelOrder() failed to cancel "+t+" order id "+e)}else{const i=this.safeValue(o,"result");if(!i)throw new f(this.id+" cancelOrder() "+t+" order id "+e+" is filled or canceled")}const d=this.parseOrder(e,s);return this.extend(d,{id:e})}async cancelAllOrders(e,t={}){if(void 0===e)throw new u(this.id+" cancelAllOrders() requires a symbol argument");const i=this.safeString(t,"side");if(void 0===i)throw new u(this.id+" cancelAllOrders() requires a `side` parameter ('buy' or 'sell')");await this.loadMarkets();const s=this.market(e);if(!s["spot"])throw new v(this.id+" cancelAllOrders() does not support "+s["type"]+" orders, only spot orders are accepted");const r={symbol:s["id"],side:i},a=await this.privateSpotPostCancelOrders(this.extend(r,t));return a}async cancelOrders(e,t,i={}){if(void 0===t)throw new u(this.id+" canelOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(t);if(!s["spot"])throw new v(this.id+" cancelOrders() does not support "+s["type"]+" orders, only contract orders are accepted");const r=[];for(let o=0;o<e.length;o++)r.push(parseInt(e[o]));const a={orders:r},n=await this.privateContractPostCancelOrders(this.extend(a,i));return n}async fetchOrdersByStatus(e,t,i,s,r={}){if(void 0===t)throw new u(this.id+" fetchOrdersByStatus() requires a symbol argument");await this.loadMarkets();const a=this.market(t),n={};let o=void 0;a["spot"]?(o="privateSpotGetOrders",n["symbol"]=a["id"],n["offset"]=1,n["limit"]=100,n["status"]="open"===e?9:"closed"===e?6:e):(a["swap"]||a["future"])&&(o="privateContractGetUserOrders",n["contractID"]=a["id"],void 0!==s&&(n["size"]=s),n["status"]="open"===e?3:"closed"===e?4:e);const c=await this[o](this.extend(n,r)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"orders",[]);return this.parseOrders(h,a,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByStatus("open",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByStatus("closed",e,t,i,s)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new u(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e);if(!r["swap"]&&!r["future"])throw new v(this.id+" fetchOrders does not support "+r["type"]+" markets, only contracts are supported");return await this.fetchOrdersByStatus(0,e,t,i,s)}async fetchOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s={},r=this.market(t);let a=void 0;"string"!==typeof e&&(e=e.toString()),r["spot"]?(s["symbol"]=r["id"],s["order_id"]=e,a="privateSpotGetOrderDetail"):(r["swap"]||r["future"])&&(s["contractID"]=r["id"],s["orderID"]=e,a="privateContractGetUserOrderInfo");const n=await this[a](this.extend(s,i)),o=this.safeValue(n,"data");if("orders"in o){const i=this.safeValue(o,"orders",[]),s=this.safeValue(i,0);if(void 0===s)throw new g(this.id+" fetchOrder() could not find "+t+" order id "+e);return this.parseOrder(s,r)}return this.parseOrder(o,r)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateAccountGetDepositAddress(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeString(a,"address"),o=this.safeString(a,"address_memo");return this.checkAddress(n),{currency:e,address:n,tag:o,info:r}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],amount:t,destination:"To Digital Address",address:i};void 0!==s&&(n["address_memo"]=s);const o=await this.privateAccountPostWithdrawApply(this.extend(n,r)),c=this.safeValue(o,"data"),d=this.parseTransaction(c,a);return this.extend(d,{code:e,address:i,tag:s})}async fetchTransactionsByType(e,t,i,s,r={}){await this.loadMarkets(),void 0===s&&(s=50);const a={operation_type:e,offset:1,limit:s};let n=void 0;void 0!==t&&(n=this.currenc(t),a["currency"]=n["id"]);const o=await this.privateAccountGetDepositWithdrawHistory(this.extend(a,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"records",[]);return this.parseTransactions(d,n,i,s)}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsByType("deposit",e,t,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsByType("withdraw",e,t,i,s)}parseTransactionStatus(e){const t={0:"pending",1:"pending",2:"pending",3:"ok",4:"canceled",5:"failed"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0;const s=this.safeString(e,"withdraw_id"),r=this.safeString(e,"deposit_id");let a=void 0;void 0!==s&&""!==s?(a="withdraw",i=s):void 0!==r&&""!==r&&(a="deposit",i=r);const n=this.safeNumber(e,"arrival_amount"),o=this.safeInteger(e,"apply_time"),c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c,t),h=this.parseTransactionStatus(this.safeString(e,"status")),u=this.safeNumber(e,"fee");let l=void 0;void 0!==u&&(l={cost:u,currency:d});let f=this.safeString(e,"tx_id");""===f&&(f=void 0);const p=this.safeString(e,"address"),m=this.safeString(e,"address_memo");return{info:e,id:i,currency:d,amount:n,address:p,addressFrom:void 0,addressTo:void 0,tag:m,tagFrom:void 0,tagTo:void 0,status:h,type:a,updated:void 0,txid:f,timestamp:o,datetime:this.iso8601(o),fee:l}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){const n=this.implodeHostname(this.urls["api"]),o=this.safeString(t,0),c=this.safeString(t,1);let d=n+"/"+c;"system"!==c&&(d+="/"+this.version),"contract"===c&&(d+="/ifcontract"),d+="/"+this.implodeParams(e,s);const h=this.omit(s,this.extractParams(e));if("system"===c)Object.keys(h).length&&(d+="?"+this.urlencode(h));else if("public"===o)Object.keys(h).length&&(d+="?"+this.urlencode(h));else if("private"===o){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t="";r={"X-BM-KEY":this.apiKey,"X-BM-TIMESTAMP":e},"POST"===i||"PUT"===i?(r["Content-Type"]="application/json",a=this.json(h),t=a):Object.keys(h).length&&(t=this.urlencode(h),d+="?"+t);const s=e+"#"+this.uid+"#"+t,n=this.hmac(this.encode(s),this.encode(this.secret));r["X-BM-SIGN"]=n}return{url:d,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,c){if(void 0===n)return;const d=this.safeString(n,"message"),h=this.safeString(n,"code");if(void 0!==h&&"1000"!==h||void 0!==d&&"OK"!==d){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],d,e),this.throwBroadlyMatchedException(this.exceptions["broad"],d,e),new l(e)}}}},"0fc2":function(e,t,i){"use strict";const s=i("90db"),{TICK_SIZE:r}=i("5ea4"),{AuthenticationError:a,ExchangeError:n,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:d,OrderNotFound:h,InsufficientFunds:u,BadRequest:l,RateLimitExceeded:f,InvalidNonce:p}=i("74b0"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bybit",name:"Bybit",countries:["VG"],version:"v2",userAgent:void 0,rateLimit:100,hostname:"bybit.com",has:{cancelOrder:!0,CORS:!0,cancelAllOrders:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,fetchPositions:!0},timeframes:{"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"D","1w":"W","1M":"M","1y":"Y"},urls:{test:{futures:"https://api-testnet.{hostname}",v2:"https://api-testnet.{hostname}",public:"https://api-testnet.{hostname}",private:"https://api-testnet.{hostname}"},logo:"https://user-images.githubusercontent.com/51840849/76547799-daff5b80-649e-11ea-87fb-3be9bac08954.jpg",api:{futures:"https://api.{hostname}",v2:"https://api.{hostname}",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.bybit.com",doc:["https://bybit-exchange.github.io/docs/inverse/","https://bybit-exchange.github.io/docs/linear/","https://github.com/bybit-exchange"],fees:"https://help.bybit.com/hc/en-us/articles/360039261154",referral:"https://www.bybit.com/app/register?ref=X7Prm"},api:{futures:{private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save","position/switch-mode","position/switch-isolated","position/risk-limit"]}},v2:{public:{get:["orderBook/L2","kline/list","tickers","trading-records","symbols","liq-records","mark-price-kline","index-price-kline","premium-index-kline","open-interest","big-deal","account-ratio","time","announcement","funding/prev-funding-rate","risk-limit/list"]},private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list","funding/prev-funding-rate","funding/prev-funding","funding/predicted-funding","account/api-key","account/lcp","wallet/balance","wallet/fund/records","wallet/withdraw/list","exchange-order/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save","position/switch-mode","position/switch-isolated","position/risk-limit"]}},public:{linear:{get:["kline","recent-trading-records","funding/prev-funding-rate","mark-price-kline","index-price-kline","premium-index-kline","risk-limit"]}},private:{linear:{get:["order/list","order/search","stop-order/list","stop-order/search","position/list","trade/execution/list","trade/closed-pnl/list","funding/predicted-funding","funding/prev-funding"],post:["order/create","order/cancel","order/cancel-all","order/replace","stop-order/create","stop-order/cancel","stop-order/cancel-all","stop-order/replace","position/set-auto-add-margin","position/switch-isolated","tpsl/switch-mode","position/add-margin","position/set-leverage","position/trading-stop","position/set-risk"]}}},httpExceptions:{403:f},exceptions:{exact:{10001:l,10002:p,10003:a,10004:a,10005:c,10006:f,10007:a,10010:c,10017:l,10018:f,20001:h,20003:d,20004:d,20005:d,20006:d,20007:d,20008:d,20009:d,20010:d,20011:d,20012:d,20013:d,20014:d,20015:d,20016:d,20017:d,20018:d,20019:d,20020:d,20021:d,20022:l,20023:l,20031:l,20070:l,20071:l,20084:l,30001:l,30003:d,30004:d,30005:d,30007:d,30008:d,30009:n,30010:u,30011:c,30012:c,30013:c,30014:d,30015:d,30016:n,30017:d,30018:d,30019:d,30020:d,30021:d,30022:d,30023:d,30024:d,30025:d,30026:d,30027:d,30028:d,30029:d,30030:d,30031:u,30032:d,30033:f,30034:h,30035:f,30036:n,30037:d,30041:n,30042:u,30043:d,30044:d,30045:d,30049:u,30050:n,30051:n,30052:n,30054:n,30057:n,30063:n,30067:u,30068:n,30074:d,30075:d,33004:a,34026:n},broad:{"unknown orderInfo":h,"invalid api_key":a}},precisionMode:r,options:{marketTypes:{"BTC/USDT":"linear","BCH/USDT":"linear","ETH/USDT":"linear","LTC/USDT":"linear","XTZ/USDT":"linear","LINK/USDT":"linear","ADA/USDT":"linear","DOT/USDT":"linear","UNI/USDT":"linear","AAVE/USDT":"linear","SUSHI/USDT":"linear","XRP/USDT":"linear","XEM/USDT":"linear","BTC/USD":"inverse","ETH/USD":"inverse","EOS/USD":"inverse","XRP/USD":"inverse"},defaultType:"linear",code:"BTC",cancelAllOrders:{},recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:75e-5,maker:-25e-5},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}}})}nonce(){return this.milliseconds()-this.options["timeDifference"]}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options["timeDifference"]=i-t,this.options["timeDifference"]}async fetchTime(e={}){const t=await this.v2PublicGetTime(e);return this.safeTimestamp(t,"time_now")}async fetchMarkets(e={}){this.options["adjustForTimeDifference"]&&await this.loadTimeDifference();const t=await this.v2PublicGetSymbols(e),i=this.safeValue(t,"result",[]),s=this.safeValue(this.options,"fetchMarkets",{}),r=this.safeValue(s,"linear",{USDT:!0}),a=[];for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString2(e,"name","symbol"),s=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(s),d=this.safeCurrencyCode(o),h=d in r,u=!h;let l=c+"/"+d;const f=c+d;let p="swap";f!==t&&(l=t,p="futures");const m=this.safeValue(e,"lot_size_filter",{}),g=this.safeValue(e,"price_filter",{}),y={amount:this.safeNumber(m,"qty_step"),price:this.safeNumber(g,"tick_size")},v=this.safeString(e,"status");let b=void 0;void 0!==v&&(b="Trading"===v);const w="spot"===p,k="swap"===p,S="futures"===p,_="option"===p;a.push({id:t,symbol:l,base:c,quote:d,active:b,precision:y,taker:this.safeNumber(e,"taker_fee"),maker:this.safeNumber(e,"maker_fee"),type:p,spot:w,swap:k,futures:S,option:_,linear:h,inverse:u,limits:{amount:{min:this.safeNumber(m,"min_trading_qty"),max:this.safeNumber(m,"max_trading_qty")},price:{min:this.safeNumber(g,"min_price"),max:this.safeNumber(g,"max_price")},cost:{min:void 0,max:void 0}},info:e})}return a}parseTicker(e,t){const i=void 0,s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"last_price"),n=this.safeNumber(e,"prev_price_24h");let o=this.safeNumber(e,"price_24h_pcnt");void 0!==o&&(o*=100);let c=void 0,d=void 0;void 0!==a&&void 0!==n&&(c=a-n,d=this.sum(n,a)/2);const h=this.safeNumber(e,"turnover_24h"),u=this.safeNumber(e,"volume_24h"),l=this.vwap(h,u);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_price_24h"),low:this.safeNumber(e,"low_price_24h"),bid:this.safeNumber(e,"bid_price"),bidVolume:void 0,ask:this.safeNumber(e,"ask_price"),askVolume:void 0,vwap:l,open:n,close:a,last:a,previousClose:void 0,change:c,percentage:o,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.v2PublicGetTickers(this.extend(s,t)),a=this.safeValue(r,"result",[]),n=this.safeValue(a,0),o=this.safeTimestamp(r,"time_now"),c=this.parseTicker(n,i);return c["timestamp"]=o,c["datetime"]=this.iso8601(o),c}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.v2PublicGetTickers(t),s=this.safeValue(i,"result",[]),r={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}parseOHLCV(e,t){return[this.safeTimestamp2(e,"open_time","start_at"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber2(e,"turnover","volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],interval:this.timeframes[t]},c=this.parseTimeframe(t),d=this.seconds();if(void 0===i){if(void 0===s)throw new o(this.id+" fetchOHLCV() requires a since argument or a limit argument");n["from"]=d-s*c}else n["from"]=parseInt(i/1e3);void 0!==s&&(n["limit"]=s);const h=a["linear"]?"publicLinearGetKline":"v2PublicGetKlineList",u=await this[h](this.extend(n,r)),l=this.safeValue(u,"result",{});return this.parseOHLCVs(l,a,t,i,s)}parseTrade(e,t){const i=this.safeString2(e,"id","exec_id"),s=this.safeString(e,"symbol");t=this.safeMarket(s,t);const r=t["symbol"],a=this.safeString2(e,"qty","exec_qty"),n=this.safeString2(e,"exec_price","price");let o=this.safeNumber(e,"exec_value");const c=this.parseNumber(a),d=this.parseNumber(n);void 0===o&&(o=this.parseNumber(m.stringMul(n,a)));let h=this.parse8601(this.safeString(e,"time"));void 0===h&&(h=this.safeInteger(e,"trade_time_ms"));const u=this.safeStringLower(e,"side"),l=this.safeString(e,"last_liquidity_ind"),f="AddedLiquidity"===l?"maker":"taker",p=this.safeNumber(e,"exec_fee");let g=void 0;if(void 0!==p){const i=t["inverse"]?t["base"]:t["quote"];g={cost:p,currency:i,rate:this.safeNumber(e,"fee_rate")}}return{id:i,info:e,timestamp:h,datetime:this.iso8601(h),symbol:r,order:this.safeString(e,"order_id"),type:this.safeStringLower(e,"order_type"),side:u,takerOrMaker:f,price:d,amount:c,cost:o,fee:g}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["count"]=i);const n=r["linear"]?"publicLinearGetRecentTradingRecords":"v2PublicGetTradingRecords",o=await this[n](this.extend(a,s)),c=this.safeValue(o,"result",{});return this.parseTrades(c,r,t,i)}parseOrderBook(e,t,i,s="Buy",r="Sell",a="price",o="size"){const c=[],d=[];for(let h=0;h<e.length;h++){const t=e[h],i=this.safeString(t,"side");if("Buy"===i)c.push(this.parseBidAsk(t,a,o));else{if("Sell"!==i)throw new n(this.id+" parseOrderBook encountered an unrecognized bidask format: "+this.json(t));d.push(this.parseBidAsk(t,a,o))}}return{symbol:t,bids:this.sortBy(c,0,!0),asks:this.sortBy(d,0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]},a=await this.v2PublicGetOrderBookL2(this.extend(r,i)),n=this.safeValue(a,"result",[]),o=this.safeTimestamp(a,"time_now");return this.parseOrderBook(n,e,o,"Buy","Sell","price","size")}async fetchBalance(e={}){await this.loadMarkets();const t={},i=this.safeString(e,"coin"),s=this.safeString(e,"code");if(void 0!==i)t["coin"]=i;else if(void 0!==s){const e=this.currency(s);t["coin"]=e["id"]}const r=await this.v2PrivateGetWalletBalance(this.extend(t,e)),a={info:r},n=this.safeValue(r,"result",{}),o=Object.keys(n);for(let c=0;c<o.length;c++){const e=o[c],t=n[e],i=this.safeCurrencyCode(e),s=this.account();s["free"]=this.safeString(t,"available_balance"),s["used"]=this.safeString(t,"used_margin"),s["total"]=this.safeString(t,"equity"),a[i]=s}return this.parseBalance(a,!1)}parseOrderStatus(e){const t={Created:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Cancelled:"canceled",PendingCancel:"canceling",Active:"open",Untriggered:"open",Triggered:"closed",Deactivated:"canceled"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK",PostOnly:"PO"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const s=t["symbol"];let r=void 0;const a=this.parse8601(this.safeString(e,"created_at")),n=this.safeString2(e,"order_id","stop_order_id"),o=this.safeStringLower(e,"order_type");let c=this.safeNumber(e,"price");0===c&&(c=void 0);const d=this.safeNumber(e,"average_price"),h=this.safeNumber(e,"qty"),u=this.safeNumber(e,"cum_exec_value"),l=this.safeNumber(e,"cum_exec_qty"),f=this.safeNumber(e,"leaves_qty"),p=this.safeValue(this.options,"marketTypes",{}),m=this.safeString(p,s);void 0!==t&&(r="linear"===m?t["quote"]:t["base"]);let g=this.safeTimestamp(e,"last_exec_time");0===g&&(g=void 0);const y=this.parseOrderStatus(this.safeString2(e,"order_status","stop_order_status")),v=this.safeStringLower(e,"side");let b=this.safeNumber(e,"cum_exec_fee"),w=void 0;void 0!==b&&(b=Math.abs(b),w={cost:b,currency:r});let k=this.safeString(e,"order_link_id");void 0!==k&&k.length<1&&(k=void 0);const S=this.parseTimeInForce(this.safeString(e,"time_in_force")),_=this.safeNumber2(e,"trigger_price","stop_px"),O="PO"===S;return this.safeOrder({info:e,id:n,clientOrderId:k,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:g,symbol:s,type:o,timeInForce:S,postOnly:O,side:v,price:c,stopPrice:_,amount:h,cost:u,average:d,filled:l,remaining:f,status:y,fee:w,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={symbol:s["id"]};let a=void 0;s["swap"]?s["linear"]?a="privateLinearGetOrderSearch":s["inverse"]&&(a="v2PrivateGetOrder"):s["futures"]&&(a="futuresPrivateGetOrder");const n=this.safeString(i,"stop_order_id");if(void 0===n){const t=this.safeString(i,"order_link_id");void 0===t&&(r["order_id"]=e)}else s["swap"]?s["linear"]?a="privateLinearGetStopOrderSearch":s["inverse"]&&(a="v2PrivateGetStopOrder"):s["futures"]&&(a="futuresPrivateGetStopOrder");const c=await this[a](this.extend(r,i)),d=this.safeValue(c,"result");return this.parseOrder(d,s)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e);let c=this.amountToPrecision(e,s);c=n["inverse"]?parseInt(c):parseFloat(c);const d={side:this.capitalize(i),symbol:n["id"],order_type:this.capitalize(t),qty:c,time_in_force:"GoodTillCancel"};let h=!1;if("limit"===t&&(h=!0),h){if(void 0===r)throw new o(this.id+" createOrder() requires a price argument for a "+t+" order");d["price"]=parseFloat(this.priceToPrecision(e,r))}const u=this.safeString2(a,"order_link_id","clientOrderId");void 0!==u&&(d["order_link_id"]=u,a=this.omit(a,["order_link_id","clientOrderId"]));const l=this.safeValue2(a,"stop_px","stopPrice"),f=this.safeValue(a,"base_price");let p=void 0;if(n["swap"]?n["linear"]?(p="privateLinearPostOrderCreate",d["reduce_only"]=!1,d["close_on_trigger"]=!1):n["inverse"]&&(p="v2PrivatePostOrderCreate"):n["futures"]&&(p="futuresPrivatePostOrderCreate"),void 0!==l){if(void 0===f)throw new o(this.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");n["swap"]?n["linear"]?p="privateLinearPostStopOrderCreate":n["inverse"]&&(p="v2PrivatePostStopOrderCreate"):n["futures"]&&(p="futuresPrivatePostStopOrderCreate"),d["stop_px"]=parseFloat(this.priceToPrecision(e,l)),d["base_price"]=parseFloat(this.priceToPrecision(e,f)),a=this.omit(a,["stop_px","stopPrice","base_price"])}else if(void 0!==f)throw new o(this.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");const m=await this[p](this.extend(d,a)),g=this.safeValue(m,"result");return this.parseOrder(g,n)}async editOrder(e,t,i,s,r,a,n={}){if(void 0===t)throw new o(this.id+" editOrder() requires an symbol argument");await this.loadMarkets();const c=this.market(t),d={symbol:c["id"]};let h=void 0;c["swap"]?c["linear"]?h="privateLinearPostOrderReplace":c["inverse"]&&(h="v2PrivatePostOrderReplace"):c["futures"]&&(h="futuresPrivatePostOrderReplace");const u=this.safeString(n,"stop_order_id");if(void 0!==u?(c["swap"]?c["linear"]?h="privateLinearPostStopOrderReplace":c["inverse"]&&(h="v2PrivatePostStopOrderReplace"):c["futures"]&&(h="futuresPrivatePostStopOrderReplace"),d["stop_order_id"]=u,n=this.omit(n,["stop_order_id"])):d["order_id"]=e,void 0!==r){let e=this.amountToPrecision(t,r);e=c["inverse"]?parseInt(e):parseFloat(e),d["p_r_qty"]=e}void 0!==a&&(d["p_r_price"]=parseFloat(this.priceToPrecision(t,a)));const l=await this[h](this.extend(d,n)),f=this.safeValue(l,"result",{});return{info:l,id:this.safeString2(f,"order_id","stop_order_id"),order_id:this.safeString(f,"order_id"),stop_order_id:this.safeString(f,"stop_order_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={symbol:s["id"]};let a=void 0;s["swap"]?s["linear"]?a="privateLinearPostOrderCancel":s["inverse"]&&(a="v2PrivatePostOrderCancel"):s["futures"]&&(a="futuresPrivatePostOrderCancel");const n=this.safeString(i,"stop_order_id");if(void 0===n){const t=this.safeString(i,"order_link_id");void 0===t&&(r["order_id"]=e)}else s["swap"]?s["linear"]?a="privateLinearPostStopOrderCancel":s["inverse"]&&(a="v2PrivatePostStopOrderCancel"):s["futures"]&&(a="futuresPrivatePostStopOrderCancel");const c=await this[a](this.extend(r,i)),d=this.safeValue(c,"result",{});return this.parseOrder(d,s)}async cancelAllOrders(e,t={}){if(void 0===e)throw new o(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=this.safeValue(this.options,"cancelAllOrders",{});let a=void 0;i["swap"]?i["linear"]?a="privateLinearPostOrderCancelAll":i["inverse"]&&(a="v2PrivatePostOrderCancelAll"):i["futures"]&&(a="futuresPrivatePostOrderCancelAll");const n=this.safeString(r,"method",a),c=await this[n](this.extend(s,t)),d=this.safeValue(c,"result",[]);return this.parseOrders(d,i)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["symbol"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=this.safeValue(this.options,"fetchOrders",{}),o=this.safeString(this.options,"defaultType","linear"),c=this.safeValue(this.options,"marketTypes",{}),d=this.safeString(c,e,o);let h=void 0;const u=void 0!==a,l=u&&a["linear"]||"linear"===d,f=u&&a["swap"]&&a["inverse"]||"inverse"===d,p=u&&a["futures"]||"futures"===d;l?h="privateLinearGetOrderList":f?h="v2PrivateGetOrderList":p&&(h="futuresPrivateGetOrderList");let m=s;if("stop_order_id"in s||"stop_order_status"in s){let e=this.safeValue(s,"stop_order_status");void 0!==e&&(Array.isArray(e)&&(e=e.join(",")),r["stop_order_status"]=e,m=this.omit(s,"stop_order_status")),l?h="privateLinearGetStopOrderList":f?h="v2PrivateGetStopOrderList":p&&(h="futuresPrivateGetStopOrderList")}const g=this.safeString(n,"method",h),y=await this[g](this.extend(r,m)),v=this.safeValue(y,"result",{}),b=this.safeValue(v,"data",[]);return this.parseOrders(b,a,t,i)}async fetchClosedOrders(e,t,i,s={}){const r=["Rejected","Filled","Cancelled"],a=this.safeValue(this.options,"fetchClosedOrders",{});let n=this.safeValue(a,"order_status",r);Array.isArray(n)&&(n=n.join(","));const o={},c=this.safeValue(s,"stop_order_status");return void 0===c?o["order_status"]=n:o["stop_order_status"]=c,await this.fetchOrders(e,t,i,this.extend(o,s))}async fetchOpenOrders(e,t,i,s={}){const r=["Created","New","PartiallyFilled","PendingCancel"],a=this.safeValue(this.options,"fetchOpenOrders",{});let n=this.safeValue(a,"order_status",r);Array.isArray(n)&&(n=n.join(","));const o={},c=this.safeValue(s,"stop_order_status");return void 0===c?o["order_status"]=n:o["stop_order_status"]=c,await this.fetchOrders(e,t,i,this.extend(o,s))}async fetchOrderTrades(e,t,i,s,r={}){const a={order_id:e};return await this.fetchMyTrades(t,i,s,this.extend(a,r))}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;if(void 0===e){const e=this.safeString(s,"order_id");if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument or an order_id param");r["order_id"]=e,s=this.omit(s,"order_id")}else a=this.market(e),r["symbol"]=a["id"];void 0!==t&&(r["start_time"]=t),void 0!==i&&(r["limit"]=i);const n=this.safeString(this.options,"defaultType","linear"),c=this.safeValue(this.options,"marketTypes",{}),d=this.safeString(c,e,n),h=void 0!==a,u=h&&a["linear"]||"linear"===d,l=h&&a["swap"]&&a["inverse"]||"inverse"===d,f=h&&a["futures"]||"futures"===d;let p=void 0;u?p="privateLinearGetTradeExecutionList":l?p="v2PrivateGetExecutionList":f&&(p="futuresPrivateGetExecutionList");const m=await this[p](this.extend(r,s)),g=this.safeValue(m,"result",{}),y=this.safeValue2(g,"trade_list","data",[]);return this.parseTrades(y,a,t,i)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={wallet_fund_type:"Deposit"};let a=void 0;void 0!==e&&(a=this.currency(e),r["coin"]=a["id"]),void 0!==t&&(r["start_date"]=this.ymd(t)),void 0!==i&&(r["limit"]=i);const n=await this.v2PrivateGetWalletFundRecords(this.extend(r,s)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["coin"]=a["id"]),void 0!==t&&(r["start_date"]=this.ymd(t)),void 0!==i&&(r["limit"]=i);const n=await this.v2PrivateGetWalletWithdrawList(this.extend(r,s)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,a,t,i,{type:"withdrawal"})}parseTransactionStatus(e){const t={ToBeConfirmed:"pending",UnderReview:"pending",Pending:"pending",Success:"ok",CancelByUser:"canceled",Reject:"rejected",Expire:"expired"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"coin"),s=this.safeCurrencyCode(i,t),r=this.parse8601(this.safeString2(e,"submited_at","exec_time")),a=this.parse8601(this.safeString(e,"updated_at")),n=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeString(e,"address"),c=this.safeNumber(e,"fee"),d=this.safeStringLower(e,"type");let h=void 0;return void 0!==c&&(h={cost:c,currency:s}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx_id"),timestamp:r,datetime:this.iso8601(r),address:o,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:d,amount:this.safeNumber(e,"amount"),currency:s,status:n,updated:a,fee:h}}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["coin"]=a["id"]),void 0!==t&&(r["start_date"]=this.ymd(t)),void 0!==i&&(r["limit"]=i);const n=await this.v2PrivateGetWalletFundRecords(this.extend(r,s)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseLedger(c,a,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"coin"),s=this.safeCurrencyCode(i,t),r=this.safeNumber(e,"amount"),a=this.safeNumber(e,"wallet_balance"),n=r<0?"out":"in";let o=void 0;if(void 0!==a&&void 0!==r){const e="out"===n?r:-r;o=this.sum(a,e)}const c=this.parse8601(this.safeString(e,"exec_time")),d=this.parseLedgerEntryType(this.safeString(e,"type")),h=this.safeString(e,"id"),u=this.safeString(e,"tx_id");return{id:h,currency:s,account:this.safeString(e,"wallet_id"),referenceAccount:void 0,referenceId:u,status:void 0,amount:r,before:o,after:a,fee:void 0,direction:n,timestamp:c,datetime:this.iso8601(c),type:d,info:e}}parseLedgerEntryType(e){const t={Deposit:"transaction",Withdraw:"transaction",RealisedPNL:"trade",Commission:"fee",Refund:"cashback",Prize:"prize",ExchangeOrderWithdraw:"transaction",ExchangeOrderDeposit:"transaction"};return this.safeString(t,e,e)}async fetchPositions(e,t={}){await this.loadMarkets();const i={};if(Array.isArray(e)){const t=e.length;if(1!==t)throw new o(this.id+" fetchPositions takes exactly one symbol");i["symbol"]=this.marketId(e[0])}const s=this.safeString(this.options,"defaultType","linear"),r=this.safeString(t,"type",s);t=this.omit(t,"type");let a=void 0;return"linear"===r?a=await this.privateLinearGetPositionList(this.extend(i,t)):"inverse"===r?a=await this.v2PrivateGetPositionList(this.extend(i,t)):"inverseFuture"===r&&(a=await this.futuresPrivateGetPositionList(this.extend(i,t))),this.safeValue(a,"result")}sign(e,t="public",i="GET",s={},r,a){const n=this.safeString(t,0),o=this.safeString(t,1);let c=this.implodeHostname(this.urls["api"][n]),d="/"+n+"/"+o+"/"+e;if("public"===o)Object.keys(s).length&&(d+="?"+this.rawencode(s));else if("public"===n)Object.keys(s).length&&(d+="?"+this.rawencode(s));else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend(s,{api_key:this.apiKey,recv_window:this.options["recvWindow"],timestamp:e}),n=this.keysort(t),o=this.rawencode(n),c=this.hmac(this.encode(o),this.encode(this.secret));"POST"===i?(a=this.json(this.extend(t,{sign:c})),r={"Content-Type":"application/json"}):d+="?"+this.urlencode(n)+"&sign="+c}return c+=d,{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(!o)return;const h=this.safeString(o,"ret_code");if("0"!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],a,e),new n(e)}}}},"0fd9":function(e,t,i){"use strict";var s=i("ade3"),r=i("5530"),a=(i("caad"),i("2532"),i("99af"),i("b64b"),i("ac1f"),i("5319"),i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("159b"),i("4b85"),i("2b0e")),n=i("d9f7"),o=i("80d2"),c=["sm","md","lg","xl"],d=["start","end","center"];function h(e,t){return c.reduce((function(i,s){return i[e+Object(o["D"])(s)]=t(),i}),{})}var u=function(e){return[].concat(d,["baseline","stretch"]).includes(e)},l=h("align",(function(){return{type:String,default:null,validator:u}})),f=function(e){return[].concat(d,["space-between","space-around"]).includes(e)},p=h("justify",(function(){return{type:String,default:null,validator:f}})),m=function(e){return[].concat(d,["space-between","space-around","stretch"]).includes(e)},g=h("alignContent",(function(){return{type:String,default:null,validator:m}})),y={align:Object.keys(l),justify:Object.keys(p),alignContent:Object.keys(g)},v={align:"align",justify:"justify",alignContent:"align-content"};function b(e,t,i){var s=v[e];if(null!=i){if(t){var r=t.replace(e,"");s+="-".concat(r)}return s+="-".concat(i),s.toLowerCase()}}var w=new Map;t["a"]=a["a"].extend({name:"v-row",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u}},l),{},{justify:{type:String,default:null,validator:f}},p),{},{alignContent:{type:String,default:null,validator:m}},g),render:function(e,t){var i=t.props,r=t.data,a=t.children,o="";for(var c in i)o+=String(i[c]);var d=w.get(o);return d||function(){var e,t;for(t in d=[],y)y[t].forEach((function(e){var s=i[e],r=b(t,e,s);r&&d.push(r)}));d.push((e={"no-gutters":i.noGutters,"row--dense":i.dense},Object(s["a"])(e,"align-".concat(i.align),i.align),Object(s["a"])(e,"justify-".concat(i.justify),i.justify),Object(s["a"])(e,"align-content-".concat(i.alignContent),i.alignContent),e)),w.set(o,d)}(),e(i.tag,Object(n["a"])(r,{staticClass:"row",class:d}),a)}})},"107c":function(e,t,i){var s=i("d039");e.exports=s((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1087:function(e,t,i){"use strict";const s=i("2aa1");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"okcoin",name:"OKCoin",countries:["CN","US"],hostname:"okcoin.com",pro:!0,urls:{logo:"https://user-images.githubusercontent.com/51840849/87295551-102fbf00-c50e-11ea-90a9-462eebba5829.jpg",www:"https://www.okcoin.com",doc:"https://www.okcoin.com/docs/en/",fees:"https://www.okcoin.com/coin-fees",referral:"https://www.okcoin.com/account/register?flag=activity&channelId=600001513"},fees:{trading:{taker:.002,maker:.001}},options:{fetchMarkets:["spot"]}})}}},"10d2":function(e,t,i){"use strict";var s=i("8dd9");t["a"]=s["a"]},"113d":function(e,t,i){"use strict";const{unCamelCase:s}=i("a9b0"),r=e=>{for(const t in e)e[s(t)]=e[t];return e};e.exports=r(Object.assign({},i("2018"),i("c0b9"),i("a9b0"),i("57bb"),i("5ea4"),i("39f1"),i("66cb"),i("aef9"),i("66c7"),i("ca38")))},1148:function(e,t,i){"use strict";var s=i("a691"),r=i("1d80");e.exports=function(e){var t=String(r(this)),i="",a=s(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(i+=t);return i}},"11ca":function(e,t,i){(function(t){var s=i("1ea0"),r=i("f4c8"),a={RSA_NO_PADDING:3};i("7ab5");var n={md2:t.from("3020300c06082a864886f70d020205000410","hex"),md5:t.from("3020300c06082a864886f70d020505000410","hex"),sha1:t.from("3021300906052b0e03021a05000414","hex"),sha224:t.from("302d300d06096086480165030402040500041c","hex"),sha256:t.from("3031300d060960864801650304020105000420","hex"),sha384:t.from("3041300d060960864801650304020205000430","hex"),sha512:t.from("3051300d060960864801650304020305000440","hex"),ripemd160:t.from("3021300906052b2403020105000414","hex"),rmd160:t.from("3021300906052b2403020105000414","hex")},o={ripemd160:"rmd160"},c="sha256";function d(e,t){var i=[],s=255;return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&s),t>2&&i.push(e>>>8&s),t>3&&i.push(e&s),i}function h(e){let i=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");i=e.sigBytes,e=e.words;const s=[];let r=[],a=0;while(i>0)r=d(e[a],Math.min(4,i)),i-=r.length,s.push(r),a++;return new t.from([].concat.apply([],s),"hex")}e.exports={isEncryption:!0,isSignature:!0},e.exports.makeScheme=function(e,i){function d(e,t){this.key=e,this.options=t}return d.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==a.RSA_NO_PADDING?this.key.encryptedDataLength:this.key.encryptedDataLength-11},d.prototype.encUnPad=function(e,t){t=t||{};var i,s=0;if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==a.RSA_NO_PADDING)return i="function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length),i;if(e.length<4)return null;if(1===t.type){if(0!==e[0]&&1!==e[1])return null;s=3;while(0!==e[s])if(255!=e[s]||++s>=e.length)return null}else{if(0!==e[0]&&2!==e[1])return null;s=3;while(0!==e[s])if(++s>=e.length)return null}return e.slice(s+1,e.length)},d.prototype.sign=function(e){var t=this.options.signingSchemeOptions.hash||c;if("browser"===this.options.environment){t=o[t]||t;var i=r[t.toUpperCase()](e.toString()),a=h(i),n=this.pkcs1pad(a,t),d=this.key.$doPrivate(new s(n)).toBuffer(this.key.encryptedDataLength);return d}throw new Error("CCXT only supports browser mode :P")},d.prototype.pkcs1pad=function(e,i){var s=n[i];if(!s)throw Error("Unsupported hash algorithm");var r=t.concat([s,e]);if(r.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+i+")");var a=t.alloc(this.key.encryptedDataLength-r.length-1);a.fill(255,0,a.length-1),a[0]=1,a[a.length-1]=0;var o=t.concat([a,r]);return o},new d(e,i)}}).call(this,i("b639").Buffer)},1237:function(e,t,i){"use strict";const s=i("56af"),{ExchangeError:r,InvalidAddress:a,ArgumentsRequired:n,InsufficientFunds:o,AuthenticationError:c,OrderNotFound:d,InvalidOrder:h,BadRequest:u,InvalidNonce:l,BadSymbol:f,OnMaintenance:p,NotSupported:m,PermissionDenied:g}=i("74b0"),y=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitfinex2",name:"Bitfinex",countries:["VG"],version:"v2",certified:!1,pro:!1,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchClosedOrder:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrderTrades:!0,fetchStatus:!0,fetchTickers:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v1:"https://api.bitfinex.com",public:"https://api-pub.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",doc:["https://docs.bitfinex.com/v2/docs/","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["conf/{config}","conf/pub:{action}:{object}","conf/pub:{action}:{object}:{detail}","conf/pub:map:{object}","conf/pub:map:{object}:{detail}","conf/pub:map:currency:{detail}","conf/pub:map:currency:sym","conf/pub:map:currency:label","conf/pub:map:currency:unit","conf/pub:map:currency:undl","conf/pub:map:currency:pool","conf/pub:map:currency:explorer","conf/pub:map:currency:tx:fee","conf/pub:map:tx:method","conf/pub:list:{object}","conf/pub:list:{object}:{detail}","conf/pub:list:currency","conf/pub:list:pair:exchange","conf/pub:list:pair:margin","conf/pub:list:pair:futures","conf/pub:list:competitions","conf/pub:info:{object}","conf/pub:info:{object}:{detail}","conf/pub:info:pair","conf/pub:info:tx:status","conf/pub:fees","platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}:{side}/last","stats1/{key}:{size}:{symbol}:{side}/hist","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}/last","stats1/{key}:{size}:{symbol}/hist","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}:{period}/{section}","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist","status/{type}","status/deriv","liquidations/hist","rankings/{key}:{timeframe}:{symbol}/{section}","rankings/{key}:{timeframe}:{symbol}/hist"],post:["calc/trade/avg","calc/fx"]},private:{post:["auth/r/wallets","auth/r/wallets/hist","auth/r/orders","auth/r/orders/{symbol}","auth/w/order/submit","auth/w/order/update","auth/w/order/cancel","auth/w/order/multi","auth/w/order/cancel/multi","auth/r/orders/{symbol}/hist","auth/r/orders/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/{symbol}/hist","auth/r/trades/hist","auth/r/ledgers/{currency}/hist","auth/r/ledgers/hist","auth/r/info/margin/{key}","auth/r/info/margin/base","auth/r/info/margin/sym_all","auth/r/positions","auth/w/position/claim","auth/r/positions/hist","auth/r/positions/audit","auth/r/positions/snap","auth/w/deriv/collateral/set","auth/w/deriv/collateral/limits","auth/r/funding/offers","auth/r/funding/offers/{symbol}","auth/w/funding/offer/submit","auth/w/funding/offer/cancel","auth/w/funding/offer/cancel/all","auth/w/funding/close","auth/w/funding/auto","auth/w/funding/keep","auth/r/funding/offers/{symbol}/hist","auth/r/funding/offers/hist","auth/r/funding/loans","auth/r/funding/loans/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits","auth/r/funding/credits/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/funding/trades/hist","auth/r/info/funding/{key}","auth/r/info/user","auth/r/logins/hist","auth/w/transfer","auth/w/deposit/address","auth/w/deposit/invoice","auth/w/withdraw","auth/r/movements/{currency}/hist","auth/r/movements/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/price:{symbol}:{price}/del","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/w/settings/set","auth/r/settings","auth/w/settings/del"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:4e-4,BCH:1e-4,ETH:.00135,EOS:0,LTC:.001,OMG:.15097,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:1e-4,QTM:.01,EDO:.23687,DAT:9.8858,AVT:1.1251,SAN:.35977,USDT:5,SPK:16.971,BAT:1.1209,GNT:2.8789,SNT:9.0848,QASH:1.726,YYW:7.9464}}},options:{precision:"R0",exchangeTypes:{"EXCHANGE MARKET":"market","EXCHANGE LIMIT":"limit"},orderTypes:{market:"EXCHANGE MARKET",limit:"EXCHANGE LIMIT"},fiat:{USD:"USD",EUR:"EUR",JPY:"JPY",GBP:"GBP"},v2AccountsByType:{spot:"exchange",exchange:"exchange",funding:"funding",margin:"margin",derivatives:"margin"}},exceptions:{exact:{10001:g,10020:u,10100:c,10114:l,20060:p},broad:{address:a,"available balance is only":o,"not enough exchange balance":o,"Order not found":d,"symbol: invalid":f,"Invalid order":h}}})}isFiat(e){return e in this.options["fiat"]}getCurrencyId(e){return"f"+e}async fetchStatus(e={}){const t=await this.publicGetPlatformStatus(e),i=this.safeInteger(t,0),s=1===i?"ok":"maintenance";return this.status=this.extend(this.status,{status:s,updated:this.milliseconds()}),this.status}async fetchMarkets(e={}){const t=await this.publicGetConfPubListPairFutures(e),i=await this.v1GetSymbolsDetails(e),s=this.safeValue(t,0,[]),r=[];for(let a=0;a<i.length;a++){const e=i[a];let t=this.safeStringUpper(e,"pair"),n=!0;this.inArray(t,s)&&(n=!1);const o=!n,c=n?"spot":"futures";let d=void 0,h=void 0;if(t.indexOf(":")>=0){const e=t.split(":");d=e[0],h=e[1]}else d=t.slice(0,3),h=t.slice(3,6);const u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),f=u+"/"+l;t="t"+t,d=this.getCurrencyId(d),h=this.getCurrencyId(h);const p={price:this.safeInteger(e,"price_precision"),amount:8},m=this.safeString(e,"minimum_order_size"),g=this.safeString(e,"maximum_order_size"),y={amount:{min:this.parseNumber(m),max:this.parseNumber(g)},price:{min:this.parseNumber("1e-8"),max:void 0},cost:{min:void 0,max:void 0}},v=this.safeValue(e,"margin");r.push({id:t,symbol:f,base:u,quote:l,baseId:d,quoteId:h,active:!0,precision:p,limits:y,info:e,type:c,swap:!1,spot:n,margin:v,futures:o})}return r}async fetchCurrencies(e={}){const t=["pub:list:currency","pub:map:currency:sym","pub:map:currency:label","pub:map:currency:unit","pub:map:currency:undl","pub:map:currency:pool","pub:map:currency:explorer","pub:map:currency:tx:fee"],i=t.join(","),s={config:i},r=await this.publicGetConfConfig(this.extend(s,e)),a={sym:this.indexBy(this.safeValue(r,1,[]),0),label:this.indexBy(this.safeValue(r,2,[]),0),unit:this.indexBy(this.safeValue(r,3,[]),0),undl:this.indexBy(this.safeValue(r,4,[]),0),pool:this.indexBy(this.safeValue(r,5,[]),0),explorer:this.indexBy(this.safeValue(r,6,[]),0),fees:this.indexBy(this.safeValue(r,7,[]),0)},n=this.safeValue(r,0,[]),o={};for(let c=0;c<n.length;c++){const e=n[c],t=this.safeCurrencyCode(e),i=this.safeValue(a["label"],e,[]),s=this.safeString(i,1),r=this.safeValue(a["pool"],e,[]),d=this.safeString(r,1),h=this.safeValue(a["fees"],e,[]),u=this.safeValue(h,1,[]),l=this.safeNumber(u,1),f=this.safeValue(a["undl"],e,[]),p=8,m="f"+e;o[t]={id:m,code:t,info:[e,i,r,h,f],type:d,name:s,active:!0,fee:l,precision:p,limits:{amount:{min:1/Math.pow(10,p),max:void 0},withdraw:{min:l,max:void 0}}}}return o}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"v2AccountsByType",{}),i=this.safeString(e,"type","exchange"),s=this.safeString(t,i);if(void 0===s){const e=Object.keys(t);throw new r(this.id+" fetchBalance type parameter must be one of "+e.join(", "))}const a="derivatives"===i,n=this.omit(e,"type"),o=await this.privatePostAuthRWallets(n),c={info:o};for(let r=0;r<o.length;r++){const e=o[r],t=this.safeString(e,0),i=this.safeStringLower(e,1,""),n=i.length-2,d="f0"===i.slice(n),h=!a||d;if(s===t&&h){const t=this.safeCurrencyCode(i),s=this.account();s["total"]=this.safeString(e,2),s["free"]=this.safeString(e,4),c[t]=s}}return this.parseBalance(c,!1)}async transfer(e,t,i,s,a={}){await this.loadMarkets();const n=this.safeValue(this.options,"v2AccountsByType",{}),o=this.safeString(n,i);if(void 0===o){const e=Object.keys(n);throw new r(this.id+" transfer fromAccount must be one of "+e.join(", "))}const c=this.safeString(n,s);if(void 0===c){const e=Object.keys(n);throw new r(this.id+" transfer toAccount must be one of "+e.join(", "))}const d=this.currency(e),h=this.convertDerivativesId(d,i),u=this.convertDerivativesId(d,s),l=this.currencyToPrecision(e,t),f={amount:l,currency:h,currency_to:u,from:o,to:c},p=await this.privatePostAuthWTransfer(this.extend(f,a)),m=this.safeInteger(p,0),g=this.safeString(p,0);if("error"===g){const e=this.safeString(p,2,"");throw this.throwExactlyMatchedException(this.exceptions["exact"],e,this.id+" "+e),new r(this.id+" "+e)}const y=this.safeValue(p,4),v=this.safeString(y,1),b=this.safeString(y,2),w=this.safeCurrencyCode(this.safeString(y,5)),k=this.safeString(p,6),S="SUCCESS"===k?"ok":void 0;return{info:p,timestamp:m,datetime:this.iso8601(m),status:S,amount:l,code:w,fromAccount:v,toAccount:b}}convertDerivativesId(e,t){const i=this.safeValue(e,"info"),s=this.safeString(i,0),r=this.safeValue(i,4,[]);let a=void 0;if("derivatives"===t){a=this.safeString(r,0,s);const e=a.length-2,t="F0"===a.slice(e);t||(a+="F0")}else a="margin"!==t?this.safeString(r,1,s):s;return a}async fetchOrder(e,t,i={}){throw new m(this.id+" fetchOrder is not implemented yet")}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.safeValue(this.options,"precision","R0"),r={symbol:this.marketId(e),precision:s};void 0!==t&&(r["len"]=t);const a=this.extend(r,i),n=await this.publicGetBookSymbolPrecision(a),o=this.milliseconds(),c={symbol:e,bids:[],asks:[],timestamp:o,datetime:this.iso8601(o),nonce:void 0},d="R0"===a["precision"]?1:0;for(let h=0;h<n.length;h++){const e=n[h],t=this.safeNumber(e,d),i=this.safeNumber(e,2),s=Math.abs(i),r=i>0?"bids":"asks";c[r].push([t,s])}return c["bids"]=this.sortBy(c["bids"],0,!0),c["asks"]=this.sortBy(c["asks"],0),c}parseTicker(e,t){const i=this.milliseconds();let s=void 0;void 0!==t&&(s=t["symbol"]);const r=e.length,a=this.safeNumber(e,r-4);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,r-2),low:this.safeNumber(e,r-1),bid:this.safeNumber(e,r-10),bidVolume:void 0,ask:this.safeNumber(e,r-8),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeNumber(e,r-6),percentage:100*this.safeNumber(e,r-5),average:void 0,baseVolume:this.safeNumber(e,r-3),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbols"]=t.join(",")}else i["symbols"]="ALL";const s=await this.publicGetTickers(this.extend(i,t)),r={};for(let a=0;a<s.length;a++){const e=s[a],t=e[0];if(t in this.markets_by_id){const i=this.markets_by_id[t],s=i["symbol"];r[s]=this.parseTicker(e,i)}}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTickerSymbol(this.extend(s,t));return this.parseTicker(r,i)}parseSymbol(e){if(void 0===e)return e;e=e.replace("t","");let t=void 0,i=void 0;if(e.indexOf(":")>=0){const s=e.split(":");t=s[0],i=s[1]}else t=e.slice(0,3),i=e.slice(3,6);const s=this.safeCurrencyCode(t),r=this.safeCurrencyCode(i);return s+"/"+r}parseTrade(e,t){const i=e.length,s=i>5,r=this.safeString(e,0),a=s?4:2;let n=void 0,o=this.safeString(e,a);const c=s?5:3,d=this.safeString(e,c);"-"===o[0]?(n="sell",o=o.slice(1)):n="buy";const h=this.parseNumber(o),u=this.parseNumber(d),l=this.parseNumber(y.stringMul(d,o));let f=void 0,p=void 0,m=void 0,g=void 0,v=void 0;const b=s?2:1,w=this.safeInteger(e,b);if(s){const i=e[1];i in this.markets_by_id?(t=this.markets_by_id[i],v=t["symbol"]):v=this.parseSymbol(i),f=this.safeString(e,3);const s=this.safeInteger(e,8);p=1===s?"maker":"taker";let r=this.safeString(e,9);r=y.stringNeg(r);const a=this.parseNumber(r),n=this.safeString(e,10),o=this.safeCurrencyCode(n);g={cost:a,currency:o};const c=e[6];m=this.safeString(this.options["exchangeTypes"],c)}return void 0===v&&void 0!==t&&(v=t["symbol"]),{id:r,timestamp:w,datetime:this.iso8601(w),symbol:v,order:f,side:n,type:m,takerOrMaker:p,price:u,amount:h,cost:l,fee:g,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e);let a="-1";const n={symbol:r["id"]};void 0!==t&&(n["start"]=t,a="1"),void 0!==i&&(n["limit"]=i),n["sort"]=a;const o=await this.publicGetTradesSymbolHist(this.extend(n,s)),c=this.sortBy(o,1);return this.parseTrades(c,r,void 0,i)}async fetchOHLCV(e,t="1m",i,s=100,r={}){await this.loadMarkets();const a=this.market(e);void 0===s&&(s=100),void 0===i&&(i=this.milliseconds()-this.parseTimeframe(t)*s*1e3);const n={symbol:a["id"],timeframe:this.timeframes[t],sort:1,start:i,limit:s},o=await this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}parseOrderStatus(e){if(void 0===e)return e;const t=e.split(" "),i=this.safeString(t,0),s={ACTIVE:"open",PARTIALLY:"open",EXECUTED:"closed",CANCELED:"canceled",INSUFFICIENT:"canceled",RSN_DUST:"rejected",RSN_PAUSE:"rejected"};return this.safeString(s,i,e)}parseOrder(e,t){const i=this.safeString(e,0);let s=void 0;const r=this.safeString(e,3);r in this.markets_by_id?t=this.markets_by_id[r]:s=this.parseSymbol(r),void 0===s&&void 0!==t&&(s=t["symbol"]);const a=this.safeInteger(e,5),n=Math.abs(this.safeNumber(e,6)),o=this.safeNumber(e,7),c=Math.abs(o),d=o<0?"sell":"buy",h=this.safeString(e,8),u=this.safeString(this.safeValue(this.options,"exchangeTypes"),h);let l=void 0;const f=this.safeString(e,13);if(void 0!==f){const e=f.split(" @ ");l=this.parseOrderStatus(this.safeString(e,0))}const p=this.safeNumber(e,16),m=this.safeNumber(e,17),g=this.safeString(e,2);return this.safeOrder({info:e,id:i,clientOrderId:g,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:u,timeInForce:void 0,postOnly:void 0,side:d,price:p,stopPrice:void 0,amount:c,cost:void 0,average:m,filled:void 0,remaining:n,status:l,fee:void 0,trades:void 0})}async createOrder(e,t,i,s,a,o={}){await this.loadMarkets();const c=this.market(e),d=this.safeValue(this.options,"orderTypes",{}),h=this.safeStringUpper(d,t,t);s="sell"===i?-s:s;const u={symbol:c["id"],type:h,amount:this.numberToString(s)};if("LIMIT"===h||"EXCHANGE LIMIT"===h)u["price"]=this.numberToString(a);else if("STOP"===h||"EXCHANGE STOP"===h){const e=this.safeNumber(o,"stopPrice",a);u["price"]=this.numberToString(e)}else if("STOP LIMIT"===h||"EXCHANGE STOP LIMIT"===h){const e=this.safeNumber(o,"price_aux_limit");let t=this.safeNumber(o,"stopPrice");if(void 0===e){if(void 0===t)throw new n(this.id+" createOrder() requires a stopPrice parameter or a price_aux_limit parameter for a "+h+" order");u["price_aux_limit"]=this.numberToString(a)}else u["price_aux_limit"]=this.numberToString(e),void 0===t&&(t=a);u["price"]=this.numberToString(t)}else if("TRAILING STOP"===h||"EXCHANGE TRAILING STOP"===h){const e=this.safeNumber(o,"price_trailing");u["price_trailing"]=this.numberToString(e);const t=this.safeNumber(o,"stopPrice",a);u["price"]=this.numberToString(t)}else"FOK"!==h&&"EXCHANGE FOK"!==h&&"IOC"!==h&&"EXCHANGE IOC"!==h||(u["price"]=this.numberToString(a));o=this.omit(o,["stopPrice","price_aux_limit","price_trailing"]);const l=this.safeValue2(o,"cid","clientOrderId");void 0!==l&&(u["cid"]=l,o=this.omit(o,["cid","clientOrderId"]));const f=await this.privatePostAuthWOrderSubmit(this.extend(u,o)),p=this.safeString(f,6);if("SUCCESS"!==p){const e=f[5],t=f[7];throw new r(this.id+" "+f[6]+": "+t+" (#"+e+")")}const m=this.safeValue(f,4,[]),g=this.safeValue(m,0);return this.parseOrder(g,c)}async cancelAllOrders(e,t={}){const i={all:1},s=await this.privatePostAuthWOrderCancelMulti(this.extend(i,t)),r=this.safeValue(s,4,[]);return this.parseOrders(r)}async cancelOrder(e,t,i={}){const s=this.safeValue2(i,"cid","clientOrderId");let r=void 0;if(void 0!==s){const e=this.safeValue(i,"cidDate");if(void 0===e)throw new h(this.id+" canceling an order by clientOrderId ('cid') requires both 'cid' and 'cid_date' ('YYYY-MM-DD')");r={cid:s,cid_date:e},i=this.omit(i,["cid","clientOrderId"])}else r={id:parseInt(e)};const a=await this.privatePostAuthWOrderCancel(this.extend(r,i)),n=this.safeValue(a,4);return this.parseOrder(n)}async fetchOpenOrder(e,t,i={}){const s={id:[parseInt(e)]},r=await this.fetchOpenOrders(t,void 0,void 0,this.extend(s,i)),a=this.safeValue(r,0);if(void 0===a)throw new d(this.id+" order "+e+" not found");return a}async fetchClosedOrder(e,t,i={}){const s={id:[parseInt(e)]},r=await this.fetchClosedOrders(t,void 0,void 0,this.extend(s,i)),a=this.safeValue(r,0);if(void 0===a)throw new d(this.id+" order "+e+" not found");return a}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0,n=void 0;return void 0===e?n=await this.privatePostAuthROrders(this.extend(r,s)):(a=this.market(e),r["symbol"]=a["id"],n=await this.privatePostAuthROrdersSymbol(this.extend(r,s))),this.parseOrders(n,a,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0,n=void 0;return void 0===e?n=await this.privatePostAuthROrdersHist(this.extend(r,s)):(a=this.market(e),r["symbol"]=a["id"],n=await this.privatePostAuthROrdersSymbolHist(this.extend(r,s))),void 0!==t&&(r["start"]=t),void 0!==i&&(r["limit"]=i),this.parseOrders(n,a,t,i)}async fetchOrderTrades(e,t,i,s,r={}){if(void 0===t)throw new n(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t),o=parseInt(e),c={id:o,symbol:a["id"]},d=await this.privatePostAuthROrderSymbolIdTrades(this.extend(c,r));return this.parseTrades(d,a,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={end:this.milliseconds()};void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);let n="privatePostAuthRTradesHist";void 0!==e&&(r=this.market(e),a["symbol"]=r["id"],n="privatePostAuthRTradesSymbolHist");const o=await this[n](this.extend(a,s));return this.parseTrades(o,r,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={op_renew:1},s=await this.fetchDepositAddress(e,this.extend(i,t));return s}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.getCurrencyName(e),s={method:i,wallet:"exchange",op_renew:0},r=await this.privatePostAuthWDepositAddress(this.extend(s,t)),a=this.safeValue(r,4,[]),n=this.safeString(a,5),o=void 0===n?this.safeString(a,4):n,c=void 0===n?void 0:this.safeString(a,4);return this.checkAddress(o),{currency:e,address:o,tag:c,info:r}}parseTransactionStatus(e){const t={SUCCESS:"ok",ERROR:"failed",FAILURE:"failed",CANCELED:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=e.length;let s=void 0,r=void 0,a=void 0,n=void 0,o=void 0,c=void 0,d=void 0,h=void 0,u=void 0,l=void 0,f=void 0;if(i<9){const i=this.safeValue(e,4,[]);s=this.safeInteger(e,0),void 0!==t&&(a=t["code"]),u=this.safeNumber(i,8),void 0!==u&&(u=-u),n=this.safeNumber(i,5),o=this.safeValue(i,0),c="ok",0===o&&(o=void 0,c="failed"),d=this.safeString(i,3),h="withdrawal"}else o=this.safeString(e,0),s=this.safeInteger(e,5),r=this.safeInteger(e,6),c=this.parseTransactionStatus(this.safeString(e,9)),n=this.safeNumber(e,12),void 0!==n&&(h=n<0?"withdrawal":"deposit"),u=this.safeNumber(e,13),void 0!==u&&(u=-u),f=this.safeString(e,16),l=this.safeString(e,20);return{info:e,id:o,txid:l,timestamp:s,datetime:this.iso8601(s),addressFrom:void 0,address:f,addressTo:f,tagFrom:void 0,tag:d,tagTo:d,type:h,amount:n,currency:a,status:c,updated:r,fee:{currency:a,cost:u,rate:void 0}}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};let n="privatePostAuthRMovementsHist";void 0!==e&&(r=this.currency(e),a["currency"]=r["id"],n="privatePostAuthRMovementsCurrencyHist"),void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const o=await this[n](this.extend(a,s));return this.parseTransactions(o,r,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.getCurrencyName(e),o={method:n,wallet:"exchange",amount:this.numberToString(t),address:i};void 0!==s&&(o["payment_id"]=s);const c=await this.privatePostAuthWWithdraw(this.extend(o,r)),d=this.safeString(c,7);"success"!==d&&this.throwBroadlyMatchedException(this.exceptions["broad"],d,d);const h=this.parseTransaction(c,a);return this.extend(h,{address:i})}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privatePostPositions(t);return i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));n="v1"===t?t+n:this.version+n;let c=this.urls["api"][t]+"/"+n;if("public"===t&&Object.keys(o).length&&(c+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();a=this.json(o);const t="/api/"+n+e+a,i=this.hmac(this.encode(t),this.encode(this.secret),"sha384");r={"bfx-nonce":e,"bfx-apikey":this.apiKey,"bfx-signature":i,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const c=await this.fetch2(e,t,i,s,a,n);if(c){if("message"in c){if(c["message"].indexOf("not enough exchange balance")>=0)throw new o(this.id+" "+this.json(c));throw new r(this.id+" "+this.json(c))}return c}if(""===c)throw new r(this.id+" returned empty response");return c}handleErrors(e,t,i,s,a,n,o,c,d){if(500===e){const e=this.numberToString(o[1]),t=o[2],i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new r(this.id+" "+t+" (#"+e+")")}}}},"123c":function(e,t,i){"use strict";const s=i("01b4");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitcoincom",name:"bitcoin.com",countries:["KN"],urls:{logo:"https://user-images.githubusercontent.com/1294454/97296144-514fa300-1861-11eb-952b-3d55d492200b.jpg",api:{public:"https://api.exchange.bitcoin.com",private:"https://api.exchange.bitcoin.com"},www:"https://exchange.bitcoin.com",doc:"https://api.exchange.bitcoin.com/api/2/explore",fees:"https://exchange.bitcoin.com/fees-and-limits",referral:"https://exchange.bitcoin.com/referral/da948b21d6c92d69"},fees:{trading:{maker:.0015,taker:.002}}})}}},1276:function(e,t,i){"use strict";var s=i("d784"),r=i("44e7"),a=i("825a"),n=i("1d80"),o=i("4840"),c=i("8aa5"),d=i("50c4"),h=i("14c3"),u=i("9263"),l=i("9f7f"),f=i("d039"),p=l.UNSUPPORTED_Y,m=[].push,g=Math.min,y=4294967295,v=!f((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));s("split",(function(e,t,i){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var s=String(n(this)),a=void 0===i?y:i>>>0;if(0===a)return[];if(void 0===e)return[s];if(!r(e))return t.call(s,e,a);var o,c,d,h=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=new RegExp(e.source,l+"g");while(o=u.call(p,s)){if(c=p.lastIndex,c>f&&(h.push(s.slice(f,o.index)),o.length>1&&o.index<s.length&&m.apply(h,o.slice(1)),d=o[0].length,f=c,h.length>=a))break;p.lastIndex===o.index&&p.lastIndex++}return f===s.length?!d&&p.test("")||h.push(""):h.push(s.slice(f)),h.length>a?h.slice(0,a):h}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var r=n(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,r,i):s.call(String(r),t,i)},function(e,r){var n=i(s,this,e,r,s!==t);if(n.done)return n.value;var u=a(this),l=String(e),f=o(u,RegExp),m=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"g":"y"),b=new f(p?"^(?:"+u.source+")":u,v),w=void 0===r?y:r>>>0;if(0===w)return[];if(0===l.length)return null===h(b,l)?[l]:[];var k=0,S=0,_=[];while(S<l.length){b.lastIndex=p?0:S;var O,T=h(b,p?l.slice(S):l);if(null===T||(O=g(d(b.lastIndex+(p?S:0)),l.length))===k)S=c(l,S,m);else{if(_.push(l.slice(k,S)),_.length===w)return _;for(var C=1;C<=T.length-1;C++)if(_.push(T[C]),_.length===w)return _;S=k=O}}return _.push(l.slice(k)),_}]}),!v,p)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"132d":function(e,t,i){"use strict";var s,r=i("5530"),a=(i("c96a"),i("caad"),i("2532"),i("a9e3"),i("498a"),i("7db0"),i("fb6a"),i("4804"),i("7e2b")),n=i("a9ad"),o=i("af2b"),c=i("7560"),d=i("80d2"),h=i("2b0e"),u=i("58df");function l(e){return["fas","far","fal","fab","fad","fak"].some((function(t){return e.includes(t)}))}function f(e){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4}(function(e){e["xSmall"]="12px",e["small"]="16px",e["default"]="24px",e["medium"]="28px",e["large"]="36px",e["xLarge"]="40px"})(s||(s={}));var p=Object(u["a"])(a["a"],n["a"],o["a"],c["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1},hasClickListener:function(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon:function(){var e="";return this.$slots.default&&(e=this.$slots.default[0].text.trim()),Object(d["A"])(this,e)},getSize:function(){var e={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},t=Object(d["x"])(e).find((function(t){return e[t]}));return t&&s[t]||Object(d["g"])(this.size)},getDefaultData:function(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:Object(r["a"])({"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0},this.attrs$),on:this.listeners$}},getSvgWrapperData:function(){var e=this.getSize(),t=Object(r["a"])(Object(r["a"])({},this.getDefaultData()),{},{style:e?{fontSize:e,height:e,width:e}:void 0});return this.applyColors(t),t},applyColors:function(e){e.class=Object(r["a"])(Object(r["a"])({},e.class),this.themeClasses),this.setTextColor(this.color,e)},renderFontIcon:function(e,t){var i=[],s=this.getDefaultData(),r="material-icons",a=e.indexOf("-"),n=a<=-1;n?i.push(e):(r=e.slice(0,a),l(r)&&(r="")),s.class[r]=!0,s.class[e]=!n;var o=this.getSize();return o&&(s.style={fontSize:o}),this.applyColors(s),t(this.hasClickListener?"button":this.tag,s,i)},renderSvgIcon:function(e,t){var i={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},s=this.getSize();return s&&(i.style={fontSize:s,height:s,width:s}),t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t("svg",i,[t("path",{attrs:{d:e}})])])},renderSvgIconComponent:function(e,t){var i={class:{"v-icon__component":!0}},s=this.getSize();s&&(i.style={fontSize:s,height:s,width:s}),this.applyColors(i);var r=e.component;return i.props=e.props,i.nativeOn=i.on,t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t(r,i)])}},render:function(e){var t=this.getIcon();return"string"===typeof t?f(t)?this.renderSvgIcon(t,e):this.renderFontIcon(t,e):this.renderSvgIconComponent(t,e)}});t["a"]=h["a"].extend({name:"v-icon",$_wrapperFor:p,functional:!0,render:function(e,t){var i=t.data,s=t.children,r="";return i.domProps&&(r=i.domProps.textContent||i.domProps.innerHTML||r,delete i.domProps.textContent,delete i.domProps.innerHTML),e(p,i,r?[r]:s)}})},"13ab":function(e,t,i){"use strict";const s=i("90db"),{InvalidNonce:r,InsufficientFunds:a,AuthenticationError:n,InvalidOrder:o,ExchangeError:c,OrderNotFound:d,AccountSuspended:h,BadSymbol:u,OrderImmediatelyFillable:l,RateLimitExceeded:f,OnMaintenance:p,PermissionDenied:m}=i("74b0"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","3d":"259200","1w":"604800"},hostname:"bitbay.net",urls:{referral:"https://auth.bitbay.net/ref/jHlbB4mIkdS1",logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://{hostname}/API/Public",private:"https://{hostname}/API/Trading/tradingApi.php",v1_01Public:"https://api.{hostname}/rest",v1_01Private:"https://api.{hostname}/rest"},doc:["https://bitbay.net/public-api","https://bitbay.net/en/private-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API","https://docs.bitbay.net/v1.0.1-en/reference"],support:"https://support.bitbay.net",fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]},v1_01Public:{get:["trading/ticker","trading/ticker/{symbol}","trading/stats","trading/orderbook/{symbol}","trading/transactions/{symbol}","trading/candle/history/{symbol}/{resolution}"]},v1_01Private:{get:["payments/withdrawal/{detailId}","payments/deposit/{detailId}","trading/offer","trading/config/{symbol}","trading/history/transactions","balances/BITBAY/history","balances/BITBAY/balance","fiat_cantor/rate/{baseId}/{quoteId}","fiat_cantor/history"],post:["trading/offer/{symbol}","trading/config/{symbol}","balances/BITBAY/balance","balances/BITBAY/balance/transfer/{source}/{destination}","fiat_cantor/exchange"],delete:["trading/offer/{symbol}/{id}/{side}/{price}"],put:["balances/BITBAY/balance/{id}"]}},fees:{trading:{maker:0,taker:.001,percentage:!0,tierBased:!1},fiat:{maker:.003,taker:.0043,percentage:!0,tierBased:!0,tiers:{taker:[[.0043,0],[.0042,1250],[.0041,3750],[.004,7500],[.0039,1e4],[.0038,15e3],[.0037,2e4],[.0036,25e3],[.0035,37500],[.0034,5e4],[.0033,75e3],[.0032,1e5],[.0031,15e4],[.003,2e5],[.0029,25e4],[.0028,375e3],[.0027,5e5],[.0026,625e3],[.0025,875e3]],maker:[[.003,0],[.0029,1250],[.0028,3750],[.0028,7500],[.0027,1e4],[.0026,15e3],[.0025,2e4],[.0025,25e3],[.0024,37500],[.0023,5e4],[.0023,75e3],[.0022,1e5],[.0021,15e4],[.0021,2e5],[.002,25e4],[.0019,375e3],[.0018,5e5],[.0018,625e3],[.0017,875e3]]}},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},options:{fiatCurrencies:["EUR","USD","GBP","PLN"]},exceptions:{400:c,401:o,402:o,403:o,404:o,405:o,406:a,408:o,501:n,502:n,503:r,504:c,505:n,506:h,509:c,510:u,FUNDS_NOT_SUFFICIENT:a,OFFER_FUNDS_NOT_EXCEEDING_MINIMUMS:o,OFFER_NOT_FOUND:d,OFFER_WOULD_HAVE_BEEN_PARTIALLY_FILLED:l,ACTION_LIMIT_EXCEEDED:f,UNDER_MAINTENANCE:p,REQUEST_TIMESTAMP_TOO_OLD:r,PERMISSIONS_NOT_SUFFICIENT:m},commonCurrencies:{GGC:"Global Game Coin"}})}async fetchMarkets(e={}){const t=await this.v1_01PublicGetTradingTicker(e),i=this.safeValue(this.options,"fiatCurrencies",[]),s=[],r=this.safeValue(t,"items"),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=r[e],o=this.safeValue(t,"market",{}),c=this.safeValue(o,"first",{}),d=this.safeValue(o,"second",{}),h=this.safeString(c,"currency"),u=this.safeString(d,"currency"),l=h+u,f=this.safeCurrencyCode(h),p=this.safeCurrencyCode(u),m=f+"/"+p,g={amount:this.safeInteger(c,"scale"),price:this.safeInteger(d,"scale")};let y=this.safeValue(this.fees,"trading",{});(this.inArray(f,i)||this.inArray(p,i))&&(y=this.safeValue(this.fees,"fiat",{}));const v=this.safeNumber(y,"maker"),b=this.safeNumber(y,"taker");s.push({id:l,symbol:m,base:f,quote:p,baseId:h,quoteId:u,precision:g,active:void 0,maker:v,taker:b,limits:{amount:{min:this.safeNumber(c,"minOffer"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(d,"minOffer"),max:void 0}},info:t})}return s}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={},a=await this.v1_01PrivateGetTradingOffer(this.extend(r,s)),n=this.safeValue(a,"items",[]);return this.parseOrders(n,void 0,t,i,{status:"open"})}parseOrder(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t,"-"),r=this.safeInteger(e,"time"),a=this.safeNumber(e,"startAmount"),n=this.safeNumber(e,"currentAmount"),o=this.safeValue(e,"postOnly");return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:void 0,symbol:s,type:this.safeString(e,"mode"),timeInForce:void 0,postOnly:o,side:this.safeStringLower(e,"offerType"),price:this.safeNumber(e,"rate"),stopPrice:void 0,amount:a,cost:void 0,filled:void 0,remaining:n,average:void 0,fee:void 0,trades:void 0})}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};if(e){const t=[this.marketId(e)];r["markets"]=t}const a={query:this.json(this.extend(r,s))},n=await this.v1_01PrivateGetTradingHistoryTransactions(a),o=this.safeValue(n,"items"),c=this.parseTrades(o,void 0,t,i);return void 0===e?c:this.filterBySymbol(c,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1_01PrivateGetBalancesBITBAYBalance(e),i=this.safeValue(t,"balances");if(void 0===i)throw new c(this.id+" empty balance response "+this.json(t));const s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["used"]=this.safeString(e,"lockedFunds"),n["free"]=this.safeString(e,"availableFunds"),s[a]=n}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={id:this.marketId(e)},r=await this.publicGetIdOrderbook(this.extend(s,i));return this.parseOrderBook(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={id:this.marketId(e)},s=await this.publicGetIdTicker(this.extend(i,t)),r=this.milliseconds(),a=this.safeNumber(s,"volume"),n=this.safeNumber(s,"vwap");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeNumber(s,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(s,"max"),low:this.safeNumber(s,"min"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:n,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(s,"average"),baseVolume:a,quoteVolume:o,info:s}}async fetchLedger(e,t,i,s={}){const r=[];if(void 0!==e){const t=this.currency(e);r.push(t["id"])}let a={balanceCurrencies:r};void 0!==t&&(a["fromTime"]=t),void 0!==i&&(a["limit"]=i),a=this.extend(a,s);const n=await this.v1_01PrivateGetBalancesBITBAYHistory({query:this.json(a)}),o=n["items"];return this.parseLedger(o,void 0,t,i)}parseLedgerEntry(e,t){const i=this.safeInteger(e,"time"),s=this.safeValue(e,"balance",{}),r=this.safeString(s,"currency"),a=this.safeCurrencyCode(r),n=this.safeValue(e,"change",{});let o=this.safeNumber(n,"total"),c="in";o<0&&(c="out",o=-o);const d=this.safeString(e,"historyId"),h=this.safeString(e,"detailId"),u=this.parseLedgerEntryType(this.safeString(e,"type")),l=this.safeValue(e,"fundsBefore",{}),f=this.safeNumber(l,"total"),p=this.safeValue(e,"fundsAfter",{}),m=this.safeNumber(p,"total");return{info:e,id:d,direction:c,account:void 0,referenceId:h,referenceAccount:void 0,type:u,currency:a,amount:o,before:f,after:m,status:"ok",timestamp:i,datetime:this.iso8601(i),fee:void 0}}parseLedgerEntryType(e){const t={ADD_FUNDS:"transaction",BITCOIN_GOLD_FORK:"transaction",CREATE_BALANCE:"transaction",FUNDS_MIGRATION:"transaction",WITHDRAWAL_LOCK_FUNDS:"transaction",WITHDRAWAL_SUBTRACT_FUNDS:"transaction",WITHDRAWAL_UNLOCK_FUNDS:"transaction",TRANSACTION_COMMISSION_OUTCOME:"fee",TRANSACTION_COMMISSION_RETURN:"fee",TRANSACTION_OFFER_ABORTED_RETURN:"trade",TRANSACTION_OFFER_COMPLETED_RETURN:"trade",TRANSACTION_POST_INCOME:"trade",TRANSACTION_POST_OUTCOME:"trade",TRANSACTION_PRE_LOCKING:"trade"};return this.safeString(t,e,e)}parseOHLCV(e,t){const i=this.safeValue(e,1,{});return[this.safeInteger(e,0),this.safeNumber(i,"o"),this.safeNumber(i,"h"),this.safeNumber(i,"l"),this.safeNumber(i,"c"),this.safeNumber(i,"v")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=a["baseId"]+"-"+a["quoteId"],o={symbol:n,resolution:this.timeframes[t]};void 0===s&&(s=100);const c=this.parseTimeframe(t),d=s*c*1e3;void 0===i?(o["to"]=this.milliseconds(),o["from"]=o["to"]-d):(o["from"]=parseInt(i),o["to"]=this.sum(o["from"],d));const h=await this.v1_01PublicGetTradingCandleHistorySymbolResolution(this.extend(o,r)),u=this.safeValue(h,"items",[]);return this.parseOHLCVs(u,a,t,i,s)}parseTrade(e,t){const i=this.safeInteger2(e,"time","t"),s=this.safeString(e,"userAction"),r="Buy"===s?"buy":"sell",a=this.safeValue(e,"wasTaker");let n=void 0;void 0!==a&&(n=a?"taker":"maker");const o=this.safeString2(e,"rate","r"),c=this.safeString2(e,"amount","a"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(g.stringMul(o,c)),l=this.safeNumber(e,"commissionValue"),f=this.safeString(e,"market");t=this.safeMarket(f,t,"-");const p=t["symbol"];let m=void 0;if(void 0!==l){const e="buy"===r?t["base"]:t["quote"];m={currency:e,cost:l}}const y=this.safeString(e,"offerId");let v=void 0;return void 0!==y&&(v=y?"limit":"market"),{id:this.safeString(e,"id"),order:y,timestamp:i,datetime:this.iso8601(i),symbol:p,type:v,side:r,price:d,amount:h,cost:u,takerOrMaker:n,fee:m,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a=r["baseId"]+"-"+r["quoteId"],n={symbol:a};void 0!==t&&(n["fromTime"]=t-1),void 0!==i&&(n["limit"]=i);const o=await this.v1_01PublicGetTradingTransactionsSymbol(this.extend(n,s)),c=this.safeValue(o,"items");return this.parseTrades(c,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=n["baseId"]+"-"+n["quoteId"],c={symbol:o,offerType:i,amount:s,mode:t};"limit"===t&&(c["rate"]=r,r=parseFloat(r)),s=parseFloat(s);const d=await this.v1_01PrivatePostTradingOfferSymbol(this.extend(c,a)),h=this.milliseconds(),u=this.safeString(d,"offerId"),l=this.safeValue(d,"completed",!1),f=l?"closed":"open";let p=0,m=void 0;const g=this.safeValue(d,"transactions");let y=void 0;if(void 0!==g){y=this.parseTrades(g,n,void 0,void 0,{timestamp:h,datetime:this.iso8601(h),symbol:e,side:i,type:t,orderId:u}),m=0;for(let e=0;e<y.length;e++)p=this.sum(p,y[e]["amount"]),m=this.sum(m,y[e]["cost"])}const v=s-p;return{id:u,info:d,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:f,symbol:e,type:t,side:i,price:r,amount:s,cost:m,filled:p,remaining:v,average:void 0,fee:void 0,trades:y,clientOrderId:void 0}}async cancelOrder(e,t,i={}){const s=this.safeString(i,"side");if(void 0===s)throw new c(this.id+' cancelOrder() requires a `side` parameter ("buy" or "sell")');const r=this.safeValue(i,"price");if(void 0===r)throw new c(this.id+" cancelOrder() requires a `price` parameter (float or string)");await this.loadMarkets();const a=this.market(t),n=a["baseId"]+"-"+a["quoteId"],o={symbol:n,id:e,side:s,price:r};return this.v1_01PrivateDeleteTradingOfferSymbolIdSidePrice(this.extend(o,i))}isFiat(e){const t={USD:!0,EUR:!0,PLN:!0};return this.safeValue(t,e,!1)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();let a=void 0;const n=this.currency(e),o={currency:n["id"],quantity:t};this.isFiat(e)?a="privatePostWithdraw":(a="privatePostTransfer",void 0!==s&&(i+="?dt="+s.toString()),o["address"]=i);const c=await this[a](this.extend(o,r));return{info:c,id:void 0}}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeHostname(this.urls["api"][t]);if("public"===t){const t=this.omit(s,this.extractParams(e));n+="/"+this.implodeParams(e,s)+".json",Object.keys(t).length&&(n+="?"+this.urlencode(t))}else if("v1_01Public"===t){const t=this.omit(s,this.extractParams(e));n+="/"+this.implodeParams(e,s),Object.keys(t).length&&(n+="?"+this.urlencode(t))}else if("v1_01Private"===t){this.checkRequiredCredentials();const t=this.omit(s,this.extractParams(e));n+="/"+this.implodeParams(e,s);const o=this.milliseconds().toString();let c=void 0;"POST"!==i?(Object.keys(t).length&&(n+="?"+this.urlencode(t)),c=this.apiKey+o):void 0===a&&(a=this.json(t),c=this.apiKey+o+a),r={"Request-Timestamp":o,"Operation-Id":this.uuid(),"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(c),this.encode(this.secret),"sha512"),"Content-Type":"application/json"}}else this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,moment:this.nonce()},s)),r={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(a),this.encode(this.secret),"sha512")};return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,d){if(void 0!==n){if("code"in n){const e=this.safeString(n,"code"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new c(t)}if("status"in n){const e=this.safeString(n,"status");if("Fail"===e){const e=this.safeValue(n,"errors"),t=this.id+" "+a;for(let i=0;i<e.length;i++){const s=e[i];this.throwExactlyMatchedException(this.exceptions,s,t)}throw new c(t)}}}}}},"13b7":function(e,t,i){"use strict";var s=i("74d2"),r=i("fee7"),a=r.utils,n=a.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,i){return t instanceof o?t:new o(e,{pub:t,pubEnc:i})},o.fromPrivate=function(e,t,i){return t instanceof o?t:new o(e,{priv:t,privEnc:i})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new s(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},"14c3":function(e,t,i){var s=i("c6b6"),r=i("9263");e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var a=i.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==s(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"159b":function(e,t,i){var s=i("da84"),r=i("fdbc"),a=i("17c2"),n=i("9112");for(var o in r){var c=s[o],d=c&&c.prototype;if(d&&d.forEach!==a)try{n(d,"forEach",a)}catch(h){d.forEach=a}}},"15b4":function(e,t,i){"use strict";var s=Object.prototype.hasOwnProperty,r=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e){while(e.length>1){var t=e.pop(),i=t.obj[t.prop];if(r(i)){for(var s=[],a=0;a<i.length;++a)"undefined"!==typeof i[a]&&s.push(i[a]);t.obj[t.prop]=s}}},o=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)"undefined"!==typeof e[s]&&(i[s]=e[s]);return i},c=function e(t,i,a){if(!i)return t;if("object"!==typeof i){if(r(t))t.push(i);else{if(!t||"object"!==typeof t)return[t,i];(a&&(a.plainObjects||a.allowPrototypes)||!s.call(Object.prototype,i))&&(t[i]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(i);var n=t;return r(t)&&!r(i)&&(n=o(t,a)),r(t)&&r(i)?(i.forEach((function(i,r){if(s.call(t,r)){var n=t[r];n&&"object"===typeof n&&i&&"object"===typeof i?t[r]=e(n,i,a):t.push(i)}else t[r]=i})),t):Object.keys(i).reduce((function(t,r){var n=i[r];return s.call(t,r)?t[r]=e(t[r],n,a):t[r]=n,t}),n)},d=function(e,t){return Object.keys(t).reduce((function(e,i){return e[i]=t[i],e}),e)},h=function(e,t,i){var s=e.replace(/\+/g," ");if("iso-8859-1"===i)return s.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(s)}catch(r){return s}},u=function(e,t,i){if(0===e.length)return e;var s="string"===typeof e?e:String(e);if("iso-8859-1"===i)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var r="",n=0;n<s.length;++n){var o=s.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=s.charAt(n):o<128?r+=a[o]:o<2048?r+=a[192|o>>6]+a[128|63&o]:o<55296||o>=57344?r+=a[224|o>>12]+a[128|o>>6&63]+a[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&s.charCodeAt(n)),r+=a[240|o>>18]+a[128|o>>12&63]+a[128|o>>6&63]+a[128|63&o])}return r},l=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],s=0;s<t.length;++s)for(var r=t[s],a=r.obj[r.prop],o=Object.keys(a),c=0;c<o.length;++c){var d=o[c],h=a[d];"object"===typeof h&&null!==h&&-1===i.indexOf(h)&&(t.push({obj:a,prop:d}),i.push(h))}return n(t),e},f=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:o,assign:d,combine:m,compact:l,decode:h,encode:u,isBuffer:p,isRegExp:f,merge:c}},"15fd":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("a4d3"),i("b64b");function s(e,t){if(null==e)return{};var i,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)i=a[s],t.indexOf(i)>=0||(r[i]=e[i]);return r}function r(e,t){if(null==e)return{};var i,r,a=s(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}},"166a":function(e,t,i){},"169a":function(e,t,i){"use strict";var s=i("5530"),r=i("2909"),a=i("ade3"),n=(i("a9e3"),i("498a"),i("caad"),i("2532"),i("7db0"),i("368e"),i("480e")),o=i("4ad4"),c=i("b848"),d=i("75eb"),h=(i("3c93"),i("a9ad")),u=i("7560"),l=i("f2e7"),f=i("58df"),p=Object(f["a"])(h["a"],u["a"],l["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes:function(){return Object(s["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(e){var t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},t)}}),m=p,g=i("80d2"),y=i("2b0e"),v=y["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{animationFrame:0,overlay:null}},watch:{hideOverlay:function(e){this.isActive&&(e?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var e=new m({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});e.$mount();var t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");t&&t.insertBefore(e.$el,t.firstChild),this.overlay=e},genOverlay:function(){var e=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((function(){e.overlay&&(void 0!==e.activeZIndex?e.overlay.zIndex=String(e.activeZIndex-1):e.$el&&(e.overlay.zIndex=Object(g["t"])(e.$el)),e.overlay.value=!0)})),!0},removeOverlay:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(g["a"])(this.overlay.$el,"transitionend",(function(){e.overlay&&e.overlay.$el&&e.overlay.$el.parentNode&&!e.overlay.value&&(e.overlay.$el.parentNode.removeChild(e.overlay.$el),e.overlay.$destroy(),e.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),t&&this.showScroll()},scrollListener:function(e){if("keydown"===e.type){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;var t=[g["w"].up,g["w"].pageup],i=[g["w"].down,g["w"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!i.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar:function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},shouldScroll:function(e,t){return 0===e.scrollTop&&t<0||e.scrollTop+e.clientHeight===e.scrollHeight&&t>0},isInside:function(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath:function(e){var t=e.path||this.composedPath(e),i=e.deltaY;if("keydown"===e.type&&t[0]===document.body){var s=this.$refs.dialog,r=window.getSelection().anchorNode;return!(s&&this.hasScrollbar(s)&&this.isInside(r,s))||this.shouldScroll(s,i)}for(var a=0;a<t.length;a++){var n=t[a];if(n===document)return!0;if(n===document.documentElement)return!0;if(n===this.$refs.content)return!0;if(this.hasScrollbar(n))return this.shouldScroll(n,i)}return!0},composedPath:function(e){if(e.composedPath)return e.composedPath();var t=[],i=e.target;while(i){if(t.push(i),"HTML"===i.tagName)return t.push(document),t.push(window),t;i=i.parentElement}return t},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(g["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),b=i("e4d3"),w=i("21be"),k=i("a293"),S=i("d9bd"),_=Object(f["a"])(o["a"],c["a"],d["a"],v,b["a"],w["a"],l["a"]);t["a"]=_.extend({name:"v-dialog",directives:{ClickOutside:k["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var e;return e={},Object(a["a"])(e,"v-dialog ".concat(this.contentClass).trim(),!0),Object(a["a"])(e,"v-dialog--active",this.isActive),Object(a["a"])(e,"v-dialog--persistent",this.persistent),Object(a["a"])(e,"v-dialog--fullscreen",this.fullscreen),Object(a["a"])(e,"v-dialog--scrollable",this.scrollable),Object(a["a"])(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(t=this.previousActiveElement)||t.focus())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(S["e"])("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):v.options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$nextTick((function(){e.previousActiveElement=document.activeElement,e.$refs.content.focus(),e.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(e){if(e.keyCode===g["w"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=Object(r["a"])(i).find((function(e){return!e.hasAttribute("disabled")}));s&&s.focus()}}},genContent:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement(n["a"],{props:{root:!0,light:e.light,dark:e.dark}},[e.$createElement("div",{class:e.contentClasses,attrs:Object(s["a"])({role:"document",tabindex:e.isActive?0:void 0},e.getScopeIdAttrs()),on:{keydown:e.onKeydown},style:{zIndex:e.activeZIndex},ref:"content"},[e.genTransition()])])]}))},genTransition:function(){var e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent:function(){var e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style=Object(s["a"])(Object(s["a"])({},e.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(g["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(g["g"])(this.width)})),this.$createElement("div",e,this.getContentSlot())}},render:function(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"16b7":function(e,t,i){"use strict";i("a9e3");var s=i("2b0e");t["a"]=s["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(e,t){var i=this;this.clearDelay();var s=parseInt(this["".concat(e,"Delay")],10);this["".concat(e,"Timeout")]=setTimeout(t||function(){i.isActive={open:!0,close:!1}[e]},s)}}})},1772:function(e,t){function i(e){return"[object String]"===Object.prototype.toString.call(e)}e.exports=i},"17c2":function(e,t,i){"use strict";var s=i("b727").forEach,r=i("a640"),a=r("forEach");e.exports=a?[].forEach:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}},"18a5":function(e,t,i){"use strict";var s=i("23e7"),r=i("857a"),a=i("af03");s({target:"String",proto:!0,forced:a("anchor")},{anchor:function(e){return r(this,"a","name",e)}})},1985:function(e,t,i){(function(e,s){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){t&&t.nodeType,e&&e.nodeType;var n="object"==typeof s&&s;n.global!==n&&n.window!==n&&n.self;var o,c=2147483647,d=36,h=1,u=26,l=38,f=700,p=72,m=128,g="-",y=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=d-h,S=Math.floor,_=String.fromCharCode;function O(e){throw new RangeError(w[e])}function T(e,t){var i=e.length,s=[];while(i--)s[i]=t(e[i]);return s}function C(e,t){var i=e.split("@"),s="";i.length>1&&(s=i[0]+"@",e=i[1]),e=e.replace(b,".");var r=e.split("."),a=T(r,t).join(".");return s+a}function x(e){var t,i,s=[],r=0,a=e.length;while(r<a)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<a?(i=e.charCodeAt(r++),56320==(64512&i)?s.push(((1023&t)<<10)+(1023&i)+65536):(s.push(t),r--)):s.push(t);return s}function I(e){return T(e,(function(e){var t="";return e>65535&&(e-=65536,t+=_(e>>>10&1023|55296),e=56320|1023&e),t+=_(e),t})).join("")}function E(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,i){var s=0;for(e=i?S(e/f):e>>1,e+=S(e/t);e>k*u>>1;s+=d)e=S(e/k);return S(s+(k+1)*e/(e+l))}function M(e){var t,i,s,r,a,n,o,l,f,y,v=[],b=e.length,w=0,k=m,_=p;for(i=e.lastIndexOf(g),i<0&&(i=0),s=0;s<i;++s)e.charCodeAt(s)>=128&&O("not-basic"),v.push(e.charCodeAt(s));for(r=i>0?i+1:0;r<b;){for(a=w,n=1,o=d;;o+=d){if(r>=b&&O("invalid-input"),l=E(e.charCodeAt(r++)),(l>=d||l>S((c-w)/n))&&O("overflow"),w+=l*n,f=o<=_?h:o>=_+u?u:o-_,l<f)break;y=d-f,n>S(c/y)&&O("overflow"),n*=y}t=v.length+1,_=N(w-a,t,0==a),S(w/t)>c-k&&O("overflow"),k+=S(w/t),w%=t,v.splice(w++,0,k)}return I(v)}function P(e){var t,i,s,r,a,n,o,l,f,y,v,b,w,k,T,C=[];for(e=x(e),b=e.length,t=m,i=0,a=p,n=0;n<b;++n)v=e[n],v<128&&C.push(_(v));s=r=C.length,r&&C.push(g);while(s<b){for(o=c,n=0;n<b;++n)v=e[n],v>=t&&v<o&&(o=v);for(w=s+1,o-t>S((c-i)/w)&&O("overflow"),i+=(o-t)*w,t=o,n=0;n<b;++n)if(v=e[n],v<t&&++i>c&&O("overflow"),v==t){for(l=i,f=d;;f+=d){if(y=f<=a?h:f>=a+u?u:f-a,l<y)break;T=l-y,k=d-y,C.push(_(A(y+T%k,0))),l=S(T/k)}C.push(_(A(l,0))),a=N(i,w,s==r),i=0,++s}++i,++t}return C.join("")}function B(e){return C(e,(function(e){return y.test(e)?M(e.slice(4).toLowerCase()):e}))}function R(e){return C(e,(function(e){return v.test(e)?"xn--"+P(e):e}))}o={version:"1.4.1",ucs2:{decode:x,encode:I},decode:M,encode:P,toASCII:R,toUnicode:B},r=function(){return o}.call(t,i,t,e),void 0===r||(e.exports=r)})()}).call(this,i("62e4")(e),i("c8ba"))},"19aa":function(e,t){e.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}},"19e9":function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,AuthenticationError:a,ExchangeError:n,ExchangeNotAvailable:o,OrderNotFound:c,InvalidOrder:d,CancelPending:h,RateLimitExceeded:u,InsufficientFunds:l,BadRequest:f,BadSymbol:p,PermissionDenied:m}=i("74b0"),{TICK_SIZE:g}=i("5ea4"),y=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"aax",name:"AAX",countries:["MT"],enableRateLimit:!0,rateLimit:500,version:"v2",hostname:"aaxpro.com",certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","12h":"12h","1d":"1d","3d":"3d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/104140087-a27f2580-53c0-11eb-87c1-5d9e81208fe9.jpg",test:{v1:"https://api.testnet.{hostname}/marketdata/v1",public:"https://api.testnet.{hostname}",private:"https://api.testnet.{hostname}"},api:{v1:"https://api.{hostname}/marketdata/v1",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.aaxpro.com",doc:"https://www.aaxpro.com/apidoc/index.html",fees:"https://www.aaxpro.com/en-US/fees/",referral:"https://www.aaxpro.com/invite/sign-up?inviteCode=JXGm5Fy7R2MB"},api:{v1:{get:["getHistMarketData"]},public:{get:["currencies","announcement/maintenance","instruments","market/orderbook","futures/position/openInterest","market/tickers","market/candles","market/history/candles","market/trades","market/markPrice","futures/funding/predictedFunding/{symbol}","futures/funding/prevFundingRate/{symbol}","market/candles/index"]},private:{get:["user/info","account/balances","account/deposit/address","spot/trades","spot/openOrders","spot/orders","futures/position","futures/position/closed","futures/trades","futures/openOrders","futures/orders","futures/funding/predictedFundingFee/{symbol}"],post:["account/transfer","spot/orders","spot/orders/cancelAllOnTimeout","futures/orders","futures/orders/cancelAllOnTimeout","futures/position/sltp","futures/position/close","futures/position/leverage","futures/position/margin"],put:["spot/orders","futures/orders"],delete:["spot/orders/cancel/{orderID}","spot/orders/cancel/all","futures/orders/cancel/{orderID}","futures/orders/cancel/all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:6e-4,taker:.001},funding:{tierBased:!1,percentage:!0,withdraw:{}}},commonCurrencies:{XBT:"XBT"},exceptions:{exact:{2002:l,2003:c,10003:f,10006:a,10007:a,11007:a,20001:l,20009:d,3e4:c,30001:d,30004:d,30005:d,30006:d,30007:d,30008:d,30009:d,30010:d,30011:h,30012:f,30013:p,30014:c,30015:d,30016:n,30017:d,30018:d,30019:d,30020:d,30021:d,30022:d,30023:d,30024:d,30025:d,30026:d,30027:d,30028:p,30029:d,30030:d,30031:d,30032:d,30033:d,30034:u,30035:u,30036:o,30037:d,30038:n,30039:l,30040:d,30041:d,30042:d,30043:d,30044:f,30045:d,30046:d,30047:d,30048:d,30049:d,30050:d,40004:f,40009:u,40102:a,40103:a,40303:m,41001:f,41002:f,42001:o,50001:n,50002:n},broad:{}},precisionMode:g,options:{defaultType:"spot",types:{spot:"SPTP",future:"FUTP",otc:"F2CP",saving:"VLTP"},accounts:{SPTP:"spot",FUTP:"future",F2CP:"otc",VLTP:"saving"}}})}async fetchStatus(e={}){const t=await this.publicGetAnnouncementMaintenance(e),i=this.safeValue(t,"data",{}),s=this.milliseconds(),r=this.parse8601(this.safeString(i,"startTime")),a=this.parse8601(this.safeString(i,"endTime")),n={updated:this.safeInteger(t,"ts",s)};if(void 0!==a){const e=void 0===r||s<r,t=s>a||e;n["eta"]=a,n["status"]=t?"ok":"maintenance"}return this.status=this.extend(this.status,n),this.status}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=this.safeValue(t,"data"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=this.safeString(e,"base"),n=this.safeString(e,"quote"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=this.safeString(e,"status"),h="enable"===d,u=this.safeNumber(e,"takerFee"),l=this.safeNumber(e,"makerFee"),f=this.safeString(e,"type");let p=void 0,m=void 0,g=void 0;const y="spot"===f,v="futures"===f,b=this.safeStringLower(e,"settleType");void 0!==b&&(p="inverse"===b,m="vanilla"===b,g="quanto"===b);let w=t;"spot"===f&&(w=o+"/"+c);const k={amount:this.safeNumber(e,"lotSize"),price:this.safeNumber(e,"tickSize")};s.push({id:t,symbol:w,base:o,quote:c,baseId:a,quoteId:n,type:f,spot:y,futures:v,inverse:p,linear:m,quanto:g,precision:k,info:e,active:h,taker:u,maker:l,percentage:!1,tierBased:!0,limits:{amount:{min:this.safeString(e,"minQuantity"),max:this.safeString(e,"maxQuantity")},price:{min:this.safeString(e,"minPrice"),max:this.safeString(e,"maxPrice")},cost:{min:void 0,max:void 0}}})}return s}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},s=this.safeValue(t,"data",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"chain"),a=this.safeString(e,"displayName"),n=this.safeCurrencyCode(t),o=this.safeNumber(e,"withdrawPrecision"),c=this.safeValue(e,"enableWithdraw"),d=this.safeValue(e,"enableDeposit"),h=this.safeNumber(e,"withdrawFee"),u=this.safeValue(e,"visible"),l=c&&d&&u,f=this.safeString(e,"network");i[n]={id:t,name:a,code:n,precision:o,info:e,active:l,fee:h,network:f,limits:{deposit:{min:this.safeNumber(e,"depositMin"),max:void 0},withdraw:{min:this.safeNumber(e,"withdrawMin"),max:void 0}}}}return i}parseTicker(e,t){const i=this.safeInteger(e,"t"),s=this.safeString(e,"s"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"c"),n=this.safeNumber(e,"o");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(o=a-n,n>0&&(c=o/n*100),d=this.sum(a,n)/2);const h=this.safeNumber(e,"v");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"h"),low:this.safeNumber(e,"l"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:void 0,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),s=this.safeValue(i,"tickers",[]),r=[],a=this.safeInteger(i,"t");for(let n=0;n<s.length;n++){const e=this.parseTicker(this.extend(s[n],{t:a}));r.push(e)}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e);if(void 0===t)t=20;else if(20!==t&&50!==t)throw new f(this.id+" fetchOrderBook() limit argument must be undefined, 20 or 50");const r={symbol:s["id"],level:t},a=await this.publicGetMarketOrderbook(this.extend(r,i)),n=this.safeInteger(a,"t");return this.parseOrderBook(a,e,n)}parseTrade(e,t){let i=this.safeInteger(e,"t");void 0===i&&(i=this.parse8601(this.safeString(e,"createTime")));const s=this.safeString2(e,"tid","tradeID");let r=void 0;const a=this.safeString(e,"symbol");t=this.safeMarket(a,t),void 0!==t&&(r=t["symbol"]);let n=this.safeString2(e,"p","filledPrice");const o=this.safeString2(e,"q","filledQty"),c=this.safeString(e,"orderID"),d=this.safeValue(e,"taker");let h=void 0;void 0!==d&&(h=d?"taker":"maker");let u=this.safeString(e,"side");"1"===u?u="buy":"2"===u&&(u="sell"),void 0===u&&(u="-"===n[0]?"sell":"buy"),n=y.stringAbs(n);const l=this.parseNumber(n),f=this.parseNumber(o),p=this.parseNumber(y.stringMul(n,o)),m=this.parseOrderType(this.safeString(e,"orderType"));let g=void 0;const v=this.safeNumber(e,"commission");if(void 0!==v){let e=void 0;void 0!==t&&("buy"===u?e=t["base"]:"sell"===u&&(e=t["quote"])),g={currency:e,cost:v}}return{info:e,id:s,timestamp:i,datetime:this.iso8601(i),symbol:r,type:m,side:u,order:c,takerOrMaker:h,price:l,amount:f,cost:p,fee:g}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e);i=void 0===i?2e3:i,i=Math.min(i,2e3);const a={symbol:r["id"],limit:i},n=await this.publicGetMarketTrades(a),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,5),this.safeNumber(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4)]}async fetchOHLCV(e,t="1h",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],timeFrame:this.timeframes[t]};s=void 0===s?500:s;const o=this.parseTimeframe(t);if(void 0===i){const e=this.seconds();n["start"]=e-o*s,n["end"]=e}else{const e=parseInt(i/1e3);n["start"]=e,n["end"]=this.sum(e,o*s)}const c=await this.publicGetMarketHistoryCandles(this.extend(n,r)),d=this.safeValue(c,"data",[]);return this.parseOHLCVs(d,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t),s=this.safeValue(this.options,"types",{}),r=this.safeString(s,i,i),a={purseType:r};e=this.omit(e,"type");const n=await this.privateGetAccountBalances(this.extend(a,e)),o=this.safeValue(n,"data"),c=this.safeInteger(n,"ts"),d={info:n,timestamp:c,datetime:this.iso8601(c)};for(let h=0;h<o.length;h++){const e=o[h],t=this.safeString(e,"purseType");if(t===r){const t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),s=this.account();s["free"]=this.safeString(e,"available"),s["used"]=this.safeString(e,"unavailable"),d[i]=s}}return this.parseBalance(d,!1)}async createOrder(e,t,i,s,a,n={}){let o=t.toUpperCase();const c=i.toUpperCase();await this.loadMarkets();const d=this.market(e),h={symbol:d["id"],orderQty:this.amountToPrecision(e,s),side:c},u=this.safeString(n,"timeInForce");void 0!==u&&(h["timeInForce"]=u,n=this.omit(n,"timeInForce"));const l=this.safeString2(n,"clOrdID","clientOrderId");void 0!==l&&(h["clOrdID"]=l,n=this.omit(n,["clOrdID","clientOrderId"]));const f=this.safeNumber(n,"stopPrice");if(void 0===f){if("STOP-LIMIT"===o||"STOP"===o)throw new r(this.id+" createOrder() requires a stopPrice parameter for "+o+" orders")}else"LIMIT"===o?o="STOP-LIMIT":"MARKET"===o&&(o="STOP"),h["stopPrice"]=this.priceToPrecision(e,f),n=this.omit(n,"stopPrice");"LIMIT"!==o&&"STOP-LIMIT"!==o||(h["price"]=this.priceToPrecision(e,a)),h["orderType"]=o;let p=void 0;d["spot"]?p="privatePostSpotOrders":d["futures"]&&(p="privatePostFuturesOrders");const m=await this[p](this.extend(h,n)),g=this.safeValue(m,"data",{});return this.parseOrder(g,d)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o=this.market(t),c={orderID:e},d=this.safeNumber(n,"stopPrice");void 0!==d&&(c["stopPrice"]=this.priceToPrecision(t,d),n=this.omit(n,"stopPrice")),void 0!==a&&(c["price"]=this.priceToPrecision(t,a)),void 0!==r&&(c["orderQty"]=this.amountToPrecision(t,r));let h=void 0;o["spot"]?h="privatePutSpotOrders":o["futures"]&&(h="privatePutFuturesOrders");const u=await this[h](this.extend(c,n)),l=this.safeValue(u,"data",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={orderID:e};let r=void 0;const a=this.safeString2(this.options,"cancelOrder","defaultType","spot");let n=this.safeString(i,"type",a);i=this.omit(i,"type");let o=void 0;void 0!==t&&(o=this.market(t),n=o["type"]),"spot"===n?r="privateDeleteSpotOrdersCancelOrderID":"futures"===n&&(r="privateDeleteFuturesOrdersCancelOrderID");const c=await this[r](this.extend(s,i)),d=this.safeValue(c,"data",{});return this.parseOrder(d,o)}async cancelAllOrders(e,t={}){if(void 0===e)throw new r(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]};let a=void 0;i["spot"]?a="privateDeleteSpotOrdersCancelAll":i["futures"]&&(a="privateDeleteFuturesOrdersCancelAll");const n=await this[a](this.extend(s,t));return n}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.safeString2(this.options,"fetchOrder","defaultType","spot");i["type"]=this.safeString(i,"type",s);const r={},a=this.safeString2(i,"clOrdID","clientOrderId");void 0===a?r["orderID"]=e:(r["clOrdID"]=a,i=this.omit(i,["clOrdID","clientOrderId"]));const n=await this.fetchOrders(t,void 0,void 0,this.extend(r,i)),o=this.safeValue(n,0);if(void 0===o)throw new c(void 0===a?this.id+" fetchOrder() could not find order id "+e:this.id+" fetchOrder() could not find order clientOrderID "+a);return o}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={},a=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");let n=this.safeString(s,"type",a);s=this.omit(s,"type");let o=void 0;void 0!==e&&(o=this.market(e),r["symbol"]=o["id"],n=o["type"]);const c=this.safeString2(s,"clOrdID","clientOrderId");void 0!==c&&(r["clOrdID"]=c,s=this.omit(s,["clOrdID","clientOrderId"]));let d=void 0;"spot"===n?d="privateGetSpotOpenOrders":"futures"===n&&(d="privateGetFuturesOpenOrders"),void 0!==i&&(r["pageSize"]=i);const h=await this[d](this.extend(r,s)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"list",[]);return this.parseOrders(l,o,t,i)}async fetchClosedOrders(e,t,i,s={}){const r={orderStatus:"2"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchCanceledOrders(e,t,i,s={}){const r={orderStatus:"3"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;const n=this.safeString2(this.options,"fetchOrders","defaultType","spot");let o=this.safeString(s,"type",n);s=this.omit(s,"type");let c=void 0;void 0!==e&&(c=this.market(e),r["symbol"]=c["id"],o=c["type"]),"spot"===o?a="privateGetSpotOrders":"futures"===o&&(a="privateGetFuturesOrders");const d=this.safeString2(s,"clOrdID","clientOrderId");void 0!==d&&(r["clOrdID"]=d,s=this.omit(s,["clOrdID","clientOrderId"])),void 0!==i&&(r["pageSize"]=i),void 0!==t&&(r["startDate"]=this.ymd(t));const h=await this[a](this.extend(r,s)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"list",[]);return this.parseOrders(l,c,t,i)}parseOrderStatus(e){const t={0:"open",1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"rejected",10:"expired",11:"rejected"};return this.safeString(t,e,e)}parseOrderType(e){const t={1:"market",2:"limit",3:"stop",4:"stop-limit",7:"stop-loss",8:"take-profit"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={1:"GTC",3:"IOC",4:"FOK"};return this.safeString(t,e,e)}parseOrder(e,t){let i=this.safeValue(e,"createTime");"string"===typeof i&&(i=this.parse8601(i));const s=this.parseOrderStatus(this.safeString(e,"orderStatus")),r=this.parseOrderType(this.safeString(e,"orderType"));let a=this.safeString(e,"side");"1"===a?a="buy":"2"===a&&(a="sell");const n=this.safeString(e,"orderID"),o=this.safeString(e,"clOrdID"),c=this.safeString(e,"symbol");t=this.safeMarket(c,t);const d=t["symbol"],h=this.safeNumber(e,"price"),u=this.safeNumber(e,"stopPrice"),l=this.parseTimeInForce(this.safeString(e,"timeInForce")),f=this.safeString(e,"execInst"),p="Post-Only"===f,m=this.safeNumber(e,"avgPrice"),g=this.safeNumber(e,"orderQty"),y=this.safeNumber(e,"cumQty");let v=this.safeNumber(e,"leavesQty");0===y&&0===v&&(v=void 0);let b=this.safeValue(e,"transactTime");"string"===typeof b&&(b=this.parse8601(b));let w=void 0;const k=this.safeNumber(e,"commission");if(void 0!==k){let e=void 0;void 0!==t&&("buy"===a?e=t["base"]:"sell"===a&&(e=t["quote"])),w={currency:e,cost:k}}return this.safeOrder({id:n,info:e,clientOrderId:o,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:b,status:s,symbol:d,type:r,timeInForce:l,postOnly:p,side:a,price:h,stopPrice:u,average:m,amount:g,filled:y,remaining:v,cost:void 0,trades:void 0,fee:w})}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;const n=this.safeString2(this.options,"fetchMyTrades","defaultType","spot");let o=this.safeString(s,"type",n);s=this.omit(s,"type");let c=void 0;void 0!==e&&(c=this.market(e),r["symbol"]=c["id"],o=c["type"]),"spot"===o?a="privateGetSpotTrades":"futures"===o&&(a="privateGetFuturesTrades"),void 0!==i&&(r["pageSize"]=i),void 0!==t&&(r["startDate"]=this.ymd(t));const d=await this[a](this.extend(r,s)),h=this.safeValue(d,"data",{}),u=this.safeValue(h,"list",[]);return this.parseTrades(u,c,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetAccountDepositAddress(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseDepositAddress(a,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),s=this.safeString(e,"tag"),r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r);return{info:e,code:a,address:i,tag:s}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("v1"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if(n="/"+this.version+n,"public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();r={"X-ACCESS-KEY":this.apiKey,"X-ACCESS-NONCE":e};let t=e+":"+i;"GET"===i?(Object.keys(o).length&&(n+="?"+this.urlencode(o)),t+=n):(r["Content-Type"]="application/json",a=this.json(o),t+=n+a);const s=this.hmac(this.encode(t),this.encode(this.secret));r["X-ACCESS-SIGN"]=s}return n=this.implodeHostname(this.urls["api"][t])+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,c){if(void 0===n)return;const d=this.safeString(n,"code");if(void 0!==d&&"1"!==d){const e=this.id+" "+this.json(n);this.throwExactlyMatchedException(this.exceptions["exact"],d,e),this.throwBroadlyMatchedException(this.exceptions["broad"],a,e)}}}},"1ae3":function(e,t,i){var s=i("5259");i("3609"),i("6497");var r=e.exports=s.pss=s.pss||{};r.create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,i=e.md,r=e.mgf,a=i.digestLength,n=e.salt||null;if("string"===typeof n&&(n=s.util.createBuffer(n)),"saltLength"in e)t=e.saltLength;else{if(null===n)throw new Error("Salt length not specified or specific salt not given.");t=n.length()}if(null!==n&&n.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||s.random,c={encode:function(e,c){var d,h,u=c-1,l=Math.ceil(u/8),f=e.digest().getBytes();if(l<a+t+2)throw new Error("Message is too long to encrypt.");h=null===n?o.getBytesSync(t):n.bytes();var p=new s.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(f),p.putBytes(h),i.start(),i.update(p.getBytes());var m=i.digest().getBytes(),g=new s.util.ByteBuffer;g.fillWithByte(0,l-t-a-2),g.putByte(1),g.putBytes(h);var y=g.getBytes(),v=l-a-1,b=r.generate(m,v),w="";for(d=0;d<v;d++)w+=String.fromCharCode(y.charCodeAt(d)^b.charCodeAt(d));var k=65280>>8*l-u&255;return w=String.fromCharCode(w.charCodeAt(0)&~k)+w.substr(1),w+m+String.fromCharCode(188)},verify:function(e,n,o){var c,d=o-1,h=Math.ceil(d/8);if(n=n.substr(-h),h<a+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==n.charCodeAt(h-1))throw new Error("Encoded message does not end in 0xBC.");var u=h-a-1,l=n.substr(0,u),f=n.substr(u,a),p=65280>>8*h-d&255;if(0!==(l.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var m=r.generate(f,u),g="";for(c=0;c<u;c++)g+=String.fromCharCode(l.charCodeAt(c)^m.charCodeAt(c));g=String.fromCharCode(g.charCodeAt(0)&~p)+g.substr(1);var y=h-a-t-2;for(c=0;c<y;c++)if(0!==g.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-t),b=new s.util.ByteBuffer;b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),i.start(),i.update(b.getBytes());var w=i.digest().getBytes();return f===w}};return c}},"1b2c":function(e,t,i){},"1be4":function(e,t,i){var s=i("d066");e.exports=s("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c55":function(e,t,i){(function(s,r){var a;
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(){"use strict";var n="input is invalid type",o="finalize already called",c="object"===typeof window,d=c?window:{};d.JS_SHA3_NO_WINDOW&&(c=!1);var h=!c&&"object"===typeof self,u=!d.JS_SHA3_NO_NODE_JS&&"object"===typeof s&&s.versions&&s.versions.node;u?d=r:h&&(d=self);var l=!d.JS_SHA3_NO_COMMON_JS&&"object"===typeof e&&e.exports,f=i("3c35"),p=!d.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,m="0123456789abcdef".split(""),g=[31,7936,2031616,520093696],y=[4,1024,262144,67108864],v=[1,256,65536,16777216],b=[6,1536,393216,100663296],w=[0,8,16,24],k=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],S=[224,256,384,512],_=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],T={128:168,256:136};!d.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!p||!d.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var C=function(e,t,i){return function(s){return new H(e,t,e).update(s)[i]()}},x=function(e,t,i){return function(s,r){return new H(e,t,r).update(s)[i]()}},I=function(e,t,i){return function(t,s,r,a){return L["cshake"+e].update(t,s,r,a)[i]()}},E=function(e,t,i){return function(t,s,r,a){return L["kmac"+e].update(t,s,r,a)[i]()}},A=function(e,t,i,s){for(var r=0;r<O.length;++r){var a=O[r];e[a]=t(i,s,a)}return e},N=function(e,t){var i=C(e,t,"hex");return i.create=function(){return new H(e,t,e)},i.update=function(e){return i.create().update(e)},A(i,C,e,t)},M=function(e,t){var i=x(e,t,"hex");return i.create=function(i){return new H(e,t,i)},i.update=function(e,t){return i.create(t).update(e)},A(i,x,e,t)},P=function(e,t){var i=T[e],s=I(e,t,"hex");return s.create=function(s,r,a){return r||a?new H(e,t,s).bytepad([r,a],i):L["shake"+e].create(s)},s.update=function(e,t,i,r){return s.create(t,i,r).update(e)},A(s,I,e,t)},B=function(e,t){var i=T[e],s=E(e,t,"hex");return s.create=function(s,r,a){return new z(e,t,r).bytepad(["KMAC",a],i).bytepad([s],i)},s.update=function(e,t,i,r){return s.create(e,i,r).update(t)},A(s,E,e,t)},R=[{name:"keccak",padding:v,bits:S,createMethod:N},{name:"sha3",padding:b,bits:S,createMethod:N},{name:"shake",padding:g,bits:_,createMethod:M},{name:"cshake",padding:y,bits:_,createMethod:P},{name:"kmac",padding:y,bits:_,createMethod:B}],L={},V=[],D=0;D<R.length;++D)for(var q=R[D],j=q.bits,G=0;G<j.length;++G){var U=q.name+"_"+j[G];if(V.push(U),L[U]=q.createMethod(j[G],q.padding),"sha3"!==q.name){var F=q.name+j[G];V.push(F),L[F]=L[U]}}function H(e,t,i){this.blocks=[],this.s=[],this.padding=t,this.outputBits=i,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var s=0;s<50;++s)this.s[s]=0}function z(e,t,i){H.call(this,e,t,i)}H.prototype.update=function(e){if(this.finalized)throw new Error(o);var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(n);if(null===e)throw new Error(n);if(p&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!p||!ArrayBuffer.isView(e)))throw new Error(n);t=!0}var s,r,a=this.blocks,c=this.byteCount,d=e.length,h=this.blockCount,u=0,l=this.s;while(u<d){if(this.reset)for(this.reset=!1,a[0]=this.block,s=1;s<h+1;++s)a[s]=0;if(t)for(s=this.start;u<d&&s<c;++u)a[s>>2]|=e[u]<<w[3&s++];else for(s=this.start;u<d&&s<c;++u)r=e.charCodeAt(u),r<128?a[s>>2]|=r<<w[3&s++]:r<2048?(a[s>>2]|=(192|r>>6)<<w[3&s++],a[s>>2]|=(128|63&r)<<w[3&s++]):r<55296||r>=57344?(a[s>>2]|=(224|r>>12)<<w[3&s++],a[s>>2]|=(128|r>>6&63)<<w[3&s++],a[s>>2]|=(128|63&r)<<w[3&s++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++u)),a[s>>2]|=(240|r>>18)<<w[3&s++],a[s>>2]|=(128|r>>12&63)<<w[3&s++],a[s>>2]|=(128|r>>6&63)<<w[3&s++],a[s>>2]|=(128|63&r)<<w[3&s++]);if(this.lastByteIndex=s,s>=c){for(this.start=s-c,this.block=a[h],s=0;s<h;++s)l[s]^=a[s];K(l),this.reset=!0}else this.start=s}return this},H.prototype.encode=function(e,t){var i=255&e,s=1,r=[i];e>>=8,i=255&e;while(i>0)r.unshift(i),e>>=8,i=255&e,++s;return t?r.push(s):r.unshift(s),this.update(r),r.length},H.prototype.encodeString=function(e){var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(n);if(null===e)throw new Error(n);if(p&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!p||!ArrayBuffer.isView(e)))throw new Error(n);t=!0}var s=0,r=e.length;if(t)s=r;else for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);o<128?s+=1:o<2048?s+=2:o<55296||o>=57344?s+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++a)),s+=4)}return s+=this.encode(8*s),this.update(e),s},H.prototype.bytepad=function(e,t){for(var i=this.encode(t),s=0;s<e.length;++s)i+=this.encodeString(e[s]);var r=t-i%t,a=[];return a.length=r,this.update(a),this},H.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,s=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[i],t=1;t<i+1;++t)e[t]=0;for(e[i-1]|=2147483648,t=0;t<i;++t)s[t]^=e[t];K(s)}},H.prototype.toString=H.prototype.hex=function(){this.finalize();var e,t=this.blockCount,i=this.s,s=this.outputBlocks,r=this.extraBytes,a=0,n=0,o="";while(n<s){for(a=0;a<t&&n<s;++a,++n)e=i[a],o+=m[e>>4&15]+m[15&e]+m[e>>12&15]+m[e>>8&15]+m[e>>20&15]+m[e>>16&15]+m[e>>28&15]+m[e>>24&15];n%t===0&&(K(i),a=0)}return r&&(e=i[a],o+=m[e>>4&15]+m[15&e],r>1&&(o+=m[e>>12&15]+m[e>>8&15]),r>2&&(o+=m[e>>20&15]+m[e>>16&15])),o},H.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,i=this.s,s=this.outputBlocks,r=this.extraBytes,a=0,n=0,o=this.outputBits>>3;e=r?new ArrayBuffer(s+1<<2):new ArrayBuffer(o);var c=new Uint32Array(e);while(n<s){for(a=0;a<t&&n<s;++a,++n)c[n]=i[a];n%t===0&&K(i)}return r&&(c[a]=i[a],e=e.slice(0,o)),e},H.prototype.buffer=H.prototype.arrayBuffer,H.prototype.digest=H.prototype.array=function(){this.finalize();var e,t,i=this.blockCount,s=this.s,r=this.outputBlocks,a=this.extraBytes,n=0,o=0,c=[];while(o<r){for(n=0;n<i&&o<r;++n,++o)e=o<<2,t=s[n],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%i===0&&K(s)}return a&&(e=o<<2,t=s[n],c[e]=255&t,a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c},z.prototype=new H,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),H.prototype.finalize.call(this)};var K=function(e){var t,i,s,r,a,n,o,c,d,h,u,l,f,p,m,g,y,v,b,w,S,_,O,T,C,x,I,E,A,N,M,P,B,R,L,V,D,q,j,G,U,F,H,z,K,W,$,Y,X,Z,Q,J,ee,te,ie,se,re,ae,ne,oe,ce,de,he;for(s=0;s<48;s+=2)r=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],n=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],t=l^(n<<1|o>>>31),i=f^(o<<1|n>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=r^(c<<1|d>>>31),i=a^(d<<1|c>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=n^(h<<1|u>>>31),i=o^(u<<1|h>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=c^(l<<1|f>>>31),i=d^(f<<1|l>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=h^(r<<1|a>>>31),i=u^(a<<1|r>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,p=e[0],m=e[1],W=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,V=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,C=e[7]<<28|e[6]>>>4,se=e[17]<<23|e[16]>>>9,re=e[16]<<23|e[17]>>>9,q=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,S=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,x=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,G=e[38]<<8|e[39]>>>24,U=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,O=e[49]<<14|e[48]>>>18,e[0]=p^~g&v,e[1]=m^~y&b,e[10]=T^~x&E,e[11]=C^~I&A,e[20]=R^~V&q,e[21]=L^~D&j,e[30]=z^~W&Y,e[31]=K^~$&X,e[40]=te^~se&ae,e[41]=ie^~re&ne,e[2]=g^~v&w,e[3]=y^~b&S,e[12]=x^~E&N,e[13]=I^~A&M,e[22]=V^~q&G,e[23]=D^~j&U,e[32]=W^~Y&Z,e[33]=$^~X&Q,e[42]=se^~ae&oe,e[43]=re^~ne&ce,e[4]=v^~w&_,e[5]=b^~S&O,e[14]=E^~N&P,e[15]=A^~M&B,e[24]=q^~G&F,e[25]=j^~U&H,e[34]=Y^~Z&J,e[35]=X^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=w^~_&p,e[7]=S^~O&m,e[16]=N^~P&T,e[17]=M^~B&C,e[26]=G^~F&R,e[27]=U^~H&L,e[36]=Z^~J&z,e[37]=Q^~ee&K,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=_^~p&g,e[9]=O^~m&y,e[18]=P^~T&x,e[19]=B^~C&I,e[28]=F^~R&V,e[29]=H^~L&D,e[38]=J^~z&W,e[39]=ee^~K&$,e[48]=de^~te&se,e[49]=he^~ie&re,e[0]^=k[s],e[1]^=k[s+1]};if(l)e.exports=L;else{for(D=0;D<V.length;++D)d[V[D]]=L[V[D]];f&&(a=function(){return L}.call(t,i,t,e),void 0===a||(e.exports=a))}})()}).call(this,i("4362"),i("c8ba"))},"1c7e":function(e,t,i){var s=i("b622"),r=s("iterator"),a=!1;try{var n=0,o={next:function(){return{done:!!n++}},return:function(){a=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!a)return!1;var i=!1;try{var s={};s[r]=function(){return{next:function(){return{done:i=!0}}}},e(s)}catch(c){}return i}},"1c87":function(e,t,i){"use strict";var s=i("ade3"),r=i("5530"),a=(i("9911"),i("498a"),i("99af"),i("ac1f"),i("5319"),i("2b0e")),n=i("5607"),o=i("80d2");t["a"]=a["a"].extend({name:"routable",directives:{Ripple:n["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:function(){return{isActive:!1,proxyClass:""}},computed:{classes:function(){var e={};return this.to||(this.activeClass&&(e[this.activeClass]=this.isActive),this.proxyClass&&(e[this.proxyClass]=this.isActive)),e},computedRipple:function(){var e;return null!=(e=this.ripple)?e:!this.disabled&&this.isClickable},isClickable:function(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink:function(){return this.to||this.href||this.link},styles:function(){return{}}},watch:{$route:"onRouteChange"},methods:{click:function(e){this.$emit("click",e)},generateRouteLink:function(){var e,t,i=this.exact,a=(e={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}]},Object(s["a"])(e,this.to?"nativeOn":"on",Object(r["a"])(Object(r["a"])({},this.$listeners),{},{click:this.click})),Object(s["a"])(e,"ref","link"),e);if("undefined"===typeof this.exact&&(i="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var n=this.activeClass,o=this.exactActiveClass||n;this.proxyClass&&(n="".concat(n," ").concat(this.proxyClass).trim(),o="".concat(o," ").concat(this.proxyClass).trim()),t=this.nuxt?"nuxt-link":"router-link",Object.assign(a.props,{to:this.to,exact:i,exactPath:this.exactPath,activeClass:n,exactActiveClass:o,append:this.append,replace:this.replace})}else t=(this.href?"a":this.tag)||"div","a"===t&&this.href&&(a.attrs.href=this.href);return this.target&&(a.attrs.target=this.target),{tag:t,data:a}},onRouteChange:function(){var e=this;if(this.to&&this.$refs.link&&this.$route){var t="".concat(this.activeClass," ").concat(this.proxyClass||"").trim(),i="_vnode.data.class.".concat(t);this.$nextTick((function(){Object(o["o"])(e.$refs.link,i)&&e.toggle()}))}},toggle:function(){}}})},"1cdc":function(e,t,i){var s=i("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(s)},"1d2b":function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}}},"1d47":function(e,t,i){(function(t){var s=i("cceb").Ber,r=i("4ab0")._,a="1.2.840.113549.1.1.1",n=i("4ab0");const o="-----BEGIN PRIVATE KEY-----",c="-----END PRIVATE KEY-----",d="-----BEGIN PUBLIC KEY-----",h="-----END PUBLIC KEY-----";e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=e.d.toBuffer(),d=e.p.toBuffer(),h=e.q.toBuffer(),u=e.dmp1.toBuffer(),l=e.dmq1.toBuffer(),f=e.coeff.toBuffer(),p=i.length+r.length+d.length+h.length+u.length+l.length+f.length+512,m=new s.Writer({size:p});m.startSequence(),m.writeInt(0),m.writeBuffer(i,2),m.writeInt(e.e),m.writeBuffer(r,2),m.writeBuffer(d,2),m.writeBuffer(h,2),m.writeBuffer(u,2),m.writeBuffer(l,2),m.writeBuffer(f,2),m.endSequence();var g=new s.Writer({size:p});return g.startSequence(),g.writeInt(0),g.startSequence(),g.writeOID(a),g.writeNull(),g.endSequence(),g.writeBuffer(m.buffer,4),g.endSequence(),"der"===t.type?g.buffer:o+"\n"+n.linebrk(g.buffer.toString("base64"),64)+"\n"+c},privateImport:function(e,i,d){var h;if(d=d||{},"der"!==d.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),!r.isString(i))throw Error("Unsupported key format");var u=n.trimSurroundingText(i,o,c).replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");h=t.from(u,"base64")}else{if(!t.isBuffer(i))throw Error("Unsupported key format");h=i}var l=new s.Reader(h);l.readSequence(),l.readInt(0);var f=new s.Reader(l.readString(48,!0));if(f.readOID(6,!0)!==a)throw Error("Invalid Public key format");var p=new s.Reader(l.readString(4,!0));p.readSequence(),p.readString(2,!0),e.setPrivate(p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=i.length+512,o=new s.Writer({size:r});o.writeByte(0),o.startSequence(),o.writeBuffer(i,2),o.writeInt(e.e),o.endSequence();var c=new s.Writer({size:r});return c.startSequence(),c.startSequence(),c.writeOID(a),c.writeNull(),c.endSequence(),c.writeBuffer(o.buffer,3),c.endSequence(),"der"===t.type?c.buffer:d+"\n"+n.linebrk(c.buffer.toString("base64"),64)+"\n"+h},publicImport:function(e,i,o){var c;if(o=o||{},"der"!==o.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),r.isString(i)){var u=n.trimSurroundingText(i,d,h).replace(/\s+|\n\r|\n|\r$/gm,"");c=t.from(u,"base64")}}else{if(!t.isBuffer(i))throw Error("Unsupported key format");c=i}var l=new s.Reader(c);l.readSequence();var f=new s.Reader(l.readString(48,!0));if(f.readOID(6,!0)!==a)throw Error("Invalid Public key format");var p=new s.Reader(l.readString(3,!0));p.readByte(),p.readSequence(),e.setPublic(p.readString(2,!0),p.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}}).call(this,i("b639").Buffer)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("d3b7");function s(e,t,i,s,r,a,n){try{var o=e[a](n),c=o.value}catch(d){return void i(d)}o.done?t(c):Promise.resolve(c).then(s,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var n=e.apply(t,i);function o(e){s(n,r,a,o,c,"next",e)}function c(e){s(n,r,a,o,c,"throw",e)}o(void 0)}))}}},"1dde":function(e,t,i){var s=i("d039"),r=i("b622"),a=i("2d00"),n=r("species");e.exports=function(e){return a>=51||!s((function(){var t=[],i=t.constructor={};return i[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1ea0":function(e,t,i){(function(t){var s,r=i("4ab0")._;function a(e,i){null!=e&&("number"==typeof e?this.fromNumber(e,i):t.isBuffer(e)?this.fromBuffer(e):null==i&&"string"!=typeof e?this.fromByteArray(e):this.fromString(e,i))}function n(){return new a(null)}function o(e,t,i,s,r,a){var n=16383&t,o=t>>14;while(--a>=0){var c=16383&this[e],d=this[e++]>>14,h=o*c+d*n;c=n*c+((16383&h)<<14)+i[s]+r,r=(c>>28)+(h>>14)+o*d,i[s++]=268435455&c}return r}a.prototype.am=o,s=28,a.prototype.DB=s,a.prototype.DM=(1<<s)-1,a.prototype.DV=1<<s;var c=52;a.prototype.FV=Math.pow(2,c),a.prototype.F1=c-s,a.prototype.F2=2*s-c;var d,h,u="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array;for(d="0".charCodeAt(0),h=0;h<=9;++h)l[d++]=h;for(d="a".charCodeAt(0),h=10;h<36;++h)l[d++]=h;for(d="A".charCodeAt(0),h=10;h<36;++h)l[d++]=h;function f(e){return u.charAt(e)}function p(e,t){var i=l[e.charCodeAt(t)];return null==i?-1:i}function m(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function g(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function y(e){var t=n();return t.fromInt(e),t}function v(e,t,i){var s;switch(t){case 2:s=1;break;case 4:s=2;break;case 8:s=3;break;case 16:s=4;break;case 32:s=5;break;case 256:s=8;break;default:return void this.fromRadix(e,t)}this.t=0,this.s=0;var r=e.length,n=!1,o=0;while(--r>=0){var c=8==s?255&e[r]:p(e,r);c<0?"-"==e.charAt(r)&&(n=!0):(n=!1,0===o?this[this.t++]=c:o+s>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,o+=s,o>=this.DB&&(o-=this.DB))}i||8!=s||0==(128&e[0])||(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&a.ZERO.subTo(this,this)}function b(e,t){this.fromString(e,256,t)}function w(e){this.fromString(e,256,!0)}function k(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t}function S(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,s=(1<<t)-1,r=!1,a="",n=this.t,o=this.DB-n*this.DB%t;if(n-- >0){o<this.DB&&(i=this[n]>>o)>0&&(r=!0,a=f(i));while(n>=0)o<t?(i=(this[n]&(1<<o)-1)<<t-o,i|=this[--n]>>(o+=this.DB-t)):(i=this[n]>>(o-=t)&s,o<=0&&(o+=this.DB,--n)),i>0&&(r=!0),r&&(a+=f(i))}return r?a:"0"}function _(){var e=n();return a.ZERO.subTo(this,e),e}function O(){return this.s<0?this.negate():this}function T(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;while(--i>=0)if(0!=(t=this[i]-e[i]))return t;return 0}function C(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function x(){return this.t<=0?0:this.DB*(this.t-1)+C(this[this.t-1]^this.s&this.DM)}function I(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function E(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function A(e,t){var i,s=e%this.DB,r=this.DB-s,a=(1<<r)-1,n=Math.floor(e/this.DB),o=this.s<<s&this.DM;for(i=this.t-1;i>=0;--i)t[i+n+1]=this[i]>>r|o,o=(this[i]&a)<<s;for(i=n-1;i>=0;--i)t[i]=0;t[n]=o,t.t=this.t+n+1,t.s=this.s,t.clamp()}function N(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var s=e%this.DB,r=this.DB-s,a=(1<<s)-1;t[0]=this[i]>>s;for(var n=i+1;n<this.t;++n)t[n-i-1]|=(this[n]&a)<<r,t[n-i]=this[n]>>s;s>0&&(t[this.t-i-1]|=(this.s&a)<<r),t.t=this.t-i,t.clamp()}}function M(e,t){var i=0,s=0,r=Math.min(e.t,this.t);while(i<r)s+=this[i]-e[i],t[i++]=s&this.DM,s>>=this.DB;if(e.t<this.t){s-=e.s;while(i<this.t)s+=this[i],t[i++]=s&this.DM,s>>=this.DB;s+=this.s}else{s+=this.s;while(i<e.t)s-=e[i],t[i++]=s&this.DM,s>>=this.DB;s-=e.s}t.s=s<0?-1:0,s<-1?t[i++]=this.DV+s:s>0&&(t[i++]=s),t.t=i,t.clamp()}function P(e,t){var i=this.abs(),s=e.abs(),r=i.t;t.t=r+s.t;while(--r>=0)t[r]=0;for(r=0;r<s.t;++r)t[r+i.t]=i.am(0,s[r],t,r,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)}function B(e){var t=this.abs(),i=e.t=2*t.t;while(--i>=0)e[i]=0;for(i=0;i<t.t-1;++i){var s=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,s,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function R(e,t,i){var s=e.abs();if(!(s.t<=0)){var r=this.abs();if(r.t<s.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var o=n(),c=this.s,d=e.s,h=this.DB-C(s[s.t-1]);h>0?(s.lShiftTo(h,o),r.lShiftTo(h,i)):(s.copyTo(o),r.copyTo(i));var u=o.t,l=o[u-1];if(0!==l){var f=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),p=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,y=i.t,v=y-u,b=null==t?n():t;o.dlShiftTo(v,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),a.ONE.dlShiftTo(u,b),b.subTo(o,o);while(o.t<u)o[o.t++]=0;while(--v>=0){var w=i[--y]==l?this.DM:Math.floor(i[y]*p+(i[y-1]+g)*m);if((i[y]+=o.am(0,w,i,v,0,u))<w){o.dlShiftTo(v,b),i.subTo(b,i);while(i[y]<--w)i.subTo(b,i)}}null!=t&&(i.drShiftTo(u,t),c!=d&&a.ZERO.subTo(t,t)),i.t=u,i.clamp(),h>0&&i.rShiftTo(h,i),c<0&&a.ZERO.subTo(i,i)}}}function L(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t}function V(e){this.m=e}function D(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function q(e){return e}function j(e){e.divRemTo(this.m,null,e)}function G(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function U(e,t){e.squareTo(t),this.reduce(t)}function F(){if(this.t<1)return 0;var e=this[0];if(0===(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function H(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function z(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t}function K(e){var t=n();return e.copyTo(t),this.reduce(t),t}function W(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],s=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;i=t+this.m.t,e[i]+=this.m.am(0,s,e,t,0,this.m.t);while(e[i]>=e.DV)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function $(e,t){e.squareTo(t),this.reduce(t)}function Y(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function X(){return 0===(this.t>0?1&this[0]:this.s)}function Z(e,t){if(e>4294967295||e<1)return a.ONE;var i=n(),s=n(),r=t.convert(this),o=C(e)-1;r.copyTo(i);while(--o>=0)if(t.sqrTo(i,s),(e&1<<o)>0)t.mulTo(s,r,i);else{var c=i;i=s,s=c}return t.revert(i)}function Q(){var e=n();return this.copyTo(e),e}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ee(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function te(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ie(e){if(null==e&&(e=10),0===this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),s=y(i),r=n(),a=n(),o="";this.divRemTo(s,r,a);while(r.signum()>0)o=(i+a.intValue()).toString(e).substr(1)+o,r.divRemTo(s,r,a);return a.intValue().toString(e)+o}function se(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),s=Math.pow(t,i),r=!1,n=0,o=0,c=0;c<e.length;++c){var d=p(e,c);d<0?"-"==e.charAt(c)&&0===this.signum()&&(r=!0):(o=t*o+d,++n>=i&&(this.dMultiply(s),this.dAddOffset(o,0),n=0,o=0))}n>0&&(this.dMultiply(Math.pow(t,n)),this.dAddOffset(o,0)),r&&a.ZERO.subTo(this,this)}function re(){var e=this.t,t=new Array;t[0]=this.s;var i,s=this.DB-e*this.DB%8,r=0;if(e-- >0){s<this.DB&&(i=this[e]>>s)!=(this.s&this.DM)>>s&&(t[r++]=i|this.s<<this.DB-s);while(e>=0)s<8?(i=(this[e]&(1<<s)-1)<<8-s,i|=this[--e]>>(s+=this.DB-8)):(i=this[e]>>(s-=8)&255,s<=0&&(s+=this.DB,--e)),0!=(128&i)&&(i|=-256),0===r&&(128&this.s)!=(128&i)&&++r,(r>0||i!=this.s)&&(t[r++]=i)}return t}function ae(e){var i=t.from(this.toByteArray());if(!0===e&&0===i[0])i=i.slice(1);else if(r.isNumber(e)){if(i.length>e){for(var s=0;s<i.length-e;s++)if(0!==i[s])return null;return i.slice(i.length-e)}if(i.length<e){var a=t.alloc(e);return a.fill(0,0,e-i.length),i.copy(a,e-i.length),a}}return i}function ne(e){return 0==this.compareTo(e)}function oe(e){return this.compareTo(e)<0?this:e}function ce(e){return this.compareTo(e)>0?this:e}function de(e,t,i){var s,r,a=Math.min(e.t,this.t);for(s=0;s<a;++s)i[s]=t(this[s],e[s]);if(e.t<this.t){for(r=e.s&this.DM,s=a;s<this.t;++s)i[s]=t(this[s],r);i.t=this.t}else{for(r=this.s&this.DM,s=a;s<e.t;++s)i[s]=t(r,e[s]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function he(e,t){return e&t}function ue(e){var t=n();return this.bitwiseTo(e,he,t),t}function le(e,t){return e|t}function fe(e){var t=n();return this.bitwiseTo(e,le,t),t}function pe(e,t){return e^t}function me(e){var t=n();return this.bitwiseTo(e,pe,t),t}function ge(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function ye(e){if(0===e)return-1;var t=0;return 0===(65535&e)&&(e>>=16,t+=16),0===(255&e)&&(e>>=8,t+=8),0===(15&e)&&(e>>=4,t+=4),0===(3&e)&&(e>>=2,t+=2),0===(1&e)&&++t,t}function ve(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ye(this[e]);return this.s<0?this.t*this.DB:-1}function be(e,t){var i=0,s=0,r=Math.min(e.t,this.t);while(i<r)s+=this[i]+e[i],t[i++]=s&this.DM,s>>=this.DB;if(e.t<this.t){s+=e.s;while(i<this.t)s+=this[i],t[i++]=s&this.DM,s>>=this.DB;s+=this.s}else{s+=this.s;while(i<e.t)s+=e[i],t[i++]=s&this.DM,s>>=this.DB;s+=e.s}t.s=s<0?-1:0,s>0?t[i++]=s:s<-1&&(t[i++]=this.DV+s),t.t=i,t.clamp()}function we(e){var t=n();return this.addTo(e,t),t}function ke(e){var t=n();return this.subTo(e,t),t}function Se(e){var t=n();return this.multiplyTo(e,t),t}function _e(){var e=n();return this.squareTo(e),e}function Oe(e){var t=n();return this.divRemTo(e,t,null),t}function Te(e){var t=n();return this.divRemTo(e,null,t),t}function Ce(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function xe(e,t){if(0!==e){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Ie(){}function Ee(e){return e}function Ae(e,t,i){e.multiplyTo(t,i)}function Ne(e,t){e.squareTo(t)}function Me(e){return this.exp(e,new Ie)}function Pe(e,t,i){var s,r=Math.min(this.t+e.t,t);i.s=0,i.t=r;while(r>0)i[--r]=0;for(s=i.t-this.t;r<s;++r)i[r+this.t]=this.am(0,e[r],i,r,0,this.t);for(s=Math.min(e.t,t);r<s;++r)this.am(0,e[r],i,r,0,t-r);i.clamp()}function Be(e,t,i){--t;var s=i.t=this.t+e.t-t;i.s=0;while(--s>=0)i[s]=0;for(s=Math.max(t-this.t,0);s<e.t;++s)i[this.t+s-t]=this.am(t-s,e[s],i,0,0,this.t+s-t);i.clamp(),i.drShiftTo(1,i)}function Re(e){this.r2=n(),this.q3=n(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Le(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t}function Ve(e){return e}function De(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function qe(e,t){e.squareTo(t),this.reduce(t)}function je(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function Ge(e,t){var i,s,r=e.bitLength(),a=y(1);if(r<=0)return a;i=r<18?1:r<48?3:r<144?4:r<768?5:6,s=r<8?new V(t):t.isEven()?new Re(t):new H(t);var o=new Array,c=3,d=i-1,h=(1<<i)-1;if(o[1]=s.convert(this),i>1){var u=n();s.sqrTo(o[1],u);while(c<=h)o[c]=n(),s.mulTo(u,o[c-2],o[c]),c+=2}var l,f,p=e.t-1,m=!0,g=n();r=C(e[p])-1;while(p>=0){r>=d?l=e[p]>>r-d&h:(l=(e[p]&(1<<r+1)-1)<<d-r,p>0&&(l|=e[p-1]>>this.DB+r-d)),c=i;while(0===(1&l))l>>=1,--c;if((r-=c)<0&&(r+=this.DB,--p),m)o[l].copyTo(a),m=!1;else{while(c>1)s.sqrTo(a,g),s.sqrTo(g,a),c-=2;c>0?s.sqrTo(a,g):(f=a,a=g,g=f),s.mulTo(g,o[l],a)}while(p>=0&&0===(e[p]&1<<r))s.sqrTo(a,g),f=a,a=g,g=f,--r<0&&(r=this.DB-1,--p)}return s.revert(a)}function Ue(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var s=t;t=i,i=s}var r=t.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)return t;r<a&&(a=r),a>0&&(t.rShiftTo(a,t),i.rShiftTo(a,i));while(t.signum()>0)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return a>0&&i.lShiftTo(a,i),i}V.prototype.convert=D,V.prototype.revert=q,V.prototype.reduce=j,V.prototype.mulTo=G,V.prototype.sqrTo=U,H.prototype.convert=z,H.prototype.revert=K,H.prototype.reduce=W,H.prototype.mulTo=Y,H.prototype.sqrTo=$,Ie.prototype.convert=Ee,Ie.prototype.revert=Ee,Ie.prototype.mulTo=Ae,Ie.prototype.sqrTo=Ne,Re.prototype.convert=Le,Re.prototype.revert=Ve,Re.prototype.reduce=De,Re.prototype.mulTo=je,Re.prototype.sqrTo=qe,a.prototype.copyTo=m,a.prototype.fromInt=g,a.prototype.fromString=v,a.prototype.fromByteArray=b,a.prototype.fromBuffer=w,a.prototype.clamp=k,a.prototype.dlShiftTo=I,a.prototype.drShiftTo=E,a.prototype.lShiftTo=A,a.prototype.rShiftTo=N,a.prototype.subTo=M,a.prototype.multiplyTo=P,a.prototype.squareTo=B,a.prototype.divRemTo=R,a.prototype.invDigit=F,a.prototype.isEven=X,a.prototype.exp=Z,a.prototype.chunkSize=ee,a.prototype.toRadix=ie,a.prototype.fromRadix=se,a.prototype.bitwiseTo=de,a.prototype.addTo=be,a.prototype.dMultiply=Ce,a.prototype.dAddOffset=xe,a.prototype.multiplyLowerTo=Pe,a.prototype.multiplyUpperTo=Be,a.prototype.toString=S,a.prototype.negate=_,a.prototype.abs=O,a.prototype.compareTo=T,a.prototype.bitLength=x,a.prototype.mod=L,a.prototype.clone=Q,a.prototype.intValue=J,a.prototype.signum=te,a.prototype.toByteArray=re,a.prototype.toBuffer=ae,a.prototype.equals=ne,a.prototype.min=oe,a.prototype.max=ce,a.prototype.and=ue,a.prototype.or=fe,a.prototype.xor=me,a.prototype.not=ge,a.prototype.getLowestSetBit=ve,a.prototype.add=we,a.prototype.subtract=ke,a.prototype.multiply=Se,a.prototype.divide=Oe,a.prototype.remainder=Te,a.prototype.modPow=Ge,a.prototype.pow=Me,a.prototype.gcd=Ue,a.int2char=f,a.ZERO=y(0),a.ONE=y(1),a.prototype.square=_e,e.exports=a}).call(this,i("b639").Buffer)},"1ee7":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,BadSymbol:a,AuthenticationError:n,InsufficientFunds:o,InvalidOrder:c,ArgumentsRequired:d,OrderNotFound:h,BadRequest:u,PermissionDenied:l,AccountSuspended:f,CancelPending:p,DDoSProtection:m,DuplicateOrderId:g,NotSupported:y}=i("74b0"),{TICK_SIZE:v}=i("5ea4"),b=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"phemex",name:"Phemex",countries:["CN"],rateLimit:100,version:"v1",certified:!1,pro:!0,hostname:"api.phemex.com",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/85225056-221eb600-b3d7-11ea-930d-564d2690e3f6.jpg",test:{v1:"https://testnet-api.phemex.com/v1",public:"https://testnet-api.phemex.com/exchange/public",private:"https://testnet-api.phemex.com"},api:{v1:"https://{hostname}/v1",public:"https://{hostname}/exchange/public",private:"https://{hostname}"},www:"https://phemex.com",doc:"https://github.com/phemex/phemex-api-docs",fees:"https://phemex.com/fees-conditions",referral:"https://phemex.com/register?referralCode=EDNVJ"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","3h":"10800","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2592000"},api:{public:{get:["cfg/v2/products","products","nomics/trades","md/kline"]},v1:{get:["md/orderbook","md/trade","md/ticker/24hr","md/ticker/24hr/all","md/spot/ticker/24hr","md/spot/ticker/24hr/all","exchange/public/products"]},private:{get:["spot/orders/active","spot/orders","spot/wallets","exchange/spot/order","exchange/spot/order/trades","accounts/accountPositions","accounts/positions","orders/activeList","exchange/order/list","exchange/order","exchange/order/trade","phemex-user/users/children","phemex-user/wallets/v2/depositAddress","exchange/margins/transfer","exchange/wallets/confirm/withdraw","exchange/wallets/withdrawList","exchange/wallets/depositList","exchange/wallets/v2/depositAddress"],post:["spot/orders","orders","positions/assign","exchange/wallets/transferOut","exchange/wallets/transferIn","exchange/margins","exchange/wallets/createWithdraw","exchange/wallets/cancelWithdraw","exchange/wallets/createWithdrawAddress"],put:["spot/orders","orders/replace","positions/leverage","positions/riskLimit"],delete:["spot/orders","orders/cancel","orders","orders/all"]}},precisionMode:v,fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{412:u,6001:u,19999:u,10001:g,10002:h,10003:p,10004:p,10005:p,11001:o,11002:c,11003:o,11004:c,11005:o,11006:r,11007:r,11008:r,11009:r,11010:o,11011:c,11012:c,11013:c,11014:c,11015:c,11016:u,11017:r,11018:r,11019:r,11020:r,11021:r,11022:f,11023:r,11024:r,11025:u,11026:r,11027:a,11028:a,11029:r,11030:r,11031:m,11032:m,11033:g,11034:c,11035:c,11036:c,11037:c,11038:c,11039:c,11040:c,11041:c,11042:c,11043:c,11044:c,11045:c,11046:c,11047:c,11048:c,11049:c,11050:c,11051:c,11052:c,11053:c,11054:c,11055:c,11056:c,11057:c,11058:c,11059:c,11060:c,11061:p,11062:c,11063:c,11064:c,11065:c,11066:c,11067:c,11068:c,11069:r,11070:a,11071:c,11072:c,11073:c,11074:c,11075:c,11076:c,11077:c,11078:c,11079:c,11080:c,11081:c,11082:o,11083:c,11084:c,11085:g,11086:c,11087:c,11088:c,11089:c,11090:c,11091:c,11092:c,11093:c,11094:c,11095:c,11096:c,11097:u,11098:u,11099:r,11100:o,11101:o,11102:u,11103:u,11104:u,11105:o,11106:o,11107:r,11108:c,11109:c,11110:c,11111:c,11112:c,11113:u,11114:c,11115:c,30018:u,39996:l},broad:{"Failed to find api-key":n,"Missing required parameter":u,"API Signature verification failed":n}},options:{"x-phemex-request-expiry":60,createOrderByQuoteRequiresPrice:!0}})}parseSafeNumber(e){if(void 0===e)return e;e=e.replace(",","");const t=e.split(" ");return this.safeNumber(t,0)}parseSwapMarket(e){const t=this.safeString(e,"symbol"),i=this.safeString2(e,"baseCurrency","contractUnderlyingAssets"),s=this.safeString(e,"quoteCurrency"),r=this.safeCurrencyCode(i),a=this.safeCurrencyCode(s),n=r+"/"+a,o=this.safeStringLower(e,"type");let c=!1;const d=!1,h=!0,u=this.safeString(e,"settlementCurrency");u!==s&&(c=!0);const l=!c,f={amount:this.safeNumber(e,"lotSize"),price:this.safeNumber(e,"tickSize")},p=this.safeInteger(e,"priceScale"),m=this.safeInteger(e,"ratioScale"),g=this.safeInteger(e,"valueScale"),y=this.safeString(e,"minPriceEp"),v=this.safeString(e,"maxPriceEp"),b=this.safeString(e,"makerFeeRateEr"),w=this.safeString(e,"takerFeeRateEr"),k=this.parseNumber(this.fromEn(b,m)),S=this.parseNumber(this.fromEn(w,m)),_={amount:{min:f["amount"],max:void 0},price:{min:this.parseNumber(this.fromEn(y,p)),max:this.parseNumber(this.fromEn(v,p))},cost:{min:void 0,max:this.parseNumber(this.safeString(e,"maxOrderQty"))}},O=this.safeString(e,"status"),T="Listed"===O;return{id:t,symbol:n,base:r,quote:a,baseId:i,quoteId:s,info:e,type:o,spot:d,swap:h,linear:l,inverse:c,active:T,taker:S,maker:k,priceScale:p,valueScale:g,ratioScale:m,precision:f,limits:_}}parseSpotMarket(e){const t=this.safeStringLower(e,"type"),i=this.safeString(e,"symbol"),s=this.safeString(e,"quoteCurrency"),r=this.safeString(e,"baseCurrency"),a=void 0,n=void 0,o=!0,c=!1,d=this.safeNumber(e,"defaultTakerFee"),h=this.safeNumber(e,"defaultMakerFee"),u={amount:this.parseSafeNumber(this.safeString(e,"baseTickSize")),price:this.parseSafeNumber(this.safeString(e,"quoteTickSize"))},l={amount:{min:u["amount"],max:this.parseSafeNumber(this.safeString(e,"maxBaseOrderSize"))},price:{min:u["price"],max:void 0},cost:{min:this.parseSafeNumber(this.safeString(e,"minOrderValue")),max:this.parseSafeNumber(this.safeString(e,"maxOrderValue"))}},f=this.safeCurrencyCode(r),p=this.safeCurrencyCode(s),m=f+"/"+p,g=this.safeString(e,"status"),y="Listed"===g;return{id:i,symbol:m,base:f,quote:p,baseId:r,quoteId:s,info:e,type:t,spot:o,swap:c,linear:a,inverse:n,active:y,taker:d,maker:h,precision:u,priceScale:8,valueScale:8,ratioScale:8,limits:l}}async fetchMarkets(e={}){const t=await this.publicGetCfgV2Products(e),i=await this.v1GetExchangePublicProducts(e),s=this.safeValue(i,"data",[]),r=this.safeValue(t,"data",{}),a=this.safeValue(r,"products",[]),n=this.safeValue(r,"riskLimits",[]),o=this.indexBy(n,"symbol"),c=this.indexBy(s,"symbol"),d=[];for(let h=0;h<a.length;h++){let e=a[h];const t=this.safeStringLower(e,"type");if("perpetual"===t){const t=this.safeString(e,"symbol"),i=this.safeValue(o,t,{});e=this.extend(e,i);const s=this.safeValue(c,t,{});e=this.extend(e,s),e=this.parseSwapMarket(e)}else e=this.parseSpotMarket(e);d.push(e)}return d}async fetchCurrencies(e={}){const t=await this.publicGetCfgV2Products(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"currencies",[]),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),i=this.safeString(e,"name"),n=this.safeCurrencyCode(t),o=this.safeString(e,"valueScale"),c=parseInt(o),d=this.safeString(e,"minValueEv"),h=this.safeString(e,"maxValueEv");let u=void 0,l=void 0,f=void 0;if(void 0!==c){const e=this.parsePrecision(o);f=this.parseNumber(e),u=this.parseNumber(b.stringMul(d,e)),l=this.parseNumber(b.stringMul(h,e))}r[n]={id:t,info:e,code:n,name:i,active:void 0,fee:void 0,precision:f,limits:{amount:{min:u,max:l},withdraw:{min:void 0,max:void 0}},valueScale:c}}return r}parseBidAsk(e,t=0,i=1,s){if(void 0===s)throw new d(this.id+" parseBidAsk() requires a market argument");let r=this.safeString(e,i);return s["spot"]&&(r=this.fromEv(r,s)),[this.parseNumber(this.fromEp(this.safeString(e,t),s)),this.parseNumber(r)]}parseOrderBook(e,t,i,s="bids",r="asks",a=0,n=1,o){const c={symbol:t,timestamp:i,datetime:this.iso8601(i),nonce:void 0},d=[s,r];for(let h=0;h<d.length;h++){const t=d[h],i=[],s=this.safeValue(e,t);for(let e=0;e<s.length;e++)i.push(this.parseBidAsk(s[e],a,n,o));c[t]=i}return c[s]=this.sortBy(c[s],0,!0),c[r]=this.sortBy(c[r],0),c}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]},a=await this.v1GetMdOrderbook(this.extend(r,i)),n=this.safeValue(a,"result",{}),o=this.safeValue(n,"book",{}),c=this.safeIntegerProduct(n,"timestamp",1e-6),d=this.parseOrderBook(o,e,c,"bids","asks",0,1,s);return d["nonce"]=this.safeInteger(n,"sequence"),d}toEn(e,t){const i=e.toString(),s=new b(i);s.decimals=s.decimals-t,s.reduce();const r=s.toString();return parseInt(parseFloat(r))}toEv(e,t){return void 0===e||void 0===t?e:this.toEn(e,t["valueScale"])}toEp(e,t){return void 0===e||void 0===t?e:this.toEn(e,t["priceScale"])}fromEn(e,t){if(void 0===e)return;const i=new b(e);return i.decimals=this.sum(i.decimals,t),i.reduce(),i.toString()}fromEp(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"priceScale"))}fromEv(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"valueScale"))}fromEr(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"ratioScale"))}parseOHLCV(e,t){let i=void 0;return i=void 0!==t&&t["spot"]?this.parseNumber(this.fromEv(this.safeString(e,7),t)):this.safeNumber(e,7),[this.safeTimestamp(e,0),this.parseNumber(this.fromEp(this.safeString(e,3),t)),this.parseNumber(this.fromEp(this.safeString(e,4),t)),this.parseNumber(this.fromEp(this.safeString(e,5),t)),this.parseNumber(this.fromEp(this.safeString(e,6),t)),i]}async fetchOHLCV(e,t="1m",i,s,r={}){const a={resolution:this.timeframes[t]},n=this.parseTimeframe(t),o=this.seconds();if(void 0!==i)void 0===s&&(s=2e3),i=parseInt(i/1e3),a["from"]=i,a["to"]=Math.min(o,this.sum(i,n*s));else{if(void 0===s)throw new d(this.id+" fetchOHLCV() requires a since argument, or a limit argument, or both");s=Math.min(s,2e3),a["from"]=o-n*this.sum(s,1),a["to"]=o}await this.loadMarkets();const c=this.market(e);a["symbol"]=c["id"];const h=await this.publicGetMdKline(this.extend(a,r)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"rows",[]);return this.parseOHLCVs(l,c,t,i,s)}parseTicker(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const s=t["symbol"],r=this.safeIntegerProduct(e,"timestamp",1e-6),a=this.fromEp(this.safeString(e,"lastEp"),t),n=this.parseNumber(a),o=this.parseNumber(this.fromEv(this.safeString(e,"turnoverEv"),t));let c=this.safeNumber(e,"volume");void 0===c&&(c=this.parseNumber(this.fromEv(this.safeString(e,"volumeEv"),t)));let d=void 0;void 0!==t&&t["spot"]&&(d=this.vwap(c,o));let h=void 0,u=void 0,l=void 0;const f=this.fromEp(this.safeString(e,"openEp"),t),p=this.parseNumber(f);void 0!==f&&void 0!==a&&(h=this.parseNumber(b.stringSub(a,f)),l=this.parseNumber(b.stringDiv(b.stringAdd(a,f),"2")),u=this.parseNumber(b.stringMul(b.stringSub(b.stringDiv(a,f),"1"),"100")));const m={symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.parseNumber(this.fromEp(this.safeString(e,"highEp"),t)),low:this.parseNumber(this.fromEp(this.safeString(e,"lowEp"),t)),bid:this.parseNumber(this.fromEp(this.safeString(e,"bidEp"),t)),bidVolume:void 0,ask:this.parseNumber(this.fromEp(this.safeString(e,"askEp"),t)),askVolume:void 0,vwap:d,open:p,close:n,last:n,previousClose:void 0,change:h,percentage:u,average:l,baseVolume:c,quoteVolume:o,info:e};return m}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=i["spot"]?"v1GetMdSpotTicker24hr":"v1GetMdTicker24hr",a=await this[r](this.extend(s,t)),n=this.safeValue(a,"result",{});return this.parseTicker(n,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.v1GetMdTrade(this.extend(a,s)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,r,t,i)}parseTrade(e,t){let i=void 0,s=void 0,r=void 0,a=void 0,n=void 0,o=void 0,c=void 0,d=void 0;const h=this.safeString(e,"symbol");t=this.safeMarket(h,t);const u=t["symbol"];let l=void 0,f=void 0;if(Array.isArray(e)){const o=e.length;r=this.safeIntegerProduct(e,0,1e-6),o>4&&(a=this.safeString(e,o-4)),n=this.safeStringLower(e,o-3),i=this.fromEp(this.safeString(e,o-2),t),s=this.fromEv(this.safeString(e,o-1),t)}else{r=this.safeIntegerProduct(e,"transactTimeNs",1e-6),a=this.safeString2(e,"execId","execID"),l=this.safeString(e,"orderID"),n=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"ordType"));const h=this.safeString(e,"execStatus");"MakerFill"===h&&(f="maker"),i=this.fromEp(this.safeString(e,"execPriceEp"),t),s=this.fromEv(this.safeString(e,"execBaseQtyEv"),t),s=this.safeString(e,"execQty",s),o=this.fromEv(this.safeString2(e,"execQuoteQtyEv","execValueEv"),t);const u=this.fromEv(this.safeString(e,"execFeeEv"),t);if(void 0!==u){const i=this.fromEr(this.safeString(e,"feeRateEr"),t);let s=void 0;if(t["spot"])s="buy"===n?t["base"]:t["quote"];else{const e=this.safeValue(t,"info");if(void 0!==e){const t=this.safeString(e,"settlementCurrency");s=this.safeCurrencyCode(t)}}d={cost:this.parseNumber(u),rate:this.parseNumber(i),currency:s}}}const p=this.parseNumber(i),m=this.parseNumber(s);void 0===o&&(o=b.stringMul(i,s));const g=this.parseNumber(o);return{info:e,id:a,symbol:u,timestamp:r,datetime:this.iso8601(r),order:l,type:c,side:n,takerOrMaker:f,price:p,amount:m,cost:g,fee:d}}parseSpotBalance(e){let t=void 0;const i={info:e},s=this.safeValue(e,"data",[]);for(let r=0;r<s.length;r++){const e=s[r],a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a),o=this.safeValue(this.currencies,n,{}),c=this.safeInteger(o,"valueScale",8),d=this.account(),h=this.safeString(e,"balanceEv"),u=this.safeString(e,"lockedTradingBalanceEv"),l=this.safeString(e,"lockedWithdrawEv"),f=this.fromEn(h,c),p=this.fromEn(u,c),m=this.fromEn(l,c),g=b.stringAdd(p,m),y=this.safeIntegerProduct(e,"lastUpdateTimeNs",1e-6);t=void 0===t?y:Math.max(t,y),d["total"]=f,d["used"]=g,i[n]=d}return i["timestamp"]=t,i["datetime"]=this.iso8601(t),this.parseBalance(i,!1)}parseSwapBalance(e){const t={info:e},i=this.safeValue(e,"data",{}),s=this.safeValue(i,"account",{}),r=this.safeString(s,"currency"),a=this.safeCurrencyCode(r),n=this.currency(a),o=this.account(),c=this.safeString(s,"accountBalanceEv"),d=this.safeString(s,"totalUsedBalanceEv"),h=this.safeInteger(n,"valueScale",8);return o["total"]=this.fromEn(c,h),o["used"]=this.fromEn(d,h),t[a]=o,this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"defaultType","fetchBalance","spot"),i=this.safeString(e,"type",t);let s="privateGetSpotWallets";const r={};if("swap"===i){const t=this.safeString(e,"code");if(void 0!==t){const i=this.currency(t);r["currency"]=i["id"],e=this.omit(e,"code")}else{const t=this.safeString(e,"currency");if(void 0===t)throw new d(this.id+" fetchBalance() requires a code parameter or a currency parameter for "+i+" type")}s="privateGetAccountsAccountPositions"}e=this.omit(e,"type");const a=await this[s](this.extend(r,e)),n="swap"===i?this.parseSwapBalance(a):this.parseSpotBalance(a);return n}parseOrderStatus(e){const t={Created:"open",Untriggered:"open",Deactivated:"closed",Triggered:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled"};return this.safeString(t,e,e)}parseOrderType(e){const t={Limit:"limit",Market:"market"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={GoodTillCancel:"GTC",PostOnly:"PO",ImmediateOrCancel:"IOC",FillOrKill:"FOK"};return this.safeString(t,e,e)}parseSpotOrder(e,t){const i=this.safeString(e,"orderID");let s=this.safeString(e,"clOrdID");void 0!==s&&s.length<1&&(s=void 0);const r=this.safeString(e,"symbol"),a=this.safeSymbol(r,t),n=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"priceEp"),t))),o=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"baseQtyEv"),t))),c=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"leavesBaseQtyEv"),t))),d=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"cumBaseQtyEv"),t))),h=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"quoteQtyEv"),t))),u=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"avgPriceEp"),t))),l=this.parseOrderStatus(this.safeString(e,"ordStatus")),f=this.safeStringLower(e,"side"),p=this.parseOrderType(this.safeString(e,"ordType")),m=this.safeIntegerProduct2(e,"actionTimeNs","createTimeNs",1e-6);let g=void 0;const y=this.parseNumber(this.fromEv(this.safeString(e,"cumFeeEv"),t));void 0!==y&&(g={cost:y,currency:void 0});const v=this.parseTimeInForce(this.safeString(e,"timeInForce")),b=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"stopPxEp",t)))),w="PO"===v;return this.safeOrder({info:e,id:i,clientOrderId:s,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,symbol:a,type:p,timeInForce:v,postOnly:w,side:f,price:n,stopPrice:b,amount:o,cost:h,average:u,filled:d,remaining:c,status:l,fee:g,trades:void 0})}parseSwapOrder(e,t){const i=this.safeString(e,"orderID");let s=this.safeString(e,"clOrdID");void 0!==s&&s.length<1&&(s=void 0);const r=this.safeString(e,"symbol"),a=this.safeSymbol(r,t),n=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"orderType")),d=this.parseNumber(this.fromEp(this.safeString(e,"priceEp"),t)),h=this.safeNumber(e,"orderQty"),u=this.safeNumber(e,"cumQty"),l=this.safeNumber(e,"leavesQty"),f=this.safeIntegerProduct(e,"actionTimeNs",1e-6),p=this.safeNumber(e,"cumValue");let m=this.safeIntegerProduct(e,"transactTimeNs",1e-6);0===m&&(m=void 0);const g=this.parseTimeInForce(this.safeString(e,"timeInForce")),y=this.safeNumber(e,"stopPx"),v="PO"===g;return{info:e,id:i,clientOrderId:s,datetime:this.iso8601(f),timestamp:f,lastTradeTimestamp:m,symbol:a,type:c,timeInForce:g,postOnly:v,side:o,price:d,stopPrice:y,amount:h,filled:u,remaining:l,cost:p,average:void 0,status:n,fee:void 0,trades:void 0}}parseOrder(e,t){return"closedPnl"in e?this.parseSwapOrder(e,t):this.parseSpotOrder(e,t)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e);i=this.capitalize(i),t=this.capitalize(t);const o={symbol:n["id"],side:i,ordType:t};if(n["spot"]){let e=this.safeValue(a,"qtyType","ByBase");if("Market"!==t&&"Stop"!==t&&"MarketIfTouched"!==t||void 0!==r&&(e="ByQuote"),o["qtyType"]=e,"ByQuote"===e){let t=this.safeNumber(a,"cost");if(a=this.omit(a,"cost"),this.options["createOrderByQuoteRequiresPrice"])if(void 0!==r)t=s*r;else if(void 0===t)throw new d(this.id+" createOrder() "+e+" requires a price argument or a cost parameter");t=void 0===t?s:t;const i=t.toString();o["quoteQtyEv"]=this.toEv(i,n)}else{const e=s.toString();o["baseQtyEv"]=this.toEv(e,n)}}else n["swap"]&&(o["orderQty"]=parseInt(s));if("Limit"===t){const e=r.toString();o["priceEp"]=this.toEp(e,n)}const c=this.safeString2(a,"stopPx","stopPrice");void 0!==c&&(o["stopPxEp"]=this.toEp(c,n)),a=this.omit(a,["stopPx","stopPrice"]);const h=n["spot"]?"privatePostSpotOrders":"privatePostOrders",u=await this[h](this.extend(o,a)),l=this.safeValue(u,"data",{});return this.parseOrder(l,n)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={symbol:s["id"]},a=this.safeString2(i,"clientOrderId","clOrdID");i=this.omit(i,["clientOrderId","clOrdID"]),void 0!==a?r["clOrdID"]=a:r["orderID"]=e;const n=s["spot"]?"privateDeleteSpotOrders":"privateDeleteOrdersCancel",o=await this[n](this.extend(r,i)),c=this.safeValue(o,"data",{});return this.parseOrder(c,s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;if(void 0!==e){if(s=this.market(e),!s["swap"])throw new y(this.id+" cancelAllOrders() supports swap market type orders only");i["symbol"]=s["id"]}return await this.privateDeleteOrdersAll(this.extend(i,t))}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=s["spot"]?"privateGetSpotOrdersActive":"privateGetExchangeOrder",a={symbol:s["id"]},n=this.safeString2(i,"clientOrderId","clOrdID");i=this.omit(i,["clientOrderId","clOrdID"]),void 0!==n?a["clOrdID"]=n:a["orderID"]=e;const o=await this[r](this.extend(a,i)),c=this.safeValue(o,"data",{});let u=c;if(Array.isArray(c)){const i=c.length;if(i<1)throw new h(void 0!==n?this.id+" fetchOrder "+t+" order with clientOrderId "+n+" not found":this.id+" fetchOrder "+t+" order with id "+e+" not found");u=this.safeValue(c,0,{})}return this.parseOrder(u,s)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=r["spot"]?"privateGetSpotOrders":"privateGetExchangeOrderList",n={symbol:r["id"]};void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const o=await this[a](this.extend(n,s)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"rows",[]);return this.parseOrders(h,r,t,i)}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=r["spot"]?"privateGetSpotOrders":"privateGetOrdersActiveList",n={symbol:r["id"]},o=await this[a](this.extend(n,s)),c=this.safeValue(o,"data",{});if(Array.isArray(c))return this.parseOrders(c,r,t,i);{const e=this.safeValue(c,"rows",[]);return this.parseOrders(e,r,t,i)}}async fetchClosedOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=r["spot"]?"privateGetExchangeSpotOrder":"privateGetExchangeOrderList",n={symbol:r["id"]};void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const o=await this[a](this.extend(n,s)),c=this.safeValue(o,"data",{});if(Array.isArray(c))return this.parseOrders(c,r,t,i);{const e=this.safeValue(c,"rows",[]);return this.parseOrders(e,r,t,i)}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=r["spot"]?"privateGetExchangeSpotOrderTrades":"privateGetExchangeOrderTrade",n={symbol:r["id"]};void 0!==t&&(n["start"]=t),r["swap"]&&void 0!==i&&(n["limit"]=i);const o=await this[a](this.extend(n,s)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"rows",[]);return this.parseTrades(h,r,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetPhemexUserWalletsV2DepositAddress(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeString(a,"address"),o=this.safeString(a,"tag");return this.checkAddress(n),{currency:e,address:n,tag:o,info:r}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a=await this.privateGetExchangeWalletsDepositList(s),n=this.safeValue(a,"data",{});return this.parseTransactions(n,r,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a=await this.privateGetExchangeWalletsWithdrawList(s),n=this.safeValue(a,"data",{});return this.parseTransactions(n,r,t,i)}parseTransactionStatus(e){const t={Success:"ok",Succeed:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"address"),r=void 0,a=this.safeString(e,"txHash"),n=this.safeString(e,"currency");t=this.safeCurrency(n,t);const o=t["code"],c=this.safeInteger2(e,"createdAt","submitedAt");let d=this.safeStringLower(e,"type");const h=this.parseNumber(this.fromEn(this.safeString(e,"feeEv"),t["valueScale"]));let u=void 0;void 0!==h&&(d="withdrawal",u={cost:h,currency:o});const l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.parseNumber(this.fromEn(this.safeString(e,"amountEv"),t["valueScale"]));return{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:s,addressTo:s,addressFrom:void 0,tag:r,tagTo:r,tagFrom:void 0,type:d,amount:f,currency:o,status:l,updated:void 0,fee:u}}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString(t,"code"),s={};if(void 0===i){const e=this.safeString(t,"currency");if(void 0===e)throw new d(this.id+" fetchPositions() requires a currency parameter or a code parameter")}else{const e=this.currency(i);t=this.omit(t,"code"),s["currency"]=e["id"]}const r=await this.privateGetAccountsAccountPositions(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"positions",[]);return n}sign(e,t="public",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e)),o="/"+this.implodeParams(e,s);let c=o,d="";if("GET"!==i&&"DELETE"!==i&&"PUT"!==i||Object.keys(n).length&&(d=this.urlencodeWithArrayRepeat(n),c+="?"+d),"private"===t){this.checkRequiredCredentials();const e=this.seconds(),t=this.safeInteger(this.options,"x-phemex-request-expiry",60),n=this.sum(e,t),c=n.toString();r={"x-phemex-access-token":this.apiKey,"x-phemex-request-expiry":c};let h="";"POST"===i&&(h=this.json(s),a=h,r["Content-Type"]="application/json");const u=o+d+c+h;r["x-phemex-request-signature"]=this.hmac(this.encode(u),this.encode(this.secret))}return c=this.implodeHostname(this.urls["api"][t])+c,{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error",o),u=this.safeString(h,"code"),l=this.safeString(h,"msg");if(void 0!==u&&"0"!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],l,e),new r(e)}}}},"1f5d":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InvalidOrder:a,InsufficientFunds:n,AuthenticationError:o,RateLimitExceeded:c,BadSymbol:d}=i("74b0"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"qtrade",name:"qTrade",countries:["US"],rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/80491487-74a99c00-896b-11ea-821e-d307e832f13e.jpg",api:"https://api.qtrade.io",www:"https://qtrade.io",doc:"https://qtrade-exchange.github.io/qtrade-docs",referral:"https://qtrade.io/?ref=BKOQWVFGRH2C"},has:{CORS:!1,fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchBalance:!0,fetchOrderBook:!0,fetchOrder:!0,fetchOrders:!0,fetchMyTrades:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,createOrder:!0,cancelOrder:!0,createMarketOrder:!1,withdraw:!0,fetchDepositAddress:!0,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchDeposit:!0,fetchWithdrawal:!0},timeframes:{"5m":"fivemin","15m":"fifteenmin","30m":"thirtymin","1h":"onehour","2h":"twohour","4h":"fourhour","1d":"oneday"},api:{public:{get:["ticker/{market_string}","tickers","currency/{code}","currencies","common","market/{market_string}","markets","market/{market_string}/trades","orderbook/{market_string}","market/{market_string}/ohlcv/{interval}"]},private:{get:["me","balances","balances_all","market/{market_string}","orders","order/{order_id}","trades","withdraw/{withdraw_id}","withdraws","deposit/{deposit_id}","deposits","transfers"],post:["cancel_order","withdraw","deposit_address/{currency}","sell_limit","buy_limit"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:0},funding:{withdraw:{}}},exceptions:{exact:{invalid_auth:o,insuff_funds:n,market_not_found:d,too_small:a,limit_exceeded:c}}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"markets",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"market_string"),i=this.safeInteger(e,"id"),n=this.safeString(e,"market_currency"),o=this.safeString(e,"base_currency"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(e,"market_precision"),price:this.safeInteger(e,"base_precision")},l=this.safeValue(e,"can_view",!1),f=this.safeValue(e,"can_trade",!1),p=f&&l;r.push({symbol:h,id:t,numericId:i,baseId:n,quoteId:o,base:c,quote:d,active:p,precision:u,taker:this.safeNumber(e,"taker_fee"),maker:this.safeNumber(e,"maker_fee"),limits:{amount:{min:this.safeNumber(e,"minimum_sell_value"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minimum_buy_value"),max:void 0}},info:e})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"currencies",[]),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"code"),i=this.safeCurrencyCode(t),n=this.safeString(e,"long_name"),o=this.safeString(e,"type"),c=this.safeValue(e,"can_withdraw",!0),d=this.safeValue(e,"deposit_disabled",!1),h=this.safeValue(e,"config",{}),u=this.safeString(e,"status"),l=c&&"ok"===u&&!d;r[i]={id:t,code:i,info:e,type:o,name:n,fee:this.safeNumber(h,"withdraw_fee"),precision:this.safeInteger(e,"precision"),active:l,limits:{amount:{min:this.safeNumber(e,"minimum_order"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return r}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"market_volume")]}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={market_string:a["id"],interval:this.timeframes[t]},o=await this.publicGetMarketMarketStringOhlcvInterval(this.extend(n,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"slices",[]);return this.parseOHLCVs(d,a,t,i,s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.marketId(e),r={market_string:s},a=await this.publicGetOrderbookMarketString(this.extend(r,i)),n=this.safeValue(a,"data",{}),o={},c={buy:"bids",sell:"asks"},d=Object.keys(c);for(let u=0;u<d.length;u++){const e=d[u],t=c[e],i=this.safeValue(n,e,{}),s=Object.keys(i),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeNumber(s,a),n=this.safeNumber(i,e);r.push([t,n])}o[t]=r}const h=this.safeIntegerProduct(n,"last_change",.001);return this.parseOrderBook(o,e,h)}parseTicker(e,t){const i=this.safeString(e,"id_hr"),s=this.safeSymbol(i,t,"_"),r=this.safeIntegerProduct(e,"last_change",.001),a=this.safeNumber(e,"day_open"),n=this.safeNumber(e,"last"),o=this.safeNumber(e,"day_change");let c=void 0,d=void 0,h=this.safeNumber(e,"day_avg_price");void 0!==o&&(c=100*o,void 0!==a&&(d=o*a)),void 0===h&&void 0!==n&&void 0!==a&&(h=this.sum(n,a)/2);const u=this.safeNumber(e,"day_volume_market"),l=this.safeNumber(e,"day_volume_base"),f=this.vwap(u,l);return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"day_high"),low:this.safeNumber(e,"day_low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:f,open:a,close:n,last:n,previousClose:void 0,change:d,percentage:c,average:h,baseVolume:u,quoteVolume:l,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s=this.safeValue(i,"data",{}),r=this.safeValue(s,"markets",[]),a={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];a[t]=e}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market_string:i["id"]},r=await this.publicGetTickerMarketString(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market_string:r["id"]},n=await this.publicGetMarketMarketStringTrades(this.extend(a,s)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,r,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={desc:!0};let a=void 0;const n=this.safeValue(s,"market_id");void 0!==n?r["market_id"]=n:void 0!==e&&(a=this.market(e),r["market_string"]=a["id"]);const o=await this.privateGetTrades(this.extend(r,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,a,t,i)}parseTrade(e,t){const i=this.safeString(e,"id");let s=this.safeIntegerProduct(e,"created_at_ts",.001);void 0===s&&(s=this.parse8601(this.safeString(e,"created_at")));const r=this.safeString(e,"side"),a=this.safeString(e,"market_string"),n=this.safeSymbol(a,t,"_");let o=this.safeNumber2(e,"base_volume","base_amount");const c=this.safeString(e,"price"),d=this.safeString2(e,"market_amount","amount"),u=this.parseNumber(c),l=this.parseNumber(d);void 0===o&&(o=this.parseNumber(h.stringMul(c,d)));let f=void 0;const p=this.safeNumber(e,"base_fee");if(void 0!==p){const e=void 0===t?void 0:t["quote"];f={currency:e,cost:p}}const m=this.safeValue(e,"taker",!0),g=m?"taker":"maker",y=this.safeString(e,"order_id"),v={id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:n,order:y,type:void 0,side:r,takerOrMaker:g,price:u,amount:l,cost:o,fee:f};return v}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalancesAll(e),i=this.safeValue(t,"data",{});let s=this.safeValue(i,"balances",[]);const r={info:t,timestamp:void 0,datetime:void 0};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),n=i in r?r[i]:this.account();n["free"]=this.safeString(e,"balance"),n["used"]="0",r[i]=n}s=this.safeValue(i,"order_balances",[]);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),n=i in r?r[i]:this.account();n["used"]=this.safeString(e,"balance"),r[i]=n}return this.parseBalance(r,!1)}async createOrder(e,t,i,s,r,n={}){if("limit"!==t)throw new a(this.id+" createOrder() allows limit orders only");await this.loadMarkets();const o=this.market(e),c={amount:this.amountToPrecision(e,s),market_id:o["numericId"],price:this.priceToPrecision(e,r)},d="sell"===i?"privatePostSellLimit":"privatePostBuyLimit",h=await this[d](this.extend(c,n)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"order",{});return this.parseOrder(l,o)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"order_type");let a=void 0,n=void 0;if(void 0!==r){const e=r.split("_");n=this.safeString(e,0),a=this.safeString(e,1)}const o=this.safeNumber(e,"price"),c=this.safeNumber(e,"market_amount"),d=this.safeNumber(e,"market_amount_remaining"),h=this.safeValue(e,"open",!1),u=this.safeString(e,"close_reason");let l=void 0;l=h?"open":"canceled"===u?"canceled":"closed";const f=this.safeString(e,"market_string");t=this.safeMarket(f,t,"_");const p=t["symbol"],m=this.safeValue(e,"trades",[]),g=this.parseTrades(m,t,void 0,void 0,{order:i,side:n,type:a});return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:p,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:o,stopPrice:void 0,average:void 0,amount:c,remaining:d,filled:void 0,status:l,fee:void 0,fees:void 0,cost:void 0,trades:g})}async cancelOrder(e,t,i={}){const s={id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(s,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetOrderOrderId(this.extend(s,i)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"order",{});return this.parseOrder(n)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;const n=this.safeValue(s,"market_id");void 0!==n?r["market_id"]=n:void 0!==e&&(a=this.market(e),r["market_string"]=a["id"]);const o=await this.privateGetOrders(this.extend(r,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,a,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={open:!0};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={open:!1};return await this.fetchOrders(e,t,i,this.extend(r,s))}parseDepositAddress(e,t){const i=void 0===t?void 0:t["code"];let s=this.safeString(e,"address"),r=void 0;if(void 0!==s){const e=s.split(":");s=this.safeString(e,0),r=this.safeString(e,1)}return this.checkAddress(s),{currency:i,address:s,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostDepositAddressCurrency(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseDepositAddress(a,i)}async fetchDeposit(e,t,i={}){await this.loadMarkets();const s={deposit_id:e},r=await this.privateGetDepositDepositId(this.extend(s,i)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"deposit",{});return this.parseTransaction(n)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a=await this.privateGetDeposits(s),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"deposits",[]);return this.parseTransactions(o,r,t,i)}async fetchWithdrawal(e,t,i={}){await this.loadMarkets();const s={withdraw_id:e},r=await this.privateGetWithdrawWithdrawId(this.extend(s,i)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"withdraw",{});return this.parseTransaction(n)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a=await this.privateGetWithdraws(s),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"withdraws",[]);return this.parseTransactions(o,r,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"id"),r=this.safeValue(e,"network_data",{}),a=this.safeValue(r,"unsigned_tx",{}),n=this.safeString(a,"from"),o=this.safeString(r,"txid");let c=this.safeString(e,"address"),d=void 0;if(void 0!==c){const e=c.split(":"),t=e.length;t>1&&(c=this.safeString(e,0),d=this.safeString(e,1))}const h=c,u=void 0,l=d,f=this.safeValue(e,"cancel_requested"),p=void 0===f?"deposit":"withdrawal",m=this.safeNumber(e,"amount"),g=this.safeString(e,"currency"),y=this.safeCurrencyCode(g);let v=this.parseTransactionStatus(this.safeString(e,"status"));const b=this.safeString(e,"code");f?v="canceled":void 0===v&&(v=this.parseTransactionStatus(b));const w=void 0;return{info:e,id:s,txid:o,timestamp:i,datetime:this.iso8601(i),addressFrom:n,addressTo:h,address:c,tagFrom:u,tagTo:l,tag:d,type:p,amount:m,currency:y,status:v,updated:void 0,fee:w}}parseTransactionStatus(e){const t={initiated:"pending",needs_create:"pending",credited:"ok",confirmed:"ok"};return this.safeString(t,e,e)}async withdraw(e,t,i,s,r={}){await this.loadMarkets();const a=this.currency(e),n={address:i,amount:t,currency:a["id"]};void 0!==s&&(n["address"]+=":"+s);const o=await this.privatePostWithdraw(this.extend(n,r)),c=this.safeValue(o,"data",{}),d=this.parseTransaction(c);return this.extend(d,{currency:e,address:i,addressTo:i,tag:s,tagTo:s,amount:t})}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/";"private"===t&&(n+="user/"),n+=this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("POST"===i?a=this.json(o):Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){const e=this.milliseconds().toString(),t="POST"===i?a:"",s=[i,n,e,t,this.secret].join("\n"),o=this.hash(this.encode(s),"sha256","base64");let c=this.apiKey;"string"!==typeof c&&(c=c.toString());const d="HMAC-SHA256 "+c+":"+o;r={Authorization:d,"HMAC-Timestamp":e},"POST"===i&&(r["Content-Type"]="application/json")}return n=this.urls["api"]+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"errors",[]),u=h.length;if(u<1)return;const l=this.id+" "+n;for(let r=0;r<h.length;r++){const e=h[r],t=this.safeString(e,"code");this.throwExactlyMatchedException(this.exceptions["exact"],t,l)}throw new r(l)}}},"1f96":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,InvalidOrder:n,OrderNotFound:o,RateLimitExceeded:c,InsufficientFunds:d}=i("74b0"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460806-1c9f3f00-c616-11ea-8c46-a77018a8f3f4.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",fees:"https://coinmate.io/fees",doc:["https://coinmate.docs.apiary.io","https://coinmate.io/developers"],referral:"https://coinmate.io?referral=YTFkM1RsOWFObVpmY1ZjMGREQmpTRnBsWjJJNVp3PT0"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions","tradingPairs"]},private:{post:["balances","bitcoinCashWithdrawal","bitcoinCashDepositAddresses","bitcoinDepositAddresses","bitcoinWithdrawal","bitcoinWithdrawalFees","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","dashDepositAddresses","dashWithdrawal","ethereumWithdrawal","ethereumDepositAddresses","litecoinWithdrawal","litecoinDepositAddresses","openOrders","order","orderHistory","orderById","pusherAuth","redeemVoucher","replaceByBuyLimit","replaceByBuyInstant","replaceBySellLimit","replaceBySellInstant","rippleDepositAddresses","rippleWithdrawal","sellInstant","sellLimit","transactionHistory","traderFees","tradeHistory","transfer","transferHistory","unconfirmedBitcoinDeposits","unconfirmedBitcoinCashDeposits","unconfirmedDashDeposits","unconfirmedEthereumDeposits","unconfirmedLitecoinDeposits","unconfirmedRippleDeposits"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0012,taker:.0025,tiers:{taker:[[0,.0025],[1e4,.0023],[1e5,.0021],[25e4,.002],[5e5,.0015],[1e6,.0013],[3e6,.001],[15e6,5e-4]],maker:[[0,.0012],[1e4,.0011],[1e6,.001],[25e4,8e-4],[5e5,5e-4],[1e6,3e-4],[3e6,2e-4],[15e6,0]]}},promotional:{trading:{maker:5e-4,taker:.0015,tiers:{taker:[[0,.0015],[1e4,.14/100],[1e5,.0013],[25e4,.0012],[5e5,.0011],[1e6,.001],[3e6,8e-4],[15e6,5e-4]],maker:[[0,5e-4],[1e4,4e-4],[1e6,3e-4],[25e4,2e-4],[5e5,0],[1e6,0],[3e6,0],[15e6,0]]}}}},options:{promotionalMarkets:["ETH/EUR","ETH/CZK","ETH/BTC","XRP/EUR","XRP/CZK","XRP/BTC","DASH/EUR","DASH/CZK","DASH/BTC","BCH/EUR","BCH/CZK","BCH/BTC"]},exceptions:{exact:{"No order with given ID":o},broad:{"Not enough account balance available":d,"Incorrect order ID":n,"Minimum Order Size ":n,"TOO MANY REQUESTS":c}}})}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=this.safeValue(t,"data"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"name"),a=this.safeString(e,"firstCurrency"),n=this.safeString(e,"secondCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(this.options,"promotionalMarkets",[]);let u=this.safeValue(this.fees,"trading");if(this.inArray(d,h)){const e=this.safeValue(this.fees,"promotional",{});u=this.safeValue(e,"trading",u)}s.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:void 0,maker:u["maker"],taker:u["taker"],info:e,precision:{price:this.safeInteger(e,"priceDecimals"),amount:this.safeInteger(e,"lotDecimals")},limits:{amount:{min:this.safeNumber(e,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i=this.safeValue(t,"data"),s={info:t},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e),n=this.safeValue(i,e),o=this.account();o["free"]=this.safeString(n,"available"),o["used"]=this.safeString(n,"reserved"),o["total"]=this.safeString(n,"balance"),s[t]=o}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={currencyPair:this.marketId(e),groupByPriceLimit:"False"},r=await this.publicGetOrderBook(this.extend(s,i)),a=r["data"],n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currencyPair:this.marketId(e)},s=await this.publicGetTicker(this.extend(i,t)),r=this.safeValue(s,"data"),a=this.safeTimestamp(r,"timestamp"),n=this.safeNumber(r,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r,"amount"),quoteVolume:void 0,info:r}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={limit:1e3};void 0!==i&&(r["limit"]=i),void 0!==t&&(r["timestampFrom"]=t),void 0!==e&&(r["currency"]=this.currencyId(e));const a=await this.privatePostTransferHistory(this.extend(r,s)),n=a["data"];return this.parseTransactions(n,void 0,t,i)}parseTransactionStatus(e){const t={COMPLETED:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"timestamp"),s=this.safeNumber(e,"amount"),r=this.safeNumber(e,"fee"),a=this.safeString(e,"txid"),n=this.safeString(e,"destination"),o=this.safeString(e,"destinationTag"),c=this.safeString(e,"amountCurrency"),d=this.safeCurrencyCode(c,t),h=this.safeStringLower(e,"transferType"),u=this.parseTransactionStatus(this.safeString(e,"transferStatus")),l=this.safeString(e,"transactionId");return{id:l,timestamp:i,datetime:this.iso8601(i),currency:d,amount:s,type:h,txid:a,address:n,tag:o,status:u,fee:{cost:r,currency:d},info:e}}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets(),void 0===i&&(i=1e3);const r={limit:i};if(void 0!==e){const t=this.market(e);r["currencyPair"]=t["id"]}void 0!==t&&(r["timestampFrom"]=t);const a=await this.privatePostTradeHistory(this.extend(r,s)),n=a["data"];return this.parseTrades(n,void 0,t,i)}parseTrade(e,t){const i=this.safeString(e,"currencyPair");t=this.safeMarket(i,t,"_");const s=this.safeString(e,"price"),r=this.safeString(e,"amount"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(h.stringMul(s,r)),c=this.safeStringLower2(e,"type","tradeType"),d=this.safeStringLower(e,"orderType"),u=this.safeString(e,"orderId"),l=this.safeString(e,"transactionId"),f=this.safeInteger2(e,"timestamp","createdTimestamp");let p=void 0;const m=this.safeNumber(e,"fee");void 0!==m&&(p={cost:m,currency:t["quote"]});let g=this.safeString(e,"feeType");return g="MAKER"===g?"maker":"taker",{id:l,info:e,timestamp:f,datetime:this.iso8601(f),symbol:t["symbol"],type:d,side:c,order:u,takerOrMaker:g,price:a,amount:n,cost:o,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currencyPair:r["id"],minutesIntoHistory:10},n=await this.publicGetTransactions(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async fetchOpenOrders(e,t,i,s={}){const r=await this.privatePostOpenOrders(this.extend({},s)),a={status:"open"};return this.parseOrders(r["data"],void 0,t,i,a)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={currencyPair:r["id"]};void 0!==i&&(n["limit"]=i);const o=await this.privatePostOrderHistory(this.extend(n,s));return this.parseOrders(o["data"],r,t,i)}parseOrderStatus(e){const t={FILLED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED:"open",OPEN:"open"};return this.safeString(t,e,e)}parseOrderType(e){const t={LIMIT:"limit",MARKET:"market"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeInteger(e,"timestamp"),r=this.safeStringLower(e,"type"),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"originalAmount");let o=this.safeNumber(e,"remainingAmount");void 0===o&&(o=this.safeNumber(e,"amount"));const c=this.parseOrderStatus(this.safeString(e,"status")),d=this.parseOrderType(this.safeString(e,"orderTradeType")),h=this.safeNumber(e,"avgPrice"),u=this.safeString(e,"currencyPair"),l=this.safeSymbol(u,t,"_"),f=this.safeString(e,"clientOrderId"),p=this.safeNumber(e,"stopPrice");return this.safeOrder({id:i,clientOrderId:f,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:l,type:d,timeInForce:void 0,postOnly:void 0,side:r,price:a,stopPrice:p,amount:n,cost:void 0,average:h,filled:void 0,remaining:o,status:c,trades:void 0,info:e,fee:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();let n="privatePost"+this.capitalize(i);const o={currencyPair:this.marketId(e)};"market"===t?("buy"===i?o["total"]=this.amountToPrecision(e,s):o["amount"]=this.amountToPrecision(e,s),n+="Instant"):(o["amount"]=this.amountToPrecision(e,s),o["price"]=this.priceToPrecision(e,r),n+=this.capitalize(t));const c=await this[n](this.extend(o,a)),d=this.safeString(c,"data");return{info:c,id:d}}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e};let r=void 0;t&&(r=this.market(t));const a=await this.privatePostOrderById(this.extend(s,i)),n=this.safeValue(a,"data");return this.parseOrder(n,r)}async cancelOrder(e,t,i={}){const s={orderId:e},r=await this.privatePostCancelOrderWithInfo(this.extend(s,i));return{info:r}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+e;if("public"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.urlencode(this.extend({clientId:this.uid,nonce:e,publicKey:this.apiKey,signature:i.toUpperCase()},s)),r={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"error"in o&&o["error"]){const e=this.safeString(o,"errorMessage"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new r(this.id+" "+this.json(o))}if(e>400){if(n){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],n,e),this.throwBroadlyMatchedException(this.exceptions["broad"],n,e),new r(e)}throw new r(this.id+" "+n)}}}},"1fb5":function(e,t,i){"use strict";t.byteLength=h,t.toByteArray=l,t.fromByteArray=m;for(var s=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=n.length;o<c;++o)s[o]=n[o],r[n.charCodeAt(o)]=o;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var s=i===t?0:4-i%4;return[i,s]}function h(e){var t=d(e),i=t[0],s=t[1];return 3*(i+s)/4-s}function u(e,t,i){return 3*(t+i)/4-i}function l(e){var t,i,s=d(e),n=s[0],o=s[1],c=new a(u(e,n,o)),h=0,l=o>0?n-4:n;for(i=0;i<l;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;return 2===o&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,c[h++]=255&t),1===o&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t),c}function f(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function p(e,t,i){for(var s,r=[],a=t;a<i;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(f(s));return r.join("")}function m(e){for(var t,i=e.length,r=i%3,a=[],n=16383,o=0,c=i-r;o<c;o+=n)a.push(p(e,o,o+n>c?c:o+n));return 1===r?(t=e[i-1],a.push(s[t>>2]+s[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2018:function(e,t,i){"use strict";(function(t){const s="undefined"!==typeof window,r="undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.electron,a="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,n="undefined"!==typeof t&&"win32"===t.platform,o=!(s||a),c="undefined"===typeof fetch?i("7e8f")().fetch:fetch;e.exports={isBrowser:s,isElectron:r,isWebWorker:a,isNode:o,isWindows:n,defaultFetch:c}}).call(this,i("4362"))},2021:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,PermissionDenied:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,RateLimitExceeded:h,NotSupported:u,BadRequest:l,AuthenticationError:f}=i("74b0"),p=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"timex",name:"TimeX",countries:["AU"],version:"v1",rateLimit:1500,has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"I1","5m":"I5","15m":"I15","30m":"I30","1h":"H1","2h":"H2","4h":"H4","6h":"H6","12h":"H12","1d":"D1","1w":"W1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/70423869-6839ab00-1a7f-11ea-8f94-13ae72c31115.jpg",api:"https://plasma-relay-backend.timex.io",www:"https://timex.io",doc:"https://docs.timex.io",referral:"https://timex.io/?refcode=1x27vNkTbP1uwkCck"},api:{custody:{get:["credentials","credentials/h/{hash}","credentials/k/{key}","credentials/me/address","deposit-addresses","deposit-addresses/h/{hash}"]},history:{get:["orders","orders/details","orders/export/csv","trades","trades/export/csv"]},currencies:{get:["a/{address}","i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},markets:{get:["i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},public:{get:["candles","currencies","markets","orderbook","orderbook/raw","orderbook/v2","tickers","trades"]},statistics:{get:["address"]},trading:{get:["balances","fees","orders"],post:["orders","orders/json"],put:["orders","orders/json"],delete:["orders","orders/json"]},tradingview:{get:["config","history","symbol_info","time"]}},exceptions:{exact:{0:r,1:u,4e3:l,4001:l,4002:o,4003:f,4004:f,4005:l,4006:l,4007:l,4300:a,4100:f,4400:c,5001:d,5002:r,400:l,401:f,403:a,404:c,429:h,500:r,503:n},broad:{Insufficient:o}},options:{fetchTickers:{period:"1d"},fetchTrades:{sort:"timestamp,asc"},fetchMyTrades:{sort:"timestamp,asc"},fetchOpenOrders:{sort:"createdAt,asc"},fetchClosedOrders:{sort:"createdAt,asc"},defaultSort:"timestamp,asc",defaultSortOrders:"createdAt,asc"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let s=0;s<t.length;s++)i.push(this.parseMarket(t[s]));return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=[];for(let s=0;s<t.length;s++){const e=t[s];i.push(this.parseCurrency(e))}return this.indexBy(i,"code")}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options["fetchTickers"],"period","1d"),s={period:this.timeframes[i]},r=await this.publicGetTickers(this.extend(s,t));return this.parseTickers(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s=this.safeString(this.options["fetchTickers"],"period","1d"),r={market:i["id"],period:this.timeframes[s]},a=await this.publicGetTickers(this.extend(r,t)),n=this.safeValue(a,0);return this.parseTicker(n,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderbookV2(this.extend(r,i)),n=this.parse8601(this.safeString(a,"timestamp"));return this.parseOrderBook(a,e,n,"bid","ask","price","baseTokenAmount")}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a=this.safeValue(this.options,"fetchTrades",{}),n=this.safeValue(a,"sort","timestamp,asc"),o=this.safeString(s,"sort",n),c=this.omit(s,"sort"),d={market:r["id"],sort:o};void 0!==t&&(d["from"]=this.iso8601(t)),void 0!==i&&(d["size"]=i);const h=await this.publicGetTrades(this.extend(d,c));return this.parseTrades(h,r,t,i)}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={market:a["id"],period:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0!==i)n["from"]=this.iso8601(i),void 0!==s&&(n["till"]=this.iso8601(this.sum(i,this.sum(s,1)*o*1e3)));else if(void 0!==s){const e=this.milliseconds();n["till"]=this.iso8601(e),n["from"]=this.iso8601(e-s*o*1e3-1)}else n["till"]=this.iso8601(this.milliseconds());const c=await this.publicGetCandles(this.extend(n,r));return this.parseOHLCVs(c,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.tradingGetBalances(e),i={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=this.account();n["total"]=this.safeString(e,"totalBalance"),n["used"]=this.safeString(e,"lockedBalance"),i[a]=n}return this.parseBalance(i,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=i.toUpperCase(),c=t.toUpperCase(),h={symbol:n["id"],quantity:this.amountToPrecision(e,s),side:o,orderTypes:c};let u=a;if("LIMIT"===c){h["price"]=this.priceToPrecision(e,r);const i=this.safeInteger(this.options,"expireIn"),s=this.safeValue(a,"expireTime"),n=this.safeValue(a,"expireIn",i);if(void 0!==s)h["expireTime"]=s;else{if(void 0===n)throw new d(this.id+" createOrder() method requires a expireTime or expireIn param for a "+t+" order, you can also set the expireIn exchange-wide option");h["expireIn"]=n}u=this.omit(a,["expireTime","expireIn"])}else h["price"]=0;const l=await this.tradingPostOrders(this.extend(h,u)),f=this.safeValue(l,"orders",[]),p=this.safeValue(f,0,{});return this.parseOrder(p,n)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o=this.market(t),c={id:e};void 0!==r&&(c["quantity"]=this.amountToPrecision(t,r)),void 0!==a&&(c["price"]=this.priceToPrecision(t,a));const d=await this.tradingPutOrders(this.extend(c,n));if("unchangedOrders"in d){const e=this.safeValue(d,"unchangedOrders",[]),t=this.safeString(e,0);return{id:t,info:d}}const h=this.safeValue(d,"changedOrders",[]),u=this.safeValue(h,0,{}),l=this.safeValue(u,"newOrder",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.cancelOrders([e],t,i)}async cancelOrders(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.tradingDeleteOrders(this.extend(s,i));return r}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={orderHash:e},r=await this.historyGetOrdersDetails(s),a=this.safeValue(r,"order",{}),n=this.safeValue(r,"trades",[]);return this.parseOrder(this.extend(a,{trades:n}))}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=this.safeValue(this.options,"fetchOpenOrders",{}),a=this.safeValue(r,"sort","createdAt,asc"),n=this.safeString(s,"sort",a),o=this.omit(s,"sort"),c={sort:n};let d=void 0;void 0!==e&&(d=this.market(e),c["symbol"]=d["id"]),void 0!==i&&(c["size"]=i);const h=await this.tradingGetOrders(this.extend(c,o)),u=this.safeValue(h,"orders",[]);return this.parseOrders(u,d,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r=this.safeValue(this.options,"fetchClosedOrders",{}),a=this.safeValue(r,"sort","createdAt,asc"),n=this.safeString(s,"sort",a),o=this.omit(s,"sort"),c={sort:n,side:"BUY"};let d=void 0;void 0!==e&&(d=this.market(e),c["symbol"]=d["id"]),void 0!==t&&(c["from"]=this.iso8601(t)),void 0!==i&&(c["size"]=i);const h=await this.historyGetOrders(this.extend(c,o)),u=this.safeValue(h,"orders",[]);return this.parseOrders(u,d,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r=this.safeValue(this.options,"fetchMyTrades",{}),a=this.safeValue(r,"sort","timestamp,asc"),n=this.safeString(s,"sort",a),o=this.omit(s,"sort"),c={sort:n};let d=void 0;void 0!==e&&(d=this.market(e),c["symbol"]=d["id"]),void 0!==t&&(c["from"]=this.iso8601(t)),void 0!==i&&(c["size"]=i);const h=await this.historyGetTrades(this.extend(c,o)),u=this.safeValue(h,"trades",[]);return this.parseTrades(u,d,t,i)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),s={markets:i["id"]},r=await this.tradingGetFees(this.extend(s,t)),a=this.safeValue(r,0,{});return{info:r,maker:this.safeNumber(a,"fee"),taker:void 0}}parseMarket(e){const t=this.safeValue(e,"locked"),i=!t,s=this.safeString(e,"symbol"),r=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quoteCurrency"),n=this.safeCurrencyCode(r),o=this.safeCurrencyCode(a),c=n+"/"+o,d={amount:this.precisionFromString(this.safeString(e,"quantityIncrement")),price:this.precisionFromString(this.safeString(e,"tickSize"))},h=this.safeNumber(e,"quantityIncrement"),u=this.safeNumber(e,"baseMinSize"),l=Math.max(h,u),f=this.safeNumber(e,"tickSize"),p=this.safeNumber(e,"quoteMinSize"),m={amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:Math.max(p,l*f),max:void 0}},g=this.safeNumber(e,"takerFee"),y=this.safeNumber(e,"makerFee");return{id:s,symbol:c,base:n,quote:o,baseId:r,quoteId:a,type:"spot",active:i,precision:d,limits:m,taker:g,maker:y,info:e}}parseCurrency(e){const t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t),s=this.safeString(e,"name"),r=this.safeInteger(e,"decimals"),a=this.safeValue(e,"active"),n=this.safeString(e,"withdrawalFee"),o=this.safeInteger(e,"tradeDecimals");let c=void 0;if(void 0!==n&&void 0!==o){const e=n.length,t=e-o;if(t>0){const e=n.slice(0,t),i=n.slice(-t);c=parseFloat(e+"."+i)}else{let e=".";for(let i=0;i<-t;i++)e+="0";c=parseFloat(e+n)}}return{id:i,code:i,info:e,type:void 0,name:s,active:a,fee:c,precision:r,limits:{withdraw:{min:c,max:void 0},amount:{min:void 0,max:void 0}}}}parseTicker(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t,"/"),r=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open");let o=void 0,c=void 0;void 0!==a&&void 0!==n&&(o=a-n,c=this.sum(a,n)/2);let d=void 0;return void 0!==o&&n&&(d=o/n*100),{symbol:s,info:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:d,average:c,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"volumeQuote")}}parseTrade(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),r=this.parse8601(this.safeString(e,"timestamp")),a=this.safeString(e,"price"),n=this.safeString(e,"quantity"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(p.stringMul(a,n)),h=this.safeString(e,"id"),u=this.safeStringLower2(e,"direction","side"),l=this.safeStringLower(e,"makerOrTaker");let f=void 0;void 0!==l&&(f=this.safeString(e,l+"OrderId"));let m=void 0;const g=this.safeNumber(e,"fee"),y=this.safeCurrencyCode(this.safeString(e,"feeToken"));return void 0!==g&&(m={cost:g,currency:y}),{info:e,id:h,timestamp:r,datetime:this.iso8601(r),symbol:s,order:f,type:void 0,side:u,price:o,amount:c,cost:d,takerOrMaker:l,fee:m}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeStringLower(e,"type"),r=this.safeStringLower(e,"side"),a=this.safeString(e,"symbol"),n=this.safeSymbol(a,t),o=this.parse8601(this.safeString(e,"createdAt")),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"quantity"),h=this.safeNumber(e,"filledQuantity"),u=this.safeNumber(e,"cancelledQuantity");let l=void 0;void 0!==d&&void 0!==h&&(l=h>=d?"closed":void 0!==u&&u>0?"canceled":"open");const f=this.safeValue(e,"trades",[]),p=this.parseTrades(f,t,void 0,void 0,{order:i,type:s}),m=this.safeString(e,"clientOrderId");return this.safeOrder({info:e,id:i,clientOrderId:m,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:n,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:c,stopPrice:void 0,amount:d,cost:void 0,average:void 0,filled:h,remaining:void 0,status:l,fee:void 0,trades:p})}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+t+"/"+e;if(Object.keys(s).length&&(n+="?"+this.urlencodeWithArrayRepeat(s)),"public"!==t){this.checkRequiredCredentials();const e=this.stringToBase64(this.apiKey+":"+this.secret),t="Basic "+this.decode(e);r={authorization:t}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&e>=400){const e=this.id+" "+n;let t=this.safeValue(o,"error");void 0===t&&(t=o);const i=this.safeString2(t,"code","status"),s=this.safeString2(t,"message","debugMessage");throw this.throwBroadlyMatchedException(this.exceptions["broad"],s,e),this.throwExactlyMatchedException(this.exceptions["exact"],i,e),this.throwExactlyMatchedException(this.exceptions["exact"],s,e),new r(e)}}}},"20e7":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,AuthenticationError:n,RateLimitExceeded:o,InvalidNonce:c}=i("74b0"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinbase",name:"Coinbase",countries:["US"],rateLimit:400,version:"v2",userAgent:this.userAgents["chrome"],headers:{"CB-VERSION":"2018-05-30"},has:{CORS:!0,cancelOrder:!1,createDepositAddress:!0,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchLedger:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchMySells:!0,fetchMyBuys:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees",referral:"https://www.coinbase.com/join/58cbe25a355148797479dbd2"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{exact:{two_factor_required:n,param_required:r,validation_error:r,invalid_request:r,personal_details_required:n,identity_verification_required:n,jumio_verification_required:n,jumio_face_match_verification_required:n,unverified_email:n,authentication_error:n,invalid_token:n,revoked_token:n,expired_token:n,invalid_scope:n,not_found:r,rate_limit_exceeded:o,internal_server_error:r},broad:{"request timestamp expired":c}},commonCurrencies:{CGLD:"CELO"},options:{fetchCurrencies:{expires:5e3},accounts:["wallet","fiat"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"data",{});return this.safeTimestamp(i,"epoch")}async fetchAccounts(e={}){await this.loadMarkets();const t={limit:100},i=await this.privateGetAccounts(this.extend(t,e)),s=this.safeValue(i,"data",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeValue(e,"currency",{}),i=this.safeString(t,"code"),n=this.safeCurrencyCode(i);r.push({id:this.safeString(e,"id"),type:this.safeString(e,"type"),code:n,info:e})}return r}async createDepositAddress(e,t={}){let i=this.safeString(t,"account_id");if(t=this.omit(t,"account_id"),void 0===i){await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const s=this.accounts[t];if(s["code"]===e&&"wallet"===s["type"]){i=s["id"];break}}}if(void 0===i)throw new r(this.id+" createDepositAddress could not find the account with matching currency code, specify an `account_id` extra param");const s={account_id:i},a=await this.privatePostAccountsAccountIdAddresses(this.extend(s,t)),n=this.safeValue(a,"data",{}),o=this.safeString(n,"destination_tag"),c=this.safeString(n,"address");return{currency:e,tag:o,address:c,info:a}}async fetchMySells(e,t,i,s={}){const r=await this.prepareAccountRequest(i,s);await this.loadMarkets();const a=this.omit(s,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdSells(this.extend(r,a));return this.parseTrades(n["data"],void 0,t,i)}async fetchMyBuys(e,t,i,s={}){const r=await this.prepareAccountRequest(i,s);await this.loadMarkets();const a=this.omit(s,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdBuys(this.extend(r,a));return this.parseTrades(n["data"],void 0,t,i)}async fetchTransactionsWithMethod(e,t,i,s,r={}){const a=await this.prepareAccountRequestWithCurrencyCode(t,s,r);await this.loadMarkets();const n=this.omit(r,["account_id","accountId"]),o=await this[e](this.extend(a,n));return this.parseTransactions(o["data"],void 0,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdWithdrawals",e,t,i,s)}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdDeposits",e,t,i,s)}parseTransactionStatus(e){const t={created:"pending",completed:"ok",canceled:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeValue(e,"subtotal",{}),s=this.safeValue(e,"fee",{}),r=this.safeString(e,"id"),a=this.parse8601(this.safeValue(e,"created_at")),n=this.parse8601(this.safeValue(e,"updated_at")),o=this.safeString(e,"resource"),c=this.safeNumber(i,"amount"),d=this.safeString(i,"currency"),h=this.safeCurrencyCode(d),u=this.safeNumber(s,"amount"),l=this.safeString(s,"currency"),f=this.safeCurrencyCode(l),p={cost:u,currency:f};let m=this.parseTransactionStatus(this.safeString(e,"status"));if(void 0===m){const t=this.safeValue(e,"committed");m=t?"ok":"pending"}return{info:e,id:r,txid:r,timestamp:a,datetime:this.iso8601(a),address:void 0,tag:void 0,type:o,amount:c,currency:h,status:m,updated:n,fee:p}}parseTrade(e,t){let i=void 0;const s=this.safeValue(e,"total",{}),r=this.safeValue(e,"amount",{}),a=this.safeValue(e,"subtotal",{}),n=this.safeValue(e,"fee",{}),o=this.safeString(e,"id"),c=this.parse8601(this.safeValue(e,"created_at"));if(void 0===t){const e=this.safeString(r,"currency"),t=this.safeString(s,"currency");if(void 0!==e&&void 0!==t){const s=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);i=s+"/"+r}}const h=void 0,u=this.safeString(e,"resource"),l=void 0,f=this.safeString(a,"amount"),p=this.safeString(r,"amount"),m=this.parseNumber(f),g=this.parseNumber(p),y=this.parseNumber(d.stringDiv(f,p)),v=this.safeNumber(n,"amount"),b=this.safeString(n,"currency"),w=this.safeCurrencyCode(b),k={cost:v,currency:w};return{info:e,id:o,order:h,timestamp:c,datetime:this.iso8601(c),symbol:i,type:l,side:u,takerOrMaker:void 0,price:y,amount:g,cost:m,fee:k}}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),s=this.safeValue(t,"exchangeRates",{}),r=this.safeValue(i,"data",[]),a=this.indexBy(r,"id"),n=this.safeValue(this.safeValue(s,"data",{}),"rates",{}),o=Object.keys(n),c=[];for(let d=0;d<o.length;d++){const e=o[d],t=this.safeCurrencyCode(e),i=e in a?"fiat":"crypto";if("crypto"===i)for(let s=0;s<r.length;s++){const i=r[s],a=this.safeString(i,"id"),n=this.safeCurrencyCode(a),o=t+"/"+n,d=e+"-"+a;c.push({id:d,symbol:o,base:t,quote:n,baseId:e,quoteId:a,active:void 0,info:i,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(i,"min_size"),max:void 0}}})}}return c}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),s=this.safeInteger(t,"expires",1e3),r=this.milliseconds();if(void 0===i||r-i>s){const i=await this.publicGetCurrencies(e),s=await this.publicGetExchangeRates(e);this.options["fetchCurrencies"]=this.extend(t,{currencies:i,exchangeRates:s,timestamp:r})}return this.safeValue(this.options,"fetchCurrencies",{})}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),s=this.safeValue(t,"exchangeRates",{}),r=this.safeValue(i,"data",[]),a=this.indexBy(r,"id"),n=this.safeValue(this.safeValue(s,"data",{}),"rates",{}),o=Object.keys(n),c={};for(let d=0;d<o.length;d++){const e=o[d],t=e in a?"fiat":"crypto",i=this.safeValue(a,e,{}),s=this.safeString(i,"id",e),r=this.safeString(i,"name"),n=this.safeCurrencyCode(s);c[n]={id:s,code:n,info:i,type:t,name:r,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:this.safeNumber(i,"min_size"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return c}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.seconds(),s=this.market(e),r=this.extend({symbol:s["id"]},t),a=await this.publicGetPricesSymbolBuy(r),n=await this.publicGetPricesSymbolSell(r),o=await this.publicGetPricesSymbolSpot(r),c=this.safeNumber(a["data"],"amount"),d=this.safeNumber(n["data"],"amount"),h=this.safeNumber(o["data"],"amount");return{symbol:e,timestamp:i,datetime:this.iso8601(i),bid:d,ask:c,last:h,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:{buy:a,sell:n,spot:o}}}async fetchBalance(e={}){await this.loadMarkets();const t={limit:100},i=await this.privateGetAccounts(this.extend(t,e)),s=this.safeValue(i,"data"),r=this.safeValue(e,"type",this.options["accounts"]),a={info:i};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"type");if(this.inArray(t,r)){const t=this.safeValue(e,"balance");if(void 0!==t){const e=this.safeString(t,"currency"),i=this.safeCurrencyCode(e),s=this.safeString(t,"amount"),r=s;let n=this.safeValue(a,i);void 0===n?(n=this.account(),n["free"]=r,n["total"]=s):(n["free"]=d.stringAdd(n["free"],s),n["total"]=d.stringAdd(n["total"],s)),a[i]=n}}}return this.parseBalance(a,!1)}async fetchLedger(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a=await this.prepareAccountRequestWithCurrencyCode(e,i,s),n=this.omit(s,["account_id","accountId"]),o=await this.privateGetAccountsAccountIdTransactions(this.extend(a,n));return this.parseLedger(o["data"],r,t,i)}parseLedgerEntryStatus(e){const t={completed:"ok"};return this.safeString(t,e,e)}parseLedgerEntryType(e){const t={buy:"trade",sell:"trade",fiat_deposit:"transaction",fiat_withdrawal:"transaction",exchange_deposit:"transaction",exchange_withdrawal:"transaction",send:"transaction",pro_deposit:"transaction",pro_withdrawal:"transaction"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeValue(e,"amount",{});let s=this.safeNumber(i,"amount"),r=void 0;s<0?(r="out",s=-s):r="in";const a=this.safeString(i,"currency"),n=this.safeCurrencyCode(a,t);let o=void 0;const c=this.safeValue(e,"network",{}),d=this.safeValue(c,"transaction_fee");if(void 0!==d){const e=this.safeString(d,"currency"),i=this.safeCurrencyCode(e,t),s=this.safeNumber(d,"amount");o={cost:s,currency:i}}const h=this.parse8601(this.safeValue(e,"created_at")),u=this.safeString(e,"id"),l=this.parseLedgerEntryType(this.safeString(e,"type")),f=this.parseLedgerEntryStatus(this.safeString(e,"status")),p=this.safeString(e,"resource_path");let m=void 0;if(void 0!==p){const e=p.split("/"),t=e.length;t>3&&(m=e[3])}return{info:e,id:u,timestamp:h,datetime:this.iso8601(h),direction:r,account:m,referenceId:void 0,referenceAccount:void 0,type:l,currency:n,amount:s,before:void 0,after:void 0,status:f,fee:o}}async findAccountId(e){await this.loadMarkets(),await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const i=this.accounts[t];if(i["code"]===e)return i["id"]}}prepareAccountRequest(e,t={}){const i=this.safeString2(t,"account_id","accountId");if(void 0===i)throw new a(this.id+" method requires an account_id (or accountId) parameter");const s={account_id:i};return void 0!==e&&(s["limit"]=e),s}async prepareAccountRequestWithCurrencyCode(e,t,i={}){let s=this.safeString2(i,"account_id","accountId");if(void 0===s){if(void 0===e)throw new a(this.id+" method requires an account_id (or accountId) parameter OR a currency code argument");if(s=await this.findAccountId(e),void 0===s)throw new r(this.id+" could not find account id for "+e)}const n={account_id:s};return void 0!==t&&(n["limit"]=t),n}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls["api"]+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(a=this.json(o),t=a);const s=e+i+n+t,c=this.hmac(this.encode(s),this.encode(this.secret));r={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":c,"CB-ACCESS-TIMESTAMP":e,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.id+" "+n;let u=this.safeString(o,"error");if(void 0!==u){const e=this.safeString(o,"error_description");throw this.throwExactlyMatchedException(this.exceptions["exact"],u,h),this.throwBroadlyMatchedException(this.exceptions["broad"],e,h),new r(h)}const l=this.safeValue(o,"errors");if(void 0!==l&&Array.isArray(l)){const e=l.length;if(e>0){u=this.safeString(l[0],"id");const e=this.safeString(l[0],"message");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions["exact"],u,h),this.throwBroadlyMatchedException(this.exceptions["broad"],e,h),new r(h)}}const f=this.safeValue(o,"data");if(void 0===f)throw new r(this.id+" failed due to a malformed response "+this.json(o))}}},"20f6":function(e,t,i){},"21be":function(e,t,i){"use strict";var s=i("2909"),r=(i("99af"),i("caad"),i("2532"),i("2b0e")),a=i("80d2");t["a"]=r["a"].extend().extend({name:"stackable",data:function(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var e=this.stackElement||this.$refs.content,t=this.isActive?this.getMaxZIndex(this.stackExclude||[e])+2:Object(a["t"])(e);return null==t?t:parseInt(t)}},methods:{getMaxZIndex:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.$el,i=[this.stackMinZIndex,Object(a["t"])(t)],r=[].concat(Object(s["a"])(document.getElementsByClassName("v-menu__content--active")),Object(s["a"])(document.getElementsByClassName("v-dialog__content--active"))),n=0;n<r.length;n++)e.includes(r[n])||i.push(Object(a["t"])(r[n]));return Math.max.apply(Math,i)}}})},2266:function(e,t,i){var s=i("825a"),r=i("e95a"),a=i("50c4"),n=i("0366"),o=i("35a1"),c=i("2a62"),d=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,i){var h,u,l,f,p,m,g,y=i&&i.that,v=!(!i||!i.AS_ENTRIES),b=!(!i||!i.IS_ITERATOR),w=!(!i||!i.INTERRUPTED),k=n(t,y,1+v+w),S=function(e){return h&&c(h),new d(!0,e)},_=function(e){return v?(s(e),w?k(e[0],e[1],S):k(e[0],e[1])):w?k(e,S):k(e)};if(b)h=e;else{if(u=o(e),"function"!=typeof u)throw TypeError("Target is not iterable");if(r(u)){for(l=0,f=a(e.length);f>l;l++)if(p=_(e[l]),p&&p instanceof d)return p;return new d(!1)}h=u.call(e)}m=h.next;while(!(g=m.call(h)).done){try{p=_(g.value)}catch(O){throw c(h),O}if("object"==typeof p&&p&&p instanceof d)return p}return new d(!1)}},"23cb":function(e,t,i){var s=i("a691"),r=Math.max,a=Math.min;e.exports=function(e,t){var i=s(e);return i<0?r(i+t,0):a(i,t)}},"23e7":function(e,t,i){var s=i("da84"),r=i("06cf").f,a=i("9112"),n=i("6eeb"),o=i("ce4e"),c=i("e893"),d=i("94ca");e.exports=function(e,t){var i,h,u,l,f,p,m=e.target,g=e.global,y=e.stat;if(h=g?s:y?s[m]||o(m,{}):(s[m]||{}).prototype,h)for(u in t){if(f=t[u],e.noTargetGet?(p=r(h,u),l=p&&p.value):l=h[u],i=d(g?u:m+(y?".":"#")+u,e.forced),!i&&void 0!==l){if(typeof f===typeof l)continue;c(f,l)}(e.sham||l&&l.sham)&&a(f,"sham",!0),n(h,u,f,e)}}},2410:function(e,t,i){"use strict";const s=i("90db"),{InsufficientFunds:r,ExchangeError:a,InvalidNonce:n,InvalidOrder:o,ArgumentsRequired:c}=i("74b0"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:["UK"],has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153925-ef265e80-c2c0-11ea-91b5-020c804b90e0.jpg",api:"https://webapi.coinfloor.co.uk/v2/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{symbol}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",baseId:"XBT",quoteId:"GBP",precision:{price:0,amount:4}},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR",precision:{price:0,amount:4}}},exceptions:{exact:{"You have insufficient funds.":r,"Tonce is out of sequence.":n}}})}async fetchBalance(e={}){await this.loadMarkets();let t=void 0,i=e;const s=this.safeString(e,"symbol");void 0!==s&&(t=this.market(e["symbol"]),i=this.omit(e,"symbol"));const r=this.safeString(e,"id");if(r in this.markets_by_id&&(t=this.markets_by_id[r]),void 0===t)throw new c(this.id+" fetchBalance() requires a symbol param");const a={id:t["id"]},n=await this.privatePostIdBalance(this.extend(a,i)),o={info:n},d=t["base"],h=t["quote"],u=this.safeStringLower(t,"baseId"),l=this.safeStringLower(t,"quoteId");return o[d]={free:this.safeString(n,u+"_available"),used:this.safeString(n,u+"_reserved"),total:this.safeString(n,u+"_balance")},o[h]={free:this.safeString(n,l+"_available"),used:this.safeString(n,l+"_reserved"),total:this.safeString(n,l+"_balance")},this.parseBalance(o,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={id:this.marketId(e)},r=await this.publicGetIdOrderBook(this.extend(s,i));return this.parseOrderBook(r,e)}parseTicker(e,t){const i=this.milliseconds();let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"vwap"),a=this.safeNumber(e,"volume");let n=void 0;void 0!==r&&(n=a*r);const o=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:r,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:n,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={id:i["id"]},r=await this.publicGetIdTicker(this.extend(s,t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),s=this.safeString(e,"tid"),r=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(r),o=this.parseNumber(a),c=this.parseNumber(d.stringMul(r,a));let h=void 0;return void 0!==t&&(h=t["symbol"]),{info:e,id:s,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:h,type:void 0,side:void 0,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={id:r["id"]},n=await this.publicGetIdTransactions(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchLedger(e,t,i,s={}){await this.loadMarkets();let r=void 0;if(void 0!==e&&(r=this.market(e),void 0===r))throw new c(this.id+" fetchTransactions() requires a code argument (a market symbol)");const a={id:r["id"],limit:i},n=await this.privatePostIdUserTransactions(this.extend(a,s));return this.parseLedger(n,void 0,t,void 0)}parseLedgerEntryStatus(e){const t={completed:"ok"};return this.safeString(t,e,e)}parseLedgerEntryType(e){const t={0:"transaction",1:"transaction",2:"trade"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=Object.keys(e);let s=void 0,r=void 0,a=void 0,n=void 0;for(let m=0;m<i.length;m++){const t=i[m];if(t.indexOf("_")>0){const i=t.split("_"),o=i.length;if(2===o){const t=this.safeNumber(e,i[0]),o=this.safeNumber(e,i[1]);void 0!==t&&void 0!==o&&(s=i[0],r=i[1],a=t,n=o)}}}const o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(r),d=this.parseLedgerEntryType(this.safeString(e,"type")),h=this.safeString(e,"id"),u=this.parse8601(this.safeString(e,"datetime"));let l=void 0;const f=this.safeNumber(e,"fee"),p={id:void 0,timestamp:u,datetime:this.iso8601(u),amount:void 0,direction:void 0,currency:void 0,type:d,referenceId:h,referenceAccount:void 0,before:void 0,after:void 0,status:"ok",fee:l,info:e};if("trade"===d)return void 0!==f&&(l={cost:f,currency:c}),[this.extend(p,{currency:o,amount:Math.abs(a),direction:a>0?"in":"out"}),this.extend(p,{currency:c,amount:Math.abs(n),direction:n>0?"in":"out",fee:l})];{const e=0===a?n:a,t=0===a?c:o,i=e>0?"in":"out";return void 0!==f&&(l={cost:f,currency:t}),this.extend(p,{currency:t,amount:Math.abs(e),direction:i,fee:l})}}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={id:this.marketId(e)};let o="privatePostId"+this.capitalize(i);"market"===t?(n["quantity"]=s,o+="Market"):(n["price"]=r,n["amount"]=s);const c=await this[o](this.extend(n,a)),d=this.parse8601(this.safeString(c,"datetime"));return{id:this.safeString(c,"id"),clientOrderId:void 0,datetime:this.iso8601(d),timestamp:d,type:t,price:this.safeNumber(c,"price"),remaining:this.safeNumber(c,"amount"),info:c}}async cancelOrder(e,t,i={}){if(void 0===t)throw new c(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={symbol:s["id"],id:e},a=await this.privatePostSymbolCancelOrder(r);if("false"===a)throw new o(this.id+" cancel was rejected");return a}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"datetime")),s=this.safeNumber(e,"price"),r=this.safeNumber(e,"amount");let a=void 0;const n=this.safeString(e,"status"),o=this.safeString(e,"type");"0"===o?a="buy":"1"===o&&(a="sell");let c=void 0;void 0!==t&&(c=t["symbol"]);const d=this.safeString(e,"id");return this.safeOrder({info:e,id:d,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:n,symbol:c,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:s,stopPrice:void 0,amount:void 0,filled:void 0,remaining:r,cost:void 0,fee:void 0,average:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new c(this.id+" fetchOpenOrders() requires a symbol param");await this.loadMarkets();const r=this.market(e),a={id:r["id"]},n=await this.privatePostIdOpenOrders(this.extend(a,s));return this.parseOrders(n,r,t,i,{status:"open"})}handleErrors(e,t,i,s,r,n,o,c,d){if(e<400)return;if(void 0===o)return;const h=this.safeString(o,"error_msg"),u=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,u),new a(u)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},o));const t=this.uid+"/"+this.apiKey+":"+this.password,i=this.decode(this.stringToBase64(t));r={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+i}}return{url:n,method:i,body:a,headers:r}}}},"241c":function(e,t,i){var s=i("ca84"),r=i("7839"),a=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,a)}},2444:function(e,t,i){"use strict";(function(t){var s=i("c532"),r=i("c8af"),a={"Content-Type":"application/x-www-form-urlencoded"};function n(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=i("b50d")),e}var c={adapter:o(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};s.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){c.headers[e]=s.merge(a)})),e.exports=c}).call(this,i("4362"))},"24b2":function(e,t,i){"use strict";i("a9e3");var s=i("80d2"),r=i("2b0e");t["a"]=r["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var e={},t=Object(s["g"])(this.height),i=Object(s["g"])(this.minHeight),r=Object(s["g"])(this.minWidth),a=Object(s["g"])(this.maxHeight),n=Object(s["g"])(this.maxWidth),o=Object(s["g"])(this.width);return t&&(e.height=t),i&&(e.minHeight=i),r&&(e.minWidth=r),a&&(e.maxHeight=a),n&&(e.maxWidth=n),o&&(e.width=o),e}}})},"24f8":function(e,t,i){var s=i("9490"),r=i("0b16"),a=e.exports;for(var n in s)s.hasOwnProperty(n)&&(a[n]=s[n]);function o(e){if("string"===typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}a.request=function(e,t){return e=o(e),s.request.call(this,e,t)},a.get=function(e,t){return e=o(e),s.get.call(this,e,t)}},2532:function(e,t,i){"use strict";var s=i("23e7"),r=i("5a34"),a=i("1d80"),n=i("ab13");s({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"25a8":function(e,t,i){},"25f0":function(e,t,i){"use strict";var s=i("6eeb"),r=i("825a"),a=i("d039"),n=i("ad6d"),o="toString",c=RegExp.prototype,d=c[o],h=a((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),u=d.name!=o;(h||u)&&s(RegExp.prototype,o,(function(){var e=r(this),t=String(e.source),i=e.flags,s=String(void 0===i&&e instanceof RegExp&&!("flags"in c)?n.call(e):i);return"/"+t+"/"+s}),{unsafe:!0})},2626:function(e,t,i){"use strict";var s=i("d066"),r=i("9bf2"),a=i("b622"),n=i("83ab"),o=a("species");e.exports=function(e){var t=s(e),i=r.f;n&&t&&!t[o]&&i(t,o,{configurable:!0,get:function(){return this}})}},"276e":function(e,t,i){"use strict";const s=i("90db"),{BadSymbol:r,ExchangeNotAvailable:a,ArgumentsRequired:n,PermissionDenied:o,AuthenticationError:c,ExchangeError:d,OrderNotFound:h,DDoSProtection:u,InvalidNonce:l,InsufficientFunds:f,CancelPending:p,InvalidOrder:m,InvalidAddress:g,RateLimitExceeded:y}=i("74b0"),{TRUNCATE:v,DECIMAL_PLACES:b}=i("5ea4"),w=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"kraken",name:"Kraken",countries:["US"],version:"0",rateLimit:3e3,certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchLedgerEntry:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:"emulated",fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},marketsByAltname:{},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"4h":240,"1d":1440,"1w":10080,"2w":21600},urls:{logo:"https://user-images.githubusercontent.com/51840849/76173629-fc67fb00-61b1-11ea-84fe-f2de582f58a3.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://kraken.zendesk.com/api/v2/help_center/en-us/articles"},www:"https://www.kraken.com",doc:"https://www.kraken.com/features/api",fees:"https://www.kraken.com/en-us/features/fee-schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,XTZ:.05,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,XTZ:.05,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["360000292886","201893608"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","AddExport","Balance","CancelAll","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","ExportStatus","GetWebSocketsToken","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","RetrieveExport","RemoveExport","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},commonCurrencies:{XBT:"BTC","XBT.M":"BTC.M",XDG:"DOGE",REPV2:"REP",REP:"REPV1"},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{},delistedMarketsById:{},inactiveCurrencies:["CAD","USD","JPY","GBP"]},exceptions:{"EQuery:Invalid asset pair":r,"EAPI:Invalid key":c,"EFunding:Unknown withdraw key":d,"EFunding:Invalid amount":f,"EService:Unavailable":a,"EDatabase:Internal error":a,"EService:Busy":a,"EQuery:Unknown asset":d,"EAPI:Rate limit exceeded":u,"EOrder:Rate limit exceeded":u,"EGeneral:Internal error":a,"EGeneral:Temporary lockout":u,"EGeneral:Permission denied":o,"EOrder:Unknown order":m,"EOrder:Order minimum not met":m}})}costToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e]["precision"]["price"],b)}feeToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e]["precision"]["amount"],b)}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"result",{}),s=Object.keys(i);let r=[];for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeString(t,"base"),o=this.safeString(t,"quote"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=e.indexOf(".d")>=0,u=this.safeString(t,"altname"),l=h?u:c+"/"+d,f=this.safeValue(t,"fees_maker",[]),p=this.safeValue(f,0,[]),m=this.safeNumber(p,1);let g=void 0;void 0!==m&&(g=parseFloat(m)/100);const y=this.safeValue(t,"fees",[]),v=this.safeValue(y,0,[]),b=this.safeNumber(v,1);let w=void 0;void 0!==b&&(w=parseFloat(b)/100);const k={amount:this.safeInteger(t,"lot_decimals"),price:this.safeInteger(t,"pair_decimals")},S=this.safeNumber(t,"ordermin");r.push({id:e,symbol:l,base:c,quote:d,baseId:n,quoteId:o,darkpool:h,info:t,altname:t["altname"],maker:g,taker:w,active:!0,precision:k,limits:{amount:{min:S,max:Math.pow(10,k["amount"])},price:{min:Math.pow(10,-k["price"]),max:void 0},cost:{min:0,max:void 0}}})}return r=this.appendInactiveMarkets(r),this.marketsByAltname=this.indexBy(r,"altname"),r}safeCurrency(e,t){if(e.length>3&&(0===e.indexOf("X")||0===e.indexOf("Z"))){if(e.indexOf(".")>0)return super.safeCurrency(e,t);e=e.slice(1)}return super.safeCurrency(e,t)}appendInactiveMarkets(e){const t={amount:8,price:8},i={min:0,max:void 0},s={min:Math.pow(10,-t["price"]),max:void 0},r={min:Math.pow(10,-t["amount"]),max:Math.pow(10,t["amount"])},a={amount:r,price:s,cost:i},n={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:a},o=[];for(let c=0;c<o.length;c++)e.push(this.extend(n,o[c]));return e}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result"),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeCurrencyCode(this.safeString(t,"altname")),o=this.safeInteger(t,"decimals"),c=!this.inArray(n,this.options["inactiveCurrencies"]);r[n]={id:e,code:n,info:t,name:n,active:c,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return r}async fetchTradingFees(e={}){await this.loadMarkets(),this.checkRequiredCredentials();const t=await this.privatePostTradeVolume(e),i=this.safeNumber(t["result"],"volume"),s=this.fees["trading"]["tiers"];let r=s["taker"][1],a=s["maker"][1];for(let n=0;n<s["taker"].length;n++)i>=s["taker"][n][0]&&(r=s["taker"][n][1]);for(let n=0;n<s["maker"].length;n++)i>=s["maker"][n][0]&&(a=s["maker"][n][1]);return{info:t,maker:a,taker:r}}parseBidAsk(e,t=0,i=1){const s=this.safeNumber(e,t),r=this.safeNumber(e,i),a=this.safeInteger(e,2);return[s,r,a]}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e);if(s["darkpool"])throw new d(this.id+" does not provide an order book for darkpool symbol "+e);const r={pair:s["id"]};void 0!==t&&(r["count"]=t);const a=await this.publicGetDepth(this.extend(r,i)),n=this.safeValue(a,"result",{});let o=this.safeValue(n,s["id"]);const c=this.safeValue(s,"info",{}),h=this.safeValue(c,"wsname");return void 0!==h&&(o=this.safeValue(n,h,o)),this.parseOrderBook(o,e)}parseTicker(e,t){const i=this.milliseconds();let s=void 0;t&&(s=t["symbol"]);const r=parseFloat(e["v"][1]),a=parseFloat(e["p"][1]);let n=void 0;void 0!==r&&void 0!==a&&(n=r*a);const o=parseFloat(e["c"][0]);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:parseFloat(e["h"][1]),low:parseFloat(e["l"][1]),bid:parseFloat(e["b"][0]),bidVolume:void 0,ask:parseFloat(e["a"][0]),askVolume:void 0,vwap:a,open:this.safeNumber(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r,quoteVolume:n,info:e}}async fetchTickers(e,t={}){await this.loadMarkets(),e=void 0===e?this.symbols:e;const i=[];for(let c=0;c<e.length;c++){const t=e[c],s=this.markets[t];s["active"]&&!s["darkpool"]&&i.push(s["id"])}const s={pair:i.join(",")},r=await this.publicGetTicker(this.extend(s,t)),a=r["result"],n=Object.keys(a),o={};for(let c=0;c<n.length;c++){const e=n[c],t=this.markets_by_id[e],i=t["symbol"],s=a[e];o[i]=this.parseTicker(s,t)}return this.filterByArray(o,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=e.indexOf(".d")>=0;if(i)throw new d(this.id+" does not provide a ticker for darkpool symbol "+e);const s=this.market(e),r={pair:s["id"]},a=await this.publicGetTicker(this.extend(r,t)),n=a["result"][s["id"]];return this.parseTicker(n,s)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,6)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={pair:a["id"],interval:this.timeframes[t]};void 0!==i&&(n["since"]=parseInt((i-1)/1e3));const o=await this.publicGetOHLC(this.extend(n,r)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,a["id"],[]);return this.parseOHLCVs(d,a,t,i,s)}parseLedgerEntryType(e){const t={trade:"trade",withdrawal:"transaction",deposit:"transaction",transfer:"transfer",margin:"margin"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let s=void 0;const r=void 0,a=this.safeString(e,"refid"),n=void 0,o=this.parseLedgerEntryType(this.safeString(e,"type")),c=this.safeCurrencyCode(this.safeString(e,"asset"),t);let d=this.safeNumber(e,"amount");d<0?(s="out",d=Math.abs(d)):s="in";const h=this.safeNumber(e,"time");let u=void 0;void 0!==h&&(u=parseInt(1e3*h));const l={cost:this.safeNumber(e,"fee"),currency:c},f=void 0,p=this.safeNumber(e,"balance"),m="ok";return{info:e,id:i,direction:s,account:r,referenceId:a,referenceAccount:n,type:o,currency:c,amount:d,before:f,after:p,status:m,timestamp:u,datetime:this.iso8601(u),fee:l}}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["asset"]=a["id"]),void 0!==t&&(r["start"]=parseInt(t/1e3));const n=await this.privatePostLedgers(this.extend(r,s)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"ledger",{}),d=Object.keys(c),h=[];for(let u=0;u<d.length;u++){const e=d[u],t=c[e];t["id"]=e,h.push(t)}return this.parseLedger(h,a,t,i)}async fetchLedgerEntriesByIds(e,t,i={}){await this.loadMarkets(),e=e.join(",");const s=this.extend({id:e},i),r=await this.privatePostQueryLedgers(s),a=r["result"],n=Object.keys(a),o=[];for(let c=0;c<n.length;c++){const e=n[c],t=a[e];t["id"]=e,o.push(t)}return this.parseLedger(o)}async fetchLedgerEntry(e,t,i={}){const s=await this.fetchLedgerEntriesByIds([e],t,i);return s[0]}parseTrade(e,t){let i=void 0,s=void 0,r=void 0,a=void 0,n=void 0,o=void 0,c=void 0,d=void 0,h=void 0;if(Array.isArray(e)){i=this.safeTimestamp(e,2),s="s"===e[3]?"sell":"buy",r="l"===e[4]?"limit":"market",a=this.safeString(e,0),n=this.safeString(e,1);const t=e.length;t>6&&(o=this.safeString(e,6))}else if("string"===typeof e)o=e;else if("ordertxid"in e){const h=this.safeString(e,"pair"),u=this.findMarketByAltnameOrId(h);if(void 0!==u?t=u:void 0!==h&&(t=this.getDelistedMarketById(h)),c=this.safeString(e,"ordertxid"),o=this.safeString2(e,"id","postxid"),i=this.safeTimestamp(e,"time"),s=this.safeString(e,"type"),r=this.safeString(e,"ordertype"),a=this.safeString(e,"price"),n=this.safeString(e,"vol"),"fee"in e){let i=void 0;void 0!==t&&(i=t["quote"]),d={cost:this.safeNumber(e,"fee"),currency:i}}}void 0!==t&&(h=t["symbol"]);const u=this.parseNumber(a),l=this.parseNumber(n),f=this.parseNumber(w.stringMul(a,n));return{id:o,order:c,info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,type:r,side:s,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:d}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a=r["id"],n={pair:a};if(void 0!==t&&(n["since"]=1e6*t,n["since"]=t.toString()+"000000"),void 0!==i&&1e3!==i){const e=this.safeValue(this.options,"fetchTradesWarning",!0);if(e)throw new d(this.id+" fetchTrades() cannot serve "+i.toString()+" trades without breaking the pagination, see https://github.com/ccxt/ccxt/issues/5698 for more details. Set exchange.options['fetchTradesWarning'] to acknowledge this warning and silence it.")}const o=await this.publicGetTrades(this.extend(n,s)),c=o["result"],h=c[a],u=h.length;if(u<=0)return[];const l=h[u-1],f=this.safeString(c,"last");return l.push(f),this.parseTrades(h,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i=this.safeValue(t,"result",{}),s={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e),n=this.account();n["total"]=this.safeString(i,e),s[t]=n}return this.parseBalance(s,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,ordertype:t,volume:this.amountToPrecision(e,s)},d=this.safeString2(a,"userref","clientOrderId");if(a=this.omit(a,["userref","clientOrderId"]),void 0!==d&&(c["userref"]=d),"limit"===t)c["price"]=this.priceToPrecision(e,r);else if("stop-loss"===t||"take-profit"===t){const i=this.safeNumber2(a,"price","stopPrice",r);if(void 0===i)throw new n(this.id+" createOrder() requires a price argument or a price/stopPrice parameter for a "+t+" order");c["price"]=this.priceToPrecision(e,i)}else if("stop-loss-limit"===t||"take-profit-limit"===t){const i=this.safeNumber2(a,"price","stopPrice"),s=this.safeNumber(a,"price2"),o=void 0!==i,d=void 0!==s;if(o&&d)c["price"]=this.priceToPrecision(e,i),c["price2"]=this.priceToPrecision(e,s);else{if(void 0===r||!o&&!d)throw new n(this.id+" createOrder() requires a price argument and/or price/stopPrice/price2 parameters for a "+t+" order");o?(c["price"]=this.priceToPrecision(e,i),c["price2"]=this.priceToPrecision(e,r)):d&&(c["price"]=this.priceToPrecision(e,r),c["price2"]=this.priceToPrecision(e,s))}}a=this.omit(a,["price","stopPrice","price2"]);const h=await this.privatePostAddOrder(this.extend(c,a)),u=this.safeValue(h,"result");return this.parseOrder(u)}findMarketByAltnameOrId(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}getDelistedMarketById(e){if(void 0===e)return e;let t=this.safeValue(this.options["delistedMarketsById"],e);if(void 0!==t)return t;const i=0;let s=3,r=3,a=6;8===e.length?(s=4,r=4,a=8):7===e.length&&(s=4,r=4,a=7);const n=e.slice(i,s),o=e.slice(r,a),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d;return t={symbol:h,base:c,quote:d,baseId:n,quoteId:o},this.options["delistedMarketsById"][e]=t,t}parseOrderStatus(e){const t={pending:"open",open:"open",closed:"closed",canceled:"canceled",expired:"expired"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeValue(e,"descr",{}),s=this.safeString(i,"order");let r=void 0,a=void 0,n=void 0,o=void 0,c=void 0;if(void 0!==s){const e=s.split(" ");r=this.safeString(e,0),c=this.safeNumber(e,1),n=this.safeString(e,2),a=this.safeString(e,4),o=this.safeNumber(e,5)}r=this.safeString(i,"type",r),a=this.safeString(i,"ordertype",a),n=this.safeString(i,"pair",n);const d=this.findMarketByAltnameOrId(n);let h=void 0;void 0!==d?t=d:void 0!==n&&(t=this.getDelistedMarketById(n));const u=this.safeTimestamp(e,"opentm");c=this.safeNumber(e,"vol",c);const l=this.safeNumber(e,"vol_exec");let f=void 0;const p=this.safeNumber(e,"cost");o=this.safeNumber(i,"price",o),void 0!==o&&0!==o||(o=this.safeNumber(i,"price2")),void 0!==o&&0!==o||(o=this.safeNumber(e,"price",o));const m=this.safeNumber(e,"price");if(void 0!==t&&(h=t["symbol"],"fee"in e)){const i=e["oflags"],s=this.safeNumber(e,"fee");f={cost:s,rate:void 0},i.indexOf("fciq")>=0?f["currency"]=t["quote"]:i.indexOf("fcib")>=0&&(f["currency"]=t["base"])}const g=this.parseOrderStatus(this.safeString(e,"status"));let y=this.safeString(e,"id");if(void 0===y){const t=this.safeValue(e,"txid");y=this.safeString(t,0)}const v=this.safeString(e,"userref"),b=this.safeValue(e,"trades");let w=void 0;void 0!==b&&(w=this.parseTrades(b,t,void 0,void 0,{order:y}));const k=this.safeNumber(e,"stopprice");return this.safeOrder({id:y,clientOrderId:v,info:e,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:g,symbol:h,type:a,timeInForce:void 0,postOnly:void 0,side:r,price:o,stopPrice:k,cost:p,amount:c,filled:l,average:m,remaining:void 0,fee:f,trades:w})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.safeValue2(i,"userref","clientOrderId"),r={trades:!0};let a=i;void 0!==s?(r["userref"]=s,a=this.omit(i,["userref","clientOrderId"])):r["txid"]=e;const n=await this.privatePostQueryOrders(this.extend(r,a)),o=this.safeValue(n,"result",[]);if(!(e in o))throw new h(this.id+" fetchOrder() could not find order id "+e);const c=this.parseOrder(this.extend({id:e},o[e]));return this.extend({info:n},c)}async fetchOrderTrades(e,t,i,s,r={}){const a=this.safeValue(r,"trades"),o=[];if(void 0===a)throw new n(this.id+" fetchOrderTrades() requires a unified order structure in the params argument or a 'trades' param (an array of trade id strings)");for(let n=0;n<a.length;n++){const e=a[n];"string"===typeof e?o.push(e):o.push(e["id"])}await this.loadMarkets();const c=this.safeValue(this.options,"fetchOrderTrades",{}),d=this.safeInteger(c,"batchSize",20);let h=parseInt(o/d);h=this.sum(h,1);const u=o.length;let l=[];for(let n=0;n<h;n++){const e=[];for(let t=0;t<d;t++){const i=this.sum(n*d,t);i<u&&e.push(o[i])}const r={txid:e.join(",")},a=await this.privatePostQueryTrades(r),c=this.safeValue(a,"result"),h=Object.keys(c);for(let t=0;t<h.length;t++)c[h[t]]["id"]=h[t];const f=this.parseTrades(c,void 0,i,s),p=this.filterBySymbol(f,t);l=this.arrayConcat(l,p)}return l}async fetchOrdersByIds(e,t,i={}){await this.loadMarkets();const s=await this.privatePostQueryOrders(this.extend({trades:!0,txid:e.join(",")},i)),r=this.safeValue(s,"result",{}),a=[],n=Object.keys(r);for(let o=0;o<n.length;o++){const e=n[o],t=r[e],i=this.parseOrder(this.extend({id:e},t));a.push(i)}return a}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==t&&(r["start"]=parseInt(t/1e3));const a=await this.privatePostTradesHistory(this.extend(r,s)),n=a["result"]["trades"],o=Object.keys(n);for(let d=0;d<o.length;d++)n[o[d]]["id"]=o[d];let c=void 0;return void 0!==e&&(c=this.market(e)),this.parseTrades(n,c,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();let s=void 0;try{s=await this.privatePostCancelOrder(this.extend({txid:e},i))}catch(r){if(this.last_http_response&&this.last_http_response.indexOf("EOrder:Unknown order")>=0)throw new h(this.id+" cancelOrder() error "+this.last_http_response);throw r}return s}async cancelAllOrders(e,t={}){return await this.loadMarkets(),await this.privatePostCancelAll(t)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==t&&(r["start"]=parseInt(t/1e3));const a=await this.privatePostOpenOrders(this.extend(r,s));let n=void 0;void 0!==e&&(n=this.market(e));const o=this.safeValue(a,"result",{}),c=this.safeValue(o,"open",[]);return this.parseOrders(c,n,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==t&&(r["start"]=parseInt(t/1e3));const a=await this.privatePostClosedOrders(this.extend(r,s));let n=void 0;void 0!==e&&(n=this.market(e));const o=this.safeValue(a,"result",{}),c=this.safeValue(o,"closed",[]);return this.parseOrders(c,n,t,i)}async fetchDepositMethods(e,t={}){await this.loadMarkets();const i=this.currency(e),s={asset:i["id"]},r=await this.privatePostDepositMethods(this.extend(s,t));return this.safeValue(r,"result")}parseTransactionStatus(e){const t={Initial:"pending",Pending:"pending",Success:"ok",Settled:"pending",Failure:"failed",Partial:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"refid"),s=this.safeString(e,"txid"),r=this.safeTimestamp(e,"time"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a,t),o=this.safeString(e,"info"),c=this.safeNumber(e,"amount"),d=this.parseTransactionStatus(this.safeString(e,"status")),h=this.safeString(e,"type");let u=this.safeNumber(e,"fee");return void 0===u&&"deposit"===h&&(u=0),{info:e,id:i,currency:n,amount:c,address:o,tag:void 0,status:d,type:h,updated:void 0,txid:s,timestamp:r,datetime:this.iso8601(r),fee:{currency:n,cost:u}}}parseTransactionsByType(e,t,i,s,r){const a=[];for(let n=0;n<t.length;n++){const i=this.parseTransaction(this.extend({type:e},t[n]));a.push(i)}return this.filterByCurrencySinceLimit(a,i,s,r)}async fetchDeposits(e,t,i,s={}){if(void 0===e)throw new n(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={asset:r["id"]},o=await this.privatePostDepositStatus(this.extend(a,s));return this.parseTransactionsByType("deposit",o["result"],e,t,i)}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"result",{});return this.safeTimestamp(i,"unixtime")}async fetchWithdrawals(e,t,i,s={}){if(void 0===e)throw new n(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={asset:r["id"]},o=await this.privatePostWithdrawStatus(this.extend(a,s));return this.parseTransactionsByType("withdrawal",o["result"],e,t,i)}async createDepositAddress(e,t={}){const i={new:"true"},s=await this.fetchDepositAddress(e,this.extend(i,t)),r=this.safeString(s,"address");return this.checkAddress(r),{currency:e,address:r,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let s=this.safeString(t,"method");if(void 0===s){if(!this.options["cacheDepositMethodsOnFetchDepositAddress"])throw new n(this.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+e+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');e in this.options["depositMethods"]||(this.options["depositMethods"][e]=await this.fetchDepositMethods(e)),s=this.options["depositMethods"][e][0]["method"]}const r={asset:i["id"],method:s},a=await this.privatePostDepositAddresses(this.extend(r,t)),o=a["result"],c=o.length;if(c<1)throw new g(this.id+" privatePostDepositAddresses() returned no addresses");const d=this.safeString(o[0],"address"),h=this.safeString2(o[0],"tag","memo");return this.checkAddress(d),{currency:e,address:d,tag:h,info:a}}async withdraw(e,t,i,s,r={}){if(this.checkAddress(i),"key"in r){await this.loadMarkets();const i=this.currency(e),s={asset:i["id"],amount:t},a=await this.privatePostWithdraw(this.extend(s,r));return{info:a,id:a["result"]}}throw new d(this.id+" withdraw() requires a 'key' parameter (withdrawal key name, as set up on your account)")}async fetchPositions(e,t={}){await this.loadMarkets();const i={},s=await this.privatePostOpenPositions(this.extend(i,t)),r=this.safeValue(s,"result");return r}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();a=this.urlencode(this.extend({nonce:e},s));const t=this.encode(e+a),i=this.hash(t,"sha256","binary"),o=this.stringToBinary(this.encode(n)),c=this.binaryConcat(o,i),d=this.base64ToBinary(this.secret),h=this.hmac(c,d,"sha512","base64");r={"API-Key":this.apiKey,"API-Sign":h,"Content-Type":"application/x-www-form-urlencoded"}}else n="/"+e;return n=this.urls["api"][t]+n,{url:n,method:i,body:a,headers:r}}nonce(){return this.milliseconds()}handleErrors(e,t,i,s,r,n,o,c,h){if(520===e)throw new a(this.id+" "+e.toString()+" "+t);if(n.indexOf("Invalid order")>=0)throw new m(this.id+" "+n);if(n.indexOf("Invalid nonce")>=0)throw new l(this.id+" "+n);if(n.indexOf("Insufficient funds")>=0)throw new f(this.id+" "+n);if(n.indexOf("Cancel pending")>=0)throw new p(this.id+" "+n);if(n.indexOf("Invalid arguments:volume")>=0)throw new m(this.id+" "+n);if(n.indexOf("Rate limit exceeded")>=0)throw new y(this.id+" "+n);if(void 0!==o&&"{"===n[0]&&"string"!==typeof o&&"error"in o){const e=o["error"].length;if(e){const e=this.id+" "+n;for(let t=0;t<o["error"].length;t++){const i=o["error"][t];this.throwExactlyMatchedException(this.exceptions,i,e)}throw new d(e)}}}}},"27b6":function(e,t,i){"use strict";const s=i("4a34");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"binanceus",name:"Binance US",countries:["US"],certified:!1,pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/65177307-217b7c80-da5f-11e9-876e-0b748ba0a358.jpg",api:{web:"https://www.binance.us",sapi:"https://api.binance.us/sapi/v1",wapi:"https://api.binance.us/wapi/v3",public:"https://api.binance.us/api/v1",private:"https://api.binance.us/api/v3",v3:"https://api.binance.us/api/v3",v1:"https://api.binance.us/api/v1"},www:"https://www.binance.us",referral:"https://www.binance.us/?ref=35005074",doc:"https://github.com/binance-us/binance-official-api-docs",fees:"https://www.binance.us/en/fee/schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001}},options:{quoteOrderQty:!1}})}async fetchCurrencies(e={}){}}},"27bf":function(e,t,i){"use strict";e.exports=n;var s=i("b19a"),r=Object.create(i("3a7c"));function a(e,t){var i=this._transformState;i.transforming=!1;var s=i.writecb;if(!s)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),s(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function n(e){if(!(this instanceof n))return new n(e);s.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush((function(t,i){c(e,t,i)})):c(this,null,null)}function c(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=i("3fb5"),r.inherits(n,s),n.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},n.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},n.prototype._write=function(e,t,i){var s=this._transformState;if(s.writecb=i,s.writechunk=e,s.writeencoding=t,!s.transforming){var r=this._readableState;(s.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},n.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},n.prototype._destroy=function(e,t){var i=this;s.prototype._destroy.call(this,e,(function(e){t(e),i.emit("close")}))}},2877:function(e,t,i){"use strict";function s(e,t,i,s,r,a,n,o){var c,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),s&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),n?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},d._ssrRegister=c):r&&(c=o?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(d.functional){d._injectStyles=c;var h=d.render;d.render=function(e,t){return c.call(t),h(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:d}}i.d(t,"a",(function(){return s}))},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},2909:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i("6b75");function r(e){if(Array.isArray(e))return Object(s["a"])(e)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var n=i("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return r(e)||a(e)||Object(n["a"])(e)||o()}},"297c":function(e,t,i){"use strict";i("a9e3");var s=i("2b0e"),r=i("5530"),a=i("ade3"),n=(i("c7cd"),i("6ece"),i("0789")),o=i("90a2"),c=i("a9ad"),d=i("fe6c"),h=i("a452"),u=i("7560"),l=i("80d2"),f=i("58df"),p=Object(f["a"])(c["a"],Object(d["b"])(["absolute","fixed","top","bottom"]),h["a"],u["a"]),m=p.extend({name:"v-progress-linear",directives:{intersect:o["a"]},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(l["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(l["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e,t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return e={opacity:t},Object(a["a"])(e,this.isReversed?"right":"left",Object(l["g"])(this.normalizedValue,"%")),Object(a["a"])(e,"width",Object(l["g"])(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")),e},classes:function(){return Object(r["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible},this.themeClasses)},computedTransition:function(){return this.indeterminate?n["c"]:n["d"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(l["g"])(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var e=Object(l["r"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(a["a"])({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect(),i=t.width;this.internalValue=e.offsetX/i*100}},onObserve:function(e,t,i){this.isVisible=i},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){var t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?Object(l["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),g=m;t["a"]=s["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(g,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"29b2":function(e,t,i){"use strict";var s=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,a=i.call(e),n=[];try{while((void 0===t||t-- >0)&&!(s=a.next()).done)n.push(s.value)}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}return n},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("6040")),o=r(i("6497")),c=i("7be7"),d=i("abf9"),h=i("f9ee"),u=i("efc3"),l=a(i("a4b3")),f=i("fe34");t.aesEncrypt=function(e,t,i,s){void 0===i&&(i="CBC");var r=n.createCipher("AES-"+i,f.bytesToString(d._fromIn(t),"raw"));return r.start({iv:s&&o.createBuffer(f.bytesToString(d._fromIn(s),"raw"))}),r.update(o.createBuffer(f.bytesToString(e,"raw"))),r.finish(),f.stringToBytes(r.output.getBytes(),"raw")},t.aesDecrypt=function(e,t,i,s){void 0===i&&(i="CBC");var r=n.createDecipher("AES-"+i,f.bytesToString(d._fromIn(t),"raw"));r.start({iv:s&&o.createBuffer(f.bytesToString(d._fromIn(s),"raw"))});var a=o.createBuffer(f.bytesToString(d._fromIn(e),"raw"));if(r.update(a),!r.finish())throw new Error("Failed to decrypt data with provided key");return f.stringToBytes(r.output.getBytes(),"raw")},t.messageEncrypt=function(e,i){var s=Uint8Array.from([1]),r=c.randomBytes(32),a=c.randomBytes(16),n=f.stringToBytes(i),o=t.aesEncrypt(n,r,"CTR",a),d=t.aesEncrypt(r,e,"ECB"),l=h.hmacSHA256(n,r),p=h.hmacSHA256(u.concat(r,a),e),m=u.concat(s,d,p,l,a,o);return m},t.messageDecrypt=function(e,i){var r=s(u.split(i,1,48,32,32,16),6),a=(r[0],r[1]),n=r[2],o=r[3],c=r[4],l=r[5],p=t.aesDecrypt(a,e,"ECB"),m=d._fromIn(h.hmacSHA256(u.concat(p,c),d._fromIn(e))),g=m.every((function(e,t){return e===n[t]}));if(!g)throw new Error("Invalid key");var y=t.aesDecrypt(l,p,"CTR",c),v=d._fromIn(h.hmacSHA256(y,p)),b=v.every((function(e,t){return e===o[t]}));if(!b)throw new Error("Invalid message");return f.bytesToString(y)},t.sharedKey=function(e,t,i){var s=l.default.sharedKey(d._fromIn(e),d._fromIn(t)),r=h.sha256(d._fromRawIn(i));return h.hmacSHA256(s,r)}},"2a62":function(e,t,i){var s=i("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return s(t.call(e)).value}},"2a7f":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("71d9"),r=i("80d2"),a=Object(r["h"])("v-toolbar__title"),n=Object(r["h"])("v-toolbar__items");s["a"]},"2a83":function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,PermissionDenied:n,BadRequest:o,ArgumentsRequired:c,OrderNotFound:d,InsufficientFunds:h,ExchangeNotAvailable:u,DDoSProtection:l,InvalidAddress:f,InvalidOrder:p}=i("74b0");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitpanda",name:"Bitpanda Pro",countries:["AT"],rateLimit:300,version:"v1",has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:!0,fetchTicker:!0,fetchTickers:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1/MINUTES","5m":"5/MINUTES","15m":"15/MINUTES","30m":"30/MINUTES","1h":"1/HOURS","4h":"4/HOURS","1d":"1/DAYS","1w":"1/WEEKS","1M":"1/MONTHS"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87591171-9a377d80-c6f0-11ea-94ac-97a126eac3bc.jpg",api:{public:"https://api.exchange.bitpanda.com/public",private:"https://api.exchange.bitpanda.com/public"},www:"https://www.bitpanda.com/en/pro",doc:["https://developers.bitpanda.com/exchange/"],fees:"https://www.bitpanda.com/en/pro/fees"},api:{public:{get:["currencies","candlesticks/{instrument_code}","fees","instruments","order-book/{instrument_code}","market-ticker","market-ticker/{instrument_code}","price-ticks/{instrument_code}","time"]},private:{get:["account/balances","account/deposit/crypto/{currency_code}","account/deposit/fiat/EUR","account/deposits","account/deposits/bitpanda","account/withdrawals","account/withdrawals/bitpanda","account/fees","account/orders","account/orders/{order_id}","account/orders/{order_id}/trades","account/trades","account/trades/{trade_id}","account/trading-volume"],post:["account/deposit/crypto","account/withdraw/crypto","account/withdraw/fiat","account/fees","account/orders"],delete:["account/orders","account/orders/{order_id}","account/orders/client/{client_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:[{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}]}},requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{INVALID_CLIENT_UUID:p,ORDER_NOT_FOUND:d,ONLY_ONE_ERC20_ADDRESS_ALLOWED:f,DEPOSIT_ADDRESS_NOT_USED:f,INVALID_CREDENTIALS:r,MISSING_CREDENTIALS:r,INVALID_APIKEY:r,INVALID_SCOPES:r,INVALID_SUBJECT:r,INVALID_ISSUER:r,INVALID_AUDIENCE:r,INVALID_DEVICE_ID:r,INVALID_IP_RESTRICTION:r,APIKEY_REVOKED:r,APIKEY_EXPIRED:r,SYNCHRONIZER_TOKEN_MISMATCH:r,SESSION_EXPIRED:r,INTERNAL_ERROR:r,CLIENT_IP_BLOCKED:n,MISSING_PERMISSION:n,ILLEGAL_CHARS:o,UNSUPPORTED_MEDIA_TYPE:o,ACCOUNT_HISTORY_TIME_RANGE_TOO_BIG:o,CANDLESTICKS_TIME_RANGE_TOO_BIG:o,INVALID_INSTRUMENT_CODE:o,INVALID_ORDER_TYPE:o,INVALID_UNIT:o,INVALID_PERIOD:o,INVALID_TIME:o,INVALID_DATE:o,INVALID_CURRENCY:o,INVALID_AMOUNT:o,INVALID_PRICE:o,INVALID_LIMIT:o,INVALID_QUERY:o,INVALID_CURSOR:o,INVALID_ACCOUNT_ID:o,INVALID_SIDE:p,INVALID_ACCOUNT_HISTORY_FROM_TIME:o,INVALID_ACCOUNT_HISTORY_MAX_PAGE_SIZE:o,INVALID_ACCOUNT_HISTORY_TIME_PERIOD:o,INVALID_ACCOUNT_HISTORY_TO_TIME:o,INVALID_CANDLESTICKS_GRANULARITY:o,INVALID_CANDLESTICKS_UNIT:o,INVALID_ORDER_BOOK_DEPTH:o,INVALID_ORDER_BOOK_LEVEL:o,INVALID_PAGE_CURSOR:o,INVALID_TIME_RANGE:o,INVALID_TRADE_ID:o,INVALID_UI_ACCOUNT_SETTINGS:o,NEGATIVE_AMOUNT:p,NEGATIVE_PRICE:p,MIN_SIZE_NOT_SATISFIED:p,BAD_AMOUNT_PRECISION:p,BAD_PRICE_PRECISION:p,BAD_TRIGGER_PRICE_PRECISION:p,MAX_OPEN_ORDERS_EXCEEDED:o,MISSING_PRICE:p,MISSING_ORDER_TYPE:p,MISSING_SIDE:p,MISSING_CANDLESTICKS_PERIOD_PARAM:c,MISSING_CANDLESTICKS_UNIT_PARAM:c,MISSING_FROM_PARAM:c,MISSING_INSTRUMENT_CODE:c,MISSING_ORDER_ID:p,MISSING_TO_PARAM:c,MISSING_TRADE_ID:c,INVALID_ORDER_ID:d,NOT_FOUND:d,INSUFFICIENT_LIQUIDITY:h,INSUFFICIENT_FUNDS:h,NO_TRADING:u,SERVICE_UNAVAILABLE:u,GATEWAY_TIMEOUT:u,RATELIMIT:l,CF_RATELIMIT:l,INTERNAL_SERVER_ERROR:a},broad:{}},commonCurrencies:{MIOTA:"IOTA"},options:{fetchTradingFees:{method:"fetchPrivateTradingFees"},fiat:["EUR","CHF"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"epoch_millis")}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"code"),a=this.safeCurrencyCode(r);i[a]={id:r,code:a,name:void 0,info:e,active:void 0,fee:void 0,precision:this.safeInteger(e,"precision"),limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeValue(e,"base",{}),a=this.safeValue(e,"quote",{}),n=this.safeString(r,"code"),o=this.safeString(a,"code"),c=n+"_"+o,d=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),u=d+"/"+h,l={amount:this.safeInteger(e,"amount_precision"),price:this.safeInteger(e,"market_precision")},f={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"min_size"),max:void 0}},p=this.safeString(e,"state"),m="ACTIVE"===p;i.push({id:c,symbol:u,base:d,quote:h,baseId:n,quoteId:o,precision:l,limits:f,info:e,active:m})}return i}async fetchTradingFees(e={}){let t=this.safeString(e,"method");if(e=this.omit(e,"method"),void 0===t){const e=this.safeValue(this.options,"fetchTradingFees",{});t=this.safeString(e,"method","fetchPrivateTradingFees")}return await this[t](e)}async fetchPublicTradingFees(e={}){await this.loadMarkets();const t=await this.publicGetFees(e),i=this.indexBy(t,"fee_group_id"),s=this.safeValue(this.options,"fee_group_id","default"),r=this.safeValue(i,s,{}),a=this.safeValue(r,"fee_tiers"),n={};for(let o=0;o<this.symbols.length;o++){const e=this.symbols[o],t={info:r,symbol:e,maker:void 0,taker:void 0,percentage:!0,tierBased:!0},i=[],s=[];for(let r=0;r<a.length;r++){const e=a[r],n=this.safeNumber(e,"volume");let o=this.safeNumber(e,"taker_fee"),c=this.safeNumber(e,"maker_fee");o/=100,c/=100,i.push([n,o]),s.push([n,c]),0===r&&(t["taker"]=o,t["maker"]=c)}const c={taker:i,maker:s};t["tiers"]=c,n[e]=t}return n}async fetchPrivateTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccountFees(e),i=this.safeValue(t,"active_fee_tier",{}),s={info:t,maker:this.safeNumber(i,"maker_fee"),taker:this.safeNumber(i,"taker_fee"),percentage:!0,tierBased:!0},r=this.safeValue(t,"fee_tiers"),a=[],n=[];for(let c=0;c<r.length;c++){const e=r[c],t=this.safeNumber(e,"volume");let i=this.safeNumber(e,"taker_fee"),s=this.safeNumber(e,"maker_fee");i/=100,s/=100,a.push([t,i]),n.push([t,s])}const o={taker:a,maker:n};return s["tiers"]=o,s}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"time")),s=this.safeString(e,"instrument_code"),r=this.safeSymbol(s,t,"_"),a=this.safeNumber(e,"last_price"),n=this.safeNumber(e,"price_change_percentage"),o=this.safeNumber(e,"price_change");let c=void 0,d=void 0;void 0!==a&&void 0!==o&&(c=a-o,d=this.sum(a,c)/2);const h=this.safeNumber(e,"base_volume"),u=this.safeNumber(e,"quote_volume"),l=this.vwap(h,u);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"best_bid"),bidVolume:void 0,ask:this.safeNumber(e,"best_ask"),askVolume:void 0,vwap:l,open:c,close:a,last:a,previousClose:void 0,change:o,percentage:n,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={instrument_code:i["id"]},r=await this.publicGetMarketTickerInstrumentCode(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTicker(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={instrument_code:this.marketId(e)};void 0!==t&&(s["depth"]=t);const r=await this.publicGetOrderBookInstrumentCode(this.extend(s,i)),a=this.parse8601(this.safeString(r,"time"));return this.parseOrderBook(r,e,a,"bids","asks","price","amount")}parseOHLCV(e,t){const i=this.safeValue(e,"granularity"),s=this.safeString(i,"unit"),r=this.safeString(i,"period"),a={MINUTES:"m",HOURS:"h",DAYS:"d",WEEKS:"w",MONTHS:"M"},n=this.safeString(a,s),o=r+n,c=this.parseTimeframe(o),d=1e3*c,h=this.parse8601(this.safeString(e,"time")),u=d*parseInt(h/d),l=this.safeValue(this.options,"fetchOHLCV",{}),f=this.safeString(l,"volume","total_amount");return[u,this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,f)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=this.safeString(this.timeframes,t),[o,c]=n.split("/"),d=this.parseTimeframe(t),h=1e3*d;void 0===s&&(s=1500);const u={instrument_code:a["id"],period:o,unit:c};if(void 0===i){const e=this.milliseconds();u["to"]=this.iso8601(e),u["from"]=this.iso8601(e-s*h)}else u["from"]=this.iso8601(i),u["to"]=this.iso8601(this.sum(i,s*h));const l=await this.publicGetCandlesticksInstrumentCode(this.extend(u,r));return this.parseOHLCVs(l,a,t,i,s)}parseTrade(e,t){const i=this.safeValue(e,"fee",{});e=this.safeValue(e,"trade",e);let s=this.safeInteger(e,"trade_timestamp");void 0===s&&(s=this.parse8601(this.safeString(e,"time")));const r=this.safeStringLower2(e,"side","taker_side"),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"amount");let o=this.safeNumber(e,"volume");void 0===o&&void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeString(e,"instrument_code"),d=this.safeSymbol(c,t,"_"),h=this.safeNumber(i,"fee_amount");let u=void 0,l=void 0;if(void 0!==h){const e=this.safeString(i,"fee_currency"),t=this.safeCurrencyCode(e),s=this.safeNumber(i,"fee_percentage");l={cost:h,currency:t,rate:s},u=this.safeStringLower(i,"fee_type")}return{id:this.safeString2(e,"trade_id","sequence"),order:this.safeString(e,"order_id"),timestamp:s,datetime:this.iso8601(s),symbol:d,type:void 0,side:r,price:a,amount:n,cost:o,takerOrMaker:u,fee:l,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={instrument_code:r["id"]};void 0!==t&&(a["from"]=this.iso8601(t),a["to"]=this.iso8601(this.sum(t,144e5)));const n=await this.publicGetPriceTicksInstrumentCode(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i=this.safeValue(t,"balances",[]),s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"available"),n["used"]=this.safeString(e,"locked"),s[a]=n}return this.parseBalance(s,!1)}parseDepositAddress(e,t){let i=void 0;void 0!==t&&(i=t["code"]);const s=this.safeString(e,"address"),r=this.safeString(e,"destination_tag");return this.checkAddress(s),{currency:i,address:s,tag:r,info:e}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostAccountDepositCrypto(this.extend(s,t));return this.parseDepositAddress(r,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency_code:i["id"]},r=await this.privateGetAccountDepositCryptoCurrencyCode(this.extend(s,t));return this.parseDepositAddress(r,i)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;if(void 0!==e&&(a=this.currency(e),r["currency_code"]=a["id"]),void 0!==i&&(r["max_page_size"]=i),void 0!==t){const e=this.safeString(s,"to");if(void 0===e)throw new c(this.id+' fetchDeposits() requires a "to" iso8601 string param with the since argument is specified');r["from"]=this.iso8601(t)}const n=await this.privateGetAccountDeposits(this.extend(r,s)),o=this.safeValue(n,"deposit_history",[]);return this.parseTransactions(o,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;if(void 0!==e&&(a=this.currency(e),r["currency_code"]=a["id"]),void 0!==i&&(r["max_page_size"]=i),void 0!==t){const e=this.safeString(s,"to");if(void 0===e)throw new c(this.id+' fetchWithdrawals() requires a "to" iso8601 string param with the since argument is specified');r["from"]=this.iso8601(t)}const n=await this.privateGetAccountWithdrawals(this.extend(r,s)),o=this.safeValue(n,"withdrawal_history",[]);return this.parseTransactions(o,a,t,i,{type:"withdrawal"})}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:e,amount:this.currencyToPrecision(e,t)},o=this.safeValue(this.options,"fiat",[]),d=this.inArray(e,o),h=d?"privatePostAccountWithdrawFiat":"privatePostAccountWithdrawCrypto";if(d){const t=this.safeString(r,"payout_account_id");if(void 0===t)throw c(this.id+" withdraw() requires a payout_account_id param for fiat "+e+" withdrawals")}else{const e={address:i};void 0!==s&&(e["destination_tag"]=s),n["recipient"]=e}const u=await this[h](this.extend(n,r));return this.parseTransaction(u,a)}parseTransaction(e,t){const i=this.safeString(e,"transaction_id"),s=this.safeNumber(e,"amount"),r=this.parse8601(this.safeString(e,"time")),a=this.safeString(e,"currency");t=this.safeCurrency(a,t);const n="ok",o=this.safeNumber2(e,"fee_amount","fee");let c=void 0;const d=this.safeString(e,"recipient"),h=this.safeString(e,"destination_tag");if(void 0!==o){const t=this.safeString(e,"fee_currency",a),i=this.safeCurrencyCode(t);c={cost:o,currency:i}}return{info:e,id:i,currency:t["code"],amount:s,address:d,addressFrom:void 0,addressTo:d,tag:h,tagFrom:void 0,tagTo:h,status:n,type:void 0,updated:void 0,txid:this.safeString(e,"blockchain_transaction_id"),timestamp:r,datetime:this.iso8601(r),fee:c}}parseOrderStatus(e){const t={FILLED:"open",FILLED_FULLY:"closed",FILLED_CLOSED:"canceled",FILLED_REJECTED:"rejected",OPEN:"open",REJECTED:"rejected",CLOSED:"canceled",FAILED:"failed",STOP_TRIGGERED:"triggered"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeValue(e,"order",e),s=this.safeString(i,"order_id"),r=this.safeString(i,"client_id"),a=this.parse8601(this.safeString(i,"time")),n=this.parseOrderStatus(this.safeString(i,"status")),o=this.parseOrderStatus(n),c=this.safeString(i,"instrument_code"),d=this.safeSymbol(c,t,"_"),h=this.safeNumber(i,"price"),u=this.safeNumber(i,"amount"),l=this.safeString(i,"filled_amount"),f=this.parseNumber(l),p=this.safeStringLower(i,"side"),m=this.safeStringLower(i,"type"),g=this.parseTimeInForce(this.safeString(i,"time_in_force")),y=this.safeNumber(i,"trigger_price"),v=this.safeValue(i,"is_post_only"),b=this.safeValue(e,"trades",[]),w=this.parseTrades(b,t,void 0,void 0,{type:m});return this.safeOrder({id:s,clientOrderId:r,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:d,type:m,timeInForce:g,postOnly:v,side:p,price:h,stopPrice:y,amount:u,cost:void 0,average:void 0,filled:f,remaining:void 0,status:o,trades:w})}parseTimeInForce(e){const t={GOOD_TILL_CANCELLED:"GTC",GOOD_TILL_TIME:"GTT",IMMEDIATE_OR_CANCELLED:"IOC",FILL_OR_KILL:"FOK"};return this.safeString(t,e,e)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),d={instrument_code:n["id"],type:o,side:i.toUpperCase(),amount:this.amountToPrecision(e,s)};let h=!1;if("LIMIT"!==o&&"STOP"!==o||(h=!0),"STOP"===o){const i=this.safeNumber(a,"trigger_price");if(void 0===i)throw new c(this.id+" createOrder() requires a trigger_price param for "+t+" orders");d["trigger_price"]=this.priceToPrecision(e,i),a=this.omit(a,"trigger_price")}h&&(d["price"]=this.priceToPrecision(e,r));const u=this.safeString2(a,"clientOrderId","client_id");void 0!==u&&(d["client_id"]=u,a=this.omit(a,["clientOrderId","client_id"]));const l=await this.privatePostAccountOrders(this.extend(d,a));return this.parseOrder(l,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.safeString2(i,"clientOrderId","client_id");i=this.omit(i,["clientOrderId","client_id"]);let r="privateDeleteAccountOrdersOrderId";const a={};void 0!==s?(r="privateDeleteAccountOrdersClientClientId",a["client_id"]=s):a["order_id"]=e;const n=await this[r](this.extend(a,i));return n}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.market(e);i["instrument_code"]=t["id"]}const s=await this.privateDeleteAccountOrders(this.extend(i,t));return s}async cancelOrders(e,t,i={}){await this.loadMarkets();const s={ids:e.join(",")},r=await this.privateDeleteAccountOrders(this.extend(s,i));return r}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetAccountOrdersOrderId(this.extend(s,i));return this.parseOrder(r)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;if(void 0!==e&&(a=this.market(e),r["instrument_code"]=a["id"]),void 0!==t){const e=this.safeString(s,"to");if(void 0===e)throw new c(this.id+' fetchOrders() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');r["from"]=this.iso8601(t)}void 0!==i&&(r["max_page_size"]=i);const n=await this.privateGetAccountOrders(this.extend(r,s)),o=this.safeValue(n,"order_history",[]);return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,s={}){const r={with_cancelled_and_rejected:!0};return await this.fetchOpenOrders(e,t,i,this.extend(r,s))}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a={order_id:e};void 0!==s&&(a["max_page_size"]=s);const n=await this.privateGetAccountOrdersOrderIdTrades(this.extend(a,r)),o=this.safeValue(n,"trade_history",[]);let c=void 0;return void 0!==t&&(c=this.market(t)),this.parseTrades(o,c,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;if(void 0!==e&&(a=this.market(e),r["instrument_code"]=a["id"]),void 0!==t){const e=this.safeString(s,"to");if(void 0===e)throw new c(this.id+' fetchMyTrades() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');r["from"]=this.iso8601(t)}void 0!==i&&(r["max_page_size"]=i);const n=await this.privateGetAccountTrades(this.extend(r,s)),o=this.safeValue(n,"trade_history",[]);return this.parseTrades(o,a,t,i)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));return"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"private"===t&&(this.checkRequiredCredentials(),r={Accept:"application/json",Authorization:"Bearer "+this.apiKey},"POST"===i?(a=this.json(o),r["Content-Type"]="application/json"):Object.keys(o).length&&(n+="?"+this.urlencode(o))),{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],h,e),new a(e)}}}},"2aa1":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ExchangeNotAvailable:a,OnMaintenance:n,ArgumentsRequired:o,BadRequest:c,AccountSuspended:d,InvalidAddress:h,PermissionDenied:u,DDoSProtection:l,InsufficientFunds:f,InvalidNonce:p,CancelPending:m,InvalidOrder:g,OrderNotFound:y,AuthenticationError:v,RequestTimeout:b,NotSupported:w,BadSymbol:k,RateLimitExceeded:S}=i("74b0"),{TICK_SIZE:_,TRUNCATE:O}=i("5ea4"),T=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"okex",name:"OKEX",countries:["CN"],version:"v3",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTime:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,futures:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2678400","3M":"8035200","6M":"16070400","1y":"31536000"},hostname:"okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://www.{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com/join/1888677",test:{rest:"https://testnet.okex.com"}},api:{general:{get:["time"]},account:{get:["wallet","sub-account","asset-valuation","wallet/{currency}","withdrawal/history","withdrawal/history/{currency}","ledger","deposit/address","deposit/history","deposit/history/{currency}","currencies","withdrawal/fee"],post:["transfer","withdrawal"]},spot:{get:["accounts","accounts/{currency}","accounts/{currency}/ledger","orders","amend_order/{instrument_id}","orders_pending","orders/{order_id}","orders/{client_oid}","trade_fee","fills","algo","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles"],post:["order_algo","orders","batch_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_algos","cancel_batch_orders"]},margin:{get:["accounts","accounts/{instrument_id}","accounts/{instrument_id}/ledger","accounts/availability","accounts/{instrument_id}/availability","accounts/borrowed","accounts/{instrument_id}/borrowed","orders","accounts/{instrument_id}/leverage","orders/{order_id}","orders/{client_oid}","orders_pending","fills","instruments/{instrument_id}/mark_price"],post:["accounts/borrow","accounts/repayment","orders","batch_orders","cancel_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_orders","accounts/{instrument_id}/leverage"]},futures:{get:["position","{instrument_id}/position","accounts","accounts/{underlying}","accounts/{underlying}/leverage","accounts/{underlying}/ledger","order_algo/{instrument_id}","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","trade_fee","accounts/{instrument_id}/holds","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/estimated_price","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/liquidation"],post:["accounts/{underlying}/leverage","order","amend_order/{instrument_id}","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","accounts/margin_mode","close_position","cancel_all","order_algo","cancel_algos"]},swap:{get:["position","{instrument_id}/position","accounts","{instrument_id}/accounts","accounts/{instrument_id}/settings","accounts/{instrument_id}/ledger","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","accounts/{instrument_id}/holds","trade_fee","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/depth","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/liquidation","instruments/{instrument_id}/funding_time","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/historical_funding_rate"],post:["accounts/{instrument_id}/leverage","order","amend_order/{instrument_id}","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","order_algo","cancel_algos","close_position","cancel_all","order_algo","cancel_algos"]},option:{get:["accounts","position","{underlying}/position","accounts/{underlying}","orders/{underlying}","fills/{underlying}","accounts/{underlying}/ledger","trade_fee","orders/{underlying}/{order_id}","orders/{underlying}/{client_oid}","underlying","instruments/{underlying}","instruments/{underlying}/summary","instruments/{underlying}/summary/{instrument_id}","instruments/{instrument_id}/book","instruments/{instrument_id}/trades","instruments/{instrument_id}/ticker","instruments/{instrument_id}/candles"],post:["order","orders","cancel_order/{underlying}/{order_id}","cancel_order/{underlying}/{client_oid}","cancel_batch_orders/{underlying}","amend_order/{underlying}","amend_batch_orders/{underlying}"]},index:{get:["{instrument_id}/constituents"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:75e-5,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:r,"failure to get a peer from the ring-balancer":a,"Server is busy, please try again.":a,"An unexpected error occurred":r,"System error":r,4010:u,4001:r,4002:r,30001:v,30002:v,30003:v,30004:v,30005:p,30006:v,30007:c,30008:b,30009:r,30010:v,30011:u,30012:v,30013:v,30014:l,30015:v,30016:r,30017:r,30018:r,30019:a,30020:c,30021:c,30022:u,30023:c,30024:k,30025:c,30026:l,30027:v,30028:u,30029:d,30030:a,30031:c,30032:k,30033:c,30034:r,30035:r,30036:r,30037:a,30038:n,30044:b,32001:d,32002:u,32003:m,32004:r,32005:g,32006:g,32007:g,32008:g,32009:g,32010:r,32011:r,32012:r,32013:r,32014:r,32015:r,32016:r,32017:r,32018:r,32019:r,32020:r,32021:r,32022:r,32023:r,32024:r,32025:r,32026:r,32027:r,32028:r,32029:r,32030:g,32031:o,32038:v,32040:r,32044:r,32045:r,32046:r,32047:r,32048:g,32049:r,32050:g,32051:g,32052:r,32053:r,32057:r,32054:r,32055:g,32056:r,32058:r,32059:g,32060:g,32061:g,32062:g,32063:g,32064:r,32065:r,32066:r,32067:r,32068:r,32069:r,32070:r,32071:r,32072:r,32073:r,32074:r,32075:r,32076:r,32077:r,32078:r,32079:r,32080:r,32083:r,33001:u,33002:d,33003:f,33004:r,33005:r,33006:r,33007:r,33008:f,33009:r,33010:r,33011:r,33012:r,33013:g,33014:y,33015:g,33016:r,33017:f,33018:r,33020:r,33021:c,33022:g,33023:r,33024:g,33025:g,33026:r,33027:g,33028:g,33029:g,33034:r,33035:r,33036:r,33037:r,33038:r,33039:r,33040:r,33041:r,33042:r,33043:r,33044:r,33045:r,33046:r,33047:r,33048:r,33049:r,33050:r,33051:r,33059:c,33060:c,33061:r,33062:r,33063:r,33064:r,33065:r,33085:g,21009:r,34001:u,34002:h,34003:r,34004:r,34005:r,34006:r,34007:r,34008:f,34009:r,34010:r,34011:r,34012:r,34013:r,34014:r,34015:r,34016:u,34017:d,34018:v,34019:u,34020:u,34021:h,34022:r,34023:u,34026:S,34036:r,34037:r,34038:r,34039:r,35001:r,35002:r,35003:r,35004:r,35005:v,35008:g,35010:g,35012:g,35014:g,35015:g,35017:r,35019:g,35020:g,35021:g,35022:c,35024:c,35025:f,35026:c,35029:y,35030:g,35031:g,35032:r,35037:r,35039:f,35040:g,35044:r,35046:f,35047:f,35048:r,35049:g,35050:g,35052:f,35053:r,35055:f,35057:r,35058:r,35059:c,35060:c,35061:c,35062:g,35063:g,35064:g,35066:g,35067:g,35068:g,35069:g,35070:g,35071:g,35072:g,35073:g,35074:g,35075:g,35076:g,35077:g,35078:g,35079:g,35080:g,35081:g,35082:g,35083:g,35084:g,35085:g,35086:g,35087:g,35088:g,35089:g,35090:r,35091:r,35092:r,35093:r,35094:r,35095:c,35096:r,35097:r,35098:r,35099:r,35102:S,36001:c,36002:c,36005:r,36101:v,36102:u,36103:u,36104:u,36105:u,36106:u,36107:u,36108:f,36109:u,36201:u,36202:u,36203:g,36204:r,36205:c,36206:c,36207:g,36208:g,36209:g,36210:g,36211:g,36212:g,36213:g,36214:r,36216:y,36217:g,36218:g,36219:g,36220:g,36221:g,36222:g,36223:g,36224:g,36225:g,36226:g,36227:g,36228:g,36229:g,36230:g},broad:{}},precisionMode:_,options:{fetchOHLCV:{type:"Candles"},createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","{instrument_id}/constituents":"public"}},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchTime(e={}){const t=await this.generalGetTime(e);return this.parse8601(this.safeString(t,"iso"))}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let s=0;s<t.length;s++){const r=await this.fetchMarketsByType(t[s],e);i=this.arrayConcat(i,r)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instrument_id");let i="spot",s=!0,r=!1,a=!1,n=!1,o=this.safeString(e,"base_currency"),c=this.safeString(e,"quote_currency");const d=this.safeNumber(e,"contract_val");if(void 0!==d)if("option_type"in e){i="option",s=!1,n=!0;const t=this.safeString(e,"underlying"),r=t.split("-");o=this.safeString(r,0),c=this.safeString(r,1)}else{i="swap",s=!1,a=!0;const t=this.safeString(e,"alias");void 0!==t&&(a=!1,r=!0,i="futures",o=this.safeString(e,"underlying_index"))}const h=this.safeCurrencyCode(o),u=this.safeCurrencyCode(c),l=s?h+"/"+u:t,f=this.safeNumber2(e,"lot_size","trade_increment"),p=this.safeString(e,"tick_size"),m={amount:this.safeNumber(e,"size_increment",f),price:this.parseNumber(p)},g=this.safeString2(e,"min_size","base_min_size"),y=this.parseNumber(g);let v=void 0;void 0!==y&&void 0!==p&&(v=this.parseNumber(T.stringMul(p,g)));const b=!0,w=this.safeValue2(this.fees,i,"trading",{});return this.extend(w,{id:t,symbol:l,base:h,quote:u,baseId:o,quoteId:c,info:e,type:i,spot:s,futures:r,swap:a,option:n,active:b,precision:m,limits:{amount:{min:y,max:void 0},price:{min:m["price"],max:void 0},cost:{min:v,max:void 0}}})}async fetchMarketsByType(e,t={}){if("option"===e){const e=await this.optionGetUnderlying(t);let i=[];for(let t=0;t<e.length;t++){const s=await this.optionGetInstrumentsUnderlying({underlying:e[t]});i=this.arrayConcat(i,s)}return this.parseMarkets(i)}if("spot"===e||"futures"===e||"swap"===e){const i=e+"GetInstruments",s=await this[i](t);return this.parseMarkets(s)}throw new w(this.id+" fetchMarketsByType does not support market type "+e)}async fetchCurrencies(e={}){const t=await this.accountGetCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=1e-8,o=this.safeString(e,"name"),c=this.safeInteger(e,"can_deposit"),d=this.safeInteger(e,"can_withdraw"),h=!(!c||!d);i[a]={id:r,code:a,info:e,type:void 0,name:o,active:h,fee:void 0,precision:n,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"min_withdrawal"),max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e);let r=s["type"]+"GetInstrumentsInstrumentId";r+="swap"===s["type"]?"Depth":"Book";const a={instrument_id:s["id"]};void 0!==t&&(a["size"]=t);const n=await this[r](this.extend(a,i)),o=this.parse8601(this.safeString2(n,"timestamp","time"));return this.parseOrderBook(n,e,o)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp"));let s=void 0;const r=this.safeString(e,"instrument_id");if(r in this.markets_by_id)t=this.markets_by_id[r],s=t["symbol"];else if(void 0!==r){const e=r.split("-"),t=e.length;if(2===t){const[t,i]=e,r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(i);s=r+"/"+a}else s=r}void 0===s&&void 0!==t&&(s=t["symbol"]);const a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open_24h");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_24h"),low:this.safeNumber(e,"low_24h"),bid:this.safeNumber(e,"best_bid"),bidVolume:this.safeNumber(e,"best_bid_size"),ask:this.safeNumber(e,"best_ask"),askVolume:this.safeNumber(e,"best_ask_size"),vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"base_volume_24h"),quoteVolume:this.safeNumber(e,"quote_volume_24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s=i["type"]+"GetInstrumentsInstrumentIdTicker",r={instrument_id:i["id"]},a=await this[s](this.extend(r,t));return this.parseTicker(a)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const s=e+"GetInstrumentsTicker",r=await this[s](i),a={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];a[t]=e}return this.filterByArray(a,"symbol",t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),s=this.safeString(t,"type",i);return await this.fetchTickersByType(s,e,this.omit(t,"type"))}parseTrade(e,t){let i=void 0;const s=this.safeString(e,"instrument_id");let r=void 0,a=void 0;if(s in this.markets_by_id)t=this.markets_by_id[s],i=t["symbol"],r=t["base"],a=t["quote"];else if(void 0!==s){const e=s.split("-"),t=e.length;if(2===t){const[t,s]=e;r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(s),i=r+"/"+a}else i=s}void 0===i&&void 0!==t&&(i=t["symbol"],r=t["base"],a=t["quote"]);const n=this.parse8601(this.safeString2(e,"timestamp","created_at")),o=this.safeString(e,"price");let c=this.safeString2(e,"size","qty");c=this.safeString(e,"order_qty",c);const d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(T.stringMul(o,c));let l=this.safeString2(e,"exec_type","liquidity");"M"===l?l="maker":"T"===l&&(l="taker");const f=this.safeString(e,"side"),p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const e="buy"===f?r:a;m={cost:-p,currency:e}}const g=this.safeString(e,"order_id");return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:i,id:this.safeString2(e,"trade_id","ledger_id"),order:g,type:void 0,takerOrMaker:l,side:f,price:d,amount:h,cost:u,fee:m}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a=r["type"]+"GetInstrumentsInstrumentIdTrades";(void 0===i||i>100)&&(i=100);const n={instrument_id:r["id"],limit:i},o=await this[a](this.extend(n,s));return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){if(Array.isArray(e)){const t=e.length,i=t>6?6:5;let s=this.safeValue(e,0);return"string"===typeof s&&(s=this.parse8601(s)),[s,this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,i)]}return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=this.parseTimeframe(t),o={instrument_id:a["id"],granularity:this.timeframes[t]},c=this.safeValue(this.options,"fetchOHLCV",{}),d=this.safeString(c,"type","Candles"),h=this.safeString(r,"type",d);r=this.omit(r,"type");const u=a["type"]+"GetInstrumentsInstrumentId"+h;if("Candles"===h){if(void 0!==i)void 0!==s&&(o["end"]=this.iso8601(this.sum(i,s*n*1e3))),o["start"]=this.iso8601(i);else if(void 0!==s){const e=this.milliseconds();o["start"]=this.iso8601(e-s*n*1e3),o["end"]=this.iso8601(e)}}else if("HistoryCandles"===h){if(a["option"])throw new w(this.id+" fetchOHLCV does not have "+h+" for "+a["type"]+" markets");if(void 0!==i)void 0===s&&(s=300),o["start"]=this.iso8601(this.sum(i,s*n*1e3)),o["end"]=this.iso8601(i);else if(void 0!==s){const e=this.milliseconds();o["end"]=this.iso8601(e-s*n*1e3),o["start"]=this.iso8601(e)}}const l=await this[u](this.extend(o,r));return this.parseOHLCVs(l,a,t,i,s)}parseAccountBalance(e){const t={info:e,timestamp:void 0,datetime:void 0};for(let i=0;i<e.length;i++){const s=e[i],r=this.safeString(s,"currency"),a=this.safeCurrencyCode(r),n=this.account();n["total"]=this.safeNumber(s,"balance"),n["used"]=this.safeNumber(s,"hold"),n["free"]=this.safeNumber(s,"available"),t[a]=n}return this.parseBalance(t)}parseMarginBalance(e){const t={info:e,timestamp:void 0,datetime:void 0};for(let i=0;i<e.length;i++){const s=e[i],r=this.safeString(s,"instrument_id"),a=this.safeValue(this.markets_by_id,r);let n=void 0;if(void 0===a){const[e,t]=r.split("-"),i=this.safeCurrencyCode(e),s=this.safeCurrencyCode(t);n=i+"/"+s}else n=a["symbol"];const o=this.omit(s,["instrument_id","liquidation_price","product_id","risk_rate","margin_ratio","maint_margin_ratio","tiers"]),c=Object.keys(o),d={};for(let e=0;e<c.length;e++){const t=c[e],i=s[t];if(!(t.indexOf(":")>=0))throw new w(this.id+" margin balance response format has changed!");{const e=t.split(":"),s=e[1],r=this.safeCurrencyCode(s),a=this.account();a["total"]=this.safeNumber(i,"balance"),a["used"]=this.safeNumber(i,"hold"),a["free"]=this.safeNumber(i,"available"),d[r]=a}}t[n]=this.parseBalance(d)}return t}parseFuturesBalance(e){const t={info:e,timestamp:void 0,datetime:void 0},i=this.safeValue(e,"info",{}),s=Object.keys(i);for(let r=0;r<s.length;r++){const e=s[r],a=this.safeCurrencyCode(e),n=this.safeValue(i,e,{}),o=this.account(),c=this.safeNumber(n,"total_avail_balance");if("fixed"===this.safeString(n,"margin_mode")){const e=this.safeValue(n,"contracts",[]);let t=c;for(let i=0;i<e.length;i++){const s=e[i],r=this.safeNumber(s,"fixed_balance"),a=this.safeNumber(s,"realized_pnl"),n=this.safeNumber(s,"margin_frozen"),o=this.safeNumber(s,"margin_for_unfilled"),c=this.sum(r,a)-n-o;t=this.sum(t,c)}o["free"]=t}else{const e=this.safeNumber(n,"realized_pnl"),t=this.safeNumber(n,"unrealized_pnl"),i=this.safeNumber(n,"margin_frozen"),s=this.safeNumber(n,"margin_for_unfilled");o["free"]=this.sum(c,e,t)-i-s}o["total"]=this.safeNumber(n,"equity"),t[a]=o}return this.parseBalance(t)}parseSwapBalance(e){const t={info:e};let i=void 0;const s=this.safeValue(e,"info",[]);for(let r=0;r<s.length;r++){const e=s[r],a=this.safeString(e,"instrument_id");let n=a;a in this.markets_by_id&&(n=this.markets_by_id[a]["symbol"]);const o=this.parse8601(this.safeString(e,"timestamp"));i=void 0===i?o:Math.max(i,o);const c=this.account();c["total"]=this.safeNumber(e,"equity"),c["free"]=this.safeNumber(e,"total_avail_balance"),t[n]=c}return t["timestamp"]=i,t["datetime"]=this.iso8601(i),this.parseBalance(t)}async fetchBalance(e={}){const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new o(this.id+" fetchBalance() requires a type parameter (one of 'account', 'spot', 'margin', 'futures', 'swap')");await this.loadMarkets();const s="account"===i?"Wallet":"Accounts",r=i+"Get"+s,a=this.omit(e,"type"),n=await this[r](a);return this.parseBalanceByType(i,n)}parseBalanceByType(e,t){if("account"===e||"spot"===e)return this.parseAccountBalance(t);if("margin"===e)return this.parseMarginBalance(t);if("futures"===e)return this.parseFuturesBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new w(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e);let o={instrument_id:n["id"]};const c=this.safeString2(a,"client_oid","clientOrderId");void 0!==c&&(o["client_oid"]=c,a=this.omit(a,["client_oid","clientOrderId"]));let d=void 0;if(n["futures"]||n["swap"]){const i=n["futures"]?this.numberToString(s):this.amountToPrecision(e,s);o=this.extend(o,{type:t,size:i});const c=this.safeString(a,"order_type"),h="market"===t||"4"===c;h?o["order_type"]="4":o["price"]=this.priceToPrecision(e,r),n["futures"]&&(o["leverage"]="10"),d=n["type"]+"PostOrder"}else{const c=this.safeString(a,"margin_trading","1");if(o=this.extend(o,{side:i,type:t,margin_trading:c}),"limit"===t)o["price"]=this.priceToPrecision(e,r),o["size"]=this.amountToPrecision(e,s);else if("market"===t)if("buy"===i){let e=this.safeNumber(a,"notional");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==r)void 0===e&&(e=s*r);else if(void 0===e)throw new g(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?s:e;const i=n["precision"]["price"];o["notional"]=this.decimalToPrecision(e,O,i,this.precisionMode)}else o["size"]=this.amountToPrecision(e,s);d="2"===c?"marginPostOrders":"spotPostOrders"}const h=await this[d](this.extend(o,a)),u=this.parseOrder(h,n);return this.extend(u,{type:t,side:i})}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t);let r=void 0;if(s["futures"]||s["swap"])r=s["type"];else{const e=this.safeString2(this.options,"cancelOrder","defaultType",s["type"]);r=this.safeString(i,"type",e)}if(void 0===r)throw new o(this.id+" cancelOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");let a=r+"PostCancelOrder";const n={instrument_id:s["id"]};s["futures"]||s["swap"]?a+="InstrumentId":a+="s";const c=this.safeString2(i,"client_oid","clientOrderId");void 0!==c?(a+="ClientOid",n["client_oid"]=c):(a+="OrderId",n["order_id"]=e);const d=this.omit(i,["type","client_oid","clientOrderId"]),h=await this[a](this.extend(n,d)),u="result"in h?h:this.safeValue(h,s["id"],{});return this.parseOrder(u,s)}parseOrderStatus(e){const t={"-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"};return this.safeString(t,e,e)}parseOrderSide(e){const t={1:"buy",2:"sell",3:"sell",4:"buy"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),s=this.parse8601(this.safeString(e,"timestamp"));let r=this.safeString(e,"side");const a=this.safeString(e,"type");"buy"!==r&&"sell"!==r&&(r=this.parseOrderSide(a));let n=void 0;const o=this.safeString(e,"instrument_id");o in this.markets_by_id?(t=this.markets_by_id[o],n=t["symbol"]):n=o,void 0!==t&&void 0===n&&(n=t["symbol"]);let c=this.safeNumber(e,"size");const d=this.safeNumber2(e,"filled_size","filled_qty");let h=void 0;void 0!==c&&void 0!==d&&(c=Math.max(c,d),h=Math.max(0,c-d)),"market"===a&&(h=0);let u=this.safeNumber2(e,"filled_notional","funds");const l=this.safeNumber(e,"price");let f=this.safeNumber(e,"price_avg");void 0===u?void 0!==d&&void 0!==f&&(u=f*d):void 0===f&&void 0!==d&&d>0&&(f=u/d);const p=this.parseOrderStatus(this.safeString(e,"state")),m=this.safeNumber(e,"fee");let g=void 0;if(void 0!==m){const e=void 0;g={cost:m,currency:e}}let y=this.safeString(e,"client_oid");void 0!==y&&y.length<1&&(y=void 0);const v=this.safeNumber(e,"trigger_price");return{info:e,id:i,clientOrderId:y,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:n,type:a,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:v,average:f,cost:u,amount:c,filled:d,remaining:h,status:p,fee:g,trades:void 0}}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=this.safeString2(this.options,"fetchOrder","defaultType",s["type"]),a=this.safeString(i,"type",r);if(void 0===a)throw new o(this.id+" fetchOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");const n=s["futures"]||s["swap"]?"InstrumentId":"";let c=a+"GetOrders"+n;const d={instrument_id:s["id"]},h=this.safeString(i,"client_oid");void 0!==h?(c+="ClientOid",d["client_oid"]=h):(c+="OrderId",d["order_id"]=e);const u=this.omit(i,"type"),l=await this[c](this.extend(d,u));return this.parseOrder(l)}async fetchOrdersByState(e,t,i,s,r={}){if(void 0===t)throw new o(this.id+" fetchOrdersByState() requires a symbol argument");await this.loadMarkets();const a=this.market(t);let n=void 0;if(a["futures"]||a["swap"])n=a["type"];else{const e=this.safeString2(this.options,"fetchOrder","defaultType",a["type"]);n=this.safeString(r,"type",e)}if(void 0===n)throw new o(this.id+" fetchOrdersByState() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");const c={instrument_id:a["id"],state:e};let d=n+"GetOrders";(a["futures"]||a["swap"])&&(d+="InstrumentId");const h=this.omit(r,"type"),u=await this[d](this.extend(c,h));let l=void 0;if(a["swap"]||a["futures"])l=this.safeValue(u,"order_info",[]);else{l=u;const e=u.length;if(e<1)return[];if(e>1){const e=this.safeValue(u[1],"before");void 0!==e&&(l=u[0])}}return this.parseOrders(l,a,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByState("6",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByState("7",e,t,i,s)}parseDepositAddress(e,t){const i=this.safeString(e,"address");let s=this.safeString2(e,"tag","payment_id");s=this.safeString2(e,"memo","Memo",s);const r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r);return this.checkAddress(i),{currency:a,address:i,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=e.split("-"),s=this.currency(i[0]),r={currency:s["id"]},a=await this.accountGetDepositAddress(this.extend(r,t)),n=this.parseDepositAddresses(a),o=this.safeValue(n,e);if(void 0===o)throw new h(this.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");return o}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);s&&(i=i+":"+s);const c=this.safeString(a,"fee");if(void 0===c)throw new o(this.id+" withdraw() requires a `fee` string parameter, network transaction fee must be  0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const d={currency:n["id"],to_address:i,destination:"4",amount:this.numberToString(t),fee:c};"password"in a?d["trade_pwd"]=a["password"]:"trade_pwd"in a?d["trade_pwd"]=a["trade_pwd"]:this.password&&(d["trade_pwd"]=this.password);const h=this.omit(a,["fee","password","trade_pwd"]);if(!("trade_pwd"in d))throw new r(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");const u=await this.accountPostWithdrawal(this.extend(d,h));return{info:u,id:this.safeString(u,"withdrawal_id")}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a="accountGetDepositHistory",n=void 0;void 0!==e&&(n=this.currency(e),r["currency"]=n["id"],a+="Currency");const o=await this[a](this.extend(r,s));return this.parseTransactions(o,n,t,i,s)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a="accountGetWithdrawalHistory",n=void 0;void 0!==e&&(n=this.currency(e),r["currency"]=n["id"],a+="Currency");const o=await this[a](this.extend(r,s));return this.parseTransactions(o,n,t,i,s)}parseTransactionStatus(e){const t={"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0,s=void 0,r=void 0;const a=this.safeString(e,"withdrawal_id"),n=this.safeString(e,"from"),o=this.safeString(e,"to"),c=this.safeString(e,"tag");void 0!==a?(i="withdrawal",s=a,r=o):(s=this.safeString2(e,"payment_id","deposit_id"),i="deposit",r=o);const d=this.safeString(e,"currency"),h=this.safeCurrencyCode(d),u=this.safeNumber(e,"amount"),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeString(e,"txid"),p=this.parse8601(this.safeString(e,"timestamp"));let m=void 0;if("deposit"===i)m=0;else if(void 0!==d){const t=this.safeString(e,"fee");if(void 0!==t){const e=d.toLowerCase(),i=t.replace(e,"");m=parseFloat(i)}}return{info:e,id:s,currency:h,amount:u,addressFrom:n,addressTo:o,address:r,tagFrom:void 0,tagTo:c,tag:c,status:l,type:i,updated:void 0,txid:f,timestamp:p,datetime:this.iso8601(p),fee:{currency:h,cost:m}}}parseMyTrade(e,t){const i=this.safeValue(e,1),s=this.safeValue(e,0),r=this.safeString(s,"instrument_id"),a=this.safeString(i,"instrument_id");if(r!==a)throw new w(this.id+" parseMyTrade() received unrecognized response format, differing instrument_ids in one fill, the exchange API might have changed, paste your verbose output: https://github.com/ccxt/ccxt/wiki/FAQ#what-is-required-to-get-help");const n=r;t=this.safeMarket(n,t);const o=t["symbol"],c=t["quoteId"];let d=void 0,h=void 0,u=void 0;const l=this.safeString(i,"currency");let f=void 0;l===c?(d=this.safeString(s,"side"),h=this.safeNumber(s,"size"),u=this.safeNumber(i,"size"),f=this.safeString(s,"currency")):(d=this.safeString(i,"side"),h=this.safeNumber(i,"size"),u=this.safeNumber(s,"size"),f=this.safeString(i,"currency"));const p=this.safeString(i,"trade_id"),m=this.safeNumber(i,"price"),g=this.safeNumber(s,"fee"),y=this.safeNumber(i,"fee"),v=this.safeCurrencyCode(this.safeString(s,"currency")),b=this.safeCurrencyCode(this.safeString(i,"currency"));let k=void 0,S=void 0;void 0!==g&&0!==g?void 0!==y&&0!==y?S=[{cost:-g,currency:v},{cost:-y,currency:b}]:k={cost:-g,currency:v}:k=void 0!==y&&0!==y?{cost:-y,currency:b}:{cost:0,currency:this.safeCurrencyCode(f)};const _=this.parse8601(this.safeString2(i,"timestamp","created_at"));let O=this.safeString2(i,"exec_type","liquidity");"M"===O?O="maker":"T"===O&&(O="taker");const T=this.safeString(i,"order_id"),C={info:e,timestamp:_,datetime:this.iso8601(_),symbol:o,id:p,order:T,type:void 0,takerOrMaker:O,side:d,price:m,amount:h,cost:u,fee:k};return void 0!==S&&(C["fees"]=S),C}parseMyTrades(e,t,i,s,r={}){const a=this.groupBy(e,"trade_id"),n=Object.keys(a),o=[];for(let d=0;d<n.length;d++){const e=n[d],t=a[e],i=t.length;if(2===i){const e=this.parseMyTrade(t);o.push(e)}}let c=void 0;return void 0!==t&&(c=t["symbol"]),this.filterBySymbolSinceLimit(o,c,i,s)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e);void 0!==i&&i>100&&(i=100);const a={instrument_id:r["id"]},n=this.safeString2(this.options,"fetchMyTrades","defaultType"),c=this.safeString(s,"type",n),d=this.omit(s,"type"),h=c+"GetFills",u=await this[h](this.extend(a,d));return this.parseMyTrades(u,r,t,i,s)}async fetchOrderTrades(e,t,i,s,r={}){const a={order_id:e};return await this.fetchMyTrades(t,i,s,this.extend(a,r))}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e);let s=void 0;const r={instrument_id:i["id"]},a=i["type"];if("futures"===a||"swap"===a)s=a+"GetInstrumentIdPosition";else{if("option"!==a)throw new w(this.id+" fetchPosition() does not support "+a+" market "+e+", supported market types are futures, swap or option");{const i=this.safeString(t,"underlying");if(void 0===i)throw new o(this.id+" fetchPosition() requires an underlying parameter for "+a+" market "+e);s=a+"GetUnderlyingPosition"}}const n=await this[s](this.extend(r,t));return n}async fetchPositions(e,t={}){await this.loadMarkets();let i=void 0;const s=this.safeString2(this.options,"fetchPositions","defaultType"),r=this.safeString(t,"type",s);if("futures"===r||"swap"===r)i=r+"GetPosition";else{if("option"!==r)throw new w(this.id+" fetchPositions() does not support "+r+" markets, supported market types are futures, swap or option");{const e=this.safeString(t,"underlying");if(void 0===e)throw new o(this.id+" fetchPositions() requires an underlying parameter for "+r+" markets");i=r+"GetUnderlyingPosition"}}t=this.omit(t,"type");const a=await this[i](t);return a}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r=this.safeString2(this.options,"fetchLedger","defaultType"),a=this.safeString(s,"type",r),n=this.omit(s,"type"),c="account"===a?"":"Accounts";let d="";const h={};void 0!==i&&(h["limit"]=i);let u=void 0;if("spot"===a){if(void 0===e)throw new o(this.id+" fetchLedger() requires a currency code argument for '"+a+"' markets");d="Currency",u=this.currency(e),h["currency"]=u["id"]}else if("futures"===a){if(void 0===e)throw new o(this.id+" fetchLedger() requires an underlying symbol for '"+a+"' markets");d="Underlying";const t=this.market(e),i=this.safeValue(t,"info",{}),s=this.safeString(i,"settlement_currency"),r=this.safeCurrencyCode(s);u=this.currency(r);const n=this.safeString(i,"underlying");h["underlying"]=n}else if("margin"===a||"swap"===a){if(void 0===e)throw new o(this.id+" fetchLedger() requires a code argument (a market symbol) for '"+a+"' markets");d="InstrumentId";const t=this.market(e);u=this.currency(t["base"]),h["instrument_id"]=t["id"]}else{if("account"!==a)throw new w(this.id+" fetchLedger does not support the '"+a+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')");void 0!==e&&(u=this.currency(e),h["currency"]=u["id"])}const l=a+"Get"+c+d+"Ledger",f=await this[l](this.extend(h,n)),p=f.length;if(p<1)return[];const m=Array.isArray(f[0]),g="margin"===a,y=g&&m?f[0]:f;if("swap"===a){const s=this.parseLedger(y);return this.filterBySymbolSinceLimit(s,e,t,i)}return this.parseLedger(y,u,t,i)}parseLedgerEntryType(e){const t={transfer:"transfer",trade:"trade",rebate:"rebate",match:"trade",fee:"fee",settlement:"trade",liquidation:"trade",funding:"fee",margin:"margin"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"ledger_id"),s=void 0,r=this.safeValue(e,"details",{}),a=this.safeString(r,"order_id"),n=void 0,o=this.parseLedgerEntryType(this.safeString(e,"type")),c=this.safeCurrencyCode(this.safeString(e,"currency"),t),d=this.safeNumber(e,"amount"),h=this.parse8601(this.safeString(e,"timestamp")),u={cost:this.safeNumber(e,"fee"),currency:c},l=void 0,f=this.safeNumber(e,"balance"),p="ok",m=this.safeString(e,"instrument_id");let g=void 0;if(m in this.markets_by_id){const e=this.markets_by_id[m];g=e["symbol"]}return{info:e,id:i,account:s,referenceId:a,referenceAccount:n,type:o,currency:c,symbol:g,amount:d,before:l,after:f,status:p,timestamp:h,datetime:this.iso8601(h),fee:u}}sign(e,t="public",i="GET",s={},r,a){const n=Array.isArray(s);let o="/api/"+t+"/"+this.version+"/";o+=n?e:this.implodeParams(e,s);const c=n?s:this.omit(s,this.extractParams(e));let d=this.implodeHostname(this.urls["api"]["rest"])+o;const h=this.getPathAuthenticationType(e);if("public"===h)Object.keys(c).length&&(d+="?"+this.urlencode(c));else if("private"===h){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());r={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);d+=e,t+=e}}else(n||Object.keys(c).length)&&(a=this.json(c),t+=a),r["Content-Type"]="application/json";const s=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");r["OK-ACCESS-SIGN"]=s}return{url:d,method:i,body:a,headers:r}}getPathAuthenticationType(e){if("underlying"===e)return"public";const t=this.safeValue(this.options,"auth",{}),i=this.findBroadlyMatchedKey(t,e);return this.safeString(t,i,"private")}handleErrors(e,t,i,s,n,o,c,d,h){if(!c)return;const u=this.id+" "+o;if(503===e)throw new a(u);const l=this.safeString(c,"message"),f=this.safeString2(c,"code","error_code"),p=void 0!==l&&""!==l,m=void 0!==f&&"0"!==f;if(p&&(this.throwExactlyMatchedException(this.exceptions["exact"],l,u),this.throwBroadlyMatchedException(this.exceptions["broad"],l,u)),m&&this.throwExactlyMatchedException(this.exceptions["exact"],f,u),m||p)throw new r(u)}}},"2af6":function(e,t,i){var s=i("5259");i("6497"),i("3609"),i("de46");var r=e.exports=s.pkcs1=s.pkcs1||{};function a(e,t,i){i||(i=s.md.sha1.create());for(var r="",a=Math.ceil(t/i.digestLength),n=0;n<a;++n){var o=String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,255&n);i.start(),i.update(e+o),r+=i.digest().getBytes()}return r.substring(0,t)}r.encode_rsa_oaep=function(e,t,i){var r,n,o,c;"string"===typeof i?(r=i,n=arguments[3]||void 0,o=arguments[4]||void 0):i&&(r=i.label||void 0,n=i.seed||void 0,o=i.md||void 0,i.mgf1&&i.mgf1.md&&(c=i.mgf1.md)),o?o.start():o=s.md.sha1.create(),c||(c=o);var d=Math.ceil(e.n.bitLength()/8),h=d-2*o.digestLength-2;if(t.length>h){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=h,u}r||(r=""),o.update(r,"raw");for(var l=o.digest(),f="",p=h-t.length,m=0;m<p;m++)f+="\0";var g=l.getBytes()+f+""+t;if(n){if(n.length!==o.digestLength){u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=n.length,u.digestLength=o.digestLength,u}}else n=s.random.getBytes(o.digestLength);var y=a(n,d-o.digestLength-1,c),v=s.util.xorBytes(g,y,g.length),b=a(v,o.digestLength,c),w=s.util.xorBytes(n,b,n.length);return"\0"+w+v},r.decode_rsa_oaep=function(e,t,i){var r,n,o;"string"===typeof i?(r=i,n=arguments[3]||void 0):i&&(r=i.label||void 0,n=i.md||void 0,i.mgf1&&i.mgf1.md&&(o=i.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c){var d=new Error("RSAES-OAEP encoded message length is invalid.");throw d.length=t.length,d.expectedLength=c,d}if(void 0===n?n=s.md.sha1.create():n.start(),o||(o=n),c<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");r||(r=""),n.update(r,"raw");for(var h=n.digest().getBytes(),u=t.charAt(0),l=t.substring(1,n.digestLength+1),f=t.substring(1+n.digestLength),p=a(f,n.digestLength,o),m=s.util.xorBytes(l,p,l.length),g=a(m,c-n.digestLength-1,o),y=s.util.xorBytes(f,g,f.length),v=y.substring(0,n.digestLength),b=(d="\0"!==u,0);b<n.digestLength;++b)d|=h.charAt(b)!==v.charAt(b);for(var w=1,k=n.digestLength,S=n.digestLength;S<y.length;S++){var _=y.charCodeAt(S),O=1&_^1,T=w?65534:0;d|=_&T,w&=O,k+=w}if(d||1!==y.charCodeAt(k))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(k+1)}},"2b0e":function(e,t,i){"use strict";(function(e){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function s(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function a(e){return!0===e}function n(e){return!1===e}function o(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var d=Object.prototype.toString;function h(e){return"[object Object]"===d.call(e)}function u(e){return"[object RegExp]"===d.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var i=Object.create(null),s=e.split(","),r=0;r<s.length;r++)i[s[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}g("slot,component",!0);var y=g("key,ref,slot,slot-scope,is");function v(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var b=Object.prototype.hasOwnProperty;function w(e,t){return b.call(e,t)}function k(e){var t=Object.create(null);return function(i){var s=t[i];return s||(t[i]=e(i))}}var S=/-(\w)/g,_=k((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),O=k((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,C=k((function(e){return e.replace(T,"-$1").toLowerCase()}));function x(e,t){function i(i){var s=arguments.length;return s?s>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function I(e,t){return e.bind(t)}var E=Function.prototype.bind?I:x;function A(e,t){t=t||0;var i=e.length-t,s=new Array(i);while(i--)s[i]=e[i+t];return s}function N(e,t){for(var i in t)e[i]=t[i];return e}function M(e){for(var t={},i=0;i<e.length;i++)e[i]&&N(t,e[i]);return t}function P(e,t,i){}var B=function(e,t,i){return!1},R=function(e){return e};function L(e,t){if(e===t)return!0;var i=c(e),s=c(t);if(!i||!s)return!i&&!s&&String(e)===String(t);try{var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return e.length===t.length&&e.every((function(e,i){return L(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||a)return!1;var n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((function(i){return L(e[i],t[i])}))}catch(d){return!1}}function V(e,t){for(var i=0;i<e.length;i++)if(L(e[i],t))return i;return-1}function D(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var q="data-server-rendered",j=["component","directive","filter"],G=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:P,parsePlatformTagName:R,mustUseProp:B,async:!0,_lifecycleHooks:G},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function z(e,t,i,s){Object.defineProperty(e,t,{value:i,enumerable:!!s,writable:!0,configurable:!0})}var K=new RegExp("[^"+F.source+".$_\\d]");function W(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var $,Y="__proto__"in{},X="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=Z&&WXEnvironment.platform.toLowerCase(),J=X&&window.navigator.userAgent.toLowerCase(),ee=J&&/msie|trident/.test(J),te=J&&J.indexOf("msie 9.0")>0,ie=J&&J.indexOf("edge/")>0,se=(J&&J.indexOf("android"),J&&/iphone|ipad|ipod|ios/.test(J)||"ios"===Q),re=(J&&/chrome\/\d+/.test(J),J&&/phantomjs/.test(J),J&&J.match(/firefox\/(\d+)/)),ae={}.watch,ne=!1;if(X)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,oe)}catch(_n){}var ce=function(){return void 0===$&&($=!X&&!Z&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),$},de=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function he(e){return"function"===typeof e&&/native code/.test(e.toString())}var ue,le="undefined"!==typeof Symbol&&he(Symbol)&&"undefined"!==typeof Reflect&&he(Reflect.ownKeys);ue="undefined"!==typeof Set&&he(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var fe=P,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){v(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},me.target=null;var ge=[];function ye(e){ge.push(e),me.target=e}function ve(){ge.pop(),me.target=ge[ge.length-1]}var be=function(e,t,i,s,r,a,n,o){this.tag=e,this.data=t,this.children=i,this.text=s,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=n,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},we={child:{configurable:!0}};we.child.get=function(){return this.componentInstance},Object.defineProperties(be.prototype,we);var ke=function(e){void 0===e&&(e="");var t=new be;return t.text=e,t.isComment=!0,t};function Se(e){return new be(void 0,void 0,void 0,String(e))}function _e(e){var t=new be(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Oe=Array.prototype,Te=Object.create(Oe),Ce=["push","pop","shift","unshift","splice","sort","reverse"];Ce.forEach((function(e){var t=Oe[e];z(Te,e,(function(){var i=[],s=arguments.length;while(s--)i[s]=arguments[s];var r,a=t.apply(this,i),n=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&n.observeArray(r),n.dep.notify(),a}))}));var xe=Object.getOwnPropertyNames(Te),Ie=!0;function Ee(e){Ie=e}var Ae=function(e){this.value=e,this.dep=new me,this.vmCount=0,z(e,"__ob__",this),Array.isArray(e)?(Y?Ne(e,Te):Me(e,Te,xe),this.observeArray(e)):this.walk(e)};function Ne(e,t){e.__proto__=t}function Me(e,t,i){for(var s=0,r=i.length;s<r;s++){var a=i[s];z(e,a,t[a])}}function Pe(e,t){var i;if(c(e)&&!(e instanceof be))return w(e,"__ob__")&&e.__ob__ instanceof Ae?i=e.__ob__:Ie&&!ce()&&(Array.isArray(e)||h(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Ae(e)),t&&i&&i.vmCount++,i}function Be(e,t,i,s,r){var a=new me,n=Object.getOwnPropertyDescriptor(e,t);if(!n||!1!==n.configurable){var o=n&&n.get,c=n&&n.set;o&&!c||2!==arguments.length||(i=e[t]);var d=!r&&Pe(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=o?o.call(e):i;return me.target&&(a.depend(),d&&(d.dep.depend(),Array.isArray(t)&&Ve(t))),t},set:function(t){var s=o?o.call(e):i;t===s||t!==t&&s!==s||o&&!c||(c?c.call(e,t):i=t,d=!r&&Pe(t),a.notify())}})}}function Re(e,t,i){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var s=e.__ob__;return e._isVue||s&&s.vmCount?i:s?(Be(s.value,t,i),s.dep.notify(),i):(e[t]=i,i)}function Le(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||w(e,t)&&(delete e[t],i&&i.dep.notify())}}function Ve(e){for(var t=void 0,i=0,s=e.length;i<s;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ve(t)}Ae.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Be(e,t[i])},Ae.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Pe(e[t])};var De=U.optionMergeStrategies;function qe(e,t){if(!t)return e;for(var i,s,r,a=le?Reflect.ownKeys(t):Object.keys(t),n=0;n<a.length;n++)i=a[n],"__ob__"!==i&&(s=e[i],r=t[i],w(e,i)?s!==r&&h(s)&&h(r)&&qe(s,r):Re(e,i,r));return e}function je(e,t,i){return i?function(){var s="function"===typeof t?t.call(i,i):t,r="function"===typeof e?e.call(i,i):e;return s?qe(s,r):r}:t?e?function(){return qe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Ge(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?Ue(i):i}function Ue(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Fe(e,t,i,s){var r=Object.create(e||null);return t?N(r,t):r}De.data=function(e,t,i){return i?je(e,t,i):t&&"function"!==typeof t?e:je(e,t)},G.forEach((function(e){De[e]=Ge})),j.forEach((function(e){De[e+"s"]=Fe})),De.watch=function(e,t,i,s){if(e===ae&&(e=void 0),t===ae&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var a in N(r,e),t){var n=r[a],o=t[a];n&&!Array.isArray(n)&&(n=[n]),r[a]=n?n.concat(o):Array.isArray(o)?o:[o]}return r},De.props=De.methods=De.inject=De.computed=function(e,t,i,s){if(!e)return t;var r=Object.create(null);return N(r,e),t&&N(r,t),r},De.provide=je;var He=function(e,t){return void 0===t?e:t};function ze(e,t){var i=e.props;if(i){var s,r,a,n={};if(Array.isArray(i)){s=i.length;while(s--)r=i[s],"string"===typeof r&&(a=_(r),n[a]={type:null})}else if(h(i))for(var o in i)r=i[o],a=_(o),n[a]=h(r)?r:{type:r};else 0;e.props=n}}function Ke(e,t){var i=e.inject;if(i){var s=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)s[i[r]]={from:i[r]};else if(h(i))for(var a in i){var n=i[a];s[a]=h(n)?N({from:a},n):{from:n}}else 0}}function We(e){var t=e.directives;if(t)for(var i in t){var s=t[i];"function"===typeof s&&(t[i]={bind:s,update:s})}}function $e(e,t,i){if("function"===typeof t&&(t=t.options),ze(t,i),Ke(t,i),We(t),!t._base&&(t.extends&&(e=$e(e,t.extends,i)),t.mixins))for(var s=0,r=t.mixins.length;s<r;s++)e=$e(e,t.mixins[s],i);var a,n={};for(a in e)o(a);for(a in t)w(e,a)||o(a);function o(s){var r=De[s]||He;n[s]=r(e[s],t[s],i,s)}return n}function Ye(e,t,i,s){if("string"===typeof i){var r=e[t];if(w(r,i))return r[i];var a=_(i);if(w(r,a))return r[a];var n=O(a);if(w(r,n))return r[n];var o=r[i]||r[a]||r[n];return o}}function Xe(e,t,i,s){var r=t[e],a=!w(i,e),n=i[e],o=tt(Boolean,r.type);if(o>-1)if(a&&!w(r,"default"))n=!1;else if(""===n||n===C(e)){var c=tt(String,r.type);(c<0||o<c)&&(n=!0)}if(void 0===n){n=Ze(s,r,e);var d=Ie;Ee(!0),Pe(n),Ee(d)}return n}function Ze(e,t,i){if(w(t,"default")){var s=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"===typeof s&&"Function"!==Je(t.type)?s.call(e):s}}var Qe=/^\s*function (\w+)/;function Je(e){var t=e&&e.toString().match(Qe);return t?t[1]:""}function et(e,t){return Je(e)===Je(t)}function tt(e,t){if(!Array.isArray(t))return et(t,e)?0:-1;for(var i=0,s=t.length;i<s;i++)if(et(t[i],e))return i;return-1}function it(e,t,i){ye();try{if(t){var s=t;while(s=s.$parent){var r=s.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var n=!1===r[a].call(s,e,t,i);if(n)return}catch(_n){rt(_n,s,"errorCaptured hook")}}}rt(e,t,i)}finally{ve()}}function st(e,t,i,s,r){var a;try{a=i?e.apply(t,i):e.call(t),a&&!a._isVue&&f(a)&&!a._handled&&(a.catch((function(e){return it(e,s,r+" (Promise/async)")})),a._handled=!0)}catch(_n){it(_n,s,r)}return a}function rt(e,t,i){if(U.errorHandler)try{return U.errorHandler.call(null,e,t,i)}catch(_n){_n!==e&&at(_n,null,"config.errorHandler")}at(e,t,i)}function at(e,t,i){if(!X&&!Z||"undefined"===typeof console)throw e;console.error(e)}var nt,ot=!1,ct=[],dt=!1;function ht(){dt=!1;var e=ct.slice(0);ct.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&he(Promise)){var ut=Promise.resolve();nt=function(){ut.then(ht),se&&setTimeout(P)},ot=!0}else if(ee||"undefined"===typeof MutationObserver||!he(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())nt="undefined"!==typeof setImmediate&&he(setImmediate)?function(){setImmediate(ht)}:function(){setTimeout(ht,0)};else{var lt=1,ft=new MutationObserver(ht),pt=document.createTextNode(String(lt));ft.observe(pt,{characterData:!0}),nt=function(){lt=(lt+1)%2,pt.data=String(lt)},ot=!0}function mt(e,t){var i;if(ct.push((function(){if(e)try{e.call(t)}catch(_n){it(_n,t,"nextTick")}else i&&i(t)})),dt||(dt=!0,nt()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var gt=new ue;function yt(e){vt(e,gt),gt.clear()}function vt(e,t){var i,s,r=Array.isArray(e);if(!(!r&&!c(e)||Object.isFrozen(e)||e instanceof be)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(r){i=e.length;while(i--)vt(e[i],t)}else{s=Object.keys(e),i=s.length;while(i--)vt(e[s[i]],t)}}}var bt=k((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var s="!"===e.charAt(0);return e=s?e.slice(1):e,{name:e,once:i,capture:s,passive:t}}));function wt(e,t){function i(){var e=arguments,s=i.fns;if(!Array.isArray(s))return st(s,null,arguments,t,"v-on handler");for(var r=s.slice(),a=0;a<r.length;a++)st(r[a],null,e,t,"v-on handler")}return i.fns=e,i}function kt(e,t,i,r,n,o){var c,d,h,u;for(c in e)d=e[c],h=t[c],u=bt(c),s(d)||(s(h)?(s(d.fns)&&(d=e[c]=wt(d,o)),a(u.once)&&(d=e[c]=n(u.name,d,u.capture)),i(u.name,d,u.capture,u.passive,u.params)):d!==h&&(h.fns=d,e[c]=h));for(c in t)s(e[c])&&(u=bt(c),r(u.name,t[c],u.capture))}function St(e,t,i){var n;e instanceof be&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function c(){i.apply(this,arguments),v(n.fns,c)}s(o)?n=wt([c]):r(o.fns)&&a(o.merged)?(n=o,n.fns.push(c)):n=wt([o,c]),n.merged=!0,e[t]=n}function _t(e,t,i){var a=t.options.props;if(!s(a)){var n={},o=e.attrs,c=e.props;if(r(o)||r(c))for(var d in a){var h=C(d);Ot(n,c,d,h,!0)||Ot(n,o,d,h,!1)}return n}}function Ot(e,t,i,s,a){if(r(t)){if(w(t,i))return e[i]=t[i],a||delete t[i],!0;if(w(t,s))return e[i]=t[s],a||delete t[s],!0}return!1}function Tt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ct(e){return o(e)?[Se(e)]:Array.isArray(e)?It(e):void 0}function xt(e){return r(e)&&r(e.text)&&n(e.isComment)}function It(e,t){var i,n,c,d,h=[];for(i=0;i<e.length;i++)n=e[i],s(n)||"boolean"===typeof n||(c=h.length-1,d=h[c],Array.isArray(n)?n.length>0&&(n=It(n,(t||"")+"_"+i),xt(n[0])&&xt(d)&&(h[c]=Se(d.text+n[0].text),n.shift()),h.push.apply(h,n)):o(n)?xt(d)?h[c]=Se(d.text+n):""!==n&&h.push(Se(n)):xt(n)&&xt(d)?h[c]=Se(d.text+n.text):(a(e._isVList)&&r(n.tag)&&s(n.key)&&r(t)&&(n.key="__vlist"+t+"_"+i+"__"),h.push(n)));return h}function Et(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function At(e){var t=Nt(e.$options.inject,e);t&&(Ee(!1),Object.keys(t).forEach((function(i){Be(e,i,t[i])})),Ee(!0))}function Nt(e,t){if(e){for(var i=Object.create(null),s=le?Reflect.ownKeys(e):Object.keys(e),r=0;r<s.length;r++){var a=s[r];if("__ob__"!==a){var n=e[a].from,o=t;while(o){if(o._provided&&w(o._provided,n)){i[a]=o._provided[n];break}o=o.$parent}if(!o)if("default"in e[a]){var c=e[a].default;i[a]="function"===typeof c?c.call(t):c}else 0}}return i}}function Mt(e,t){if(!e||!e.length)return{};for(var i={},s=0,r=e.length;s<r;s++){var a=e[s],n=a.data;if(n&&n.attrs&&n.attrs.slot&&delete n.attrs.slot,a.context!==t&&a.fnContext!==t||!n||null==n.slot)(i.default||(i.default=[])).push(a);else{var o=n.slot,c=i[o]||(i[o]=[]);"template"===a.tag?c.push.apply(c,a.children||[]):c.push(a)}}for(var d in i)i[d].every(Pt)&&delete i[d];return i}function Pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Bt(e){return e.isComment&&e.asyncFactory}function Rt(e,t,s){var r,a=Object.keys(t).length>0,n=e?!!e.$stable:!a,o=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(n&&s&&s!==i&&o===s.$key&&!a&&!s.$hasNormal)return s;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=Lt(t,c,e[c]))}else r={};for(var d in t)d in r||(r[d]=Vt(t,d));return e&&Object.isExtensible(e)&&(e._normalized=r),z(r,"$stable",n),z(r,"$key",o),z(r,"$hasNormal",a),r}function Lt(e,t,i){var s=function(){var e=arguments.length?i.apply(null,arguments):i({});e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Ct(e);var t=e&&e[0];return e&&(!t||1===e.length&&t.isComment&&!Bt(t))?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:s,enumerable:!0,configurable:!0}),s}function Vt(e,t){return function(){return e[t]}}function Dt(e,t){var i,s,a,n,o;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),s=0,a=e.length;s<a;s++)i[s]=t(e[s],s);else if("number"===typeof e)for(i=new Array(e),s=0;s<e;s++)i[s]=t(s+1,s);else if(c(e))if(le&&e[Symbol.iterator]){i=[];var d=e[Symbol.iterator](),h=d.next();while(!h.done)i.push(t(h.value,i.length)),h=d.next()}else for(n=Object.keys(e),i=new Array(n.length),s=0,a=n.length;s<a;s++)o=n[s],i[s]=t(e[o],o,s);return r(i)||(i=[]),i._isVList=!0,i}function qt(e,t,i,s){var r,a=this.$scopedSlots[e];a?(i=i||{},s&&(i=N(N({},s),i)),r=a(i)||("function"===typeof t?t():t)):r=this.$slots[e]||("function"===typeof t?t():t);var n=i&&i.slot;return n?this.$createElement("template",{slot:n},r):r}function jt(e){return Ye(this.$options,"filters",e,!0)||R}function Gt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ut(e,t,i,s,r){var a=U.keyCodes[t]||i;return r&&s&&!U.keyCodes[t]?Gt(r,s):a?Gt(a,e):s?C(s)!==t:void 0===e}function Ft(e,t,i,s,r){if(i)if(c(i)){var a;Array.isArray(i)&&(i=M(i));var n=function(n){if("class"===n||"style"===n||y(n))a=e;else{var o=e.attrs&&e.attrs.type;a=s||U.mustUseProp(t,o,n)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=_(n),d=C(n);if(!(c in a)&&!(d in a)&&(a[n]=i[n],r)){var h=e.on||(e.on={});h["update:"+n]=function(e){i[n]=e}}};for(var o in i)n(o)}else;return e}function Ht(e,t){var i=this._staticTrees||(this._staticTrees=[]),s=i[e];return s&&!t||(s=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Kt(s,"__static__"+e,!1)),s}function zt(e,t,i){return Kt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Kt(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)e[s]&&"string"!==typeof e[s]&&Wt(e[s],t+"_"+s,i);else Wt(e,t,i)}function Wt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function $t(e,t){if(t)if(h(t)){var i=e.on=e.on?N({},e.on):{};for(var s in t){var r=i[s],a=t[s];i[s]=r?[].concat(r,a):a}}else;return e}function Yt(e,t,i,s){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var a=e[r];Array.isArray(a)?Yt(a,t,i):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return s&&(t.$key=s),t}function Xt(e,t){for(var i=0;i<t.length;i+=2){var s=t[i];"string"===typeof s&&s&&(e[t[i]]=t[i+1])}return e}function Zt(e,t){return"string"===typeof e?t+e:e}function Qt(e){e._o=zt,e._n=m,e._s=p,e._l=Dt,e._t=qt,e._q=L,e._i=V,e._m=Ht,e._f=jt,e._k=Ut,e._b=Ft,e._v=Se,e._e=ke,e._u=Yt,e._g=$t,e._d=Xt,e._p=Zt}function Jt(e,t,s,r,n){var o,c=this,d=n.options;w(r,"_uid")?(o=Object.create(r),o._original=r):(o=r,r=r._original);var h=a(d._compiled),u=!h;this.data=e,this.props=t,this.children=s,this.parent=r,this.listeners=e.on||i,this.injections=Nt(d.inject,r),this.slots=function(){return c.$slots||Rt(e.scopedSlots,c.$slots=Mt(s,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Rt(e.scopedSlots,this.slots())}}),h&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=Rt(e.scopedSlots,this.$slots)),d._scopeId?this._c=function(e,t,i,s){var a=li(o,e,t,i,s,u);return a&&!Array.isArray(a)&&(a.fnScopeId=d._scopeId,a.fnContext=r),a}:this._c=function(e,t,i,s){return li(o,e,t,i,s,u)}}function ei(e,t,s,a,n){var o=e.options,c={},d=o.props;if(r(d))for(var h in d)c[h]=Xe(h,d,t||i);else r(s.attrs)&&ii(c,s.attrs),r(s.props)&&ii(c,s.props);var u=new Jt(s,c,n,a,e),l=o.render.call(null,u._c,u);if(l instanceof be)return ti(l,s,u.parent,o,u);if(Array.isArray(l)){for(var f=Ct(l)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=ti(f[m],s,u.parent,o,u);return p}}function ti(e,t,i,s,r){var a=_e(e);return a.fnContext=i,a.fnOptions=s,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function ii(e,t){for(var i in t)e[_(i)]=t[i]}Qt(Jt.prototype);var si={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;si.prepatch(i,i)}else{var s=e.componentInstance=ni(e,Ai);s.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,s=t.componentInstance=e.componentInstance;Ri(s,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,qi(i,"mounted")),e.data.keepAlive&&(t._isMounted?Qi(i):Vi(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Di(t,!0):t.$destroy())}},ri=Object.keys(si);function ai(e,t,i,n,o){if(!s(e)){var d=i.$options._base;if(c(e)&&(e=d.extend(e)),"function"===typeof e){var h;if(s(e.cid)&&(h=e,e=Si(h,d),void 0===e))return ki(h,t,i,n,o);t=t||{},ks(e),r(t.model)&&di(e.options,t);var u=_t(t,e,o);if(a(e.options.functional))return ei(e,u,t,i,n);var l=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}oi(t);var p=e.options.name||o,m=new be("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:u,listeners:l,tag:o,children:n},h);return m}}}function ni(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},s=e.data.inlineTemplate;return r(s)&&(i.render=s.render,i.staticRenderFns=s.staticRenderFns),new e.componentOptions.Ctor(i)}function oi(e){for(var t=e.hook||(e.hook={}),i=0;i<ri.length;i++){var s=ri[i],r=t[s],a=si[s];r===a||r&&r._merged||(t[s]=r?ci(a,r):a)}}function ci(e,t){var i=function(i,s){e(i,s),t(i,s)};return i._merged=!0,i}function di(e,t){var i=e.model&&e.model.prop||"value",s=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var a=t.on||(t.on={}),n=a[s],o=t.model.callback;r(n)?(Array.isArray(n)?-1===n.indexOf(o):n!==o)&&(a[s]=[o].concat(n)):a[s]=o}var hi=1,ui=2;function li(e,t,i,s,r,n){return(Array.isArray(i)||o(i))&&(r=s,s=i,i=void 0),a(n)&&(r=ui),fi(e,t,i,s,r)}function fi(e,t,i,s,a){if(r(i)&&r(i.__ob__))return ke();if(r(i)&&r(i.is)&&(t=i.is),!t)return ke();var n,o,c;(Array.isArray(s)&&"function"===typeof s[0]&&(i=i||{},i.scopedSlots={default:s[0]},s.length=0),a===ui?s=Ct(s):a===hi&&(s=Tt(s)),"string"===typeof t)?(o=e.$vnode&&e.$vnode.ns||U.getTagNamespace(t),n=U.isReservedTag(t)?new be(U.parsePlatformTagName(t),i,s,void 0,void 0,e):i&&i.pre||!r(c=Ye(e.$options,"components",t))?new be(t,i,s,void 0,void 0,e):ai(c,i,e,s,t)):n=ai(t,i,e,s);return Array.isArray(n)?n:r(n)?(r(o)&&pi(n,o),r(i)&&mi(i),n):ke()}function pi(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),r(e.children))for(var n=0,o=e.children.length;n<o;n++){var c=e.children[n];r(c.tag)&&(s(c.ns)||a(i)&&"svg"!==c.tag)&&pi(c,t,i)}}function mi(e){c(e.style)&&yt(e.style),c(e.class)&&yt(e.class)}function gi(e){e._vnode=null,e._staticTrees=null;var t=e.$options,s=e.$vnode=t._parentVnode,r=s&&s.context;e.$slots=Mt(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,s,r){return li(e,t,i,s,r,!1)},e.$createElement=function(t,i,s,r){return li(e,t,i,s,r,!0)};var a=s&&s.data;Be(e,"$attrs",a&&a.attrs||i,null,!0),Be(e,"$listeners",t._parentListeners||i,null,!0)}var yi,vi=null;function bi(e){Qt(e.prototype),e.prototype.$nextTick=function(e){return mt(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,s=i.render,r=i._parentVnode;r&&(t.$scopedSlots=Rt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{vi=t,e=s.call(t._renderProxy,t.$createElement)}catch(_n){it(_n,t,"render"),e=t._vnode}finally{vi=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof be||(e=ke()),e.parent=r,e}}function wi(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function ki(e,t,i,s,r){var a=ke();return a.asyncFactory=e,a.asyncMeta={data:t,context:i,children:s,tag:r},a}function Si(e,t){if(a(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=vi;if(i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),a(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var n=e.owners=[i],o=!0,d=null,h=null;i.$on("hook:destroyed",(function(){return v(n,i)}));var u=function(e){for(var t=0,i=n.length;t<i;t++)n[t].$forceUpdate();e&&(n.length=0,null!==d&&(clearTimeout(d),d=null),null!==h&&(clearTimeout(h),h=null))},l=D((function(i){e.resolved=wi(i,t),o?n.length=0:u(!0)})),p=D((function(t){r(e.errorComp)&&(e.error=!0,u(!0))})),m=e(l,p);return c(m)&&(f(m)?s(e.resolved)&&m.then(l,p):f(m.component)&&(m.component.then(l,p),r(m.error)&&(e.errorComp=wi(m.error,t)),r(m.loading)&&(e.loadingComp=wi(m.loading,t),0===m.delay?e.loading=!0:d=setTimeout((function(){d=null,s(e.resolved)&&s(e.error)&&(e.loading=!0,u(!1))}),m.delay||200)),r(m.timeout)&&(h=setTimeout((function(){h=null,s(e.resolved)&&p(null)}),m.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}function _i(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||Bt(i)))return i}}function Oi(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ii(e,t)}function Ti(e,t){yi.$on(e,t)}function Ci(e,t){yi.$off(e,t)}function xi(e,t){var i=yi;return function s(){var r=t.apply(null,arguments);null!==r&&i.$off(e,s)}}function Ii(e,t,i){yi=e,kt(t,i||{},Ti,Ci,xi,e),yi=void 0}function Ei(e){var t=/^hook:/;e.prototype.$on=function(e,i){var s=this;if(Array.isArray(e))for(var r=0,a=e.length;r<a;r++)s.$on(e[r],i);else(s._events[e]||(s._events[e]=[])).push(i),t.test(e)&&(s._hasHookEvent=!0);return s},e.prototype.$once=function(e,t){var i=this;function s(){i.$off(e,s),t.apply(i,arguments)}return s.fn=t,i.$on(e,s),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var s=0,r=e.length;s<r;s++)i.$off(e[s],t);return i}var a,n=i._events[e];if(!n)return i;if(!t)return i._events[e]=null,i;var o=n.length;while(o--)if(a=n[o],a===t||a.fn===t){n.splice(o,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?A(i):i;for(var s=A(arguments,1),r='event handler for "'+e+'"',a=0,n=i.length;a<n;a++)st(i[a],t,s,t,r)}return t}}var Ai=null;function Ni(e){var t=Ai;return Ai=e,function(){Ai=t}}function Mi(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Pi(e){e.prototype._update=function(e,t){var i=this,s=i.$el,r=i._vnode,a=Ni(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),a(),s&&(s.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){qi(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||v(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),qi(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Bi(e,t,i){var s;return e.$el=t,e.$options.render||(e.$options.render=ke),qi(e,"beforeMount"),s=function(){e._update(e._render(),i)},new is(e,s,P,{before:function(){e._isMounted&&!e._isDestroyed&&qi(e,"beforeUpdate")}},!0),i=!1,null==e.$vnode&&(e._isMounted=!0,qi(e,"mounted")),e}function Ri(e,t,s,r,a){var n=r.data.scopedSlots,o=e.$scopedSlots,c=!!(n&&!n.$stable||o!==i&&!o.$stable||n&&e.$scopedSlots.$key!==n.$key||!n&&e.$scopedSlots.$key),d=!!(a||e.$options._renderChildren||c);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=a,e.$attrs=r.data.attrs||i,e.$listeners=s||i,t&&e.$options.props){Ee(!1);for(var h=e._props,u=e.$options._propKeys||[],l=0;l<u.length;l++){var f=u[l],p=e.$options.props;h[f]=Xe(f,p,t,e)}Ee(!0),e.$options.propsData=t}s=s||i;var m=e.$options._parentListeners;e.$options._parentListeners=s,Ii(e,s,m),d&&(e.$slots=Mt(a,r.context),e.$forceUpdate())}function Li(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Vi(e,t){if(t){if(e._directInactive=!1,Li(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Vi(e.$children[i]);qi(e,"activated")}}function Di(e,t){if((!t||(e._directInactive=!0,!Li(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Di(e.$children[i]);qi(e,"deactivated")}}function qi(e,t){ye();var i=e.$options[t],s=t+" hook";if(i)for(var r=0,a=i.length;r<a;r++)st(i[r],e,null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),ve()}var ji=[],Gi=[],Ui={},Fi=!1,Hi=!1,zi=0;function Ki(){zi=ji.length=Gi.length=0,Ui={},Fi=Hi=!1}var Wi=0,$i=Date.now;if(X&&!ee){var Yi=window.performance;Yi&&"function"===typeof Yi.now&&$i()>document.createEvent("Event").timeStamp&&($i=function(){return Yi.now()})}function Xi(){var e,t;for(Wi=$i(),Hi=!0,ji.sort((function(e,t){return e.id-t.id})),zi=0;zi<ji.length;zi++)e=ji[zi],e.before&&e.before(),t=e.id,Ui[t]=null,e.run();var i=Gi.slice(),s=ji.slice();Ki(),Ji(i),Zi(s),de&&U.devtools&&de.emit("flush")}function Zi(e){var t=e.length;while(t--){var i=e[t],s=i.vm;s._watcher===i&&s._isMounted&&!s._isDestroyed&&qi(s,"updated")}}function Qi(e){e._inactive=!1,Gi.push(e)}function Ji(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Vi(e[t],!0)}function es(e){var t=e.id;if(null==Ui[t]){if(Ui[t]=!0,Hi){var i=ji.length-1;while(i>zi&&ji[i].id>e.id)i--;ji.splice(i+1,0,e)}else ji.push(e);Fi||(Fi=!0,mt(Xi))}}var ts=0,is=function(e,t,i,s,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),s?(this.deep=!!s.deep,this.user=!!s.user,this.lazy=!!s.lazy,this.sync=!!s.sync,this.before=s.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++ts,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ue,this.newDepIds=new ue,this.expression="","function"===typeof t?this.getter=t:(this.getter=W(t),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};is.prototype.get=function(){var e;ye(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(_n){if(!this.user)throw _n;it(_n,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&yt(e),ve(),this.cleanupDeps()}return e},is.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},is.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},is.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():es(this)},is.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user){var i='callback for watcher "'+this.expression+'"';st(this.cb,this.vm,[e,t],this.vm,i)}else this.cb.call(this.vm,e,t)}}},is.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},is.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},is.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var ss={enumerable:!0,configurable:!0,get:P,set:P};function rs(e,t,i){ss.get=function(){return this[t][i]},ss.set=function(e){this[t][i]=e},Object.defineProperty(e,i,ss)}function as(e){e._watchers=[];var t=e.$options;t.props&&ns(e,t.props),t.methods&&ps(e,t.methods),t.data?os(e):Pe(e._data={},!0),t.computed&&hs(e,t.computed),t.watch&&t.watch!==ae&&ms(e,t.watch)}function ns(e,t){var i=e.$options.propsData||{},s=e._props={},r=e.$options._propKeys=[],a=!e.$parent;a||Ee(!1);var n=function(a){r.push(a);var n=Xe(a,t,i,e);Be(s,a,n),a in e||rs(e,"_props",a)};for(var o in t)n(o);Ee(!0)}function os(e){var t=e.$options.data;t=e._data="function"===typeof t?cs(t,e):t||{},h(t)||(t={});var i=Object.keys(t),s=e.$options.props,r=(e.$options.methods,i.length);while(r--){var a=i[r];0,s&&w(s,a)||H(a)||rs(e,"_data",a)}Pe(t,!0)}function cs(e,t){ye();try{return e.call(t,t)}catch(_n){return it(_n,t,"data()"),{}}finally{ve()}}var ds={lazy:!0};function hs(e,t){var i=e._computedWatchers=Object.create(null),s=ce();for(var r in t){var a=t[r],n="function"===typeof a?a:a.get;0,s||(i[r]=new is(e,n||P,P,ds)),r in e||us(e,r,a)}}function us(e,t,i){var s=!ce();"function"===typeof i?(ss.get=s?ls(t):fs(i),ss.set=P):(ss.get=i.get?s&&!1!==i.cache?ls(t):fs(i.get):P,ss.set=i.set||P),Object.defineProperty(e,t,ss)}function ls(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function fs(e){return function(){return e.call(this,this)}}function ps(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?P:E(t[i],e)}function ms(e,t){for(var i in t){var s=t[i];if(Array.isArray(s))for(var r=0;r<s.length;r++)gs(e,i,s[r]);else gs(e,i,s)}}function gs(e,t,i,s){return h(i)&&(s=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,s)}function ys(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Re,e.prototype.$delete=Le,e.prototype.$watch=function(e,t,i){var s=this;if(h(t))return gs(s,e,t,i);i=i||{},i.user=!0;var r=new is(s,e,t,i);if(i.immediate){var a='callback for immediate watcher "'+r.expression+'"';ye(),st(t,s,[r.value],s,a),ve()}return function(){r.teardown()}}}var vs=0;function bs(e){e.prototype._init=function(e){var t=this;t._uid=vs++,t._isVue=!0,e&&e._isComponent?ws(t,e):t.$options=$e(ks(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Mi(t),Oi(t),gi(t),qi(t,"beforeCreate"),At(t),as(t),Et(t),qi(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function ws(e,t){var i=e.$options=Object.create(e.constructor.options),s=t._parentVnode;i.parent=t.parent,i._parentVnode=s;var r=s.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function ks(e){var t=e.options;if(e.super){var i=ks(e.super),s=e.superOptions;if(i!==s){e.superOptions=i;var r=Ss(e);r&&N(e.extendOptions,r),t=e.options=$e(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Ss(e){var t,i=e.options,s=e.sealedOptions;for(var r in i)i[r]!==s[r]&&(t||(t={}),t[r]=i[r]);return t}function _s(e){this._init(e)}function Os(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=A(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}function Ts(e){e.mixin=function(e){return this.options=$e(this.options,e),this}}function Cs(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,s=i.cid,r=e._Ctor||(e._Ctor={});if(r[s])return r[s];var a=e.name||i.options.name;var n=function(e){this._init(e)};return n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.cid=t++,n.options=$e(i.options,e),n["super"]=i,n.options.props&&xs(n),n.options.computed&&Is(n),n.extend=i.extend,n.mixin=i.mixin,n.use=i.use,j.forEach((function(e){n[e]=i[e]})),a&&(n.options.components[a]=n),n.superOptions=i.options,n.extendOptions=e,n.sealedOptions=N({},n.options),r[s]=n,n}}function xs(e){var t=e.options.props;for(var i in t)rs(e.prototype,"_props",i)}function Is(e){var t=e.options.computed;for(var i in t)us(e.prototype,i,t[i])}function Es(e){j.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&h(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function As(e){return e&&(e.Ctor.options.name||e.tag)}function Ns(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function Ms(e,t){var i=e.cache,s=e.keys,r=e._vnode;for(var a in i){var n=i[a];if(n){var o=n.name;o&&!t(o)&&Ps(i,a,s,r)}}}function Ps(e,t,i,s){var r=e[t];!r||s&&r.tag===s.tag||r.componentInstance.$destroy(),e[t]=null,v(i,t)}bs(_s),ys(_s),Ei(_s),Pi(_s),bi(_s);var Bs=[String,RegExp,Array],Rs={name:"keep-alive",abstract:!0,props:{include:Bs,exclude:Bs,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,i=e.keys,s=e.vnodeToCache,r=e.keyToCache;if(s){var a=s.tag,n=s.componentInstance,o=s.componentOptions;t[r]={name:As(o),tag:a,componentInstance:n},i.push(r),this.max&&i.length>parseInt(this.max)&&Ps(t,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ps(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Ms(e,(function(e){return Ns(t,e)}))})),this.$watch("exclude",(function(t){Ms(e,(function(e){return!Ns(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=_i(e),i=t&&t.componentOptions;if(i){var s=As(i),r=this,a=r.include,n=r.exclude;if(a&&(!s||!Ns(a,s))||n&&s&&Ns(n,s))return t;var o=this,c=o.cache,d=o.keys,h=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;c[h]?(t.componentInstance=c[h].componentInstance,v(d,h),d.push(h)):(this.vnodeToCache=t,this.keyToCache=h),t.data.keepAlive=!0}return t||e&&e[0]}},Ls={KeepAlive:Rs};function Vs(e){var t={get:function(){return U}};Object.defineProperty(e,"config",t),e.util={warn:fe,extend:N,mergeOptions:$e,defineReactive:Be},e.set=Re,e.delete=Le,e.nextTick=mt,e.observable=function(e){return Pe(e),e},e.options=Object.create(null),j.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,N(e.options.components,Ls),Os(e),Ts(e),Cs(e),Es(e)}Vs(_s),Object.defineProperty(_s.prototype,"$isServer",{get:ce}),Object.defineProperty(_s.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_s,"FunctionalRenderContext",{value:Jt}),_s.version="2.6.14";var Ds=g("style,class"),qs=g("input,textarea,option,select,progress"),js=function(e,t,i){return"value"===i&&qs(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Gs=g("contenteditable,draggable,spellcheck"),Us=g("events,caret,typing,plaintext-only"),Fs=function(e,t){return $s(t)||"false"===t?"false":"contenteditable"===e&&Us(t)?t:"true"},Hs=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),zs="http://www.w3.org/1999/xlink",Ks=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ws=function(e){return Ks(e)?e.slice(6,e.length):""},$s=function(e){return null==e||!1===e};function Ys(e){var t=e.data,i=e,s=e;while(r(s.componentInstance))s=s.componentInstance._vnode,s&&s.data&&(t=Xs(s.data,t));while(r(i=i.parent))i&&i.data&&(t=Xs(t,i.data));return Zs(t.staticClass,t.class)}function Xs(e,t){return{staticClass:Qs(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Zs(e,t){return r(e)||r(t)?Qs(e,Js(t)):""}function Qs(e,t){return e?t?e+" "+t:e:t||""}function Js(e){return Array.isArray(e)?er(e):c(e)?tr(e):"string"===typeof e?e:""}function er(e){for(var t,i="",s=0,a=e.length;s<a;s++)r(t=Js(e[s]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function tr(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var ir={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},sr=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ar=function(e){return sr(e)||rr(e)};function nr(e){return rr(e)?"svg":"math"===e?"math":void 0}var or=Object.create(null);function cr(e){if(!X)return!0;if(ar(e))return!1;if(e=e.toLowerCase(),null!=or[e])return or[e];var t=document.createElement(e);return e.indexOf("-")>-1?or[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:or[e]=/HTMLUnknownElement/.test(t.toString())}var dr=g("text,number,password,search,email,tel,url");function hr(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function ur(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function lr(e,t){return document.createElementNS(ir[e],t)}function fr(e){return document.createTextNode(e)}function pr(e){return document.createComment(e)}function mr(e,t,i){e.insertBefore(t,i)}function gr(e,t){e.removeChild(t)}function yr(e,t){e.appendChild(t)}function vr(e){return e.parentNode}function br(e){return e.nextSibling}function wr(e){return e.tagName}function kr(e,t){e.textContent=t}function Sr(e,t){e.setAttribute(t,"")}var _r=Object.freeze({createElement:ur,createElementNS:lr,createTextNode:fr,createComment:pr,insertBefore:mr,removeChild:gr,appendChild:yr,parentNode:vr,nextSibling:br,tagName:wr,setTextContent:kr,setStyleScope:Sr}),Or={create:function(e,t){Tr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Tr(e,!0),Tr(t))},destroy:function(e){Tr(e,!0)}};function Tr(e,t){var i=e.data.ref;if(r(i)){var s=e.context,a=e.componentInstance||e.elm,n=s.$refs;t?Array.isArray(n[i])?v(n[i],a):n[i]===a&&(n[i]=void 0):e.data.refInFor?Array.isArray(n[i])?n[i].indexOf(a)<0&&n[i].push(a):n[i]=[a]:n[i]=a}}var Cr=new be("",{},[]),xr=["create","activate","update","remove","destroy"];function Ir(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Er(e,t)||a(e.isAsyncPlaceholder)&&s(t.asyncFactory.error))}function Er(e,t){if("input"!==e.tag)return!0;var i,s=r(i=e.data)&&r(i=i.attrs)&&i.type,a=r(i=t.data)&&r(i=i.attrs)&&i.type;return s===a||dr(s)&&dr(a)}function Ar(e,t,i){var s,a,n={};for(s=t;s<=i;++s)a=e[s].key,r(a)&&(n[a]=s);return n}function Nr(e){var t,i,n={},c=e.modules,d=e.nodeOps;for(t=0;t<xr.length;++t)for(n[xr[t]]=[],i=0;i<c.length;++i)r(c[i][xr[t]])&&n[xr[t]].push(c[i][xr[t]]);function h(e){return new be(d.tagName(e).toLowerCase(),{},[],void 0,e)}function u(e,t){function i(){0===--i.listeners&&l(e)}return i.listeners=t,i}function l(e){var t=d.parentNode(e);r(t)&&d.removeChild(t,e)}function f(e,t,i,s,n,o,c){if(r(e.elm)&&r(o)&&(e=o[c]=_e(e)),e.isRootInsert=!n,!p(e,t,i,s)){var h=e.data,u=e.children,l=e.tag;r(l)?(e.elm=e.ns?d.createElementNS(e.ns,l):d.createElement(l,e),S(e),b(e,u,t),r(h)&&k(e,t),v(i,e.elm,s)):a(e.isComment)?(e.elm=d.createComment(e.text),v(i,e.elm,s)):(e.elm=d.createTextNode(e.text),v(i,e.elm,s))}}function p(e,t,i,s){var n=e.data;if(r(n)){var o=r(e.componentInstance)&&n.keepAlive;if(r(n=n.hook)&&r(n=n.init)&&n(e,!1),r(e.componentInstance))return m(e,t),v(i,e.elm,s),a(o)&&y(e,t,i,s),!0}}function m(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,w(e)?(k(e,t),S(e)):(Tr(e),t.push(e))}function y(e,t,i,s){var a,o=e;while(o.componentInstance)if(o=o.componentInstance._vnode,r(a=o.data)&&r(a=a.transition)){for(a=0;a<n.activate.length;++a)n.activate[a](Cr,o);t.push(o);break}v(i,e.elm,s)}function v(e,t,i){r(e)&&(r(i)?d.parentNode(i)===e&&d.insertBefore(e,t,i):d.appendChild(e,t))}function b(e,t,i){if(Array.isArray(t)){0;for(var s=0;s<t.length;++s)f(t[s],i,e.elm,null,!0,t,s)}else o(e.text)&&d.appendChild(e.elm,d.createTextNode(String(e.text)))}function w(e){while(e.componentInstance)e=e.componentInstance._vnode;return r(e.tag)}function k(e,i){for(var s=0;s<n.create.length;++s)n.create[s](Cr,e);t=e.data.hook,r(t)&&(r(t.create)&&t.create(Cr,e),r(t.insert)&&i.push(e))}function S(e){var t;if(r(t=e.fnScopeId))d.setStyleScope(e.elm,t);else{var i=e;while(i)r(t=i.context)&&r(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t),i=i.parent}r(t=Ai)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t)}function _(e,t,i,s,r,a){for(;s<=r;++s)f(i[s],a,e,t,!1,i,s)}function O(e){var t,i,s=e.data;if(r(s))for(r(t=s.hook)&&r(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(r(t=e.children))for(i=0;i<e.children.length;++i)O(e.children[i])}function T(e,t,i){for(;t<=i;++t){var s=e[t];r(s)&&(r(s.tag)?(C(s),O(s)):l(s.elm))}}function C(e,t){if(r(t)||r(e.data)){var i,s=n.remove.length+1;for(r(t)?t.listeners+=s:t=u(e.elm,s),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&C(i,t),i=0;i<n.remove.length;++i)n.remove[i](e,t);r(i=e.data.hook)&&r(i=i.remove)?i(e,t):t()}else l(e.elm)}function x(e,t,i,a,n){var o,c,h,u,l=0,p=0,m=t.length-1,g=t[0],y=t[m],v=i.length-1,b=i[0],w=i[v],k=!n;while(l<=m&&p<=v)s(g)?g=t[++l]:s(y)?y=t[--m]:Ir(g,b)?(E(g,b,a,i,p),g=t[++l],b=i[++p]):Ir(y,w)?(E(y,w,a,i,v),y=t[--m],w=i[--v]):Ir(g,w)?(E(g,w,a,i,v),k&&d.insertBefore(e,g.elm,d.nextSibling(y.elm)),g=t[++l],w=i[--v]):Ir(y,b)?(E(y,b,a,i,p),k&&d.insertBefore(e,y.elm,g.elm),y=t[--m],b=i[++p]):(s(o)&&(o=Ar(t,l,m)),c=r(b.key)?o[b.key]:I(b,t,l,m),s(c)?f(b,a,e,g.elm,!1,i,p):(h=t[c],Ir(h,b)?(E(h,b,a,i,p),t[c]=void 0,k&&d.insertBefore(e,h.elm,g.elm)):f(b,a,e,g.elm,!1,i,p)),b=i[++p]);l>m?(u=s(i[v+1])?null:i[v+1].elm,_(e,u,i,p,v,a)):p>v&&T(t,l,m)}function I(e,t,i,s){for(var a=i;a<s;a++){var n=t[a];if(r(n)&&Ir(e,n))return a}}function E(e,t,i,o,c,h){if(e!==t){r(t.elm)&&r(o)&&(t=o[c]=_e(t));var u=t.elm=e.elm;if(a(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?M(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var l,f=t.data;r(f)&&r(l=f.hook)&&r(l=l.prepatch)&&l(e,t);var p=e.children,m=t.children;if(r(f)&&w(t)){for(l=0;l<n.update.length;++l)n.update[l](e,t);r(l=f.hook)&&r(l=l.update)&&l(e,t)}s(t.text)?r(p)&&r(m)?p!==m&&x(u,p,m,i,h):r(m)?(r(e.text)&&d.setTextContent(u,""),_(u,null,m,0,m.length-1,i)):r(p)?T(p,0,p.length-1):r(e.text)&&d.setTextContent(u,""):e.text!==t.text&&d.setTextContent(u,t.text),r(f)&&r(l=f.hook)&&r(l=l.postpatch)&&l(e,t)}}}function A(e,t,i){if(a(i)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var s=0;s<t.length;++s)t[s].data.hook.insert(t[s])}var N=g("attrs,class,staticClass,staticStyle,key");function M(e,t,i,s){var n,o=t.tag,c=t.data,d=t.children;if(s=s||c&&c.pre,t.elm=e,a(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(n=c.hook)&&r(n=n.init)&&n(t,!0),r(n=t.componentInstance)))return m(t,i),!0;if(r(o)){if(r(d))if(e.hasChildNodes())if(r(n=c)&&r(n=n.domProps)&&r(n=n.innerHTML)){if(n!==e.innerHTML)return!1}else{for(var h=!0,u=e.firstChild,l=0;l<d.length;l++){if(!u||!M(u,d[l],i,s)){h=!1;break}u=u.nextSibling}if(!h||u)return!1}else b(t,d,i);if(r(c)){var f=!1;for(var p in c)if(!N(p)){f=!0,k(t,i);break}!f&&c["class"]&&yt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,o){if(!s(t)){var c=!1,u=[];if(s(e))c=!0,f(t,u);else{var l=r(e.nodeType);if(!l&&Ir(e,t))E(e,t,u,null,null,o);else{if(l){if(1===e.nodeType&&e.hasAttribute(q)&&(e.removeAttribute(q),i=!0),a(i)&&M(e,t,u))return A(t,u,!0),e;e=h(e)}var p=e.elm,m=d.parentNode(p);if(f(t,u,p._leaveCb?null:m,d.nextSibling(p)),r(t.parent)){var g=t.parent,y=w(t);while(g){for(var v=0;v<n.destroy.length;++v)n.destroy[v](g);if(g.elm=t.elm,y){for(var b=0;b<n.create.length;++b)n.create[b](Cr,g);var k=g.data.hook.insert;if(k.merged)for(var S=1;S<k.fns.length;S++)k.fns[S]()}else Tr(g);g=g.parent}}r(m)?T([e],0,0):r(e.tag)&&O(e)}}return A(t,u,c),t.elm}r(e)&&O(e)}}var Mr={create:Pr,update:Pr,destroy:function(e){Pr(e,Cr)}};function Pr(e,t){(e.data.directives||t.data.directives)&&Br(e,t)}function Br(e,t){var i,s,r,a=e===Cr,n=t===Cr,o=Lr(e.data.directives,e.context),c=Lr(t.data.directives,t.context),d=[],h=[];for(i in c)s=o[i],r=c[i],s?(r.oldValue=s.value,r.oldArg=s.arg,Dr(r,"update",t,e),r.def&&r.def.componentUpdated&&h.push(r)):(Dr(r,"bind",t,e),r.def&&r.def.inserted&&d.push(r));if(d.length){var u=function(){for(var i=0;i<d.length;i++)Dr(d[i],"inserted",t,e)};a?St(t,"insert",u):u()}if(h.length&&St(t,"postpatch",(function(){for(var i=0;i<h.length;i++)Dr(h[i],"componentUpdated",t,e)})),!a)for(i in o)c[i]||Dr(o[i],"unbind",e,e,n)}var Rr=Object.create(null);function Lr(e,t){var i,s,r=Object.create(null);if(!e)return r;for(i=0;i<e.length;i++)s=e[i],s.modifiers||(s.modifiers=Rr),r[Vr(s)]=s,s.def=Ye(t.$options,"directives",s.name,!0);return r}function Vr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Dr(e,t,i,s,r){var a=e.def&&e.def[t];if(a)try{a(i.elm,e,i,s,r)}catch(_n){it(_n,i.context,"directive "+e.name+" "+t+" hook")}}var qr=[Or,Mr];function jr(e,t){var i=t.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!s(e.data.attrs)||!s(t.data.attrs))){var a,n,o,c=t.elm,d=e.data.attrs||{},h=t.data.attrs||{};for(a in r(h.__ob__)&&(h=t.data.attrs=N({},h)),h)n=h[a],o=d[a],o!==n&&Gr(c,a,n,t.data.pre);for(a in(ee||ie)&&h.value!==d.value&&Gr(c,"value",h.value),d)s(h[a])&&(Ks(a)?c.removeAttributeNS(zs,Ws(a)):Gs(a)||c.removeAttribute(a))}}function Gr(e,t,i,s){s||e.tagName.indexOf("-")>-1?Ur(e,t,i):Hs(t)?$s(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Gs(t)?e.setAttribute(t,Fs(t,i)):Ks(t)?$s(i)?e.removeAttributeNS(zs,Ws(t)):e.setAttributeNS(zs,t,i):Ur(e,t,i)}function Ur(e,t,i){if($s(i))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var s=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",s)};e.addEventListener("input",s),e.__ieph=!0}e.setAttribute(t,i)}}var Fr={create:jr,update:jr};function Hr(e,t){var i=t.elm,a=t.data,n=e.data;if(!(s(a.staticClass)&&s(a.class)&&(s(n)||s(n.staticClass)&&s(n.class)))){var o=Ys(t),c=i._transitionClasses;r(c)&&(o=Qs(o,Js(c))),o!==i._prevClass&&(i.setAttribute("class",o),i._prevClass=o)}}var zr,Kr={create:Hr,update:Hr},Wr="__r",$r="__c";function Yr(e){if(r(e[Wr])){var t=ee?"change":"input";e[t]=[].concat(e[Wr],e[t]||[]),delete e[Wr]}r(e[$r])&&(e.change=[].concat(e[$r],e.change||[]),delete e[$r])}function Xr(e,t,i){var s=zr;return function r(){var a=t.apply(null,arguments);null!==a&&Jr(e,r,i,s)}}var Zr=ot&&!(re&&Number(re[1])<=53);function Qr(e,t,i,s){if(Zr){var r=Wi,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}zr.addEventListener(e,t,ne?{capture:i,passive:s}:i)}function Jr(e,t,i,s){(s||zr).removeEventListener(e,t._wrapper||t,i)}function ea(e,t){if(!s(e.data.on)||!s(t.data.on)){var i=t.data.on||{},r=e.data.on||{};zr=t.elm,Yr(i),kt(i,r,Qr,Jr,Xr,t.context),zr=void 0}}var ta,ia={create:ea,update:ea};function sa(e,t){if(!s(e.data.domProps)||!s(t.data.domProps)){var i,a,n=t.elm,o=e.data.domProps||{},c=t.data.domProps||{};for(i in r(c.__ob__)&&(c=t.data.domProps=N({},c)),o)i in c||(n[i]="");for(i in c){if(a=c[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),a===o[i])continue;1===n.childNodes.length&&n.removeChild(n.childNodes[0])}if("value"===i&&"PROGRESS"!==n.tagName){n._value=a;var d=s(a)?"":String(a);ra(n,d)&&(n.value=d)}else if("innerHTML"===i&&rr(n.tagName)&&s(n.innerHTML)){ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+a+"</svg>";var h=ta.firstChild;while(n.firstChild)n.removeChild(n.firstChild);while(h.firstChild)n.appendChild(h.firstChild)}else if(a!==o[i])try{n[i]=a}catch(_n){}}}}function ra(e,t){return!e.composing&&("OPTION"===e.tagName||aa(e,t)||na(e,t))}function aa(e,t){var i=!0;try{i=document.activeElement!==e}catch(_n){}return i&&e.value!==t}function na(e,t){var i=e.value,s=e._vModifiers;if(r(s)){if(s.number)return m(i)!==m(t);if(s.trim)return i.trim()!==t.trim()}return i!==t}var oa={create:sa,update:sa},ca=k((function(e){var t={},i=/;(?![^(]*\))/g,s=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(s);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function da(e){var t=ha(e.style);return e.staticStyle?N(e.staticStyle,t):t}function ha(e){return Array.isArray(e)?M(e):"string"===typeof e?ca(e):e}function ua(e,t){var i,s={};if(t){var r=e;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=da(r.data))&&N(s,i)}(i=da(e.data))&&N(s,i);var a=e;while(a=a.parent)a.data&&(i=da(a.data))&&N(s,i);return s}var la,fa=/^--/,pa=/\s*!important$/,ma=function(e,t,i){if(fa.test(t))e.style.setProperty(t,i);else if(pa.test(i))e.style.setProperty(C(t),i.replace(pa,""),"important");else{var s=ya(t);if(Array.isArray(i))for(var r=0,a=i.length;r<a;r++)e.style[s]=i[r];else e.style[s]=i}},ga=["Webkit","Moz","ms"],ya=k((function(e){if(la=la||document.createElement("div").style,e=_(e),"filter"!==e&&e in la)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<ga.length;i++){var s=ga[i]+t;if(s in la)return s}}));function va(e,t){var i=t.data,a=e.data;if(!(s(i.staticStyle)&&s(i.style)&&s(a.staticStyle)&&s(a.style))){var n,o,c=t.elm,d=a.staticStyle,h=a.normalizedStyle||a.style||{},u=d||h,l=ha(t.data.style)||{};t.data.normalizedStyle=r(l.__ob__)?N({},l):l;var f=ua(t,!0);for(o in u)s(f[o])&&ma(c,o,"");for(o in f)n=f[o],n!==u[o]&&ma(c,o,null==n?"":n)}}var ba={create:va,update:va},wa=/\s+/;function ka(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wa).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function Sa(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wa).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var i=" "+(e.getAttribute("class")||"")+" ",s=" "+t+" ";while(i.indexOf(s)>=0)i=i.replace(s," ");i=i.trim(),i?e.setAttribute("class",i):e.removeAttribute("class")}}function _a(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&N(t,Oa(e.name||"v")),N(t,e),t}return"string"===typeof e?Oa(e):void 0}}var Oa=k((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ta=X&&!te,Ca="transition",xa="animation",Ia="transition",Ea="transitionend",Aa="animation",Na="animationend";Ta&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ia="WebkitTransition",Ea="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Aa="WebkitAnimation",Na="webkitAnimationEnd"));var Ma=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Pa(e){Ma((function(){Ma(e)}))}function Ba(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),ka(e,t))}function Ra(e,t){e._transitionClasses&&v(e._transitionClasses,t),Sa(e,t)}function La(e,t,i){var s=Da(e,t),r=s.type,a=s.timeout,n=s.propCount;if(!r)return i();var o=r===Ca?Ea:Na,c=0,d=function(){e.removeEventListener(o,h),i()},h=function(t){t.target===e&&++c>=n&&d()};setTimeout((function(){c<n&&d()}),a+1),e.addEventListener(o,h)}var Va=/\b(transform|all)(,|$)/;function Da(e,t){var i,s=window.getComputedStyle(e),r=(s[Ia+"Delay"]||"").split(", "),a=(s[Ia+"Duration"]||"").split(", "),n=qa(r,a),o=(s[Aa+"Delay"]||"").split(", "),c=(s[Aa+"Duration"]||"").split(", "),d=qa(o,c),h=0,u=0;t===Ca?n>0&&(i=Ca,h=n,u=a.length):t===xa?d>0&&(i=xa,h=d,u=c.length):(h=Math.max(n,d),i=h>0?n>d?Ca:xa:null,u=i?i===Ca?a.length:c.length:0);var l=i===Ca&&Va.test(s[Ia+"Property"]);return{type:i,timeout:h,propCount:u,hasTransform:l}}function qa(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,i){return ja(t)+ja(e[i])})))}function ja(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Ga(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var a=_a(e.data.transition);if(!s(a)&&!r(i._enterCb)&&1===i.nodeType){var n=a.css,o=a.type,d=a.enterClass,h=a.enterToClass,u=a.enterActiveClass,l=a.appearClass,f=a.appearToClass,p=a.appearActiveClass,g=a.beforeEnter,y=a.enter,v=a.afterEnter,b=a.enterCancelled,w=a.beforeAppear,k=a.appear,S=a.afterAppear,_=a.appearCancelled,O=a.duration,T=Ai,C=Ai.$vnode;while(C&&C.parent)T=C.context,C=C.parent;var x=!T._isMounted||!e.isRootInsert;if(!x||k||""===k){var I=x&&l?l:d,E=x&&p?p:u,A=x&&f?f:h,N=x&&w||g,M=x&&"function"===typeof k?k:y,P=x&&S||v,B=x&&_||b,R=m(c(O)?O.enter:O);0;var L=!1!==n&&!te,V=Ha(M),q=i._enterCb=D((function(){L&&(Ra(i,A),Ra(i,E)),q.cancelled?(L&&Ra(i,I),B&&B(i)):P&&P(i),i._enterCb=null}));e.data.show||St(e,"insert",(function(){var t=i.parentNode,s=t&&t._pending&&t._pending[e.key];s&&s.tag===e.tag&&s.elm._leaveCb&&s.elm._leaveCb(),M&&M(i,q)})),N&&N(i),L&&(Ba(i,I),Ba(i,E),Pa((function(){Ra(i,I),q.cancelled||(Ba(i,A),V||(Fa(R)?setTimeout(q,R):La(i,o,q)))}))),e.data.show&&(t&&t(),M&&M(i,q)),L||V||q()}}}function Ua(e,t){var i=e.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var a=_a(e.data.transition);if(s(a)||1!==i.nodeType)return t();if(!r(i._leaveCb)){var n=a.css,o=a.type,d=a.leaveClass,h=a.leaveToClass,u=a.leaveActiveClass,l=a.beforeLeave,f=a.leave,p=a.afterLeave,g=a.leaveCancelled,y=a.delayLeave,v=a.duration,b=!1!==n&&!te,w=Ha(f),k=m(c(v)?v.leave:v);0;var S=i._leaveCb=D((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),b&&(Ra(i,h),Ra(i,u)),S.cancelled?(b&&Ra(i,d),g&&g(i)):(t(),p&&p(i)),i._leaveCb=null}));y?y(_):_()}function _(){S.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),l&&l(i),b&&(Ba(i,d),Ba(i,u),Pa((function(){Ra(i,d),S.cancelled||(Ba(i,h),w||(Fa(k)?setTimeout(S,k):La(i,o,S)))}))),f&&f(i,S),b||w||S())}}function Fa(e){return"number"===typeof e&&!isNaN(e)}function Ha(e){if(s(e))return!1;var t=e.fns;return r(t)?Ha(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function za(e,t){!0!==t.data.show&&Ga(t)}var Ka=X?{create:za,activate:za,remove:function(e,t){!0!==e.data.show?Ua(e,t):t()}}:{},Wa=[Fr,Kr,ia,oa,ba,Ka],$a=Wa.concat(qr),Ya=Nr({nodeOps:_r,modules:$a});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&rn(e,"input")}));var Xa={inserted:function(e,t,i,s){"select"===i.tag?(s.elm&&!s.elm._vOptions?St(i,"postpatch",(function(){Xa.componentUpdated(e,t,i)})):Za(e,t,i.context),e._vOptions=[].map.call(e.options,en)):("textarea"===i.tag||dr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",tn),e.addEventListener("compositionend",sn),e.addEventListener("change",sn),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Za(e,t,i.context);var s=e._vOptions,r=e._vOptions=[].map.call(e.options,en);if(r.some((function(e,t){return!L(e,s[t])}))){var a=e.multiple?t.value.some((function(e){return Ja(e,r)})):t.value!==t.oldValue&&Ja(t.value,r);a&&rn(e,"change")}}}};function Za(e,t,i){Qa(e,t,i),(ee||ie)&&setTimeout((function(){Qa(e,t,i)}),0)}function Qa(e,t,i){var s=t.value,r=e.multiple;if(!r||Array.isArray(s)){for(var a,n,o=0,c=e.options.length;o<c;o++)if(n=e.options[o],r)a=V(s,en(n))>-1,n.selected!==a&&(n.selected=a);else if(L(en(n),s))return void(e.selectedIndex!==o&&(e.selectedIndex=o));r||(e.selectedIndex=-1)}}function Ja(e,t){return t.every((function(t){return!L(t,e)}))}function en(e){return"_value"in e?e._value:e.value}function tn(e){e.target.composing=!0}function sn(e){e.target.composing&&(e.target.composing=!1,rn(e.target,"input"))}function rn(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function an(e){return!e.componentInstance||e.data&&e.data.transition?e:an(e.componentInstance._vnode)}var nn={bind:function(e,t,i){var s=t.value;i=an(i);var r=i.data&&i.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;s&&r?(i.data.show=!0,Ga(i,(function(){e.style.display=a}))):e.style.display=s?a:"none"},update:function(e,t,i){var s=t.value,r=t.oldValue;if(!s!==!r){i=an(i);var a=i.data&&i.data.transition;a?(i.data.show=!0,s?Ga(i,(function(){e.style.display=e.__vOriginalDisplay})):Ua(i,(function(){e.style.display="none"}))):e.style.display=s?e.__vOriginalDisplay:"none"}},unbind:function(e,t,i,s,r){r||(e.style.display=e.__vOriginalDisplay)}},on={model:Xa,show:nn},cn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function dn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?dn(_i(t.children)):e}function hn(e){var t={},i=e.$options;for(var s in i.propsData)t[s]=e[s];var r=i._parentListeners;for(var a in r)t[_(a)]=r[a];return t}function un(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function ln(e){while(e=e.parent)if(e.data.transition)return!0}function fn(e,t){return t.key===e.key&&t.tag===e.tag}var pn=function(e){return e.tag||Bt(e)},mn=function(e){return"show"===e.name},gn={name:"transition",props:cn,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(pn),i.length)){0;var s=this.mode;0;var r=i[0];if(ln(this.$vnode))return r;var a=dn(r);if(!a)return r;if(this._leaving)return un(e,r);var n="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?n+"comment":n+a.tag:o(a.key)?0===String(a.key).indexOf(n)?a.key:n+a.key:a.key;var c=(a.data||(a.data={})).transition=hn(this),d=this._vnode,h=dn(d);if(a.data.directives&&a.data.directives.some(mn)&&(a.data.show=!0),h&&h.data&&!fn(a,h)&&!Bt(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var u=h.data.transition=N({},c);if("out-in"===s)return this._leaving=!0,St(u,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),un(e,r);if("in-out"===s){if(Bt(a))return d;var l,f=function(){l()};St(c,"afterEnter",f),St(c,"enterCancelled",f),St(u,"delayLeave",(function(e){l=e}))}}return r}}},yn=N({tag:String,moveClass:String},cn);delete yn.mode;var vn={props:yn,beforeMount:function(){var e=this,t=this._update;this._update=function(i,s){var r=Ni(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,i,s)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),s=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],n=hn(this),o=0;o<r.length;o++){var c=r[o];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))a.push(c),i[c.key]=c,(c.data||(c.data={})).transition=n;else;}if(s){for(var d=[],h=[],u=0;u<s.length;u++){var l=s[u];l.data.transition=n,l.data.pos=l.elm.getBoundingClientRect(),i[l.key]?d.push(l):h.push(l)}this.kept=e(t,null,d),this.removed=h}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(bn),e.forEach(wn),e.forEach(kn),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var i=e.elm,s=i.style;Ba(i,t),s.transform=s.WebkitTransform=s.transitionDuration="",i.addEventListener(Ea,i._moveCb=function e(s){s&&s.target!==i||s&&!/transform$/.test(s.propertyName)||(i.removeEventListener(Ea,e),i._moveCb=null,Ra(i,t))})}})))},methods:{hasMove:function(e,t){if(!Ta)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Sa(i,e)})),ka(i,t),i.style.display="none",this.$el.appendChild(i);var s=Da(i);return this.$el.removeChild(i),this._hasMove=s.hasTransform}}};function bn(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function wn(e){e.data.newPos=e.elm.getBoundingClientRect()}function kn(e){var t=e.data.pos,i=e.data.newPos,s=t.left-i.left,r=t.top-i.top;if(s||r){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+s+"px,"+r+"px)",a.transitionDuration="0s"}}var Sn={Transition:gn,TransitionGroup:vn};_s.config.mustUseProp=js,_s.config.isReservedTag=ar,_s.config.isReservedAttr=Ds,_s.config.getTagNamespace=nr,_s.config.isUnknownElement=cr,N(_s.options.directives,on),N(_s.options.components,Sn),_s.prototype.__patch__=X?Ya:P,_s.prototype.$mount=function(e,t){return e=e&&X?hr(e):void 0,Bi(this,e,t)},X&&setTimeout((function(){U.devtools&&de&&de.emit("init",_s)}),0),t["a"]=_s}).call(this,i("c8ba"))},"2b19":function(e,t,i){var s=i("23e7"),r=i("129f");s({target:"Object",stat:!0},{is:r})},"2c63":function(e,t,i){e.exports=i("dc14")},"2c9e":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,BadRequest:n,InsufficientFunds:o,InvalidAddress:c,BadSymbol:d,InvalidOrder:h}=i("74b0"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"xena",name:"Xena Exchange",countries:["VC","UK"],rateLimit:100,certified:!0,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87489843-bb469280-c64c-11ea-91aa-69c6326506af.jpg",test:{public:"https://trading.demo.xena.io/api",private:"https://api.demo.xena.io"},api:{public:"https://trading.xena.exchange/api",private:"https://api.xena.exchange"},www:"https://xena.exchange",doc:"https://support.xena.exchange/support/solutions/44000808700",fees:"https://trading.xena.exchange/en/platform-specification/fee-schedule"},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["common/currencies","common/instruments","common/features","common/commissions","common/news","market-data/candles/{marketId}/{timeframe}","market-data/market-watch","market-data/dom/{symbol}","market-data/candles/{symbol}/{timeframe}","market-data/trades/{symbol}","market-data/server-time","market-data/v2/candles/{symbol}/{timeframe}","market-data/v2/trades/{symbol}","market-data/v2/dom/{symbol}/","market-data/v2/server-time"]},private:{get:["trading/accounts/{accountId}/order","trading/accounts/{accountId}/active-orders","trading/accounts/{accountId}/last-order-statuses","trading/accounts/{accountId}/positions","trading/accounts/{accountId}/positions-history","trading/accounts/{accountId}/margin-requirements","trading/accounts","trading/accounts/{accountId}/balance","trading/accounts/{accountId}/trade-history","transfers/accounts","transfers/accounts/{accountId}","transfers/accounts/{accountId}/deposit-address/{currency}","transfers/accounts/{accountId}/deposits","transfers/accounts/{accountId}/trusted-addresses","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/balance-history"],post:["trading/order/new","trading/order/heartbeat","trading/order/cancel","trading/order/mass-cancel","trading/order/replace","trading/position/maintenance","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/deposit-address/{currency}"]}},fees:{trading:{maker:5e-4,taker:.001,tierBased:!0,percentage:!0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"Validation failed":n,"Unknown derivative symbol":d,"Unknown account":n,"Wrong TransactTime":n,"ClOrdId is empty":n},broad:{"Invalid aggregation ratio or depth":n,address:c,"Money not enough":o,"parse error":n,"Not enough":o}},options:{defaultType:"margin",accountId:void 0}})}async fetchTime(e={}){const t=await this.publicGetMarketDataV2ServerTime(e),i=this.safeInteger(t,"transactTime");return parseInt(i/1e6)}async fetchMarkets(e={}){const t=await this.publicGetCommonInstruments(e),i=[];for(let s=0;s<t.length;s++){const e=t[s];let r=this.safeStringLower(e,"type");const a=this.safeString(e,"symbol"),n=this.safeString(e,"id"),o=this.safeString(e,"marginType"),c=this.safeString(e,"baseCurrency"),d=this.safeString(e,"quoteCurrency"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d);let l=a;"margin"===r&&("XenaFuture"===o?r="future":"XenaListedPerpetual"===o&&(r="swap",l=h+"/"+u));const f="future"===r,p="swap"===r,m=this.safeInteger2(e,"tickSize","pricePrecision"),g={price:m,amount:0},y=this.safeNumber(e,"maxOrderQty"),v=this.safeNumber(e,"minOrderQuantity"),b={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:v,max:y}},w=this.safeValue(e,"enabled",!1),k=this.safeValue(e,"inverse",!1);i.push({id:a,symbol:l,base:h,quote:u,baseId:c,quoteId:d,numericId:n,active:w,type:r,spot:!1,future:f,swap:p,inverse:k,precision:g,limits:b,info:e})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCommonCurrencies(e),i=Object.keys(t),s={};for(let r=0;r<i.length;r++){const e=i[r],a=t[e],n=this.safeCurrencyCode(e),o=this.safeString(a,"title"),c=this.safeInteger(a,"precision"),d=this.safeValue(a,"enabled"),h=!0===d,u=this.safeValue(a,"withdraw",{});s[n]={id:e,code:n,info:a,name:o,active:h,fee:this.safeNumber(u,"commission"),precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(u,"minAmount"),max:void 0}}}}return s}parseTicker(e,t){const i=this.milliseconds(),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"lastPx"),n=this.safeNumber(e,"firstPx");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(c=a-n,d=this.sum(a,n)/2,n>0&&(o=c/n*100));const h=this.safeNumber(e,"buyVolume"),u=this.safeNumber(e,"sellVolume"),l=this.sum(h,u);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPx"),low:this.safeNumber(e,"lowPx"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:c,percentage:o,average:d,baseVolume:l,quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers(void 0,t);if(e in i)return i[e];throw new d(this.id+" fetchTicker could not find a ticker with symbol "+e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataMarketWatch(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==t&&(s["depth"]=t);const r=await this.publicGetMarketDataV2DomSymbol(this.extend(s,i)),a=this.safeValue(r,"mdEntry",[]),n=this.groupBy(a,"mdEntryType"),o=this.safeInteger(r,"lastUpdateTime"),c=parseInt(o/1e6);return this.parseOrderBook(n,e,c,"0","1","mdEntryPx","mdEntrySize")}async fetchAccounts(e={}){const t=await this.privateGetTradingAccounts(e),i=this.safeValue(t,"accounts"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"id"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a),o=this.safeStringLower(e,"kind");s.push({id:t,type:o,currency:n,info:e})}return s}async findAccountByType(e){await this.loadMarkets(),await this.loadAccounts();const t=this.groupBy(this.accounts,"type"),i=this.safeValue(t,e);if(void 0===i)throw new r(this.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");const s=i.length;if(s>1)throw new r(this.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");return i[0]}async getAccountId(e){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"accountId"),i=this.safeString(e,"accountId",t);if(void 0!==i)return i;const s=this.safeString(this.options,"defaultType","margin"),r=this.safeString(e,"type",s);if(e=this.omit(e,"type"),void 0===r)throw new a(this.id+" requires an 'accountId' parameter or a 'type' parameter ('spot' or 'margin')");const n=await this.findAccountByType(r);return n["id"]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=await this.getAccountId(e),i={accountId:t},s=await this.privateGetTradingAccountsAccountIdBalance(this.extend(i,e)),r={info:s};let a=void 0;const n=this.safeValue(s,"balances",[]);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeString(e,"lastUpdateTime"),i=t.slice(0,13),s=parseInt(i);a=void 0===a?s:Math.max(a,s);const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.account();h["free"]=this.safeString(e,"available"),h["used"]=this.safeString(e,"onHold"),r[d]=h}return r["timestamp"]=a,r["datetime"]=this.iso8601(a),this.parseBalance(r,!1)}parseTrade(e,t){const i=this.safeString(e,"tradeId");let s=this.safeInteger(e,"transactTime");void 0!==s&&(s=parseInt(s/1e6));let r=this.safeStringLower2(e,"side","aggressorSide");"1"===r?r="buy":"2"===r&&(r="sell");const a=this.safeString(e,"orderId"),n=this.safeString(e,"symbol"),o=this.safeSymbol(n,t),c=this.safeString2(e,"lastPx","mdEntryPx"),d=this.safeString2(e,"lastQty","mdEntrySize"),h=this.parseNumber(c),l=this.parseNumber(d),f=this.parseNumber(u.stringMul(c,d));let p=void 0;const m=this.safeNumber(e,"commission");if(void 0!==m){const t=this.safeString(e,"commCurrency"),i=this.safeCurrencyCode(t),s=this.safeNumber(e,"commRate");p={cost:m,rate:s,currency:i}}return{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:o,type:void 0,order:a,side:r,takerOrMaker:void 0,price:h,amount:l,cost:f,fee:p}}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();const r=await this.getAccountId(s),a={accountId:r};let n=void 0;void 0!==e&&(n=this.market(e),a["symbol"]=n["id"]),void 0!==t&&(a["from"]=1e6*t),void 0!==i&&(a["limit"]=i);const o=await this.privateGetTradingAccountsAccountIdTradeHistory(this.extend(a,s));return this.parseTrades(o,n,t,i)}parseOHLCV(e,t){const i=this.safeInteger(e,"transactTime"),s=parseInt(i/1e6),r=this.safeNumber(e,"buyVolume"),a=this.safeNumber(e,"sellVolume"),n=this.sum(r,a);return[s,this.safeNumber(e,"firstPx"),this.safeNumber(e,"highPx"),this.safeNumber(e,"lowPx"),this.safeNumber(e,"lastPx"),n]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],timeframe:this.timeframes[t]},o=this.parseTimeframe(t),c=1e3*o;if(void 0!==i)n["from"]=1e6*i,void 0!==s&&(n["to"]=1e6*this.sum(i,s*c));else{const e=this.milliseconds();void 0!==s&&(n["from"]=1e6*(e-s*c))}const d=await this.publicGetMarketDataV2CandlesSymbolTimeframe(this.extend(n,r)),h=this.safeValue(d,"mdEntry",[]);return this.parseOHLCVs(h,a,t,i,s)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==t&&(a["from"]=this.iso8601(t)),void 0!==i&&(a["limit"]=i);const n=await this.publicGetMarketDataV2TradesSymbol(this.extend(a,s)),o=this.safeValue(n,"mdEntry",[]);return this.parseTrades(o,r,t,i)}parseOrderStatus(e){const t={A:"open",0:"open",1:"open",2:"closed",6:"canceled",4:"canceled",E:"open",8:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),s=this.safeString(e,"clOrdId"),r=this.safeInteger(e,"transactTime"),a=parseInt(r/1e6),n=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeString(e,"symbol"),c=this.safeSymbol(o,t),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"orderQty"),u=this.safeNumber(e,"cumQty"),l=this.safeNumber(e,"leavesQty");let f=this.safeStringLower(e,"side");"1"===f?f="buy":"1"===f&&(f="sell");let p=this.safeStringLower(e,"ordType");return"1"===p?p="market":"2"===p?p="limit":"3"===p?p="stop":"4"===p&&(p="stop-limit"),this.safeOrder({id:i,clientOrderId:s,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:c,type:p,timeInForce:void 0,postOnly:void 0,side:f,price:d,stopPrice:void 0,amount:h,cost:void 0,average:void 0,filled:u,remaining:l,status:n,fee:void 0,trades:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets(),await this.loadAccounts();const n=await this.getAccountId(a),o={market:"1",limit:"2",stop:"3","stop-limit":"4"},c=this.safeString(o,t);if(void 0===c)throw new h(this.id+" createOrder does not support order type "+t+", supported order types are market, limit, stop, stop-limit");const d={buy:"1",sell:"2"},u=this.safeString(d,i);if(void 0===u)throw new h(this.id+" createOrder does not support order side "+i+", supported order sides are buy, sell");const l=this.market(e),f={account:parseInt(n),symbol:l["id"],ordType:c,side:u,orderQty:this.amountToPrecision(e,s),transactTime:1e6*this.milliseconds()};if("limit"===t||"stop-limit"===t){if(void 0===r)throw new h(this.id+" createOrder() requires a price argument for order type "+t);f["price"]=this.priceToPrecision(e,r)}if("stop"===t||"stop-limit"===t){const i=this.safeNumber(a,"stopPx");if(void 0===i)throw new h(this.id+" createOrder() requires a stopPx param for order type "+t);f["stopPx"]=this.priceToPrecision(e,i),a=this.omit(a,"stopPx")}const p=this.safeString2(a,"clientOrderId","clOrdId",this.uuid());void 0!==p&&(f["clOrdId"]=p,a=this.omit(a,["clientOrderId","clOrdId"]));const m=await this.privatePostTradingOrderNew(this.extend(f,a));return this.parseOrder(m,l)}async editOrder(e,t,i,s,r,n,o={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const c=await this.getAccountId(o),d=this.market(t),h={account:parseInt(c),clOrdId:this.uuid(),symbol:d["id"],transactTime:1e6*this.milliseconds()},u=this.safeString2(o,"clientOrderId","origClOrdId");void 0!==u?(h["origClOrdId"]=u,o=this.omit(o,["clientOrderId","origClOrdId"])):h["orderId"]=e,void 0!==r&&(h["orderQty"]=this.amountToPrecision(t,r)),void 0!==n&&(h["price"]=this.priceToPrecision(t,n));const l=this.safeNumber(o,"stopPx");void 0!==l&&(h["stopPx"]=this.priceToPrecision(t,l),o=this.omit(o,"stopPx"));const f=this.safeNumber(o,"capPrice");void 0!==f&&(h["capPrice"]=this.priceToPrecision(t,f),o=this.omit(o,"capPrice"));const p=await this.privatePostTradingOrderReplace(this.extend(h,o));return this.parseOrder(p,d)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const s=await this.getAccountId(i),r=this.safeString2(i,"clientOrderId","origClOrdId");i=this.omit(i,["clientOrderId","origClOrdId"]);const n=this.market(t),o={account:parseInt(s),symbol:n["id"],clOrdId:this.uuid(),transactTime:1e6*this.milliseconds()};void 0!==r?o["origClOrdId"]=r:o["orderId"]=e;const c=await this.privatePostTradingOrderCancel(this.extend(o,i));return this.parseOrder(c,n)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),s={account:parseInt(i),clOrdId:this.uuid()};if(void 0!==e){const t=this.market(e);s["symbol"]=t["id"],s["massCancelRequestType"]="1"}else s["massCancelRequestType"]="7";const r=await this.privatePostTradingOrderMassCancel(this.extend(s,t));return r}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();const r=await this.getAccountId(s),a={accountId:r};let n=void 0;void 0!==e&&(n=this.market(e),a["symbol"]=n["id"]);const o=await this.privateGetTradingAccountsAccountIdActiveOrders(this.extend(a,s));return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();const r=await this.getAccountId(s),a={accountId:r};let n=void 0;void 0!==e&&(n=this.market(e),a["symbol"]=n["id"]),void 0!==t&&(a["from"]=1e6*this.iso8601(t)),void 0!==i&&(a["limit"]=i);const o=await this.privateGetTradingAccountsAccountIdLastOrderStatuses(this.extend(a,s));return this.parseOrders(o,n,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),s=this.currency(e),r={accountId:i,currency:s["id"]},a=await this.privatePostTransfersAccountsAccountIdDepositAddressCurrency(this.extend(r,t)),n=this.safeValue(a,"address"),o=void 0;return this.checkAddress(n),{currency:e,address:n,tag:o,info:a}}async fetchDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),s=this.currency(e),r={accountId:i,currency:s["id"]},a=await this.privateGetTransfersAccountsAccountIdDepositAddressCurrency(this.extend(r,t)),n=this.safeValue(a,"address"),o=void 0;return this.checkAddress(n),{currency:e,address:n,tag:o,info:a}}async fetchTransactionsByType(e,t,i,s,r={}){if(void 0===t)throw new a(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets(),await this.loadAccounts();const n=await this.getAccountId(r),o=this.currency(t),c={currency:o["id"],accountId:n};void 0!==i&&(c["since"]=parseInt(i/1e3));const d="privateGetTransfersAccountsAccountId"+this.capitalize(e),h=await this[d](this.extend(c,r)),u=this.safeValue(h,e,[]);return this.parseTransactions(u,o,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsByType("withdrawals",e,t,i,s)}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsByType("deposits",e,t,i,s)}parseTransaction(e,t){const i=this.safeString(e,"withdrawalRequestId"),s=void 0===i?"deposit":"withdrawal";let r=this.safeInteger(e,"lastUpdated");void 0!==r&&(r=parseInt(r/1e6));const a=void 0,n=this.safeString(e,"txId"),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),d=this.safeString(e,"address"),h=void 0,u=d,l=this.safeNumber(e,"amount"),f=this.parseTransactionStatus(this.safeString(e,"status")),p=void 0;return{info:e,id:i,txid:n,timestamp:a,datetime:this.iso8601(a),addressFrom:h,addressTo:u,address:d,tagFrom:void 0,tagTo:void 0,tag:void 0,type:s,amount:l,currency:c,status:f,updated:r,fee:p}}parseTransactionStatus(e){const t={1:"pending",2:"ok",3:"failed",4:"failed",5:"pending",100:"pending",101:"pending",102:"pending",103:"pending"};return this.safeString(t,e,e)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets(),await this.loadAccounts();const a=await this.getAccountId(r),n=this.currency(e);let o=this.uuid();o=o.split("-"),o=o.join("");const c={currency:n["id"],accountId:a,amount:this.currencyToPrecision(e,t),address:i,id:o},d=await this.privatePostTransfersAccountsAccountIdWithdrawals(this.extend(c,r));return this.parseTransaction(d,n)}parseLedgerEntryType(e){const t={deposit:"transaction",withdrawal:"transaction","internal deposit":"transfer","internal withdrawal":"transfer",rebate:"rebate",reward:"reward"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let s=void 0;const r=this.safeString(e,"accountId"),a=void 0,n=void 0,o=this.parseLedgerEntryType(this.safeString(e,"kind")),c=this.safeCurrencyCode(this.safeString(e,"currency"),t);let d=this.safeNumber(e,"amount");d<0?(s="out",d=Math.abs(d)):s="in";let h=this.safeInteger(e,"ts");void 0!==h&&(h=parseInt(h/1e6));const u={cost:this.safeNumber(e,"commission"),currency:c},l=void 0,f=this.safeNumber(e,"balance"),p="ok";return{info:e,id:i,direction:s,account:r,referenceId:a,referenceAccount:n,type:o,currency:c,amount:d,before:l,after:f,status:p,timestamp:h,datetime:this.iso8601(h),fee:u}}async fetchLedger(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();const r=await this.getAccountId(s),a={accountId:r};let n=void 0;void 0!==e&&(n=this.currency(e),a["symbol"]=n["id"]),void 0!==t&&(a["from"]=1e6*t),void 0!==i&&(a["limit"]=i);const o=await this.privateGetTransfersAccountsAccountIdBalanceHistory(this.extend(a,s));return this.parseLedger(o,n,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();let e=this.nonce();e=e.toString(),e+="000000";const t="AUTH"+e,s=this.secret.slice(14,78),c=this.ecdsa(t,s,"p256","sha256"),d=c["r"]+c["s"];r={"X-AUTH-API-KEY":this.apiKey,"X-AUTH-API-PAYLOAD":t,"X-AUTH-API-SIGNATURE":d,"X-AUTH-API-NONCE":e},"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"POST"===i&&(a=this.json(o),r["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&e>=400){const e=this.id+" "+this.json(o),t=this.safeString(o,"error"),i=this.exceptions["exact"];if(t in i)throw new i[t](e);const s=this.exceptions["broad"],a=this.findBroadlyMatchedKey(s,n);if(void 0!==a)throw new s[a](e);throw new r(e)}}}},"2ca0":function(e,t,i){"use strict";var s=i("23e7"),r=i("06cf").f,a=i("50c4"),n=i("5a34"),o=i("1d80"),c=i("ab13"),d=i("c430"),h="".startsWith,u=Math.min,l=c("startsWith"),f=!d&&!l&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();s({target:"String",proto:!0,forced:!f&&!l},{startsWith:function(e){var t=String(o(this));n(e);var i=a(u(arguments.length>1?arguments[1]:void 0,t.length)),s=String(e);return h?h.call(t,s,i):t.slice(i,i+s.length)===s}})},"2cdb":function(e,t,i){"use strict";var s=i("15b4"),r=i("9eef"),a=Object.prototype.hasOwnProperty,n={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=Array.prototype.push,d=function(e,t){c.apply(e,o(t)?t:[t])},h=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:s.encode,encodeValuesOnly:!1,formatter:r.formatters[r["default"]],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,i,r,a,n,c,h,l,f,p,m,g,y){var v=t;if("function"===typeof h?v=h(i,v):v instanceof Date?v=p(v):"comma"===r&&o(v)&&(v=v.join(",")),null===v){if(a)return c&&!g?c(i,u.encoder,y):i;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||s.isBuffer(v)){if(c){var b=g?i:c(i,u.encoder,y);return[m(b)+"="+m(c(v,u.encoder,y))]}return[m(i)+"="+m(String(v))]}var w,k=[];if("undefined"===typeof v)return k;if(o(h))w=h;else{var S=Object.keys(v);w=l?S.sort(l):S}for(var _=0;_<w.length;++_){var O=w[_];n&&null===v[O]||(o(v)?d(k,e(v[O],"function"===typeof r?r(i,O):i,r,a,n,c,h,l,f,p,m,g,y)):d(k,e(v[O],i+(f?"."+O:"["+O+"]"),r,a,n,c,h,l,f,p,m,g,y)))}return k},f=function(e){if(!e)return u;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=r["default"];if("undefined"!==typeof e.format){if(!a.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var s=r.formatters[i],n=u.filter;return("function"===typeof e.filter||o(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?u.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?u.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:u.encode,encoder:"function"===typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:n,formatter:s,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}};e.exports=function(e,t){var i,s,r=e,a=f(t);"function"===typeof a.filter?(s=a.filter,r=s("",r)):o(a.filter)&&(s=a.filter,i=s);var c,h=[];if("object"!==typeof r||null===r)return"";c=t&&t.arrayFormat in n?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var u=n[c];i||(i=Object.keys(r)),a.sort&&i.sort(a.sort);for(var p=0;p<i.length;++p){var m=i[p];a.skipNulls&&null===r[m]||d(h,l(r[m],m,u,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.formatter,a.encodeValuesOnly,a.charset))}var g=h.join(a.delimiter),y=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}},"2ceb":function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"2cf0":function(e,t){var i=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function s(e){return new i(e)}e.exports=s},"2cf4":function(e,t,i){var s,r,a,n=i("da84"),o=i("d039"),c=i("0366"),d=i("1be4"),h=i("cc12"),u=i("1cdc"),l=i("605d"),f=n.location,p=n.setImmediate,m=n.clearImmediate,g=n.process,y=n.MessageChannel,v=n.Dispatch,b=0,w={},k="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},_=function(e){return function(){S(e)}},O=function(e){S(e.data)},T=function(e){n.postMessage(e+"",f.protocol+"//"+f.host)};p&&m||(p=function(e){var t=[],i=1;while(arguments.length>i)t.push(arguments[i++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},s(b),b},m=function(e){delete w[e]},l?s=function(e){g.nextTick(_(e))}:v&&v.now?s=function(e){v.now(_(e))}:y&&!u?(r=new y,a=r.port2,r.port1.onmessage=O,s=c(a.postMessage,a,1)):n.addEventListener&&"function"==typeof postMessage&&!n.importScripts&&f&&"file:"!==f.protocol&&!o(T)?(s=T,n.addEventListener("message",O,!1)):s=k in h("script")?function(e){d.appendChild(h("script"))[k]=function(){d.removeChild(this),S(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:p,clear:m}},"2d00":function(e,t,i){var s,r,a=i("da84"),n=i("342f"),o=a.process,c=o&&o.versions,d=c&&c.v8;d?(s=d.split("."),r=s[0]<4?1:s[0]+s[1]):n&&(s=n.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=n.match(/Chrome\/(\d+)/),s&&(r=s[1]))),e.exports=r&&+r},"2d6e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("896c"),r=i("896c");t.ChaidId={toNumber:function(e){return"string"===typeof e?e.charCodeAt(0):e},isMainnet:function(e){return t.ChaidId.toNumber(e)===s.MAIN_NET_CHAIN_ID},isTestnet:function(e){return t.ChaidId.toNumber(e)===r.TEST_NET_CHAIN_ID}}},"2d83":function(e,t,i){"use strict";var s=i("387f");e.exports=function(e,t,i,r,a){var n=new Error(e);return s(n,t,i,r,a)}},"2e05":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,InsufficientFunds:n,OrderNotFound:o,BadRequest:c,BadSymbol:d}=i("74b0"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitbns",name:"Bitbns",countries:["IN"],rateLimit:1e3,certified:!1,pro:!1,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!1,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!1,fetchWithdrawals:!0},timeframes:{},urls:{logo:"https://user-images.githubusercontent.com/1294454/117201933-e7a6e780-adf5-11eb-9d80-98fc2a21c3d6.jpg",api:{ccxt:"https://bitbns.com/order",v1:"https://api.bitbns.com/api/trade/v1",v2:"https://api.bitbns.com/api/trade/v2"},www:"https://bitbns.com",referral:"https://ref.bitbns.com/1090961",doc:["https://bitbns.com/trade/#/api-trading/"],fees:"https://bitbns.com/fees"},api:{ccxt:{get:["fetchMarkets","fetchTickers","fetchOrderbook"]},v1:{get:["platform/status","tickers","orderbook/sell/{symbol}","orderbook/buy/{symbol}"],post:["currentCoinBalance/EVERYTHING","getApiUsageStatus/USAGE","getOrderSocketToken/USAGE","currentCoinBalance/{symbol}","orderStatus/{symbol}","depositHistory/{symbol}","withdrawHistory/{symbol}","listOpenOrders/{symbol}","listOpenStopOrders/{symbol}","getCoinAddress/{symbol}","placeSellOrder/{symbol}","placeBuyOrder/{symbol}","buyStopLoss/{symbol}","placeSellOrder/{symbol}","cancelOrder/{symbol}","cancelStopLossOrder/{symbol}","listExecutedOrders/{symbol}"]},v2:{post:["orders","cancel","getordersnew","marginOrders"]}},fees:{trading:{feeSide:"quote",tierBased:!1,percentage:!0,taker:.0025,maker:.0025}},exceptions:{exact:{400:c,409:d,416:n,417:o},broad:{}}})}async fetchStatus(e={}){const t=await this.v1GetPlatformStatus(e);let i=this.safeString(t,"status");return void 0!==i&&(i="1"===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchMarkets(e={}){const t=await this.ccxtGetFetchMarkets(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeString(e,"base"),n=this.safeString(e,"quote"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"precision",{}),u={amount:this.safeInteger(h,"amount"),price:this.safeInteger(h,"price")},l=this.safeValue(e,"limits",{}),f=this.safeValue(l,"amount",{}),p=this.safeValue(l,"price",{}),m=this.safeValue(l,"cost",{}),g="USDT"===n,y=g?a+"_"+n:a;i.push({id:r,uppercaseId:y,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:void 0,precision:u,limits:{amount:{min:this.safeNumber(f,"min"),max:this.safeNumber(f,"max")},price:{min:this.safeNumber(p,"min"),max:this.safeNumber(p,"max")},cost:{min:this.safeNumber(m,"min"),max:this.safeNumber(m,"max")}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.ccxtGetFetchOrderbook(this.extend(r,i)),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,n)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidVolume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askVolume"),vwap:this.safeNumber(e,"vwap"),open:this.safeNumber(e,"open"),close:a,last:a,previousClose:this.safeNumber(e,"previousClose"),change:this.safeNumber(e,"change"),percentage:this.safeNumber(e,"percentage"),average:this.safeNumber(e,"average"),baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.ccxtGetFetchTickers(t);return this.parseTickers(i,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1PostCurrentCoinBalanceEVERYTHING(e),i=void 0,s={info:t,timestamp:i,datetime:this.iso8601(i)},r=this.safeValue(t,"data",{}),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=e.split("availableorder"),i=t.length;if(i>1){const i=this.safeString(t,1);if("Money"!==i){const t=this.safeCurrencyCode(i),a=this.account();a["free"]=this.safeString(r,e),a["used"]=this.safeString(r,"inorder"+i),s[t]=a}}}return this.parseBalance(s,!1)}parseOrderStatus(e){const t={0:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString2(e,"id","entry_id"),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.parse8601(this.safeString(e,"time")),n=this.safeNumber(e,"rate"),o=this.safeNumber2(e,"amount","btc"),c=this.safeNumber(e,"filled"),d=this.safeNumber(e,"remaining"),h=this.safeNumber(e,"avg_cost"),u=this.safeNumber(e,"cost");let l=this.safeStringLower(e,"type");"0"===l&&(l="limit");const f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeStringLower(e,"side"),m=this.safeNumber(e,"fee");let g=void 0;if(void 0!==m){const e=void 0;g={cost:m,currency:e}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:l,timeInForce:void 0,postOnly:void 0,side:p,price:n,stopPrice:void 0,amount:o,cost:u,average:h,filled:c,remaining:d,status:f,fee:g,trades:void 0})}async createOrder(e,t,i,s,a,n={}){if("limit"!==t)throw new r(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={side:i.toUpperCase(),symbol:o["baseId"]+"_"+o["quoteId"],quantity:this.amountToPrecision(e,s),rate:this.priceToPrecision(e,a)},d=await this.v2PostOrders(this.extend(c,n));return this.parseOrder(d,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r="USDT"===s["quoteId"]?"usdtcancelOrder":"cancelOrder",n={entry_id:e,symbol:s["uppercaseId"],side:r},o=await this.v2PostCancel(this.extend(n,i));return this.parseOrder(o,s)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={symbol:s["id"],entry_id:e},n=await this.v1PostOrderStatusSymbol(this.extend(r,i)),o=this.safeValue(n,"data",[]),c=this.safeValue(o,0);return this.parseOrder(c,s)}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n="USDT"===r["quoteId"]?"usdtListOpenOrders":"listOpenOrders",o={symbol:r["uppercaseId"],side:n,page:0},c=await this.v2PostGetordersnew(this.extend(o,s)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,r,t,i)}parseTrade(e,t){t=this.safeMarket(void 0,t);const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"date")),r=this.safeString(e,"amount"),a=this.safeString(e,"rate"),n=this.parseNumber(a),o=this.safeString(e,"factor"),c=h.stringDiv(r,o),d=this.parseNumber(c),u=this.parseNumber(h.stringMul(a,c)),l=t["symbol"];let f=this.safeStringLower(e,"type");f.indexOf("sell")>=0?f="sell":f.indexOf("buy")>=0&&(f="buy");let p=void 0;const m=this.safeNumber(e,"fee");if(void 0!==m){const e=t["quote"];p={cost:m,currency:e}}return{info:e,timestamp:s,datetime:this.iso8601(s),symbol:l,id:void 0,order:i,type:void 0,side:f,takerOrMaker:void 0,price:n,amount:d,cost:u,fee:p}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={symbol:r["id"],page:0};void 0!==t&&(n["since"]=this.iso8601(t));const o=await this.v1PostListExecutedOrdersSymbol(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,r,t,i)}async fetchDeposits(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),n={symbol:r["id"],page:0},o=await this.v1PostDepositHistorySymbol(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,r,t,i)}async fetchWithdrawals(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),n={symbol:r["id"],page:0},o=await this.v1PostWithdrawHistorySymbol(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,r,t,i)}parseTransactionStatusByType(e,t){const i={deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}},s=this.safeValue(i,t,{});return this.safeString(s,e,e)}parseTransaction(e,t){const i=this.safeString(e,"unit"),s=this.safeCurrencyCode(i,t),r=this.parse8601(this.safeString(e,"date"));let a=this.safeString(e,"type"),n=void 0;void 0!==a&&(a.indexOf("deposit")>=0?(a="deposit",n="ok"):a.indexOf("withdraw")>=0&&(a="withdrawal"));const o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"fee");let d=void 0;return void 0!==c&&(d={currency:s,cost:c}),{info:e,id:void 0,txid:void 0,timestamp:r,datetime:this.iso8601(r),address:void 0,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:a,amount:o,currency:s,status:n,updated:void 0,internal:void 0,fee:d}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={symbol:i["id"]},r=await this.v1PostGetCoinAddressSymbol(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeString(a,"token"),o=this.safeString(a,"tag");return this.checkAddress(n),{currency:e,address:n,tag:o,info:r}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={coin:a["id"],address:i,amount:t};void 0!==s&&(n["addressTag"]=s);const o=await this.sapiPostCapitalWithdrawApply(this.extend(n,r));return{info:o,id:this.safeString(o,"id")}}nonce(){return this.milliseconds()}sign(e,t="v1",i="GET",s={},r,a){this.checkRequiredCredentials();const n=this.implodeHostname(this.urls["api"][t]);let o=n+"/"+this.implodeParams(e,s);const c=this.omit(s,this.extractParams(e)),d=this.nonce().toString();if(r={"X-BITBNS-APIKEY":this.apiKey},"GET"===i)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("POST"===i){a=Object.keys(c).length?this.json(c):"{}";const e={timeStamp_nonce:d,body:a},t=this.stringToBase64(this.json(e)),i=this.hmac(t,this.encode(this.secret),"sha512");r["X-BITBNS-PAYLOAD"]=this.decode(t),r["X-BITBNS-SIGNATURE"]=i,r["Content-Type"]="application/x-www-form-urlencoded"}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"msg"),l=void 0!==h&&"200"!==h;if(l||void 0!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new r(e)}}}},"2e67":function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f62":function(e,t,i){"use strict";(function(e){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function i(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:s});else{var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[s].concat(e.init):s,i.call(this,e)}}function s(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}var s="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},r=s.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e){r&&(e._devtoolHook=r,r.emit("vuex:init",e),r.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){r.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){r.emit("vuex:action",e,t)}),{prepend:!0}))}function n(e,t){return e.filter(t)[0]}function o(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var i=n(t,(function(t){return t.original===e}));if(i)return i.copy;var s=Array.isArray(e)?[]:{};return t.push({original:e,copy:s}),Object.keys(e).forEach((function(i){s[i]=o(e[i],t)})),s}function c(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function d(e){return null!==e&&"object"===typeof e}function h(e){return e&&"function"===typeof e.then}function u(e,t){return function(){return e(t)}}var l=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"===typeof i?i():i)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(e,t){this._children[e]=t},l.prototype.removeChild=function(e){delete this._children[e]},l.prototype.getChild=function(e){return this._children[e]},l.prototype.hasChild=function(e){return e in this._children},l.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},l.prototype.forEachChild=function(e){c(this._children,e)},l.prototype.forEachGetter=function(e){this._rawModule.getters&&c(this._rawModule.getters,e)},l.prototype.forEachAction=function(e){this._rawModule.actions&&c(this._rawModule.actions,e)},l.prototype.forEachMutation=function(e){this._rawModule.mutations&&c(this._rawModule.mutations,e)},Object.defineProperties(l.prototype,f);var p=function(e){this.register([],e,!1)};function m(e,t,i){if(t.update(i),i.modules)for(var s in i.modules){if(!t.getChild(s))return void 0;m(e.concat(s),t.getChild(s),i.modules[s])}}p.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},p.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")}),"")},p.prototype.update=function(e){m([],this.root,e)},p.prototype.register=function(e,t,i){var s=this;void 0===i&&(i=!0);var r=new l(t,i);if(0===e.length)this.root=r;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],r)}t.modules&&c(t.modules,(function(t,r){s.register(e.concat(r),t,i)}))},p.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],s=t.getChild(i);s&&s.runtime&&t.removeChild(i)},p.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var g;var y=function(e){var t=this;void 0===e&&(e={}),!g&&"undefined"!==typeof window&&window.Vue&&N(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var s=e.strict;void 0===s&&(s=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var r=this,n=this,o=n.dispatch,c=n.commit;this.dispatch=function(e,t){return o.call(r,e,t)},this.commit=function(e,t,i){return c.call(r,e,t,i)},this.strict=s;var d=this._modules.root.state;S(this,d,[],this._modules.root),k(this,d),i.forEach((function(e){return e(t)}));var h=void 0!==e.devtools?e.devtools:g.config.devtools;h&&a(this)},v={state:{configurable:!0}};function b(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function w(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;S(e,i,[],e._modules.root,!0),k(e,i,t)}function k(e,t,i){var s=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};c(r,(function(t,i){a[i]=u(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var n=g.config.silent;g.config.silent=!0,e._vm=new g({data:{$$state:t},computed:a}),g.config.silent=n,e.strict&&I(e),s&&(i&&e._withCommit((function(){s._data.$$state=null})),g.nextTick((function(){return s.$destroy()})))}function S(e,t,i,s,r){var a=!i.length,n=e._modules.getNamespace(i);if(s.namespaced&&(e._modulesNamespaceMap[n],e._modulesNamespaceMap[n]=s),!a&&!r){var o=E(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit((function(){g.set(o,c,s.state)}))}var d=s.context=_(e,n,i);s.forEachMutation((function(t,i){var s=n+i;T(e,s,t,d)})),s.forEachAction((function(t,i){var s=t.root?i:n+i,r=t.handler||t;C(e,s,r,d)})),s.forEachGetter((function(t,i){var s=n+i;x(e,s,t,d)})),s.forEachChild((function(s,a){S(e,t,i.concat(a),s,r)}))}function _(e,t,i){var s=""===t,r={dispatch:s?e.dispatch:function(i,s,r){var a=A(i,s,r),n=a.payload,o=a.options,c=a.type;return o&&o.root||(c=t+c),e.dispatch(c,n)},commit:s?e.commit:function(i,s,r){var a=A(i,s,r),n=a.payload,o=a.options,c=a.type;o&&o.root||(c=t+c),e.commit(c,n,o)}};return Object.defineProperties(r,{getters:{get:s?function(){return e.getters}:function(){return O(e,t)}},state:{get:function(){return E(e.state,i)}}}),r}function O(e,t){if(!e._makeLocalGettersCache[t]){var i={},s=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,s)===t){var a=r.slice(s);Object.defineProperty(i,a,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function T(e,t,i,s){var r=e._mutations[t]||(e._mutations[t]=[]);r.push((function(t){i.call(e,s.state,t)}))}function C(e,t,i,s){var r=e._actions[t]||(e._actions[t]=[]);r.push((function(t){var r=i.call(e,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:e.getters,rootState:e.state},t);return h(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))}function x(e,t,i,s){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return i(s.state,s.getters,e.state,e.getters)})}function I(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function E(e,t){return t.reduce((function(e,t){return e[t]}),e)}function A(e,t,i){return d(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function N(e){g&&e===g||(g=e,i(g))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(e){0},y.prototype.commit=function(e,t,i){var s=this,r=A(e,t,i),a=r.type,n=r.payload,o=(r.options,{type:a,payload:n}),c=this._mutations[a];c&&(this._withCommit((function(){c.forEach((function(e){e(n)}))})),this._subscribers.slice().forEach((function(e){return e(o,s.state)})))},y.prototype.dispatch=function(e,t){var i=this,s=A(e,t),r=s.type,a=s.payload,n={type:r,payload:a},o=this._actions[r];if(o){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(n,i.state)}))}catch(d){0}var c=o.length>1?Promise.all(o.map((function(e){return e(a)}))):o[0](a);return new Promise((function(e,t){c.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(n,i.state)}))}catch(d){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(n,i.state,e)}))}catch(d){0}t(e)}))}))}},y.prototype.subscribe=function(e,t){return b(e,this._subscribers,t)},y.prototype.subscribeAction=function(e,t){var i="function"===typeof e?{before:e}:e;return b(i,this._actionSubscribers,t)},y.prototype.watch=function(e,t,i){var s=this;return this._watcherVM.$watch((function(){return e(s.state,s.getters)}),t,i)},y.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},y.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),S(this,this.state,e,this._modules.get(e),i.preserveState),k(this,this.state)},y.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=E(t.state,e.slice(0,-1));g.delete(i,e[e.length-1])})),w(this)},y.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},y.prototype.hotUpdate=function(e){this._modules.update(e),w(this,!0)},y.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(y.prototype,v);var M=q((function(e,t){var i={};return V(t).forEach((function(t){var s=t.key,r=t.val;i[s]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var s=j(this.$store,"mapState",e);if(!s)return;t=s.context.state,i=s.context.getters}return"function"===typeof r?r.call(this,t,i):t[r]},i[s].vuex=!0})),i})),P=q((function(e,t){var i={};return V(t).forEach((function(t){var s=t.key,r=t.val;i[s]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var s=this.$store.commit;if(e){var a=j(this.$store,"mapMutations",e);if(!a)return;s=a.context.commit}return"function"===typeof r?r.apply(this,[s].concat(t)):s.apply(this.$store,[r].concat(t))}})),i})),B=q((function(e,t){var i={};return V(t).forEach((function(t){var s=t.key,r=t.val;r=e+r,i[s]=function(){if(!e||j(this.$store,"mapGetters",e))return this.$store.getters[r]},i[s].vuex=!0})),i})),R=q((function(e,t){var i={};return V(t).forEach((function(t){var s=t.key,r=t.val;i[s]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var s=this.$store.dispatch;if(e){var a=j(this.$store,"mapActions",e);if(!a)return;s=a.context.dispatch}return"function"===typeof r?r.apply(this,[s].concat(t)):s.apply(this.$store,[r].concat(t))}})),i})),L=function(e){return{mapState:M.bind(null,e),mapGetters:B.bind(null,e),mapMutations:P.bind(null,e),mapActions:R.bind(null,e)}};function V(e){return D(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function D(e){return Array.isArray(e)||d(e)}function q(e){return function(t,i){return"string"!==typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function j(e,t,i){var s=e._modulesNamespaceMap[i];return s}function G(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var s=e.transformer;void 0===s&&(s=function(e){return e});var r=e.mutationTransformer;void 0===r&&(r=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var n=e.actionTransformer;void 0===n&&(n=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var d=e.logActions;void 0===d&&(d=!0);var h=e.logger;return void 0===h&&(h=console),function(e){var u=o(e.state);"undefined"!==typeof h&&(c&&e.subscribe((function(e,a){var n=o(a);if(i(e,u,n)){var c=H(),d=r(e),l="mutation "+e.type+c;U(h,l,t),h.log("%c prev state","color: #9E9E9E; font-weight: bold",s(u)),h.log("%c mutation","color: #03A9F4; font-weight: bold",d),h.log("%c next state","color: #4CAF50; font-weight: bold",s(n)),F(h)}u=n})),d&&e.subscribeAction((function(e,i){if(a(e,i)){var s=H(),r=n(e),o="action "+e.type+s;U(h,o,t),h.log("%c action","color: #03A9F4; font-weight: bold",r),F(h)}})))}}function U(e,t,i){var s=i?e.groupCollapsed:e.group;try{s.call(e,t)}catch(r){e.log(t)}}function F(e){try{e.groupEnd()}catch(t){e.log(" log end ")}}function H(){var e=new Date;return" @ "+K(e.getHours(),2)+":"+K(e.getMinutes(),2)+":"+K(e.getSeconds(),2)+"."+K(e.getMilliseconds(),3)}function z(e,t){return new Array(t+1).join(e)}function K(e,t){return z("0",t-e.toString().length)+e}var W={Store:y,install:N,version:"3.6.2",mapState:M,mapMutations:P,mapGetters:B,mapActions:R,createNamespacedHelpers:L,createLogger:G};t["a"]=W}).call(this,i("c8ba"))},"2fa4":function(e,t,i){"use strict";i("20f6");var s=i("80d2");t["a"]=Object(s["h"])("spacer","div","v-spacer")},"2fad":function(e,t,i){var s=i("5a7c"),r=i("53063"),a=s((function(e,t){return r([e],t)[0]}));e.exports=a},3022:function(e,t,i){(function(e){var s=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},s=0;s<t.length;s++)i[t[s]]=Object.getOwnPropertyDescriptor(e,t[s]);return i},r=/%[sdj%]/g;t.format=function(e){if(!S(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var s=arguments,a=s.length,n=String(e).replace(r,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(s[i++]);case"%d":return Number(s[i++]);case"%j":try{return JSON.stringify(s[i++])}catch(t){return"[Circular]"}default:return e}})),c=s[i];i<a;c=s[++i])b(c)||!C(c)?n+=" "+c:n+=" "+o(c);return n},t.deprecate=function(i,s){if("undefined"!==typeof e&&!0===e.noDeprecation)return i;if("undefined"===typeof e)return function(){return t.deprecate(i,s).apply(this,arguments)};var r=!1;function a(){if(!r){if(e.throwDeprecation)throw new Error(s);e.traceDeprecation?console.trace(s):console.error(s),r=!0}return i.apply(this,arguments)}return a};var a,n={};function o(e,i){var s={seen:[],stylize:d};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),v(i)?s.showHidden=i:i&&t._extend(s,i),O(s.showHidden)&&(s.showHidden=!1),O(s.depth)&&(s.depth=2),O(s.colors)&&(s.colors=!1),O(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=c),u(s,e,s.depth)}function c(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function d(e,t){return e}function h(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}function u(e,i,s){if(e.customInspect&&i&&E(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(s,e);return S(r)||(r=u(e,r,s)),r}var a=l(e,i);if(a)return a;var n=Object.keys(i),o=h(n);if(e.showHidden&&(n=Object.getOwnPropertyNames(i)),I(i)&&(n.indexOf("message")>=0||n.indexOf("description")>=0))return f(i);if(0===n.length){if(E(i)){var c=i.name?": "+i.name:"";return e.stylize("[Function"+c+"]","special")}if(T(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(x(i))return e.stylize(Date.prototype.toString.call(i),"date");if(I(i))return f(i)}var d,v="",b=!1,w=["{","}"];if(y(i)&&(b=!0,w=["[","]"]),E(i)){var k=i.name?": "+i.name:"";v=" [Function"+k+"]"}return T(i)&&(v=" "+RegExp.prototype.toString.call(i)),x(i)&&(v=" "+Date.prototype.toUTCString.call(i)),I(i)&&(v=" "+f(i)),0!==n.length||b&&0!=i.length?s<0?T(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),d=b?p(e,i,s,o,n):n.map((function(t){return m(e,i,s,o,t,b)})),e.seen.pop(),g(d,v,w)):w[0]+v+w[1]}function l(e,t){if(O(t))return e.stylize("undefined","undefined");if(S(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return k(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,i,s,r){for(var a=[],n=0,o=t.length;n<o;++n)R(t,String(n))?a.push(m(e,t,i,s,String(n),!0)):a.push("");return r.forEach((function(r){r.match(/^\d+$/)||a.push(m(e,t,i,s,r,!0))})),a}function m(e,t,i,s,r,a){var n,o,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),R(s,r)||(n="["+r+"]"),o||(e.seen.indexOf(c.value)<0?(o=b(i)?u(e,c.value,null):u(e,c.value,i-1),o.indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n"))):o=e.stylize("[Circular]","special")),O(n)){if(a&&r.match(/^\d+$/))return o;n=JSON.stringify(""+r),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=e.stylize(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=e.stylize(n,"string"))}return n+": "+o}function g(e,t,i){var s=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return s>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function y(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function b(e){return null===e}function w(e){return null==e}function k(e){return"number"===typeof e}function S(e){return"string"===typeof e}function _(e){return"symbol"===typeof e}function O(e){return void 0===e}function T(e){return C(e)&&"[object RegExp]"===N(e)}function C(e){return"object"===typeof e&&null!==e}function x(e){return C(e)&&"[object Date]"===N(e)}function I(e){return C(e)&&("[object Error]"===N(e)||e instanceof Error)}function E(e){return"function"===typeof e}function A(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function N(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(O(a)&&(a=Object({NODE_ENV:"production",BASE_URL:"/"}).NODE_DEBUG||""),i=i.toUpperCase(),!n[i])if(new RegExp("\\b"+i+"\\b","i").test(a)){var s=e.pid;n[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,s,e)}}else n[i]=function(){};return n[i]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=y,t.isBoolean=v,t.isNull=b,t.isNullOrUndefined=w,t.isNumber=k,t.isString=S,t.isSymbol=_,t.isUndefined=O,t.isRegExp=T,t.isObject=C,t.isDate=x,t.isError=I,t.isFunction=E,t.isPrimitive=A,t.isBuffer=i("d60a");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",B(),t.format.apply(t,arguments))},t.inherits=i("28a0"),t._extend=function(e,t){if(!t||!C(t))return e;var i=Object.keys(t),s=i.length;while(s--)e[i[s]]=t[i[s]];return e};var L="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function V(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}function D(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);var r=i.pop();if("function"!==typeof r)throw new TypeError("The last argument must be of type Function");var a=this,n=function(){return r.apply(a,arguments)};t.apply(this,i).then((function(t){e.nextTick(n,null,t)}),(function(t){e.nextTick(V,t,n)}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,s(t)),i}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t=e[L];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,s=new Promise((function(e,s){t=e,i=s})),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push((function(e,s){e?i(e):t(s)}));try{e.apply(this,r)}catch(n){i(n)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,s(e))},t.promisify.custom=L,t.callbackify=D}).call(this,i("4362"))},"30b5":function(e,t,i){"use strict";var s=i("c532");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var a;if(i)a=i(t);else if(s.isURLSearchParams(t))a=t.toString();else{var n=[];s.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,(function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),n.push(r(t)+"="+r(e))})))})),a=n.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},3206:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("ade3"),r=(i("99af"),i("2b0e")),a=i("d9bd");function n(e,t){return function(){return Object(a["c"])("The ".concat(e," component must be used inside a ").concat(t))}}function o(e,t,i){var a=t&&i?{register:n(t,i),unregister:n(t,i)}:null;return r["a"].extend({name:"registrable-inject",inject:Object(s["a"])({},e,{default:a})})}},"320c":function(e,t,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var s=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==s.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}e.exports=o()?Object.assign:function(e,t){for(var i,o,c=n(e),d=1;d<arguments.length;d++){for(var h in i=Object(arguments[d]),i)r.call(i,h)&&(c[h]=i[h]);if(s){o=s(i);for(var u=0;u<o.length;u++)a.call(i,o[u])&&(c[o[u]]=i[o[u]])}}return c}},"324d":function(e,t,i){"use strict";const s=i("01b4");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bequant",name:"Bequant",countries:["MT"],pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/55248342-a75dfe00-525a-11e9-8aa2-05e9dca943c6.jpg",api:{public:"https://api.bequant.io",private:"https://api.bequant.io"},www:"https://bequant.io",doc:["https://api.bequant.io/"],fees:["https://bequant.io/fees-and-limits"],referral:"https://bequant.io"}})}}},"32f6":function(e,t,i){var s=i("b61d"),r=i("a438"),a=i("5c27");for(var n in e.exports={Reader:a},r)r.hasOwnProperty(n)&&(e.exports[n]=r[n]);for(var o in s)s.hasOwnProperty(o)&&(e.exports[o]=s[o])},"33ab":function(e,t,i){"use strict";const s=i("90db"),{TICK_SIZE:r}=i("5ea4"),{AuthenticationError:a,ExchangeError:n,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:d,OrderNotFound:h,DDoSProtection:u,NotSupported:l,ExchangeNotAvailable:f,InsufficientFunds:p,BadRequest:m,InvalidAddress:g,OnMaintenance:y}=i("74b0"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"deribit",name:"Deribit",countries:["NL"],version:"v2",userAgent:void 0,rateLimit:500,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","3m":"3","5m":"5","10m":"10","15m":"15","30m":"30","1h":"60","2h":"120","3h":"180","6h":"360","12h":"720","1d":"1D"},urls:{test:"https://test.deribit.com",logo:"https://user-images.githubusercontent.com/1294454/41933112-9e2dd65a-798b-11e8-8440-5bab2959fcb8.jpg",api:"https://www.deribit.com",www:"https://www.deribit.com",doc:["https://docs.deribit.com/v2","https://github.com/deribit"],fees:"https://www.deribit.com/pages/information/fees",referral:"https://www.deribit.com/reg-1189.4038"},api:{public:{get:["auth","exchange_token","fork_token","set_heartbeat","disable_heartbeat","get_time","hello","test","subscribe","unsubscribe","get_announcements","get_book_summary_by_currency","get_book_summary_by_instrument","get_contract_size","get_currencies","get_funding_chart_data","get_funding_rate_history","get_funding_rate_value","get_historical_volatility","get_index","get_index_price","get_index_price_names","get_instruments","get_last_settlements_by_currency","get_last_settlements_by_instrument","get_last_trades_by_currency","get_last_trades_by_currency_and_time","get_last_trades_by_instrument","get_last_trades_by_instrument_and_time","get_order_book","get_trade_volumes","get_tradingview_chart_data","ticker"]},private:{get:["logout","enable_cancel_on_disconnect","disable_cancel_on_disconnect","get_cancel_on_disconnect","subscribe","unsubscribe","change_api_key_name","change_scope_in_api_key","change_subaccount_name","create_api_key","create_subaccount","disable_api_key","disable_tfa_for_subaccount","enable_api_key","get_account_summary","get_email_language","get_new_announcements","get_position","get_positions","get_subaccounts","list_api_keys","remove_api_key","reset_api_key","set_announcement_as_read","set_api_key_as_default","set_email_for_subaccount","set_email_language","set_password_for_subaccount","toggle_notifications_from_subaccount","toggle_subaccount_login","execute_block_trade","get_block_trade","get_last_block_trades_by_currency","invalidate_block_trade_signature","verify_block_trade","buy","sell","edit","cancel","cancel_all","cancel_all_by_currency","cancel_all_by_instrument","cancel_by_label","close_position","get_margins","get_open_orders_by_currency","get_open_orders_by_instrument","get_order_history_by_currency","get_order_history_by_instrument","get_order_margin_by_ids","get_order_state","get_stop_order_history","get_user_trades_by_currency","get_user_trades_by_currency_and_time","get_user_trades_by_instrument","get_user_trades_by_instrument_and_time","get_user_trades_by_order","get_settlement_history_by_instrument","get_settlement_history_by_currency","cancel_transfer_by_id","cancel_withdrawal","create_deposit_address","get_current_deposit_address","get_deposits","get_transfers","get_withdrawals","submit_transfer_to_subaccount","submit_transfer_to_user","withdraw"]}},exceptions:{9999:c,1e4:a,10001:n,10002:d,10003:d,10004:h,10005:d,10006:d,10007:d,10008:d,10009:p,10010:h,10011:d,10012:d,10013:c,10014:c,10015:c,10016:c,10017:c,10018:c,10019:c,10020:n,10021:d,10022:d,10023:d,10024:d,10025:d,10026:d,10027:d,10028:u,10029:h,10030:n,10031:n,10032:d,10033:l,10034:d,10035:d,10036:d,10040:f,10041:y,10043:d,10044:d,10045:d,10046:d,10047:u,10048:n,11008:d,11029:m,11030:n,11031:n,11035:u,11036:d,11037:m,11038:d,11039:d,11041:d,11042:c,11043:m,11044:d,11045:m,11046:m,11047:m,11048:n,11049:m,11050:m,11051:y,11052:n,11053:n,11090:g,11091:g,11092:g,11093:u,11094:n,11095:n,11096:n,12e3:a,12001:u,12002:n,12998:a,12003:a,12004:a,12005:a,12100:n,12999:a,13e3:a,13001:a,13002:c,13003:a,13004:a,13005:a,13006:a,13007:a,13008:n,13009:a,13010:m,13011:m,13012:c,13013:m,13014:m,13015:m,13016:m,13017:n,13018:n,13019:n,13020:n,13021:c,13025:n,"-32602":m,"-32601":m,"-32700":m,"-32000":m},precisionMode:r,options:{code:"BTC",fetchBalance:{code:"BTC"}}})}async fetchTime(e={}){const t=await this.publicGetGetTime(e);return this.safeInteger(t,"result")}codeFromOptions(e){const t=this.safeValue(this.options,"code","BTC"),i=this.safeValue(this.options,e,{});return this.safeValue(i,"code",t)}async fetchStatus(e={}){const t={};return await this.publicGetTest(this.extend(t,e)),this.status=this.extend(this.status,{status:"ok",updated:this.milliseconds()}),this.status}async fetchMarkets(e={}){const t=await this.publicGetGetCurrencies(e),i=this.safeValue(t,"result",[]),s=[];for(let r=0;r<i.length;r++){const t=this.safeString(i[r],"currency"),a={currency:t},n=await this.publicGetGetInstruments(this.extend(a,e)),o=this.safeValue(n,"result",[]);for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"instrument_name"),r=this.safeString(t,"base_currency"),a=this.safeString(t,"quote_currency"),n=this.safeCurrencyCode(r),c=this.safeCurrencyCode(a),d=this.safeString(t,"kind"),h="future"===d,u="option"===d,l=this.safeValue(t,"is_active"),f=this.safeNumber(t,"min_trade_amount"),p=this.safeNumber(t,"tick_size"),m={amount:f,price:p};s.push({id:i,symbol:i,base:n,quote:c,active:l,precision:m,taker:this.safeNumber(t,"taker_commission"),maker:this.safeNumber(t,"maker_commission"),limits:{amount:{min:f,max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}},type:d,spot:!1,future:h,option:u,info:t})}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=this.codeFromOptions("fetchBalance"),i=this.currency(t),s={currency:i["id"]},r=await this.privateGetGetAccountSummary(this.extend(s,e)),a={info:r},n=this.safeValue(r,"result",{}),o=this.safeString(n,"currency"),c=this.safeCurrencyCode(o),d=this.account();return d["free"]=this.safeString(n,"availableFunds"),d["used"]=this.safeString(n,"maintenanceMargin"),d["total"]=this.safeString(n,"equity"),a[c]=d,this.parseBalance(a,!1)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetCreateDepositAddress(this.extend(s,t)),a=this.safeValue(r,"result",{}),n=this.safeString(a,"address");return this.checkAddress(n),{currency:e,address:n,tag:void 0,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetGetCurrentDepositAddress(this.extend(s,t)),a=this.safeValue(r,"result",{}),n=this.safeString(a,"address");return this.checkAddress(n),{currency:e,address:n,tag:void 0,info:r}}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","creation_timestamp"),s=this.safeString(e,"instrument_name"),r=this.safeSymbol(s,t),a=this.safeNumber2(e,"last_price","last"),n=this.safeValue(e,"stats",e);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(n,"high","max_price"),low:this.safeNumber2(n,"low","min_price"),bid:this.safeNumber2(e,"best_bid_price","bid_price"),bidVolume:this.safeNumber(e,"best_bid_amount"),ask:this.safeNumber2(e,"best_ask_price","ask_price"),askVolume:this.safeNumber(e,"best_ask_amount"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(n,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={instrument_name:i["id"]},r=await this.publicGetTicker(this.extend(s,t)),a=this.safeValue(r,"result");return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.codeFromOptions("fetchTickers"),s=this.currency(i),r={currency:s["id"]},a=await this.publicGetGetBookSummaryByCurrency(this.extend(r,t)),n=this.safeValue(a,"result",[]),o={};for(let c=0;c<n.length;c++){const e=this.parseTicker(n[c]),t=e["symbol"];o[t]=e}return this.filterByArray(o,"symbol",e)}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={instrument_name:a["id"],resolution:this.timeframes[t]},c=this.parseTimeframe(t),d=this.milliseconds();if(void 0===i){if(void 0===s)throw new o(this.id+" fetchOHLCV() requires a since argument or a limit argument");n["start_timestamp"]=d-(s-1)*c*1e3,n["end_timestamp"]=d}else n["start_timestamp"]=i,n["end_timestamp"]=void 0===s?d:this.sum(i,s*c*1e3);const h=await this.publicGetGetTradingviewChartData(this.extend(n,r)),u=this.safeValue(h,"result",{}),l=this.convertTradingViewToOHLCV(u,"ticks","open","high","low","close","volume",!0);return this.parseOHLCVs(l,a,t,i,s)}parseTrade(e,t){const i=this.safeString(e,"trade_id"),s=this.safeString(e,"instrument_name"),r=this.safeSymbol(s,t),a=this.safeInteger(e,"timestamp"),n=this.safeString(e,"direction"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(v.stringMul(o,c)),l=this.safeString(e,"liquidity");let f=void 0;void 0!==l&&(f="M"===l?"maker":"taker");const p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"fee_currency"),i=this.safeCurrencyCode(t);m={cost:p,currency:i}}return{id:i,info:e,timestamp:a,datetime:this.iso8601(a),symbol:r,order:this.safeString(e,"order_id"),type:this.safeString(e,"order_type"),side:n,takerOrMaker:f,price:d,amount:h,cost:u,fee:m}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={instrument_name:r["id"],include_old:!0},n=void 0===t?"publicGetGetLastTradesByInstrument":"publicGetGetLastTradesByInstrumentAndTime";void 0!==t&&(a["start_timestamp"]=t),void 0!==i&&(a["count"]=i);const o=await this[n](this.extend(a,s)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,r,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={instrument_name:s["id"]};void 0!==t&&(r["depth"]=t);const a=await this.publicGetGetOrderBook(this.extend(r,i)),n=this.safeValue(a,"result",{}),o=this.safeInteger(n,"timestamp"),c=this.safeInteger(n,"change_id"),d=this.parseOrderBook(n,e,o);return d["nonce"]=c,d}parseOrderStatus(e){const t={open:"open",cancelled:"canceled",filled:"closed",rejected:"rejected",untriggered:"open"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={good_til_cancelled:"GTC",fill_or_kill:"FOK",immediate_or_cancel:"IOC"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp"),s=this.safeInteger(e,"last_update_timestamp"),r=this.safeString(e,"order_id"),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"average_price"),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"filled_amount");let d=void 0;void 0!==c&&c>0&&(d=s);const h=this.parseOrderStatus(this.safeString(e,"order_state")),u=this.safeString(e,"instrument_name");t=this.safeMarket(u,t);const l=this.safeStringLower(e,"direction");let f=this.safeNumber(e,"commission"),p=void 0;void 0!==f&&(f=Math.abs(f),p={cost:f,currency:t["base"]});const m=this.safeString(e,"order_type");let g=this.safeValue(e,"trades");void 0!==g&&(g=this.parseTrades(g,t));const y=this.parseTimeInForce(this.safeString(e,"time_in_force")),v=this.safeValue(e,"stop_price"),b=this.safeValue(e,"post_only");return this.safeOrder({info:e,id:r,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:d,symbol:t["symbol"],type:m,timeInForce:y,postOnly:b,side:l,price:a,stopPrice:v,amount:o,cost:void 0,average:n,filled:c,remaining:void 0,status:h,fee:p,trades:g})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetGetOrderState(this.extend(s,i)),a=this.safeValue(r,"result");return this.parseOrder(a)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),c={instrument_name:n["id"],amount:this.amountToPrecision(e,s),type:t};let d=!1,h=!1;if("limit"===t?d=!0:"stop_limit"===t&&(d=!0,h=!0),d){if(void 0===r)throw new o(this.id+" createOrder() requires a price argument for a "+t+" order");c["price"]=this.priceToPrecision(e,r)}if(h){const i=this.safeNumber2(a,"stop_price","stopPrice");if(void 0===i)throw new o(this.id+" createOrder() requires a stop_price or stopPrice param for a "+t+" order");c["stop_price"]=this.priceToPrecision(e,i),a=this.omit(a,["stop_price","stopPrice"])}const u="privateGet"+this.capitalize(i),l=await this[u](this.extend(c,a)),f=this.safeValue(l,"result",{}),p=this.safeValue(f,"order"),m=this.safeValue(f,"trades",[]);return p["trades"]=m,this.parseOrder(p,n)}async editOrder(e,t,i,s,r,a,n={}){if(void 0===r)throw new o(this.id+" editOrder() requires an amount argument");if(void 0===a)throw new o(this.id+" editOrder() requires a price argument");await this.loadMarkets();const c={order_id:e,amount:this.amountToPrecision(t,r),price:this.priceToPrecision(t,a)},d=await this.privateGetEdit(this.extend(c,n)),h=this.safeValue(d,"result",{}),u=this.safeValue(h,"order"),l=this.safeValue(h,"trades",[]);return u["trades"]=l,this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetCancel(this.extend(s,i)),a=this.safeValue(r,"result",{});return this.parseOrder(a)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;if(void 0===e)s="privateGetCancelAll";else{s="privateGetCancelAllByInstrument";const t=this.market(e);i["instrument_name"]=t["id"]}const r=await this[s](this.extend(i,t));return r}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0,n=void 0;if(void 0===e){const e=this.codeFromOptions("fetchOpenOrders"),t=this.currency(e);r["currency"]=t["id"],n="privateGetGetOpenOrdersByCurrency"}else a=this.market(e),r["instrument_name"]=a["id"],n="privateGetGetOpenOrdersByInstrument";const o=await this[n](this.extend(r,s)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,a,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0,n=void 0;if(void 0===e){const e=this.codeFromOptions("fetchClosedOrders"),t=this.currency(e);r["currency"]=t["id"],n="privateGetGetOrderHistoryByCurrency"}else a=this.market(e),r["instrument_name"]=a["id"],n="privateGetGetOrderHistoryByInstrument";const o=await this[n](this.extend(r,s)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,a,t,i)}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a={order_id:e},n=await this.privateGetGetUserTradesByOrder(this.extend(a,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,void 0,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={include_old:!0};let a=void 0,n=void 0;if(void 0===e){const e=this.codeFromOptions("fetchMyTrades"),i=this.currency(e);r["currency"]=i["id"],void 0===t?n="privateGetGetUserTradesByCurrency":(n="privateGetGetUserTradesByCurrencyAndTime",r["start_timestamp"]=t)}else a=this.market(e),r["instrument_name"]=a["id"],void 0===t?n="privateGetGetUserTradesByInstrument":(n="privateGetGetUserTradesByInstrumentAndTime",r["start_timestamp"]=t);void 0!==i&&(r["count"]=i);const o=await this[n](this.extend(r,s)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,a,t,i)}async fetchDeposits(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={currency:r["id"]};void 0!==i&&(a["count"]=i);const n=await this.privateGetGetDeposits(this.extend(a,s)),c=this.safeValue(n,"result",{}),d=this.safeValue(c,"data",[]);return this.parseTransactions(d,r,t,i,s)}async fetchWithdrawals(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={currency:r["id"]};void 0!==i&&(a["count"]=i);const n=await this.privateGetGetWithdrawals(this.extend(a,s)),c=this.safeValue(n,"result",{}),d=this.safeValue(c,"data",[]);return this.parseTransactions(d,r,t,i,s)}parseTransactionStatus(e){const t={completed:"ok",unconfirmed:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t),r=this.safeInteger2(e,"created_timestamp","received_timestamp"),a=this.safeInteger(e,"updated_timestamp"),n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address"),c=this.safeNumber(e,"fee");let d="deposit",h=void 0;return void 0!==c&&(d="withdrawal",h={cost:c,currency:s}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"transaction_id"),timestamp:r,datetime:this.iso8601(r),address:o,addressTo:o,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:d,amount:this.safeNumber(e,"amount"),currency:s,status:n,updated:a,fee:h}}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),s={instrument_name:i["id"]},r=await this.privateGetGetPosition(this.extend(s,t)),a=this.safeValue(r,"result");return a}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.codeFromOptions("fetchPositions"),s=this.currency(i),r={currency:s["id"]},a=await this.privateGetGetPositions(this.extend(r,t)),n=this.safeValue(a,"result",[]);return n}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],address:i,amount:t};void 0!==this.twofa&&(n["tfa"]=this.oath());const o=await this.privateGetWithdraw(this.extend(n,r));return{info:o,id:this.safeString(o,"id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/api/"+this.version+"/"+t+"/"+e;if("public"===t&&Object.keys(s).length&&(n+="?"+this.urlencode(s)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.milliseconds().toString(),a="";Object.keys(s).length&&(n+="?"+this.urlencode(s));const o=i+"\n"+n+"\n"+a+"\n",c=t+"\n"+e+"\n"+o,d=this.hmac(this.encode(c),this.encode(this.secret),"sha256");r={Authorization:"deri-hmac-sha256 id="+this.apiKey+",ts="+t+",sig="+d+",nonce="+e}}const o=this.urls["api"]+n;return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(!o)return;const h=this.safeValue(o,"error");if(void 0!==h){const e=this.safeString(h,"code"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new n(t)}}}},3408:function(e,t,i){},3410:function(e,t,i){var s=i("23e7"),r=i("d039"),a=i("7b0b"),n=i("e163"),o=i("e177"),c=r((function(){n(1)}));s({target:"Object",stat:!0,forced:c,sham:!o},{getPrototypeOf:function(e){return n(a(e))}})},"342f":function(e,t,i){var s=i("d066");e.exports=s("navigator","userAgent")||""},3494:function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=i("fe34"),a=s(i("3e8a")),n=i("efc3"),o=i("29b2"),c=i("7612"),d=i("f9ee"),h=i("7be7");function u(e,t){void 0===t&&(t=5e3);while(t--){var i=r.stringToBytes(e);e=c.base16Encode(d.sha256(i))}return e}function l(e,t,i){void 0===i&&(i=48);var s=r.bytesToString(n.concat(e,t),"raw"),o="",c=o;while(c.length<i)o=a.create().update(o+s).digest().getBytes(),c+=o;return c}t.encryptSeed=function(e,t,i){var s=u(t,i),a=h.randomBytes(8),d=l(r.stringToBytes(s,"raw"),a),f=r.stringToBytes(d.slice(0,32),"raw"),p=r.stringToBytes(d.slice(32),"raw"),m=o.aesEncrypt(r.stringToBytes(e),f,"CBC",p);return c.base64Encode(n.concat(r.stringToBytes("Salted__"),a,m))},t.decryptSeed=function(e,t,i){var s=u(t,i),a=c.base64Decode(e),n=a.slice(8,16),d=l(r.stringToBytes(s,"raw"),n),h=r.stringToBytes(d.slice(0,32),"raw"),f=r.stringToBytes(d.slice(32),"raw");return r.bytesToString(o.aesDecrypt(a.slice(16),h,"CBC",f))}},3570:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,DDoSProtection:h,InvalidNonce:u,AuthenticationError:l,BadRequest:f}=i("74b0"),{TICK_SIZE:p}=i("5ea4"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"currencycom",name:"Currency.com",countries:["BY"],rateLimit:500,certified:!0,pro:!0,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTradingFees:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83718672-36745c00-a63e-11ea-81a9-677b1f789a4d.jpg",api:{public:"https://api-adapter.backend.currency.com/api",private:"https://api-adapter.backend.currency.com/api"},www:"https://www.currency.com",referral:"https://currency.com/trading/signup?c=362jaimv&pid=referral",doc:["https://currency.com/api"],fees:"https://currency.com/fees-charges"},api:{public:{get:["time","exchangeInfo","depth","aggTrades","klines","ticker/24hr"]},private:{get:["leverageSettings","openOrders","tradingPositions","account","myTrades"],post:["order","updateTradingPosition","updateTradingOrder","closeTradingPosition"],delete:["order"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:.002,maker:.002}},precisionMode:p,options:{defaultTimeInForce:"GTC",warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT",stop:"RESULT"}},exceptions:{broad:{"FIELD_VALIDATION_ERROR Cancel is available only for LIMIT order":d,"API key does not exist":l,"Order would trigger immediately.":d,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":n},exact:{"-1000":n,"-1013":d,"-1021":u,"-1022":l,"-1100":d,"-1104":r,"-1025":l,"-1128":f,"-2010":r,"-2011":c,"-2013":c,"-2014":l,"-2015":l}},commonCurrencies:{BNS:"Bank of Nova Scotia",EDU:"New Oriental Education & Technology Group Inc",ETN:"Eaton",IQ:"iQIYI",PLAY:"Dave & Buster's Entertainment"}})}nonce(){return this.milliseconds()-this.options["timeDifference"]}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}async loadTimeDifference(e={}){const t=await this.publicGetTime(e),i=this.milliseconds();return this.options["timeDifference"]=parseInt(i-t["serverTime"]),this.options["timeDifference"]}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e);this.options["adjustForTimeDifference"]&&await this.loadTimeDifference();const i=this.safeValue(t,"symbols"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=this.safeString(e,"baseAsset"),n=this.safeString(e,"quoteAsset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);let d=o+"/"+c;t.indexOf("/")>=0&&(d=t);const h=this.safeValue(e,"filters",[]),u=this.indexBy(h,"filterType"),l={amount:1/Math.pow(1,this.safeInteger(e,"baseAssetPrecision")),price:this.safeNumber(e,"tickSize")},f=this.safeString(e,"status"),p="TRADING"===f;let m=this.safeStringLower(e,"marketType");"leverage"===m&&(m="margin");const g="spot"===m,y="margin"===m,v={id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,type:m,spot:g,margin:y,info:e,active:p,precision:l,limits:{amount:{min:Math.pow(10,-l["amount"]),max:void 0},price:{min:void 0,max:void 0},cost:{min:-Math.log10(l["amount"]),max:void 0}}},b=this.safeNumber2(e,"exchangeFee","tradingFee"),w=this.safeNumber(e,"makerFee",b),k=this.safeNumber(e,"takerFee",b);if(void 0!==w&&(v["maker"]=w/100),void 0!==k&&(v["taker"]=k/100),"PRICE_FILTER"in u){const e=this.safeValue(u,"PRICE_FILTER",{});v["precision"]["price"]=this.safeNumber(e,"tickSize"),v["limits"]["price"]={min:this.safeNumber(e,"minPrice"),max:void 0};const t=this.safeNumber(e,"maxPrice");void 0!==t&&t>0&&(v["limits"]["price"]["max"]=t)}if("LOT_SIZE"in u){const e=this.safeValue(u,"LOT_SIZE",{});v["precision"]["amount"]=this.safeNumber(e,"stepSize"),v["limits"]["amount"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MARKET_LOT_SIZE"in u){const e=this.safeValue(u,"MARKET_LOT_SIZE",{});v["limits"]["market"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MIN_NOTIONAL"in u){const e=this.safeValue(u,"MIN_NOTIONAL",{});v["limits"]["cost"]["min"]=this.safeNumber(e,"minNotional")}s.push(v)}return s}async fetchAccounts(e={}){const t=await this.privateGetAccount(e),i=this.safeValue(t,"balances",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],a=this.safeInteger(e,"accountId"),n=this.safeString(e,"asset"),o=this.safeCurrencyCode(n);s.push({id:a,type:void 0,currency:o,info:t})}return s}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e);return{info:t,maker:this.safeNumber(t,"makerCommission"),taker:this.safeNumber(t,"takerCommission")}}parseBalanceResponse(e){const t={info:e},i=this.safeValue(e,"balances",[]);for(let s=0;s<i.length;s++){const e=i[s],r=this.safeString(e,"asset"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"free"),n["used"]=this.safeString(e,"locked"),t[a]=n}return this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e);return this.parseBalanceResponse(t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetDepth(this.extend(r,i)),n=this.parseOrderBook(a,e);return n["nonce"]=this.safeInteger(a,"lastUpdateId"),n}parseTicker(e,t){const i=this.safeInteger(e,"closeTime"),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"lastPrice"),n=this.safeNumber(e,"openPrice");let o=void 0;return void 0!==n&&void 0!==a&&(o=this.sum(n,a)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:this.safeNumber(e,"weightedAvgPrice"),open:n,close:a,last:a,previousClose:this.safeNumber(e,"prevClosePrice"),change:this.safeNumber(e,"priceChange"),percentage:this.safeNumber(e,"priceChangePercent"),average:o,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTicker24hr(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24hr(t);return this.parseTickers(i,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],interval:this.timeframes[t]};void 0!==i&&(n["startTime"]=i),void 0!==s&&(n["limit"]=s);const o=await this.publicGetKlines(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}parseTrade(e,t){const i=this.safeInteger2(e,"T","time"),s=this.safeString2(e,"p","price"),r=this.safeString2(e,"q","qty"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(m.stringMul(s,r)),c=this.safeString2(e,"a","id");let d=void 0;const h=this.safeString(e,"orderId");"m"in e?d=e["m"]?"sell":"buy":"isBuyerMaker"in e?d=e["isBuyerMaker"]?"sell":"buy":"isBuyer"in e&&(d=e["isBuyer"]?"buy":"sell");let u=void 0;"commission"in e&&(u={cost:this.safeNumber(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});let l=void 0;"isMaker"in e&&(l=e["isMaker"]?"maker":"taker");const f=this.safeString(e,"symbol"),p=this.safeSymbol(f,t);return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,id:c,order:h,type:void 0,takerOrMaker:l,side:d,price:a,amount:n,cost:o,fee:u}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetAggTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOrderStatus(e){const t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t,"/");let a=void 0;"time"in e?a=this.safeInteger(e,"time"):"transactTime"in e&&(a=this.safeInteger(e,"transactTime"));const n=this.safeNumber(e,"price"),o=this.safeNumber(e,"origQty"),c=this.safeNumber(e,"executedQty"),d=void 0,h=this.safeNumber(e,"cummulativeQuoteQty"),u=this.safeString(e,"orderId"),l=this.safeStringLower(e,"type"),f=this.safeStringLower(e,"side");let p=void 0;const m=this.safeValue(e,"fills");void 0!==m&&(p=this.parseTrades(m,t));const g=this.safeString(e,"timeInForce");return this.safeOrder({info:e,id:u,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:l,timeInForce:g,side:f,price:n,stopPrice:void 0,amount:o,cost:h,average:void 0,filled:c,remaining:d,status:i,fee:void 0,trades:p})}async createOrder(e,t,i,s,r,n={}){await this.loadMarkets();const o=this.market(e);let c=void 0;if(o["margin"]&&(c=this.safeInteger(n,"accountId"),void 0===c))throw new a(this.id+" createOrder() requires an accountId parameter for "+o["type"]+" market "+e);const d=t.toUpperCase(),h=this.safeValue(this.options["newOrderRespType"],t,"RESULT"),u={symbol:o["id"],quantity:this.amountToPrecision(e,s),type:d,side:i.toUpperCase(),newOrderRespType:h};"LIMIT"===d?(u["price"]=this.priceToPrecision(e,r),u["timeInForce"]=this.options["defaultTimeInForce"]):"STOP"===d&&(u["price"]=this.priceToPrecision(e,r));const l=await this.privatePostOrder(this.extend(u,n));return this.parseOrder(l,o)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let a=void 0;const n={};if(void 0!==e)a=this.market(e),n["symbol"]=a["id"];else if(this.options["warnOnFetchOpenOrdersWithoutSymbol"]){const e=this.symbols,t=e.length,i=parseInt(t/2);throw new r(this.id+" fetchOpenOrders() WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+i.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}const o=await this.privateGetOpenOrders(this.extend(n,s));return this.parseOrders(o,a,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=this.safeValue(i,"origClientOrderId"),n={symbol:s["id"]};void 0===r?n["orderId"]=e:n["origClientOrderId"]=r;const o=await this.privateDeleteOrder(this.extend(n,i));return this.parseOrder(o,s)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={symbol:r["id"]};void 0!==i&&(n["limit"]=i);const o=await this.privateGetMyTrades(this.extend(n,s));return this.parseTrades(o,r,t,i)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.version+"/"+e;if("historicalTrades"===e&&(r={"X-MBX-APIKEY":this.apiKey}),"private"===t){this.checkRequiredCredentials();let e=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options["recvWindow"]},s));const t=this.hmac(this.encode(e),this.encode(this.secret));e+="&signature="+t,r={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i?n+="?"+e:(a=e,r["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(s).length&&(n+="?"+this.urlencode(s));return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+n);if(e>=400){if(n.indexOf("Price * QTY is zero or less")>=0)throw new d(this.id+" order cost = amount * price is zero or less "+n);if(n.indexOf("LOT_SIZE")>=0)throw new d(this.id+" order amount should be evenly divisible by lot size "+n);if(n.indexOf("PRICE_FILTER")>=0)throw new d(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+n)}if(void 0===o)return;const l=this.safeString(o,"code");if(void 0!==l&&"0"!==l){const e=this.id+" "+this.json(o);this.throwExactlyMatchedException(this.exceptions["exact"],l,e);const t=this.safeString(o,"msg");throw this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new r(e)}}}},"35a1":function(e,t,i){var s=i("f5df"),r=i("3f8c"),a=i("b622"),n=a("iterator");e.exports=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||r[s(e)]}},"35d5":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,InvalidNonce:n,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d,PermissionDenied:h}=i("74b0"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitbank",name:"bitbank",countries:["JP"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},hostname:"bitbank.cc",urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.{hostname}",private:"https://api.{hostname}",markets:"https://api.{hostname}"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]},markets:{get:["spot/pairs"]}},exceptions:{20001:a,20002:a,20003:a,20005:a,20004:n,40020:c,40021:c,40025:r,40013:d,40014:d,50008:h,50009:d,50010:d,60001:o,60005:c}})}async fetchMarkets(e={}){const t=await this.marketsGetSpotPairs(e),i=this.safeValue(t,"data"),s=this.safeValue(i,"pairs",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"name"),i=this.safeString(e,"base_asset"),n=this.safeString(e,"quote_asset"),o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeNumber(e,"maker_fee_rate_quote"),l=this.safeNumber(e,"taker_fee_rate_quote"),f=this.safeString(e,"price_digits"),p=this.parsePrecision(f),m={price:parseInt(f),amount:this.safeInteger(e,"amount_digits")},g=this.safeValue(e,"is_enabled"),y=this.safeString(e,"unit_amount"),v=u.stringMul(y,p),b={amount:{min:this.safeNumber(e,"unit_amount"),max:this.safeNumber(e,"limit_max_amount")},price:{min:this.parseNumber(p),max:void 0},cost:{min:this.parseNumber(v),max:void 0}};r.push({info:e,id:t,symbol:d,baseId:i,quoteId:n,base:o,quote:c,precision:m,limits:b,active:g,maker:h,taker:l})}return r}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const s=this.safeInteger(e,"timestamp"),r=this.safeNumber(e,"last");return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},r=await this.publicGetPairTicker(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)},r=await this.publicGetPairDepth(this.extend(s,i)),a=this.safeValue(r,"data",{}),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n)}parseTrade(e,t){const i=this.safeInteger(e,"executed_at");let s=void 0,r=void 0;void 0!==t&&(s=t["symbol"],r=t["quote"]);const a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(u.stringMul(a,n)),h=this.safeString2(e,"transaction_id","trade_id"),l=this.safeString(e,"maker_taker");let f=void 0;const p=this.safeNumber(e,"fee_amount_quote");void 0!==p&&(f={currency:r,cost:p});const m=this.safeString(e,"order_id"),g=this.safeString(e,"type"),y=this.safeString(e,"side");return{timestamp:i,datetime:this.iso8601(i),symbol:s,id:h,order:m,type:g,side:y,takerOrMaker:l,price:o,amount:c,cost:d,fee:f,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]},n=await this.publicGetPairTransactions(this.extend(a,s)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"transactions",[]);return this.parseTrades(c,r,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,5),this.safeNumber(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4)]}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e);let n=this.milliseconds();n=this.ymd(n),n=n.split("-");const o={pair:a["id"],candletype:this.timeframes[t],yyyymmdd:n.join("")},c=await this.publicGetPairCandlestickCandletypeYyyymmdd(this.extend(o,r)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"candlestick",[]),u=this.safeValue(h,0,{}),l=this.safeValue(u,"ohlcv",[]);return this.parseOHLCVs(l,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAssets(e),i={info:t,timestamp:void 0,datetime:void 0},s=this.safeValue(t,"data",{}),r=this.safeValue(s,"assets",[]);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"asset"),s=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"free_amount"),n["used"]=this.safeString(e,"locked_amount"),n["total"]=this.safeString(e,"onhand_amount"),i[s]=n}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={UNFILLED:"open",PARTIALLY_FILLED:"open",FULLY_FILLED:"closed",CANCELED_UNFILLED:"canceled",CANCELED_PARTIALLY_FILLED:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),s=this.safeString(e,"pair");let r=void 0;s&&!t&&s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0!==t&&(r=t["symbol"]);const a=this.safeInteger(e,"ordered_at"),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"start_amount"),c=this.safeNumber(e,"executed_amount"),d=this.safeNumber(e,"remaining_amount"),h=this.safeNumber(e,"average_price"),u=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeStringLower(e,"type"),f=this.safeStringLower(e,"side");return this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:u,symbol:r,type:l,timeInForce:void 0,postOnly:void 0,side:f,price:n,stopPrice:void 0,cost:void 0,average:h,amount:o,filled:c,remaining:d,trades:void 0,fee:void 0,info:e})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e);if(void 0===r)throw new c(this.id+" createOrder() requires a price argument for both market and limit orders");const o={pair:n["id"],amount:this.amountToPrecision(e,s),price:this.priceToPrecision(e,r),side:i,type:t},d=await this.privatePostUserSpotOrder(this.extend(o,a)),h=this.safeValue(d,"data");return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={order_id:e,pair:s["id"]},a=await this.privatePostUserSpotCancelOrder(this.extend(r,i)),n=this.safeValue(a,"data");return n}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={order_id:e,pair:s["id"]},a=await this.privateGetUserSpotOrder(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n,s)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==i&&(a["count"]=i),void 0!==t&&(a["since"]=parseInt(t/1e3));const n=await this.privateGetUserSpotActiveOrders(this.extend(a,s)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,r,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a={};void 0!==r&&(a["pair"]=r["id"]),void 0!==i&&(a["count"]=i),void 0!==t&&(a["since"]=parseInt(t/1e3));const n=await this.privateGetUserSpotTradeHistory(this.extend(a,s)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,r,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={asset:i["id"]},r=await this.privateGetUserWithdrawalAccount(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"accounts",[]),o=this.safeValue(n,0,{}),c=this.safeString(o,"address");return{currency:i,address:c,tag:void 0,info:r}}async withdraw(e,t,i,s,a={}){if(!("uuid"in a))throw new r(this.id+" uuid is required for withdrawal");await this.loadMarkets();const n=this.currency(e),o={asset:n["id"],amount:t},c=await this.privatePostUserRequestWithdrawal(this.extend(o,a)),d=this.safeValue(c,"data",{}),h=this.safeString(d,"txid");return{info:c,id:h}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.omit(s,this.extractParams(e)),o=this.implodeHostname(this.urls["api"][t])+"/";if("public"===t||"markets"===t)o+=this.implodeParams(e,s),Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const t=this.nonce().toString();let c=t;o+=this.version+"/"+this.implodeParams(e,s),"POST"===i?(a=this.json(n),c+=a):(c+="/"+this.version+"/"+e,Object.keys(n).length&&(n=this.urlencode(n),o+="?"+n,c+="?"+n)),r={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":t,"ACCESS-SIGNATURE":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:o,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n),c=this.safeInteger(o,"success"),d=this.safeValue(o,"data");if(!c||!d){const e={1e4:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed ",70009:"We are currently temporarily restricting orders to be carried out. Please use the limit order.",70010:"We are temporarily raising the minimum order quantity as the system load is now rising."},t=this.exceptions,i=this.safeString(d,"code"),s=this.safeString(e,i,"Error"),a=this.safeValue(t,i);throw void 0!==a?new a(s):new r(this.id+" "+this.json(o))}return o}}},"35e8":function(e,t,i){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},3609:function(e,t,i){var s=i("5259");i("f484"),i("46e8"),i("4e30"),i("6497"),function(){s.random&&s.random.getBytes?e.exports=s.random:function(t){var i={},r=new Array(4),a=s.util.createBuffer();function n(){var e=s.prng.create(i);return e.getBytes=function(t,i){return e.generate(t,i)},e.getBytesSync=function(t){return e.generate(t)},e}i.formatKey=function(e){var t=s.util.createBuffer(e);return e=new Array(4),e[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),s.aes._expandKey(e,!1)},i.formatSeed=function(e){var t=s.util.createBuffer(e);return e=new Array(4),e[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},i.cipher=function(e,t){return s.aes._updateBlock(e,t,r,!1),a.putInt32(r[0]),a.putInt32(r[1]),a.putInt32(r[2]),a.putInt32(r[3]),a.getBytes()},i.increment=function(e){return++e[3],e},i.md=s.md.sha256;var o=n(),c=null,d=s.util.globalScope,h=d.crypto||d.msCrypto;if(h&&h.getRandomValues&&(c=function(e){return h.getRandomValues(e)}),s.options.usePureJavaScript||!s.util.isNodejs&&!c){if("undefined"===typeof window||window.document,o.collectInt(+new Date,32),"undefined"!==typeof navigator){var u="";for(var l in navigator)try{"string"==typeof navigator[l]&&(u+=navigator[l])}catch(f){}o.collect(u),u=null}t&&(t().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),t().keypress((function(e){o.collectInt(e.charCode,8)})))}if(s.random)for(var l in o)s.random[l]=o[l];else s.random=o;s.random.createInstance=n,e.exports=s.random}("undefined"!==typeof jQuery?jQuery:null)}()},"367a":function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(r,a){function n(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(n,o)}c((s=s.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,s,r,a,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return c([e,t])}}function c(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(r=2&a[0]?s["return"]:a[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,a[1])).done)return r;switch(s=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,s=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){n.label=a[1];break}if(6===a[0]&&n.label<r[1]){n.label=r[1],r=a;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(a);break}r[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(o){a=[6,o],s=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},n=this;Object.defineProperty(t,"__esModule",{value:!0});var o=a(i("b76b")),c=a(i("c7e6")),d=a(i("3e8a")),h=a(i("6497")),u=i("7612"),l=i("fe34"),f=a(i("1c55"));o.oids["sha224"]="2.16.840.1.101.3.4.2.4",o.oids["2.16.840.1.101.3.4.2.4"]="sha224",o.oids["sha3-224"]="2.16.840.1.101.3.4.2.7",o.oids["2.16.840.1.101.3.4.2.7"]="sha3-224",o.oids["sha3-256"]="2.16.840.1.101.3.4.2.8",o.oids["2.16.840.1.101.3.4.2.8"]="sha3-256",o.oids["sha3-384"]="2.16.840.1.101.3.4.2.9",o.oids["2.16.840.1.101.3.4.2.9"]="sha3-384",o.oids["sha3-512"]="2.16.840.1.101.3.4.2.10",o.oids["2.16.840.1.101.3.4.2.10"]="sha3-512",t.pemToBytes=function(e){return u.base64Decode(e.trim().split(/\r\n|\n/).slice(1,-1).join("").trim())};var p={rsaPrivateNonEncrypted:"RSA PRIVATE KEY",rsaPublic:"PUBLIC KEY"};t.bytesToPem=function(e,t){var i="-----BEGIN "+p[t]+"-----\n",s="-----END "+p[t]+"-----\n",r=u.base64Encode(e);r.length%64!==0&&(r+=" ".repeat(64-r.length%64));for(var a=i,n=0;n<r.length/64;n++)a+=r.slice(64*n,64*(n+1))+"\n";return a+=s,a},t.rsaKeyPairSync=function(e,i){var s=o.rsa.generateKeyPair(e,i);return{rsaPrivate:t.pemToBytes(o.privateKeyToPem(s.privateKey)),rsaPublic:t.pemToBytes(o.publicKeyToPem(s.publicKey))}},t.rsaKeyPair=function(e,i){return s(n,void 0,void 0,(function(){return r(this,(function(s){return[2,new Promise((function(s,r){o.rsa.generateKeyPair(e,i,(function(e,i){e&&r(e),s({rsaPrivate:t.pemToBytes(o.privateKeyToPem(i.privateKey)),rsaPublic:t.pemToBytes(o.publicKeyToPem(i.publicKey))})}))}))]}))}))};var m=function(e){return function(){throw new Error("Digest "+e+" is unsupported")}},g=function(){function e(e,t){this.sha3Digest=e,this.algorithm=t}return e.makeCreator=function(t,i){return{create:function(){return new e(t.create(),i)}}},e.prototype.update=function(e,t){return this.sha3Digest.update(l.stringToBytes(e,null==t?"raw":t)),this},e.prototype.digest=function(){var e=Uint8Array.from(this.sha3Digest.digest());return h.createBuffer(l.bytesToString(e,"raw"))},e}(),y={MD5:d,SHA1:c.algorithms.sha1,SHA224:m("SHA224"),SHA256:c.algorithms.sha256,SHA384:c.algorithms.sha384,SHA512:c.algorithms.sha512,"SHA3-224":g.makeCreator(f.sha3_224,"sha3-224"),"SHA3-256":g.makeCreator(f.sha3_256,"sha3-256"),"SHA3-384":g.makeCreator(f.sha3_384,"sha3-384"),"SHA3-512":g.makeCreator(f.sha3_512,"sha3-512")};t.rsaSign=function(e,i,s){void 0===s&&(s="SHA256");var r=t.bytesToPem(e,"rsaPrivateNonEncrypted"),a=o.privateKeyFromPem(r),n=y[s].create();return n.update(l.bytesToString(i,"raw")),l.stringToBytes(a.sign(n),"raw")},t.rsaVerify=function(e,i,s,r){void 0===r&&(r="SHA256");var a=o.publicKeyFromPem(t.bytesToPem(e,"rsaPublic")),n=y[r].create();return n.update(l.bytesToString(i),"raw"),a.verify(n.digest().getBytes(),l.bytesToString(s,"raw"))}},"368e":function(e,t,i){},"36a7":function(e,t,i){},"37e8":function(e,t,i){var s=i("83ab"),r=i("9bf2"),a=i("825a"),n=i("df75");e.exports=s?Object.defineProperties:function(e,t){a(e);var i,s=n(t),o=s.length,c=0;while(o>c)r.f(e,i=s[c++],t[i]);return e}},"381b":function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=s(i("a4b3")),a=i("abf9"),n=i("7d18"),o=i("02cf"),c=i("7be7");t.signBytes=function(e,t,i){return r.default.sign(a._fromIn(n.isPrivateKey(e)?e.privateKey:o.privateKey(e)),a._fromIn(t),a._fromIn(i||c.randomBytes(64)))}},3835:function(e,t,i){"use strict";function s(e){if(Array.isArray(e))return e}i.d(t,"a",(function(){return o}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function r(e,t){var i=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var s,r,a=[],n=!0,o=!1;try{for(i=i.call(e);!(n=(s=i.next()).done);n=!0)if(a.push(s.value),t&&a.length===t)break}catch(c){o=!0,r=c}finally{try{n||null==i["return"]||i["return"]()}finally{if(o)throw r}}return a}}var a=i("06c5");function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){return s(e)||r(e,t)||Object(a["a"])(e,t)||n()}},"387f":function(e,t,i){"use strict";e.exports=function(e,t,i,s,r){return e.config=t,i&&(e.code=i),e.request=s,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"38cb":function(e,t,i){"use strict";var s=i("53ca"),r=(i("a9e3"),i("fb6a"),i("a9ad")),a=i("7560"),n=i("3206"),o=i("80d2"),c=i("d9bd"),d=i("58df"),h=Object(d["a"])(r["a"],Object(n["a"])("form"),a["a"]);t["a"]=h.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor:function(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError:function(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess:function(){return this.internalSuccessMessages.length>0||this.success},externalError:function(){return this.internalErrorMessages.length>0||this.error},hasMessages:function(){return this.validationTarget.length>0},hasState:function(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("input",e)}},isDisabled:function(){return this.disabled||!!this.form&&this.form.disabled},isInteractive:function(){return!this.isDisabled&&!this.isReadonly},isReadonly:function(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState:function(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget:function(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(e,t){Object(o["i"])(e,t)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(e){e||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting:function(){var e=this;setTimeout((function(){e.hasInput=!1,e.hasFocused=!1,e.isResetting=!1,e.validate()}),0)},hasError:function(e){this.shouldValidate&&this.$emit("update:error",e)},value:function(e){this.lazyValue=e}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(e){return e?Array.isArray(e)?e:[e]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation:function(){this.isResetting=!0},validate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,i=[];t=t||this.internalValue,e&&(this.hasInput=this.hasFocused=!0);for(var r=0;r<this.rules.length;r++){var a=this.rules[r],n="function"===typeof a?a(t):a;!1===n||"string"===typeof n?i.push(n||""):"boolean"!==typeof n&&Object(c["b"])("Rules should return a string or boolean, received '".concat(Object(s["a"])(n),"' instead"),this)}return this.errorBucket=i,this.valid=0===i.length,this.valid}}})},"38cf":function(e,t,i){var s=i("23e7"),r=i("1148");s({target:"String",proto:!0},{repeat:r})},"38e4":function(e,t,i){i("4ab0")._;e.exports={pkcs1:i("bf9c"),pkcs8:i("1d47"),components:i("4510"),detectAndImport:function(t,i,s){if(void 0===s){for(var r in e.exports)if("function"===typeof e.exports[r].autoImport&&e.exports[r].autoImport(t,i))return!0}else if(s){var a=formatParse(s);if(!e.exports[a.scheme])throw Error("Unsupported key format");"private"===a.keyType?e.exports[a.scheme].privateImport(t,i,a.keyOpt):e.exports[a.scheme].publicImport(t,i,a.keyOpt)}return!1}}},3924:function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,ArgumentsRequired:n,InvalidAddress:o,OrderNotFound:c,NotSupported:d,DDoSProtection:h,InsufficientFunds:u,InvalidOrder:l}=i("74b0"),f=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"gateio",name:"Gate.io",countries:["CN"],version:"2",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0,fetchFundingFees:!0},timeframes:{"1m":60,"5m":300,"10m":600,"15m":900,"30m":1800,"1h":3600,"2h":7200,"4h":14400,"6h":21600,"12h":43200,"1d":86400,"1w":604800},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"],referral:"https://www.gate.io/signup/2436035"},api:{public:{get:["candlestick2/{id}","pairs","coininfo","marketinfo","marketlist","coininfo","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","feelist","withdraw","get_sub_account_available","sub_account_transfer"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{4:h,5:r,6:r,7:d,8:d,9:d,15:h,16:c,17:c,20:l,21:u},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"}},options:{limits:{cost:{min:{BTC:"0.0001",ETH:"0.001",USDT:"1"}}}},commonCurrencies:{"88MPH":"MPH",BIFI:"Bitcoin File",BOX:"DefiBox",BTCBEAR:"BEAR",BTCBULL:"BULL",BYN:"Beyond Finance",GTC:"Game.com",GTC_HT:"Game.com HT",GTC_BSC:"Game.com BSC",HIT:"HitChain",MPH:"Morpher",RAI:"Rai Reflex Index",SBTC:"Super Bitcoin",TNC:"Trinity Network Credit",VAI:"VAIOT"}})}async fetchCurrencies(e={}){const t=await this.publicGetCoininfo(e),i=this.safeValue(t,"coins");if(!i)throw new a(this.id+" fetchCurrencies got an unrecognized response");const s={};for(let r=0;r<i.length;r++){const e=i[r],t=Object.keys(e);for(let i=0;i<t.length;i++){const r=t[i],a=e[r],n=this.safeCurrencyCode(r),o=this.safeValue(a,"delisted",0),c=this.safeInteger2(a,"withdraw_disabled",0),d=this.safeInteger2(a,"deposit_disabled",0),h=this.safeInteger2(a,"trade_disabled",0),u=0===o,l=0===c,f=0===d,p=0===h,m=u&&l&&f&&p;s[n]={id:r,code:n,active:m,info:a,name:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}}return s}async fetchMarkets(e={}){const t=await this.publicGetMarketinfo(e),i=this.safeValue(t,"pairs");if(!i)throw new a(this.id+" fetchMarkets got an unrecognized response");const s=[];for(let r=0;r<i.length;r++){const e=i[r],t=Object.keys(e),a=this.safeString(t,0),n=e[a],o=a.split("_"),c=o.length;let d=o[0],h=o[1];c>2&&(d=o[0]+"_"+o[1],h=o[2]);const u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),p=u+"/"+l,m=this.safeString(n,"decimal_places"),g=this.parsePrecision(m),y={amount:this.safeInteger(n,"amount_decimal_places"),price:parseInt(m)},v=this.safeString(n,"min_amount"),b={min:this.parseNumber(v),max:void 0},w={min:this.parseNumber(g),max:void 0},k=this.parseNumber(f.stringMul(v,g)),S=this.safeNumber(this.options["limits"]["cost"]["min"],l,k),_={min:S,max:void 0},O={amount:b,price:w,cost:_},T=this.safeInteger(n,"trade_disabled"),C=!T,x=a.toUpperCase(),I=this.safeString(n,"fee"),E=f.stringDiv(I,"100");s.push({id:a,uppercaseId:x,symbol:p,base:u,quote:l,baseId:d,quoteId:h,info:e,active:C,maker:this.parseNumber(E),taker:this.parseNumber(E),precision:y,limits:O})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i={info:t};let s=this.safeValue(t,"available",{});Array.isArray(s)&&(s={});const r=this.safeValue(t,"locked",{}),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(s,e),o["used"]=this.safeString(r,e),i[t]=o}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={id:this.marketId(e)},r=await this.publicGetOrderBookId(this.extend(s,i));return this.parseOrderBook(r,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,5),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,1)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={id:a["id"],group_sec:this.timeframes[t]},o=await this.publicGetCandlestick2Id(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}parseTicker(e,t){const i=this.milliseconds();let s=void 0;t&&(s=t["symbol"]);const r=this.safeNumber(e,"last"),a=this.safeNumber(e,"percentChange");let n=void 0,o=void 0,c=void 0;if(void 0!==r&&void 0!==a){const e=a/100;n=r/this.sum(1,e),o=r-n,c=this.sum(r,n)/2}return n=this.safeNumber(e,"open",n),o=this.safeNumber(e,"change",o),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high24hr","high"),low:this.safeNumber2(e,"low24hr","low"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:n,close:r,last:r,previousClose:void 0,change:o,percentage:a,average:c,baseVolume:this.safeNumber(e,"quoteVolume"),quoteVolume:this.safeNumber(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s={},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeMarket(e,void 0,"_"),n=t["symbol"];s[n]=this.parseTicker(i[e],t)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s=await this.publicGetTickerId(this.extend({id:i["id"]},t));return this.parseTicker(s,i)}parseTrade(e,t){let i=this.safeTimestamp2(e,"timestamp","time_unix");i=this.safeTimestamp(e,"time",i);const s=this.safeString2(e,"tradeID","id"),r=this.safeString2(e,"orderid","orderNumber"),a=this.safeString2(e,"rate","price"),n=this.safeString(e,"amount"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(f.stringMul(a,n)),h=this.safeString(e,"type"),u=this.safeString(e,"role");let l=void 0;void 0!==t&&(l=t["symbol"]);let p=void 0,m=this.safeCurrencyCode(this.safeString(e,"fee_coin")),g=this.safeNumber(e,"point_fee");return void 0===g||0===g?(g=this.safeNumber(e,"gt_fee"),void 0===g||0===g?g=this.safeNumber(e,"fee"):m=this.safeCurrencyCode("GT")):m=this.safeCurrencyCode("POINT"),void 0!==g&&(p={cost:g,currency:m}),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,order:r,type:void 0,side:h,takerOrMaker:u,price:o,amount:c,cost:d,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={id:r["id"]};let n=void 0;n="tid"in s?"publicGetTradeHistoryIdTid":"publicGetTradeHistoryId";const o=await this[n](this.extend(a,s));return this.parseTrades(o["data"],r,t,i)}async fetchOrders(e,t,i,s={}){const r=await this.privatePostOpenOrders(s);return this.parseOrders(r["orders"],void 0,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={orderNumber:e,currencyPair:this.marketId(t)},r=await this.privatePostGetOrder(this.extend(s,i));return this.parseOrder(r["order"])}parseOrderStatus(e){const t={cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString2(e,"orderNumber","id"),s=this.safeString(e,"currencyPair"),r=this.safeSymbol(s,t,"_"),a=this.safeTimestamp2(e,"timestamp","ctime"),n=this.safeTimestamp(e,"mtime"),o=this.parseOrderStatus(this.safeString(e,"status"));let c=this.safeString(e,"type");"1"===c?c="sell":"2"===c&&(c="buy");const d=this.safeNumber2(e,"initialRate","rate"),h=this.safeNumber(e,"filledRate"),u=this.safeNumber2(e,"initialAmount","amount"),l=this.safeNumber(e,"filledAmount"),f=this.safeNumber2(e,"leftAmount","left"),p=this.safeNumber(e,"feeValue"),m=this.safeString(e,"feeCurrency"),g=this.safeCurrencyCode(m);let y=this.safeNumber(e,"feePercentage");return void 0!==y&&(y/=100),this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:n,status:o,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:c,price:d,stopPrice:void 0,cost:void 0,amount:u,filled:l,remaining:f,average:h,trades:void 0,fee:{cost:p,currency:g,rate:y},info:e})}async createOrder(e,t,i,s,r,n={}){if("market"===t)throw new a(this.id+" allows limit orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e),d={currencyPair:c["id"],rate:r,amount:s},h=await this[o](this.extend(d,n));return this.parseOrder(this.extend({status:"open",type:i,initialAmount:s},h),c)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires symbol argument");await this.loadMarkets();const s={orderNumber:e,currencyPair:this.marketId(t)};return await this.privatePostCancelOrder(this.extend(s,i))}async queryDepositAddress(e,t,i={}){await this.loadMarkets();const s=this.currency(t);e="privatePost"+e+"Address";const r={currency:s["id"]},a=await this[e](this.extend(r,i));let n=this.safeString(a,"addr"),c=void 0;if(void 0!==n&&n.indexOf("address")>=0)throw new o(this.id+" queryDepositAddress "+n);if("XRP"===t||"HBAR"===t||"STEEM"===t||"XLM"===t||"EOS"===t){const e=n.split(" ");n=e[0],c=e[1]}return{currency:t,address:n,tag:c,info:a}}async createDepositAddress(e,t={}){return await this.queryDepositAddress("New",e,t)}async fetchDepositAddress(e,t={}){return await this.queryDepositAddress("Deposit",e,t)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a=await this.privatePostOpenOrders(s);return this.parseOrders(a["orders"],r,t,i)}async fetchOrderTrades(e,t,i,s,r={}){if(void 0===t)throw new n(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t),o={currencyPair:a["id"],orderNumber:e},c=await this.privatePostTradeHistory(this.extend(o,r));return this.parseTrades(c["trades"],a,i,s)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires symbol argument");await this.loadMarkets();const r=this.market(e),a={currencyPair:r["id"]},o=await this.privatePostTradeHistory(this.extend(a,s));return this.parseTrades(o["trades"],r,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],amount:t,address:i};void 0!==s&&(n["address"]+=" "+s);const o=await this.privatePostWithdraw(this.extend(n,r));return{info:o,id:this.safeString(o,"withdrawid")}}async fetchTransactionsByType(e,t,i,s,r={}){await this.loadMarkets();const a={};void 0!==i&&(a["start"]=i);const n=await this.privatePostDepositsWithdrawals(this.extend(a,r));let o=void 0;if(void 0===e){const e=this.safeValue(n,"deposits",[]),t=this.safeValue(n,"withdraws",[]);o=this.arrayConcat(e,t)}else o=this.safeValue(n,e,[]);let c=void 0;return void 0!==t&&(c=this.currency(t)),this.parseTransactions(o,c,i,s)}async fetchTransactions(e,t,i,s={}){return await this.fetchTransactionsByType(void 0,e,t,i,s)}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsByType("deposits",e,t,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsByType("withdraws",e,t,i,s)}parseTransaction(e,t){const i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t),r=this.safeString(e,"id"),a=this.safeString(e,"txid");let n=this.safeNumber(e,"amount"),o=this.safeString(e,"address");"false"===o&&(o=void 0);const c=this.safeTimestamp(e,"timestamp"),d=this.parseTransactionStatus(this.safeString(e,"status")),h=this.parseTransactionType(r[0]),u=this.safeNumber(e,"fee");let l=void 0;return void 0!==u&&(l={currency:s,cost:u},void 0!==n&&(n-=u)),{info:e,id:r,txid:a,currency:s,amount:n,address:o,tag:void 0,status:d,type:h,timestamp:c,datetime:this.iso8601(c),fee:l}}parseTransactionStatus(e){const t={PEND:"pending",REQUEST:"pending",DMOVE:"pending",CANCEL:"failed",DONE:"ok"};return this.safeString(t,e,e)}parseTransactionType(e){const t={d:"deposit",w:"withdrawal"};return this.safeString(t,e,e)}handleErrors(e,t,i,s,r,a,n,o,c){if(void 0===n)return;const d=this.safeString(n,"result","");if("false"!==d)return;const h=this.safeString(n,"code"),u=this.safeString(n,"message",a);if(void 0!==h){const e=this.safeString(this.exceptions["errorCodeNames"],h,u);this.throwExactlyMatchedException(this.exceptions["exact"],h,e)}}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostFeelist(e),i={},s={},r=Object.keys(t);for(let a=0;a<r.length;a++){const e=r[a],n=t[e],o=this.safeCurrencyCode(e);i[o]={},s[o]=this.safeNumber(n,"deposit");const c=Object.keys(n);let d=!0;for(let t=0;t<c.length;t++){const e=c[t],s=e.slice(0,22);if("withdraw_fix_on_chain_"===s){d=!1;const t=e.slice(22),s=this.safeCurrencyCode(t),r=this.safeNumber(n,e);i[o][s]=r}}d&&(i[o][o]=this.safeNumber(n,"withdraw_fix"))}return{info:t,withdraw:i,deposit:s}}sign(e,t="public",i="GET",s={},r,a){const n="private"===t?t+"/":"";let o=this.urls["api"][t]+this.version+"/1/"+n+this.implodeParams(e,s);const c=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce(),t={nonce:e};a=this.rawencode(this.extend(t,c)),a=a.replace("+"," ");const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");r={Key:this.apiKey,Sign:i,"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:a,headers:r}}}},3934:function(e,t,i){"use strict";var s=i("c532");e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var s=e;return t&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=s.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},"39f1":function(e,t,i){"use strict";const s=i("f4c8"),r=i("bc95"),a=i("74d2"),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let o=null,c=null;function d(e){const t=[];for(let i=0;i<e.length;i++)t[i/4|0]|=e[i]<<24-8*i;return s.lib.WordArray.create(t,e.length)}e.exports={json:(e,t)=>JSON.stringify(e),isJsonEncodedObject:e=>"string"===typeof e&&e.length>=2&&("{"===e[0]||"["===e[0]),stringToBinary:e=>s.enc.Latin1.parse(e),stringToBase64:e=>s.enc.Latin1.parse(e).toString(s.enc.Base64),base64ToBinary:e=>s.enc.Base64.parse(e),base64ToString:e=>s.enc.Base64.parse(e).toString(s.enc.Utf8),binaryToBase64:e=>e.toString(s.enc.Base64),base16ToBinary:e=>s.enc.Hex.parse(e),binaryToBase16:e=>e.toString(s.enc.Hex),binaryConcat:(...e)=>e.reduce((e,t)=>e.concat(t)),binaryConcatArray:e=>e.reduce((e,t)=>e.concat(t)),urlencode:e=>r.stringify(e),urlencodeWithArrayRepeat:e=>r.stringify(e,{arrayFormat:"repeat"}),rawencode:e=>r.stringify(e,{encode:!1}),encode:e=>e,decode:e=>e,urlencodeBase64:e=>e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_"),numberToLE:(e,t)=>{const i=new a(e).toArray("le",t);return d(i)},numberToBE:(e,t)=>{const i=new a(e).toArray("be",t);return d(i)},base58ToBinary:e=>{if(!o){o={},c={};for(let e=0;e<58;e++){const t=n[e],i=new a(e);o[t]=i,c[i]=t}}let t=new a(0);const i=new a(58);for(let s=0;s<e.length;s++){const r=e[s];t.imul(i),t.iadd(o[r])}return d(t.toArray("be"))},binaryToBase58:e=>{if(!c){o={},c={};for(let e=0;e<58;e++){const t=n[e],i=new a(e);o[t]=i,c[i]=t}}const t=new a(58),i=e.toString(s.enc.Hex);let r=new a(i,16),d=[];while(!r.isZero()){const{div:e,mod:i}=r.divmod(t);r=e,d.push(c[i])}return d.reverse().join("")}},e.exports["byteArrayToWordArray"]=d},"3a7c":function(e,t,i){(function(e){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function s(e){return"boolean"===typeof e}function r(e){return null===e}function a(e){return null==e}function n(e){return"number"===typeof e}function o(e){return"string"===typeof e}function c(e){return"symbol"===typeof e}function d(e){return void 0===e}function h(e){return"[object RegExp]"===g(e)}function u(e){return"object"===typeof e&&null!==e}function l(e){return"[object Date]"===g(e)}function f(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"===typeof e}function m(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function g(e){return Object.prototype.toString.call(e)}t.isArray=i,t.isBoolean=s,t.isNull=r,t.isNullOrUndefined=a,t.isNumber=n,t.isString=o,t.isSymbol=c,t.isUndefined=d,t.isRegExp=h,t.isObject=u,t.isDate=l,t.isError=f,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(this,i("b639").Buffer)},"3ab5":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,ArgumentsRequired:n,BadRequest:o,InvalidOrder:c,InsufficientFunds:d,OrderNotFound:h,PermissionDenied:u}=i("74b0");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"oceanex",name:"OceanEx",countries:["LU","CN","SG"],version:"v1",rateLimit:3e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/58385970-794e2d80-8001-11e9-889c-0567cd79b78e.jpg",api:"https://api.oceanex.pro",www:"https://www.oceanex.pro.com",doc:"https://api.oceanex.pro/doc/v1",referral:"https://oceanex.pro/signup?referral=VE24QX"},has:{fetchMarkets:!0,fetchCurrencies:!1,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTrades:!0,fetchTradingLimits:!1,fetchTradingFees:!1,fetchAllTradingFees:!0,fetchFundingFees:!1,fetchTime:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchBalance:!0,createMarketOrder:!0,createOrder:!0,cancelOrder:!0,cancelOrders:!0,cancelAllOrders:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["markets","tickers/{pair}","tickers_multi","order_book","order_book/multi","fees/trading","trades","timestamp"]},private:{get:["key","members/me","orders","orders/filter"],post:["orders","orders/multi","order/delete","order/delete/multi","orders/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{PLA:"Plair"},exceptions:{codes:{"-1":o,"-2":o,1001:o,1004:n,1006:a,1008:a,1010:a,1011:u,2001:a,2002:c,2004:h,9003:u},exact:{"market does not have a valid value":o,"side does not have a valid value":o,"Account::AccountError: Cannot lock funds":d,"The account does not exist":a}}})}async fetchMarkets(e={}){const t={show_details:!0},i=await this.publicGetMarkets(this.extend(t,e)),s=[],r=this.safeValue(i,"data");for(let a=0;a<r.length;a++){const e=r[a],t=this.safeValue(e,"id"),i=this.safeValue(e,"name");let[n,o]=i.split("/");const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o);n=n.toLowerCase(),o=o.toLowerCase();const h=c+"/"+d;s.push({id:t,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,info:e,precision:{amount:this.safeInteger(e,"amount_precision"),price:this.safeInteger(e,"price_precision"),base:this.safeInteger(e,"ask_precision"),quote:this.safeInteger(e,"bid_precision")},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minimum_trading_amount"),max:void 0}}})}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},r=await this.publicGetTickersPair(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i=this.marketIds(e),s={markets:i},r=await this.publicGetTickersMulti(this.extend(s,t)),a=this.safeValue(r,"data"),n={};for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"market"),i=this.safeMarket(t),s=i["symbol"];n[s]=this.parseTicker(e,i)}return this.filterByArray(n,"symbol",e)}parseTicker(e,t){const i=this.safeValue(e,"ticker",{}),s=this.safeTimestamp(e,"at");return{symbol:t["symbol"],timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(i,"high"),low:this.safeNumber(i,"low"),bid:this.safeNumber(i,"buy"),bidVolume:void 0,ask:this.safeNumber(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeNumber(i,"last"),last:this.safeNumber(i,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(i,"volume"),quoteVolume:void 0,info:i}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderBook(this.extend(r,i)),n=this.safeValue(a,"data",{}),o=this.safeTimestamp(n,"timestamp");return this.parseOrderBook(n,e,o)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const s=this.marketIds(e),r={markets:s};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderBookMulti(this.extend(r,i)),n=this.safeValue(a,"data",[]),o={};for(let c=0;c<n.length;c++){const e=n[c],t=this.safeString(e,"market"),i=this.safeSymbol(t),s=this.safeTimestamp(e,"timestamp");o[i]=this.parseOrderBook(e,i,s)}return o}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"data");return this.parseTrades(o,r,t,i)}parseTrade(e,t){let i=this.safeValue(e,"side");"bid"===i?i="buy":"ask"===i&&(i="sell");const s=this.safeValue(e,"market"),r=this.safeSymbol(s,t);let a=this.safeTimestamp(e,"created_on");return void 0===a&&(a=this.parse8601(this.safeString(e,"created_at"))),{info:e,timestamp:a,datetime:this.iso8601(a),symbol:r,id:this.safeString(e,"id"),order:void 0,type:"limit",takerOrMaker:void 0,side:i,price:this.safeNumber(e,"price"),amount:this.safeNumber(e,"volume"),cost:void 0,fee:void 0}}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeTimestamp(t,"data")}async fetchAllTradingFees(e={}){const t=await this.publicGetFeesTrading(e),i=this.safeValue(t,"data"),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeValue(e,"ask_fee",{}),a=this.safeValue(e,"bid_fee",{}),n=this.safeString(e,"market"),o=this.safeSymbol(n);s[o]={info:e,symbol:o,maker:this.safeNumber(t,"value"),taker:this.safeNumber(a,"value")}}return s}async fetchKey(e={}){const t=await this.privateGetKey(e);return this.safeValue(t,"data")}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"data"),s=this.safeValue(i,"accounts"),r={info:t};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeValue(e,"currency"),i=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"locked"),r[i]=n}return this.parseBalance(r,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={market:n["id"],side:i,ord_type:t,volume:this.amountToPrecision(e,s)};"limit"===t&&(o["price"]=this.priceToPrecision(e,r));const c=await this.privatePostOrders(this.extend(o,a)),d=this.safeValue(c,"data");return this.parseOrder(d,n)}async fetchOrder(e,t,i={}){let s=e;Array.isArray(e)||(s=[e]),await this.loadMarkets();let r=void 0;void 0!==t&&(r=this.market(t));const a={ids:s},n=await this.privateGetOrders(this.extend(a,i)),o=this.safeValue(n,"data"),c=o.length;if(void 0===o)throw new h(this.id+" could not found matching order");if(Array.isArray(e))return this.parseOrders(o,r);if(0===c)throw new h(this.id+" could not found matching order");return this.parseOrder(o[0],r)}async fetchOpenOrders(e,t,i,s={}){const r={states:["wait"]};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={states:["done","cancel"]};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),a=this.safeValue(s,"states",["wait","done","cancel"]),o=this.omit(s,"states"),c={market:r["id"],states:a,need_price:"True"};void 0!==i&&(c["limit"]=i);const d=await this.privateGetOrdersFilter(this.extend(c,o)),h=this.safeValue(d,"data",[]);let u=[];for(let n=0;n<h.length;n++){const e=this.safeValue(h[n],"orders",[]),s=this.parseOrderStatus(this.safeValue(h[n],"state")),a=this.parseOrders(e,r,t,i,{status:s});u=this.arrayConcat(u,a)}return u}parseOrder(e,t){const i=this.parseOrderStatus(this.safeValue(e,"state")),s=this.safeString2(e,"market","market_id"),r=this.safeSymbol(s,t);let a=this.safeTimestamp(e,"created_on");return void 0===a&&(a=this.parse8601(this.safeString(e,"created_at"))),this.safeOrder({info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:this.safeValue(e,"ord_type"),timeInForce:void 0,postOnly:void 0,side:this.safeValue(e,"side"),price:this.safeNumber(e,"price"),stopPrice:void 0,average:this.safeNumber(e,"avg_price"),amount:this.safeNumber(e,"volume"),remaining:this.safeNumber(e,"remaining_volume"),filled:this.safeNumber(e,"executed_volume"),status:i,cost:void 0,trades:void 0,fee:void 0})}parseOrderStatus(e){const t={wait:"open",done:"closed",cancel:"canceled"};return this.safeString(t,e,e)}async createOrders(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"],orders:t},a=await this.privatePostOrdersMulti(this.extend(r,i)),n=a["data"];return this.parseOrders(n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=await this.privatePostOrderDelete(this.extend({id:e},i)),r=this.safeValue(s,"data");return this.parseOrder(r)}async cancelOrders(e,t,i={}){await this.loadMarkets();const s=await this.privatePostOrderDeleteMulti(this.extend({ids:e},i)),r=this.safeValue(s,"data");return this.parseOrders(r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i=await this.privatePostOrdersClear(t),s=this.safeValue(i,"data");return this.parseOrders(s)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)if("tickers_multi"===e||"order_book/multi"===e){let e="?";const t=this.safeValue(s,"markets");for(let s=0;s<t.length;s++)e+="markets[]="+t[s]+"&";const i=this.safeValue(s,"limit");void 0!==i&&(e+="limit="+i),n+=e}else Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e={uid:this.apiKey,data:o},t=this.jwt(e,this.encode(this.secret),"RS256");n+="?user_jwt="+t}return r={"Content-Type":"application/json"},{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if(void 0!==h&&"0"!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["codes"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],u,e),new r(e)}}}},"3ac3":function(e,t,i){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i("feef"),n=i("b640"),o=r(i("91c7")),c={chain:!1,confirmations:-1,maxWaitTime:0,requestInterval:0};function d(e,t,i){var r=s(s({},c),i||{}),a=!Array.isArray(t),d=r.confirmations>0?1:0;return(r.chain?u(e,n.toArray(t),s(s({},r),{confirmations:d})):h(e,n.toArray(t))).then((function(t){return r.confirmations<=0?t:o.default(e,t,r)})).then((function(e){return a?n.head(e):e}))}function h(e,t){return Promise.all(t.map((function(t){return a.broadcast(e,t)})))}function u(e,t,i){return new Promise((function(s,r){var n=t.slice().reverse(),c=[],d=function(){if(!n.length)return s(c),null;var t=n.pop();a.broadcast(e,t).then((function(t){return o.default(e,t,i)})).then((function(e){c.push(e),d()}),r)};d()}))}t.default=d},"3ad0":function(e,t,i){},"3af5":function(e,t,i){var s=i("0e30"),r=i("64eb"),a=s((function(e,t,i){return r(Math.max(e.length,t.length,i.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):i.apply(this,arguments)}))}));e.exports=a},"3b1e":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,OrderNotFound:n,InsufficientFunds:o,DDoSProtection:c,PermissionDenied:d,BadSymbol:h,InvalidOrder:u}=i("74b0"),l=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitforex",name:"Bitforex",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295553-1160ec00-c50e-11ea-8ea0-df79276a9646.jpg",api:"https://api.bitforex.com",www:"https://www.bitforex.com",doc:"https://github.com/githubdev2020/API_Doc_en/wiki",fees:"https://help.bitforex.com/en_us/?cat=13",referral:"https://www.bitforex.com/en/invitationRegister?inviterId=1867438"},api:{public:{get:["api/v1/market/symbols","api/v1/market/ticker","api/v1/market/depth","api/v1/market/trades","api/v1/market/kline"]},private:{post:["api/v1/fund/mainAccount","api/v1/fund/allAccount","api/v1/trade/placeOrder","api/v1/trade/placeMultiOrder","api/v1/trade/cancelOrder","api/v1/trade/cancelMultiOrder","api/v1/trade/orderInfo","api/v1/trade/multiOrderInfo","api/v1/trade/orderInfos"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001},funding:{tierBased:!1,percentage:!0,deposit:{},withdraw:{BTC:5e-4,ETH:.01,BCH:1e-4,LTC:.001,ETC:.005,USDT:5,CMCT:30,AION:3,LVT:0,DATA:40,RHP:50,NEO:0,AIDOC:10,BQT:2,R:2,DPY:.8,GTC:40,AGI:30,DENT:100,SAN:1,SPANK:8,AID:5,OMG:.1,BFT:5,SHOW:150,TRX:20,ABYSS:10,THM:25,ZIL:20,PPT:.2,WTC:.4,LRC:7,BNT:1,CTXC:1,MITH:20,TRUE:4,LYM:10,VEE:100,AUTO:200,REN:50,TIO:2.5,NGC:1.5,PST:10,CRE:200,IPC:5,PTT:1e3,XMCT:20,ATMI:40,TERN:40,XLM:.01,ODE:15,FTM:100,RTE:100,DCC:100,IMT:500,GOT:3,EGT:500,DACC:1e3,UBEX:500,ABL:100,OLT:100,DAV:40,THRT:10,RMESH:3,UPP:20,SDT:0,SHR:10,MTV:3,ESS:100,MET:3,TTC:20,LXT:10,XCLP:100,LUK:100,UBC:100,DTX:10,BEAT:20,DEED:2,BGX:3e3,PRL:20,ELY:50,CARD:300,SQR:15,VRA:400,BWX:3500,MAS:75,FLP:.6,UNC:300,CRNC:15,MFG:70,ZXC:70,TRT:30,ZIX:35,XRA:10,AMO:1600,IPG:3,uDoo:50,URB:30,ARCONA:3,CRAD:5,NOBS:1e3,ADF:2,ELF:5,LX:20,PATH:15,SILK:120,SKYFT:50,EDN:50,ADE:50,EDR:10,TIME:.25,SPRK:20,QTUM:.01,BF:5,ZPR:100,HYB:10,CAN:30,CEL:10,ATS:50,KCASH:1,ACT:.01,MT:300,DXT:30,WAB:4e3,HYDRO:400,LQD:5,OPTC:200,EQUAD:80,LATX:50,LEDU:100,RIT:70,ACDC:500,FSN:2}}},commonCurrencies:{ACE:"ACE Entertainment",CAPP:"Crypto Application Token",CREDIT:"TerraCredit",CTC:"Culture Ticket Chain",GOT:"GoNetwork",HBC:"Hybrid Bank Cash",IQ:"IQ.Cash",UOS:"UOS Network"},exceptions:{4004:n,1013:a,1016:a,1017:d,1019:h,3002:o,4002:u,4003:u,10204:c}})}async fetchMarkets(e={}){const t=await this.publicGetApiV1MarketSymbols(e),i=t["data"],s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=t.split("-"),n=a[2],o=a[1],c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=!0,l={amount:this.safeInteger(e,"amountPrecision"),price:this.safeInteger(e,"pricePrecision")},f={amount:{min:this.safeNumber(e,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}};s.push({id:t,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:u,precision:l,limits:f,info:e})}return s}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const s=this.safeInteger(e,"time"),r=this.safeString(e,"tid"),a=void 0,n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(l.stringMul(n,o)),u=this.safeInteger(e,"direction"),f=this.parseSide(u);return{info:e,id:r,timestamp:s,datetime:this.iso8601(s),symbol:i,type:void 0,side:f,price:c,amount:d,cost:h,order:a,fee:void 0,takerOrMaker:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==i&&(r["size"]=i);const a=this.market(e),n=await this.publicGetApiV1MarketTrades(this.extend(r,s));return this.parseTrades(n["data"],a,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostApiV1FundAllAccount(e),i=t["data"],s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["used"]=this.safeString(e,"frozen"),n["free"]=this.safeString(e,"active"),n["total"]=this.safeString(e,"fix"),s[a]=n}return this.parseBalance(s,!1)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.markets[e],s={symbol:i["id"]},r=await this.publicGetApiV1MarketTicker(this.extend(s,t)),a=r["data"],n=this.safeInteger(a,"date");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(a,"high"),low:this.safeNumber(a,"low"),bid:this.safeNumber(a,"buy"),bidVolume:void 0,ask:this.safeNumber(a,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeNumber(a,"last"),last:this.safeNumber(a,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(a,"vol"),quoteVolume:void 0,info:r}}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"vol")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],ktype:this.timeframes[t]};void 0!==s&&(n["size"]=s);const o=await this.publicGetApiV1MarketKline(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.marketId(e),r={symbol:s};void 0!==t&&(r["size"]=t);const a=await this.publicGetApiV1MarketDepth(this.extend(r,i)),n=this.safeValue(a,"data"),o=this.safeInteger(a,"time");return this.parseOrderBook(n,e,o,"bids","asks","price","amount")}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return e in t?t[e]:e}parseSide(e){return 1===e?"buy":2===e?"sell":void 0}parseOrder(e,t){const i=this.safeString(e,"orderId"),s=this.safeNumber(e,"createTime"),r=this.safeNumber(e,"lastTime"),a=t["symbol"],n=this.safeInteger(e,"tradeType"),o=this.parseSide(n),c=void 0,d=this.safeNumber(e,"orderPrice"),h=this.safeNumber(e,"avgPrice"),u=this.safeNumber(e,"orderAmount"),l=this.safeNumber(e,"dealAmount"),f=this.parseOrderStatus(this.safeString(e,"orderState")),p="buy"===o?"base":"quote",m=t[p],g={cost:this.safeNumber(e,"tradeFee"),currency:m};return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:r,symbol:a,type:c,timeInForce:void 0,postOnly:void 0,side:o,price:d,stopPrice:void 0,cost:void 0,average:h,amount:u,filled:l,remaining:void 0,status:f,fee:g,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={symbol:this.marketId(t),orderId:e},a=await this.privatePostApiV1TradeOrderInfo(this.extend(r,i)),n=this.parseOrder(a["data"],s);return n}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:this.marketId(e),state:0},n=await this.privatePostApiV1TradeOrderInfos(this.extend(a,s));return this.parseOrders(n["data"],r,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:this.marketId(e),state:1},n=await this.privatePostApiV1TradeOrderInfos(this.extend(a,s));return this.parseOrders(n["data"],r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();let n=void 0;"buy"===i?n=1:"sell"===i&&(n=2);const o={symbol:this.marketId(e),price:r,amount:s,tradeType:n},c=await this.privatePostApiV1TradePlaceOrder(this.extend(o,a)),d=c["data"];return{info:c,id:this.safeString(d,"orderId")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e};void 0!==t&&(s["symbol"]=this.marketId(t));const r=await this.privatePostApiV1TradeCancelOrder(this.extend(s,i)),a=r["success"],n={info:r,success:a};return n}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();let t=this.urlencode({accessKey:this.apiKey});o["nonce"]=this.milliseconds(),Object.keys(o).length&&(t+="&"+this.urlencode(this.keysort(o)));const i="/"+e+"?"+t,s=this.hmac(this.encode(i),this.encode(this.secret));a=t+"&signData="+s,r={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if("string"===typeof n&&("{"===n[0]||"["===n[0])){const e=this.id+" "+n,t=this.safeValue(o,"success");if(void 0!==t&&!t){const t=this.safeString(o,"code");throw this.throwExactlyMatchedException(this.exceptions,t,e),new r(e)}}}}},"3b29":function(e,t,i){(function(t){var s=i("5259");i("fb58f"),i("c7e6"),i("6497");var r,a=s.pkcs5=s.pkcs5||{};s.util.isNodejs&&!s.options.usePureJavaScript&&(r=i(0)),e.exports=s.pbkdf2=a.pbkdf2=function(e,i,a,n,o,c){if("function"===typeof o&&(c=o,o=null),s.util.isNodejs&&!s.options.usePureJavaScript&&r.pbkdf2&&(null===o||"object"!==typeof o)&&(r.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!==typeof o&&(o="sha1"),e=t.from(e,"binary"),i=t.from(i,"binary"),c?4===r.pbkdf2Sync.length?r.pbkdf2(e,i,a,n,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):r.pbkdf2(e,i,a,n,o,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):4===r.pbkdf2Sync.length?r.pbkdf2Sync(e,i,a,n).toString("binary"):r.pbkdf2Sync(e,i,a,n,o).toString("binary");if("undefined"!==typeof o&&null!==o||(o="sha1"),"string"===typeof o){if(!(o in s.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=s.md[o].create()}var d=o.digestLength;if(n>4294967295*d){var h=new Error("Derived key is too long.");if(c)return c(h);throw h}var u=Math.ceil(n/d),l=n-(u-1)*d,f=s.hmac.create();f.start(o,e);var p,m,g,y="";if(!c){for(var v=1;v<=u;++v){f.start(null,null),f.update(i),f.update(s.util.int32ToBytes(v)),p=g=f.digest().getBytes();for(var b=2;b<=a;++b)f.start(null,null),f.update(g),m=f.digest().getBytes(),p=s.util.xorBytes(p,m,d),g=m;y+=v<u?p:p.substr(0,l)}return y}v=1;function w(){if(v>u)return c(null,y);f.start(null,null),f.update(i),f.update(s.util.int32ToBytes(v)),p=g=f.digest().getBytes(),b=2,k()}function k(){if(b<=a)return f.start(null,null),f.update(g),m=f.digest().getBytes(),p=s.util.xorBytes(p,m,d),g=m,++b,s.util.setImmediate(k);y+=v<u?p:p.substr(0,l),++v,w()}w()}}).call(this,i("b639").Buffer)},"3b44":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,InsufficientFunds:n,OrderNotFound:o,InvalidOrder:c,AuthenticationError:d}=i("74b0"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinex",name:"CoinEx",version:"v1",countries:["CN"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182089-1e05fa00-c2ec-11ea-8da9-cc73b45abbbc.jpg",api:{public:"https://api.coinex.com",private:"https://api.coinex.com",perpetualPublic:"https://api.coinex.com/perpetual",perpetualPrivate:"https://api.coinex.com/perpetual"},www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees",referral:"https://www.coinex.com/register?refer_code=yw5fz"},api:{public:{get:["common/currency/rate","common/asset/config","market/info","market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance/coin/deposit","balance/coin/withdraw","balance/info","future/account","future/config","future/limitprice","future/loan/history","future/market","margin/account","margin/config","margin/loan/history","margin/market","order","order/deals","order/finished","order/finished/{id}","order/pending","order/status","order/status/batch","order/user/deals","sub_account/balance","sub_account/transfer/history"],post:["balance/coin/withdraw","future/flat","future/loan","future/transfer","margin/flat","margin/loan","margin/transfer","order/batchlimit","order/ioc","order/limit","order/market","sub_account/transfer"],delete:["balance/coin/withdraw","order/pending/batch","order/pending"]},perpetualPublic:{get:["ping","time","market/list","market/limit_config","market/ticker","market/ticker/all","market/depth","market/deals","market/funding_history","market/user_deals","market/kline"]},perpetualPrivate:{get:["asset/query","order/pending","order/finished","order/stop_pending","order/status","position/pending","position/funding"],post:["market/adjust_leverage","market/position_expect","order/put_limit","order/put_market","order/put_stop_limit","order/cancel","order/cancel_all","order/cancel_stop","order/cancel_stop_all","order/close_limit","order/close_market","position/adjust_margin"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8},options:{createMarketBuyOrderRequiresPrice:!0}})}async fetchMarkets(e={}){const t=await this.publicGetMarketInfo(e),i=this.safeValue(t,"data",{}),s=[],r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=i[e],n=this.safeString(t,"name"),o=this.safeString(t,"trading_name"),c=o,d=this.safeString(t,"pricing_name"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d);let l=h+"/"+u;o===n&&(l=n);const f={amount:this.safeInteger(t,"trading_decimal"),price:this.safeInteger(t,"pricing_decimal")},p=void 0;s.push({id:n,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:p,taker:this.safeNumber(t,"taker_fee_rate"),maker:this.safeNumber(t,"maker_fee_rate"),info:t,precision:f,limits:{amount:{min:this.safeNumber(t,"min_amount"),max:void 0},price:{min:Math.pow(10,-f["price"]),max:void 0}}})}return s}parseTicker(e,t){const i=this.safeInteger(e,"date");let s=void 0;void 0!==t&&(s=t["symbol"]),e=this.safeValue(e,"ticker",{});const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber2(e,"vol","volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetMarketTicker(this.extend(s,t));return this.parseTicker(r["data"],i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickerAll(t),s=this.safeValue(i,"data"),r=this.safeInteger(s,"date"),a=this.safeValue(s,"ticker"),n=Object.keys(a),o={};for(let c=0;c<n.length;c++){const e=n[c],t=this.safeMarket(e),i=t["symbol"],s=this.parseTicker({date:r,ticker:a[e]},t);s["symbol"]=i,o[i]=s}return this.filterByArray(o,"symbol",e)}async fetchOrderBook(e,t=20,i={}){await this.loadMarkets(),void 0===t&&(t=20);const s={market:this.marketId(e),merge:"0.0000000001",limit:t.toString()},r=await this.publicGetMarketDepth(this.extend(s,i));return this.parseOrderBook(r["data"],e)}parseTrade(e,t){let i=this.safeTimestamp(e,"create_time");void 0===i&&(i=this.safeInteger(e,"date_ms"));const s=this.safeString(e,"id"),r=this.safeString(e,"order_id"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.safeString(e,"market"),u=this.safeSymbol(d,t);let l=this.safeNumber(e,"deal_money");void 0===l&&(l=this.parseNumber(h.stringMul(a,n)));let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"fee_asset"),i=this.safeCurrencyCode(t);f={cost:p,currency:i}}const m=this.safeString(e,"role"),g=this.safeString(e,"type");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:s,order:r,type:void 0,side:g,takerOrMaker:m,price:o,amount:c,cost:l,fee:f}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.publicGetMarketDeals(this.extend(a,s));return this.parseTrades(n["data"],r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={market:a["id"],type:this.timeframes[t]};void 0!==s&&(n["limit"]=s);const o=await this.publicGetMarketKline(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalanceInfo(e),i={info:t},s=this.safeValue(t,"data",{}),r=Object.keys(s);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e),n=this.safeValue(s,e,{}),o=this.account();o["free"]=this.safeString(n,"available"),o["used"]=this.safeString(n,"frozen"),i[t]=o}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={not_deal:"open",part_deal:"open",done:"closed",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeTimestamp(e,"create_time"),s=this.safeNumber(e,"price"),r=this.safeNumber(e,"deal_money"),a=this.safeNumber(e,"amount"),n=this.safeNumber(e,"deal_amount"),o=this.safeNumber(e,"avg_price");let c=void 0;const d=this.safeString(e,"market");t=this.safeMarket(d,t);const h=this.safeString(e,"fee_asset");let u=this.safeCurrencyCode(h);void 0!==t&&(c=t["symbol"],void 0===u&&(u=t["quote"]));const l=this.safeNumber(e,"left"),f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"order_type"),m=this.safeString(e,"type");return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:f,symbol:c,type:p,timeInForce:void 0,postOnly:void 0,side:m,price:s,stopPrice:void 0,cost:r,average:o,amount:a,filled:n,remaining:l,trades:void 0,fee:{currency:u,cost:this.safeNumber(e,"deal_fee")},info:e})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n="privatePostOrder"+this.capitalize(t),o=this.market(e),d={market:o["id"],type:i};if(s=parseFloat(s),"market"===t&&"buy"===i)if(this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===r)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r=parseFloat(r),d["amount"]=this.costToPrecision(e,s*r)}else d["amount"]=this.costToPrecision(e,s);else d["amount"]=this.amountToPrecision(e,s);"limit"!==t&&"ioc"!==t||(d["price"]=this.priceToPrecision(e,r));const h=await this[n](this.extend(d,a)),u=this.safeValue(h,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={id:e,market:s["id"]},a=await this.privateDeleteOrderPending(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n,s)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={id:e,market:s["id"]},n=await this.privateGetOrder(this.extend(r,i)),o=this.safeValue(n,"data");return this.parseOrder(o,s)}async fetchOrdersByStatus(e,t,i,s,r={}){await this.loadMarkets(),void 0===s&&(s=100);const a={page:1,limit:s};let n=void 0;void 0!==t&&(n=this.market(t),a["market"]=n["id"]);const o="privateGetOrder"+this.capitalize(e),c=await this[o](this.extend(a,r)),d=this.safeValue(c,"data"),h=this.safeValue(d,"data",[]);return this.parseOrders(h,n,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByStatus("pending",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByStatus("finished",e,t,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets(),void 0===i&&(i=100);const r={page:1,limit:i};let a=void 0;void 0!==e&&(a=this.market(e),r["market"]=a["id"]);const n=await this.privateGetOrderUserDeals(this.extend(r,s)),o=this.safeValue(n,"data"),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);s&&(i=i+":"+s);const n={coin_type:a["id"],coin_address:i,actual_amount:parseFloat(t),transfer_method:"onchain"},o=await this.privatePostBalanceCoinWithdraw(this.extend(n,r)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}parseTransactionStatus(e){const t={audit:"pending",pass:"pending",processing:"pending",confirming:"pending",not_pass:"failed",cancel:"canceled",finish:"ok",fail:"failed"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"coin_withdraw_id","coin_deposit_id"),s=this.safeString(e,"coin_address");let r=this.safeString(e,"remark");void 0!==r&&r.length<1&&(r=void 0);let a=this.safeValue(e,"tx_id");void 0!==a&&a.length<1&&(a=void 0);const n=this.safeString(e,"coin_type"),o=this.safeCurrencyCode(n,t),c=this.safeTimestamp(e,"create_time"),d="coin_withdraw_id"in e?"withdraw":"deposit",h=this.parseTransactionStatus(this.safeString(e,"status"));let u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"tx_fee");"deposit"===d&&(l=0);const f={cost:l,currency:o};return void 0!==u&&(u-=l),{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:s,tag:r,type:d,amount:u,currency:o,status:h,updated:void 0,fee:f}}async fetchWithdrawals(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),n={coin_type:r["id"]};void 0!==i&&(n["Limit"]=i);const o=await this.privateGetBalanceCoinWithdraw(this.extend(n,s));let c=this.safeValue(o,"data");return Array.isArray(c)||(c=this.safeValue(c,"data",[])),this.parseTransactions(c,r,t,i)}async fetchDeposits(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),n={coin_type:r["id"]};void 0!==i&&(n["Limit"]=i);const o=await this.privateGetBalanceCoinDeposit(this.extend(n,s));let c=this.safeValue(o,"data");return Array.isArray(c)||(c=this.safeValue(c,"data",[])),this.parseTransactions(c,r,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){e=this.implodeParams(e,s);let n=this.urls["api"][t]+"/"+this.version+"/"+e,o=this.omit(s,this.extractParams(e));if("public"===t||"perpetualPublic"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();o=this.extend({access_id:this.apiKey,tonce:e.toString()},o),o=this.keysort(o);const t=this.rawencode(o),s=this.hash(this.encode(t+"&secret_key="+this.secret));r={Authorization:s.toUpperCase(),"Content-Type":"application/json"},"GET"===i||"DELETE"===i?n+="?"+t:a=this.json(o)}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,h){const u=await this.fetch2(e,t,i,s,a,h),l=this.safeString(u,"code"),f=this.safeValue(u,"data"),p=this.safeString(u,"message");if("0"!==l||void 0===f||"Success"!==p&&"Ok"!==p&&!f){const e={24:d,25:d,107:n,600:o,601:c,602:c,606:c},t=this.safeValue(e,l,r);throw new t(u["message"])}return u}}},"3bbe":function(e,t,i){var s=i("861d");e.exports=function(e){if(!s(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3bc7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=["amount","matcherFee","price","fee","minSponsoredAssetFee","quantity","sellMatcherFee","buyMatcherFee"];function r(e){return JSON.stringify(e,(function(e,t){return s.includes(e)||"value"===e&&"integer"===this["type"]?"!"+t+"!":t}),0).replace(/"\!(-?\d+)\!"/g,"$1")}t.default=r},"3c35":function(e,t){(function(t){e.exports=t}).call(this,{})},"3c78":function(e,t){function i(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}e.exports="function"===typeof Object.is?Object.is:i},"3c93":function(e,t,i){},"3ca1":function(e,t,i){"use strict";function s(e,t){return new URL(e,t).toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},"3ca3":function(e,t,i){"use strict";var s=i("6547").charAt,r=i("69f3"),a=i("7dd0"),n="String Iterator",o=r.set,c=r.getterFor(n);a(String,"String",(function(e){o(this,{type:n,string:String(e),index:0})}),(function(){var e,t=c(this),i=t.string,r=t.index;return r>=i.length?{value:void 0,done:!0}:(e=s(i,r),t.index+=e.length,{value:e,done:!1})}))},"3e14":function(e,t,i){var s=i("5a7c"),r=i("f601"),a=i("4c61"),n=i("6ff5"),o=s(r(["take"],a,(function(e,t){return n(0,e<0?1/0:e,t)})));e.exports=o},"3e8a":function(e,t,i){var s=i("5259");i("c7e6"),i("6497");var r=e.exports=s.md5=s.md5||{};s.md.md5=s.md.algorithms.md5=r,r.create=function(){d||h();var e=null,t=s.util.createBuffer(),i=new Array(16),r={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){r.messageLength=0,r.fullMessageLength=r.messageLength64=[];for(var i=r.messageLengthSize/4,a=0;a<i;++a)r.fullMessageLength.push(0);return t=s.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},r}};return r.start(),r.update=function(a,n){"utf8"===n&&(a=s.util.encodeUtf8(a));var o=a.length;r.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=r.fullMessageLength.length-1;c>=0;--c)r.fullMessageLength[c]+=o[1],o[1]=o[0]+(r.fullMessageLength[c]/4294967296>>>0),r.fullMessageLength[c]=r.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(a),u(e,i,t),(t.read>2048||0===t.length())&&t.compact(),r},r.digest=function(){var n=s.util.createBuffer();n.putBytes(t.bytes());var o=r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize,c=o&r.blockLength-1;n.putBytes(a.substr(0,r.blockLength-c));for(var d,h=0,l=r.fullMessageLength.length-1;l>=0;--l)d=8*r.fullMessageLength[l]+h,h=d/4294967296>>>0,n.putInt32Le(d>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};u(f,i,n);var p=s.util.createBuffer();return p.putInt32Le(f.h0),p.putInt32Le(f.h1),p.putInt32Le(f.h2),p.putInt32Le(f.h3),p},r};var a=null,n=null,o=null,c=null,d=!1;function h(){a=String.fromCharCode(128),a+=s.util.fillString(String.fromCharCode(0),64),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));d=!0}function u(e,t,i){var s,r,a,d,h,u,l,f,p=i.length();while(p>=64){for(r=e.h0,a=e.h1,d=e.h2,h=e.h3,f=0;f<16;++f)t[f]=i.getInt32Le(),u=h^a&(d^h),s=r+u+c[f]+t[f],l=o[f],r=h,h=d,d=a,a+=s<<l|s>>>32-l;for(;f<32;++f)u=d^h&(a^d),s=r+u+c[f]+t[n[f]],l=o[f],r=h,h=d,d=a,a+=s<<l|s>>>32-l;for(;f<48;++f)u=a^d^h,s=r+u+c[f]+t[n[f]],l=o[f],r=h,h=d,d=a,a+=s<<l|s>>>32-l;for(;f<64;++f)u=d^(a|~h),s=r+u+c[f]+t[n[f]],l=o[f],r=h,h=d,d=a,a+=s<<l|s>>>32-l;e.h0=e.h0+r|0,e.h1=e.h1+a|0,e.h2=e.h2+d|0,e.h3=e.h3+h|0,p-=64}}},"3ea3":function(e,t,i){var s=i("23e7"),r=i("f748"),a=Math.abs,n=Math.pow;s({target:"Math",stat:!0},{cbrt:function(e){return r(e=+e)*n(a(e),1/3)}})},"3ee4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GENESIS_TYPE=1,t.PAYMENT_TYPE=2,t.ISSUE_TYPE=3,t.TRANSFER_TYPE=4,t.REISSUE_TYPE=5,t.BURN_TYPE=6,t.EXCHANGE_TYPE=7,t.LEASE_TYPE=8,t.CANCEL_LEASE_TYPE=9,t.ALIAS_TYPE=10,t.MASS_TRANSFER_TYPE=11,t.DATA_TYPE=12,t.SET_SCRIPT_TYPE=13,t.SPONSORSHIP_TYPE=14,t.SET_ASSET_SCRIPT_TYPE=15,t.INVOKE_SCRIPT_TYPE=16,t.UPDATE_ASSET_INFO_TYPE=17,t.INTEGER_DATA_TYPE="integer",t.BOOLEAN_DATA_TYPE="boolean",t.STRING_DATA_TYPE="string",t.BINARY_DATA_TYPE="binary",t.TRANSACTION_TYPE={GENESIS:t.GENESIS_TYPE,PAYMENT:t.PAYMENT_TYPE,ISSUE:t.ISSUE_TYPE,TRANSFER:t.TRANSFER_TYPE,REISSUE:t.REISSUE_TYPE,BURN:t.BURN_TYPE,EXCHANGE:t.EXCHANGE_TYPE,LEASE:t.LEASE_TYPE,CANCEL_LEASE:t.CANCEL_LEASE_TYPE,ALIAS:t.ALIAS_TYPE,MASS_TRANSFER:t.MASS_TRANSFER_TYPE,DATA:t.DATA_TYPE,SET_SCRIPT:t.SET_SCRIPT_TYPE,SPONSORSHIP:t.SPONSORSHIP_TYPE,SET_ASSET_SCRIPT:t.SET_ASSET_SCRIPT_TYPE,INVOKE_SCRIPT:t.INVOKE_SCRIPT_TYPE,UPDATE_ASSET_INFO:t.UPDATE_ASSET_INFO_TYPE},t.DATA_FIELD_TYPE={INTEGER:t.INTEGER_DATA_TYPE,BOOLEAN:t.BOOLEAN_DATA_TYPE,STRING:t.STRING_DATA_TYPE,BINARY:t.BINARY_DATA_TYPE}},"3f8c":function(e,t){e.exports={}},"3fb5":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},"3fd9":function(e,t,i){var s=i("70ea"),r=s((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=r},4001:function(e,t,i){"use strict";var s=i("b9b3"),r=s.assert,a=s.parseBytes,n=s.cachedProperty;function o(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},n(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),n(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),n(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,s=t.slice(0,e.encodingLength);return s[0]&=248,s[i]&=127,s[i]|=64,s})),n(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),n(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),n(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.signModified=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.signModified(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),s.encode(this.secret(),e)},o.prototype.getPublic=function(e){return s.encode(this.pubBytes(),e)},e.exports=o},4040:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InvalidOrder:a,AuthenticationError:n,InsufficientFunds:o,BadSymbol:c,OrderNotFound:d,InvalidAddress:h,BadRequest:u}=i("74b0"),{TRUNCATE:l}=i("5ea4"),f=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"gopax",name:"GOPAX",countries:["KR"],version:"v1",rateLimit:50,hostname:"gopax.co.kr",certified:!0,pro:!0,has:{cancelOrder:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:"emulated",fetchDepositAddresses:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1d":"1440"},urls:{logo:"https://user-images.githubusercontent.com/1294454/102897212-ae8a5e00-4478-11eb-9bab-91507c643900.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.gopax.co.kr",doc:"https://gopax.github.io/API/index.en.html",fees:"https://www.gopax.com/feeinfo"},api:{public:{get:["notices","assets","price-tick-size","trading-pairs","trading-pairs/{tradingPair}/ticker","trading-pairs/{tradingPair}/book","trading-pairs/{tradingPair}/trades","trading-pairs/{tradingPair}/stats","trading-pairs/{tradingPair}/price-tick-size","trading-pairs/stats","trading-pairs/{tradingPair}/candles","time"]},private:{get:["balances","balances/{assetName}","orders","orders/{orderId}","orders/clientOrderId/{clientOrderId}","trades","deposit-withdrawal-status","crypto-deposit-addresses","crypto-withdrawal-addresses"],post:["orders"],delete:["orders/{orderId}","orders/clientOrderId/{clientOrderId}"]}},fees:{trading:{percentage:!0,tierBased:!1,maker:4e-4,taker:4e-4}},exceptions:{broad:{ERROR_INVALID_ORDER_TYPE:a,ERROR_INVALID_AMOUNT:a,ERROR_INVALID_TRADING_PAIR:c,"No such order ID":d,"Forbidden order type":a,"the client order ID will be reusable which order has already been completed or canceled":a,ERROR_NO_SUCH_TRADING_PAIR:c,ERROR_INVALID_ORDER_SIDE:a,ERROR_NOT_HEDGE_TOKEN_USER:a,ORDER_EVENT_ERROR_NOT_ALLOWED_BID_ORDER:a,ORDER_EVENT_ERROR_INSUFFICIENT_BALANCE:o,"Invalid option combination":a,"No such client order ID":d},exact:{100:c,101:c,103:a,104:c,105:c,106:c,107:a,108:a,111:a,201:o,202:a,203:a,204:a,205:a,206:a,10004:n,10041:u,10056:u,10057:c,10059:c,10062:u,10069:d,10155:n,10166:u,10212:a,10221:d,10222:a,10223:a,10227:a,10319:u,10358:a,10359:a,10360:a,10361:a,10362:a,10363:a}},options:{createMarketBuyOrderRequiresPrice:!0}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"name"),a=this.safeInteger(e,"id"),n=this.safeString(e,"baseAsset"),o=this.safeString(e,"quoteAsset"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={price:this.safeInteger(e,"quoteAssetScale"),amount:this.safeInteger(e,"baseAssetScale")},l=this.safeValue(e,"restApiOrderAmountMin",{}),p=this.safeValue(l,"marketAsk",{}),m=this.safeValue(l,"marketBid",{}),g=this.safeString(e,"takerFeePercent"),y=this.safeString(e,"makerFeePercent"),v=this.parseNumber(f.stringDiv(g,"100")),b=this.parseNumber(f.stringDiv(y,"100"));i.push({id:r,info:e,numericId:a,symbol:h,base:c,quote:d,baseId:this.safeString(e,"baseAsset"),quoteId:this.safeString(e,"quoteAsset"),active:!0,taker:v,maker:b,precision:u,limits:{amount:{min:this.safeNumber(p,"amount"),max:void 0},price:{min:this.safeNumber(e,"priceMin"),max:void 0},cost:{min:this.safeNumber(m,"amount"),max:void 0}}})}return i}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeCurrencyCode(r),n=this.safeString(e,"name"),o=this.safeNumber(e,"withdrawalFee"),c=this.safeNumber(e,"scale");i[a]={id:r,info:e,code:a,name:n,active:!0,fee:o,precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"withdrawalAmountMin"),max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={tradingPair:s["id"]},a=await this.publicGetTradingPairsTradingPairBook(this.extend(r,i)),n=this.safeInteger(a,"sequence"),o=this.parseOrderBook(a,e,void 0,"bid","ask",1,2);return o["nonce"]=n,o}parseTicker(e,t){const i=this.safeString(e,"name"),s=this.safeSymbol(i,t,"-"),r=this.parse8601(this.safeString(e,"time")),a=this.safeNumber(e,"open"),n=this.safeNumber2(e,"price","close");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(d=this.sum(n,a)/2,o=n-a,a>0&&(c=o/a*100));const h=this.safeNumber(e,"volume"),u=this.safeNumber(e,"quoteVolume"),l=this.vwap(h,u);return{symbol:s,info:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidVolume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askVolume"),vwap:l,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:h,quoteVolume:u}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={tradingPair:i["id"]},r=await this.publicGetTradingPairsTradingPairTicker(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTradingPairsStats(t);return this.parseTickers(i,e)}parsePublicTrade(e,t){const i=this.parse8601(this.safeString(e,"time")),s=this.safeNumber(e,"price"),r=this.safeNumber(e,"amount");let a=void 0;return"symbol"in t&&(a=this.safeString(t,"symbol")),{info:e,id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),symbol:a,order:void 0,type:void 0,side:this.safeString(e,"side"),takerOrMaker:void 0,price:s,amount:r,cost:s*r,fee:void 0}}parsePrivateTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"tradingPairName").replace("-","/"),r=this.safeString(e,"side"),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"baseAmount");let o=s.slice(0,3);"sell"===r&&(o=s.slice(4));const c={cost:this.safeNumber(e,"fee"),currency:o,rate:void 0};return{info:e,id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),symbol:s,order:this.safeInteger(e,"orderId"),type:void 0,side:r,takerOrMaker:this.safeString(e,"position"),price:a,amount:n,cost:a*n,fee:c}}parseTrade(e,t){const i=this.safeString2(e,"id","tradeId"),s=this.safeInteger(e,"orderId");let r=this.parse8601(this.safeString2(e,"time","timestamp"));r=this.safeTimestamp(e,"occuredAt",r);const a=this.safeString(e,"tradingPairName");t=this.safeMarket(a,t,"-");const n=t["symbol"];let o=this.safeString(e,"side");"1"===o?o="buy":"2"===o&&(o="sell");let c=this.safeString(e,"type");"1"===c?c="limit":"2"===c&&(c="market");const d=this.safeString(e,"price"),h=this.safeString2(e,"amount","baseAmount"),u=this.parseNumber(d),l=this.parseNumber(h);let p=this.safeNumber(e,"quoteAmount");void 0===p&&(p=this.parseNumber(f.stringMul(d,h)));const m=this.safeNumber(e,"fee");let g=void 0;void 0!==m&&(g={cost:m,currency:t["base"]});const y=this.safeString(e,"position");return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:n,order:s,type:void 0,side:o,takerOrMaker:y,price:u,amount:l,cost:p,fee:g}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={tradingPair:r["id"]};void 0!==t&&(a["after"]=parseInt(t/1e3)),void 0!==i&&(a["limit"]=i);const n=await this.publicGetTradingPairsTradingPairTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,3),this.safeNumber(e,2),this.safeNumber(e,1),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e);s=void 0===s?1024:s;const n={tradingPair:a["id"],interval:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0===i){const e=this.milliseconds();n["end"]=e,n["start"]=e-s*o*1e3}else n["start"]=i,n["end"]=this.sum(i,s*o*1e3);const c=await this.publicGetTradingPairsTradingPairCandles(this.extend(n,r));return this.parseOHLCVs(c,a,t,i,s)}parseBalanceResponse(e){const t={info:e};for(let i=0;i<e.length;i++){const s=e[i],r=this.safeString2(s,"asset","isoAlpha3"),a=this.safeCurrencyCode(r),n=this.safeString(s,"hold"),o=this.safeString(s,"pendingWithdrawal"),c=this.account();c["free"]=this.safeString(s,"avail"),c["used"]=f.stringAdd(n,o),t[a]=c}return this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e);return this.parseBalanceResponse(t)}parseOrderStatus(e){const t={placed:"open",cancelled:"canceled",completed:"closed",updated:"open",reserved:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"clientOrderId"),r=this.parse8601(this.safeString(e,"createdAt")),a=this.safeString(e,"type"),n=this.safeString(e,"side"),o=this.safeStringUpper(e,"timeInForce"),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"stopPrice"),u=this.safeNumber(e,"remaining"),l=this.safeString(e,"tradingPairName");t=this.safeMarket(l,t,"-");const f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeValue(e,"balanceChange",{}),m=this.safeNumber(p,"baseNet");let g=this.safeNumber(p,"quoteNet");void 0!==g&&(g=Math.abs(g));let y=void 0;void 0!==m&&m>0&&(y=this.parse8601(this.safeString(e,"updatedAt")));let v=void 0;if("buy"===n){const e=this.safeValue(p,"baseFee",{}),i=this.safeNumber(e,"taking"),s=this.safeNumber(e,"making");v={currency:t["base"],cost:this.sum(i,s)}}else{const e=this.safeValue(p,"quoteFee",{}),i=this.safeNumber(e,"taking"),s=this.safeNumber(e,"making");v={currency:t["quote"],cost:this.sum(i,s)}}let b=void 0;return void 0!==o&&(b="PO"===o),this.safeOrder({id:i,clientOrderId:s,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:y,status:f,symbol:t["symbol"],type:a,timeInForce:o,postOnly:b,side:n,price:c,stopPrice:h,average:void 0,amount:d,filled:m,remaining:u,cost:g,trades:void 0,fee:v,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();let s=void 0;const r=this.safeString(i,"clientOrderId");i=this.omit(i,"clientOrderId");const a={};void 0===r?(s="privateGetOrdersOrderId",a["orderId"]=e):(s="privateGetOrdersClientOrderIdClientOrderId",a["clientOrderId"]=r);const n=await this[s](this.extend(a,i));return this.parseOrder(n)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={includePast:"true"};let a=void 0;void 0!==e&&(a=this.market(e));const n=await this.privateGetOrders(this.extend(r,s));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={includePast:"false"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async createOrder(e,t,i,s,r,n={}){await this.loadMarkets();const o=this.market(e),c={tradingPairName:o["id"],side:i,type:t};if("limit"===t)c["price"]=this.priceToPrecision(e,r),c["amount"]=this.amountToPrecision(e,s);else if("market"===t)if("buy"===i){let e=s;const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0===r)throw new a(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument");e=r*s}const i=o["precision"]["price"];c["amount"]=this.decimalToPrecision(e,l,i,this.precisionMode)}else c["amount"]=this.amountToPrecision(e,s);const d=this.safeString(n,"clientOrderId");void 0!==d&&(c["clientOrderId"]=d,n=this.omit(n,"clientOrderId"));const h=this.safeNumber(n,"stopPrice");void 0!==h&&(c["stopPrice"]=this.priceToPrecision(e,h),n=this.omit(n,"stopPrice"));const u=this.safeStringLower(n,"timeInForce");void 0!==u&&(c["timeInForce"]=u,n=this.omit(n,"timeInForce"));const f=await this.privatePostOrders(this.extend(c,n));return this.parseOrder(f,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeString(i,"clientOrderId");let a=void 0;void 0===r?(a="privateDeleteOrdersOrderId",s["orderId"]=e):(a="privateDeleteOrdersClientOrderIdClientOrderId",s["clientOrderId"]=r,i=this.omit(i,"clientOrderId"));const n=await this[a](this.extend(s,i)),o=this.parseOrder(n);return this.extend(o,{id:e})}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={deepSearch:"true"};void 0!==t&&(r["after"]=parseInt(t/1e3)),void 0!==i&&(r["limit"]=i);const a=await this.privateGetTrades(this.extend(r,s));let n=void 0;return void 0!==e&&(n=this.market(e)),this.parseTrades(a,n,t,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),s=this.safeString(e,"memoId"),r=this.safeString(e,"asset"),a=this.safeCurrencyCode(r);return this.checkAddress(i),{currency:a,address:i,tag:s,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetCryptoDepositAddresses(t);return this.parseDepositAddresses(i,e)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchDepositAddresses(void 0,t),s=this.safeValue(i,e);if(void 0===s)throw new h(this.id+" fetchDepositAddress() "+e+" address not found");return s}parseTransactionStatus(e){const t={reviewing:"pending",rejected:"rejected",processing:"pending",failed:"failed",completed:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"txId"),r=this.safeString(e,"asset"),a=this.safeCurrencyCode(r,t);let n=this.safeString(e,"type");"crypto_withdrawal"===n||"fiat_withdrawal"===n?n="withdrawal":"crypto_deposit"!==n&&"fiat_deposit"!==n||(n="deposit");const o=this.safeNumber(e,"netAmount"),c=this.safeNumber(e,"feeAmount");let d=void 0;void 0!==c&&(d={cost:c,currency:a});const h=this.safeTimestamp(e,"reviewStartedAt"),u=this.safeTimestamp(e,"completedAt"),l=this.safeString(e,"sourceAddress"),f=this.safeString(e,"destinationAddress"),p=this.safeString(e,"sourceMemoId"),m=this.safeString(e,"destinationMemoId"),g=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:i,txid:s,timestamp:h,datetime:this.iso8601(h),addressFrom:l,address:f,addressTo:f,tagFrom:p,tag:m,tagTo:m,type:n,amount:o,currency:a,status:g,updated:u,comment:void 0,fee:d}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==t&&(r["before"]=t),void 0!==i&&(r["limit"]=i);const a=await this.privateGetDepositWithdrawalStatus(this.extend(r,s));let n=void 0;return void 0!==e&&(n=this.currency(e)),this.parseTransactions(a,n,t,i,s)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){const n="/"+this.implodeParams(e,s);let o=this.implodeHostname(this.urls["api"][t])+n;const c=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="t"+e+i+n;if(r={"api-key":this.apiKey,timestamp:e},"POST"===i)r["Content-Type"]="application/json",a=this.json(s),t+=a;else if("/orders"===n){if(Object.keys(c).length){const e="?"+this.urlencode(c);t+=e,o+=e}}else"GET"===i&&Object.keys(c).length&&(o+="?"+this.urlencode(c));const d=this.base64ToBinary(this.secret),h=this.hmac(this.encode(t),d,"sha512","base64");r["signature"]=h}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&!Array.isArray(o)){const e=this.safeString(o,"errorCode"),t=this.safeString(o,"errorMessage"),i=this.id+" "+n;if(void 0!==t&&this.throwBroadlyMatchedException(this.exceptions["broad"],n,i),void 0!==e&&this.throwExactlyMatchedException(this.exceptions["exact"],e,i),void 0!==e||void 0!==t)throw new r(i)}}}},"408a":function(e,t,i){var s=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=s(e))throw TypeError("Incorrect invocation");return+e}},"40dc":function(e,t,i){"use strict";var s=i("5530"),r=(i("c7cd"),i("a9e3"),i("8b0d"),i("71d9")),a=i("53ca");function n(e,t){var i=t.modifiers||{},s=i.self,r=void 0!==s&&s,n=t.value,o="object"===Object(a["a"])(n)&&n.options||{passive:!0},c="function"===typeof n||"handleEvent"in n?n:n.handler,d=r?e:t.arg?document.querySelector(t.arg):window;d&&(d.addEventListener("scroll",c,o),e._onScroll={handler:c,options:o,target:r?void 0:d})}function o(e){if(e._onScroll){var t=e._onScroll,i=t.handler,s=t.options,r=t.target,a=void 0===r?e:r;a.removeEventListener("scroll",i,s),delete e._onScroll}}var c={inserted:n,unbind:o},d=c,h=i("fe6c"),u=i("58df");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(u["a"])(Object(h["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return e}},watch:{app:function(e,t){t?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(e,t){this.$vuetify.application.unregister(this._uid,t)}},activated:function(){this.callUpdate()},created:function(){for(var e=0,i=t.length;e<i;e++)this.$watch(t[e],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}var f=i("d9bd"),p=i("2b0e"),m=p["a"].extend({name:"scrollable",directives:{Scroll:c},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:function(){return{currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}},computed:{canScroll:function(){return"undefined"!==typeof window},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll},isActive:function(){this.savedScroll=0}},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(f["c"])("Unable to locate element with identifier ".concat(this.scrollTarget),this))},methods:{onScroll:function(){var e=this;this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick((function(){Math.abs(e.currentScroll-e.savedScroll)>e.computedScrollThreshold&&e.thresholdMet()})))},thresholdMet:function(){}}}),g=i("d10f"),y=i("f2e7"),v=i("80d2"),b=Object(u["a"])(r["a"],m,g["a"],y["a"],l("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));t["a"]=b.extend({name:"v-app-bar",directives:{Scroll:d},provide:function(){return{VAppBar:this}},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data:function(){return{isActive:this.value}},computed:{applicationProperty:function(){return this.bottom?"bottom":"top"},canScroll:function(){return m.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll})},scrollRatio:function(){var e=this.computedScrollThreshold;return Math.max((e-this.currentScroll)/e,0)},computedContentHeight:function(){if(!this.shrinkOnScroll)return r["a"].options.computed.computedContentHeight.call(this);var e=this.dense?48:56,t=this.computedOriginalHeight;return e+(t-e)*this.scrollRatio},computedFontSize:function(){if(this.isProminent){var e=1.25,t=1.5;return e+(t-e)*this.scrollRatio}},computedLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},computedOpacity:function(){if(this.fadeImgOnScroll)return this.scrollRatio},computedOriginalHeight:function(){var e=r["a"].options.computed.computedContentHeight.call(this);return this.isExtended&&(e+=parseInt(this.extensionHeight)),e},computedRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform:function(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;var e=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?e:-e},hideShadow:function(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed:function(){return this.collapseOnScroll?this.currentScroll>0:r["a"].options.computed.isCollapsed.call(this)},isProminent:function(){return r["a"].options.computed.isProminent.call(this)||this.shrinkOnScroll},styles:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.styles.call(this)),{},{fontSize:Object(v["g"])(this.computedFontSize,"rem"),marginTop:Object(v["g"])(this.computedMarginTop),transform:"translateY(".concat(Object(v["g"])(this.computedTransform),")"),left:Object(v["g"])(this.computedLeft),right:Object(v["g"])(this.computedRight)})}},watch:{canScroll:"onScroll",computedTransform:function(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll:function(e){this.isActive=!e||0!==this.currentScroll}},created:function(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground:function(){var e=r["a"].options.methods.genBackground.call(this);return e.data=this._b(e.data||{},e.tag,{style:{opacity:this.computedOpacity}}),e},updateApplication:function(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet:function(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render:function(e){var t=r["a"].options.render.call(this,e);return t.data=t.data||{},this.canScroll&&(t.data.directives=t.data.directives||[],t.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t}})},"413f":function(e,t,i){var s=i("5a7c"),r=i("1772"),a=s((function(e,t){var i=e<0?t.length+e:e;return r(t)?t.charAt(i):t[i]}));e.exports=a},4203:function(e,t,i){e.exports={pkcs1:i("11ca"),isEncryption:function(t){return e.exports[t]&&e.exports[t].isEncryption},isSignature:function(t){return e.exports[t]&&e.exports[t].isSignature}}},"428f":function(e,t,i){var s=i("da84");e.exports=s},"429b":function(e,t,i){e.exports=i("faa1").EventEmitter},"42cd":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r}=i("74b0");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:["US"],has:{cancelOrder:!1,CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,editOrder:!1,privateAPI:!1,fetchBalance:!1,fetchCurrencies:!0,fetchL2OrderBook:!1,fetchMarkets:!0,fetchOHLCV:!1,fetchOrderBook:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!1},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182086-1cd4cd00-c2ec-11ea-9ec4-d0cf2a2abf62.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}async fetchOrderBook(e,t,i={}){throw new r("Fetching order books is not supported by the API of "+this.id)}currencyCode(e,t){const i={ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin","BigONE Token":"BigONE Token",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT","Blocktrade Token":"Blocktrade Token","BOX Token":"BOX Token",Catcoin:"Catcoin",CanYaCoin:"CanYaCoin",CryptoBossCoin:"CryptoBossCoin",Comet:"Comet",CPChain:"CPChain",CrowdCoin:"CrowdCoin",Cryptaur:"Cryptaur",Cubits:"Cubits","DAO.Casino":"DAO.Casino",DefiBox:"DefiBox","E-Dinar Coin":"E-Dinar Coin",EDRcoin:"EDRcoin",ENTCash:"ENTCash",FairCoin:"FairCoin","Fabric Token":"Fabric Token",GHOSTPRISM:"GHOSTPRISM","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin","Harvest Masternode Coin":"Harvest Masternode Coin","HOT Token":"HOT Token","Hydro Protocol":"Hydro Protocol",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","IQ.cash":"IQ.cash","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie","Menlo One":"Menlo One","Mobilian Coin":"Mobilian Coin",Monarch:"Monarch","MTC Mesh Network":"MTC Mesh Network",IOTA:"IOTA",NetCoin:"NetCoin",PCHAIN:"PCHAIN",Penta:"Penta",Plair:"Plair",PlayChip:"PlayChip",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin",SBTCT:"SiamBitcoin","Super Bitcoin":"Super Bitcoin",TerraCredit:"TerraCredit",Themis:"Themis","UNI COIN":"UNI COIN","UNICORN Token":"UNICORN Token",Universe:"Universe"};return this.safeValue(i,t,e)}async fetchMarkets(e={}){const t={limit:0},i=await this.publicGetTicker(this.extend(t,e)),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.currencyCodes;for(let i=0;i<t.length;i++){const r=t[i],a=r.toLowerCase(),n=e["id"],o=this.currencyCode(e["symbol"],e["name"]),c=o+"/"+r,d=n+"/"+a;s.push({id:d,symbol:c,base:o,quote:r,baseId:n,quoteId:a,info:e,active:void 0,precision:this.precision,limits:this.limits})}}return s}async fetchGlobal(e="USD"){await this.loadMarkets();const t={};return e&&(t["convert"]=e),await this.publicGetGlobal(t)}parseTicker(e,t){let i=this.safeTimestamp(e,"last_updated");void 0===i&&(i=this.milliseconds());const s=this.safeNumber(e,"percent_change_24h");let r=void 0,a=void 0,n=void 0;if(void 0!==t){a=t["symbol"];const i="price_"+t["quoteId"];r=this.safeNumber(e,i);const s="24h_volume_"+t["quoteId"];n=this.safeNumber(e,s)}return{symbol:a,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:s,average:void 0,baseVolume:void 0,quoteVolume:n,info:e}}async fetchTickers(e="USD",t={}){await this.loadMarkets();const i={limit:1e4};e&&(i["convert"]=e);const s=await this.publicGetTicker(this.extend(i,t)),r={};for(let a=0;a<s.length;a++){const t=s[a],i=e.toLowerCase(),n=t["id"]+"/"+i;let o=n,c=void 0;n in this.markets_by_id&&(c=this.markets_by_id[n],o=c["symbol"]),r[o]=this.parseTicker(t,c)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={convert:i["quote"],id:i["baseId"]},r=await this.publicGetTickerId(this.extend(s,t)),a=r[0];return this.parseTicker(a,i)}async fetchCurrencies(e={}){const t={limit:0},i=await this.publicGetTicker(this.extend(t,e)),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=this.safeString(e,"name"),n=this.currencyCode(t,a);s[n]={id:t,code:n,info:e,name:a,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return s}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));return Object.keys(o).length&&(n+="?"+this.urlencode(o)),{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("error"in o&&o["error"])throw new r(this.id+" "+this.json(o));return o}}},4362:function(e,t,i){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,s="/";t.cwd=function(){return s},t.chdir=function(t){e||(e=i("df7c")),s=e.resolve(t,s)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,i){var s=i("d039"),r=i("c6b6"),a="".split;e.exports=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},"44d2":function(e,t,i){var s=i("b622"),r=i("7c73"),a=i("9bf2"),n=s("unscopables"),o=Array.prototype;void 0==o[n]&&a.f(o,n,{configurable:!0,value:r(null)}),e.exports=function(e){o[n][e]=!0}},"44de":function(e,t,i){var s=i("da84");e.exports=function(e,t){var i=s.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}},"44e7":function(e,t,i){var s=i("861d"),r=i("c6b6"),a=i("b622"),n=a("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}},4510:function(e,t,i){i("4ab0")._,i("4ab0");e.exports={privateExport:function(e,t){return{n:e.n.toBuffer(),e:e.e,d:e.d.toBuffer(),p:e.p.toBuffer(),q:e.q.toBuffer(),dmp1:e.dmp1.toBuffer(),dmq1:e.dmq1.toBuffer(),coeff:e.coeff.toBuffer()}},privateImport:function(e,t,i){if(!(t.n&&t.e&&t.d&&t.p&&t.q&&t.dmp1&&t.dmq1&&t.coeff))throw Error("Invalid key data");e.setPrivate(t.n,t.e,t.d,t.p,t.q,t.dmp1,t.dmq1,t.coeff)},publicExport:function(e,t){return{n:e.n.toBuffer(),e:e.e}},publicImport:function(e,t,i){if(!t.n||!t.e)throw Error("Invalid key data");e.setPublic(t.n,t.e)},autoImport:function(t,i){return!(!i.n||!i.e)&&(i.d&&i.p&&i.q&&i.dmp1&&i.dmq1&&i.coeff?(e.exports.privateImport(t,i),!0):(e.exports.publicImport(t,i),!0))}}},"451a":function(e,t,i){!function(t,i){e.exports=i()}(0,(function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var s=["info","log","warn","error"],r={keepMessageCount:100,keepMessageTypes:["error"],logMessageTypes:["error"],namespace:void 0},a=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),Object.create(null))},n=function(){function e(e){this._messages=[],this._maxLength=e}return e.prototype.push=function(e){this._messages.push(e),this._messages.length>this._maxLength&&this._messages.splice(0,this._messages.length-this._maxLength)},e.prototype.getMessages=function(e){var t,i,r=a(null!=(i=null===(t=e)||void 0===t?void 0:t.messageTypes)?i:s);return this._messages.filter((function(e){return r[e.type]}))},e}();function o(e){return e}i.d(t,"makeConsole",(function(){return h})),i.d(t,"version",(function(){return u})),i.d(t,"makeOptions",(function(){return l}));var c=function(){return(c=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),r=0;for(t=0;t<i;t++)for(var a=arguments[t],n=0,o=a.length;n<o;n++,r++)s[r]=a[n];return s},h=function(e){var t=c(c({},r),null!=e?e:{}),i=new n(t.keepMessageCount),h=a(t.logMessageTypes),u=a(t.keepMessageTypes);return s.reduce((function(e,s){var r=null!=t.namespace?function(e){return d([t.namespace],e)}:o,a=h[s]?console[s]:o,n=u[s]?function(e){return i.push({type:s,args:e})}:o;return e[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r(e);a.apply(void 0,i),n(i)},e}),{getMessages:function(e){return i.getMessages(e)}})},u="1.0.0";function l(e,t){switch(e){case"production":return c(c({},r),{keepMessageTypes:["error"],logMessageTypes:[],namespace:t});case"error":return c(c({},r),{keepMessageTypes:["warn","error"],logMessageTypes:["error"],namespace:t});case"verbose":return c(c({},r),{keepMessageTypes:[],logMessageTypes:s.slice(),namespace:t})}}t.default=h}])}))},"45d6":function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,InsufficientFunds:a,OrderNotFound:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"kuna",name:"Kuna",countries:["UA"],rateLimit:1e3,version:"v2",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:"emulated",fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,withdraw:!1},timeframes:void 0,urls:{extension:".json",referral:"https://kuna.io?r=kunaid-gvfihe8az7o4",logo:"https://user-images.githubusercontent.com/51840849/87153927-f0578b80-c2c0-11ea-84b6-74612568e9e1.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}},commonCurrencies:{PLA:"Plair"},exceptions:{2002:a,2003:n}})}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return 1e3*t}async fetchMarkets(e={}){const t=["btc","rub","uah","usd","usdt","usdc"],i=[],s=await this.publicGetTickers(e),r=Object.keys(s);for(let a=0;a<r.length;a++){const e=r[a];for(let s=0;s<t.length;s++){const r=t[s],a=e.indexOf(r),n=e.slice(a);if(a>0&&n===r){const t=e.replace(r,""),s=this.safeCurrencyCode(t),a=this.safeCurrencyCode(r),n=s+"/"+a;i.push({id:e,symbol:n,base:s,quote:a,baseId:t,quoteId:r,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},active:void 0,info:void 0});break}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetDepth(this.extend(r,i)),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");e=e["ticker"];let s=void 0;t&&(s=t["symbol"]);const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a];let t=void 0,n=e;if(e in this.markets_by_id)t=this.markets_by_id[e],n=t["symbol"];else{let t=e.slice(0,3),i=e.slice(3,6);t=t.toUpperCase(),i=i.toUpperCase(),t=this.safeCurrencyCode(t),i=this.safeCurrencyCode(i),n=t+"/"+i}r[n]=this.parseTicker(i[e],t)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetTickersMarket(this.extend(s,t));return this.parseTicker(r,i)}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at"));let s=void 0;t&&(s=t["symbol"]);let r=this.safeString2(e,"side","trend");if(void 0!==r){const e={ask:"sell",bid:"buy"};r=this.safeString(e,r,r)}const a=this.safeString(e,"price"),n=this.safeString(e,"volume"),c=this.parseNumber(a),d=this.parseNumber(n);let h=this.safeNumber(e,"funds");void 0===h&&(h=this.parseNumber(o.stringMul(a,n)));const u=this.safeString(e,"order_id"),l=this.safeString(e,"id");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:r,order:u,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=await this.fetchTrades(e,i,s,r),n=this.buildOHLCVC(a,t,i,s),o=[];for(let c=0;c<n.length;c++){const e=n[c];o.push([e[0],e[1],e[2],e[3],e[4],e[5]])}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),s={info:i};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"locked"),s[a]=n}return this.parseBalance(s,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={market:this.marketId(e),side:i,volume:s.toString(),ord_type:t};"limit"===t&&(n["price"]=r.toString());const o=await this.privatePostOrders(this.extend(n,a)),c=this.safeValue(o,"market"),d=this.safeValue(this.markets_by_id,c);return this.parseOrder(o,d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePostOrderDelete(this.extend(s,i)),a=this.parseOrder(r),o=a["status"];if("closed"===o||"canceled"===o)throw new n(this.id+" "+this.json(a));return a}parseOrderStatus(e){const t={done:"closed",wait:"open",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t),r=this.parse8601(this.safeString(e,"created_at")),a=this.parseOrderStatus(this.safeString(e,"state")),n=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeString(e,"id");return this.safeOrder({id:c,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:a,symbol:s,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:this.safeNumber(e,"price"),stopPrice:void 0,amount:this.safeNumber(e,"volume"),filled:this.safeNumber(e,"executed_volume"),remaining:this.safeNumber(e,"remaining_volume"),trades:void 0,fee:void 0,info:e,cost:void 0,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:parseInt(e)},r=await this.privateGetOrder(this.extend(s,i));return this.parseOrder(r)}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new r(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={market:a["id"]},o=await this.privateGetOrders(this.extend(n,s));return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new r(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={market:a["id"]},o=await this.privateGetTradesMy(this.extend(n,s));return this.parseTrades(o,a,t,i)}nonce(){return this.milliseconds()}encodeParams(e){if("orders"in e){const t=e["orders"];let i=this.urlencode(this.keysort(this.omit(e,"orders")));for(let e=0;e<t.length;e++){const s=t[e],r=Object.keys(s);for(let e=0;e<r.length;e++){const t=r[e],a=s[t];i+="&orders%5B%5D%5B"+t+"%5D="+a.toString()}}return i}return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",s={},r,a){let n="/api/"+this.version+"/"+this.implodeParams(e,s);"extension"in this.urls&&(n+=this.urls["extension"]);const o=this.omit(s,this.extractParams(e));let c=this.urls["api"]+n;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.encodeParams(this.extend({access_key:this.apiKey,tonce:e},s)),o=i+"|"+n+"|"+t,d=this.hmac(this.encode(o),this.encode(this.secret)),h=t+"&signature="+d;"GET"===i?c+="?"+h:(a=h,r={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,c){if(void 0!==n&&400===e){const e=this.safeValue(n,"error"),t=this.safeString(e,"code"),i=this.id+" "+this.json(n);this.throwExactlyMatchedException(this.exceptions,t,i)}}}},"466d":function(e,t,i){"use strict";var s=i("d784"),r=i("825a"),a=i("50c4"),n=i("1d80"),o=i("8aa5"),c=i("14c3");s("match",(function(e,t,i){return[function(t){var i=n(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,i):new RegExp(t)[e](String(i))},function(e){var s=i(t,this,e);if(s.done)return s.value;var n=r(this),d=String(e);if(!n.global)return c(n,d);var h=n.unicode;n.lastIndex=0;var u,l=[],f=0;while(null!==(u=c(n,d))){var p=String(u[0]);l[f]=p,""===p&&(n.lastIndex=o(d,a(n.lastIndex),h)),f++}return 0===f?null:l}]}))},"467f":function(e,t,i){"use strict";var s=i("2d83");e.exports=function(e,t,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(s("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},4681:function(e,t,i){"use strict";var s=i("966d");function r(e,t){var i=this,r=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return r||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(n,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(s.nextTick(n,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function n(e,t){e.emit("error",t)}e.exports={destroy:r,undestroy:a}},"46e8":function(e,t,i){var s=i("5259");i("c7e6"),i("6497");var r=e.exports=s.sha256=s.sha256||{};s.md.sha256=s.md.algorithms.sha256=r,r.create=function(){n||c();var e=null,t=s.util.createBuffer(),i=new Array(64),r={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){r.messageLength=0,r.fullMessageLength=r.messageLength64=[];for(var i=r.messageLengthSize/4,a=0;a<i;++a)r.fullMessageLength.push(0);return t=s.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},r}};return r.start(),r.update=function(a,n){"utf8"===n&&(a=s.util.encodeUtf8(a));var o=a.length;r.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=r.fullMessageLength.length-1;c>=0;--c)r.fullMessageLength[c]+=o[1],o[1]=o[0]+(r.fullMessageLength[c]/4294967296>>>0),r.fullMessageLength[c]=r.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(a),d(e,i,t),(t.read>2048||0===t.length())&&t.compact(),r},r.digest=function(){var n=s.util.createBuffer();n.putBytes(t.bytes());var o,c,h=r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize,u=h&r.blockLength-1;n.putBytes(a.substr(0,r.blockLength-u));for(var l=8*r.fullMessageLength[0],f=0;f<r.fullMessageLength.length-1;++f)o=8*r.fullMessageLength[f+1],c=o/4294967296>>>0,l+=c,n.putInt32(l>>>0),l=o>>>0;n.putInt32(l);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};d(p,i,n);var m=s.util.createBuffer();return m.putInt32(p.h0),m.putInt32(p.h1),m.putInt32(p.h2),m.putInt32(p.h3),m.putInt32(p.h4),m.putInt32(p.h5),m.putInt32(p.h6),m.putInt32(p.h7),m},r};var a=null,n=!1,o=null;function c(){a=String.fromCharCode(128),a+=s.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0}function d(e,t,i){var s,r,a,n,c,d,h,u,l,f,p,m,g,y,v,b=i.length();while(b>=64){for(h=0;h<16;++h)t[h]=i.getInt32();for(;h<64;++h)s=t[h-2],s=(s>>>17|s<<15)^(s>>>19|s<<13)^s>>>10,r=t[h-15],r=(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,t[h]=s+t[h-7]+r+t[h-16]|0;for(u=e.h0,l=e.h1,f=e.h2,p=e.h3,m=e.h4,g=e.h5,y=e.h6,v=e.h7,h=0;h<64;++h)n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),c=y^m&(g^y),a=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),d=u&l|f&(u^l),s=v+n+c+o[h]+t[h],r=a+d,v=y,y=g,g=m,m=p+s>>>0,p=f,f=l,l=u,u=s+r>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+p|0,e.h4=e.h4+m|0,e.h5=e.h5+g|0,e.h6=e.h6+y|0,e.h7=e.h7+v|0,b-=64}}},"470b":function(e,t,i){"use strict";(function(e){var s=i("b639").Buffer,r=i("d485").Transform,a=i("6b75e"),n=i("3022"),o=i("f654").ok,c=i("b639").kMaxLength,d="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(a),u=0;u<h.length;u++){var l=h[u];l.match(/^Z/)&&Object.defineProperty(t,l,{enumerable:!0,value:a[l],writable:!1})}for(var f={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(f),m=0;m<p.length;m++){var g=p[m];f[f[g]]=g}function y(e,t,i){var r=[],a=0;function n(){var t;while(null!==(t=e.read()))r.push(t),a+=t.length;e.once("readable",n)}function o(t){e.removeListener("end",h),e.removeListener("readable",n),i(t)}function h(){var t,n=null;a>=c?n=new RangeError(d):t=s.concat(r,a),r=[],e.close(),i(n,t)}e.on("error",o),e.on("end",h),e.end(t),n()}function v(e,t){if("string"===typeof t&&(t=s.from(t)),!s.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function b(e){if(!(this instanceof b))return new b(e);x.call(this,e,a.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);x.call(this,e,a.INFLATE)}function k(e){if(!(this instanceof k))return new k(e);x.call(this,e,a.GZIP)}function S(e){if(!(this instanceof S))return new S(e);x.call(this,e,a.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);x.call(this,e,a.DEFLATERAW)}function O(e){if(!(this instanceof O))return new O(e);x.call(this,e,a.INFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);x.call(this,e,a.UNZIP)}function C(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function x(e,i){var n=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,e),e.flush&&!C(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!C(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!s.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(i);var o=this;this._hadError=!1,this._handle.onerror=function(e,i){I(o),o._hadError=!0;var s=new Error(e);s.errno=i,s.code=t.codes[i],o.emit("error",s)};var c=t.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(c=e.level);var d=t.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(d=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,d,e.dictionary),this._buffer=s.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=d,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function I(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function E(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=k,t.Gunzip=S,t.DeflateRaw=_,t.InflateRaw=O,t.Unzip=T,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new O(e)},t.createGzip=function(e){return new k(e)},t.createGunzip=function(e){return new S(e)},t.createUnzip=function(e){return new T(e)},t.deflate=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new b(t),e,i)},t.deflateSync=function(e,t){return v(new b(t),e)},t.gzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new k(t),e,i)},t.gzipSync=function(e,t){return v(new k(t),e)},t.deflateRaw=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new _(t),e,i)},t.deflateRawSync=function(e,t){return v(new _(t),e)},t.unzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new T(t),e,i)},t.unzipSync=function(e,t){return v(new T(t),e)},t.inflate=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new w(t),e,i)},t.inflateSync=function(e,t){return v(new w(t),e)},t.gunzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new S(t),e,i)},t.gunzipSync=function(e,t){return v(new S(t),e)},t.inflateRaw=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new O(t),e,i)},t.inflateRawSync=function(e,t){return v(new O(t),e)},n.inherits(x,r),x.prototype.params=function(i,s,r){if(i<t.Z_MIN_LEVEL||i>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(s!=t.Z_FILTERED&&s!=t.Z_HUFFMAN_ONLY&&s!=t.Z_RLE&&s!=t.Z_FIXED&&s!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+s);if(this._level!==i||this._strategy!==s){var n=this;this.flush(a.Z_SYNC_FLUSH,(function(){o(n._handle,"zlib binding closed"),n._handle.params(i,s),n._hadError||(n._level=i,n._strategy=s,r&&r())}))}else e.nextTick(r)},x.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},x.prototype._flush=function(e){this._transform(s.alloc(0),"",e)},x.prototype.flush=function(t,i){var r=this,n=this._writableState;("function"===typeof t||void 0===t&&!i)&&(i=t,t=a.Z_FULL_FLUSH),n.ended?i&&e.nextTick(i):n.ending?i&&this.once("end",i):n.needDrain?i&&this.once("drain",(function(){return r.flush(t,i)})):(this._flushFlag=t,this.write(s.alloc(0),"",i))},x.prototype.close=function(t){I(this,t),e.nextTick(E,this)},x.prototype._transform=function(e,t,i){var r,n=this._writableState,o=n.ending||n.ended,c=o&&(!e||n.length===e.length);return null===e||s.isBuffer(e)?this._handle?(c?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=n.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,r,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},x.prototype._processChunk=function(e,t,i){var r=e&&e.length,a=this._chunkSize-this._offset,n=0,h=this,u="function"===typeof i;if(!u){var l,f=[],p=0;this.on("error",(function(e){l=e})),o(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,n,r,this._buffer,this._offset,a)}while(!this._hadError&&v(m[0],m[1]));if(this._hadError)throw l;if(p>=c)throw I(this),new RangeError(d);var g=s.concat(f,p);return I(this),g}o(this._handle,"zlib binding closed");var y=this._handle.write(t,e,n,r,this._buffer,this._offset,a);function v(c,d){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var l=a-d;if(o(l>=0,"have should not go down"),l>0){var m=h._buffer.slice(h._offset,h._offset+l);h._offset+=l,u?h.push(m):(f.push(m),p+=m.length)}if((0===d||h._offset>=h._chunkSize)&&(a=h._chunkSize,h._offset=0,h._buffer=s.allocUnsafe(h._chunkSize)),0===d){if(n+=r-c,r=c,!u)return!0;var g=h._handle.write(t,e,n,r,h._buffer,h._offset,h._chunkSize);return g.callback=v,void(g.buffer=e)}if(!u)return!1;i()}}y.buffer=e,y.callback=v},n.inherits(b,x),n.inherits(w,x),n.inherits(k,x),n.inherits(S,x),n.inherits(_,x),n.inherits(O,x),n.inherits(T,x)}).call(this,i("4362"))},4778:function(e,t,i){var s=i("5259");if(i("fb3e"),i("4a92"),i("deb0"),i("2af6"),i("9b5c"),i("3609"),i("6497"),"undefined"===typeof r)var r=s.jsbn.BigInteger;var a=s.util.isNodejs?i(0):null,n=s.asn1,o=s.util;s.pki=s.pki||{},e.exports=s.pki.rsa=s.rsa=s.rsa||{};var c=s.pki,d=[6,4,2,4,2,4,6,2],h={name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=s.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p=function(e){var t;if(!(e.algorithm in c.oids)){var i=new Error("Unknown message digest algorithm.");throw i.algorithm=e.algorithm,i}t=c.oids[e.algorithm];var s=n.oidToDer(t).getBytes(),r=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),a=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);a.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,s)),a.value.push(n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,""));var o=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.digest().getBytes());return r.value.push(a),r.value.push(o),n.toDer(r).getBytes()},m=function(e,t,i){if(i)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var a;t.dP||(t.dP=t.d.mod(t.p.subtract(r.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(r.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{a=new r(s.util.bytesToHex(s.random.getBytes(t.n.bitLength()/8)),16)}while(a.compareTo(t.n)>=0||!a.gcd(t.n).equals(r.ONE));e=e.multiply(a.modPow(t.e,t.n)).mod(t.n);var n=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);while(n.compareTo(o)<0)n=n.add(t.p);var c=n.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return c=c.multiply(a.modInverse(t.n)).mod(t.n),c};function g(e,t,i){var r=s.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11){var n=new Error("Message is too long for PKCS#1 v1.5 padding.");throw n.length=e.length,n.max=a-11,n}r.putByte(0),r.putByte(i);var o,c=a-3-e.length;if(0===i||1===i){o=0===i?0:255;for(var d=0;d<c;++d)r.putByte(o)}else while(c>0){var h=0,u=s.random.getBytes(c);for(d=0;d<c;++d)o=u.charCodeAt(d),0===o?++h:r.putByte(o);c=h}return r.putByte(0),r.putBytes(e),r}function y(e,t,i,r){var a=Math.ceil(t.n.bitLength()/8),n=s.util.createBuffer(e),o=n.getByte(),c=n.getByte();if(0!==o||i&&0!==c&&1!==c||!i&&2!=c||i&&0===c&&"undefined"===typeof r)throw new Error("Encryption block is invalid.");var d=0;if(0===c){d=a-3-r;for(var h=0;h<d;++h)if(0!==n.getByte())throw new Error("Encryption block is invalid.")}else if(1===c){d=0;while(n.length()>1){if(255!==n.getByte()){--n.read;break}++d}}else if(2===c){d=0;while(n.length()>1){if(0===n.getByte()){--n.read;break}++d}}var u=n.getByte();if(0!==u||d!==a-3-n.length())throw new Error("Encryption block is invalid.");return n.getBytes()}function v(e,t,i){"function"===typeof t&&(i=t,t={}),t=t||{};var a={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function n(){o(e.pBits,(function(t,s){return t?i(t):(e.p=s,null!==e.q?d(t,e.q):void o(e.qBits,d))}))}function o(e,t){s.prime.generateProbablePrime(e,a,t)}function d(t,s){if(t)return i(t);if(e.q=s,e.p.compareTo(e.q)<0){var a=e.p;e.p=e.q,e.q=a}if(0!==e.p.subtract(r.ONE).gcd(e.e).compareTo(r.ONE))return e.p=null,void n();if(0!==e.q.subtract(r.ONE).gcd(e.e).compareTo(r.ONE))return e.q=null,void o(e.qBits,d);if(e.p1=e.p.subtract(r.ONE),e.q1=e.q.subtract(r.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(r.ONE))return e.p=e.q=null,void n();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void o(e.qBits,d);var h=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},i(null,e.keys)}"prng"in t&&(a.prng=t.prng),n()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var i=s.util.hexToBytes(t);return i.length>1&&(0===i.charCodeAt(0)&&0===(128&i.charCodeAt(1))||255===i.charCodeAt(0)&&128===(128&i.charCodeAt(1)))?i.substr(1):i}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function k(e){return s.util.isNodejs&&"function"===typeof a[e]}function S(e){return"undefined"!==typeof o.globalScope&&"object"===typeof o.globalScope.crypto&&"object"===typeof o.globalScope.crypto.subtle&&"function"===typeof o.globalScope.crypto.subtle[e]}function _(e){return"undefined"!==typeof o.globalScope&&"object"===typeof o.globalScope.msCrypto&&"object"===typeof o.globalScope.msCrypto.subtle&&"function"===typeof o.globalScope.msCrypto.subtle[e]}function O(e){for(var t=s.util.hexToBytes(e.toString(16)),i=new Uint8Array(t.length),r=0;r<t.length;++r)i[r]=t.charCodeAt(r);return i}c.rsa.encrypt=function(e,t,i){var a,n=i,o=Math.ceil(t.n.bitLength()/8);!1!==i&&!0!==i?(n=2===i,a=g(e,t,i)):(a=s.util.createBuffer(),a.putBytes(e));var c=new r(a.toHex(),16),d=m(c,t,n),h=d.toString(16),u=s.util.createBuffer(),l=o-Math.ceil(h.length/2);while(l>0)u.putByte(0),--l;return u.putBytes(s.util.hexToBytes(h)),u.getBytes()},c.rsa.decrypt=function(e,t,i,a){var n=Math.ceil(t.n.bitLength()/8);if(e.length!==n){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=n,o}var c=new r(s.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");var d=m(c,t,i),h=d.toString(16),u=s.util.createBuffer(),l=n-Math.ceil(h.length/2);while(l>0)u.putByte(0),--l;return u.putBytes(s.util.hexToBytes(h)),!1!==a?y(u.getBytes(),t,i):u.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t,i){"string"===typeof e&&(e=parseInt(e,10)),e=e||2048,i=i||{};var a,n=i.prng||s.random,o={nextBytes:function(e){for(var t=n.getBytesSync(e.length),i=0;i<e.length;++i)e[i]=t.charCodeAt(i)}},c=i.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return a={algorithm:c,state:0,bits:e,rng:o,eInt:t||65537,e:new r(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt),a},c.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var i=new r(null);i.fromInt(30);var s,a=0,n=function(e,t){return e|t},o=+new Date,h=0;while(null===e.keys&&(t<=0||h<t)){if(0===e.state){var u=null===e.p?e.pBits:e.qBits,l=u-1;0===e.pqState?(e.num=new r(u,e.rng),e.num.testBit(l)||e.num.bitwiseTo(r.ONE.shiftLeft(l),n,e.num),e.num.dAddOffset(31-e.num.mod(i).byteValue(),0),a=0,++e.pqState):1===e.pqState?e.num.bitLength()>u?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(d[a++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(r.ONE).gcd(e.e).compareTo(r.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(r.ONE),e.q1=e.q.subtract(r.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(r.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}s=+new Date,h+=s-o,o=s}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,i,r){if(1===arguments.length?"object"===typeof e?(i=e,e=void 0):"function"===typeof e&&(r=e,e=void 0):2===arguments.length?"number"===typeof e?"function"===typeof t?(r=t,t=void 0):"number"!==typeof t&&(i=t,t=void 0):(i=e,r=t,e=void 0,t=void 0):3===arguments.length&&("number"===typeof t?"function"===typeof i&&(r=i,i=void 0):(r=i,i=t,t=void 0)),i=i||{},void 0===e&&(e=i.bits||2048),void 0===t&&(t=i.e||65537),!s.options.usePureJavaScript&&!i.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(r){if(k("generateKeyPair"))return a.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,i){if(e)return r(e);r(null,{privateKey:c.privateKeyFromPem(i),publicKey:c.publicKeyFromPem(t)})}));if(S("generateKey")&&S("exportKey"))return o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:O(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return o.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){r(e)})).then((function(e){if(e){var t=c.privateKeyFromAsn1(n.fromDer(s.util.createBuffer(e)));r(null,{privateKey:t,publicKey:c.setRsaPublicKey(t.n,t.e)})}}));if(_("generateKey")&&_("exportKey")){var d=o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:O(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return d.oncomplete=function(e){var t=e.target.result,i=o.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);i.oncomplete=function(e){var t=e.target.result,i=c.privateKeyFromAsn1(n.fromDer(s.util.createBuffer(t)));r(null,{privateKey:i,publicKey:c.setRsaPublicKey(i.n,i.e)})},i.onerror=function(e){r(e)}},void(d.onerror=function(e){r(e)})}}else if(k("generateKeyPairSync")){var h=a.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(h.privateKey),publicKey:c.publicKeyFromPem(h.publicKey)}}var u=c.rsa.createKeyPairGenerationState(e,t,i);if(!r)return c.rsa.stepKeyPairGenerationState(u,0),u.keys;v(u,i,r)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t){var i={n:e,e:t,encrypt:function(e,t,r){if("string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,i){return g(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return s.pkcs1.encode_rsa_oaep(t,e,r)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"===typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var a=t.encode(e,i,!0);return c.rsa.encrypt(a,i,!0)},verify:function(e,t,s){"string"===typeof s?s=s.toUpperCase():void 0===s&&(s="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===s?s={verify:function(e,t){t=y(t,i,!0);var s=n.fromDer(t);return e===s.value[1].value}}:"NONE"!==s&&"NULL"!==s&&null!==s||(s={verify:function(e,t){return t=y(t,i,!0),e===t}});var r=c.rsa.decrypt(t,i,!0,!1);return s.verify(e,r,i.n.bitLength())}};return i},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,i,r,a,n,o,d){var h={n:e,e:t,d:i,p:r,q:a,dP:n,dQ:o,qInv:d,decrypt:function(e,t,i){"string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var r=c.rsa.decrypt(e,h,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:y};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return s.pkcs1.decode_rsa_oaep(t,e,i)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(r,h,!1)},sign:function(e,t){var i=!1;"string"===typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},i=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},i=1);var s=t.encode(e,h.n.bitLength());return c.rsa.encrypt(s,h,i)}};return h},c.wrapRsaPrivateKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(c.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(e).getBytes())])},c.privateKeyFromAsn1=function(e){var t,i,a,o,d,l,f,p,m={},g=[];if(n.validate(e,h,m,g)&&(e=n.fromDer(s.util.createBuffer(m.privateKey))),m={},g=[],!n.validate(e,u,m,g)){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=g,y}return t=s.util.createBuffer(m.privateKeyModulus).toHex(),i=s.util.createBuffer(m.privateKeyPublicExponent).toHex(),a=s.util.createBuffer(m.privateKeyPrivateExponent).toHex(),o=s.util.createBuffer(m.privateKeyPrime1).toHex(),d=s.util.createBuffer(m.privateKeyPrime2).toHex(),l=s.util.createBuffer(m.privateKeyExponent1).toHex(),f=s.util.createBuffer(m.privateKeyExponent2).toHex(),p=s.util.createBuffer(m.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new r(t,16),new r(i,16),new r(a,16),new r(o,16),new r(d,16),new r(l,16),new r(f,16),new r(p,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.e)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.d)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.p)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.q)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.dP)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.dQ)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.qInv))])},c.publicKeyFromAsn1=function(e){var t={},i=[];if(n.validate(e,f,t,i)){var a=n.derToOid(t.publicKeyOid);if(a!==c.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=a,o}e=t.rsaPublicKey}if(i=[],!n.validate(e,l,t,i)){o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=i,o}var d=s.util.createBuffer(t.publicKeyModulus).toHex(),h=s.util.createBuffer(t.publicKeyExponent).toHex();return c.setRsaPublicKey(new r(d,16),new r(h,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(c.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(e)])])},c.publicKeyToRSAPublicKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,b(e.e))])}},"47ee":function(e,t,i){"use strict";const s=i("90db"),{TICK_SIZE:r}=i("5ea4"),{ExchangeError:a,ArgumentsRequired:n,InvalidNonce:o,OrderNotFound:c,InvalidOrder:d,InsufficientFunds:h,AuthenticationError:u,DDoSProtection:l,NotSupported:f,BadSymbol:p}=i("74b0"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"liquid",name:"Liquid",countries:["JP","CN","TW"],version:"2",rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/45798859-1a872600-bcb4-11e8-8746-69291ce87b04.jpg",api:"https://api.liquid.com",www:"https://www.liquid.com",doc:["https://developers.liquid.com"],fees:"https://help.liquid.com/getting-started-with-liquid/the-platform/fee-structure",referral:"https://www.liquid.com/sign-up/?affiliate=SbzC62lt30976"},api:{public:{get:["currencies","products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}","fees"]},private:{get:["accounts","accounts/balance","accounts/main_asset","accounts/{id}","accounts/{currency}/reserved_balance_details","crypto_accounts","crypto_withdrawals","executions/me","fiat_accounts","fund_infos","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}","transactions","withdrawals"],post:["crypto_withdrawals","fund_infos","fiat_accounts","loan_bids","orders","withdrawals"],put:["crypto_withdrawal/{id}/cancel","loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/adjust_margin","trades/{id}/close","trades/close_all","trading_accounts/{id}","withdrawals/{id}/cancel"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.003,maker:0,tiers:{perpetual:{maker:[[0,0],[25e3,0],[5e4,-25e-5],[1e5,-25e-5],[1e6,-25e-5],[1e7,-25e-5],[25e6,-25e-5],[5e7,-25e-5],[75e6,-25e-5],[1e8,-25e-5],[2e8,-25e-5],[3e8,-25e-5]],taker:[[0,.0012],[25e3,.00115],[5e4,.0011],[1e5,.00105],[1e6,.001],[1e7,95e-5],[25e6,9e-4],[5e7,85e-5],[75e6,8e-4],[1e8,75e-5],[2e8,7e-4],[3e8,65e-5]]},spot:{taker:[[0,.003],[1e4,.0029],[2e4,.0028],[5e4,.0026],[1e5,.002],[1e6,.0016],[5e6,.0012],[1e7,.001],[25e6,9e-4],[5e7,8e-4],[1e8,7e-4],[2e8,6e-4],[5e8,4e-4],[1e9,3e-4]],maker:[[0,0],[1e4,.002],[2e4,.0019],[5e4,.0018],[1e5,.0016],[1e6,8e-4],[5e6,7e-4],[1e7,5e-4],[25e6,0],[5e7,0],[1e8,0],[2e8,0],[5e8,0],[1e9,0]]}}}},precisionMode:r,exceptions:{"API rate limit exceeded. Please retry after 300s":l,"API Authentication failed":u,"Nonce is too small":o,"Order not found":c,"Can not update partially filled order":d,"Can not update non-live order":c,not_enough_free_balance:h,must_be_positive:d,less_than_order_size:d,price_too_high:d,price_too_small:d,product_disabled:p},commonCurrencies:{WIN:"WCOIN",HOT:"HOT Token",MIOTA:"IOTA"},options:{cancelOrderException:!0}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=e["depositable"]&&e["withdrawable"],o=this.safeInteger(e,"assets_precision");i[a]={id:r,code:a,info:e,name:a,active:n,fee:this.safeNumber(e,"withdrawal_fee"),precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:this.safeNumber(e,"minimum_withdrawal"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=await this.publicGetProducts({perpetual:"1"}),s=await this.fetchCurrencies(),r=this.indexBy(s,"code"),a=[],n=this.arrayConcat(t,i);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeString(e,"id"),i=this.safeString(e,"base_currency"),s=this.safeString(e,"quoted_currency"),c=this.safeString(e,"product_type");let d="spot",h=!0,u=!1;"Perpetual"===c&&(h=!1,u=!0,d="swap");const l=this.safeCurrencyCode(i),f=this.safeCurrencyCode(s);let p=void 0;p=u?this.safeString(e,"currency_pair_code"):l+"/"+f;let m=this.fees["trading"]["maker"],g=this.fees["trading"]["taker"];"swap"===d&&(m=this.safeNumber(e,"maker_fee",this.fees["trading"]["maker"]),g=this.safeNumber(e,"taker_fee",this.fees["trading"]["taker"]));const y=this.safeValue(e,"disabled",!1),v=!y,b=this.safeValue(r,l),w={amount:1e-8,price:this.safeNumber(e,"tick_size")};let k=void 0;void 0!==b&&(k=this.safeNumber(b["info"],"minimum_order_quantity"));const S=this.safeNumber(e,"last_traded_price");let _=void 0,O=void 0;if(S){const t=this.safeNumber(e,"multiplier_down"),i=this.safeNumber(e,"multiplier_up");void 0!==t&&(_=S*t),void 0!==i&&(O=S*i)}const T={amount:{min:k,max:void 0},price:{min:_,max:O},cost:{min:void 0,max:void 0}};a.push({id:t,symbol:p,base:l,quote:f,baseId:i,quoteId:s,type:d,spot:h,swap:u,maker:m,taker:g,limits:T,precision:w,active:v,info:e})}return a}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t,timestamp:void 0,datetime:void 0},s=this.safeValue(t,"crypto_accounts",[]),r=this.safeValue(t,"fiat_accounts",[]);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),r=this.safeCurrencyCode(t),n=this.account();n["total"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"reserved_balance"),i[r]=n}for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"currency"),s=this.safeCurrencyCode(t),n=this.account();n["total"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"reserved_balance"),i[s]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={id:this.marketId(e)},r=await this.publicGetProductsIdPriceLevels(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"buy_price_levels","sell_price_levels")}parseTicker(e,t){const i=this.milliseconds();let s=void 0;if("last_traded_price"in e&&e["last_traded_price"]){const t=e["last_traded_price"].length;t>0&&(s=this.safeNumber(e,"last_traded_price"))}let r=void 0;if(void 0===t){const i=this.safeString(e,"id");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const i=this.safeString(e,"base_currency"),s=this.safeString(e,"quoted_currency");r in this.markets?t=this.markets[r]:r=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s)}}void 0!==t&&(r=t["symbol"]);let a=void 0,n=void 0,o=void 0;const c=this.safeNumber(e,"last_price_24h");return void 0!==c&&void 0!==s&&(a=s-c,o=this.sum(s,c)/2,c>0&&(n=a/c*100)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_market_ask"),low:this.safeNumber(e,"low_market_bid"),bid:this.safeNumber(e,"market_bid"),bidVolume:void 0,ask:this.safeNumber(e,"market_ask"),askVolume:void 0,vwap:void 0,open:c,close:s,last:s,previousClose:void 0,change:a,percentage:n,average:o,baseVolume:this.safeNumber(e,"volume_24h"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetProducts(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={id:i["id"]},r=await this.publicGetProductsId(this.extend(s,t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at"),s=this.safeString(e,"order_id"),r=this.safeString(e,"taker_side"),a=this.safeString(e,"my_side"),n=void 0!==a?a:r;let o=void 0;void 0!==a&&(o=r===a?"taker":"maker");const c=this.safeString(e,"price"),d=this.safeString(e,"quantity"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(m.stringMul(c,d)),f=this.safeString(e,"id");let p=void 0;return void 0!==t&&(p=t["symbol"]),{info:e,id:f,order:s,timestamp:i,datetime:this.iso8601(i),symbol:p,type:void 0,side:n,takerOrMaker:o,price:h,amount:u,cost:l,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={product_id:r["id"]};void 0!==i&&(a["limit"]=i),void 0!==t&&(a["timestamp"]=parseInt(t/1e3));const n=await this.publicGetExecutions(this.extend(a,s)),o=void 0!==t?n:n["models"];return this.parseTrades(o,r,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={product_id:r["id"],with_details:!0};void 0!==i&&(a["limit"]=i);const n=await this.privateGetExecutionsMe(this.extend(a,s));return this.parseTrades(n["models"],r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.safeString2(a,"clientOrderId","client_order_id");a=this.omit(a,["clientOrderId","client_order_id"]);const o={order_type:t,product_id:this.marketId(e),side:i,quantity:this.amountToPrecision(e,s)};void 0!==n&&(o["client_order_id"]=n),"limit"!==t&&"limit_post_only"!==t&&"market_with_range"!==t&&"stop"!==t||(o["price"]=this.priceToPrecision(e,r));const c=await this.privatePostOrders(this.extend(o,a));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePutOrdersIdCancel(this.extend(s,i)),a=this.parseOrder(r);if("closed"===a["status"]&&this.options["cancelOrderException"])throw new c(this.id+" order closed already: "+this.json(r));return a}async editOrder(e,t,i,s,r,a,o={}){if(await this.loadMarkets(),void 0===a)throw new n(this.id+" editOrder() requires the price argument");const c={order:{quantity:this.amountToPrecision(t,r),price:this.priceToPrecision(t,a)},id:e},d=await this.privatePutOrdersId(this.extend(c,o));return this.parseOrder(d)}parseOrderStatus(e){const t={live:"open",filled:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeTimestamp(e,"created_at"),r=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,r);const a=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeNumber(e,"quantity");let o=this.safeNumber(e,"filled_quantity");const c=this.safeNumber(e,"price");let d=void 0,h=void 0;void 0!==t&&(d=t["symbol"],h=t["quote"]);const u=this.safeString(e,"order_type");let l=0,f=0,p=this.safeNumber(e,"average_price");const m=this.parseTrades(this.safeValue(e,"executions",[]),t,void 0,void 0,{order:i,type:u}),g=m.length;for(let S=0;S<g;S++){const e=m[S];e["order"]=i,e["type"]=u,f=this.sum(f,e["amount"]),l=this.sum(l,e["cost"])}let y=void 0,v=void 0;g>0&&(v=m[g-1]["timestamp"],!p&&f>0&&(p=l/f),void 0===y&&(y=l),void 0===o&&(o=f));let b=void 0;void 0!==n&&void 0!==o&&(b=n-o);const w=this.safeString(e,"side"),k=this.safeString(e,"client_order_id");return{id:i,clientOrderId:k,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:v,type:u,timeInForce:void 0,postOnly:void 0,status:a,symbol:d,side:w,price:c,stopPrice:void 0,amount:n,filled:o,cost:y,remaining:b,average:p,trades:m,fee:{currency:h,cost:this.safeNumber(e,"order_fee")},info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrdersId(this.extend(s,i));return this.parseOrder(r)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={with_details:1};void 0!==e&&(r=this.market(e),a["product_id"]=r["id"]),void 0!==i&&(a["limit"]=i);const n=await this.privateGetOrders(this.extend(a,s)),o=this.safeValue(n,"models",[]);return this.parseOrders(o,r,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={status:"live"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"filled"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],address:i,amount:t};if(void 0!==s)if("XRP"===e)n["payment_id"]=s;else{if("XLM"!==e)throw new f(this.id+" withdraw() only supports a tag along the address for XRP or XLM");n["memo_type"]="text",n["memo_value"]=s}const o=await this.privatePostCryptoWithdrawals(this.extend(n,r));return this.parseTransaction(o,a)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e));const n=await this.privateGetCryptoWithdrawals(this.extend(r,s)),o=this.safeValue(n,"models",[]);return this.parseTransactions(o,a,t,i)}parseTransactionStatus(e){const t={pending:"pending",cancelled:"canceled",approved:"ok",processing:"pending",processed:"ok",reverted:"failed",to_be_reviewed:"pending",declined:"failed",broadcasted:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"address"),r=this.safeString2(e,"payment_id","memo_value"),a=this.safeString(e,"transaction_hash"),n=this.safeString2(e,"currency","asset"),o=this.safeCurrencyCode(n,t),c=this.safeTimestamp(e,"created_at"),d=this.safeTimestamp(e,"updated_at"),h="withdrawal",u=this.parseTransactionStatus(this.safeString(e,"state")),l=this.safeNumber(e,"amount"),f=this.safeNumber(e,"withdrawal_fee");return{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:s,tag:r,type:h,amount:l,currency:o,status:u,updated:d,fee:{currency:o,cost:f}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if(r={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"private"===t){this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o));const e=this.nonce(),t={path:n,token_id:this.apiKey,iat:Math.floor(e/1e3)};"client_order_id"in o||(t["nonce"]=e),r["X-Quoine-Auth"]=this.jwt(t,this.encode(this.secret))}else Object.keys(o).length&&(n+="?"+this.urlencode(o));return n=this.urls["api"]+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(e>=200&&e<300)return;if(401===e)return void this.throwExactlyMatchedException(this.exceptions,n,n);if(429===e)throw new l(this.id+" "+n);if(void 0===o)return;const h=this.id+" "+n,u=this.safeString(o,"message"),f=this.safeValue(o,"errors");if(void 0!==u)this.throwExactlyMatchedException(this.exceptions,u,h);else{if(void 0===f)throw new a(h);{const e=Object.keys(f);for(let t=0;t<e.length;t++){const i=e[t],s=f[i];for(let e=0;e<s.length;e++){const t=s[e];this.throwExactlyMatchedException(this.exceptions,t,h)}}}}}}},4804:function(e,t,i){},"480e":function(e,t,i){"use strict";i("7db0");var s=i("7560");t["a"]=s["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:s["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(e){return!e.isComment&&" "!==e.text}))}})},4840:function(e,t,i){var s=i("825a"),r=i("1c0b"),a=i("b622"),n=a("species");e.exports=function(e,t){var i,a=s(e).constructor;return void 0===a||void 0==(i=s(a)[n])?t:r(i)}},"485e":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,BadRequest:n,OrderNotFound:o,InvalidOrder:c,InvalidNonce:d,InsufficientFunds:h,AuthenticationError:u,PermissionDenied:l,NotSupported:f,OnMaintenance:p,RateLimitExceeded:m,ExchangeNotAvailable:g}=i("74b0"),{TICK_SIZE:y}=i("5ea4"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"gemini",name:"Gemini",countries:["US"],rateLimit:1500,version:"v1",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:{public:"https://api.gemini.com",private:"https://api.gemini.com",web:"https://docs.gemini.com"},www:"https://gemini.com/",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:{public:"https://api.sandbox.gemini.com",private:"https://api.sandbox.gemini.com",web:"https://docs.gemini.com"},fees:["https://gemini.com/api-fee-schedule","https://gemini.com/trading-fees","https://gemini.com/transfer-fees"]},api:{web:{get:["rest-api"]},public:{get:["v1/symbols","v1/pricefeed","v1/pubticker/{symbol}","v1/book/{symbol}","v1/trades/{symbol}","v1/auction/{symbol}","v1/auction/{symbol}/history","v2/candles/{symbol}/{timeframe}","v2/ticker/{symbol}"]},private:{post:["v1/order/new","v1/order/cancel","v1/order/cancel/session","v1/order/cancel/all","v1/order/status","v1/orders","v1/mytrades","v1/notionalvolume","v1/tradevolume","v1/transfers","v1/balances","v1/deposit/{currency}/newAddress","v1/withdraw/{currency}","v1/heartbeat","v1/transfers"]}},precisionMode:y,fees:{trading:{taker:.0035,maker:.001}},httpExceptions:{400:n,403:l,404:o,406:h,429:m,500:r,502:g,503:p},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1hr","6h":"6hr","1d":"1day"},exceptions:{exact:{AuctionNotOpen:n,ClientOrderIdTooLong:n,ClientOrderIdMustBeString:n,ConflictingOptions:n,EndpointMismatch:n,EndpointNotFound:n,IneligibleTiming:n,InsufficientFunds:h,InvalidJson:n,InvalidNonce:d,InvalidOrderType:c,InvalidPrice:c,InvalidQuantity:c,InvalidSide:c,InvalidSignature:u,InvalidSymbol:n,InvalidTimestampInPayload:n,Maintenance:p,MarketNotOpen:c,MissingApikeyHeader:u,MissingOrderField:c,MissingRole:u,MissingPayloadHeader:u,MissingSignatureHeader:u,NoSSL:u,OptionsMustBeArray:n,OrderNotFound:o,RateLimit:m,System:r,UnsupportedOption:n},broad:{"The Gemini Exchange is currently undergoing maintenance.":p,"We are investigating technical issues with the Gemini Exchange.":g}},options:{fetchMarketsMethod:"fetch_markets_from_web",fetchTickerMethod:"fetchTickerV1"}})}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarketsMethod","fetch_markets_from_api");return await this[t](e)}async fetchMarketsFromWeb(e={}){const t=await this.webGetRestApi(e),i=t.split('<h1 id="symbols-and-minimums">Symbols and minimums</h1>'),s=i.length,r=this.id+" the "+this.name+" API doc HTML markup has changed, breaking the parser of order limits and precision info for "+this.name+" markets.";if(2!==s)throw new f(r);const a=i[1].split("tbody>"),n=a.length;if(n<2)throw new f(r);const o=a[1].split("\n<tr>\n"),c=o.length;if(c<2)throw new f(r);const d=[];for(let h=1;h<c;h++){const e=o[h],t=e.split("</td>\n"),i=t.length;if(i<5)throw new f(r);const s=t[0].replace("<td>",""),a=t[1].replace("<td>",""),n=a.split(" "),c=this.safeNumber(n,0),u=t[2].replace("<td>",""),l=u.split(" "),p=this.safeNumber(l,0),m=s.length-0,g=s.slice(m-3,m),y=this.safeCurrencyCode(g),v=t[3].replace("<td>",""),b=v.split(" "),w=this.safeNumber(b,0),k=s.replace(g,""),S=this.safeCurrencyCode(k),_=S+"/"+y,O=void 0;d.push({id:s,info:e,symbol:_,base:S,quote:y,baseId:k,quoteId:g,active:O,precision:{amount:p,price:w},limits:{amount:{min:c,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return d}async fetchMarketsFromAPI(e={}){const t=await this.publicGetV1Symbols(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=e,a=e.length-0,n=e.slice(0,a-3),o=e.slice(a-3,a),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:void 0,price:void 0};i.push({id:e,info:r,symbol:h,base:c,quote:d,baseId:n,quoteId:o,precision:u,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},active:void 0})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==t&&(s["limit_bids"]=t,s["limit_asks"]=t);const r=await this.publicGetV1BookSymbol(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"bids","asks","price","amount")}async fetchTickerV1(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetV1PubtickerSymbol(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickerV2(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetV2TickerSymbol(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickerV1AndV2(e,t={}){const i=await this.fetchTickerV1(e,t),s=await this.fetchTickerV2(e,t);return this.deepExtend(i,{open:s["open"],high:s["high"],low:s["low"],change:s["change"],percentage:s["percentage"],average:s["average"],info:s["info"]})}async fetchTicker(e,t={}){const i=this.safeValue(this.options,"fetchTickerMethod","fetchTickerV1");return await this[i](e,t)}parseTicker(e,t){const i=this.safeValue(e,"volume",{}),s=this.safeInteger(i,"timestamp");let r=void 0;const a=this.safeString(e,"pair");let n=void 0,o=void 0,c=void 0,d=void 0;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{const e=a.length-0;7===e?(n=a.slice(0,4),o=a.slice(4,7)):(n=a.slice(0,3),o=a.slice(3,6)),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),r=c+"/"+d}void 0===r&&void 0!==t&&(r=t["symbol"],n=t["baseId"].toUpperCase(),o=t["quoteId"].toUpperCase(),c=t["base"],d=t["quote"]);const h=this.safeNumber(e,"price"),u=this.safeNumber2(e,"last","close",h);let l=this.safeNumber(e,"percentChange24h"),f=void 0,p=this.safeNumber(e,"open"),m=void 0;void 0!==u&&(void 0!==p?(f=u-p,0!==p&&(l=f/p*100),m=this.sum(u,p)/2):void 0!==l&&(f=u*l,void 0===p&&(p=u-f),m=this.sum(u,p)/2));const g=this.safeNumber(i,n),y=this.safeNumber(i,o),v=this.vwap(g,y);return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:v,open:p,close:u,last:u,previousClose:void 0,change:f,percentage:l,average:m,baseVolume:g,quoteVolume:y,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetV1Pricefeed(t);return this.parseTickers(i,e)}parseTrade(e,t){const i=this.safeInteger(e,"timestampms"),s=this.safeString(e,"tid"),r=this.safeString(e,"order_id"),a=this.safeString(e,"fee_currency"),n=this.safeCurrencyCode(a),o={cost:this.safeNumber(e,"fee_amount"),currency:n},c=this.safeString(e,"price"),d=this.safeString(e,"amount"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(v.stringMul(c,d)),f=void 0,p=this.safeStringLower(e,"type"),m=this.safeSymbol(void 0,t);return{id:s,order:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:m,type:f,side:p,takerOrMaker:void 0,price:h,cost:l,amount:u,fee:o}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.publicGetV1TradesSymbol(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostV1Balances(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"available"),n["total"]=this.safeString(e,"amount"),i[a]=n}return this.parseBalance(i,!1)}parseOrder(e,t){const i=this.safeInteger(e,"timestampms"),s=this.safeNumber(e,"original_amount"),r=this.safeNumber(e,"remaining_amount"),a=this.safeNumber(e,"executed_amount");let n="closed";e["is_live"]&&(n="open"),e["is_cancelled"]&&(n="canceled");const o=this.safeNumber(e,"price"),c=this.safeNumber(e,"avg_execution_price");let d=this.safeString(e,"type");d="exchange limit"===d?"limit":"market buy"===d||"market sell"===d?"market":e["type"];const h=void 0,u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t),f=this.safeString(e,"order_id"),p=this.safeStringLower(e,"side"),m=this.safeString(e,"client_order_id");return this.safeOrder({id:f,clientOrderId:m,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:n,symbol:l,type:d,timeInForce:void 0,postOnly:void 0,side:p,price:o,stopPrice:void 0,average:c,cost:void 0,amount:s,filled:a,remaining:r,fee:h,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privatePostV1OrderStatus(this.extend(s,i));return this.parseOrder(r)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=await this.privatePostV1Orders(s);let a=void 0;return void 0!==e&&(a=this.market(e)),this.parseOrders(r,a,t,i)}async createOrder(e,t,i,s,a,n={}){if(await this.loadMarkets(),"market"===t)throw new r(this.id+" allows limit orders only");const o=this.nonce(),c={client_order_id:o.toString(),symbol:this.marketId(e),amount:s.toString(),price:a.toString(),side:i,type:"exchange limit"},d=await this.privatePostV1OrderNew(this.extend(c,n));return{info:d,id:d["order_id"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e};return await this.privatePostV1OrderCancel(this.extend(s,i))}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={symbol:r["id"]};void 0!==i&&(n["limit_trades"]=i),void 0!==t&&(n["timestamp"]=parseInt(t/1e3));const o=await this.privatePostV1Mytrades(this.extend(n,s));return this.parseTrades(o,r,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],amount:t,address:i},o=await this.privatePostV1WithdrawCurrency(this.extend(n,r));return{info:o,id:this.safeString(o,"txHash")}}nonce(){return this.milliseconds()}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["limit_transfers"]=i),void 0!==t&&(r["timestamp"]=t);const a=await this.privatePostV1Transfers(this.extend(r,s));return this.parseTransactions(a)}parseTransaction(e,t){const i=this.safeInteger(e,"timestampms"),s=this.safeString(e,"currency"),r=this.safeCurrencyCode(s,t),a=this.safeString(e,"destination"),n=this.safeStringLower(e,"type");let o="pending";e["status"]&&(o="ok");let c=void 0;const d=this.safeNumber(e,"feeAmount");return void 0!==d&&(c={cost:d,currency:r}),{info:e,id:this.safeString(e,"eid"),txid:this.safeString(e,"txHash"),timestamp:i,datetime:this.iso8601(i),address:a,tag:void 0,type:n,amount:this.safeNumber(e,"amount"),currency:r,status:o,updated:void 0,fee:c}}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({request:n,nonce:e},o);let i=this.json(t);i=this.stringToBase64(i);const s=this.hmac(i,this.encode(this.secret),"sha384");r={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(i),"X-GEMINI-SIGNATURE":s}}else Object.keys(o).length&&(n+="?"+this.urlencode(o));return n=this.urls["api"][t]+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o){if("string"===typeof n){const e=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions["broad"],n,e)}return}const h=this.safeString(o,"result");if("error"===h){const e=this.safeString(o,"reason"),t=this.safeString(o,"message"),i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new r(i)}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostV1DepositCurrencyNewAddress(this.extend(s,t)),a=this.safeString(r,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:r}}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={timeframe:this.timeframes[t],symbol:a["id"]},o=await this.publicGetV2CandlesSymbolTimeframe(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}}},"48af":function(e,t,i){var s=i("0e30"),r=i("c101"),a=s(r);e.exports=a},4930:function(e,t,i){var s=i("2d00"),r=i("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},"495d":function(e,t,i){},"498a":function(e,t,i){"use strict";var s=i("23e7"),r=i("58a8").trim,a=i("c8d2");s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return r(this)}})},"4a34":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,DDoSProtection:h,InvalidNonce:u,AuthenticationError:l,RateLimitExceeded:f,PermissionDenied:p,NotSupported:m,BadRequest:g,BadSymbol:y,AccountSuspended:v,OrderImmediatelyFillable:b}=i("74b0"),{TRUNCATE:w}=i("5ea4"),k=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"binance",name:"Binance",countries:["JP","MT"],rateLimit:500,certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,fetchCurrencies:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchFundingHistory:!0,fetchFundingRate:!0,fetchFundingRates:!0,fetchIsolatedPositions:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchPositions:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!1,fetchWithdrawals:!0,setLeverage:!0,setMarginMode:!0,withdraw:!0,transfer:!0,fetchTransfers:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",test:{dapiPublic:"https://testnet.binancefuture.com/dapi/v1",dapiPrivate:"https://testnet.binancefuture.com/dapi/v1",fapiPublic:"https://testnet.binancefuture.com/fapi/v1",fapiPrivate:"https://testnet.binancefuture.com/fapi/v1",fapiPrivateV2:"https://testnet.binancefuture.com/fapi/v2",public:"https://testnet.binance.vision/api/v3",private:"https://testnet.binance.vision/api/v3",v3:"https://testnet.binance.vision/api/v3",v1:"https://testnet.binance.vision/api/v1"},api:{wapi:"https://api.binance.com/wapi/v3",sapi:"https://api.binance.com/sapi/v1",dapiPublic:"https://dapi.binance.com/dapi/v1",dapiPrivate:"https://dapi.binance.com/dapi/v1",dapiPrivateV2:"https://dapi.binance.com/dapi/v2",dapiData:"https://dapi.binance.com/futures/data",fapiPublic:"https://fapi.binance.com/fapi/v1",fapiPrivate:"https://fapi.binance.com/fapi/v1",fapiData:"https://fapi.binance.com/futures/data",fapiPrivateV2:"https://fapi.binance.com/fapi/v2",public:"https://api.binance.com/api/v3",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:{url:"https://www.binance.com/en/register?ref=BLEJC98C",discount:.2},doc:["https://binance-docs.github.io/apidocs/spot/en"],api_management:"https://www.binance.com/en/usercenter/settings/api-management",fees:"https://www.binance.com/en/fee/schedule"},api:{sapi:{get:["accountSnapshot","margin/asset","margin/pair","margin/allAssets","margin/allPairs","margin/priceIndex","asset/assetDividend","asset/dribblet","asset/transfer","asset/assetDetail","asset/tradeFee","margin/loan","margin/repay","margin/account","margin/transfer","margin/interestHistory","margin/forceLiquidationRec","margin/order","margin/openOrders","margin/allOrders","margin/myTrades","margin/maxBorrowable","margin/maxTransferable","margin/isolated/transfer","margin/isolated/account","margin/isolated/pair","margin/isolated/allPairs","margin/interestRateHistory","fiatpayment/query/deposit/history","fiatpayment/query/withdraw/history","futures/transfer","futures/loan/borrow/history","futures/loan/repay/history","futures/loan/wallet","futures/loan/configs","futures/loan/calcAdjustLevel","futures/loan/calcMaxAdjustAmount","futures/loan/adjustCollateral/history","futures/loan/liquidationHistory","capital/config/getall","capital/deposit/address","capital/deposit/hisrec","capital/deposit/subAddress","capital/deposit/subHisrec","capital/withdraw/history","bnbBurn","sub-account/assets","sub-account/futures/account","sub-account/futures/accountSummary","sub-account/futures/positionRisk","sub-account/futures/internalTransfer","sub-account/list","sub-account/margin/account","sub-account/margin/accountSummary","sub-account/spotSummary","sub-account/status","sub-account/sub/transfer/history","sub-account/transfer/subUserHistory","sub-account/universalTransfer","lending/daily/product/list","lending/daily/userLeftQuota","lending/daily/userRedemptionQuota","lending/daily/token/position","lending/union/account","lending/union/purchaseRecord","lending/union/redemptionRecord","lending/union/interestHistory","lending/project/list","lending/project/position/list","mining/pub/algoList","mining/pub/coinList","mining/worker/detail","mining/worker/list","mining/payment/list","mining/statistics/user/status","mining/statistics/user/list","bswap/pools","bswap/liquidity","bswap/liquidityOps","bswap/quote","bswap/swap","blvt/tokenInfo","blvt/subscribe/record","blvt/redeem/record","blvt/userLimit","apiReferral/ifNewUser","apiReferral/customization","apiReferral/userCustomization","apiReferral/rebate/recentRecord","apiReferral/rebate/historicalRecord","apiReferral/kickback/recentRecord","apiReferral/kickback/historicalRecord","broker/subAccountApi","broker/subAccount","broker/subAccountApi/commission/futures","broker/subAccountApi/commission/coinFutures","broker/info","broker/transfer","broker/transfer/futures","broker/rebate/recentRecord","broker/rebate/historicalRecord","broker/subAccount/bnbBurn/status","broker/subAccount/depositHist","broker/subAccount/spotSummary","broker/subAccount/marginSummary","broker/subAccount/futuresSummary","broker/rebate/futures/recentRecord","broker/subAccountApi/ipRestriction","broker/universalTransfer"],post:["asset/dust","asset/transfer","account/disableFastWithdrawSwitch","account/enableFastWithdrawSwitch","capital/withdraw/apply","margin/transfer","margin/loan","margin/repay","margin/order","margin/isolated/create","margin/isolated/transfer","bnbBurn","sub-account/margin/transfer","sub-account/margin/enable","sub-account/margin/enable","sub-account/futures/enable","sub-account/futures/transfer","sub-account/futures/internalTransfer","sub-account/transfer/subToSub","sub-account/transfer/subToMaster","sub-account/universalTransfer","userDataStream","userDataStream/isolated","futures/transfer","futures/loan/borrow","futures/loan/repay","futures/loan/adjustCollateral","lending/customizedFixed/purchase","lending/daily/purchase","lending/daily/redeem","bswap/liquidityAdd","bswap/liquidityRemove","bswap/swap","blvt/subscribe","blvt/redeem","apiReferral/customization","apiReferral/userCustomization","apiReferral/rebate/historicalRecord","apiReferral/kickback/historicalRecord","broker/subAccount","broker/subAccount/margin","broker/subAccount/futures","broker/subAccountApi","broker/subAccountApi/permission","broker/subAccountApi/commission","broker/subAccountApi/commission/futures","broker/subAccountApi/commission/coinFutures","broker/transfer","broker/transfer/futures","broker/rebate/historicalRecord","broker/subAccount/bnbBurn/spot","broker/subAccount/bnbBurn/marginInterest","broker/subAccount/blvt","broker/subAccountApi/ipRestriction","broker/subAccountApi/ipRestriction/ipList","broker/universalTransfer","broker/subAccountApi/permission/universalTransfer","broker/subAccountApi/permission/vanillaOptions"],put:["userDataStream","userDataStream/isolated"],delete:["margin/openOrders","margin/order","userDataStream","userDataStream/isolated","broker/subAccountApi","broker/subAccountApi/ipRestriction/ipList"]},wapi:{post:["withdraw","sub-account/transfer"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","apiTradingStatus","userAssetDribbletLog","tradeFee","assetDetail","sub-account/list","sub-account/transfer/history","sub-account/assets"]},dapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","premiumIndex","fundingRate","klines","continuousKlines","indexPriceKlines","markPriceKlines","ticker/24hr","ticker/price","ticker/bookTicker","openInterest"]},dapiData:{get:["openInterestHist","topLongShortAccountRatio","topLongShortPositionRatio","globalLongShortAccountRatio","takerBuySellVol","basis"]},dapiPrivate:{get:["positionSide/dual","order","openOrder","openOrders","allOrders","balance","account","positionMargin/history","positionRisk","userTrades","income","leverageBracket","forceOrders","adlQuantile"],post:["positionSide/dual","order","batchOrders","countdownCancelAll","leverage","marginType","positionMargin","listenKey"],put:["listenKey"],delete:["order","allOpenOrders","batchOrders","listenKey"]},dapiPrivateV2:{get:["leverageBracket"]},fapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","klines","continuousKlines","fundingRate","premiumIndex","ticker/24hr","ticker/price","ticker/bookTicker","openInterest","indexInfo"]},fapiData:{get:["openInterestHist","topLongShortAccountRatio","topLongShortPositionRatio","globalLongShortAccountRatio","takerlongshortRatio"]},fapiPrivate:{get:["forceOrders","allOrders","openOrder","openOrders","order","account","balance","leverageBracket","positionMargin/history","positionRisk","positionSide/dual","userTrades","income","commissionRate","apiTradingStatus","multiAssetsMargin","apiReferral/ifNewUser","apiReferral/customization","apiReferral/userCustomization","apiReferral/traderNum","apiReferral/overview","apiReferral/tradeVol","apiReferral/rebateVol","apiReferral/traderSummary"],post:["batchOrders","positionSide/dual","positionMargin","marginType","order","leverage","listenKey","countdownCancelAll","multiAssetsMargin","apiReferral/customization","apiReferral/userCustomization"],put:["listenKey"],delete:["batchOrders","order","allOpenOrders","listenKey"]},fapiPrivateV2:{get:["account","balance","positionRisk"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["ping","time","depth","trades","aggTrades","historicalTrades","klines","ticker/24hr","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["allOrderList","openOrderList","orderList","order","openOrders","allOrders","account","myTrades"],post:["order/oco","order","order/test"],delete:["openOrders","orderList","order"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:.001,maker:.001},future:{trading:{feeSide:"quote",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000400"),maker:this.parseNumber("0.000200"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000400")],[this.parseNumber("250"),this.parseNumber("0.000400")],[this.parseNumber("2500"),this.parseNumber("0.000350")],[this.parseNumber("7500"),this.parseNumber("0.000320")],[this.parseNumber("22500"),this.parseNumber("0.000300")],[this.parseNumber("50000"),this.parseNumber("0.000270")],[this.parseNumber("100000"),this.parseNumber("0.000250")],[this.parseNumber("200000"),this.parseNumber("0.000220")],[this.parseNumber("400000"),this.parseNumber("0.000200")],[this.parseNumber("750000"),this.parseNumber("0.000170")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000200")],[this.parseNumber("250"),this.parseNumber("0.000160")],[this.parseNumber("2500"),this.parseNumber("0.000140")],[this.parseNumber("7500"),this.parseNumber("0.000120")],[this.parseNumber("22500"),this.parseNumber("0.000100")],[this.parseNumber("50000"),this.parseNumber("0.000080")],[this.parseNumber("100000"),this.parseNumber("0.000060")],[this.parseNumber("200000"),this.parseNumber("0.000040")],[this.parseNumber("400000"),this.parseNumber("0.000020")],[this.parseNumber("750000"),this.parseNumber("0")]]}}},delivery:{trading:{feeSide:"base",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000500"),maker:this.parseNumber("0.000100"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000500")],[this.parseNumber("250"),this.parseNumber("0.000450")],[this.parseNumber("2500"),this.parseNumber("0.000400")],[this.parseNumber("7500"),this.parseNumber("0.000300")],[this.parseNumber("22500"),this.parseNumber("0.000250")],[this.parseNumber("50000"),this.parseNumber("0.000240")],[this.parseNumber("100000"),this.parseNumber("0.000240")],[this.parseNumber("200000"),this.parseNumber("0.000240")],[this.parseNumber("400000"),this.parseNumber("0.000240")],[this.parseNumber("750000"),this.parseNumber("0.000240")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000100")],[this.parseNumber("250"),this.parseNumber("0.000080")],[this.parseNumber("2500"),this.parseNumber("0.000050")],[this.parseNumber("7500"),this.parseNumber("0.0000030")],[this.parseNumber("22500"),this.parseNumber("0")],[this.parseNumber("50000"),this.parseNumber("-0.000050")],[this.parseNumber("100000"),this.parseNumber("-0.000060")],[this.parseNumber("200000"),this.parseNumber("-0.000070")],[this.parseNumber("400000"),this.parseNumber("-0.000080")],[this.parseNumber("750000"),this.parseNumber("-0.000090")]]}}}},commonCurrencies:{BCC:"BCC",YOYO:"YOYOW"},options:{fetchCurrencies:!1,defaultTimeInForce:"GTC",defaultType:"spot",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"FULL"},quoteOrderQty:!0,broker:{spot:"x-R4BD3S82",margin:"x-R4BD3S82",future:"x-xcKtGhcu",delivery:"x-xcKtGhcu"},accountsByType:{main:"MAIN",spot:"MAIN",margin:"MARGIN",future:"UMFUTURE",delivery:"CMFUTURE",mining:"MINING"},typesByAccount:{MAIN:"spot",MARGIN:"margin",UMFUTURE:"future",CMFUTURE:"delivery",MINING:"mining"}},exceptions:{exact:{"System abnormality":r,"You are not authorized to execute this request.":p,"API key does not exist":l,"Order would trigger immediately.":b,"Stop price would trigger immediately.":b,"Order would immediately match and take.":b,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":n,"You don't have permission.":p,"Market is closed.":n,"Too many requests.":h,"-1000":n,"-1001":n,"-1002":l,"-1003":f,"-1013":d,"-1015":f,"-1016":n,"-1020":g,"-1021":u,"-1022":l,"-1100":g,"-1101":g,"-1102":g,"-1103":g,"-1104":g,"-1105":g,"-1106":g,"-1111":g,"-1112":d,"-1114":g,"-1115":g,"-1116":g,"-1117":g,"-1118":g,"-1119":g,"-1120":g,"-1121":y,"-1125":l,"-1127":g,"-1128":g,"-1130":g,"-1131":g,"-2008":l,"-2010":r,"-2011":c,"-2013":c,"-2014":l,"-2015":l,"-2019":o,"-3005":o,"-3008":o,"-3010":r,"-3022":v,"-4028":g,"-3020":o,"-3041":o,"-5013":o},broad:{"has no operation privilege":p,MAX_POSITION:d}}})}currencyToPrecision(e,t){return this.numberToString(t)}nonce(){return this.milliseconds()-this.options["timeDifference"]}async fetchTime(e={}){const t=this.safeString2(this.options,"fetchTime","defaultType","spot");let i="publicGetTime";"future"===t?i="fapiPublicGetTime":"delivery"===t&&(i="dapiPublicGetTime");const s=await this[i](e);return this.safeInteger(s,"serverTime")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options["timeDifference"]=i-t,this.options["timeDifference"]}async fetchCurrencies(e={}){const t=this.safeValue(this.options,"fetchCurrencies");if(!t)return;if(!this.checkRequiredCredentials(!1))return;const i=this.safeString(this.urls,"apiBackup");if(void 0!==i)return;const s=await this.sapiGetCapitalConfigGetall(e),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"coin"),i=this.safeString(e,"name"),n=this.safeCurrencyCode(t),o=void 0;let c=!0,d=!0;const h=this.safeValue(e,"networkList",[]),u={};let l=void 0;for(let s=0;s<h.length;s++){const e=h[s],t=this.safeString(e,"network"),i=this.safeNumber(e,"withdrawFee"),r=this.safeValue(e,"depositEnable"),a=this.safeValue(e,"withdrawEnable");d=d||r,c=c||a,u[t]=i;const n=this.safeValue(e,"isDefault");(n||void 0===l)&&(l=i)}const f=this.safeValue(e,"trading"),p=c&&d&&f;r[n]={id:t,name:i,code:n,precision:o,info:e,active:p,fee:l,fees:u,limits:this.limits}}return r}async fetchMarkets(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),s=this.omit(e,"type");if("spot"!==i&&"future"!==i&&"margin"!==i&&"delivery"!==i)throw new r(this.id+" does not support '"+i+"' type, set exchange.options['defaultType'] to 'spot', 'margin', 'delivery' or 'future'");let a="publicGetExchangeInfo";"future"===i?a="fapiPublicGetExchangeInfo":"delivery"===i&&(a="dapiPublicGetExchangeInfo");const n=await this[a](s);this.options["adjustForTimeDifference"]&&await this.loadTimeDifference();const o=this.safeValue(n,"symbols",[]),c=[];for(let r=0;r<o.length;r++){const e=o[r],t="spot"===i,s="future"===i,a="delivery"===i,n=this.safeString(e,"symbol"),d=this.safeStringLower(e,"symbol"),h=this.safeString(e,"baseAsset"),u=this.safeString(e,"quoteAsset"),l=this.safeCurrencyCode(h),f=this.safeCurrencyCode(u),p=this.safeString(e,"contractType"),m=(s||a)&&"PERPETUAL"!==p;let g=void 0,y=void 0;m?(g=n,y=this.safeInteger(e,"deliveryDate")):g=l+"/"+f;const v=this.safeValue(e,"filters",[]),b=this.indexBy(v,"filterType"),w={base:this.safeInteger(e,"baseAssetPrecision"),quote:this.safeInteger(e,"quotePrecision"),amount:this.safeInteger(e,"quantityPrecision"),price:this.safeInteger(e,"pricePrecision")},k=this.safeString2(e,"status","contractStatus"),S="TRADING"===k,_=this.safeValue(e,"isMarginTradingAllowed",!1);let O=void 0,T=this.fees;(s||a)&&(O=this.safeString(e,"contractSize","1"),T=this.fees[i]);const C=T["trading"]["maker"],x=T["trading"]["taker"],I={id:n,lowercaseId:d,symbol:g,base:l,quote:f,baseId:h,quoteId:u,info:e,spot:t,type:i,margin:_,future:s,delivery:a,linear:s,inverse:a,expiry:y,expiryDatetime:this.iso8601(y),active:S,precision:w,contractSize:O,maker:C,taker:x,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}};if("PRICE_FILTER"in b){const e=this.safeValue(b,"PRICE_FILTER",{});I["limits"]["price"]={min:this.safeNumber(e,"minPrice"),max:this.safeNumber(e,"maxPrice")},I["precision"]["price"]=this.precisionFromString(e["tickSize"])}if("LOT_SIZE"in b){const e=this.safeValue(b,"LOT_SIZE",{}),t=this.safeString(e,"stepSize");I["precision"]["amount"]=this.precisionFromString(t),I["limits"]["amount"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MARKET_LOT_SIZE"in b){const e=this.safeValue(b,"MARKET_LOT_SIZE",{});I["limits"]["market"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MIN_NOTIONAL"in b){const e=this.safeValue(b,"MIN_NOTIONAL",{});I["limits"]["cost"]["min"]=this.safeNumber2(e,"minNotional","notional")}c.push(I)}return c}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t);let s="privateGetAccount";if("future"===i){const e=this.safeValue(this.options,"future",{}),t=this.safeValue(e,"fetchBalance",{});s=this.safeString(t,"method","fapiPrivateV2GetAccount")}else if("delivery"===i){const e=this.safeValue(this.options,"delivery",{}),t=this.safeValue(e,"fetchBalance",{});s=this.safeString(t,"method","dapiPrivateGetAccount")}else"margin"===i&&(s="sapiGetMarginAccount");const r=this.omit(e,"type"),a=await this[s](r),n={info:a};let o=void 0;if("spot"===i||"margin"===i){o=this.safeInteger(a,"updateTime");const e=this.safeValue2(a,"balances","userAssets",[]);for(let t=0;t<e.length;t++){const i=e[t],s=this.safeString(i,"asset"),r=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(i,"free"),a["used"]=this.safeString(i,"locked"),n[r]=a}}else{let e=a;Array.isArray(a)||(e=this.safeValue(a,"assets",[]));for(let t=0;t<e.length;t++){const i=e[t],s=this.safeString(i,"asset"),r=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(i,"availableBalance"),a["used"]=this.safeString(i,"initialMargin"),a["total"]=this.safeString2(i,"marginBalance","balance"),n[r]=a}}return n["timestamp"]=o,n["datetime"]=this.iso8601(o),this.parseBalance(n,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};void 0!==t&&(r["limit"]=t);let a="publicGetDepth";s["linear"]?a="fapiPublicGetDepth":s["inverse"]&&(a="dapiPublicGetDepth");const n=await this[a](this.extend(r,i)),o=this.safeInteger(n,"T"),c=this.parseOrderBook(n,e,o);return c["nonce"]=this.safeInteger(n,"lastUpdateId"),c}parseTicker(e,t){const i=this.safeInteger(e,"closeTime"),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"lastPrice"),n="baseVolume"in e;let o=void 0,c=void 0;return n?(o=this.safeNumber(e,"baseVolume"),c=this.safeNumber(e,"volume")):(o=this.safeNumber(e,"volume"),c=this.safeNumber(e,"quoteVolume")),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:this.safeNumber(e,"weightedAvgPrice"),open:this.safeNumber(e,"openPrice"),close:a,last:a,previousClose:this.safeNumber(e,"prevClosePrice"),change:this.safeNumber(e,"priceChange"),percentage:this.safeNumber(e,"priceChangePercent"),average:void 0,baseVolume:o,quoteVolume:c,info:e}}async fetchStatus(e={}){const t=await this.wapiGetSystemStatus(e);let i=this.safeString(t,"status");return void 0!==i&&(i="0"===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]};let r="publicGetTicker24hr";i["linear"]?r="fapiPublicGetTicker24hr":i["inverse"]&&(r="dapiPublicGetTicker24hr");const a=await this[r](this.extend(s,t));if(Array.isArray(a)){const e=this.safeValue(a,0,{});return this.parseTicker(e,i)}return this.parseTicker(a,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchBidsAsks","defaultType","spot"),s=this.safeString(t,"type",i),r=this.omit(t,"type");let a=void 0;a="future"===s?"fapiPublicGetTickerBookTicker":"delivery"===s?"dapiPublicGetTickerBookTicker":"publicGetTickerBookTicker";const n=await this[a](r);return this.parseTickers(n,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchTickers","defaultType","spot"),s=this.safeString(t,"type",i),r=this.omit(t,"type");let a=void 0;a="future"===s?"fapiPublicGetTicker24hr":"delivery"===s?"dapiPublicGetTicker24hr":"publicGetTicker24hr";const n=this.safeString(this.options,"fetchTickersMethod",a),o=await this[n](r);return this.parseTickers(o,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=500,o=1500;s=void 0===s?n:Math.min(s,o);const c={symbol:a["id"],interval:this.timeframes[t],limit:s},d=this.parseTimeframe(t);if(void 0!==i&&(c["startTime"]=i,i>0)){const e=this.sum(i,s*d*1e3-1),t=this.milliseconds();c["endTime"]=Math.min(t,e)}let h="publicGetKlines";a["linear"]?h="fapiPublicGetKlines":a["inverse"]&&(h="dapiPublicGetKlines");const u=await this[h](this.extend(c,r));return this.parseOHLCVs(u,a,t,i,s)}parseTrade(e,t){if("isDustTrade"in e)return this.parseDustTrade(e,t);const i=this.safeInteger2(e,"T","time"),s=this.safeString2(e,"p","price"),r=this.safeString2(e,"q","qty"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(k.stringMul(s,r));let c=this.safeString2(e,"t","a");c=this.safeString(e,"id",c);let d=void 0;const h=this.safeString(e,"orderId");"m"in e?d=e["m"]?"sell":"buy":"isBuyerMaker"in e?d=e["isBuyerMaker"]?"sell":"buy":"side"in e?d=this.safeStringLower(e,"side"):"isBuyer"in e&&(d=e["isBuyer"]?"buy":"sell");let u=void 0;"commission"in e&&(u={cost:this.safeNumber(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});let l=void 0;"isMaker"in e&&(l=e["isMaker"]?"maker":"taker"),"maker"in e&&(l=e["maker"]?"maker":"taker");const f=this.safeString(e,"symbol"),p=this.safeSymbol(f,t);return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,id:c,order:h,type:void 0,side:d,takerOrMaker:l,price:a,amount:n,cost:o,fee:u}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=this.safeString2(this.options,"fetchTrades","defaultType","spot"),o=this.safeString(s,"type",n),c=this.omit(s,"type");let d=void 0;d="future"===o?"fapiPublicGetAggTrades":"delivery"===o?"dapiPublicGetAggTrades":"publicGetAggTrades";let h=this.safeString(this.options,"fetchTradesMethod",d);"publicGetAggTrades"===h?(void 0!==t&&(a["startTime"]=t,a["endTime"]=this.sum(t,36e5)),"future"===o?h="fapiPublicGetAggTrades":"delivery"===o&&(h="dapiPublicGetAggTrades")):"publicGetHistoricalTrades"===h&&("future"===o?h="fapiPublicGetHistoricalTrades":"delivery"===o&&(h="dapiPublicGetHistoricalTrades")),void 0!==i&&(a["limit"]=i);const u=await this[h](this.extend(a,c));return this.parseTrades(u,r,t,i)}parseOrderStatus(e){const t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeString(e,"executedQty","0"),n=this.parseNumber(a),o=parseFloat(a);let c=void 0,d=void 0;"time"in e?c=this.safeInteger(e,"time"):"transactTime"in e?c=this.safeInteger(e,"transactTime"):"updateTime"in e&&"open"===i&&(o>0?d=this.safeInteger(e,"updateTime"):c=this.safeInteger(e,"updateTime"));const h=this.safeString(e,"avgPrice"),u=this.parseNumber(this.omitZero(h)),l=this.safeString(e,"price"),f=this.parseNumber(this.omitZero(l)),p=this.safeNumber(e,"origQty"),m=this.safeNumber2(e,"cummulativeQuoteQty","cumQuote"),g=this.safeString(e,"orderId");let y=this.safeStringLower(e,"type");const v=this.safeStringLower(e,"side"),b=this.safeValue(e,"fills",[]),w=this.parseTrades(b,t),k=this.safeString(e,"clientOrderId"),S=this.safeString(e,"timeInForce"),_="limit_maker"===y||"GTX"===S;"limit_maker"===y&&(y="limit");const O=this.safeString(e,"stopPrice"),T=this.parseNumber(this.omitZero(O));return this.safeOrder({info:e,id:g,clientOrderId:k,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:d,symbol:r,type:y,timeInForce:S,postOnly:_,side:v,price:f,stopPrice:T,amount:p,cost:m,average:u,filled:n,remaining:void 0,status:i,fee:void 0,trades:w})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeString2(this.options,"createOrder","defaultType","spot"),c=this.safeString(a,"type",o),h=this.safeString2(a,"newClientOrderId","clientOrderId");a=this.omit(a,["type","newClientOrderId","clientOrderId"]);let u="privatePostOrder";if("future"===c?u="fapiPrivatePostOrder":"delivery"===c?u="dapiPrivatePostOrder":"margin"===c&&(u="sapiPostMarginOrder"),n["spot"]){const e=this.safeValue(a,"test",!1);e&&(u+="Test"),a=this.omit(a,"test")}const l=t.toUpperCase(),f=this.safeValue(n["info"],"orderTypes");if(!this.inArray(l,f))throw new d(this.id+" "+t+" is not a valid order type in market "+e);const p={symbol:n["id"],type:l,side:i.toUpperCase()};if(void 0===h){const e=this.safeValue(this.options,"broker");if(e){const t=this.safeString(e,c);void 0!==t&&(p["newClientOrderId"]=t+this.uuid22())}}else p["newClientOrderId"]=h;p["newOrderRespType"]="spot"===c||"margin"===c?this.safeValue(this.options["newOrderRespType"],t,"RESULT"):"RESULT";let m=!1,g=!1,y=!1,v=!1;if("MARKET"===l){const e=this.safeValue(this.options,"quoteOrderQty",!1);if(e){const e=this.safeNumber(a,"quoteOrderQty"),t=n["precision"]["price"];void 0!==e?(p["quoteOrderQty"]=this.decimalToPrecision(e,w,t,this.precisionMode),a=this.omit(a,"quoteOrderQty")):void 0!==r?p["quoteOrderQty"]=this.decimalToPrecision(s*r,w,t,this.precisionMode):v=!0}else v=!0}else if("LIMIT"===l)g=!0,m=!0,v=!0;else if("STOP_LOSS"===l||"TAKE_PROFIT"===l)y=!0,v=!0,(n["linear"]||n["inverse"])&&(g=!0);else if("STOP_LOSS_LIMIT"===l||"TAKE_PROFIT_LIMIT"===l)v=!0,y=!0,g=!0,m=!0;else if("LIMIT_MAKER"===l)g=!0,v=!0;else if("STOP"===l)v=!0,y=!0,g=!0;else if("STOP_MARKET"===l||"TAKE_PROFIT_MARKET"===l){const e=this.safeValue(a,"closePosition");void 0===e&&(v=!0),y=!0}else if("TRAILING_STOP_MARKET"===l){v=!0;const e=this.safeNumber(a,"callbackRate");if(void 0===e)throw new d(this.id+" createOrder() requires a callbackRate extra param for a "+t+" order")}if(v&&(p["quantity"]=this.amountToPrecision(e,s)),g){if(void 0===r)throw new d(this.id+" createOrder() requires a price argument for a "+t+" order");p["price"]=this.priceToPrecision(e,r)}if(m&&(p["timeInForce"]=this.options["defaultTimeInForce"]),y){const i=this.safeNumber(a,"stopPrice");if(void 0===i)throw new d(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");a=this.omit(a,"stopPrice"),p["stopPrice"]=this.priceToPrecision(e,i)}const b=await this[u](this.extend(p,a));return this.parseOrder(b,n)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=this.safeString2(this.options,"fetchOrder","defaultType","spot"),n=this.safeString(i,"type",r);let o="privateGetOrder";"future"===n?o="fapiPrivateGetOrder":"delivery"===n?o="dapiPrivateGetOrder":"margin"===n&&(o="sapiGetMarginOrder");const c={symbol:s["id"]},d=this.safeValue2(i,"origClientOrderId","clientOrderId");void 0!==d?c["origClientOrderId"]=d:c["orderId"]=e;const h=this.omit(i,["type","clientOrderId","origClientOrderId"]),u=await this[o](this.extend(c,h));return this.parseOrder(u,s)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n=this.safeString2(this.options,"fetchOrders","defaultType","spot"),o=this.safeString(s,"type",n);let c="privateGetAllOrders";"future"===o?c="fapiPrivateGetAllOrders":"delivery"===o?c="dapiPrivateGetAllOrders":"margin"===o&&(c="sapiGetMarginAllOrders");const d={symbol:r["id"]};void 0!==t&&(d["startTime"]=t),void 0!==i&&(d["limit"]=i);const h=this.omit(s,"type"),u=await this[c](this.extend(d,h));return this.parseOrders(u,r,t,i)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let a=void 0,n=void 0,o=void 0;const c={};if(void 0!==e){a=this.market(e),c["symbol"]=a["id"];const t=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");o=this.safeString(s,"type",t),n=this.omit(s,"type")}else{if(this.options["warnOnFetchOpenOrdersWithoutSymbol"]){const e=this.symbols,t=e.length,i=parseInt(t/2);throw new r(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+i.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}{const e=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");o=this.safeString(s,"type",e),n=this.omit(s,"type")}}let d="privateGetOpenOrders";"future"===o?d="fapiPrivateGetOpenOrders":"delivery"===o?d="dapiPrivateGetOpenOrders":"margin"===o&&(d="sapiGetMarginOpenOrders");const h=await this[d](this.extend(c,n));return this.parseOrders(h,a,t,i)}async fetchClosedOrders(e,t,i,s={}){const r=await this.fetchOrders(e,t,i,s);return this.filterBy(r,"status","closed")}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot"),n=this.safeString(i,"type",r),o=this.safeValue2(i,"origClientOrderId","clientOrderId"),c={symbol:s["id"]};void 0===o?c["orderId"]=e:c["origClientOrderId"]=o;let d="privateDeleteOrder";"future"===n?d="fapiPrivateDeleteOrder":"delivery"===n?d="dapiPrivateDeleteOrder":"margin"===n&&(d="sapiDeleteMarginOrder");const h=this.omit(i,["type","origClientOrderId","clientOrderId"]),u=await this[d](this.extend(c,h));return this.parseOrder(u)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=this.safeString2(this.options,"cancelAllOrders","defaultType","spot"),n=this.safeString(t,"type",r),o=this.omit(t,"type");let c="privateDeleteOpenOrders";"margin"===n?c="sapiDeleteMarginOpenOrders":"future"===n?c="fapiPrivateDeleteAllOpenOrders":"delivery"===n&&(c="dapiPrivateDeleteAllOpenOrders");const d=await this[c](this.extend(s,o));return Array.isArray(d)?this.parseOrders(d,i):d}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n=this.safeString2(this.options,"fetchMyTrades","defaultType","spot"),o=this.safeString(s,"type",n);s=this.omit(s,"type");let c=void 0;"spot"===o?c="privateGetMyTrades":"margin"===o?c="sapiGetMarginMyTrades":"future"===o?c="fapiPrivateGetUserTrades":"delivery"===o&&(c="dapiPrivateGetUserTrades");const d={symbol:r["id"]};void 0!==t&&(d["startTime"]=t),void 0!==i&&(d["limit"]=i);const h=await this[c](this.extend(d,s));return this.parseTrades(h,r,t,i)}async fetchMyDustTrades(e,t,i,s={}){await this.loadMarkets();const r=await this.wapiGetUserAssetDribbletLog(s),a=this.safeValue(r,"results",{}),n=this.safeValue(a,"rows",[]),o=[];for(let d=0;d<n.length;d++){const e=n[d]["logs"];for(let t=0;t<e.length;t++)e[t]["isDustTrade"]=!0,o.push(e[t])}const c=this.parseTrades(o,void 0,t,i);return this.filterBySinceLimit(c,t,i)}parseDustTrade(e,t){const i=this.safeString(e,"tranId"),s=this.parse8601(this.safeString(e,"operateTime")),r=this.safeCurrencyCode(this.safeString(e,"fromAsset")),a=this.currency("BNB")["code"],n=a+"/"+r;let o=!1;n in this.markets&&(o=!0);const c={currency:a,cost:this.safeNumber(e,"serviceChargeAmount")};let d=void 0,h=void 0,u=void 0,l=void 0;o?(d=n,h=this.sum(this.safeNumber(e,"transferedAmount"),c["cost"]),u=this.safeNumber(e,"amount"),l="buy"):(d=r+"/"+a,h=this.safeNumber(e,"amount"),u=this.sum(this.safeNumber(e,"transferedAmount"),c["cost"]),l="sell");let f=void 0;void 0!==u&&h&&(f=u/h);const p=void 0,m=void 0,g=void 0;return{id:p,timestamp:s,datetime:this.iso8601(s),symbol:d,order:i,type:m,takerOrMaker:g,side:l,amount:h,price:f,cost:u,fee:c,info:e}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["coin"]=r["id"]),void 0!==t&&(a["startTime"]=t,a["endTime"]=this.sum(t,7776e6)),void 0!==i&&(a["limit"]=i);const n=await this.sapiGetCapitalDepositHisrec(this.extend(a,s));return this.parseTransactions(n,r,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["coin"]=r["id"]),void 0!==t&&(a["startTime"]=t,a["endTime"]=this.sum(t,7776e6)),void 0!==i&&(a["limit"]=i);const n=await this.sapiGetCapitalWithdrawHistory(this.extend(a,s));return this.parseTransactions(n,r,t,i)}parseTransactionStatusByType(e,t){const i={deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}},s=this.safeValue(i,t,{});return this.safeString(s,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"address");let r=this.safeString(e,"addressTag");void 0!==r&&r.length<1&&(r=void 0);let a=this.safeString(e,"txId");void 0!==a&&a.indexOf("Internal transfer ")>=0&&(a=a.slice(18));const n=this.safeString(e,"coin"),o=this.safeCurrencyCode(n,t);let c=void 0;const d=this.safeInteger(e,"insertTime"),h=this.parse8601(this.safeString(e,"applyTime"));let u=this.safeString(e,"type");void 0===u&&(void 0!==d&&void 0===h?(u="deposit",c=d):void 0===d&&void 0!==h&&(u="withdrawal",c=h));const l=this.parseTransactionStatusByType(this.safeString(e,"status"),u),f=this.safeNumber(e,"amount"),p=this.safeNumber(e,"transactionFee");let m=void 0;void 0!==p&&(m={currency:o,cost:p});const g=this.safeInteger(e,"successTime");let y=this.safeInteger(e,"transferType",!1);return y=!!y,{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:s,addressTo:s,addressFrom:void 0,tag:r,tagTo:r,tagFrom:void 0,type:u,amount:f,currency:o,status:l,updated:g,internal:y,fee:m}}parseTransferStatus(e){const t={CONFIRMED:"ok"};return this.safeString(t,e,e)}parseTransfer(e,t){const i=this.safeString(e,"tranId"),s=this.safeString(e,"asset"),r=this.safeCurrencyCode(s,t),a=this.safeNumber(e,"amount"),n=this.safeString(e,"type");let o=void 0,c=void 0;const d=this.safeValue(this.options,"typesByAccount",{});if(void 0!==n){const e=n.split("_");o=this.safeValue(e,0),c=this.safeValue(e,1),o=this.safeString(d,o,o),c=this.safeString(d,c,c)}const h=this.safeInteger(e,"timestamp"),u=this.parseTransferStatus(this.safeString(e,"status"));return{info:e,id:i,timestamp:h,datetime:this.iso8601(h),currency:r,amount:a,fromAccount:o,toAccount:c,status:u}}parseIncome(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),r=this.safeNumber(e,"income"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a),o=this.safeString(e,"tranId"),c=this.safeInteger(e,"time");return{info:e,symbol:s,code:n,timestamp:c,datetime:this.iso8601(c),id:o,amount:r}}parseIncomes(e,t,i,s){const r=[];for(let a=0;a<e.length;a++){const i=e[a],s=this.parseIncome(i,t);r.push(s)}return this.filterBySinceLimit(r,i,s,"timestamp")}async transfer(e,t,i,s,a={}){await this.loadMarkets();const n=this.currency(e);let o=this.safeString(a,"type");if(void 0===o){const e=this.safeValue(this.options,"accountsByType",{}),t=this.safeString(e,i,i),a=this.safeString(e,s,s);if(void 0===t){const t=Object.keys(e);throw new r(this.id+" fromAccount must be one of "+t.join(", "))}if(void 0===a){const t=Object.keys(e);throw new r(this.id+" toAccount must be one of "+t.join(", "))}o=t+"_"+a}const c={asset:n["id"],amount:this.currencyToPrecision(e,t),type:o},d=await this.sapiPostAssetTransfer(this.extend(c,a)),h=this.parseTransfer(d,n);return this.extend(h,{amount:t,currency:e,fromAccount:i,toAccount:s})}async fetchTransfers(e,t,i,s={}){await this.loadMarkets();const a=this.currency(e),n=this.safeString2(this.options,"fetchTransfers","defaultType","spot"),o=this.safeString(s,"fromAccount",n),c="future"===o?"spot":"future",d=this.safeString(s,"toAccount",c);let h=this.safeString(s,"type");const u=this.safeValue(this.options,"accountsByType",{}),l=this.safeString(u,o),f=this.safeString(u,d);if(void 0===h){if(void 0===l){const e=Object.keys(u);throw new r(this.id+" fromAccount parameter must be one of "+e.join(", "))}if(void 0===f){const e=Object.keys(u);throw new r(this.id+" toAccount parameter must be one of "+e.join(", "))}h=l+"_"+f}const p={type:h};void 0!==t&&(p["startTime"]=t),void 0!==i&&(p["size"]=i);const m=await this.sapiGetAssetTransfer(this.extend(p,s)),g=this.safeValue(m,"rows",[]);return this.parseTransfers(g,a,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={coin:i["id"]},r=await this.sapiGetCapitalDepositAddress(this.extend(s,t)),a=this.safeString(r,"address"),n=this.safeString(r,"tag");return this.checkAddress(a),{currency:e,address:a,tag:n,info:r}}async fetchFundingFees(e,t={}){const i=await this.sapiGetCapitalConfigGetall(t),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"coin"),a=this.safeCurrencyCode(t),n=this.safeValue(e,"networkList");s[a]={};for(let i=0;i<n.length;i++){const e=n[i],t=this.safeString(e,"network"),r=this.safeCurrencyCode(t),o=this.safeNumber(e,"withdrawFee");s[a][r]=o}}return{withdraw:s,deposit:{},info:i}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={coin:a["id"],address:i,amount:t};void 0!==s&&(n["addressTag"]=s);const o=await this.sapiPostCapitalWithdrawApply(this.extend(n,r));return{info:o,id:this.safeString(o,"id")}}parseTradingFee(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i);return{info:e,symbol:s,maker:this.safeNumber(e,"makerCommission"),taker:this.safeNumber(e,"takerCommission")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.sapiGetAssetTradeFee(this.extend(s,t)),a=this.safeValue(r,0,{});return this.parseTradingFee(a)}async fetchTradingFees(e={}){await this.loadMarkets();let t=void 0;const i=this.safeString2(this.options,"fetchFundingRates","defaultType","future"),s=this.safeString(e,"type",i),r=this.omit(e,"type");"spot"===s||"margin"===s?t="sapiGetAssetTradeFee":"future"===s?t="fapiPrivateGetAccount":"delivery"===s&&(t="dapiPrivateGetAccount");const a=await this[t](r);if("spot"===s||"margin"===s){const e={};for(let t=0;t<a.length;t++){const i=this.parseTradingFee(a[t]),s=i["symbol"];e[s]=i}return e}if("future"===s){const e=Object.keys(this.markets),t={},i=this.safeInteger(a,"feeTier"),r=this.fees[s]["trading"]["tiers"],n=r["maker"][i][1],o=r["taker"][i][1];for(let s=0;s<e.length;s++){const r=e[s];t[r]={info:{feeTier:i},symbol:r,maker:n,taker:o}}return t}if("delivery"===s){const e=Object.keys(this.markets),t={},i=this.safeInteger(a,"feeTier"),r=this.fees[s]["trading"]["tiers"],n=r["maker"][i][1],o=r["taker"][i][1];for(let s=0;s<e.length;s++){const r=e[s];t[r]={info:{feeTier:i},symbol:r,maker:n,taker:o}}return t}}async futuresTransfer(e,t,i,s={}){if(i<1||i>4)throw new a(this.id+" type must be between 1 and 4");await this.loadMarkets();const r=this.currency(e),n={asset:r["id"],amount:t,type:i},o=await this.sapiPostFuturesTransfer(this.extend(n,s));return this.parseTransfer(o,r)}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]};let r=void 0;if(i["linear"])r="fapiPublicGetPremiumIndex";else{if(!i["inverse"])throw m(this.id+" setMarginMode() supports linear and inverse contracts only");r="dapiPublicGetPremiumIndex"}const a=await this[r](this.extend(s,t));return this.parseFundingRate(a)}async fetchFundingRates(e,t={}){await this.loadMarkets();let i=void 0;const s=this.safeString2(this.options,"fetchFundingRates","defaultType","future"),r=this.safeString(t,"type",s),a=this.omit(t,"type");if("future"===r)i="fapiPublicGetPremiumIndex";else{if("delivery"!==r)throw m(this.id+" setMarginMode() supports linear and inverse contracts only");i="dapiPublicGetPremiumIndex"}const n=await this[i](a),o=[];for(let c=0;c<n.length;c++){const e=n[c],t=this.parseFundingRate(e);o.push(t)}return this.filterByArray(o,"symbol",e)}parseFundingRate(e,t){const i=this.safeInteger(e,"time"),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"markPrice"),n=this.safeNumber(e,"indexPrice"),o=this.safeNumber(e,"interestRate"),c=this.safeNumber(e,"lastFundingRate"),d=this.safeInteger(e,"nextFundingTime");return{info:e,symbol:r,markPrice:a,indexPrice:n,interestRate:o,timestamp:i,datetime:this.iso8601(i),fundingRate:c,nextFundingTimestamp:d,nextFundingDatetime:this.iso8601(d)}}parseAccountPositions(e){const t=this.safeValue(e,"positions"),i=this.safeValue(e,"assets"),s={};for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString(e,"asset"),r=this.safeCurrencyCode(t),n=this.safeString(e,"crossWalletBalance"),o=this.safeString(e,"crossUnPnl");s[r]={crossMargin:k.stringAdd(n,o),crossWalletBalance:n}}const r=[];for(let a=0;a<t.length;a++){const e=t[a],i=this.safeString(e,"symbol"),n=this.safeMarket(i),o="future"===this.options["defaultType"]?n["quote"]:n["base"],c=this.parsePosition(this.extend(e,{crossMargin:s[o]["crossMargin"],crossWalletBalance:s[o]["crossWalletBalance"]}),n);r.push(c)}return r}parsePosition(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const s=t["symbol"],r=this.safeString(e,"leverage"),a=parseInt(r),n=this.safeString(e,"initialMargin"),o=this.parseNumber(n);let c=k.stringDiv("1",r,8);const d=1e3%a===0;d||(c=k.stringDiv(k.stringAdd(c,"1e-8"),"1",8));const h="notional"in e,u=this.safeString(e,"maintMargin"),l=this.parseNumber(u),f=this.safeString(e,"entryPrice");let p=this.parseNumber(f);const m=this.safeString2(e,"notional","notionalValue"),g=k.stringAbs(m),y=parseFloat(m),v=parseFloat(g),b=this.parseNumber(k.stringAbs(m));let w=this.safeString(e,"positionAmt"),S=k.stringAbs(w);if(void 0===w){const e=k.stringMul(k.stringMul(r,n),f);w=k.stringDiv(e,t["contractSize"]),S=k.stringDiv(k.stringAdd(w,"0.5"),"1",0)}const _=this.parseNumber(S),O=this.safeValue(this.options,"leverageBrackets",{}),T=this.safeValue(O,s,[]);let C=void 0;for(let k=0;k<T.length;k++){const e=T[k];if(v<e[0])break;C=e[1]}const x=this.parseNumber(C),I=this.safeString(e,"unrealizedProfit"),E=this.parseNumber(I);let A=this.safeInteger(e,"updateTime");0===A&&(A=void 0);const N=this.safeValue(e,"isolated");let M=void 0,P=void 0,B=void 0;N?(M="isolated",B=this.safeString(e,"isolatedWallet"),P=k.stringAdd(B,I)):(M="cross",B=this.safeString(e,"crossWalletBalance"),P=this.safeString(e,"crossMargin"));const R=this.parseNumber(P);let L=void 0,V=void 0,D=void 0,q=void 0,j=void 0;if(0===y)p=void 0;else{if(V=y<0?"short":"long",L=this.parseNumber(k.stringDiv(u,P,4)),D=this.parseNumber(k.stringMul(k.stringDiv(I,n,4),"100")),h){let e=void 0,t=f;"short"===V?e=k.stringAdd("1",C):(e=k.stringAdd("-1",C),t=k.stringMul("-1",t));const i=k.stringDiv(B,k.stringMul(S,e)),s=k.stringDiv(t,e);q=k.stringAdd(i,s)}else{let e=void 0,i=f;"short"===V?e=k.stringSub("1",C):(e=k.stringSub("-1",C),i=k.stringMul("-1",i));const s=k.stringMul(S,t["contractSize"]),r=k.stringMul(s,e),a=k.stringSub(k.stringMul(k.stringDiv("1",i),s),B);q=k.stringDiv(r,a)}const e=t["precision"]["price"],i=e+1,s=i.toString(),r=new k("5e-"+s),a=r.toString(),o=k.stringAdd(a,q);let c=k.stringDiv(o,"1",e);"-"===c[0]&&(c=void 0),j=this.parseNumber(c)}return{info:e,symbol:s,timestamp:A,datetime:this.iso8601(A),initialMargin:o,initialMarginPercentage:this.parseNumber(c),maintenanceMargin:l,maintenanceMarginPercentage:x,entryPrice:p,notional:b,leverage:a,unrealizedPnl:E,contracts:_,marginRatio:L,liquidationPrice:j,markPrice:void 0,collateral:R,marginType:M,side:V,percentage:D}}parsePositionRisk(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const s=t["symbol"],r=this.safeValue(this.options,"leverageBrackets",{}),a=this.safeValue(r,s,[]),n=this.safeString2(e,"notional","notionalValue"),o=k.stringAbs(n),c=parseFloat(o),d=parseFloat(n);let h=void 0;for(let k=0;k<a.length;k++){const e=a[k];if(c<e[0])break;h=e[1]}const u=this.parseNumber(o),l=k.stringAbs(this.safeString(e,"positionAmt")),f=this.parseNumber(l),p=this.safeString(e,"unRealizedProfit"),m=this.parseNumber(p),g=this.safeString(e,"leverage"),y=parseInt(g);let v=this.safeNumber(e,"liquidationPrice");const b=this.safeString(e,"isolatedMargin"),w=parseFloat(b),S=this.parseNumber(b),_=this.safeString(e,"markPrice"),O=parseFloat(_);let T=void 0;0!==O&&(T=this.parseNumber(_));const C=this.safeNumber(e,"entryPrice"),x=this.safeInteger(e,"updateTime"),I=this.parseNumber(h),E=k.stringMul(h,o),A=this.parseNumber(E);let N=k.stringDiv("1",g,8);const M=1e3%y===0;M||(N=k.stringAdd(N,"1e-8"));const P=k.stringDiv(k.stringMul(o,N),"1",8),B=this.parseNumber(P);let R=void 0,L=void 0,V=void 0;0===w?v=void 0:(R=this.parseNumber(k.stringDiv(E,b,4)),L=d<0?"short":"long",V=this.parseNumber(k.stringMul(k.stringDiv(p,P,4),"100")));const D=this.safeString(e,"marginType");return"cross"===D&&(v=void 0),{info:e,symbol:s,contracts:f,unrealizedPnl:m,leverage:y,liquidationPrice:v,collateral:S,notional:u,markPrice:T,entryPrice:C,timestamp:x,initialMargin:B,initialMarginPercentage:this.parseNumber(N),maintenanceMargin:A,maintenanceMarginPercentage:I,marginRatio:R,datetime:this.iso8601(x),marginType:D,side:L,percentage:V}}async loadLeverageBrackets(e=!1,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"leverageBrackets");if(void 0===i||e){let e=void 0;const i=this.safeString2(this.options,"fetchPositions","defaultType","future"),s=this.safeString(t,"type",i),r=this.omit(t,"type");if("future"===s)e="fapiPrivateGetLeverageBracket";else{if("delivery"!==s)throw new m(this.id+" loadLeverageBrackets() supports linear and inverse contracts only");e="dapiPrivateV2GetLeverageBracket"}const a=await this[e](r);this.options["leverageBrackets"]={};for(let t=0;t<a.length;t++){const e=a[t],i=this.safeString(e,"symbol"),s=this.safeSymbol(i),r=this.safeValue(e,"brackets"),n=[];for(let t=0;t<r.length;t++){const e=r[t],i=this.safeFloat2(e,"notionalFloor","qtyFloor"),s=this.safeString(e,"maintMarginRatio");n.push([i,s])}this.options["leverageBrackets"][s]=n}}return this.options["leverageBrackets"]}async fetchPositions(e,t={}){await this.loadMarkets(),await this.loadLeverageBrackets();let i=void 0;const s=this.safeString2(this.options,"fetchPositions","defaultType","future"),r=this.safeString(t,"type",s),a=this.omit(t,"type");if("future"===r)i="fapiPrivateGetAccount";else{if("delivery"!==r)throw new m(this.id+" fetchPositions() supports linear and inverse contracts only");i="dapiPrivateGetAccount"}const n=await this[i](a),o=this.parseAccountPositions(n);return this.filterByArray(o,"symbol",e,!1)}async fetchIsolatedPositions(e,t={}){await this.loadMarkets(),await this.loadLeverageBrackets();const i={};let s=void 0,r=void 0,a="future";if(void 0!==e)if(s=this.market(e),i["symbol"]=s["id"],s["linear"])a="future";else{if(!s["inverse"])throw m(this.id+" fetchIsolatedPositions() supports linear and inverse contracts only");a="delivery"}a=this.safeString2(this.options,"fetchIsolatedPositions","defaultType",a);const n=this.safeString(t,"type",a);if(t=this.omit(t,"type"),"future"===n||"linear"===n)r="fapiPrivateGetPositionRisk";else{if("delivery"!==n&&"inverse"!==n)throw m(this.id+" fetchIsolatedPositions() supports linear and inverse contracts only");r="dapiPrivateGetPositionRisk"}const o=await this[r](this.extend(i,t));if(void 0===e){const e=[];for(let t=0;t<o.length;t++){const i=this.parsePositionRisk(o[t],s);"isolated"===i["marginType"]&&e.push(i)}return e}return this.parsePositionRisk(this.safeValue(o,0),s)}async fetchFundingHistory(e,t,i,s={}){await this.loadMarkets();let r=void 0,a=void 0,n="future";const o={incomeType:"FUNDING_FEE"};if(void 0!==e)if(r=this.market(e),o["symbol"]=r["id"],r["linear"])n="future";else{if(!r["inverse"])throw m(this.id+" fetchFundingHistory() supports linear and inverse contracts only");n="delivery"}void 0!==t&&(o["startTime"]=t),void 0!==i&&(o["limit"]=i),n=this.safeString2(this.options,"fetchFundingHistory","defaultType",n);const c=this.safeString(s,"type",n);if(s=this.omit(s,"type"),"future"===c||"linear"===c)a="fapiPrivateGetIncome";else{if("delivery"!==c&&"inverse"!==c)throw m(this.id+" fetchFundingHistory() supports linear and inverse contracts only");a="dapiPrivateGetIncome"}const d=await this[a](this.extend(o,s));return this.parseIncomes(d,r,t,i)}async setLeverage(e,t,i={}){if(t<1||t>125)throw new g(this.id+" leverage should be between 1 and 125");await this.loadMarkets();const s=this.market(e);let r=void 0;if(s["linear"])r="fapiPrivatePostLeverage";else{if(!s["inverse"])throw m(this.id+" setLeverage() supports linear and inverse contracts only");r="dapiPrivatePostLeverage"}const a={symbol:s["id"],leverage:t};return await this[r](this.extend(a,i))}async setMarginMode(e,t,i={}){if(t=t.toUpperCase(),"ISOLATED"!==t&&"CROSSED"!==t)throw new g(this.id+" marginType must be either isolated or crossed");await this.loadMarkets();const s=this.market(e);let r=void 0;if(s["linear"])r="fapiPrivatePostMarginType";else{if(!s["inverse"])throw m(this.id+" setMarginMode() supports linear and inverse contracts only");r="dapiPrivatePostMarginType"}const a={symbol:s["id"],marginType:t};return await this[r](this.extend(a,i))}sign(e,t="public",i="GET",s={},r,a){if(!(t in this.urls["api"]))throw new m(this.id+" does not have a testnet/sandbox URL for "+t+" endpoints");let n=this.urls["api"][t];if(n+="/"+e,"wapi"===t&&(n+=".html"),"historicalTrades"===e){if(!this.apiKey)throw new l(this.id+" historicalTrades endpoint requires `apiKey` credential");r={"X-MBX-APIKEY":this.apiKey}}const o="userDataStream"===e||"listenKey"===e;if(o){if(!this.apiKey)throw new l(this.id+" userDataStream endpoint requires `apiKey` credential");r={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"},"GET"!==i&&(a=this.urlencode(s))}else if("private"===t||"sapi"===t||"wapi"===t&&"systemStatus"!==e||"dapiPrivate"===t||"dapiPrivateV2"===t||"fapiPrivate"===t||"fapiPrivateV2"===t){this.checkRequiredCredentials();let o=void 0;const c=this.safeInteger(this.options,"recvWindow",5e3);o="sapi"===t&&"asset/dust"===e?this.urlencodeWithArrayRepeat(this.extend({timestamp:this.nonce(),recvWindow:c},s)):"batchOrders"===e||e.indexOf("sub-account")>=0?this.rawencode(this.extend({timestamp:this.nonce(),recvWindow:c},s)):this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:c},s));const d=this.hmac(this.encode(o),this.encode(this.secret));o+="&signature="+d,r={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i||"wapi"===t?n+="?"+o:(a=o,r["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(s).length&&(n+="?"+this.urlencode(s));return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+n);if(e>=400){if(n.indexOf("Price * QTY is zero or less")>=0)throw new d(this.id+" order cost = amount * price is zero or less "+n);if(n.indexOf("LOT_SIZE")>=0)throw new d(this.id+" order amount should be evenly divisible by lot size "+n);if(n.indexOf("PRICE_FILTER")>=0)throw new d(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+n)}if(void 0===o)return;const l=this.safeValue(o,"success",!0);if(!l){const e=this.safeString(o,"msg");let t=void 0;if(void 0!==e){try{t=JSON.parse(e)}catch(m){t=void 0}void 0!==t&&(o=t)}}const f=this.safeString(o,"msg");void 0!==f&&(this.throwExactlyMatchedException(this.exceptions["exact"],f,this.id+" "+f),this.throwBroadlyMatchedException(this.exceptions["broad"],f,this.id+" "+f));const p=this.safeString(o,"code");if(void 0!==p){if("200"===p||"0"===p)return;if("-2015"===p&&this.options["hasAlreadyAuthenticatedSuccessfully"])throw new h(this.id+" temporary banned: "+n);const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],p,e),new r(e)}if(!l)throw new r(this.id+" "+n)}async request(e,t="public",i="GET",s={},r,a){const n=await this.fetch2(e,t,i,s,r,a);return"private"!==t&&"wapi"!==t||(this.options["hasAlreadyAuthenticatedSuccessfully"]=!0),n}}},"4a7b":function(e,t,i){"use strict";var s=i("c532");e.exports=function(e,t){t=t||{};var i={},r=["url","method","data"],a=["headers","auth","proxy","params"],n=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return s.isPlainObject(e)&&s.isPlainObject(t)?s.merge(e,t):s.isPlainObject(t)?s.merge({},t):s.isArray(t)?t.slice():t}function d(r){s.isUndefined(t[r])?s.isUndefined(e[r])||(i[r]=c(void 0,e[r])):i[r]=c(e[r],t[r])}s.forEach(r,(function(e){s.isUndefined(t[e])||(i[e]=c(void 0,t[e]))})),s.forEach(a,d),s.forEach(n,(function(r){s.isUndefined(t[r])?s.isUndefined(e[r])||(i[r]=c(void 0,e[r])):i[r]=c(void 0,t[r])})),s.forEach(o,(function(s){s in t?i[s]=c(e[s],t[s]):s in e&&(i[s]=c(void 0,e[s]))}));var h=r.concat(a).concat(n).concat(o),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===h.indexOf(e)}));return s.forEach(u,d),i}},"4a92":function(e,t,i){var s,r=i("5259");e.exports=r.jsbn=r.jsbn||{};var a=0xdeadbeefcafe,n=15715070==(16777215&a);function o(e,t,i){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,i):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function c(){return new o(null)}function d(e,t,i,s,r,a){while(--a>=0){var n=t*this.data[e++]+i.data[s]+r;r=Math.floor(n/67108864),i.data[s++]=67108863&n}return r}function h(e,t,i,s,r,a){var n=32767&t,o=t>>15;while(--a>=0){var c=32767&this.data[e],d=this.data[e++]>>15,h=o*c+d*n;c=n*c+((32767&h)<<15)+i.data[s]+(1073741823&r),r=(c>>>30)+(h>>>15)+o*d+(r>>>30),i.data[s++]=1073741823&c}return r}function u(e,t,i,s,r,a){var n=16383&t,o=t>>14;while(--a>=0){var c=16383&this.data[e],d=this.data[e++]>>14,h=o*c+d*n;c=n*c+((16383&h)<<14)+i.data[s]+r,r=(c>>28)+(h>>14)+o*d,i.data[s++]=268435455&c}return r}r.jsbn.BigInteger=o,"undefined"===typeof navigator?(o.prototype.am=u,s=28):n&&"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=h,s=30):n&&"Netscape"!=navigator.appName?(o.prototype.am=d,s=26):(o.prototype.am=u,s=28),o.prototype.DB=s,o.prototype.DM=(1<<s)-1,o.prototype.DV=1<<s;var l=52;o.prototype.FV=Math.pow(2,l),o.prototype.F1=l-s,o.prototype.F2=2*s-l;var f,p,m="0123456789abcdefghijklmnopqrstuvwxyz",g=new Array;for(f="0".charCodeAt(0),p=0;p<=9;++p)g[f++]=p;for(f="a".charCodeAt(0),p=10;p<36;++p)g[f++]=p;for(f="A".charCodeAt(0),p=10;p<36;++p)g[f++]=p;function y(e){return m.charAt(e)}function v(e,t){var i=g[e.charCodeAt(t)];return null==i?-1:i}function b(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function w(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function k(e){var t=c();return t.fromInt(e),t}function S(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(e,t);i=2}this.t=0,this.s=0;var s=e.length,r=!1,a=0;while(--s>=0){var n=8==i?255&e[s]:v(e,s);n<0?"-"==e.charAt(s)&&(r=!0):(r=!1,0==a?this.data[this.t++]=n:a+i>this.DB?(this.data[this.t-1]|=(n&(1<<this.DB-a)-1)<<a,this.data[this.t++]=n>>this.DB-a):this.data[this.t-1]|=n<<a,a+=i,a>=this.DB&&(a-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&o.ZERO.subTo(this,this)}function _(){var e=this.s&this.DM;while(this.t>0&&this.data[this.t-1]==e)--this.t}function O(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,s=(1<<t)-1,r=!1,a="",n=this.t,o=this.DB-n*this.DB%t;if(n-- >0){o<this.DB&&(i=this.data[n]>>o)>0&&(r=!0,a=y(i));while(n>=0)o<t?(i=(this.data[n]&(1<<o)-1)<<t-o,i|=this.data[--n]>>(o+=this.DB-t)):(i=this.data[n]>>(o-=t)&s,o<=0&&(o+=this.DB,--n)),i>0&&(r=!0),r&&(a+=y(i))}return r?a:"0"}function T(){var e=c();return o.ZERO.subTo(this,e),e}function C(){return this.s<0?this.negate():this}function x(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;while(--i>=0)if(0!=(t=this.data[i]-e.data[i]))return t;return 0}function I(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function E(){return this.t<=0?0:this.DB*(this.t-1)+I(this.data[this.t-1]^this.s&this.DM)}function A(e,t){var i;for(i=this.t-1;i>=0;--i)t.data[i+e]=this.data[i];for(i=e-1;i>=0;--i)t.data[i]=0;t.t=this.t+e,t.s=this.s}function N(e,t){for(var i=e;i<this.t;++i)t.data[i-e]=this.data[i];t.t=Math.max(this.t-e,0),t.s=this.s}function M(e,t){var i,s=e%this.DB,r=this.DB-s,a=(1<<r)-1,n=Math.floor(e/this.DB),o=this.s<<s&this.DM;for(i=this.t-1;i>=0;--i)t.data[i+n+1]=this.data[i]>>r|o,o=(this.data[i]&a)<<s;for(i=n-1;i>=0;--i)t.data[i]=0;t.data[n]=o,t.t=this.t+n+1,t.s=this.s,t.clamp()}function P(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var s=e%this.DB,r=this.DB-s,a=(1<<s)-1;t.data[0]=this.data[i]>>s;for(var n=i+1;n<this.t;++n)t.data[n-i-1]|=(this.data[n]&a)<<r,t.data[n-i]=this.data[n]>>s;s>0&&(t.data[this.t-i-1]|=(this.s&a)<<r),t.t=this.t-i,t.clamp()}}function B(e,t){var i=0,s=0,r=Math.min(e.t,this.t);while(i<r)s+=this.data[i]-e.data[i],t.data[i++]=s&this.DM,s>>=this.DB;if(e.t<this.t){s-=e.s;while(i<this.t)s+=this.data[i],t.data[i++]=s&this.DM,s>>=this.DB;s+=this.s}else{s+=this.s;while(i<e.t)s-=e.data[i],t.data[i++]=s&this.DM,s>>=this.DB;s-=e.s}t.s=s<0?-1:0,s<-1?t.data[i++]=this.DV+s:s>0&&(t.data[i++]=s),t.t=i,t.clamp()}function R(e,t){var i=this.abs(),s=e.abs(),r=i.t;t.t=r+s.t;while(--r>=0)t.data[r]=0;for(r=0;r<s.t;++r)t.data[r+i.t]=i.am(0,s.data[r],t,r,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)}function L(e){var t=this.abs(),i=e.t=2*t.t;while(--i>=0)e.data[i]=0;for(i=0;i<t.t-1;++i){var s=t.am(i,t.data[i],e,2*i,0,1);(e.data[i+t.t]+=t.am(i+1,2*t.data[i],e,2*i+1,s,t.t-i-1))>=t.DV&&(e.data[i+t.t]-=t.DV,e.data[i+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(i,t.data[i],e,2*i,0,1)),e.s=0,e.clamp()}function V(e,t,i){var s=e.abs();if(!(s.t<=0)){var r=this.abs();if(r.t<s.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=c());var a=c(),n=this.s,d=e.s,h=this.DB-I(s.data[s.t-1]);h>0?(s.lShiftTo(h,a),r.lShiftTo(h,i)):(s.copyTo(a),r.copyTo(i));var u=a.t,l=a.data[u-1];if(0!=l){var f=l*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),p=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,y=i.t,v=y-u,b=null==t?c():t;a.dlShiftTo(v,b),i.compareTo(b)>=0&&(i.data[i.t++]=1,i.subTo(b,i)),o.ONE.dlShiftTo(u,b),b.subTo(a,a);while(a.t<u)a.data[a.t++]=0;while(--v>=0){var w=i.data[--y]==l?this.DM:Math.floor(i.data[y]*p+(i.data[y-1]+g)*m);if((i.data[y]+=a.am(0,w,i,v,0,u))<w){a.dlShiftTo(v,b),i.subTo(b,i);while(i.data[y]<--w)i.subTo(b,i)}}null!=t&&(i.drShiftTo(u,t),n!=d&&o.ZERO.subTo(t,t)),i.t=u,i.clamp(),h>0&&i.rShiftTo(h,i),n<0&&o.ZERO.subTo(i,i)}}}function D(e){var t=c();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t}function q(e){this.m=e}function j(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function G(e){return e}function U(e){e.divRemTo(this.m,null,e)}function F(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function H(e,t){e.squareTo(t),this.reduce(t)}function z(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function K(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function W(e){var t=c();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t}function $(e){var t=c();return e.copyTo(t),this.reduce(t),t}function Y(e){while(e.t<=this.mt2)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e.data[t],s=i*this.mpl+((i*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;i=t+this.m.t,e.data[i]+=this.m.am(0,s,e,t,0,this.m.t);while(e.data[i]>=e.DV)e.data[i]-=e.DV,e.data[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function X(e,t){e.squareTo(t),this.reduce(t)}function Z(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function Q(){return 0==(this.t>0?1&this.data[0]:this.s)}function J(e,t){if(e>4294967295||e<1)return o.ONE;var i=c(),s=c(),r=t.convert(this),a=I(e)-1;r.copyTo(i);while(--a>=0)if(t.sqrTo(i,s),(e&1<<a)>0)t.mulTo(s,r,i);else{var n=i;i=s,s=n}return t.revert(i)}function ee(e,t){var i;return i=e<256||t.isEven()?new q(t):new K(t),this.exp(e,i)}function te(){var e=c();return this.copyTo(e),e}function ie(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function se(){return 0==this.t?this.s:this.data[0]<<24>>24}function re(){return 0==this.t?this.s:this.data[0]<<16>>16}function ae(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function ne(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function oe(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),s=k(i),r=c(),a=c(),n="";this.divRemTo(s,r,a);while(r.signum()>0)n=(i+a.intValue()).toString(e).substr(1)+n,r.divRemTo(s,r,a);return a.intValue().toString(e)+n}function ce(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),s=Math.pow(t,i),r=!1,a=0,n=0,c=0;c<e.length;++c){var d=v(e,c);d<0?"-"==e.charAt(c)&&0==this.signum()&&(r=!0):(n=t*n+d,++a>=i&&(this.dMultiply(s),this.dAddOffset(n,0),a=0,n=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(n,0)),r&&o.ZERO.subTo(this,this)}function de(e,t,i){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),ye,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(t))this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this)}else{var s=new Array,r=7&e;s.length=1+(e>>3),t.nextBytes(s),r>0?s[0]&=(1<<r)-1:s[0]=0,this.fromString(s,256)}}function he(){var e=this.t,t=new Array;t[0]=this.s;var i,s=this.DB-e*this.DB%8,r=0;if(e-- >0){s<this.DB&&(i=this.data[e]>>s)!=(this.s&this.DM)>>s&&(t[r++]=i|this.s<<this.DB-s);while(e>=0)s<8?(i=(this.data[e]&(1<<s)-1)<<8-s,i|=this.data[--e]>>(s+=this.DB-8)):(i=this.data[e]>>(s-=8)&255,s<=0&&(s+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==r&&(128&this.s)!=(128&i)&&++r,(r>0||i!=this.s)&&(t[r++]=i)}return t}function ue(e){return 0==this.compareTo(e)}function le(e){return this.compareTo(e)<0?this:e}function fe(e){return this.compareTo(e)>0?this:e}function pe(e,t,i){var s,r,a=Math.min(e.t,this.t);for(s=0;s<a;++s)i.data[s]=t(this.data[s],e.data[s]);if(e.t<this.t){for(r=e.s&this.DM,s=a;s<this.t;++s)i.data[s]=t(this.data[s],r);i.t=this.t}else{for(r=this.s&this.DM,s=a;s<e.t;++s)i.data[s]=t(r,e.data[s]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function me(e,t){return e&t}function ge(e){var t=c();return this.bitwiseTo(e,me,t),t}function ye(e,t){return e|t}function ve(e){var t=c();return this.bitwiseTo(e,ye,t),t}function be(e,t){return e^t}function we(e){var t=c();return this.bitwiseTo(e,be,t),t}function ke(e,t){return e&~t}function Se(e){var t=c();return this.bitwiseTo(e,ke,t),t}function _e(){for(var e=c(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function Oe(e){var t=c();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Te(e){var t=c();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Ce(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function xe(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+Ce(this.data[e]);return this.s<0?this.t*this.DB:-1}function Ie(e){var t=0;while(0!=e)e&=e-1,++t;return t}function Ee(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=Ie(this.data[i]^t);return e}function Ae(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)}function Ne(e,t){var i=o.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i}function Me(e){return this.changeBit(e,ye)}function Pe(e){return this.changeBit(e,ke)}function Be(e){return this.changeBit(e,be)}function Re(e,t){var i=0,s=0,r=Math.min(e.t,this.t);while(i<r)s+=this.data[i]+e.data[i],t.data[i++]=s&this.DM,s>>=this.DB;if(e.t<this.t){s+=e.s;while(i<this.t)s+=this.data[i],t.data[i++]=s&this.DM,s>>=this.DB;s+=this.s}else{s+=this.s;while(i<e.t)s+=e.data[i],t.data[i++]=s&this.DM,s>>=this.DB;s+=e.s}t.s=s<0?-1:0,s>0?t.data[i++]=s:s<-1&&(t.data[i++]=this.DV+s),t.t=i,t.clamp()}function Le(e){var t=c();return this.addTo(e,t),t}function Ve(e){var t=c();return this.subTo(e,t),t}function De(e){var t=c();return this.multiplyTo(e,t),t}function qe(e){var t=c();return this.divRemTo(e,t,null),t}function je(e){var t=c();return this.divRemTo(e,null,t),t}function Ge(e){var t=c(),i=c();return this.divRemTo(e,t,i),new Array(t,i)}function Ue(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Fe(e,t){if(0!=e){while(this.t<=t)this.data[this.t++]=0;this.data[t]+=e;while(this.data[t]>=this.DV)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function He(){}function ze(e){return e}function Ke(e,t,i){e.multiplyTo(t,i)}function We(e,t){e.squareTo(t)}function $e(e){return this.exp(e,new He)}function Ye(e,t,i){var s,r=Math.min(this.t+e.t,t);i.s=0,i.t=r;while(r>0)i.data[--r]=0;for(s=i.t-this.t;r<s;++r)i.data[r+this.t]=this.am(0,e.data[r],i,r,0,this.t);for(s=Math.min(e.t,t);r<s;++r)this.am(0,e.data[r],i,r,0,t-r);i.clamp()}function Xe(e,t,i){--t;var s=i.t=this.t+e.t-t;i.s=0;while(--s>=0)i.data[s]=0;for(s=Math.max(t-this.t,0);s<e.t;++s)i.data[this.t+s-t]=this.am(t-s,e.data[s],i,0,0,this.t+s-t);i.clamp(),i.drShiftTo(1,i)}function Ze(e){this.r2=c(),this.q3=c(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Qe(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=c();return e.copyTo(t),this.reduce(t),t}function Je(e){return e}function et(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function tt(e,t){e.squareTo(t),this.reduce(t)}function it(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function st(e,t){var i,s,r=e.bitLength(),a=k(1);if(r<=0)return a;i=r<18?1:r<48?3:r<144?4:r<768?5:6,s=r<8?new q(t):t.isEven()?new Ze(t):new K(t);var n=new Array,o=3,d=i-1,h=(1<<i)-1;if(n[1]=s.convert(this),i>1){var u=c();s.sqrTo(n[1],u);while(o<=h)n[o]=c(),s.mulTo(u,n[o-2],n[o]),o+=2}var l,f,p=e.t-1,m=!0,g=c();r=I(e.data[p])-1;while(p>=0){r>=d?l=e.data[p]>>r-d&h:(l=(e.data[p]&(1<<r+1)-1)<<d-r,p>0&&(l|=e.data[p-1]>>this.DB+r-d)),o=i;while(0==(1&l))l>>=1,--o;if((r-=o)<0&&(r+=this.DB,--p),m)n[l].copyTo(a),m=!1;else{while(o>1)s.sqrTo(a,g),s.sqrTo(g,a),o-=2;o>0?s.sqrTo(a,g):(f=a,a=g,g=f),s.mulTo(g,n[l],a)}while(p>=0&&0==(e.data[p]&1<<r))s.sqrTo(a,g),f=a,a=g,g=f,--r<0&&(r=this.DB-1,--p)}return s.revert(a)}function rt(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var s=t;t=i,i=s}var r=t.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)return t;r<a&&(a=r),a>0&&(t.rShiftTo(a,t),i.rShiftTo(a,i));while(t.signum()>0)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return a>0&&i.lShiftTo(a,i),i}function at(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this.data[0]%e;else for(var s=this.t-1;s>=0;--s)i=(t*i+this.data[s])%e;return i}function nt(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;var i=e.clone(),s=this.clone(),r=k(1),a=k(0),n=k(0),c=k(1);while(0!=i.signum()){while(i.isEven())i.rShiftTo(1,i),t?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(e,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);while(s.isEven())s.rShiftTo(1,s),t?(n.isEven()&&c.isEven()||(n.addTo(this,n),c.subTo(e,c)),n.rShiftTo(1,n)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);i.compareTo(s)>=0?(i.subTo(s,i),t&&r.subTo(n,r),a.subTo(c,a)):(s.subTo(i,s),t&&n.subTo(r,n),c.subTo(a,c))}return 0!=s.compareTo(o.ONE)?o.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c}q.prototype.convert=j,q.prototype.revert=G,q.prototype.reduce=U,q.prototype.mulTo=F,q.prototype.sqrTo=H,K.prototype.convert=W,K.prototype.revert=$,K.prototype.reduce=Y,K.prototype.mulTo=Z,K.prototype.sqrTo=X,o.prototype.copyTo=b,o.prototype.fromInt=w,o.prototype.fromString=S,o.prototype.clamp=_,o.prototype.dlShiftTo=A,o.prototype.drShiftTo=N,o.prototype.lShiftTo=M,o.prototype.rShiftTo=P,o.prototype.subTo=B,o.prototype.multiplyTo=R,o.prototype.squareTo=L,o.prototype.divRemTo=V,o.prototype.invDigit=z,o.prototype.isEven=Q,o.prototype.exp=J,o.prototype.toString=O,o.prototype.negate=T,o.prototype.abs=C,o.prototype.compareTo=x,o.prototype.bitLength=E,o.prototype.mod=D,o.prototype.modPowInt=ee,o.ZERO=k(0),o.ONE=k(1),He.prototype.convert=ze,He.prototype.revert=ze,He.prototype.mulTo=Ke,He.prototype.sqrTo=We,Ze.prototype.convert=Qe,Ze.prototype.revert=Je,Ze.prototype.reduce=et,Ze.prototype.mulTo=it,Ze.prototype.sqrTo=tt;var ot=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ct=(1<<26)/ot[ot.length-1];function dt(e){var t,i=this.abs();if(1==i.t&&i.data[0]<=ot[ot.length-1]){for(t=0;t<ot.length;++t)if(i.data[0]==ot[t])return!0;return!1}if(i.isEven())return!1;t=1;while(t<ot.length){var s=ot[t],r=t+1;while(r<ot.length&&s<ct)s*=ot[r++];s=i.modInt(s);while(t<r)if(s%ot[t++]==0)return!1}return i.millerRabin(e)}function ht(e){var t=this.subtract(o.ONE),i=t.getLowestSetBit();if(i<=0)return!1;for(var s,r=t.shiftRight(i),a=ut(),n=0;n<e;++n){do{s=new o(this.bitLength(),a)}while(s.compareTo(o.ONE)<=0||s.compareTo(t)>=0);var c=s.modPow(r,this);if(0!=c.compareTo(o.ONE)&&0!=c.compareTo(t)){var d=1;while(d++<i&&0!=c.compareTo(t))if(c=c.modPowInt(2,this),0==c.compareTo(o.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0}function ut(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}o.prototype.chunkSize=ae,o.prototype.toRadix=oe,o.prototype.fromRadix=ce,o.prototype.fromNumber=de,o.prototype.bitwiseTo=pe,o.prototype.changeBit=Ne,o.prototype.addTo=Re,o.prototype.dMultiply=Ue,o.prototype.dAddOffset=Fe,o.prototype.multiplyLowerTo=Ye,o.prototype.multiplyUpperTo=Xe,o.prototype.modInt=at,o.prototype.millerRabin=ht,o.prototype.clone=te,o.prototype.intValue=ie,o.prototype.byteValue=se,o.prototype.shortValue=re,o.prototype.signum=ne,o.prototype.toByteArray=he,o.prototype.equals=ue,o.prototype.min=le,o.prototype.max=fe,o.prototype.and=ge,o.prototype.or=ve,o.prototype.xor=we,o.prototype.andNot=Se,o.prototype.not=_e,o.prototype.shiftLeft=Oe,o.prototype.shiftRight=Te,o.prototype.getLowestSetBit=xe,o.prototype.bitCount=Ee,o.prototype.testBit=Ae,o.prototype.setBit=Me,o.prototype.clearBit=Pe,o.prototype.flipBit=Be,o.prototype.add=Le,o.prototype.subtract=Ve,o.prototype.multiply=De,o.prototype.divide=qe,o.prototype.remainder=je,o.prototype.divideAndRemainder=Ge,o.prototype.modPow=st,o.prototype.modInverse=nt,o.prototype.pow=$e,o.prototype.gcd=rt,o.prototype.isProbablePrime=dt},"4ab0":function(e,t){e.exports.linebrk=function(e,t){var i="",s=0;while(s+t<e.length)i+=e.substring(s,s+t)+"\n",s+=t;return i+e.substring(s,e.length)},e.exports.get32IntFromBuffer=function(e,t){t=t||0;var i=0;if((i=e.length-t)>0){if(i>=4)return e.readUInt32BE(t);for(var s=0,r=t+i,a=0;r>t;r--,a+=2)s+=e[r-1]*Math.pow(16,a);return s}return NaN},e.exports._={isObject:function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)},omit:function(e,t){var i={};for(var s in e)e.hasOwnProperty(s)&&s!==t&&(i[s]=e[s]);return i}},e.exports.trimSurroundingText=function(e,t,i){var s=0,r=e.length,a=e.indexOf(t);a>=0&&(s=a+t.length);var n=e.indexOf(i,a);return n>=0&&(r=n),e.substring(s,r)}},"4ad4":function(e,t,i){"use strict";var s=i("53ca"),r=(i("caad"),i("b64b"),i("b0c0"),i("16b7")),a=i("f2e7"),n=i("58df"),o=i("80d2"),c=i("d9bd"),d=Object(n["a"])(r["a"],a["a"]);t["a"]=d.extend({name:"activatable",props:{activator:{default:null,validator:function(e){return["string","object"].includes(Object(s["a"])(e))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:function(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}},watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted:function(){var e=Object(o["s"])(this,"activator",!0);e&&["v-slot","normal"].includes(e)&&Object(c["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function(){this.removeActivatorEvents()},methods:{addActivatorEvents:function(){if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();for(var e=Object.keys(this.listeners),t=0,i=e;t<i.length;t++){var s=i[t];this.getActivator().addEventListener(s,this.listeners[s])}}},genActivator:function(){var e=Object(o["r"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=e,e},genActivatorAttributes:function(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners:function(){var e=this;if(this.disabled)return{};var t={};return this.openOnHover?(t.mouseenter=function(t){e.getActivator(t),e.runDelay("open")},t.mouseleave=function(t){e.getActivator(t),e.runDelay("close")}):t.click=function(t){var i=e.getActivator(t);i&&i.focus(),t.stopPropagation(),e.isActive=!e.isActive},this.openOnFocus&&(t.focus=function(t){e.getActivator(t),t.stopPropagation(),e.isActive=!e.isActive}),t},getActivator:function(e){var t;if(this.activatorElement)return this.activatorElement;var i=null;if(this.activator){var s=this.internalActivator?this.$el:document;i="string"===typeof this.activator?s.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!e){var r=this.activatorNode[0].componentInstance;i=r&&r.$options.mixins&&r.$options.mixins.some((function(e){return e.options&&["activatable","menuable"].includes(e.options.name)}))?r.getActivator():this.activatorNode[0].elm}else e&&(i=e.currentTarget||e.target);return this.activatorElement=(null==(t=i)?void 0:t.nodeType)===Node.ELEMENT_NODE?i:null,this.activatorElement},getContentSlot:function(){return Object(o["r"])(this,"default",this.getValueProxy(),!0)},getValueProxy:function(){var e=this;return{get value(){return e.isActive},set value(t){e.isActive=t}}},removeActivatorEvents:function(){if(this.activator&&this.activatorElement){for(var e=Object.keys(this.listeners),t=0,i=e;t<i.length;t++){var s=i[t];this.activatorElement.removeEventListener(s,this.listeners[s])}this.listeners={}}},resetActivator:function(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},"4ae1":function(e,t,i){var s=i("23e7"),r=i("d066"),a=i("1c0b"),n=i("825a"),o=i("861d"),c=i("7c73"),d=i("0538"),h=i("d039"),u=r("Reflect","construct"),l=h((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),f=!h((function(){u((function(){}))})),p=l||f;s({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),n(t);var i=arguments.length<3?e:a(arguments[2]);if(f&&!l)return u(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var s=[null];return s.push.apply(s,t),new(d.apply(e,s))}var r=i.prototype,h=c(o(r)?r:Object.prototype),p=Function.apply.call(e,h,t);return o(p)?p:h}})},"4b85":function(e,t,i){},"4c61":function(e,t,i){var s=i("5a7c"),r=i("563e"),a=i("ac9b"),n=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=a.init,e.prototype["@@transducer/result"]=a.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var i=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?r(i):i},e}(),o=s((function(e,t){return new n(e,t)}));e.exports=o},"4d63":function(e,t,i){var s=i("83ab"),r=i("da84"),a=i("94ca"),n=i("7156"),o=i("9112"),c=i("9bf2").f,d=i("241c").f,h=i("44e7"),u=i("ad6d"),l=i("9f7f"),f=i("6eeb"),p=i("d039"),m=i("5135"),g=i("69f3").enforce,y=i("2626"),v=i("b622"),b=i("fce3"),w=i("107c"),k=v("match"),S=r.RegExp,_=S.prototype,O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,C=/a/g,x=new S(T)!==T,I=l.UNSUPPORTED_Y,E=s&&(!x||I||b||w||p((function(){return C[k]=!1,S(T)!=T||S(C)==C||"/a/i"!=S(T,"i")}))),A=function(e){for(var t,i=e.length,s=0,r="",a=!1;s<=i;s++)t=e.charAt(s),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),r+=t):r+="[\\s\\S]":r+=t+e.charAt(++s);return r},N=function(e){for(var t,i=e.length,s=0,r="",a=[],n={},o=!1,c=!1,d=0,h="";s<=i;s++){if(t=e.charAt(s),"\\"===t)t+=e.charAt(++s);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:O.test(e.slice(s+1))&&(s+=2,c=!0),r+=t,d++;continue;case">"===t&&c:if(""===h||m(n,h))throw new SyntaxError("Invalid capture group name");n[h]=!0,a.push([h,d]),c=!1,h="";continue}c?h+=t:r+=t}return[r,a]};if(a("RegExp",E)){for(var M=function(e,t){var i,s,r,a,c,d,l=this instanceof M,f=h(e),p=void 0===t,m=[],y=e;if(!l&&f&&p&&e.constructor===M)return e;if((f||e instanceof M)&&(e=e.source,p&&(t="flags"in y?y.flags:u.call(y))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),y=e,b&&"dotAll"in T&&(s=!!t&&t.indexOf("s")>-1,s&&(t=t.replace(/s/g,""))),i=t,I&&"sticky"in T&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,""))),w&&(a=N(e),e=a[0],m=a[1]),c=n(S(e,t),l?this:_,M),(s||r||m.length)&&(d=g(c),s&&(d.dotAll=!0,d.raw=M(A(e),i)),r&&(d.sticky=!0),m.length&&(d.groups=m)),e!==y)try{o(c,"source",""===y?"(?:)":y)}catch(v){}return c},P=function(e){e in M||c(M,e,{configurable:!0,get:function(){return S[e]},set:function(t){S[e]=t}})},B=d(S),R=0;B.length>R;)P(B[R++]);_.constructor=M,M.prototype=_,f(r,"RegExp",M)}y("RegExp")},"4d64":function(e,t,i){var s=i("fc6a"),r=i("50c4"),a=i("23cb"),n=function(e){return function(t,i,n){var o,c=s(t),d=r(c.length),h=a(n,d);if(e&&i!=i){while(d>h)if(o=c[h++],o!=o)return!0}else for(;d>h;h++)if((e||h in c)&&c[h]===i)return e||h||0;return!e&&-1}};e.exports={includes:n(!0),indexOf:n(!1)}},"4dc6":function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"4de4":function(e,t,i){"use strict";var s=i("23e7"),r=i("b727").filter,a=i("1dde"),n=a("filter");s({target:"Array",proto:!0,forced:!n},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,i){"use strict";var s=i("0366"),r=i("7b0b"),a=i("9bdd"),n=i("e95a"),o=i("50c4"),c=i("8418"),d=i("35a1");e.exports=function(e){var t,i,h,u,l,f,p=r(e),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,b=d(p),w=0;if(v&&(y=s(y,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&n(b))for(t=o(p.length),i=new m(t);t>w;w++)f=v?y(p[w],w):p[w],c(i,w,f);else for(u=b.call(p),l=u.next,i=new m;!(h=l.call(u)).done;w++)f=v?a(u,y,[h.value,w],!0):h.value,c(i,w,f);return i.length=w,i}},"4e30":function(e,t,i){(function(t){var s=i("5259");i("6497");var r=null;!s.util.isNodejs||s.options.usePureJavaScript||t.versions["node-webkit"]||(r=i(0));var a=e.exports=s.prng=s.prng||{};a.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},i=e.md,a=new Array(32),n=0;n<32;++n)a[n]=i.create();function o(e){if(t.pools[0].messageLength>=32)return d(),e();var i=32-t.pools[0].messageLength<<5;t.seedFile(i,(function(i,s){if(i)return e(i);t.collect(s),d(),e()}))}function c(){if(t.pools[0].messageLength>=32)return d();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),d()}function d(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var i=1,s=0;s<32;++s)t.reseeds%i===0&&(e.update(t.pools[s].digest().getBytes()),t.pools[s].start()),i<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var r=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(r),t.generated=0}function h(e){var t=null,i=s.util.globalScope,r=i.crypto||i.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)});var a=s.util.createBuffer();if(t)while(a.length()<e){var n=Math.max(1,Math.min(e-a.length(),65536)/4),o=new Uint32Array(Math.floor(n));try{t(o);for(var c=0;c<o.length;++c)a.putInt32(o[c])}catch(f){if(!("undefined"!==typeof QuotaExceededError&&f instanceof QuotaExceededError))throw f}}if(a.length()<e){var d,h,u,l=Math.floor(65536*Math.random());while(a.length()<e){h=16807*(65535&l),d=16807*(l>>16),h+=(32767&d)<<16,h+=d>>15,h=(2147483647&h)+(h>>31),l=4294967295&h;for(c=0;c<3;++c)u=l>>>(c<<3),u^=Math.floor(256*Math.random()),a.putByte(String.fromCharCode(255&u))}}return a.getBytes(e)}return t.pools=a,t.pool=0,t.generate=function(e,i){if(!i)return t.generateSync(e);var r=t.plugin.cipher,a=t.plugin.increment,n=t.plugin.formatKey,c=t.plugin.formatSeed,d=s.util.createBuffer();function h(u){if(u)return i(u);if(d.length()>=e)return i(null,d.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return s.util.nextTick((function(){o(h)}));var l=r(t.key,t.seed);t.generated+=l.length,d.putBytes(l),t.key=n(r(t.key,a(t.seed))),t.seed=c(r(t.key,t.seed)),s.util.setImmediate(h)}t.key=null,h()},t.generateSync=function(e){var i=t.plugin.cipher,r=t.plugin.increment,a=t.plugin.formatKey,n=t.plugin.formatSeed;t.key=null;var o=s.util.createBuffer();while(o.length()<e){t.generated>1048575&&(t.key=null),null===t.key&&c();var d=i(t.key,t.seed);t.generated+=d.length,o.putBytes(d),t.key=a(i(t.key,r(t.seed))),t.seed=n(i(t.key,t.seed))}return o.getBytes(e)},r?(t.seedFile=function(e,t){r.randomBytes(e,(function(e,i){if(e)return t(e);t(null,i.toString())}))},t.seedFileSync=function(e){return r.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,h(e))}catch(i){t(i)}},t.seedFileSync=h),t.collect=function(e){for(var i=e.length,s=0;s<i;++s)t.pools[t.pool].update(e.substr(s,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,i){for(var s="",r=0;r<i;r+=8)s+=String.fromCharCode(e>>r&255);t.collect(s)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){function i(e){var s=e.data;s.forge&&s.forge.prng&&(self.removeEventListener("message",i),t(s.forge.prng.err,s.forge.prng.bytes))}self.addEventListener("message",i),self.postMessage({forge:{prng:{needed:e}}})};else{var i=function(i){var s=i.data;s.forge&&s.forge.prng&&t.seedFile(s.forge.prng.needed,(function(t,i){e.postMessage({forge:{prng:{err:t,bytes:i}}})}))};e.addEventListener("message",i)}},t}}).call(this,i("4362"))},"4e82":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("ade3"),r=i("3206");function a(e,t,i){return Object(r["a"])(e,t,i).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[e])return this[e].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){return this.activeClass?Object(s["a"])({},this.activeClass,this.isActive):{}}},created:function(){this[e]&&this[e].register(this)},beforeDestroy:function(){this[e]&&this[e].unregister(this)},methods:{toggle:function(){this.$emit("change")}}})}a("itemGroup")},"4e827":function(e,t,i){"use strict";var s=i("23e7"),r=i("1c0b"),a=i("7b0b"),n=i("50c4"),o=i("d039"),c=i("addb"),d=i("a640"),h=i("04d1"),u=i("d998"),l=i("2d00"),f=i("512c"),p=[],m=p.sort,g=o((function(){p.sort(void 0)})),y=o((function(){p.sort(null)})),v=d("sort"),b=!o((function(){if(l)return l<70;if(!(h&&h>3)){if(u)return!0;if(f)return f<603;var e,t,i,s,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(s=0;s<47;s++)p.push({k:t+s,v:i})}for(p.sort((function(e,t){return t.v-e.v})),s=0;s<p.length;s++)t=p[s].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),w=g||!y||!v||!b,k=function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:String(t)>String(i)?1:-1}};s({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&r(e);var t=a(this);if(b)return void 0===e?m.call(t):m.call(t,e);var i,s,o=[],d=n(t.length);for(s=0;s<d;s++)s in t&&o.push(t[s]);o=c(o,k(e)),i=o.length,s=0;while(s<i)t[s]=o[s++];while(s<d)delete t[s++];return t}})},"4ec9":function(e,t,i){"use strict";var s=i("6d61"),r=i("6566");e.exports=s("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"4fed":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ExchangeNotAvailable:a,AuthenticationError:n,BadRequest:o,PermissionDenied:c,InvalidAddress:d,ArgumentsRequired:h,InvalidOrder:u}=i("74b0"),{DECIMAL_PLACES:l,SIGNIFICANT_DIGITS:f,TRUNCATE:p}=i("5ea4"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bithumb",name:"Bithumb",countries:["KR"],rateLimit:500,has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},hostname:"bithumb.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.{hostname}/public",private:"https://api.{hostname}"},www:"https://www.bithumb.com",doc:"https://apidocs.bithumb.com",fees:"https://en.bithumb.com/customer_support/info_fee"},api:{public:{get:["ticker/{currency}","ticker/all","ticker/ALL_BTC","ticker/ALL_KRW","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all","candlestick/{currency}/{interval}"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","info/order_detail","trade/place","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0025,taker:.0025}},precisionMode:f,exceptions:{"Bad Request(SSL)":o,"Bad Request(Bad Method)":o,"Bad Request.(Auth Data)":n,"Not Member":n,"Invalid Apikey":n,"Method Not Allowed.(Access IP)":c,"Method Not Allowed.(BTC Adress)":d,"Method Not Allowed.(Access)":c,"Database Fail":a,"Invalid Parameter":o,5600:r,"Unknown Error":r,"After May 23th, recent_transactions is no longer, hence users will not be able to connect to recent_transactions":r},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"24h"},options:{quoteCurrencies:{BTC:{limits:{cost:{min:2e-4,max:100}}},KRW:{limits:{cost:{min:500,max:5e9}}}}},commonCurrencies:{SOC:"Soda Coin"}})}amountToPrecision(e,t){return this.decimalToPrecision(t,p,this.markets[e]["precision"]["amount"],l)}async fetchMarkets(e={}){const t=[],i=this.safeValue(this.options,"quoteCurrencies",{}),s=Object.keys(i);for(let r=0;r<s.length;r++){const a=s[r],n=this.safeValue(i,a,{}),o="publicGetTickerALL"+a,c=await this[o](e),d=this.safeValue(c,"data"),h=Object.keys(d);for(let e=0;e<h.length;e++){const i=h[e];if("date"===i)continue;const s=d[i],r=this.safeCurrencyCode(i),o=i+"/"+a;let c=!0;if(Array.isArray(s)){const e=s.length;0===e&&(c=!1)}const u=this.deepExtend({id:i,symbol:o,base:r,quote:a,info:s,active:c,precision:{amount:4,price:4},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{}},baseId:void 0,quoteId:void 0},n);t.push(u)}}return t}async fetchBalance(e={}){await this.loadMarkets();const t={currency:"ALL"},i=await this.privatePostInfoBalance(this.extend(t,e)),s={info:i},r=this.safeValue(i,"data"),a=Object.keys(this.currencies);for(let n=0;n<a.length;n++){const e=a[n],t=this.account(),i=this.currency(e),o=this.safeStringLower(i,"id");t["total"]=this.safeString(r,"total_"+o),t["used"]=this.safeString(r,"in_use_"+o),t["free"]=this.safeString(r,"available_"+o),s[e]=t}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={currency:s["base"]+"_"+s["quote"]};void 0!==t&&(r["count"]=t);const a=await this.publicGetOrderbookCurrency(this.extend(r,i)),n=this.safeValue(a,"data",{}),o=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,e,o,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeInteger(e,"date");let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"opening_price"),a=this.safeNumber(e,"closing_price");let n=void 0,o=void 0,c=void 0;void 0!==a&&void 0!==r&&(n=a-r,r>0&&(o=n/r*100),c=this.sum(r,a)/2);const d=this.safeNumber(e,"units_traded_24H"),h=this.safeNumber(e,"acc_trade_value_24H"),u=this.vwap(d,h);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"max_price"),low:this.safeNumber(e,"min_price"),bid:this.safeNumber(e,"buy_price"),bidVolume:void 0,ask:this.safeNumber(e,"sell_price"),askVolume:void 0,vwap:u,open:r,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:c,baseVolume:d,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickerAll(t),s={},r=this.safeValue(i,"data",{}),a=this.safeInteger(r,"date"),n=this.omit(r,"date"),o=Object.keys(n);for(let c=0;c<o.length;c++){const e=o[c];let t=e,i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e],t=i["symbol"]);const r=n[e],d=Array.isArray(r);d||(r["date"]=a,s[t]=this.parseTicker(r,i))}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={currency:i["base"]},r=await this.publicGetTickerCurrency(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={currency:a["base"],interval:this.timeframes[t]},o=await this.publicGetCandlestickCurrencyInterval(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}parseTrade(e,t){let i=void 0;const s=this.safeString(e,"transaction_date");if(void 0!==s){const t=s.split(" "),r=t.length;if(r>1){const e=t[0];let s=t[1];s.length<8&&(s="0"+s),i=this.parse8601(e+" "+s)}else i=this.safeIntegerProduct(e,"transaction_date",.001)}void 0!==i&&(i-=324e5);const r=void 0;let a=this.safeString(e,"type");a="ask"===a?"sell":"buy";const n=this.safeString(e,"cont_no");let o=void 0;void 0!==t&&(o=t["symbol"]);const c=this.safeString(e,"price"),d=this.safeString2(e,"units_traded","units"),h=this.parseNumber(c),u=this.parseNumber(d);let l=this.safeNumber(e,"total");void 0===l&&(l=this.parseNumber(m.stringMul(c,d)));let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"fee_currency"),i=this.commonCurrencyCode(t);f={cost:p,currency:i}}return{id:n,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,order:void 0,type:r,side:a,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:f}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currency:r["base"]};void 0===i&&(a["count"]=i);const n=await this.publicGetTransactionHistoryCurrency(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={order_currency:n["id"],payment_currency:n["quote"],units:s};let c="privatePostTradePlace";"limit"===t?(o["price"]=r,o["type"]="buy"===i?"bid":"ask"):c="privatePostTradeMarket"+this.capitalize(i);const d=await this[c](this.extend(o,a)),h=this.safeString(d,"order_id");if(void 0===h)throw new u(this.id+" createOrder() did not return an order id");return{info:d,symbol:e,type:t,side:i,id:h}}async fetchOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={order_id:e,count:1,order_currency:s["base"],payment_currency:s["quote"]},a=await this.privatePostInfoOrderDetail(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(this.extend(n,{order_id:e}),s)}parseOrderStatus(e){const t={Pending:"open",Completed:"closed",Cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeIntegerProduct(e,"order_date",.001),s=this.safeValue2(e,"type","side"),r="bid"===s?"buy":"sell",a=this.parseOrderStatus(this.safeString(e,"order_status"));let n=this.safeNumber2(e,"order_price","price"),o="limit";0===n&&(n=void 0,o="market");const c=this.safeNumber2(e,"order_qty","units");let d=this.safeNumber(e,"units_remaining");void 0===d&&("closed"===a?d=0:"canceled"!==a&&(d=c));let h=void 0;const u=this.safeString(e,"order_currency"),l=this.safeString(e,"payment_currency"),f=this.safeCurrencyCode(u),p=this.safeCurrencyCode(l);void 0!==f&&void 0!==p&&(h=f+"/"+p),void 0===h&&void 0!==t&&(h=t["symbol"]);const m=this.safeString(e,"order_id"),g=this.safeValue(e,"contract",[]),y=this.parseTrades(g,t,void 0,void 0,{side:r,symbol:h,order:m});return this.safeOrder({info:e,id:m,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:h,type:o,timeInForce:void 0,postOnly:void 0,side:r,price:n,stopPrice:void 0,amount:c,cost:void 0,average:void 0,filled:void 0,remaining:d,status:a,fee:void 0,trades:y})}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new h(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e);void 0===i&&(i=100);const a={count:i,order_currency:r["base"],payment_currency:r["quote"]};void 0!==t&&(a["after"]=t);const n=await this.privatePostInfoOrders(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,r,t,i)}async cancelOrder(e,t,i={}){const s="side"in i;if(!s)throw new h(this.id+" cancelOrder() requires a `side` parameter (sell or buy)");if(void 0===t)throw new h(this.id+" cancelOrder() requires a `symbol` argument");const r=this.market(t),a="buy"===i["side"]?"bid":"ask";i=this.omit(i,["side","currency"]);const n={order_id:e,type:a,order_currency:r["base"],payment_currency:r["quote"]};return await this.privatePostTradeCancel(this.extend(n,i))}cancelUnifiedOrder(e,t={}){const i={side:e["side"]};return this.cancelOrder(e["id"],e["symbol"],this.extend(i,t))}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={units:t,address:i,currency:a["id"]};if("XRP"===a||"XMR"===a||"EOS"===a||"STEEM"===a){const t=this.safeString(r,"destination");if(void 0===s&&void 0===t)throw new h(this.id+" "+e+" withdraw() requires a tag argument or an extra destination param");void 0!==s&&(n["destination"]=s)}const o=await this.privatePostTradeBtcWithdrawal(this.extend(n,r));return{info:o,id:void 0}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){const n="/"+this.implodeParams(e,s);let o=this.implodeHostname(this.urls["api"][t])+n;const c=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),a=this.urlencode(this.extend({endpoint:n},c));const e=this.nonce().toString(),t=n+"\0"+a+"\0"+e,i=this.hmac(this.encode(t),this.encode(this.secret),"sha512"),s=this.decode(this.stringToBase64(i));r={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":s,"Api-Nonce":e}}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"status"in o){const e=this.safeString(o,"status"),t=this.safeString(o,"message");if(void 0!==e){if("0000"===e)return;if("    "===t)return;const i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new r(i)}}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("status"in o){if("0000"===o["status"]||"    "===o["message"])return o;throw new r(this.id+" "+this.json(o))}return o}}},"4ff9":function(e,t,i){},"50c4":function(e,t,i){var s=i("a691"),r=Math.min;e.exports=function(e){return e>0?r(s(e),9007199254740991):0}},"512c":function(e,t,i){var s=i("342f"),r=s.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},5135:function(e,t,i){var s=i("7b0b"),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(s(e),t)}},"51d3":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AccountSuspended:a,ArgumentsRequired:n,AuthenticationError:o,DDoSProtection:c,ExchangeNotAvailable:d,InvalidOrder:h,OrderNotFound:u,PermissionDenied:l,InsufficientFunds:f,BadSymbol:p,RateLimitExceeded:m,BadRequest:g}=i("74b0"),y=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",hostname:"bibox365.com",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,publicAPI:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77257418-3262b000-6c85-11ea-8fb8-20bdf20b3592.jpg",api:"https://api.{hostname}",www:"https://www.bibox365.com",doc:["https://biboxcom.github.io/en/"],fees:"https://bibox.zendesk.com/hc/en-us/articles/360002336133",referral:"https://w2.bibox365.com/login/register?invite_code=05Kj3I"},api:{public:{post:["mdata"],get:["cquery","mdata","cdata"]},private:{post:["cquery","ctrade","user","orderpending","transfer"]},v2private:{post:["assets/transfer/spot"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:8e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2011:a,2015:o,2021:f,2027:f,2033:u,2065:h,2066:h,2067:h,2068:h,2078:h,2085:h,2091:m,2092:h,3e3:g,3002:g,3012:o,3016:p,3024:l,3025:o,4e3:d,4003:c},commonCurrencies:{"APENFT(NFT)":"NFT",BOX:"DefiBox",BPT:"BlockPool Token",GTC:"Game.com",KEY:"Bihu",MTC:"MTC Mesh Network",NFT:"NFT Protocol",PAI:"PCHAIN",TERN:"Ternio-ERC20"},options:{fetchCurrencies:"fetch_currencies_public"}})}async fetchMarkets(e={}){const t={cmd:"pairList"},i=await this.publicGetMdata(this.extend(t,e)),s=this.safeValue(i,"result"),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeInteger(e,"id"),i=this.safeString(e,"pair");let n=void 0,o=void 0;if(void 0!==i){const e=i.split("_");n=this.safeString(e,0),o=this.safeString(e,1)}const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeNumber(e,"amount_scale"),price:this.safeNumber(e,"decimal")};r.push({id:i,numericId:t,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,info:e,precision:u,limits:{amount:{min:Math.pow(10,-u["amount"]),max:void 0},price:{min:Math.pow(10,-u["price"]),max:void 0}}})}return r}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let s=void 0;if(void 0!==t)s=t["symbol"];else{const t=this.safeString(e,"coin_symbol"),i=this.safeString(e,"currency_symbol"),r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(i);s=r+"/"+a}const r=this.safeNumber(e,"last"),a=this.safeNumber(e,"change"),n=this.safeNumber2(e,"vol","vol24H");let o=void 0;void 0!==r&&void 0!==a&&(o=r-a);let c=this.safeString(e,"percent");return void 0!==c&&(c=c.replace("%",""),c=parseFloat(c)),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:o,close:r,last:r,previousClose:void 0,change:a,percentage:c,average:void 0,baseVolume:n,quoteVolume:this.safeNumber(e,"amount"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={cmd:"ticker",pair:i["id"]},r=await this.publicGetMdata(this.extend(s,t));return this.parseTicker(r["result"],i)}async fetchTickers(e,t={}){const i={cmd:"marketAll"},s=await this.publicGetMdata(this.extend(i,t)),r=this.parseTickers(s["result"],e),a=this.indexBy(r,"symbol");return this.filterByArray(a,"symbol",e)}parseTrade(e,t){const i=this.safeInteger2(e,"time","createdAt");let s=this.safeInteger2(e,"side","order_side");s=1===s?"buy":"sell";let r=void 0;if(void 0===t){let i=this.safeString(e,"pair");if(void 0===i){const t=this.safeString(e,"coin_symbol"),s=this.safeString(e,"currency_symbol");void 0!==t&&void 0!==s&&(i=t+"_"+s)}i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(r=t["symbol"]);let a=void 0;const n=this.safeNumber(e,"fee");let o=this.safeString(e,"fee_symbol");void 0!==o&&(o=o in this.currencies_by_id?this.currencies_by_id[o]["code"]:this.safeCurrencyCode(o));const c=void 0,d=this.safeString(e,"price"),h=this.safeString(e,"amount"),u=this.parseNumber(d),l=this.parseNumber(h),f=this.parseNumber(y.stringMul(d,h));void 0!==n&&(a={cost:-n,currency:o,rate:c});const p=this.safeString(e,"id");return{info:e,id:p,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:"limit",takerOrMaker:void 0,side:s,price:u,amount:l,cost:f,fee:a}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={cmd:"deals",pair:r["id"]};void 0!==i&&(a["size"]=i);const n=await this.publicGetMdata(this.extend(a,s));return this.parseTrades(n["result"],r,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={cmd:"depth",pair:s["id"]};void 0!==t&&(r["size"]=t);const a=await this.publicGetMdata(this.extend(r,i));return this.parseOrderBook(a["result"],e,this.safeNumber(a["result"],"update_time"),"bids","asks","price","volume")}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"vol")]}async fetchOHLCV(e,t="1m",i,s=1e3,r={}){await this.loadMarkets();const a=this.market(e),n={cmd:"kline",pair:a["id"],period:this.timeframes[t],size:s},o=await this.publicGetMdata(this.extend(n,r)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchCurrencies(e={}){const t=this.safeString(this.options,"fetchCurrencies","fetch_currencies_public");return await this[t](e)}async fetchCurrenciesPublic(e={}){const t={cmd:"currencies"},i=await this.publicGetCdata(this.extend(t,e)),s=this.safeValue(i,"result"),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"symbol"),i=this.safeString(e,"name"),n=this.safeCurrencyCode(t),o=this.safeInteger(e,"valid_decimals"),c=this.safeValue(e,"enable_deposit"),d=this.safeValue(e,"enable_withdraw"),h=c&&d;r[n]={id:t,code:n,info:e,name:i,active:h,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:void 0},withdraw:{min:this.safeNumber(e,"withdraw_min"),max:void 0}}}}return r}async fetchCurrenciesPrivate(e={}){if(!this.apiKey||!this.secret)throw new o(this.id+" fetchCurrencies is an authenticated endpoint, therefore it requires 'apiKey' and 'secret' credentials. If you don't need currency details, set exchange.has['fetchCurrencies'] = false before calling its methods.");const t={cmd:"transfer/coinList",body:{}},i=await this.privatePostTransfer(this.extend(t,e)),s=this.safeValue(i,"result"),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"symbol"),i=e["name"],n=this.safeCurrencyCode(t),o=8,c=this.safeValue(e,"enable_deposit"),d=this.safeValue(e,"enable_withdraw"),h=c&&d;r[n]={id:t,code:n,info:e,name:i,active:h,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","assets");e=this.omit(e,"type");const i={cmd:"transfer/"+t,body:this.extend({select:1},e)},s=await this.privatePostTransfer(i),r=this.safeValue(s,"result"),a={info:r};let n=void 0;n="assets_list"in r?this.indexBy(r["assets_list"],"coin_symbol"):r;const o=Object.keys(n);for(let c=0;c<o.length;c++){const e=o[c];let t=e.toUpperCase();t.indexOf("TOTAL_")>=0&&(t=t.slice(6)),t in this.currencies_by_id&&(t=this.currencies_by_id[t]["code"]);const i=this.account(),s=n[e];"string"===typeof s?(i["free"]=s,i["total"]=s):(i["free"]=this.safeString(s,"balance"),i["used"]=this.safeString(s,"freeze")),a[t]=i}return this.parseBalance(a,!1)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={page:1};void 0!==e&&(r=this.currency(e),a["symbol"]=r["id"]),a["size"]=void 0!==i?i:100;const n=await this.privatePostTransfer({cmd:"transfer/transferInList",body:this.extend(a,s)}),o=this.safeValue(n["result"],"items",[]);for(let c=0;c<o.length;c++)o[c]["type"]="deposit";return this.parseTransactions(o,r,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={page:1};void 0!==e&&(r=this.currency(e),a["symbol"]=r["id"]),a["size"]=void 0!==i?i:100;const n=await this.privatePostTransfer({cmd:"transfer/transferOutList",body:this.extend(a,s)}),o=this.safeValue(n["result"],"items",[]);for(let c=0;c<o.length;c++)o[c]["type"]="withdrawal";return this.parseTransactions(o,r,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"to_address"),r=this.safeString(e,"coin_symbol"),a=this.safeCurrencyCode(r,t),n=this.safeString(e,"createdAt");let o=this.safeString(e,"addr_remark");const c=this.safeString(e,"type"),d=this.parseTransactionStatusByType(this.safeString(e,"status"),c),h=this.safeNumber(e,"amount");let u=this.safeNumber(e,"fee");"deposit"===c&&(u=0,o=void 0);const l={cost:u,currency:a};return{info:e,id:i,txid:void 0,timestamp:n,datetime:this.iso8601(n),address:s,tag:o,type:c,amount:h,currency:a,status:d,updated:void 0,fee:l}}parseTransactionStatusByType(e,t){const i={deposit:{1:"pending",2:"ok"},withdrawal:{0:"pending",3:"ok"}};return this.safeString(this.safeValue(i,t,{}),e,e)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o="limit"===t?2:1,c="buy"===i?1:2,d={cmd:"orderpending/trade",body:this.extend({pair:n["id"],account_type:0,order_type:o,order_side:c,pay_bix:0,amount:s,price:r},a)},h=await this.privatePostOrderpending(d);return{info:h,id:this.safeString(h,"result")}}async cancelOrder(e,t,i={}){const s={cmd:"orderpending/cancelTrade",body:this.extend({orders_id:e},i)},r=await this.privatePostOrderpending(s);return r}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={cmd:"orderpending/order",body:this.extend({id:e.toString(),account_type:0},i)},r=await this.privatePostOrderpending(s),a=this.safeValue(r,"result");if(this.isEmpty(a))throw new u(this.id+" order "+e+" not found");return this.parseOrder(a)}parseOrder(e,t){let i=void 0;if(void 0===t){let i=void 0;const s=this.safeString(e,"coin_symbol"),r=this.safeString(e,"currency_symbol");void 0!==s&&void 0!==r&&(i=s+"_"+r),i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(i=t["symbol"]);const s=this.safeString(e,"order_type"),r="1"===s?"market":"limit",a=this.safeInteger(e,"createdAt"),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"deal_price"),c=this.safeNumber(e,"deal_amount"),d=this.safeNumber(e,"amount"),h=this.safeNumber2(e,"deal_money","money"),u=this.safeString(e,"order_side"),l="1"===u?"buy":"sell",f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"id"),m=this.safeNumber(e,"fee");let g=void 0;return void 0!==m&&(g={cost:m,currency:void 0}),this.safeOrder({info:e,id:p,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:i,type:r,timeInForce:void 0,postOnly:void 0,side:l,price:n,stopPrice:void 0,amount:d,cost:h,average:o,filled:c,remaining:void 0,status:f,fee:g,trades:void 0})}parseOrderStatus(e){const t={1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"};return this.safeString(t,e,e)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0,a=void 0;void 0!==e&&(r=this.market(e),a=r["id"]);const n=i||200,o={cmd:"orderpending/orderPendingList",body:this.extend({pair:a,account_type:0,page:1,size:n},s)},c=await this.privatePostOrderpending(o),d=this.safeValue(c["result"],"items",[]);return this.parseOrders(d,r,t,i)}async fetchClosedOrders(e,t,i=200,s={}){if(void 0===e)throw new n(this.id+" fetchClosedOrders() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),a={cmd:"orderpending/pendingHistoryList",body:this.extend({pair:r["id"],account_type:0,page:1,size:i},s)},o=await this.privatePostOrderpending(a),c=this.safeValue(o["result"],"items",[]);return this.parseOrders(c,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),a=i||200,o={cmd:"orderpending/orderHistoryList",body:this.extend({pair:r["id"],account_type:0,page:1,size:a,coin_symbol:r["baseId"],currency_symbol:r["quoteId"]},s)},c=await this.privatePostOrderpending(o),d=this.safeValue(c["result"],"items",[]);return this.parseTrades(d,r,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={cmd:"transfer/transferIn",body:this.extend({coin_symbol:i["id"]},t)},r=await this.privatePostTransfer(s),a=this.safeString(r,"result");let n=a,o=void 0;if(this.isJsonEncodedObject(a)){const e=JSON.parse(a);n=this.safeString(e,"account"),o=this.safeString(e,"memo")}return{currency:e,address:n,tag:o,info:r}}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);if(void 0===this.password&&!("trade_pwd"in a))throw new r(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");if(!("totp_code"in a))throw new r(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");const o={trade_pwd:this.password,coin_symbol:n["id"],amount:t,addr:i};void 0!==s&&(o["address_remark"]=s);const c=await this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(o,a)});return{info:c,id:void 0}}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},s={};void 0===e&&(e=Object.keys(this.currencies));for(let r=0;r<e.length;r++){const a=e[r],n=this.currency(a),o={cmd:"transfer/coinConfig",body:this.extend({coin_symbol:n["id"]},t)},c=await this.privatePostTransfer(o);s[a]=c,i[a]=this.safeNumber(c["result"],"withdraw_fee")}return{info:s,withdraw:i,deposit:{}}}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeHostname(this.urls["api"])+"/"+this.version+"/"+e;const o=this.json([s]);if("public"===t)"GET"!==i?a={cmds:o}:Object.keys(s).length&&(n+="?"+this.urlencode(s));else if("v2private"===t){this.checkRequiredCredentials(),n=this.implodeHostname(this.urls["api"])+"/v2/"+e;const t=this.json(s);a={body:t,apikey:this.apiKey,sign:this.hmac(this.encode(t),this.encode(this.secret),"md5")}}else this.checkRequiredCredentials(),a={cmds:o,apikey:this.apiKey,sign:this.hmac(this.encode(o),this.encode(this.secret),"md5")};return void 0!==a&&(a=this.json(a,{convertArraysToObjects:!0})),r={"Content-Type":"application/json"},{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o){if("error"in o){if("code"in o["error"]){const e=this.safeString(o["error"],"code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new r(t)}throw new r(this.id+" "+n)}if(!("result"in o))throw new r(this.id+" "+n)}}async request(e,t="public",i="GET",s={},r,a){const n=await this.fetch2(e,t,i,s,r,a);return"GET"===i?n:n["result"][0]}}},5259:function(e,t){e.exports={options:{usePureJavaScript:!1}}},5270:function(e,t,i){"use strict";var s=i("c532"),r=i("c401"),a=i("2e67"),n=i("2444");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){o(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),s.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||n.adapter;return t(e).then((function(t){return o(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"52e4":function(e,t,i){!function(e,i){i(t)}(0,(function(e){"use strict";var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,r="[BigNumber Error] ",a=r+"Number primitive has more than 15 significant digits: ",n=1e14,o=14,c=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,u=1e9;function l(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,i,s=1,r=e.length,a=e[0]+"";s<r;){for(t=e[s++]+"",i=o-t.length;i--;t="0"+t);a+=t}for(r=a.length;48===a.charCodeAt(--r););return a.slice(0,r+1||1)}function p(e,t){var i,s,r=e.c,a=t.c,n=e.s,o=t.s,c=e.e,d=t.e;if(!n||!o)return null;if(i=r&&!r[0],s=a&&!a[0],i||s)return i?s?0:-o:n;if(n!=o)return n;if(i=n<0,s=c==d,!r||!a)return s?0:!r^i?1:-1;if(!s)return c>d^i?1:-1;for(o=(c=r.length)<(d=a.length)?c:d,n=0;n<o;n++)if(r[n]!=a[n])return r[n]>a[n]^i?1:-1;return c==d?0:c>d^i?1:-1}function m(e,t,i,a){if(e<t||e>i||e!==s(e))throw Error(r+(a||"Argument")+("number"==typeof e?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return l(e.e/o)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,i){var s,r;if(t<0){for(r=i+".";++t;r+=i);e=r+e}else if(++t>(s=e.length)){for(r=i,t-=s;--t;r+=i);e+=r}else t<s&&(e=e.slice(0,t)+"."+e.slice(t));return e}var b=function e(b){var w,k,S,_,O,T,C,x,I,E=U.prototype={constructor:U,toString:null,valueOf:null},A=new U(1),N=20,M=4,P=-7,B=21,R=-1e7,L=1e7,V=!1,D=1,q=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz";function U(e,i){var r,n,d,h,u,l,f,p,g=this;if(!(g instanceof U))return new U(e,i);if(null==i){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>L?g.c=g.e=null:e.e<R?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((l="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(h=0,u=e;u>=10;u/=10,h++);return void(h>L?g.c=g.e=null:(g.e=h,g.c=[e]))}p=String(e)}else{if(!t.test(p=String(e)))return S(g,p,l);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(h=p.indexOf("."))>-1&&(p=p.replace(".","")),(u=p.search(/e/i))>0?(h<0&&(h=u),h+=+p.slice(u+1),p=p.substring(0,u)):h<0&&(h=p.length)}else{if(m(i,2,G.length,"Base"),10==i)return K(g=new U(e),N+g.e+1,M);if(p=String(e),l="number"==typeof e){if(0*e!=0)return S(g,p,l,i);if(g.s=1/e<0?(p=p.slice(1),-1):1,U.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=G.slice(0,i),h=u=0,f=p.length;u<f;u++)if(r.indexOf(n=p.charAt(u))<0){if("."==n){if(u>h){h=f;continue}}else if(!d&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){d=!0,u=-1,h=0;continue}return S(g,String(e),l,i)}l=!1,(h=(p=k(p,i,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):h=p.length}for(u=0;48===p.charCodeAt(u);u++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(u,++f)){if(f-=u,l&&U.DEBUG&&f>15&&(e>c||e!==s(e)))throw Error(a+g.s*e);if((h=h-u-1)>L)g.c=g.e=null;else if(h<R)g.c=[g.e=0];else{if(g.e=h,g.c=[],u=(h+1)%o,h<0&&(u+=o),u<f){for(u&&g.c.push(+p.slice(0,u)),f-=o;u<f;)g.c.push(+p.slice(u,u+=o));u=o-(p=p.slice(u)).length}else u-=f;for(;u--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function F(e,t,i,s){var r,a,n,o,c;if(null==i?i=M:m(i,0,8),!e.c)return e.toString();if(r=e.c[0],n=e.e,null==t)c=f(e.c),c=1==s||2==s&&(n<=P||n>=B)?y(c,n):v(c,n,"0");else if(a=(e=K(new U(e),t,i)).e,o=(c=f(e.c)).length,1==s||2==s&&(t<=a||a<=P)){for(;o<t;c+="0",o++);c=y(c,a)}else if(t-=n,c=v(c,a,"0"),a+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=a-o)>0)for(a+1==o&&(c+=".");t--;c+="0");return e.s<0&&r?"-"+c:c}function H(e,t){for(var i,s=1,r=new U(e[0]);s<e.length;s++){if(!(i=new U(e[s])).s){r=i;break}t.call(r,i)&&(r=i)}return r}function z(e,t,i){for(var s=1,r=t.length;!t[--r];t.pop());for(r=t[0];r>=10;r/=10,s++);return(i=s+i*o-1)>L?e.c=e.e=null:i<R?e.c=[e.e=0]:(e.e=i,e.c=t),e}function K(e,t,r,a){var c,h,u,l,f,p,m,g=e.c,y=d;if(g){e:{for(c=1,l=g[0];l>=10;l/=10,c++);if((h=t-c)<0)h+=o,u=t,m=(f=g[p=0])/y[c-u-1]%10|0;else if((p=i((h+1)/o))>=g.length){if(!a)break e;for(;g.length<=p;g.push(0));f=m=0,c=1,u=(h%=o)-o+1}else{for(f=l=g[p],c=1;l>=10;l/=10,c++);m=(u=(h%=o)-o+c)<0?0:f/y[c-u-1]%10|0}if(a=a||t<0||null!=g[p+1]||(u<0?f:f%y[c-u-1]),a=r<4?(m||a)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||a||6==r&&(h>0?u>0?f/y[c-u]:0:g[p-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,a?(t-=e.e+1,g[0]=y[(o-t%o)%o],e.e=-t||0):g[0]=e.e=0,e;if(0==h?(g.length=p,l=1,p--):(g.length=p+1,l=y[o-h],g[p]=u>0?s(f/y[c-u]%y[u])*l:0),a)for(;;){if(0==p){for(h=1,u=g[0];u>=10;u/=10,h++);for(u=g[0]+=l,l=1;u>=10;u/=10,l++);h!=l&&(e.e++,g[0]==n&&(g[0]=1));break}if(g[p]+=l,g[p]!=n)break;g[p--]=0,l=1}for(h=g.length;0===g[--h];g.pop());}e.e>L?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function W(e){var t,i=e.e;return null===i?e.toString():(t=f(e.c),t=i<=P||i>=B?y(t,i):v(t,i,"0"),e.s<0?"-"+t:t)}return U.clone=e,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(e){var t,i;if(null!=e){if("object"!=typeof e)throw Error(r+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(i=e[t],0,u,t),N=i),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(i=e[t],0,8,t),M=i),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((i=e[t])&&i.pop?(m(i[0],-u,0,t),m(i[1],0,u,t),P=i[0],B=i[1]):(m(i,-u,u,t),P=-(B=i<0?-i:i))),e.hasOwnProperty(t="RANGE"))if((i=e[t])&&i.pop)m(i[0],-u,-1,t),m(i[1],1,u,t),R=i[0],L=i[1];else{if(m(i,-u,u,t),!i)throw Error(r+t+" cannot be zero: "+i);R=-(L=i<0?-i:i)}if(e.hasOwnProperty(t="CRYPTO")){if((i=e[t])!==!!i)throw Error(r+t+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw V=!i,Error(r+"crypto unavailable");V=i}else V=i}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(i=e[t],0,9,t),D=i),e.hasOwnProperty(t="POW_PRECISION")&&(m(i=e[t],0,u,t),q=i),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(i=e[t]))throw Error(r+t+" not an object: "+i);j=i}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(i=e[t])||/^.$|[+-.\s]|(.).*\1/.test(i))throw Error(r+t+" invalid: "+i);G=i}}return{DECIMAL_PLACES:N,ROUNDING_MODE:M,EXPONENTIAL_AT:[P,B],RANGE:[R,L],CRYPTO:V,MODULO_MODE:D,POW_PRECISION:q,FORMAT:j,ALPHABET:G}},U.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!U.DEBUG)return!0;var t,i,a=e.c,c=e.e,d=e.s;e:if("[object Array]"=={}.toString.call(a)){if((1===d||-1===d)&&c>=-u&&c<=u&&c===s(c)){if(0===a[0]){if(0===c&&1===a.length)return!0;break e}if((t=(c+1)%o)<1&&(t+=o),String(a[0]).length==t){for(t=0;t<a.length;t++)if((i=a[t])<0||i>=n||i!==s(i))break e;if(0!==i)return!0}}}else if(null===a&&null===c&&(null===d||1===d||-1===d))return!0;throw Error(r+"Invalid BigNumber: "+e)},U.maximum=U.max=function(){return H(arguments,E.lt)},U.minimum=U.min=function(){return H(arguments,E.gt)},U.random=(_=9007199254740992*Math.random()&2097151?function(){return s(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,a,n,c,h,l=0,f=[],p=new U(A);if(null==e?e=N:m(e,0,u),c=i(e/o),V)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(c*=2));l<c;)(h=131072*t[l]+(t[l+1]>>>11))>=9e15?(a=crypto.getRandomValues(new Uint32Array(2)),t[l]=a[0],t[l+1]=a[1]):(f.push(h%1e14),l+=2);l=c/2}else{if(!crypto.randomBytes)throw V=!1,Error(r+"crypto unavailable");for(t=crypto.randomBytes(c*=7);l<c;)(h=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(f.push(h%1e14),l+=7);l=c/7}if(!V)for(;l<c;)(h=_())<9e15&&(f[l++]=h%1e14);for(c=f[--l],e%=o,c&&e&&(h=d[o-e],f[l]=s(c/h)*h);0===f[l];f.pop(),l--);if(l<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=o);for(l=1,h=f[0];h>=10;h/=10,l++);l<o&&(n-=o-l)}return p.e=n,p.c=f,p}),U.sum=function(){for(var e=1,t=arguments,i=new U(t[0]);e<t.length;)i=i.plus(t[e++]);return i},k=function(){function e(e,t,i,s){for(var r,a,n=[0],o=0,c=e.length;o<c;){for(a=n.length;a--;n[a]*=t);for(n[0]+=s.indexOf(e.charAt(o++)),r=0;r<n.length;r++)n[r]>i-1&&(null==n[r+1]&&(n[r+1]=0),n[r+1]+=n[r]/i|0,n[r]%=i)}return n.reverse()}return function(t,i,s,r,a){var n,o,c,d,h,u,l,p,m=t.indexOf("."),g=N,y=M;for(m>=0&&(d=q,q=0,t=t.replace(".",""),u=(p=new U(i)).pow(t.length-m),q=d,p.c=e(v(f(u.c),u.e,"0"),10,s,"0123456789"),p.e=p.c.length),c=d=(l=e(t,i,s,a?(n=G,"0123456789"):(n="0123456789",G))).length;0==l[--d];l.pop());if(!l[0])return n.charAt(0);if(m<0?--c:(u.c=l,u.e=c,u.s=r,l=(u=w(u,p,g,y,s)).c,h=u.r,c=u.e),m=l[o=c+g+1],d=s/2,h=h||o<0||null!=l[o+1],h=y<4?(null!=m||h)&&(0==y||y==(u.s<0?3:2)):m>d||m==d&&(4==y||h||6==y&&1&l[o-1]||y==(u.s<0?8:7)),o<1||!l[0])t=h?v(n.charAt(1),-g,n.charAt(0)):n.charAt(0);else{if(l.length=o,h)for(--s;++l[--o]>s;)l[o]=0,o||(++c,l=[1].concat(l));for(d=l.length;!l[--d];);for(m=0,t="";m<=d;t+=n.charAt(l[m++]));t=v(t,c,n.charAt(0))}return t}}(),w=function(){function e(e,t,i){var s,r,a,n,o=0,c=e.length,d=t%h,u=t/h|0;for(e=e.slice();c--;)o=((r=d*(a=e[c]%h)+(s=u*a+(n=e[c]/h|0)*d)%h*h+o)/i|0)+(s/h|0)+u*n,e[c]=r%i;return o&&(e=[o].concat(e)),e}function t(e,t,i,s){var r,a;if(i!=s)a=i>s?1:-1;else for(r=a=0;r<i;r++)if(e[r]!=t[r]){a=e[r]>t[r]?1:-1;break}return a}function i(e,t,i,s){for(var r=0;i--;)e[i]-=r,r=e[i]<t[i]?1:0,e[i]=r*s+e[i]-t[i];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,a,c,d,h){var u,f,p,m,g,y,v,b,w,k,S,_,O,T,C,x,I,E=r.s==a.s?1:-1,A=r.c,N=a.c;if(!(A&&A[0]&&N&&N[0]))return new U(r.s&&a.s&&(A?!N||A[0]!=N[0]:N)?A&&0==A[0]||!N?0*E:E/0:NaN);for(w=(b=new U(E)).c=[],E=c+(f=r.e-a.e)+1,h||(h=n,f=l(r.e/o)-l(a.e/o),E=E/o|0),p=0;N[p]==(A[p]||0);p++);if(N[p]>(A[p]||0)&&f--,E<0)w.push(1),m=!0;else{for(T=A.length,x=N.length,p=0,E+=2,(g=s(h/(N[0]+1)))>1&&(N=e(N,g,h),A=e(A,g,h),x=N.length,T=A.length),O=x,S=(k=A.slice(0,x)).length;S<x;k[S++]=0);I=N.slice(),I=[0].concat(I),C=N[0],N[1]>=h/2&&C++;do{if(g=0,(u=t(N,k,x,S))<0){if(_=k[0],x!=S&&(_=_*h+(k[1]||0)),(g=s(_/C))>1)for(g>=h&&(g=h-1),v=(y=e(N,g,h)).length,S=k.length;1==t(y,k,v,S);)g--,i(y,x<v?I:N,v,h),v=y.length,u=1;else 0==g&&(u=g=1),v=(y=N.slice()).length;if(v<S&&(y=[0].concat(y)),i(k,y,S,h),S=k.length,-1==u)for(;t(N,k,x,S)<1;)g++,i(k,x<S?I:N,S,h),S=k.length}else 0===u&&(g++,k=[0]);w[p++]=g,k[0]?k[S++]=A[O]||0:(k=[A[O]],S=1)}while((O++<T||null!=k[0])&&E--);m=null!=k[0],w[0]||w.splice(0,1)}if(h==n){for(p=1,E=w[0];E>=10;E/=10,p++);K(b,c+(b.e=p+f*o-1)+1,d,m)}else b.e=f,b.r=+m;return b}}(),O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,C=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,i,s){var a,n=i?t:t.replace(I,"");if(x.test(n))e.s=isNaN(n)?null:n<0?-1:1;else{if(!i&&(n=n.replace(O,(function(e,t,i){return a="x"==(i=i.toLowerCase())?16:"b"==i?2:8,s&&s!=a?e:t})),s&&(a=s,n=n.replace(T,"$1").replace(C,"0.$1")),t!=n))return new U(n,a);if(U.DEBUG)throw Error(r+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},E.absoluteValue=E.abs=function(){var e=new U(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return p(this,new U(e,t))},E.decimalPlaces=E.dp=function(e,t){var i,s,r,a=this;if(null!=e)return m(e,0,u),null==t?t=M:m(t,0,8),K(new U(a),e+a.e+1,t);if(!(i=a.c))return null;if(s=((r=i.length-1)-l(this.e/o))*o,r=i[r])for(;r%10==0;r/=10,s--);return s<0&&(s=0),s},E.dividedBy=E.div=function(e,t){return w(this,new U(e,t),N,M)},E.dividedToIntegerBy=E.idiv=function(e,t){return w(this,new U(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var a,n,c,d,h,u,l,f,p=this;if((e=new U(e)).c&&!e.isInteger())throw Error(r+"Exponent not an integer: "+W(e));if(null!=t&&(t=new U(t)),h=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new U(Math.pow(+W(p),h?2-g(e):+W(e))),t?f.mod(t):f;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new U(NaN);(n=!u&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||h&&p.c[1]>=24e7:p.c[0]<8e13||h&&p.c[0]<=9999975e7)))return d=p.s<0&&g(e)?-0:0,p.e>-1&&(d=1/d),new U(u?1/d:d);q&&(d=i(q/o+2))}for(h?(a=new U(.5),u&&(e.s=1),l=g(e)):l=(c=Math.abs(+W(e)))%2,f=new U(A);;){if(l){if(!(f=f.times(p)).c)break;d?f.c.length>d&&(f.c.length=d):n&&(f=f.mod(t))}if(c){if(0===(c=s(c/2)))break;l=c%2}else if(K(e=e.times(a),e.e+1,1),e.e>14)l=g(e);else{if(0==(c=+W(e)))break;l=c%2}p=p.times(p),d?p.c&&p.c.length>d&&(p.c.length=d):n&&(p=p.mod(t))}return n?f:(u&&(f=A.div(f)),t?f.mod(t):d?K(f,q,M,void 0):f)},E.integerValue=function(e){var t=new U(this);return null==e?e=M:m(e,0,8),K(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return 0===p(this,new U(e,t))},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return p(this,new U(e,t))>0},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return 1===(t=p(this,new U(e,t)))||0===t},E.isInteger=function(){return!!this.c&&l(this.e/o)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return p(this,new U(e,t))<0},E.isLessThanOrEqualTo=E.lte=function(e,t){return-1===(t=p(this,new U(e,t)))||0===t},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return this.s>0},E.isZero=function(){return!!this.c&&0==this.c[0]},E.minus=function(e,t){var i,s,r,a,c=this,d=c.s;if(t=(e=new U(e,t)).s,!d||!t)return new U(NaN);if(d!=t)return e.s=-t,c.plus(e);var h=c.e/o,u=e.e/o,f=c.c,p=e.c;if(!h||!u){if(!f||!p)return f?(e.s=-t,e):new U(p?c:NaN);if(!f[0]||!p[0])return p[0]?(e.s=-t,e):new U(f[0]?c:3==M?-0:0)}if(h=l(h),u=l(u),f=f.slice(),d=h-u){for((a=d<0)?(d=-d,r=f):(u=h,r=p),r.reverse(),t=d;t--;r.push(0));r.reverse()}else for(s=(a=(d=f.length)<(t=p.length))?d:t,d=t=0;t<s;t++)if(f[t]!=p[t]){a=f[t]<p[t];break}if(a&&(r=f,f=p,p=r,e.s=-e.s),(t=(s=p.length)-(i=f.length))>0)for(;t--;f[i++]=0);for(t=n-1;s>d;){if(f[--s]<p[s]){for(i=s;i&&!f[--i];f[i]=t);--f[i],f[s]+=n}f[s]-=p[s]}for(;0==f[0];f.splice(0,1),--u);return f[0]?z(e,f,u):(e.s=3==M?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var i,s,r=this;return e=new U(e,t),!r.c||!e.s||e.c&&!e.c[0]?new U(NaN):!e.c||r.c&&!r.c[0]?new U(r):(9==D?(s=e.s,e.s=1,i=w(r,e,0,3),e.s=s,i.s*=s):i=w(r,e,0,D),(e=r.minus(i.times(e))).c[0]||1!=D||(e.s=r.s),e)},E.multipliedBy=E.times=function(e,t){var i,s,r,a,c,d,u,f,p,m,g,y,v,b,w,k=this,S=k.c,_=(e=new U(e,t)).c;if(!(S&&_&&S[0]&&_[0]))return!k.s||!e.s||S&&!S[0]&&!_||_&&!_[0]&&!S?e.c=e.e=e.s=null:(e.s*=k.s,S&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(s=l(k.e/o)+l(e.e/o),e.s*=k.s,(u=S.length)<(m=_.length)&&(v=S,S=_,_=v,r=u,u=m,m=r),r=u+m,v=[];r--;v.push(0));for(b=n,w=h,r=m;--r>=0;){for(i=0,g=_[r]%w,y=_[r]/w|0,a=r+(c=u);a>r;)i=((f=g*(f=S[--c]%w)+(d=y*f+(p=S[c]/w|0)*g)%w*w+v[a]+i)/b|0)+(d/w|0)+y*p,v[a--]=f%b;v[a]=i}return i?++s:v.splice(0,1),z(e,v,s)},E.negated=function(){var e=new U(this);return e.s=-e.s||null,e},E.plus=function(e,t){var i,s=this,r=s.s;if(t=(e=new U(e,t)).s,!r||!t)return new U(NaN);if(r!=t)return e.s=-t,s.minus(e);var a=s.e/o,c=e.e/o,d=s.c,h=e.c;if(!a||!c){if(!d||!h)return new U(r/0);if(!d[0]||!h[0])return h[0]?e:new U(d[0]?s:0*r)}if(a=l(a),c=l(c),d=d.slice(),r=a-c){for(r>0?(c=a,i=h):(r=-r,i=d),i.reverse();r--;i.push(0));i.reverse()}for((r=d.length)-(t=h.length)<0&&(i=h,h=d,d=i,t=r),r=0;t;)r=(d[--t]=d[t]+h[t]+r)/n|0,d[t]=n===d[t]?0:d[t]%n;return r&&(d=[r].concat(d),++c),z(e,d,c)},E.precision=E.sd=function(e,t){var i,s,r,a=this;if(null!=e&&e!==!!e)return m(e,1,u),null==t?t=M:m(t,0,8),K(new U(a),e,t);if(!(i=a.c))return null;if(s=(r=i.length-1)*o+1,r=i[r]){for(;r%10==0;r/=10,s--);for(r=i[0];r>=10;r/=10,s++);}return e&&a.e+1>s&&(s=a.e+1),s},E.shiftedBy=function(e){return m(e,-c,c),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,i,s,r,a=this,n=a.c,o=a.s,c=a.e,d=N+4,h=new U("0.5");if(1!==o||!n||!n[0])return new U(!o||o<0&&(!n||n[0])?NaN:n?a:1/0);if(0==(o=Math.sqrt(+W(a)))||o==1/0?(((t=f(n)).length+c)%2==0&&(t+="0"),o=Math.sqrt(+t),c=l((c+1)/2)-(c<0||c%2),i=new U(t=o==1/0?"5e"+c:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+c)):i=new U(o+""),i.c[0])for((o=(c=i.e)+d)<3&&(o=0);;)if(r=i,i=h.times(r.plus(w(a,r,d,1))),f(r.c).slice(0,o)===(t=f(i.c)).slice(0,o)){if(i.e<c&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(i,i.e+N+2,1),e=!i.times(i).eq(a));break}if(!s&&(K(r,r.e+N+2,0),r.times(r).eq(a))){i=r;break}d+=4,o+=4,s=1}return K(i,i.e+N+1,M,e)},E.toExponential=function(e,t){return null!=e&&(m(e,0,u),e++),F(this,e,t,1)},E.toFixed=function(e,t){return null!=e&&(m(e,0,u),e=e+this.e+1),F(this,e,t)},E.toFormat=function(e,t,i){var s,a=this;if(null==i)null!=e&&t&&"object"==typeof t?(i=t,t=null):e&&"object"==typeof e?(i=e,e=t=null):i=j;else if("object"!=typeof i)throw Error(r+"Argument not an object: "+i);if(s=a.toFixed(e,t),a.c){var n,o=s.split("."),c=+i.groupSize,d=+i.secondaryGroupSize,h=i.groupSeparator||"",u=o[0],l=o[1],f=a.s<0,p=f?u.slice(1):u,m=p.length;if(d&&(n=c,c=d,d=n,m-=n),c>0&&m>0){for(n=m%c||c,u=p.substr(0,n);n<m;n+=c)u+=h+p.substr(n,c);d>0&&(u+=h+p.slice(n)),f&&(u="-"+u)}s=l?u+(i.decimalSeparator||"")+((d=+i.fractionGroupSize)?l.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):l):u}return(i.prefix||"")+s+(i.suffix||"")},E.toFraction=function(e){var t,i,s,a,n,c,h,u,l,p,m,g,y=this,v=y.c;if(null!=e&&(!(h=new U(e)).isInteger()&&(h.c||1!==h.s)||h.lt(A)))throw Error(r+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+W(h));if(!v)return new U(y);for(t=new U(A),l=i=new U(A),s=u=new U(A),g=f(v),n=t.e=g.length-y.e-1,t.c[0]=d[(c=n%o)<0?o+c:c],e=!e||h.comparedTo(t)>0?n>0?t:l:h,c=L,L=1/0,h=new U(g),u.c[0]=0;p=w(h,t,0,1),1!=(a=i.plus(p.times(s))).comparedTo(e);)i=s,s=a,l=u.plus(p.times(a=l)),u=a,t=h.minus(p.times(a=t)),h=a;return a=w(e.minus(i),s,0,1),u=u.plus(a.times(l)),i=i.plus(a.times(s)),u.s=l.s=y.s,m=w(l,s,n*=2,M).minus(y).abs().comparedTo(w(u,i,n,M).minus(y).abs())<1?[l,s]:[u,i],L=c,m},E.toNumber=function(){return+W(this)},E.toPrecision=function(e,t){return null!=e&&m(e,1,u),F(this,e,t,2)},E.toString=function(e){var t,i=this,s=i.s,r=i.e;return null===r?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=r<=P||r>=B?y(f(i.c),r):v(f(i.c),r,"0"):10===e?t=v(f((i=K(new U(i),N+r+1,M)).c),i.e,"0"):(m(e,2,G.length,"Base"),t=k(v(f(i.c),r,"0"),10,e,s,!0)),s<0&&i.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return W(this)},E._isBigNumber=!0,E[Symbol.toStringTag]="BigNumber",E[Symbol.for("nodejs.util.inspect.custom")]=E.valueOf,null!=b&&U.set(b),U}(),w=function(){return(w=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},k=function(){function e(){this.format=e.DEFAULT_FORMAT,b.config({FORMAT:this.format})}return e.prototype.set=function(e){"FORMAT"in e&&(this.format=w({},this.format,e.FORMAT),e.FORMAT=this.format),b.config(e)},e.DEFAULT_FORMAT={prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""},e}();e.BigNumber=function(){function e(t){"object"==typeof t&&e.isBigNumber(t)?this.bn=t.bn.plus(0):this.bn=e.toBigNumberJs(t)}return e.prototype.clone=function(){return new e(this)},e.prototype.add=function(t){return new e(this.bn.plus(e.toBigNumberJs(t)))},e.prototype.sub=function(t){return new e(this.bn.minus(e.toBigNumberJs(t)))},e.prototype.mul=function(t){return new e(this.bn.times(e.toBigNumberJs(t)))},e.prototype.div=function(t){return new e(this.bn.div(e.toBigNumberJs(t)))},e.prototype.pow=function(t){return new e(this.bn.pow(e.toBigNumberJs(t)))},e.prototype.sqrt=function(){return new e(this.bn.sqrt())},e.prototype.abs=function(){return new e(this.bn.abs())},e.prototype.mod=function(t){return new e(this.bn.mod(e.toBigNumberJs(t)))},e.prototype.roundTo=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=4),new e(this.bn.dp(t||0,i))},e.prototype.eq=function(t){return this.bn.eq(e.toBigNumberJs(t))},e.prototype.lt=function(t){return this.bn.lt(e.toBigNumberJs(t))},e.prototype.gt=function(t){return this.bn.gt(e.toBigNumberJs(t))},e.prototype.lte=function(t){return this.bn.lte(e.toBigNumberJs(t))},e.prototype.gte=function(t){return this.bn.gte(e.toBigNumberJs(t))},e.prototype.isNaN=function(){return this.bn.isNaN()},e.prototype.isFinite=function(){return this.bn.isFinite()},e.prototype.isZero=function(){return this.eq(0)},e.prototype.isPositive=function(){return this.gt(0)},e.prototype.isNegative=function(){return this.lt(0)},e.prototype.isInt=function(){return this.bn.isInteger()},e.prototype.getDecimalsCount=function(){return this.bn.dp()},e.prototype.isEven=function(){return this.mod(2).eq(0)},e.prototype.isOdd=function(){return!this.isEven()},e.prototype.isInSignedRange=function(){return this.gte(e.MIN_VALUE)&&this.lte(e.MAX_VALUE)},e.prototype.isInUnsignedRange=function(){return this.gte(e.MIN_UNSIGNED_VALUE)&&this.lte(e.MAX_UNSIGNED_VALUE)},e.prototype.toFormat=function(e,t,i){return this.bn.toFormat(e,t,i)},e.prototype.toFixed=function(e,t){return null==e?this.bn.toFixed():this.bn.toFixed(e,t)},e.prototype.toString=function(){return this.toFixed()},e.prototype.toNumber=function(){return this.bn.toNumber()},e.prototype.toJSON=function(){return this.bn.toFixed()},e.prototype.valueOf=function(){return this.bn.valueOf()},e.prototype.toBytes=function(t){var i=void 0===t?{}:t,s=i.isSigned,r=void 0===s||s,a=i.isLong,n=void 0===a||a;if(!this.isInt())throw new Error("Cant create bytes from number with decimals!");if(!r&&this.isNegative())throw new Error("Cant create bytes from negative number in signed mode!");if(n&&r&&!this.isInSignedRange())throw new Error("Number is not from signed numbers range");if(n&&!r&&!this.isInUnsignedRange())throw new Error("Number is not from unsigned numbers range");var o=r&&this.isNegative(),c=o?"1":"0",d=this.bn.plus(c).toString(2).replace("-",""),h=n?64:8*Math.ceil(d.length/8),u=e._toLength(h,d).split(""),l=[];do{l.push(parseInt(u.splice(0,8).join(""),2))}while(u.length);return o?Uint8Array.from(l.map((function(e){return 255-e}))):Uint8Array.from(l)},e.fromBytes=function(t,i){var s=void 0===i?{}:i,r=s.isSigned,a=void 0===r||r,n=s.isLong,o=void 0===n||n;if(o&&8!==t.length)throw new Error("Wrong bytes length! Minimal length is 8 byte!");t=!o&&t.length>0||o?t:[0];var c=!!a&&t[0]>127,d=Array.from(t).map((function(e){return c?255-e:e})).map((function(t){return e._toLength(8,t.toString(2))})).join(""),h=new e(new b(d,2));return c?h.mul(-1).sub(1):h},e.max=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.toBigNumber(t).reduce((function(e,t){return e.gte(t)?e:t}))},e.min=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.toBigNumber(t).reduce((function(e,t){return e.lte(t)?e:t}))},e.sum=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.toBigNumber(t).reduce((function(e,t){return e.add(t)}))},e.isBigNumber=function(t){return t&&"object"==typeof t&&(t instanceof e||Object.entries(e.prototype).filter((function(e){return"_"!==e[0].charAt(0)})).every((function(e){var i=e[0],s=e[1];return i in t&&typeof s==typeof t[i]})))},e.toBigNumber=function(t){return Array.isArray(t)?t.map((function(t){return new e(t)})):new e(t)},e.toBigNumberJs=function(t){return b.isBigNumber(t)?t:t instanceof e?t.bn:new b(t)},e._toLength=function(e,t){return new Array(e).fill("0",0,e).concat(t.split("")).slice(-e).join("")},e.MIN_VALUE=new e("-9223372036854775808"),e.MAX_VALUE=new e("9223372036854775807"),e.MIN_UNSIGNED_VALUE=new e("0"),e.MAX_UNSIGNED_VALUE=new e("18446744073709551615"),e.config=new k,e}(),function(e){!function(e){e[e.ROUND_UP=0]="ROUND_UP",e[e.ROUND_DOWN=1]="ROUND_DOWN",e[e.ROUND_CEIL=2]="ROUND_CEIL",e[e.ROUND_FLOOR=3]="ROUND_FLOOR",e[e.ROUND_HALF_UP=4]="ROUND_HALF_UP",e[e.ROUND_HALF_DOWN=5]="ROUND_HALF_DOWN",e[e.ROUND_HALF_EVEN=6]="ROUND_HALF_EVEN",e[e.ROUND_HALF_CEIL=7]="ROUND_HALF_CEIL",e[e.ROUND_HALF_FLOOR=8]="ROUND_HALF_FLOOR"}(e.ROUND_MODE||(e.ROUND_MODE={}))}(e.BigNumber||(e.BigNumber={}));var S=e.BigNumber;e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}))},5306:function(e,t,i){"use strict";i.d(t,"a",(function(){return $e})),i.d(t,"c",(function(){return Ye})),i.d(t,"b",(function(){return Xe}));var s,r=i("9ab4"),a=i("f937"),n=i.n(a),o=i("67ec"),c=i.n(o),d=i("3af5"),h=i.n(d),u=i("d436"),l=i.n(u),f=i("d6ce"),p=i.n(f),m=i("9d74"),g=i.n(m),y=i("c813"),v=i.n(y),b=i("aea5"),w=i.n(b),k=i("ea7c"),S=i.n(k),_=i("e10d"),O=i.n(_),T=i("faff"),C=i.n(T),x=i("7435"),I=i.n(x),E=i("8e1a"),A=i.n(E),N=i("5d81"),M=i.n(N),P=i("0760"),B={MAX_ATTACHMENT:140,ALIAS:{AVAILABLE_CHARS:"-.0123456789@_abcdefghijklmnopqrstuvwxyz",MAX_ALIAS_LENGTH:30,MIN_ALIAS_LENGTH:4}},R=function(e){return Array.isArray(e)},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var i=!0,s=0,r=e;s<r.length;s++){var a=r[s];if(i=!!a(t),!i)return!1}return i}},V=function(e){return function(t){return!e||null!=t}},D=function(e){return"string"===typeof e||e instanceof String},q=function(e){return("number"===typeof e||e instanceof Number)&&!isNaN(Number(e))},j=function(e){return null!=e&&!isNaN(Number(e))&&!(!e&&0!==e)},G=function(e){return null!=e&&("boolean"===typeof e||e instanceof Boolean)},U=I()(C.a),F=function(e){throw new Error(e)},H=function(e,t){return function(i){return Object.entries(e).forEach((function(e){var s=e[0],r=e[1],a=c()(s,i||{});r(a)||F(t(s,a))})),!0}},z=h()(U([null,void 0]),n()(!0),h()(D,l()(c()("length"),A()(!0)),n()(!1))),K=function(e){return function(t){return t.split("").every((function(t){return e.includes(t)}))}},W=h()(K(B.ALIAS.AVAILABLE_CHARS),l()(c()("length"),L(w()(B.ALIAS.MAX_ALIAS_LENGTH),g()(B.ALIAS.MIN_ALIAS_LENGTH))),n()(!1)),$={NAME_MIN_BYTES:4,NAME_MAX_BYTES:16,DESCRIPTION_MAX_BYTES:1e3},Y=L(h()(D,S()("base64:"),l()(O.a))),X={integer:j,boolean:G,string:D,binary:Y},Z=function(e){return!(!X[e.type]||!X[e.type](e.value))},Q=L(V(!0),l()(c()("key"),L(D,(function(e){return!!e}))),Z),J=L(D,M()((function(e){return 32===Object(P["base58Decode"])(e).length}),A()(!1))),ee=L(D,l()(c()("length"),h()(g()($.NAME_MIN_BYTES),w()($.NAME_MAX_BYTES),n()(!1)))),te=L(D,l()(c()("length"),w()($.DESCRIPTION_MAX_BYTES))),ie=L(h()(U(["",null,void 0,"WAVES"]),n()(!0),D)),se=function(e){return e.startsWith("alias:")},re=D,ae=l()((function(e){return e.split(":")[2]}),W),ne=L(D,h()(se,ae,re)),oe={orderType:U(["sell","buy"]),senderPublicKey:J,matcherPublicKey:J,version:U([void 0,0,1,2,3]),assetPair:L(V(!0),l()(c()("amountAsset"),ie),l()(c()("priceAsset"),ie)),price:j,amount:j,matcherFee:j,expiration:j,timestamp:q,proofs:h()(R,n()(!0),U([void 0]))},ce={matcherFeeAssetId:U([void 0,null,"WAVES"])},de={matcherFeeAssetId:ie},he=function(){},ue=H(oe,he),le=H(ce,he),fe=H(de,he),pe=L(ue,h()(l()(c()("version"),p()(3)),fe,le)),me=i("3ee4"),ge=l()(p()(void 0),v.a),ye=function(e){return h()(ge,e,n()(!0))},ve=function(e,t){return function(i){for(var s,r=[],a=0,n=Object.entries(e);a<n.length;a++){var o=n[a],c=o[0],d=o[1];try{H((s={},s[c]=d,s),he)(i)}catch(h){r.push(c)}}return{isValid:0===r.length,transaction:i,method:t,invalidFields:r}}},be=function(e){return{type:p()(e),version:ye(U([void 0,1,2,3])),senderPublicKey:ye(J),fee:ye(j),proofs:ye(R)}},we=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].ISSUE)),{name:ee,description:ye(te),quantity:j,decimals:q,reissuable:ye(G),script:ye(Y),chainId:ye(q)}),ke=ve(we,"issue"),Se=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].TRANSFER)),{amount:j,recipient:ne,assetId:ye(ie),feeAssetId:ye(ie),attachment:ye(z)}),_e=ve(Se,"transfer"),Oe=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].REISSUE)),{assetId:ie,quantity:j,reissuable:G,chainId:ye(q)}),Te=ve(Oe,"reissue"),Ce=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].BURN)),{assetId:D,amount:j,chainId:ye(q)}),xe=ve(Ce,"burn"),Ie=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].LEASE)),{amount:j,recipient:ne}),Ee=ve(Ie,"lease"),Ae=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].CANCEL_LEASE)),{leaseId:l()(D),chainId:ye(q)}),Ne=ve(Ae,"cancel lease"),Me=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].ALIAS)),{alias:function(e){return"string"===typeof e&&W(e)}}),Pe=ve(Me,"alias"),Be=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].MASS_TRANSFER)),{transfers:L(R,l()(c()("length"),g()(0)),(function(e){return e.every(L(V(!0),l()(c()("recipient"),ne),l()(c()("amount"),j)))})),assetId:ye(ie),attachment:ye(z)}),Re=ve(Be,"mass transfer"),Le=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].DATA)),{data:function(e){return R(e)&&e.every((function(e){return Q(e)}))}}),Ve=ve(Le,"data"),De=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].SET_SCRIPT)),{script:Y,chainId:ye(q)}),qe=ve(De,"set script"),je=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].SPONSORSHIP)),{assetId:D,minSponsoredAssetFee:j}),Ge=ve(je,"sponsorship"),Ue=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].EXCHANGE)),{order1:L(V(!0),pe),order2:L(V(!0),pe),amount:j,price:j,buyMatcherFee:j,sellMatcherFee:j}),Fe=ve(Ue,"exchange"),He=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].SET_ASSET_SCRIPT)),{script:Y,assetId:ie,chainId:ye(q)}),ze=ve(He,"set asset script"),Ke=Object(r["a"])(Object(r["a"])({},be(me["TRANSACTION_TYPE"].INVOKE_SCRIPT)),{dApp:ne,call:ye(L(l()(c()("function"),D),l()(c()("function"),c()("length"),g()(0)),l()(c()("args"),R))),payment:ye(L(R,(function(e){return e.every(L(l()(c()("amount"),j),l()(c()("assetId"),ie)))}))),feeAssetId:ye(ie),chainId:ye(q)}),We=ve(Ke,"invoke"),$e=(s={},s[me["TRANSACTION_TYPE"].ISSUE]=ke,s[me["TRANSACTION_TYPE"].TRANSFER]=_e,s[me["TRANSACTION_TYPE"].REISSUE]=Te,s[me["TRANSACTION_TYPE"].BURN]=xe,s[me["TRANSACTION_TYPE"].LEASE]=Ee,s[me["TRANSACTION_TYPE"].CANCEL_LEASE]=Ne,s[me["TRANSACTION_TYPE"].ALIAS]=Pe,s[me["TRANSACTION_TYPE"].MASS_TRANSFER]=Re,s[me["TRANSACTION_TYPE"].DATA]=Ve,s[me["TRANSACTION_TYPE"].SET_SCRIPT]=qe,s[me["TRANSACTION_TYPE"].SPONSORSHIP]=Ge,s[me["TRANSACTION_TYPE"].EXCHANGE]=Fe,s[me["TRANSACTION_TYPE"].SET_ASSET_SCRIPT]=ze,s[me["TRANSACTION_TYPE"].INVOKE_SCRIPT]=We,s),Ye=function(e){var t={isValid:!0,invalidOptions:[]},i=function(e){return["verbose","production","error"].includes(String(e))};return D(e.NODE_URL)||(t.isValid=!1,t.invalidOptions.push("NODE_URL")),ye(i)(e.LOG_LEVEL)||(t.isValid=!1,t.invalidOptions.push("debug")),t},Xe=function(e){for(var t=function(e){return"function"===typeof e},i={connect:t,login:t,logout:t,signMessage:t,signTypedData:t,sign:t},s=[],r=0,a=Object.entries(i);r<a.length;r++){var n=a[r],o=n[0],c=n[1];c(e[o])||s.push(o)}return{isValid:0===s.length,invalidProperties:s}}},53063:function(e,t,i){var s=i("5a7c"),r=i("75f1"),a=i("413f"),n=s((function(e,t){return e.map((function(e){var i,s=t,n=0;while(n<e.length){if(null==s)return;i=e[n],s=r(i)?a(i,s):s[i],n+=1}return s}))}));e.exports=n},5319:function(e,t,i){"use strict";var s=i("d784"),r=i("d039"),a=i("825a"),n=i("50c4"),o=i("a691"),c=i("1d80"),d=i("8aa5"),h=i("0cb2"),u=i("14c3"),l=i("b622"),f=l("replace"),p=Math.max,m=Math.min,g=function(e){return void 0===e?e:String(e)},y=function(){return"$0"==="a".replace(/./,"$0")}(),v=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),b=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,i){var s=v?"$":"$0";return[function(e,i){var s=c(this),r=void 0==e?void 0:e[f];return void 0!==r?r.call(e,s,i):t.call(String(s),e,i)},function(e,r){if("string"===typeof r&&-1===r.indexOf(s)&&-1===r.indexOf("$<")){var c=i(t,this,e,r);if(c.done)return c.value}var l=a(this),f=String(e),y="function"===typeof r;y||(r=String(r));var v=l.global;if(v){var b=l.unicode;l.lastIndex=0}var w=[];while(1){var k=u(l,f);if(null===k)break;if(w.push(k),!v)break;var S=String(k[0]);""===S&&(l.lastIndex=d(f,n(l.lastIndex),b))}for(var _="",O=0,T=0;T<w.length;T++){k=w[T];for(var C=String(k[0]),x=p(m(o(k.index),f.length),0),I=[],E=1;E<k.length;E++)I.push(g(k[E]));var A=k.groups;if(y){var N=[C].concat(I,x,f);void 0!==A&&N.push(A);var M=String(r.apply(void 0,N))}else M=h(C,f,x,I,A,r);x>=O&&(_+=f.slice(O,x)+M,O=x+C.length)}return _+f.slice(O)}]}),!b||!y||v)},"531c":function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,ExchangeError:a,OrderNotFound:n,InvalidOrder:o,InsufficientFunds:c,DDoSProtection:d,BadRequest:h}=i("74b0"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"btcmarkets",name:"BTC Markets",countries:["AU"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/89731817-b3fb8480-da52-11ea-817f-783b08aaf32b.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net"},www:"https://btcmarkets.net",doc:["https://api.btcmarkets.net/doc/v3","https://github.com/BTCMarkets/API"]},api:{public:{get:["markets","markets/{marketId}/ticker","markets/{marketId}/trades","markets/{marketId}/orderbook","markets/{marketId}/candles","markets/tickers","markets/orderbooks","time"]},private:{get:["orders","orders/{id}","batchorders/{ids}","trades","trades/{id}","withdrawals","withdrawals/{id}","deposits","deposits/{id}","transfers","transfers/{id}","addresses","withdrawal-fees","assets","accounts/me/trading-fees","accounts/me/withdrawal-limits","accounts/me/balances","accounts/me/transactions","reports/{id}"],post:["orders","batchorders","withdrawals","reports"],delete:["orders","orders/{id}","batchorders/{ids}"],put:["orders/{id}"]}},timeframes:{"1m":"1m","1h":"1h","1d":"1d"},exceptions:{3:o,6:d,InsufficientFund:c,InvalidPrice:o,InvalidAmount:o,MissingArgument:o,OrderAlreadyCancelled:o,OrderNotFound:n,OrderStatusIsFinal:o,InvalidPaginationParameter:h},fees:{percentage:!0,tierBased:!0,maker:-5e-4,taker:.002},options:{fees:{AUD:{maker:.0085,taker:.0085}}}})}async fetchTransactionsWithMethod(e,t,i,s,r={}){await this.loadMarkets();const a={};void 0!==s&&(a["limit"]=s),void 0!==i&&(a["after"]=i);let n=void 0;void 0!==t&&(n=this.currency(t));const o=await this[e](this.extend(a,r));return this.parseTransactions(o,n,i,s)}async fetchTransactions(e,t,i,s={}){return await this.fetchTransactionsWithMethod("privateGetTransfers",e,t,i,s)}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsWithMethod("privateGetDeposits",e,t,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsWithMethod("privateGetWithdrawals",e,t,i,s)}parseTransactionStatus(e){const t={Complete:"ok"};return this.safeString(t,e,e)}parseTransactionType(e){const t={Withdraw:"withdrawal",Deposit:"deposit"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"creationTime")),s=this.parse8601(this.safeString(e,"lastUpdate"));let r=this.parseTransactionType(this.safeStringLower(e,"type"));"withdraw"===r&&(r="withdrawal");const a=this.safeValue(e,"paymentDetail",{}),n=this.safeString(a,"txId");let o=this.safeString(a,"address"),c=void 0;if(void 0!==o){const e=o.split("?dt="),t=e.length;t>1&&(o=e[0],c=e[1])}const d=o,h=c,u=void 0,l=void 0,f=this.safeNumber(e,"fee"),p=this.parseTransactionStatus(this.safeString(e,"status")),m=this.safeString(e,"assetName"),g=this.safeCurrencyCode(m);let y=this.safeNumber(e,"amount");return f&&(y-=f),{id:this.safeString(e,"id"),txid:n,timestamp:i,datetime:this.iso8601(i),address:o,addressTo:d,addressFrom:u,tag:c,tagTo:h,tagFrom:l,type:r,amount:y,currency:g,status:p,updated:s,fee:{currency:g,cost:f},info:e}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"baseAssetName"),a=this.safeString(e,"quoteAssetName"),n=this.safeString(e,"marketId"),o=this.safeCurrencyCode(r),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(this.safeValue(this.options,"fees",{}),c,this.fees),u=this.safeNumber(e,"priceDecimals"),l=this.safeNumber(e,"amountDecimals"),f=this.safeNumber(e,"minOrderAmount"),p=this.safeNumber(e,"maxOrderAmount");let m=void 0;"AUD"===c&&(m=Math.pow(10,-u));const g={amount:l,price:u},y={amount:{min:f,max:p},price:{min:m,max:void 0},cost:{min:void 0,max:void 0}};i.push({info:e,id:n,symbol:d,base:o,quote:c,baseId:r,quoteId:a,active:void 0,maker:h["maker"],taker:h["taker"],limits:y,precision:g})}return i}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.parse8601(this.safeString(t,"timestamp"))}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsMeBalances(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"assetName"),a=this.safeCurrencyCode(r),n=this.account();n["used"]=this.safeString(e,"locked"),n["total"]=this.safeString(e,"balance"),i[a]=n}return this.parseBalance(i,!1)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,0)),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={marketId:a["id"],timeWindow:this.timeframes[t]};void 0!==i&&(n["from"]=this.iso8601(i)),void 0!==s&&(n["limit"]=s);const o=await this.publicGetMarketsMarketIdCandles(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={marketId:s["id"]},a=await this.publicGetMarketsMarketIdOrderbook(this.extend(r,i)),n=this.safeIntegerProduct(a,"snapshotId",.001),o=this.parseOrderBook(a,e,n);return o["nonce"]=this.safeInteger(a,"snapshotId"),o}parseTicker(e,t){let i=void 0;const s=this.safeString(e,"marketId");if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("-"),r=this.safeCurrencyCode(e),a=this.safeCurrencyCode(t);i=r+"/"+a}void 0===i&&void 0!==t&&(i=t["symbol"]);const r=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"lastPrice"),n=this.safeNumber(e,"volume24h"),o=this.safeNumber(e,"volumeQte24h"),c=this.vwap(n,o),d=this.safeNumber(e,"price24h"),h=this.safeNumber(e,"pricePct24h");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bestBid"),bidVolume:void 0,ask:this.safeNumber(e,"bestAsk"),askVolume:void 0,vwap:c,open:void 0,close:a,last:a,previousClose:void 0,change:d,percentage:h,average:void 0,baseVolume:n,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={marketId:i["id"]},r=await this.publicGetMarketsMarketIdTicker(this.extend(s,t));return this.parseTicker(r,i)}async fetchTicker2(e,t={}){await this.loadMarkets();const i=this.market(e),s={id:i["id"]},r=await this.publicGetMarketIdTick(this.extend(s,t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"marketId");let r=void 0,a=void 0,n=void 0;if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("-");a=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t),r=a+"/"+n}void 0===r&&void 0!==t&&(r=t["symbol"],a=t["base"],n=t["quote"]);let o=void 0;o="AUD"===n?n:a;let c=this.safeString(e,"side");"Bid"===c?c="buy":"Ask"===c&&(c="sell");const d=this.safeString(e,"id"),h=this.safeString(e,"price"),l=this.safeString(e,"amount"),f=this.parseNumber(h),p=this.parseNumber(l),m=this.parseNumber(u.stringMul(h,l)),g=this.safeString(e,"orderId");let y=void 0;const v=this.safeNumber(e,"fee");void 0!==v&&(y={cost:v,currency:o});const b=this.safeStringLower(e,"liquidityType");return{info:e,id:d,timestamp:i,datetime:this.iso8601(i),order:g,symbol:r,type:void 0,side:c,price:f,amount:p,cost:m,takerOrMaker:b,fee:y}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={marketId:r["id"]},n=await this.publicGetMarketsMarketIdTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,a,n={}){await this.loadMarkets();const o=this.market(e),c={marketId:o["id"],amount:this.amountToPrecision(e,s),side:"buy"===i?"Bid":"Ask"},d=t.toLowerCase(),h=this.safeValue(this.options,"orderTypes",{limit:"Limit",market:"Market",stop:"Stop","stop limit":"Stop Limit","take profit":"Take Profit"});c["type"]=this.safeString(h,d,t);let u=!1,l=!1;if("limit"===d?u=!0:"stop limit"===d?(l=!0,u=!0):("take profit"===d||"stop"===d)&&(l=!0),u){if(void 0===a)throw new r(this.id+" createOrder() requires a price argument for a "+t+"order");c["price"]=this.priceToPrecision(e,a)}if(l){const i=this.safeNumber(n,"triggerPrice");if(n=this.omit(n,"triggerPrice"),void 0===i)throw new r(this.id+" createOrder() requires a triggerPrice parameter for a "+t+"order");c["triggerPrice"]=this.priceToPrecision(e,i)}const f=this.safeString(n,"clientOrderId");void 0!==f&&(c["clientOrderId"]=f),n=this.omit(n,"clientOrderId");const p=await this.privatePostOrders(this.extend(c,n));return this.parseOrder(p,o)}async cancelOrders(e,t,i={}){await this.loadMarkets();for(let r=0;r<e.length;r++)e[r]=parseInt(e[r]);const s={ids:e};return await this.privateDeleteBatchordersIds(this.extend(s,i))}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e};return await this.privateDeleteOrdersId(this.extend(s,i))}calculateFee(e,t,i,s,r,a="taker",n={}){const o=this.markets[e],c=o[a];let d=void 0,h=void 0;return"AUD"===o["quote"]?(d=o["quote"],h=parseFloat(this.costToPrecision(e,s*r))):(d=o["base"],h=parseFloat(this.amountToPrecision(e,s))),{type:a,currency:d,rate:c,cost:parseFloat(this.feeToPrecision(e,c*h))}}parseOrderStatus(e){const t={Accepted:"open",Placed:"open","Partially Matched":"open","Fully Matched":"closed",Cancelled:"canceled","Partially Cancelled":"canceled",Failed:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"creationTime")),s=this.safeString(e,"marketId");let r=void 0;if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("-"),i=this.safeCurrencyCode(e),a=this.safeCurrencyCode(t);r=i+"/"+a}void 0===r&&void 0!==t&&(r=t["symbol"]);let a=this.safeString(e,"side");"Bid"===a?a="buy":"Ask"===a&&(a="sell");const n=this.safeStringLower(e,"type"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"amount"),d=this.safeNumber(e,"openAmount"),h=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"orderId"),l=this.safeString(e,"clientOrderId"),f=this.safeString(e,"timeInForce"),p=this.safeNumber(e,"triggerPrice"),m=this.safeValue(e,"postOnly");return this.safeOrder({info:e,id:u,clientOrderId:l,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:r,type:n,timeInForce:f,postOnly:m,side:a,price:o,stopPrice:p,cost:void 0,amount:c,filled:void 0,remaining:d,average:void 0,status:h,trades:void 0,fee:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrdersId(this.extend(s,i));return this.parseOrder(r)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={status:"all"};let a=void 0;void 0!==e&&(a=this.market(e),r["marketId"]=a["id"]),void 0!==t&&(r["after"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetOrders(this.extend(r,s));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={status:"open"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r=await this.fetchOrders(e,t,i,s);return this.filterBy(r,"status","closed")}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["marketId"]=a["id"]),void 0!==t&&(r["after"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetTrades(this.extend(r,s));return this.parseTrades(n,a,t,i)}lookupSymbolFromMarketId(e){let t=void 0,i=void 0;if(void 0!==e)if(e in this.markets_by_id)t=this.markets_by_id[e];else{const[t,s]=e.split("-"),r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(s);i=r+"/"+a}return void 0===i&&void 0!==t&&(i=t["symbol"]),i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/"+this.implodeParams(e,s);const o=this.keysort(this.omit(s,this.extractParams(e)));if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.encode(this.secret));let s=i+n+e;"GET"===i||"DELETE"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(a=this.json(o),s+=a);const c=this.hmac(this.encode(s),t,"sha512","base64");r={Accept:"application/json","Accept-Charset":"UTF-8","Content-Type":"application/json","BM-AUTH-APIKEY":this.apiKey,"BM-AUTH-TIMESTAMP":e,"BM-AUTH-SIGNATURE":c}}else"public"===t&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls["api"][t]+n;return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0!==o){if("success"in o&&!o["success"]){const e=this.safeString(o,"errorCode"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new a(t)}if(e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new a(i)}}}}},"53a4":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return o})),i.d(t,"h",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"f",(function(){return h})),i.d(t,"j",(function(){return u})),i.d(t,"i",(function(){return l})),i.d(t,"d",(function(){return f})),i.d(t,"k",(function(){return p})),i.d(t,"c",(function(){return m})),i.d(t,"g",(function(){return g}));var s=i("9ab4"),r="http://github.com/wavesplatform/signer",a={SIGNER_OPTIONS:1e3,NETWORK_BYTE:1001,NOT_AUTHORIZED:1002,PROVIDER_CONNECT:1003,ENSURE_PROVIDER:1004,PROVIDER_INTERFACE:1005,PROVIDER_INTERNAL:1006,API_ARGUMENTS:1007,NETWORK_ERROR:1008},n=function(e){var t=e.details?"    Details: "+e.details:void 0;return["Signer error:","    Title: "+e.title,"    Type: "+e.type,"    Code: "+e.code,t,"    More info: "+r+"/README.md#error-codes"].filter(Boolean).join("\n")},o=function(e){function t(i){var s=e.call(this,n(i))||this;return s.code=i.code,s.type=i.type,Object.setPrototypeOf(s,t.prototype),s}return Object(s["d"])(t,e),t}(Error),c=function(e){function t(i){var s=e.call(this,{code:a.SIGNER_OPTIONS,title:"Invalid signer options",type:"validation",details:"\n        Invalid signer options: "+i.join(", "),errorArgs:i})||this;return Object.setPrototypeOf(s,t.prototype),s}return Object(s["d"])(t,e),t}(o),d=function(e){function t(i){var s=e.call(this,{code:a.API_ARGUMENTS,title:"Invalid api method arguments",type:"validation",details:"\n        "+i.join("\n        "),errorArgs:i})||this;return Object.setPrototypeOf(s,t.prototype),s}return Object(s["d"])(t,e),t}(o),h=function(e){function t(i){var s=i.error,r=i.node,n=e.call(this,{code:a.NETWORK_BYTE,title:"Network byte fetching has failed",type:"network",details:"\n        Could not fetch network from "+r+": "+s,errorArgs:{error:s,node:r}})||this;return Object.setPrototypeOf(n,t.prototype),n}return Object(s["d"])(t,e),t}(o),u=function(e){function t(i){var s=e.call(this,{code:a.NETWORK_BYTE,title:"Invalid Provider interface",type:"validation",details:"\n        Invalid provider properties: "+i.join(", "),errorArgs:i})||this;return Object.setPrototypeOf(s,t.prototype),s}return Object(s["d"])(t,e),t}(o),l=function(e){function t(i){var s=i.error,r=i.node,n=e.call(this,{code:a.PROVIDER_CONNECT,title:"Could not connect the Provider",type:"network",errorArgs:{error:s,node:r}})||this;return Object.setPrototypeOf(n,t.prototype),n}return Object(s["d"])(t,e),t}(o),f=function(e){function t(t){var i=e.call(this,{code:a.ENSURE_PROVIDER,title:"Provider instance is missing",type:"provider",details:"Can't use method: "+t+". Provider instance is missing",errorArgs:{failedMethod:t}})||this;return Object.setPrototypeOf(i,l.prototype),i}return Object(s["d"])(t,e),t}(o),p=function(e){function t(t){var i=e.call(this,{code:a.ENSURE_PROVIDER,title:"Provider internal error",type:"provider",details:"Provider internal error: "+t+". This is not error of signer.",errorArgs:{errorMessage:t}})||this;return Object.setPrototypeOf(i,l.prototype),i}return Object(s["d"])(t,e),t}(o),m=function(e){function t(t){var i=e.call(this,{code:a.NOT_AUTHORIZED,title:"Authorization error",type:"authorization",details:"Can't use method: "+t+". User must be logged in",errorArgs:{failedMethod:t}})||this;return Object.setPrototypeOf(i,l.prototype),i}return Object(s["d"])(t,e),t}(o),g=function(e){function t(t){return e.call(this,{code:a.NETWORK_ERROR,title:"Network Error",type:"network",details:"Error connect to ",errorArgs:{}})||this}return Object(s["d"])(t,e),t}(o)},"53a8":function(e,t){e.exports=s;var i=Object.prototype.hasOwnProperty;function s(){for(var e={},t=0;t<arguments.length;t++){var s=arguments[t];for(var r in s)i.call(s,r)&&(e[r]=s[r])}return e}},"53ca":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}},5524:function(e,t,i){"use strict";const s=BigInt(0),r=BigInt(-1);class a{constructor(e,t=0){const i="bigint"===typeof e,s="string"===typeof e;if(!i&&!s)throw new Error("Precise initiated with something other than a string or BN");if(i)this.integer=e,this.decimals=t;else{if(t)throw new Error("Cannot set decimals when initializing with a string");let i=0;e=e.toLowerCase(),e.indexOf("e")>-1&&([e,i]=e.split("e"),i=parseInt(i));const s=e.indexOf(".");this.decimals=s>-1?e.length-s-1:0;const r=e.replace(".","");this.integer=BigInt(r),this.decimals=this.decimals-i}this.base=10,this.reduce()}mul(e){const t=this.integer*e.integer;return new a(t,this.decimals+e.decimals)}div(e,t=18){const i=t-this.decimals+e.decimals;let s;if(0===i)s=this.integer;else if(i<0){const e=BigInt(this.base)**BigInt(-i);s=this.integer/e}else{const e=BigInt(this.base)**BigInt(i);s=this.integer*e}const r=s/e.integer;return new a(r,t)}add(e){if(this.decimals===e.decimals){const t=this.integer+e.integer;return new a(t,this.decimals)}{const[t,i]=this.decimals>e.decimals?[e,this]:[this,e],s=i.decimals-t.decimals,r=t.integer*BigInt(this.base)**BigInt(s),n=r+i.integer;return new a(n,i.decimals)}}mod(e){const t=BigInt(this.base),i=Math.max(-this.decimals+e.decimals,0),s=this.integer*t**BigInt(i),r=Math.max(-e.decimals+this.decimals,0),n=e.integer*t**BigInt(r),o=s%n;return new a(o,r+e.decimals)}pow(e){const t=this.integer**e.integer;return new a(t,this.decimals*parseInt(e.integer))}sub(e){const t=new a(-e.integer,e.decimals);return this.add(t)}abs(){return new a(this.integer<0?this.integer*r:this.integer,this.decimals)}neg(){return new a(-this.integer,this.decimals)}reduce(){if(this.integer===s)return this.decimals=0,this;const e=BigInt(this.base);let t=this.integer%e;while(t===s)this.integer=this.integer/e,t=this.integer%e,this.decimals--;return this}toString(){let e,t;this.integer<0?(e="-",t=-this.integer):(e="",t=this.integer);const i=Array.from(t.toString(this.base).padStart(this.decimals,"0")),s=i.length-this.decimals;let r;return r=0===s?"0.":this.decimals<0?"0".repeat(-this.decimals):0===this.decimals?"":".",i.splice(s,0,r),e+i.join("")}static stringMul(e,t){if(void 0!==e&&void 0!==t)return new a(e).mul(new a(t)).toString()}static stringDiv(e,t,i=18){if(void 0!==e&&void 0!==t)return new a(e).div(new a(t),i).toString()}static stringAdd(e,t){if(void 0!==e||void 0!==t)return void 0===e?t:void 0===t?e:new a(e).add(new a(t)).toString()}static stringSub(e,t){if(void 0!==e&&void 0!==t)return new a(e).sub(new a(t)).toString()}static stringAbs(e){if(void 0!==e)return new a(e).abs().toString()}static stringNeg(e){if(void 0!==e)return new a(e).neg().toString()}static stringMod(e,t){if(void 0!==e&&void 0!==t)return new a(e).mod(new a(t)).toString()}static stringPow(e,t){if(void 0!==e&&void 0!==t)return new a(e).pow(new a(t)).toString()}}e.exports=a},5530:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("b64b"),i("a4d3"),i("4de4"),i("e439"),i("159b"),i("dbb4");var s=i("ade3");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){Object(s["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}},5607:function(e,t,i){"use strict";i("a4d3"),i("e01a"),i("d3b7"),i("25f0"),i("b0c0"),i("99af"),i("a9e3"),i("7435e");var s=i("80d2"),r=Symbol("rippleStop"),a=80;function n(e,t){e.style.transform=t,e.style.webkitTransform=t}function o(e,t){e.style.opacity=t.toString()}function c(e){return"TouchEvent"===e.constructor.name}function d(e){return"KeyboardEvent"===e.constructor.name}var h=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0,r=0;if(!d(e)){var a=t.getBoundingClientRect(),n=c(e)?e.touches[e.touches.length-1]:e;s=n.clientX-a.left,r=n.clientY-a.top}var o=0,h=.3;t._ripple&&t._ripple.circle?(h=.15,o=t.clientWidth/2,o=i.center?o:o+Math.sqrt(Math.pow(s-o,2)+Math.pow(r-o,2))/4):o=Math.sqrt(Math.pow(t.clientWidth,2)+Math.pow(t.clientHeight,2))/2;var u="".concat((t.clientWidth-2*o)/2,"px"),l="".concat((t.clientHeight-2*o)/2,"px"),f=i.center?u:"".concat(s-o,"px"),p=i.center?l:"".concat(r-o,"px");return{radius:o,scale:h,x:f,y:p,centerX:u,centerY:l}},u={show:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t._ripple&&t._ripple.enabled){var s=document.createElement("span"),r=document.createElement("span");s.appendChild(r),s.className="v-ripple__container",i.class&&(s.className+=" ".concat(i.class));var a=h(e,t,i),c=a.radius,d=a.scale,u=a.x,l=a.y,f=a.centerX,p=a.centerY,m="".concat(2*c,"px");r.className="v-ripple__animation",r.style.width=m,r.style.height=m,t.appendChild(s);var g=window.getComputedStyle(t);g&&"static"===g.position&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),n(r,"translate(".concat(u,", ").concat(l,") scale3d(").concat(d,",").concat(d,",").concat(d,")")),o(r,0),r.dataset.activated=String(performance.now()),setTimeout((function(){r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),n(r,"translate(".concat(f,", ").concat(p,") scale3d(1,1,1)")),o(r,.25)}),0)}},hide:function(e){if(e&&e._ripple&&e._ripple.enabled){var t=e.getElementsByClassName("v-ripple__animation");if(0!==t.length){var i=t[t.length-1];if(!i.dataset.isHiding){i.dataset.isHiding="true";var s=performance.now()-Number(i.dataset.activated),r=Math.max(250-s,0);setTimeout((function(){i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),o(i,0),setTimeout((function(){var t=e.getElementsByClassName("v-ripple__animation");1===t.length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),i.parentNode&&e.removeChild(i.parentNode)}),300)}),r)}}}}};function l(e){return"undefined"===typeof e||!!e}function f(e){var t={},i=e.currentTarget;if(i&&i._ripple&&!i._ripple.touched&&!e[r]){if(e[r]=!0,c(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||d(e),i._ripple.class&&(t.class=i._ripple.class),c(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=function(){u.show(e,i,t)},i._ripple.showTimer=window.setTimeout((function(){i&&i._ripple&&i._ripple.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)}),a)}else u.show(e,i,t)}}function p(e){var t=e.currentTarget;if(t&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=setTimeout((function(){p(e)})));window.setTimeout((function(){t._ripple&&(t._ripple.touched=!1)})),u.hide(t)}}function m(e){var t=e.currentTarget;t&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}var g=!1;function y(e){g||e.keyCode!==s["w"].enter&&e.keyCode!==s["w"].space||(g=!0,f(e))}function v(e){g=!1,p(e)}function b(e){!0===g&&(g=!1,p(e))}function w(e,t,i){var s=l(t.value);s||u.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=s;var r=t.value||{};r.center&&(e._ripple.centered=!0),r.class&&(e._ripple.class=t.value.class),r.circle&&(e._ripple.circle=r.circle),s&&!i?(e.addEventListener("touchstart",f,{passive:!0}),e.addEventListener("touchend",p,{passive:!0}),e.addEventListener("touchmove",m,{passive:!0}),e.addEventListener("touchcancel",p),e.addEventListener("mousedown",f),e.addEventListener("mouseup",p),e.addEventListener("mouseleave",p),e.addEventListener("keydown",y),e.addEventListener("keyup",v),e.addEventListener("blur",b),e.addEventListener("dragstart",p,{passive:!0})):!s&&i&&k(e)}function k(e){e.removeEventListener("mousedown",f),e.removeEventListener("touchstart",f),e.removeEventListener("touchend",p),e.removeEventListener("touchmove",m),e.removeEventListener("touchcancel",p),e.removeEventListener("mouseup",p),e.removeEventListener("mouseleave",p),e.removeEventListener("keydown",y),e.removeEventListener("keyup",v),e.removeEventListener("dragstart",p),e.removeEventListener("blur",b)}function S(e,t,i){w(e,t,!1)}function _(e){delete e._ripple,k(e)}function O(e,t){if(t.value!==t.oldValue){var i=l(t.oldValue);w(e,t,i)}}var T={bind:S,unbind:_,update:O};t["a"]=T},"563e":function(e,t){function i(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}e.exports=i},5657:function(e,t,i){"use strict";const s=i("90db"),{BadSymbol:r,ExchangeError:a,ExchangeNotAvailable:n,AuthenticationError:o,InvalidOrder:c,InsufficientFunds:d,OrderNotFound:h,DDoSProtection:u,PermissionDenied:l,AddressPending:f,OnMaintenance:p,BadRequest:m,InvalidAddress:g}=i("74b0"),{TRUNCATE:y,DECIMAL_PLACES:v}=i("5ea4"),b=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bittrex",name:"Bittrex",countries:["US"],version:"v3",rateLimit:1500,certified:!1,pro:!0,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOrder:!0,fetchOrderTrades:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"MINUTE_1","5m":"MINUTE_5","1h":"HOUR_1","1d":"DAY_1"},hostname:"bittrex.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87153921-edf53180-c2c0-11ea-96b9-f2a9a95a455b.jpg",api:{public:"https://api.bittrex.com",private:"https://api.bittrex.com"},www:"https://bittrex.com",doc:["https://bittrex.github.io/api/v3"],fees:["https://bittrex.zendesk.com/hc/en-us/articles/115003684371-BITTREX-SERVICE-FEES-AND-WITHDRAWAL-LIMITATIONS","https://bittrex.zendesk.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"],referral:"https://bittrex.com/Account/Register?referralCode=1ZE-G0G-M3B"},api:{public:{get:["ping","currencies","currencies/{symbol}","markets","markets/tickers","markets/summaries","markets/{marketSymbol}","markets/{marketSymbol}/summary","markets/{marketSymbol}/orderbook","markets/{marketSymbol}/trades","markets/{marketSymbol}/ticker","markets/{marketSymbol}/candles/{candleInterval}/recent","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}/{day}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}"]},private:{get:["account","account/volume","addresses","addresses/{currencySymbol}","balances","balances/{currencySymbol}","deposits/open","deposits/closed","deposits/ByTxId/{txId}","deposits/{depositId}","orders/closed","orders/open","orders/{orderId}","orders/{orderId}/executions","ping","subaccounts/{subaccountId}","subaccounts","withdrawals/open","withdrawals/closed","withdrawals/ByTxId/{txId}","withdrawals/{withdrawalId}","withdrawals/whitelistAddresses","conditional-orders/{conditionalOrderId}","conditional-orders/closed","conditional-orders/open","transfers/sent","transfers/received","transfers/{transferId}"],post:["addresses","orders","subaccounts","withdrawals","conditional-orders","transfers"],delete:["orders/open","orders/{orderId}","withdrawals/{withdrawalId}","conditional-orders/{conditionalOrderId}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0035,taker:.0035},funding:{tierBased:!1,percentage:!1}},exceptions:{exact:{BAD_REQUEST:m,STARTDATE_OUT_OF_RANGE:m,APISIGN_NOT_PROVIDED:o,INVALID_SIGNATURE:o,INVALID_CURRENCY:a,INVALID_PERMISSION:o,INSUFFICIENT_FUNDS:d,INVALID_CEILING_MARKET_BUY:c,INVALID_FIAT_ACCOUNT:c,INVALID_ORDER_TYPE:c,QUANTITY_NOT_PROVIDED:c,MIN_TRADE_REQUIREMENT_NOT_MET:c,ORDER_NOT_OPEN:h,INVALID_ORDER:c,UUID_INVALID:h,RATE_NOT_PROVIDED:c,INVALID_MARKET:r,WHITELIST_VIOLATION_IP:l,DUST_TRADE_DISALLOWED_MIN_VALUE:c,RESTRICTED_MARKET:r,"We are down for scheduled maintenance, but well be back up shortly.":p},broad:{throttled:u,problem:n}},options:{fetchTicker:{method:"publicGetMarketsMarketSymbolTicker"},fetchTickers:{method:"publicGetMarketsTickers"},parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1,tag:{NXT:!0,CRYPTO_NOTE_PAYMENTID:!0,BITSHAREX:!0,RIPPLE:!0,NEM:!0,STELLAR:!0,STEEM:!0},subaccountId:void 0,fetchClosedOrdersFilterBySince:!0},commonCurrencies:{REPV2:"REP"}})}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e]["precision"]["price"],v)}feeToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e]["precision"]["price"],v)}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"baseCurrencySymbol"),a=this.safeString(e,"quoteCurrencySymbol"),n=this.safeString(e,"symbol"),o=this.safeCurrencyCode(r),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeInteger(e,"precision",8),u={amount:8,price:h},l=this.safeString(e,"status"),f="ONLINE"===l;i.push({id:n,symbol:d,base:o,quote:c,baseId:r,quoteId:a,active:f,info:e,precision:u,limits:{amount:{min:this.safeNumber(e,"minTradeSize"),max:void 0},price:{min:1/Math.pow(10,u["price"]),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},s=this.indexBy(t,"currencySymbol"),r=Object.keys(s);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e),n=this.account(),o=s[e];n["free"]=this.safeString(o,"available"),n["total"]=this.safeString(o,"total"),i[t]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={marketSymbol:this.marketId(e)};if(void 0!==t){if(1!==t&&25!==t&&500!==t)throw new m(this.id+" fetchOrderBook() limit argument must be undefined, 1, 25 or 500, default is 25");s["depth"]=t}const r=await this.publicGetMarketsMarketSymbolOrderbook(this.extend(s,i)),a=this.safeInteger(this.last_response_headers,"Sequence"),n=this.parseOrderBook(r,e,void 0,"bid","ask","rate","quantity");return n["nonce"]=a,n}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r),n=8,o=this.safeNumber(e,"txFee"),c=this.safeString(e,"status");i[a]={id:r,code:a,address:this.safeString(e,"baseAddress"),info:e,type:this.safeString(e,"coinType"),name:this.safeString(e,"name"),active:"ONLINE"===c,fee:o,precision:n,limits:{amount:{min:1/Math.pow(10,n),max:void 0},withdraw:{min:o,max:void 0}}}}return i}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"updatedAt")),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t,"-"),a=this.safeNumber(e,"percentChange"),n=this.safeNumber(e,"lastTradeRate");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bidRate"),bidVolume:void 0,ask:this.safeNumber(e,"askRate"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:a,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"fetchTickers",{}),s=this.safeString(i,"method","publicGetMarketsTickers"),r=this.safeString(t,"method",s);t=this.omit(t,"method");const a=await this[r](t),n=[];for(let o=0;o<a.length;o++){const e=this.parseTicker(a[o]);n.push(e)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={marketSymbol:i["id"]},r=this.safeValue(this.options,"fetchTicker",{}),a=this.safeString(r,"method","publicGetMarketsMarketSymbolTicker"),n=this.safeString(t,"method",a);t=this.omit(t,"method");const o=await this[n](this.extend(s,t));return this.parseTicker(o,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"executedAt")),s=this.safeString(e,"id"),r=this.safeString(e,"orderId"),a=this.safeString(e,"marketSymbol");t=this.safeMarket(a,t,"-");const n=this.safeString(e,"rate"),o=this.safeString(e,"quantity"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(b.stringMul(n,o));let u=void 0;const l=this.safeValue(e,"isTaker");void 0!==l&&(u=l?"taker":"maker");let f=void 0;const p=this.safeNumber(e,"commission");void 0!==p&&(f={cost:p,currency:t["quote"]});const m=this.safeStringLower(e,"takerSide");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t["symbol"],id:s,order:r,takerOrMaker:u,type:void 0,side:m,price:c,amount:d,cost:h,fee:f}}async fetchTime(e={}){const t=await this.publicGetPing(e);return this.safeInteger(t,"serverTime")}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={marketSymbol:this.marketId(e)},n=await this.publicGetMarketsMarketSymbolTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"startsAt")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=a["baseId"]+"-"+a["quoteId"],o={candleInterval:this.timeframes[t],marketSymbol:n};let c="publicGetMarketsMarketSymbolCandlesCandleIntervalRecent";if(void 0!==i){const e=this.milliseconds(),s=Math.abs(e-i),r=this.ymd(i),a=r.split("-"),n=this.safeInteger(a,0),d=this.safeInteger(a,1),h=this.safeInteger(a,2);"1d"===t?s>316224e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYear",o["year"]=n):"1h"===t?s>26784e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonth",o["year"]=n,o["month"]=d):s>864e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonthDay",o["year"]=n,o["month"]=d,o["day"]=h)}const d=await this[c](this.extend(o,r));return this.parseOHLCVs(d,a,t,i,s)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["marketSymbol"]=a["id"]);const n=await this.privateGetOrdersOpen(this.extend(r,s));return this.parseOrders(n,a,t,i)}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a={orderId:e},n=await this.privateGetOrdersOrderIdExecutions(this.extend(a,r));let o=void 0;return void 0!==t&&(o=this.market(t)),this.parseTrades(n,o,i,s)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c=n["baseId"]+"-"+n["quoteId"],d={marketSymbol:c,direction:i.toUpperCase(),type:o},h="CEILING_LIMIT"===o,u="CEILING_MARKET"===o,l=h||u;if(l){let t=void 0;h?(d["limit"]=this.priceToPrecision(e,r),t=this.safeNumber2(a,"ceiling","cost",s)):u&&(t=this.safeNumber2(a,"ceiling","cost"),void 0===t&&(t=void 0===r?s:s*r)),a=this.omit(a,["ceiling","cost"]),d["ceiling"]=this.costToPrecision(e,t),d["timeInForce"]="IMMEDIATE_OR_CANCEL"}else d["quantity"]=this.amountToPrecision(e,s),"LIMIT"===o?(d["limit"]=this.priceToPrecision(e,r),d["timeInForce"]="GOOD_TIL_CANCELLED"):d["timeInForce"]="IMMEDIATE_OR_CANCEL";const f=await this.privatePostOrders(this.extend(d,a));return this.parseOrder(f,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e},r=await this.privateDeleteOrdersOrderId(this.extend(s,i));return this.extend(this.parseOrder(r),{id:e,info:r,status:"canceled"})}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;void 0!==e&&(s=this.market(e),i["marketSymbol"]=s["id"]);const r=await this.privateDeleteOrdersOpen(this.extend(i,t)),a=[];for(let n=0;n<r.length;n++){const e=this.safeValue(r[n],"result",{});a.push(e)}return this.parseOrders(a,s)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currencySymbol"]=a["id"]);const n=await this.privateGetDepositsClosed(this.extend(r,s));return this.parseTransactions(n,a,void 0,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currencySymbol"]=a["id"]);const n=await this.privateGetWithdrawalsClosed(this.extend(r,s));return this.parseTransactions(n,a,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeNumber(e,"quantity"),r=this.safeString(e,"cryptoAddress"),a=this.safeString(e,"txId"),n=this.parse8601(this.safeString(e,"updatedAt")),o=this.parse8601(this.safeString(e,"createdAt")),c=o||n,d=void 0===o?"deposit":"withdrawal",h=this.safeString(e,"currencySymbol"),u=this.safeCurrencyCode(h,t);let l="pending";if("deposit"===d)l="ok";else{const t=this.safeString(e,"status");"ERROR_INVALID_ADDRESS"===t?l="failed":"CANCELLED"===t?l="canceled":"PENDING"===t?l="pending":("COMPLETED"===t||"AUTHORIZED"===t&&void 0!==a)&&(l="ok")}let f=this.safeNumber(e,"txCost");return void 0===f&&"deposit"===d&&(f=0),{info:e,id:i,currency:u,amount:s,address:r,tag:void 0,status:l,type:d,updated:n,txid:a,timestamp:c,datetime:this.iso8601(c),fee:{currency:u,cost:f}}}parseTimeInForce(e){const t={GOOD_TIL_CANCELLED:"GTC",IMMEDIATE_OR_CANCEL:"IOC",FILL_OR_KILL:"FOK",POST_ONLY_GOOD_TIL_CANCELLED:"PO"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"marketSymbol");t=this.safeMarket(i,t,"-");const s=t["symbol"],r=t["quote"],a=this.safeStringLower(e,"direction"),n=this.safeString(e,"createdAt"),o=this.safeString(e,"updatedAt"),c=this.safeString(e,"closedAt");let d=void 0;void 0!==c?d=this.parse8601(c):o&&(d=this.parse8601(o));const h=this.parse8601(n),u=this.safeStringLower(e,"type"),l=this.safeNumber(e,"quantity"),f=this.safeNumber(e,"limit"),p=this.safeNumber(e,"fillQuantity"),m=this.safeNumber(e,"commission"),g=this.safeNumber(e,"proceeds"),y=this.safeStringLower(e,"status"),v=this.parseTimeInForce(this.safeString(e,"timeInForce")),b="PO"===v;return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:d,symbol:s,type:u,timeInForce:v,postOnly:b,side:a,price:f,stopPrice:void 0,cost:g,average:void 0,amount:l,filled:p,remaining:void 0,status:y,fee:{cost:m,currency:r},info:e,trades:void 0})}parseOrders(e,t,i,s,r={}){return this.options["fetchClosedOrdersFilterBySince"]?super.parseOrders(e,t,i,s,r):super.parseOrders(e,t,void 0,s,r)}parseOrderStatus(e){const t={CLOSED:"closed",OPEN:"open",CANCELLED:"canceled",CANCELED:"canceled"};return this.safeString(t,e,e)}async fetchOrder(e,t,i={}){await this.loadMarkets();let s=void 0;try{const t={orderId:e};s=await this.privateGetOrdersOrderId(this.extend(t,i))}catch(r){if(this.last_json_response){const e=this.safeString(this.last_json_response,"message");if("UUID_INVALID"===e)throw new h(this.id+" fetchOrder() error: "+this.last_http_response)}throw r}return this.parseOrder(s)}orderToTrade(e){const t=this.safeInteger2(e,"lastTradeTimestamp","timestamp");return{id:this.safeString(e,"id"),side:this.safeString(e,"side"),order:this.safeString(e,"id"),type:this.safeString(e,"type"),price:this.safeNumber(e,"average"),amount:this.safeNumber(e,"filled"),cost:this.safeNumber(e,"cost"),symbol:this.safeString(e,"symbol"),timestamp:t,datetime:this.iso8601(t),fee:this.safeValue(e,"fee"),info:e,takerOrMaker:void 0}}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.orderToTrade(e[i]));return t}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["pageSize"]=i),void 0!==t&&(r["startDate"]=this.ymdhms(t,"T")+"Z");let a=void 0;void 0!==e&&(a=this.market(e),r["marketSymbol"]=a["base"]+"-"+a["quote"]);const n=await this.privateGetOrdersClosed(this.extend(r,s)),o=this.parseOrders(n,a),c=this.ordersToTrades(o);return this.filterBySymbolSinceLimit(c,e,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["pageSize"]=i),void 0!==t&&(r["startDate"]=this.ymdhms(t,"T")+"Z");let a=void 0;void 0!==e&&(a=this.market(e),r["marketSymbol"]=a["base"]+"-"+a["quote"]);const n=await this.privateGetOrdersClosed(this.extend(r,s));return this.parseOrders(n,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currencySymbol:i["id"]},r=await this.privatePostAddresses(this.extend(s,t));let a=this.safeString(r,"cryptoAddress");const n=this.safeString(r,"status");if(!a||"REQUESTED"===n)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=this.safeString(r,"cryptoAddressTag");return void 0===o&&i["type"]in this.options["tag"]&&(o=a,a=i["address"]),this.checkAddress(a),{currency:e,address:a,tag:o,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currencySymbol:i["id"]},r=await this.privateGetAddressesCurrencySymbol(this.extend(s,t));let a=this.safeString(r,"cryptoAddress");const n=this.safeString(r,"status");if(!a||"REQUESTED"===n)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=this.safeString(r,"cryptoAddressTag");return void 0===o&&i["type"]in this.options["tag"]&&(o=a,a=i["address"]),this.checkAddress(a),{currency:e,address:a,tag:o,info:r}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currencySymbol:a["id"],quantity:t,cryptoAddress:i};void 0!==s&&(n["cryptoAddressTag"]=s);const o=await this.privatePostWithdrawals(this.extend(n,r)),c=this.safeString(o,"id");return{info:o,id:c}}sign(e,t="v3",i="GET",s={},r,a){let n=this.implodeParams(this.urls["api"][t],{hostname:this.hostname})+"/";if("private"===t){n+=this.version+"/",this.checkRequiredCredentials(),n+=this.implodeParams(e,s),s=this.omit(s,this.extractParams(e));let t="";"POST"===i?(a=this.json(s),t=a):Object.keys(s).length&&(n+="?"+this.rawencode(s));const o=this.hash(this.encode(t),"sha512","hex"),c=this.milliseconds().toString();let d=c+n+i+o;const h=this.safeValue(this.options,"subaccountId");void 0!==h&&(d+=h);const u=this.hmac(this.encode(d),this.encode(this.secret),"sha512");r={"Api-Key":this.apiKey,"Api-Timestamp":c,"Api-Content-Hash":o,"Api-Signature":u},void 0!==h&&(r["Api-Subaccount-Id"]=h),"POST"===i&&(r["Content-Type"]="application/json")}else"public"===t&&(n+=this.version+"/"),n+=this.implodeParams(e,s),s=this.omit(s,this.extractParams(e)),Object.keys(s).length&&(n+="?"+this.urlencode(s));return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,c,d,l){if(void 0!==c&&"{"===n[0]){const e=this.id+" "+n;let t=this.safeValue(c,"success");if(void 0===t){const t=this.safeString(c,"code");if(void 0!==t&&(this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],t,e)),"NOT_FOUND"===t&&i.indexOf("addresses")>=0)throw new g(e);return}if("string"===typeof t&&(t="true"===t),!t){const t=this.safeString(c,"message");if("APIKEY_INVALID"===t)throw this.options["hasAlreadyAuthenticatedSuccessfully"]?new u(e):new o(e);if("INVALID_ORDER"===t){const e="cancel",t=i.indexOf(e);if(t>=0){const e=i.split("?"),t=e.length;if(t>1){const t=e[1],i=t.split("&"),s=i.length;let r=void 0;for(let e=0;e<s;e++){const t=i[e],s=t.split("=");if("uuid"===s[0]){r=s[1];break}}throw new h(void 0!==r?this.id+" cancelOrder "+r+" "+this.json(c):this.id+" cancelOrder "+this.json(c))}}}throw this.throwExactlyMatchedException(this.exceptions["exact"],t,e),void 0!==t&&this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new a(e)}}}}},"566f":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a}=i("74b0"),n=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e3,version:"1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0},urls:{referral:"https://www.luno.com/invite/44893A",logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:{public:"https://api.luno.com/api",private:"https://api.luno.com/api",exchange:"https://api.luno.com/api/exchange"},www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{exchange:{get:["markets"]},public:{get:["orderbook","orderbook_top","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","beneficiaries","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}","transfers"],post:["accounts","accounts/{id}/name","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["accounts/{id}/name","quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}async fetchMarkets(e={}){const t=await this.exchangeGetMarkets(e),i=[],s=this.safeValue(t,"markets",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"market_id"),a=this.safeString(e,"base_currency"),n=this.safeString(e,"counter_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeString(e,"trading_status"),u="ACTIVE"===h,l={amount:this.safeInteger(e,"volume_scale"),price:this.safeInteger(e,"price_scale")};i.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:u,precision:l,limits:{amount:{min:this.safeNumber(e,"min_volume"),max:this.safeNumber(e,"max_volume")},price:{min:this.safeNumber(e,"min_price"),max:this.safeNumber(e,"max_price")},cost:{min:void 0,max:void 0}},info:e})}return i}async fetchAccounts(e={}){const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"account_id"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a);s.push({id:t,type:void 0,currency:n,info:e})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),s={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"asset"),a=this.safeCurrencyCode(t),o=this.safeString(e,"reserved"),c=this.safeString(e,"unconfirmed"),d=this.safeString(e,"balance"),h=n.stringAdd(o,c),u=n.stringAdd(d,c);if(a in s)s[a]["used"]=n.stringAdd(s[a]["used"],h),s[a]["total"]=n.stringAdd(s[a]["total"],u);else{const e=this.account();e["used"]=h,e["total"]=u,s[a]=e}}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();let s="publicGetOrderbook";void 0!==t&&t<=100&&(s+="Top");const r={pair:this.marketId(e)},a=await this[s](this.extend(r,i)),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks","price","volume")}parseOrderStatus(e){const t={PENDING:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp");let s=this.parseOrderStatus(this.safeString(e,"state"));s=s;let r=void 0;const a=this.safeString(e,"type");"ASK"===a||"SELL"===a?r="sell":"BID"!==a&&"BUY"!==a||(r="buy");const n=this.safeString(e,"pair"),o=this.safeSymbol(n,t),c=this.safeNumber(e,"limit_price"),d=this.safeNumber(e,"limit_volume"),h=this.safeNumber(e,"fee_counter"),u=this.safeNumber(e,"fee_base"),l=this.safeNumber(e,"base"),f=this.safeNumber(e,"counter"),p={currency:void 0};h?(p["cost"]=h,void 0!==t&&(p["currency"]=t["quote"])):(p["cost"]=u,void 0!==t&&(p["currency"]=t["base"]));const m=this.safeString(e,"order_id");return this.safeOrder({id:m,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:s,symbol:o,type:void 0,timeInForce:void 0,postOnly:void 0,side:r,price:c,stopPrice:void 0,amount:d,filled:l,cost:f,remaining:void 0,trades:void 0,fee:p,info:e,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrdersId(this.extend(s,i));return this.parseOrder(r)}async fetchOrdersByState(e,t,i,s,r={}){await this.loadMarkets();const a={};let n=void 0;void 0!==e&&(a["state"]=e),void 0!==t&&(n=this.market(t),a["pair"]=n["id"]);const o=await this.privateGetListorders(this.extend(a,r)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,n,i,s)}async fetchOrders(e,t,i,s={}){return await this.fetchOrdersByState(void 0,e,t,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByState("PENDING",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByState("COMPLETE",e,t,i,s)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let s=void 0;t&&(s=t["symbol"]);const r=this.safeNumber(e,"last_trade");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s=this.indexBy(i["tickers"],"pair"),r=Object.keys(s),a={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeMarket(e),i=t["symbol"],o=s[e];a[i]=this.parseTicker(o,t)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},r=await this.publicGetTicker(this.extend(s,t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeString(e,"order_id");let s=void 0,r=void 0;if(void 0!==i){const t=this.safeString(e,"type");"ASK"===t||"SELL"===t?r="sell":"BID"!==t&&"BUY"!==t||(r="buy"),s="sell"===r&&e["is_buy"]?"maker":"buy"!==r||e["is_buy"]?"taker":"maker"}else r=e["is_buy"]?"buy":"sell";const a=this.safeNumber(e,"fee_base"),n=this.safeNumber(e,"fee_counter");let o=void 0,c=void 0;void 0!==a?0!==a&&(o=t["base"],c=a):void 0!==n&&0!==n&&(o=t["quote"],c=n);const d=this.safeInteger(e,"timestamp");return{info:e,id:void 0,timestamp:d,datetime:this.iso8601(d),symbol:t["symbol"],order:i,type:void 0,side:r,takerOrMaker:s,price:this.safeNumber(e,"price"),amount:this.safeNumber(e,"volume"),cost:this.safeNumber(e,"counter"),fee:{cost:c,currency:o}}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==t&&(a["since"]=t);const n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={pair:r["id"]};void 0!==t&&(n["since"]=t),void 0!==i&&(n["limit"]=i);const o=await this.privateGetListtrades(this.extend(n,s)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,r,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetFeeInfo(e);return{info:t,maker:this.safeNumber(t,"maker_fee"),taker:this.safeNumber(t,"taker_fee")}}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();let n="privatePost";const o={pair:this.marketId(e)};"market"===t?(n+="Marketorder",o["type"]=i.toUpperCase(),"buy"===i?o["counter_volume"]=parseFloat(this.amountToPrecision(e,s)):o["base_volume"]=parseFloat(this.amountToPrecision(e,s))):(n+="Postorder",o["volume"]=parseFloat(this.amountToPrecision(e,s)),o["price"]=parseFloat(this.priceToPrecision(e,r)),o["type"]="buy"===i?"BID":"ASK");const c=await this[n](this.extend(o,a));return{info:c,id:c["order_id"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e};return await this.privatePostStoporder(this.extend(s,i))}async fetchLedgerByEntries(e,t=-1,i=1,s={}){const r=void 0,a={min_row:t,max_row:this.sum(t,i)};return await this.fetchLedger(e,r,i,this.extend(a,s))}async fetchLedger(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();let n=void 0,o=this.safeString(s,"id"),c=this.safeValue(s,"min_row"),d=this.safeValue(s,"max_row");if(void 0===o){if(void 0===e)throw new a(this.id+" fetchLedger() requires a currency code argument if no account id specified in params");n=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new r(this.id+" fetchLedger() could not find account id for "+e);o=i["id"]}if(void 0===c&&void 0===d)d=0,c=-1e3;else if(void 0===c||void 0===d)throw new r(this.id+" fetchLedger() require both params 'max_row' and 'min_row' or neither to be defined");if(void 0!==i&&d-c>i&&(d<=0?c=d-i:c>0&&(d=c+i)),d-c>1e3)throw new r(this.id+" fetchLedger() requires the params 'max_row' - 'min_row' <= 1000");const h={id:o,min_row:c,max_row:d},u=await this.privateGetAccountsIdTransactions(this.extend(s,h)),l=this.safeValue(u,"transactions",[]);return this.parseLedger(l,n,t,i)}parseLedgerComment(e){const t=e.split(" "),i={Withdrawal:"fee",Trading:"fee",Payment:"transaction",Sent:"transaction",Deposit:"transaction",Received:"transaction",Released:"released",Reserved:"reserved",Sold:"trade",Bought:"trade",Failure:"failed"};let s=void 0;const r=this.safeString(t,0),a=this.safeString(t,2),n=this.safeString(t,3);let o=this.safeString(i,r,void 0);return void 0===o&&"fee"===a&&(o="fee"),"reserved"===o&&"order"===n&&(s=this.safeString(t,4)),{type:o,referenceId:s}}parseLedgerEntry(e,t){const i=this.safeString(e,"row_index"),s=this.safeString(e,"account_id"),r=this.safeValue(e,"timestamp"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.safeNumber(e,"available_delta"),c=this.safeNumber(e,"balance_delta"),d=this.safeNumber(e,"balance"),h=this.safeString(e,"description");let u=d,l=0;const f=this.parseLedgerComment(h),p=f["type"],m=f["referenceId"];let g=void 0,y=void 0;return 0!==c?(u=d-c,y="ok",l=Math.abs(c)):o<0?(y="pending",l=Math.abs(o)):o>0&&(y="canceled",l=Math.abs(o)),c>0||o>0?g="in":(c<0||o<0)&&(g="out"),{id:i,direction:g,account:s,referenceId:m,referenceAccount:void 0,type:p,currency:n,amount:l,timestamp:r,datetime:this.iso8601(r),before:u,after:d,status:y,fee:void 0,info:e}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if(Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.stringToBase64(this.apiKey+":"+this.secret);r={Authorization:"Basic "+this.decode(e)}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("error"in o)throw new r(this.id+" "+this.json(o));return o}}},5692:function(e,t,i){var s=i("c430"),r=i("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:s?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"56af":function(e,t,i){"use strict";const s=i("90db"),{NotSupported:r,RateLimitExceeded:a,AuthenticationError:n,PermissionDenied:o,ArgumentsRequired:c,ExchangeError:d,ExchangeNotAvailable:h,InsufficientFunds:u,InvalidOrder:l,OrderNotFound:f,InvalidNonce:p,BadSymbol:m}=i("74b0"),{SIGNIFICANT_DIGITS:g,DECIMAL_PLACES:y,TRUNCATE:v,ROUND:b}=i("5ea4"),w=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitfinex",name:"Bitfinex",countries:["VG"],version:"v1",rateLimit:1500,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,deposit:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0,transfer:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v2:"https://api-pub.bitfinex.com",public:"https://api.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",referral:"https://www.bitfinex.com/?refcode=P61eYxFL",doc:["https://docs.bitfinex.com/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{feeSide:"get",tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2}}},commonCurrencies:{ALG:"ALGO",AMP:"AMPL",ATO:"ATOM",BCHABC:"BCHA",BCHN:"BCH",DAT:"DATA",DOG:"MDOGE",DSH:"DASH",EDO:"PNT",EUS:"EURS",EUT:"EURT",IOT:"IOTA",IQX:"IQ",MNA:"MANA",ORS:"ORS Group",PAS:"PASS",QSH:"QASH",QTM:"QTUM",RBT:"RBTC",SNG:"SNGLS",STJ:"STORJ",TSD:"TUSD",YYW:"YOYOW",UDC:"USDC",UST:"USDT",VSY:"VSYS",WAX:"WAXP",XCH:"XCHF",ZBT:"ZB"},exceptions:{exact:{temporarily_unavailable:h,"Order could not be cancelled.":f,"No such order found.":f,"Order price must be positive.":l,"Could not find a key matching the given X-BFX-APIKEY.":n,'Key price should be a decimal number, e.g. "123.456"':l,'Key amount should be a decimal number, e.g. "123.456"':l,ERR_RATE_LIMIT:a,Ratelimit:a,"Nonce is too small.":p,"No summary found.":d,"Cannot evaluate your available balance, please try again":h,"Unknown symbol":m,"Cannot complete transfer. Exchange balance insufficient.":u,"Momentary balance check. Please wait few seconds and try the transfer again.":d},broad:{"Invalid X-BFX-SIGNATURE":n,"This API key does not have permission":o,"not enough exchange balance for ":u,"minimum size for ":l,"Invalid order":l,"The available balance is only":u}},precisionMode:g,options:{currencyNames:{AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bab",BCI:"bci",BFT:"bft",BSV:"bsv",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",COMP:"comp",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LEO:"let",LINK:"link",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STORJ:"stj",TNB:"tnb",TRX:"trx",TUSD:"tsd",USD:"wire",USDC:"udc",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx",XTZ:"xtz"},orderTypes:{limit:"exchange limit",market:"exchange market"},accountsByType:{spot:"exchange",margin:"trading",funding:"deposit",exchange:"exchange",trading:"trading",deposit:"deposit",derivatives:"trading"}}})}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostAccountFees(e),i=t["withdraw"],s={},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e);s[t]=this.safeNumber(i,e)}return{info:t,withdraw:s,deposit:s}}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostSummary(e);return{info:t,maker:this.safeNumber(t,"maker_fee"),taker:this.safeNumber(t,"taker_fee")}}async fetchMarkets(e={}){const t=await this.publicGetSymbols(),i=await this.publicGetSymbolsDetails(),s=[];for(let r=0;r<i.length;r++){const e=i[r];let a=this.safeString(e,"pair");if(!this.inArray(a,t))continue;a=a.toUpperCase();let n=void 0,o=void 0;if(a.indexOf(":")>=0){const e=a.split(":");n=e[0],o=e[1]}else n=a.slice(0,3),o=a.slice(3,6);const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={price:this.safeInteger(e,"price_precision"),amount:8},l=this.safeString(e,"minimum_order_size"),f=this.safeString(e,"maximum_order_size"),p={amount:{min:this.parseNumber(l),max:this.parseNumber(f)},price:{min:this.parseNumber("1e-8"),max:void 0},cost:{min:void 0,max:void 0}},m=this.safeValue(e,"margin");s.push({id:a,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,type:"spot",margin:m,precision:u,limits:p,info:e})}return s}amountToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e]["precision"]["amount"],y)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,b,this.markets[e]["precision"]["price"],this.precisionMode),this.decimalToPrecision(t,v,8,y)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"accountsByType",{}),i=this.safeString(e,"type","exchange"),s=this.safeString(t,i);if(void 0===s){const e=Object.keys(t);throw new d(this.id+" fetchBalance type parameter must be one of "+e.join(", "))}const r=this.omit(e,"type"),a=await this.privatePostBalances(r),n={info:a},o="derivatives"===i;for(let c=0;c<a.length;c++){const e=a[c],t=this.safeString(e,"type"),i=this.safeStringLower(e,"currency",""),r=i.length-2,d="f0"===i.slice(r),h=!o||d;if(s===t&&h){const t=this.safeCurrencyCode(i);if(!(t in n)){const i=this.account();i["free"]=this.safeString(e,"available"),i["total"]=this.safeString(e,"amount"),n[t]=i}}}return this.parseBalance(n,!1)}async transfer(e,t,i,s,r={}){await this.loadMarkets();const a=this.safeValue(this.options,"accountsByType",{}),n=this.safeString(a,i);if(void 0===n){const e=Object.keys(a);throw new d(this.id+" transfer fromAccount must be one of "+e.join(", "))}const o=this.safeString(a,s);if(void 0===o){const e=Object.keys(a);throw new d(this.id+" transfer toAccount must be one of "+e.join(", "))}const c=this.currencyId(e),h=this.convertDerivativesId(c,i),u=this.convertDerivativesId(c,s),l=this.currencyToPrecision(e,t),f={amount:l,currency:h,currency_to:u,walletfrom:n,walletto:o},p=await this.privatePostTransfer(this.extend(f,r)),m=this.safeValue(p,0),g=this.safeString(m,"status"),y=this.safeString(m,"message");if(void 0===y)throw new d(this.id+" transfer failed");if("error"===g)throw this.throwExactlyMatchedException(this.exceptions["exact"],y,this.id+" "+y),new d(this.id+" "+y);return{info:p,status:g,amount:l,code:e,fromAccount:i,toAccount:s,timestamp:void 0,datetime:void 0}}convertDerivativesId(e,t){const i=e.length-2,s="F0"===e.slice(i);return"derivatives"!==t&&"trading"!==t&&"margin"!==t&&s?e=e.slice(0,i):"derivatives"!==t||s||(e+="F0"),e}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==t&&(s["limit_bids"]=t,s["limit_asks"]=t);const r=await this.publicGetBookSymbol(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"bids","asks","price","amount")}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetPubtickerSymbol(this.extend(s,t));return this.parseTicker(r,i)}parseTicker(e,t){let i=this.safeNumber(e,"timestamp");void 0!==i&&(i*=1e3),i=parseInt(i);let s=void 0;if(void 0!==t)s=t["symbol"];else if("pair"in e){const i=this.safeString(e,"pair");if(void 0!==i)if(i in this.markets_by_id)t=this.markets_by_id[i],s=t["symbol"];else{const e=i.slice(0,3),t=i.slice(3,6),r=this.safeCurrencyCode(e),a=this.safeCurrencyCode(t);s=r+"/"+a}}const r=this.safeNumber(e,"last_price");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"mid"),baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){const i=this.safeString(e,"tid");let s=this.safeNumber(e,"timestamp");void 0!==s&&(s=1e3*parseInt(s));const r=void 0,a=this.safeStringLower(e,"type"),n=this.safeString(e,"order_id"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(w.stringMul(o,c));let l=void 0;if("fee_amount"in e){const t=-this.safeNumber(e,"fee_amount"),i=this.safeString(e,"fee_currency"),s=this.safeCurrencyCode(i);l={cost:t,currency:s}}return{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:t["symbol"],type:r,order:n,side:a,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:l}}async fetchTrades(e,t,i=50,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"],limit_trades:i};void 0!==t&&(a["timestamp"]=parseInt(t/1e3));const n=await this.publicGetTradesSymbol(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new c(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit_trades"]=i),void 0!==t&&(a["timestamp"]=parseInt(t/1e3));const n=await this.privatePostMytrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={symbol:this.marketId(e),side:i,amount:this.amountToPrecision(e,s),type:this.safeString(this.options["orderTypes"],t,t),ocoorder:!1,buy_price_oco:0,sell_price_oco:0};n["price"]="market"===t?this.nonce().toString():this.priceToPrecision(e,r);const o=await this.privatePostOrderNew(this.extend(n,a));return this.parseOrder(o)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o={order_id:parseInt(e)};void 0!==a&&(o["price"]=this.priceToPrecision(t,a)),void 0!==r&&(o["amount"]=this.numberToString(r)),void 0!==t&&(o["symbol"]=this.marketId(t)),void 0!==s&&(o["side"]=s),void 0!==i&&(o["type"]=this.safeString(this.options["orderTypes"],i,i));const c=await this.privatePostOrderCancelReplace(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:parseInt(e)};return await this.privatePostOrderCancel(this.extend(s,i))}async cancelAllOrders(e,t={}){return await this.privatePostOrderCancelAll(t)}parseOrder(e,t){const i=this.safeString(e,"side"),s=this.safeValue(e,"is_live"),r=this.safeValue(e,"is_cancelled");let a=void 0;a=s?"open":r?"canceled":"closed";const n=this.safeStringUpper(e,"symbol"),o=this.safeSymbol(n,t);let c=this.safeString(e,"type","");const d=c.indexOf("exchange ")>=0;if(d){const t=e["type"].split(" ");c=t[1]}const h=this.safeTimestamp(e,"timestamp"),u=this.safeString(e,"id");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:o,type:c,timeInForce:void 0,postOnly:void 0,side:i,price:this.safeNumber(e,"price"),stopPrice:void 0,average:this.safeNumber(e,"avg_execution_price"),amount:this.safeNumber(e,"original_amount"),remaining:this.safeNumber(e,"remaining_amount"),filled:this.safeNumber(e,"executed_amount"),status:a,fee:void 0,cost:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,s={}){if(await this.loadMarkets(),void 0!==e&&!(e in this.markets))throw new d(this.id+" has no symbol "+e);const r=await this.privatePostOrders(s);let a=this.parseOrders(r,void 0,t,i);return void 0!==e&&(a=this.filterBy(a,"symbol",e)),a}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["limit"]=i);const a=await this.privatePostOrdersHist(this.extend(r,s));let n=this.parseOrders(a,void 0,t,i);return void 0!==e&&(n=this.filterBy(n,"symbol",e)),n=this.filterByArray(n,"status",["closed","canceled"],!1),n}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:parseInt(e)},r=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrder(r)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets(),void 0===s&&(s=100);const a=this.market(e),n="t"+a["id"],o={symbol:n,timeframe:this.timeframes[t],sort:1,limit:s};void 0!==i&&(o["start"]=i);const c=await this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(o,r));return this.parseOHLCVs(c,a,t,i,s)}getCurrencyName(e){if(e in this.options["currencyNames"])return this.options["currencyNames"][e];throw new r(this.id+" "+e+" not supported for withdrawal")}async createDepositAddress(e,t={}){await this.loadMarkets();const i={renew:1},s=await this.fetchDepositAddress(e,this.extend(i,t));return s}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.getCurrencyName(e),s={method:i,wallet_name:"exchange",renew:0},r=await this.privatePostDepositNew(this.extend(s,t));let a=this.safeValue(r,"address"),n=void 0;return"address_pool"in r&&(n=a,a=r["address_pool"]),this.checkAddress(a),{currency:e,address:a,tag:n,info:r}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();let r=this.safeString(s,"currency");const a=this.omit(s,"currency");let n=void 0;if(void 0===r){if(void 0===e)throw new c(this.id+" fetchTransactions() requires a currency `code` argument or a `currency` parameter");n=this.currency(e),r=n["id"]}a["currency"]=r,void 0!==t&&(a["since"]=parseInt(t/1e3));const o=await this.privatePostHistoryMovements(this.extend(a,s));return this.parseTransactions(o,n,t,i)}parseTransaction(e,t){let i=this.safeNumber(e,"timestamp_created");void 0!==i&&(i=parseInt(1e3*i));let s=this.safeNumber(e,"timestamp");void 0!==s&&(s=parseInt(1e3*s));const r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r,t),n=this.safeStringLower(e,"type"),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:void 0,type:n,amount:this.safeNumber(e,"amount"),currency:a,status:o,updated:s,fee:{currency:a,cost:c,rate:void 0}}}parseTransactionStatus(e){const t={SENDING:"pending",CANCELED:"canceled",ZEROCONFIRMED:"failed",COMPLETED:"ok"};return this.safeString(t,e,e)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.getCurrencyName(e),n={withdraw_type:a,walletselected:"exchange",amount:this.numberToString(t),address:i};void 0!==s&&(n["payment_id"]=s);const o=await this.privatePostWithdraw(this.extend(n,r)),c=o[0],h=this.safeString(c,"withdrawal_id"),u=this.safeString(c,"message"),l=this.findBroadlyMatchedKey(this.exceptions["broad"],u);if(0===h){if(void 0!==l){const e=this.exceptions["broad"][l];throw new e(this.id+" "+u)}throw new d(this.id+" withdraw returned an id of zero: "+this.json(c))}return{info:c,id:h}}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privatePostPositions(t);return i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);n="v2"===t?"/"+t+n:"/"+this.version+n;let o=this.omit(s,this.extractParams(e)),c=this.urls["api"][t]+n;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(o).length){const e="?"+this.urlencode(o);c+=e,n+=e}if("private"===t){this.checkRequiredCredentials();const e=this.nonce();o=this.extend({nonce:e.toString(),request:n},o),a=this.json(o);const t=this.stringToBase64(a),i=this.encode(this.secret),s=this.hmac(t,i,"sha384");r={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(t),"X-BFX-SIGNATURE":s,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,c){if(void 0!==n&&e>=400&&"{"===a[0]){const e=this.id+" "+a,t=this.safeString2(n,"message","error");throw this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new d(e)}}}},"56b8":function(e,t,i){"use strict";
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */t.__esModule=!0;for(var s="0123456789abcdef".split(""),r=[31,7936,2031616,520093696],a=[1,256,65536,16777216],n=[6,1536,393216,100663296],o=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],h=[128,256],u=["hex","buffer","arrayBuffer","array"],l=function(e,t,i){return function(s){return new O(e,t,e).update(s)[i]()}},f=function(e,t,i){return function(s,r){return new O(e,t,r).update(s)[i]()}},p=function(e,t){var i=l(e,t,"hex");i.create=function(){return new O(e,t,e)},i.update=function(e){return i.create().update(e)};for(var s=0;s<u.length;++s){var r=u[s];i[r]=l(e,t,r)}return i},m=function(e,t){var i=f(e,t,"hex");i.create=function(i){return new O(e,t,i)},i.update=function(e,t){return i.create(t).update(e)};for(var s=0;s<u.length;++s){var r=u[s];i[r]=f(e,t,r)}return i},g=[{name:"keccak",padding:a,bits:d,createMethod:p},{name:"sha3",padding:n,bits:d,createMethod:p},{name:"shake",padding:r,bits:h,createMethod:m}],y={},v=[],b=0;b<g.length;++b)for(var w=g[b],k=w.bits,S=0;S<k.length;++S){var _=w.name+"_"+k[S];v.push(_),y[_]=w.createMethod(k[S],w.padding)}function O(e,t,i){this.blocks=[],this.s=[],this.padding=t,this.outputBits=i,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var s=0;s<50;++s)this.s[s]=0}O.prototype.update=function(e){var t="string"!==typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));var i,s,r=e.length,a=this.blocks,n=this.byteCount,c=this.blockCount,d=0,h=this.s;while(d<r){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<c+1;++i)a[i]=0;if(t)for(i=this.start;d<r&&i<n;++d)a[i>>2]|=e[d]<<o[3&i++];else for(i=this.start;d<r&&i<n;++d)s=e.charCodeAt(d),s<128?a[i>>2]|=s<<o[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<o[3&i++],a[i>>2]|=(128|63&s)<<o[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<o[3&i++],a[i>>2]|=(128|s>>6&63)<<o[3&i++],a[i>>2]|=(128|63&s)<<o[3&i++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++d)),a[i>>2]|=(240|s>>18)<<o[3&i++],a[i>>2]|=(128|s>>12&63)<<o[3&i++],a[i>>2]|=(128|s>>6&63)<<o[3&i++],a[i>>2]|=(128|63&s)<<o[3&i++]);if(this.lastByteIndex=i,i>=n){for(this.start=i-n,this.block=a[c],i=0;i<c;++i)h[i]^=a[i];T(h),this.reset=!0}else this.start=i}return this},O.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,s=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[i],t=1;t<i+1;++t)e[t]=0;for(e[i-1]|=2147483648,t=0;t<i;++t)s[t]^=e[t];T(s)},O.prototype.toString=O.prototype.hex=function(){this.finalize();var e,t=this.blockCount,i=this.s,r=this.outputBlocks,a=this.extraBytes,n=0,o=0,c="";while(o<r){for(n=0;n<t&&o<r;++n,++o)e=i[n],c+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];o%t===0&&(T(i),n=0)}return a&&(e=i[n],a>0&&(c+=s[e>>4&15]+s[15&e]),a>1&&(c+=s[e>>12&15]+s[e>>8&15]),a>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},O.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,i=this.s,s=this.outputBlocks,r=this.extraBytes,a=0,n=0,o=this.outputBits>>3;e=r?new ArrayBuffer(s+1<<2):new ArrayBuffer(o);var c=new Uint32Array(e);while(n<s){for(a=0;a<t&&n<s;++a,++n)c[n]=i[a];n%t===0&&T(i)}return r&&(c[a]=i[a],e=e.slice(0,o)),e},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();var e,t,i=this.blockCount,s=this.s,r=this.outputBlocks,a=this.extraBytes,n=0,o=0,c=[];while(o<r){for(n=0;n<i&&o<r;++n,++o)e=o<<2,t=s[n],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%i===0&&T(s)}return a&&(e=o<<2,t=s[n],a>0&&(c[e]=255&t),a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c};var T=function(e){var t,i,s,r,a,n,o,d,h,u,l,f,p,m,g,y,v,b,w,k,S,_,O,T,C,x,I,E,A,N,M,P,B,R,L,V,D,q,j,G,U,F,H,z,K,W,$,Y,X,Z,Q,J,ee,te,ie,se,re,ae,ne,oe,ce,de,he;for(s=0;s<48;s+=2)r=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],n=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],p=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(n<<1|o>>>31),i=p^(o<<1|n>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=r^(d<<1|h>>>31),i=a^(h<<1|d>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=n^(u<<1|l>>>31),i=o^(l<<1|u>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=d^(f<<1|p>>>31),i=h^(p<<1|f>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=u^(r<<1|a>>>31),i=l^(a<<1|r>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,m=e[0],g=e[1],W=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,V=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,C=e[7]<<28|e[6]>>>4,se=e[17]<<23|e[16]>>>9,re=e[16]<<23|e[17]>>>9,q=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,S=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,x=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,G=e[38]<<8|e[39]>>>24,U=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,O=e[49]<<14|e[48]>>>18,e[0]=m^~y&b,e[1]=g^~v&w,e[10]=T^~x&E,e[11]=C^~I&A,e[20]=R^~V&q,e[21]=L^~D&j,e[30]=z^~W&Y,e[31]=K^~$&X,e[40]=te^~se&ae,e[41]=ie^~re&ne,e[2]=y^~b&k,e[3]=v^~w&S,e[12]=x^~E&N,e[13]=I^~A&M,e[22]=V^~q&G,e[23]=D^~j&U,e[32]=W^~Y&Z,e[33]=$^~X&Q,e[42]=se^~ae&oe,e[43]=re^~ne&ce,e[4]=b^~k&_,e[5]=w^~S&O,e[14]=E^~N&P,e[15]=A^~M&B,e[24]=q^~G&F,e[25]=j^~U&H,e[34]=Y^~Z&J,e[35]=X^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=k^~_&m,e[7]=S^~O&g,e[16]=N^~P&T,e[17]=M^~B&C,e[26]=G^~F&R,e[27]=U^~H&L,e[36]=Z^~J&z,e[37]=Q^~ee&K,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=_^~m&y,e[9]=O^~g&v,e[18]=P^~T&x,e[19]=B^~C&I,e[28]=F^~R&V,e[29]=H^~L&D,e[38]=J^~z&W,e[39]=ee^~K&$,e[48]=de^~te&se,e[49]=he^~ie&re,e[0]^=c[s],e[1]^=c[s+1]};t.keccak256=y.keccak_256},"56d3":function(e,t,i){"use strict";const s=i("0406");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"cdax",name:"CDAX",countries:["RU"],hostname:"cdax.io",pro:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/102157692-fd406280-3e90-11eb-8d46-4511b617cd17.jpg",api:{market:"https://{hostname}/api",public:"https://{hostname}/api",private:"https://{hostname}/api",v2Public:"https://{hostname}/api",v2Private:"https://{hostname}/api"},www:"https://cdax.io",referral:"https://cdax.io/invite?invite_code=esc74",doc:"https://github.com/cloudapidoc/API_Docs",fees:"https://cdax.io/about/fee"}})}}},"56ef":function(e,t,i){var s=i("d066"),r=i("241c"),a=i("7418"),n=i("825a");e.exports=s("Reflect","ownKeys")||function(e){var t=r.f(n(e)),i=a.f;return i?t.concat(i(e)):t}},"57a2":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,BadSymbol:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"eqonex",name:"EQONEX",countries:["US","SG"],rateLimit:10,has:{CORS:!1,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!1,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":1,"5m":2,"15m":3,"1h":4,"6h":5,"1d":6,"7d":7},urls:{logo:"https://user-images.githubusercontent.com/51840849/122649755-1a076c80-d138-11eb-8f2e-9a9166a03d79.jpg",test:{public:"https://testnet.eqonex.com/api",private:"https://testnet.eqonex.com/api"},api:{public:"https://eqonex.com/api",private:"https://eqonex.com/api"},www:"https://eqonex.com",doc:["https://developer.eqonex.com"],referral:"https://eqonex.com?referredByCode=zpa8kij4ouvBFup3"},api:{public:{get:["health","getInstruments","getInstrumentPairs","getOrderBook","getRisk","getTradeHistory","getFundingRateHistory","getChart","getExchangeInfo"]},private:{post:["logon","order","cancelOrder","cancelReplaceOrder","getOrder","getOrders","getOrderStatus","getOrderHistory","userTrades","getPositions","cancelAll","getUserHistory","getRisk","getDepositAddresses","getDepositHistory","getWithdrawRequests","sendWithdrawRequest","getTransferHistory"]}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},exceptions:{broad:{"symbol not found":n}}})}async fetchMarkets(e={}){const t={verbose:!0},i=await this.publicGetGetInstrumentPairs(this.extend(t,e)),s=this.safeValue(i,"instrumentPairs",[]),r=[];for(let a=0;a<s.length;a++){const e=this.parseMarket(s[a]);r.push(e)}return r}parseMarket(e){const t=this.safeString(e,"instrumentId"),i=this.safeString(e,"symbol"),s=this.safeString(e,"assetType"),r="PAIR"===s,a="PERPETUAL_SWAP"===s,n=a?"swap":"spot",o=this.safeString(e,"currency"),c=this.safeString(e,"contAmtCurr"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=a?i:d+"/"+h,l=this.safeInteger(e,"securityStatus"),f=1===l,p={amount:this.safeInteger(e,"quantity_scale"),price:this.safeInteger(e,"price_scale")};return{id:t,uppercaseId:i,symbol:u,base:d,quote:h,baseId:o,quoteId:c,type:n,spot:r,swap:a,active:f,precision:p,limits:{amount:{min:this.safeNumber(e,"minTradeVol"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e}}async fetchCurrencies(e={}){const t=await this.publicGetGetInstruments(e),i={},s=this.safeValue(t,"instruments",[]);for(let r=0;r<s.length;r++){const e=this.parseCurrency(s[r]),t=e["code"];i[t]=e}return i}parseCurrency(e){const t=this.safeString(e,0),i=this.safeString(e,1),s=this.safeCurrencyCode(i),r=this.safeInteger(e,2),a=this.safeInteger(e,3),n=Math.max(r,a),o=this.safeString(e,6),c=this.safeInteger(e,4),d=1===c,h=this.safeNumber(e,5);return{id:t,info:e,uppercaseId:i,code:s,name:o,precision:n,fee:h,active:d,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={pairId:parseInt(a["id"]),timespan:this.timeframes[t]};void 0!==s&&(n["limit"]=s);const o=await this.publicGetGetChart(this.extend(n,r)),c=this.safeValue(o,"chart",[]);return this.parseOHLCVs(c,a,t,i,s)}parseOHLCV(e,t){const i=this.safeInteger(e,0),s=this.parseNumber(this.convertFromScale(this.safeString(e,1),t["precision"]["price"])),r=this.parseNumber(this.convertFromScale(this.safeString(e,2),t["precision"]["price"])),a=this.parseNumber(this.convertFromScale(this.safeString(e,3),t["precision"]["price"])),n=this.parseNumber(this.convertFromScale(this.safeString(e,4),t["precision"]["price"])),o=this.parseNumber(this.convertFromScale(this.safeString(e,5),t["precision"]["amount"]));return[i,s,r,a,n,o]}parseBidAsk(e,t=0,i=1,s){if(void 0===s)throw new a(this.id+" parseBidAsk() requires a market argument");const r=this.safeString(e,t),n=this.safeString(e,i);return[this.parseNumber(this.convertFromScale(r,s["precision"]["price"])),this.parseNumber(this.convertFromScale(n,s["precision"]["amount"]))]}parseOrderBook(e,t,i,s="bids",r="asks",a=0,n=1,o){const c={timestamp:i,datetime:this.iso8601(i),nonce:void 0},d=[s,r];for(let h=0;h<d.length;h++){const t=d[h],i=[],s=this.safeValue(e,t);for(let e=0;e<s.length;e++)i.push(this.parseBidAsk(s[e],a,n,o));c[t]=i}return c[s]=this.sortBy(c[s],0,!0),c[r]=this.sortBy(c[r],0),c}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={pairId:parseInt(s["id"])},a=await this.publicGetGetOrderBook(this.extend(r,i));return this.parseOrderBook(a,e,void 0,"bids","asks",0,1,s)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pairId:parseInt(r["id"])},n=await this.publicGetGetTradeHistory(this.extend(a,s)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,r,t,i,s)}parseTrade(e,t){let i=void 0,s=void 0,r=void 0,a=void 0,n=void 0,c=void 0,d=void 0,h=void 0,u=void 0;if(Array.isArray(e)){i=this.safeString(e,3),c=this.convertFromScale(this.safeString(e,0),t["precision"]["price"]),d=this.convertFromScale(this.safeString(e,1),t["precision"]["amount"]),s=this.toMilliseconds(this.safeString(e,2));const r=this.safeInteger(e,4);1===r?n="buy":2===r&&(n="sell")}else{i=this.safeString(e,"execId"),s=this.safeInteger(e,"time");const o=this.safeString(e,"symbol");u=this.safeSymbol(o,t),r=this.safeString(e,"orderId"),n=this.safeStringLower(e,"side"),a=this.parseOrderType(this.safeString(e,"ordType")),c=this.safeString(e,"lastPx"),d=this.safeString(e,"qty");let l=this.safeNumber(e,"commission");if(void 0!==l){l=-l;const t=this.safeString(e,"commCurrency"),i=this.safeCurrencyCode(t);h={cost:l,currency:i}}}void 0===u&&void 0!==t&&(u=t["symbol"]);const l=this.parseNumber(o.stringMul(d,c)),f=this.parseNumber(c),p=this.parseNumber(d);return{info:e,id:i,timestamp:s,datetime:this.iso8601(s),symbol:u,order:r,type:a,side:n,takerOrMaker:void 0,price:f,amount:p,cost:l,fee:h}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetPositions(e),i=this.safeValue(t,"positions",[]),s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"assetType");if("ASSET"===t){const t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t),r=this.safeString(e,"quantity"),a=this.safeString(e,"availableQuantity"),n=this.safeInteger(e,"quantity_scale"),o=this.account();o["free"]=this.convertFromScale(a,n),o["total"]=this.convertFromScale(r,n),s[i]=o}}return this.parseBalance(s,!1)}async createOrder(e,t,i,s,r,n={}){await this.loadMarkets();const o=this.market(e),c="buy"===i?1:2,d=this.getScale(s),h={instrumentId:parseInt(o["id"]),symbol:o["uppercaseId"],side:c,quantity:this.convertToScale(this.numberToString(s),d),quantity_scale:d};if("market"===t)h["ordType"]=1;else if("limit"===t){h["ordType"]=2;const e=this.getScale(r);h["price"]=this.convertToScale(this.numberToString(r),e),h["priceScale"]=e}else{const e=this.safeNumber2(n,"stopPrice","stopPx");if(n=this.omit(n,["stopPrice","stopPx"]),void 0===e){if("stop"===t){if(void 0===r)throw new a(this.id+" createOrder() requires a price argument or a stopPrice parameter or a stopPx parameter for "+t+" orders");h["ordType"]=3,h["stopPx"]=this.convertToScale(this.numberToString(r),this.getScale(r))}else if("stop limit"===t)throw new a(this.id+" createOrder() requires a stopPrice parameter or a stopPx parameter for "+t+" orders")}else if("stop"===t)h["ordType"]=3,h["stopPx"]=this.convertToScale(this.numberToString(e),this.getScale(e));else if("stop limit"===t){h["ordType"]=4;const t=this.getScale(r),i=this.getScale(e);h["price_scale"]=t,h["stopPx_scale"]=i,h["stopPx"]=this.convertToScale(this.numberToString(e),i),h["price"]=this.convertToScale(this.numberToString(r),t)}}const u=await this.privatePostOrder(this.extend(h,n));return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={origOrderId:parseInt(e),instrumentId:parseInt(s["id"])},n=await this.privatePostCancelOrder(this.extend(r,i));return this.parseOrder(n,s)}async editOrder(e,t,i,s,r,n,o={}){await this.loadMarkets();const c=this.market(t),d="buy"===s?1:2,h=this.getScale(r),u={origOrderId:e,instrumentId:parseInt(c["id"]),symbol:c["uppercaseId"],side:d,quantity:this.convertToScale(this.numberToString(r),h),quantity_scale:h};if("market"===i)u["ordType"]=1;else if("limit"===i)u["ordType"]=2,u["price"]=this.convertToScale(this.numberToString(n),this.getScale(n));else{const e=this.safeNumber2(o,"stopPrice","stopPx");if(o=this.omit(o,["stopPrice","stopPx"]),void 0===e){if("stop"===i){if(void 0===n)throw new a(this.id+" editOrder() requires a price argument or a stopPrice parameter or a stopPx parameter for "+i+" orders");u["ordType"]=3,u["stopPx"]=this.convertToScale(this.numberToString(n),this.getScale(n))}else if("stop limit"===i)throw new a(this.id+" editOrder() requires a stopPrice parameter or a stopPx parameter for "+i+" orders")}else if("stop"===i)u["ordType"]=3,u["stopPx"]=this.convertToScale(this.numberToString(e),this.getScale(e));else if("stop limit"===i){u["ordType"]=4;const t=this.getScale(n),i=this.getScale(e);u["price_scale"]=t,u["stopPx_scale"]=i,u["stopPx"]=this.convertToScale(this.numberToString(e),i),u["price"]=this.convertToScale(this.numberToString(n),t)}}const l=await this.privatePostOrder(this.extend(u,o));return this.parseOrder(l,c)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={orderId:parseInt(e)},r=await this.privatePostGetOrderStatus(this.extend(s,i));return this.parseOrder(r)}async fetchClosedOrders(e,t,i,s={}){const r={ordStatus:"2"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchCanceledOrders(e,t,i,s={}){const r={ordStatus:"4"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["instrumentId"]=parseInt(r["id"])),void 0!==i&&(a["limit"]=i);const n=await this.privatePostGetOrders(this.extend(a,s)),o=this.safeValue(n,"orders",[]);return this.parseOrders(o,r,t,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["instrumentId"]=a["id"]),void 0!==t&&(r["startTime"]=t);const n=await this.privatePostUserTrades(this.extend(r,s)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,a,t,i,s)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={instrumentId:parseInt(i["id"])},r=await this.privatePostGetDepositAddresses(this.extend(s,t)),a=this.safeValue(r,"addresses",[]),n=this.safeValue(a,0);return this.parseDepositAddress(n,i)}parseDepositAddress(e,t){const i=this.safeString(e,"symbol"),s=this.safeCurrencyCode(i,t),r=this.safeString(e,"address");return this.checkAddress(r),{currency:s,address:r,tag:void 0,info:e}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["instrumentId"]=parseInt(a["id"]));const n=await this.privatePostGetDepositHistory(this.extend(r,s)),o=this.safeValue(n,"deposits",[]);return this.parseTransactions(o,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["instrumentId"]=parseInt(a["id"]));const n=await this.privatePostGetWithdrawRequests(this.extend(r,s)),o=this.safeValue(n,"addresses",[]);return this.parseTransactions(o,a,t,i,{type:"withdrawal"})}parseTransaction(e,t){const i=this.safeString(e,"id","transactionId"),s=this.safeString(e,"transactionUuid"),r=this.safeInteger(e,"timestamp");let a=this.safeString(e,"address");"null"===a&&(a=void 0);const n=this.safeString(e,"type");let o=this.safeNumber(e,"balance_change");if(void 0===o){o=this.safeString(e,"quantity");const t=this.safeInteger(e,"quantity_scale");o=this.parseNumber(this.convertFromScale(o,t))}const c=this.safeString(e,"symbol"),d=this.safeCurrencyCode(c,t),h=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:i,txid:s,timestamp:r,datetime:this.iso8601(r),addressFrom:void 0,address:a,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:n,amount:o,currency:d,status:h,updated:void 0,comment:void 0,fee:void 0}}parseTransactionStatus(e){const t={0:"pending",1:"ok"};return this.safeString(t,e,e)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.getScale(t),o=this.convertToScale(t,n),c={instrumentId:parseInt(a["id"]),symbol:a["uppercaseId"],quantity:o,quantity_scale:n,address:i},d=await this.privatePostSendWithdrawRequest(this.extend(c,r));return this.parseTransaction(d,a)}async fetchTradingFees(e={}){const t=await this.publicGetGetExchangeInfo(e),i=this.safeValue(t,"spotFees",[]),s={},r={};for(let a=0;a<i.length;a++){const e=i[a];void 0!==this.safeString(e,"tier")&&(s[e["tier"]]=this.safeNumber(e,"taker"),r[e["tier"]]=this.safeNumber(e,"maker"))}return{info:i,tierBased:!0,maker:r,taker:s}}async fetchTradingLimits(e,t={}){await this.loadMarkets();const i=await this.publicGetGetExchangeInfo(t),s=this.safeValue(i,"tradingLimits",[]);return{info:s,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}async fetchFundingLimits(e={}){const t=await this.publicGetGetExchangeInfo(e),i=this.safeValue(t,"withdrawLimits",[]);return{info:i,withdraw:void 0}}parseOrder(e,t){let i=this.safeString2(e,"orderId","id");i=this.safeString(e,"origOrderId",i);const s=this.safeString(e,"clOrdId"),r=this.parseOrderType(this.safeString(e,"ordType")),a=this.parseOrderSide(this.safeString(e,"side")),n=this.parseOrderStatus(this.safeString(e,"ordStatus")),c=this.safeString(e,"instrumentId"),d=this.safeSymbol(c,t),h=this.toMilliseconds(this.safeString(e,"timeStamp")),u=void 0,l=this.safeString(e,"price"),f=this.safeInteger(e,"price_scale"),p=this.parseNumber(this.convertFromScale(l,f)),m=this.safeString(e,"quantity"),g=this.safeInteger(e,"quantity_scale"),y=this.parseNumber(this.convertFromScale(m,g)),v=this.safeString(e,"cumQty"),b=this.safeInteger(e,"cumQty_scale"),w=this.parseNumber(this.convertFromScale(v,b)),k=this.safeString(e,"leavesQty"),S=this.safeInteger(e,"leavesQty_scale"),_=this.parseNumber(this.convertFromScale(k,S));let O=void 0;const T=this.safeInteger(e,"feeInstrumentId"),C=this.safeCurrencyCode(T);let x=this.safeString(e,"feeTotal");const I=this.safeInteger(e,"fee_scale");void 0!==x&&(x=o.stringNeg(x),x=this.parseNumber(this.convertFromScale(x,I))),void 0!==x&&(O={currency:C,cost:x,rate:void 0});let E=this.parseTimeInForce(this.safeString(e,"timeInForce"));"0"===E&&(E=void 0);const A=this.safeInteger(e,"stopPx_scale",0),N=this.parseNumber(this.convertFromScale(this.safeString(e,"stopPx"),A));return this.safeOrder({info:e,id:i,clientOrderId:s,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:u,symbol:d,type:r,timeInForce:E,postOnly:void 0,side:a,price:p,stopPrice:N,amount:y,cost:void 0,average:void 0,filled:w,remaining:_,status:n,fee:O,trades:void 0})}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"open",4:"canceled",5:"canceled",6:"canceling",7:"canceled",8:"rejected",9:"canceled",A:"open",B:"open",C:"expired",D:"open",E:"canceling",F:"open"};return this.safeString(t,e,e)}parseOrderSide(e){const t={1:"buy",2:"sell"};return this.safeString(t,e,e)}parseOrderType(e){const t={1:"market",2:"limit",3:"stop",4:"stop limit"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={1:"GTC",3:"IOC",4:"FOK",5:"GTX",6:"GTD"};return this.safeString(t,e,e)}toMilliseconds(e){if(void 0===e)return e;const t=e.split("-"),i=this.safeString(t,0),s=this.safeString(t,1);if(void 0===i||void 0===s)return;if(8!==i.length)return;const r=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8);return this.parse8601(r+" "+s)}convertFromScale(e,t){if(void 0===e||void 0===t)return;const i=new o(e);return i.decimals=i.decimals+t,i.reduce(),i.toString()}getScale(e){const t=this.numberToString(e);return this.precisionFromString(t)}convertToScale(e,t){if(void 0===e||void 0===t)return;const i=new o(e);i.decimals=i.decimals-t,i.reduce();const s=i.toString();return parseInt(s)}nonce(){return this.milliseconds()}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,h,e),this.throwBroadlyMatchedException(this.exceptions,n,e),new r(this.id+" "+n)}}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeParams(e,s),o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){const e=this.safeValue(s,"format"),t=this.safeValue(s,"type"),i={};void 0!==e&&(i["format"]=e),void 0!==t&&(i["type"]=t),Object.keys(i).length&&(n+="?"+this.urlencode(i)),s=this.omit(s,["format","type"]),this.checkRequiredCredentials();const c=this.nonce();o=this.extend(o,{userId:this.uid,nonce:c}),s["nonce"]=this.nonce(),a=this.json(o);const d=this.hmac(this.encode(a),this.encode(this.secret),"sha384");r={"Content-Type":"application/json",requestToken:this.apiKey,signature:d}}return n=this.urls["api"][t]+"/"+n,{url:n,method:i,body:a,headers:r}}}},"57ba":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,InvalidOrder:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"mercado",name:"Mercado Bitcoin",countries:["BR"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","2w":"2w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi",v4Public:"https://www.mercadobitcoin.com.br/v4"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["coins","{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","place_market_buy_order","place_market_sell_order","withdraw_coin"]},v4Public:{get:["{coin}/candle/"]}},fees:{trading:{maker:.003,taker:.007}},options:{limits:{BTC:.001,BCH:.001,ETH:.01,LTC:.01,XRP:.1}}})}async fetchMarkets(e={}){const t=await this.publicGetCoins(e),i=[],s=this.safeValue(this.options,"limits",{});for(let r=0;r<t.length;r++){const e=t[r],a=e,n="BRL",o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=c+o,u={amount:8,price:5},l="1e-5";i.push({id:h,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:void 0,info:e,precision:u,limits:{amount:{min:this.safeNumber(s,a),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={coin:s["base"]},a=await this.publicGetCoinOrderbook(this.extend(r,i));return this.parseOrderBook(a,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={coin:i["base"]},r=await this.publicGetCoinTicker(this.extend(s,t)),a=this.safeValue(r,"ticker",{}),n=this.safeTimestamp(a,"date"),o=this.safeNumber(a,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(a,"high"),low:this.safeNumber(a,"low"),bid:this.safeNumber(a,"buy"),bidVolume:void 0,ask:this.safeNumber(a,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(a,"vol"),quoteVolume:void 0,info:a}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","executed_timestamp");let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeString2(e,"tid","operation_id"),a=void 0,n=this.safeString(e,"type"),c=this.safeString(e,"price"),d=this.safeString2(e,"amount","quantity"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(o.stringMul(c,d)),f=this.safeNumber(e,"fee_rate");let p=void 0;return void 0!==f&&(p={cost:f,currency:void 0}),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:void 0,type:a,side:n,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e);let a="publicGetCoinTrades";const n={coin:r["base"]};void 0!==t&&(a+="From",n["from"]=parseInt(t/1e3));const o=this.safeInteger(s,"to");void 0!==o&&(a+="To");const c=await this[a](this.extend(n,s));return this.parseTrades(c,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"response_data",{}),s=this.safeValue(i,"balance",{}),r={info:t},a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e);if(e in s){const i=this.safeValue(s,e,{}),a=this.account();a["free"]=this.safeString(i,"available"),a["total"]=this.safeString(i,"total"),r[t]=a}}return this.parseBalance(r,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const o={coin_pair:this.marketId(e)};let c=this.capitalize(i)+"Order";if("limit"===t)c="privatePostPlace"+c,o["limit_price"]=this.priceToPrecision(e,r),o["quantity"]=this.amountToPrecision(e,s);else if(c="privatePostPlaceMarket"+c,"buy"===i){if(void 0===r)throw new n(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount");o["cost"]=this.priceToPrecision(e,s*r)}else o["quantity"]=this.amountToPrecision(e,s);const d=await this[c](this.extend(o,a));return{info:d,id:d["response_data"]["order"]["order_id"].toString()}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder () requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={coin_pair:s["id"],order_id:e},n=await this.privatePostCancelOrder(this.extend(r,i)),o=this.safeValue(n,"response_data",{}),c=this.safeValue(o,"order",{});return this.parseOrder(c,s)}parseOrderStatus(e){const t={2:"open",3:"canceled",4:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),s=this.safeString(e,"order_type");let r=void 0;"order_type"in e&&(r="1"===s?"buy":"sell");const a=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"coin_pair");t=this.safeMarket(n,t);const o=this.safeTimestamp(e,"created_timestamp"),c={cost:this.safeNumber(e,"fee"),currency:t["quote"]},d=this.safeNumber(e,"limit_price"),h=this.safeNumber(e,"executed_price_avg"),u=this.safeNumber(e,"quantity"),l=this.safeNumber(e,"executed_quantity"),f=this.safeTimestamp(e,"updated_timestamp"),p=this.safeValue(e,"operations",[]),m=this.parseTrades(p,t,void 0,void 0,{side:r,order:i});return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:f,symbol:t["symbol"],type:"limit",timeInForce:void 0,postOnly:void 0,side:r,price:d,stopPrice:void 0,cost:void 0,average:h,amount:u,filled:l,remaining:void 0,status:a,fee:c,trades:m})}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder () requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={coin_pair:s["id"],order_id:parseInt(e)},n=await this.privatePostGetOrder(this.extend(r,i)),o=this.safeValue(n,"response_data",{}),c=this.safeValue(o,"order");return this.parseOrder(c,s)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o={coin:n["id"],quantity:t.toFixed(10),address:i};if("BRL"===e){const t="account_ref"in r;if(!t)throw new a(this.id+" withdraw() requires account_ref parameter to withdraw "+e)}else if("LTC"!==e){const t="tx_fee"in r;if(!t)throw new a(this.id+" withdraw() requires tx_fee parameter to withdraw "+e);if("XRP"===e)if(void 0===s){if(!("destination_tag"in r))throw new a(this.id+" withdraw() requires a tag argument or destination_tag parameter to withdraw "+e)}else o["destination_tag"]=s}const c=await this.privatePostWithdrawCoin(this.extend(o,r));return{info:c,id:c["response_data"]["withdrawal"]["id"]}}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={precision:this.timeframes[t],coin:a["id"].toLowerCase()};void 0!==s&&void 0!==i?(n["from"]=parseInt(i/1e3),n["to"]=this.sum(n["from"],s*this.parseTimeframe(t))):void 0!==i?(n["from"]=parseInt(i/1e3),n["to"]=this.sum(this.seconds(),1)):void 0!==s&&(n["to"]=this.seconds(),n["from"]=n["to"]-s*this.parseTimeframe(t));const o=await this.v4PublicGetCoinCandle(this.extend(n,r)),c=this.safeValue(o,"candles",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders () requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={coin_pair:r["id"]},o=await this.privatePostListOrders(this.extend(n,s)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,r,t,i)}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders () requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={coin_pair:r["id"],status_list:"[2]"},o=await this.privatePostListOrders(this.extend(n,s)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades () requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={coin_pair:r["id"],has_fills:!0},o=await this.privatePostListOrders(this.extend(n,s)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]),h=this.parseOrders(d,r,t,i),u=this.ordersToTrades(h);return this.filterBySymbolSinceLimit(u,e,t,i)}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++){const s=this.safeValue(e[i],"trades",[]);for(let e=0;e<s.length;e++)t.push(s[e])}return t}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/";const o=this.omit(s,this.extractParams(e));if("public"===t||"v4Public"===t)n+=this.implodeParams(e,s),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),n+=this.version+"/";const t=this.nonce();a=this.urlencode(this.extend({tapi_method:e,tapi_nonce:t},s));const i="/tapi/"+this.version+"/?"+a;r={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("error_message"in o)throw new r(this.id+" "+this.json(o));return o}}},"57bb":function(e,t,i){"use strict";const s=Number.isFinite,r=Number.isInteger,a=Array.isArray,n=e=>void 0!==e&&null!==e,o=e=>"string"===typeof e,c=e=>null!==e&&"object"===typeof e,d=e=>e instanceof RegExp,h=e=>c(e)&&Object.getPrototypeOf(e)===Object.prototype&&!a(e)&&!d(e),u=e=>n(e)&&e.toString||s(e),l=(e,t)=>c(e)?e[t]:void 0,f=(e,t,i)=>c(e)?t in e&&null!==e[t]?e[t]:e[i]:void 0,p=e=>s(e)||o(e)?parseFloat(e):NaN,m=e=>s(e)||o(e)?parseInt(e,10):NaN;e.exports={isNumber:s,isInteger:r,isArray:a,isObject:c,isString:o,isStringCoercible:u,isDictionary:h,hasProps:n,prop:l,asFloat:p,asInteger:m,safeFloat:(e,t,i,r=p(l(e,t)))=>s(r)?r:i,safeInteger:(e,t,i,r=m(l(e,t)))=>s(r)?r:i,safeIntegerProduct:(e,t,i,r,a=m(l(e,t)))=>s(a)?parseInt(a*i):r,safeTimestamp:(e,t,i,r=p(l(e,t)))=>s(r)?parseInt(1e3*r):i,safeValue:(e,t,i,s=l(e,t))=>n(s)?s:i,safeString:(e,t,i,s=l(e,t))=>u(s)?String(s):i,safeStringLower:(e,t,i,s=l(e,t))=>u(s)?String(s).toLowerCase():i,safeStringUpper:(e,t,i,s=l(e,t))=>u(s)?String(s).toUpperCase():i,safeFloat2:(e,t,i,r,a=p(f(e,t,i)))=>s(a)?a:r,safeInteger2:(e,t,i,r,a=m(f(e,t,i)))=>s(a)?a:r,safeIntegerProduct2:(e,t,i,r,a,n=m(f(e,t,i)))=>s(n)?parseInt(n*r):a,safeTimestamp2:(e,t,i,r,a=p(f(e,t,i)))=>s(a)?parseInt(1e3*a):r,safeValue2:(e,t,i,s,r=f(e,t,i))=>n(r)?r:s,safeString2:(e,t,i,s,r=f(e,t,i))=>u(r)?String(r):s,safeStringLower2:(e,t,i,s,r=f(e,t,i))=>u(r)?String(r).toLowerCase():s,safeStringUpper2:(e,t,i,s,r=f(e,t,i))=>u(r)?String(r).toUpperCase():s}},5876:function(e,t,i){var s=i("5259");i("fb3e"),i("6497");var r=s.asn1,a=e.exports=s.pkcs7asn1=s.pkcs7asn1||{};s.pkcs7=s.pkcs7||{},s.pkcs7.asn1=a;var n={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=n;var o={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},a.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var c={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},n,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},5884:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHeightByTimestamp=t.fetchHeight=t.fetchDelay=t.fetchLast=t.fetchBlocksByAddress=t.fetchFirst=t.fetchBlockById=t.fetchSeq=t.fetchBlockAt=t.fetchHeadersById=t.fetchHeadersAt=t.fetchHeightById=t.fetchHeadersLast=t.fetchHeadersSeq=void 0;var r=s(i("85aa"));function a(e,t,i,s){return void 0===s&&(s=Object.create(null)),r.default({base:e,url:"/blocks/headers/seq/"+t+"/"+i,options:s})}function n(e,t){return void 0===t&&(t=Object.create(null)),r.default({base:e,url:"/blocks/headers/last",options:t})}function o(e,t){return r.default({base:e,url:"/blocks/height/"+t})}function c(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/blocks/headers/at/"+t,options:i})}function d(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/blocks/headers/"+t,options:i})}function h(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/blocks/at/"+t,options:i})}function u(e,t,i,s){return void 0===s&&(s=Object.create(null)),r.default({base:e,url:"/blocks/seq/"+t+"/"+i,options:s})}function l(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/blocks/"+t,options:i})}function f(e,t){return void 0===t&&(t=Object.create(null)),r.default({base:e,url:"/blocks/first",options:t})}function p(e,t,i,s,a){return void 0===a&&(a=Object.create(null)),r.default({base:e,url:"/blocks/address/"+t+"/"+i+"/"+s,options:a})}function m(e,t){return void 0===t&&(t=Object.create(null)),r.default({base:e,url:"/blocks/last",options:t})}function g(e,t,i){return r.default({base:e,url:"/blocks/delay/"+t+"/"+i})}function y(e){return r.default({base:e,url:"/blocks/height"})}function v(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/blocks/heightByTimestamp/"+t,options:i})}t.fetchHeadersSeq=a,t.fetchHeadersLast=n,t.fetchHeightById=o,t.fetchHeadersAt=c,t.fetchHeadersById=d,t.fetchBlockAt=h,t.fetchSeq=u,t.fetchBlockById=l,t.fetchFirst=f,t.fetchBlocksByAddress=p,t.fetchLast=m,t.fetchDelay=g,t.fetchHeight=y,t.fetchHeightByTimestamp=v},5899:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(e,t,i){var s=i("1d80"),r=i("5899"),a="["+r+"]",n=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),c=function(e){return function(t){var i=String(s(t));return 1&e&&(i=i.replace(n,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:c(1),end:c(2),trim:c(3)}},"58df":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("2b0e");function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return s["a"].extend({mixins:t})}},"591d":function(e,t,i){"use strict";const s=i("4a34");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"binancecoinm",name:"Binance COIN-M",urls:{logo:"https://user-images.githubusercontent.com/1294454/117738721-668c8d80-b205-11eb-8c49-3fad84c4a07f.jpg",doc:["https://binance-docs.github.io/apidocs/delivery/en/","https://binance-docs.github.io/apidocs/spot/en"]},options:{defaultType:"delivery",leverageBrackets:void 0},has:{fetchPositions:!0,fetchIsolatedPositions:!0,fetchFundingRate:!0,fetchFundingHistory:!0,setLeverage:!0,setMode:!0}})}async transferIn(e,t,i={}){return await this.futuresTransfer(e,t,3,i)}async transferOut(e,t,i={}){return await this.futuresTransfer(e,t,4,i)}}},"59d7":function(e,t,i){"use strict";var s=i("bb89");i.o(s,"Signer")&&i.d(t,"Signer",(function(){return s["Signer"]}));var r=i("c2f1");i.o(r,"Signer")&&i.d(t,"Signer",(function(){return r["Signer"]}));var a=i("a3d4");i.o(a,"Signer")&&i.d(t,"Signer",(function(){return a["Signer"]})),i.o(s,"Signer")&&i.d(t,"Signer",(function(){return s["Signer"]})),i.o(r,"Signer")&&i.d(t,"Signer",(function(){return r["Signer"]}))},"5a34":function(e,t,i){var s=i("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5a7c":function(e,t,i){var s=i("70ea"),r=i("001c");function a(e){return function t(i,a){switch(arguments.length){case 0:return t;case 1:return r(i)?t:s((function(t){return e(i,t)}));default:return r(i)&&r(a)?t:r(i)?s((function(t){return e(t,a)})):r(a)?s((function(t){return e(i,t)})):e(i,a)}}}e.exports=a},"5c27":function(e,t,i){(function(t){var s=i("f654"),r=i("a438"),a=i("b61d"),n=a.newInvalidAsn1Error;function o(e){if(!e||!t.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(o.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(o.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),o.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},o.prototype.peek=function(){return this.readByte(!0)},o.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128===(128&t)){if(t&=127,0===t)throw n("Indefinite length not supported");if(t>4)throw n("encoding too long");if(this._size-e<t)return null;this._len=0;for(var i=0;i<t;i++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},o.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw n("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);return null===i?null:(this._offset=i,t)},o.prototype.readInt=function(){return this._readTag(r.Integer)},o.prototype.readBoolean=function(){return 0!==this._readTag(r.Boolean)},o.prototype.readEnumeration=function(){return this._readTag(r.Enumeration)},o.prototype.readString=function(e,i){e||(e=r.OctetString);var s=this.peek();if(null===s)return null;if(s!==e)throw n("Expected 0x"+e.toString(16)+": got 0x"+s.toString(16));var a=this.readLength(this._offset+1);if(null===a)return null;if(this.length>this._size-a)return null;if(this._offset=a,0===this.length)return i?t.alloc(0):"";var o=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,i?o:o.toString("utf8")},o.prototype.readOID=function(e){e||(e=r.OID);var t=this.readString(e,!0);if(null===t)return null;for(var i=[],s=0,a=0;a<t.length;a++){var n=255&t[a];s<<=7,s+=127&n,0===(128&n)&&(i.push(s),s=0)}return s=i.shift(),i.unshift(s%40),i.unshift(s/40>>0),i.join(".")},o.prototype._readTag=function(e){s.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw n("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);if(null===i)return null;if(this.length>4)throw n("Integer too long: "+this.length);if(this.length>this._size-i)return null;this._offset=i;for(var r=this._buf[this._offset],a=0,o=0;o<this.length;o++)a<<=8,a|=255&this._buf[this._offset++];return 128===(128&r)&&4!==o&&(a-=1<<8*o),a>>0},e.exports=o}).call(this,i("b639").Buffer)},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5d0c":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,BadRequest:a,AuthenticationError:n,InvalidOrder:o,InsufficientFunds:c,OrderNotFound:d,PermissionDenied:h,AddressPending:u}=i("74b0"),l=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"upbit",name:"Upbit",countries:["KR"],version:"v1",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"minutes","3m":"minutes","5m":"minutes","15m":"minutes","30m":"minutes","1h":"minutes","4h":"minutes","1d":"days","1w":"weeks","1M":"months"},hostname:"api.upbit.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/49245610-eeaabe00-f423-11e8-9cba-4b0aed794799.jpg",api:{public:"https://{hostname}",private:"https://{hostname}"},www:"https://upbit.com",doc:"https://docs.upbit.com/docs/%EC%9A%94%EC%B2%AD-%EC%88%98-%EC%A0%9C%ED%95%9C",fees:"https://upbit.com/service_center/guide"},api:{public:{get:["market/all","candles/{timeframe}","candles/{timeframe}/{unit}","candles/minutes/{unit}","candles/minutes/1","candles/minutes/3","candles/minutes/5","candles/minutes/15","candles/minutes/30","candles/minutes/60","candles/minutes/240","candles/days","candles/weeks","candles/months","trades/ticks","ticker","orderbook"]},private:{get:["accounts","orders/chance","order","orders","withdraws","withdraw","withdraws/chance","deposits","deposit","deposits/coin_addresses","deposits/coin_address"],post:["orders","withdraws/coin","withdraws/krw","deposits/generate_coin_address"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"This key has expired.":n,"Missing request parameter error. Check the required parameters!":a,"side is missing, side does not have a valid value":o},broad:{thirdparty_agreement_required:h,out_of_scope:h,order_not_found:d,insufficient_funds:c,invalid_access_key:n,jwt_verification:n,create_ask_error:r,create_bid_error:r,volume_too_large:o,invalid_funds:o}},options:{createMarketBuyOrderRequiresPrice:!0,fetchTickersMaxLength:4096,fetchOrderBooksMaxLength:4096,tradingFeesByQuoteCurrency:{KRW:5e-4}},commonCurrencies:{TON:"Tokamak Network"}})}async fetchCurrency(e,t={}){await this.loadMarkets();const i=this.currency(e);return await this.fetchCurrencyById(i["id"],t)}async fetchCurrencyById(e,t={}){const i={currency:e},s=await this.privateGetWithdrawsChance(this.extend(i,t)),r=this.safeValue(s,"member_level",{}),a=this.safeValue(s,"currency",{}),n=this.safeValue(s,"withdraw_limit",{}),o=this.safeValue(n,"can_withdraw"),c=this.safeString(a,"wallet_state"),d=this.safeValue(r,"wallet_locked"),h=this.safeValue(r,"locked");let u=!0;void 0===o||o?("working"!==c||void 0!==d&&d||void 0!==h&&h)&&(u=!1):u=!1;const l=this.safeNumber(n,"onetime"),f=this.safeNumber(n,"daily",l),p=this.safeNumber(n,"remaining_daily",f);let m=void 0;m=p>0?p:f;const g=void 0,y=this.safeString(a,"code"),v=this.safeCurrencyCode(y);return{info:s,id:y,code:v,name:v,active:u,fee:this.safeNumber(a,"withdraw_fee"),precision:g,limits:{withdraw:{min:this.safeNumber(n,"minimum"),max:m}}}}async fetchMarket(e,t={}){await this.loadMarkets();const i=this.market(e);return await this.fetchMarketById(i["id"],t)}async fetchMarketById(e,t={}){const i={market:e},s=await this.privateGetOrdersChance(this.extend(i,t)),r=this.safeValue(s,"market"),a=this.safeValue(r,"bid"),n=this.safeValue(r,"ask"),o=this.safeString(r,"id"),c=this.safeString(n,"currency"),d=this.safeString(a,"currency"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f={amount:8,price:8},p=this.safeString(r,"state"),m="active"===p,g=this.safeNumber(s,"bid_fee"),y=this.safeNumber(s,"ask_fee"),v=Math.max(g,y);return{info:s,id:o,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:m,precision:f,maker:v,taker:v,limits:{amount:{min:this.safeNumber(n,"min_total"),max:void 0},price:{min:Math.pow(10,-f["price"]),max:void 0},cost:{min:this.safeNumber(a,"min_total"),max:this.safeNumber(r,"max_total")}}}}async fetchMarkets(e={}){const t=await this.publicGetMarketAll(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"market"),[a,n]=r.split("-"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:8,price:8},u=!0,l=this.safeNumber(this.options["tradingFeesByQuoteCurrency"],c,this.fees["trading"]["maker"]),f=this.safeNumber(this.options["tradingFeesByQuoteCurrency"],c,this.fees["trading"]["taker"]);i.push({id:r,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:u,info:e,precision:h,maker:l,taker:f,limits:{amount:{min:Math.pow(10,-h["amount"]),max:void 0},price:{min:Math.pow(10,-h["price"]),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"locked"),i[a]=n}return this.parseBalance(i,!1)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let s=void 0;if(void 0===e){if(s=this.ids.join(","),s.length>this.options["fetchOrderBooksMaxLength"]){const e=this.ids.length;throw new r(this.id+" has "+e.toString()+" symbols ("+s.length.toString()+" characters) exceeding max URL length ("+this.options["fetchOrderBooksMaxLength"].toString()+" characters), you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else s=this.marketIds(e),s=s.join(",");const a={markets:s},n=await this.publicGetOrderbook(this.extend(a,i)),o={};for(let r=0;r<n.length;r++){const e=n[r],t=this.safeString(e,"market"),i=this.safeSymbol(t,void 0,"-"),s=this.safeInteger(e,"timestamp");o[i]={symbol:i,bids:this.sortBy(this.parseBidsAsks(e["orderbook_units"],"bid_price","bid_size"),0,!0),asks:this.sortBy(this.parseBidsAsks(e["orderbook_units"],"ask_price","ask_size"),0),timestamp:s,datetime:this.iso8601(s),nonce:void 0}}return o}async fetchOrderBook(e,t,i={}){const s=await this.fetchOrderBooks([e],t,i);return this.safeValue(s,e)}parseTicker(e,t){const i=this.safeInteger(e,"trade_timestamp"),s=this.safeString2(e,"market","code"),r=this.safeSymbol(s,t,"-"),a=this.safeNumber(e,"prev_closing_price"),n=this.safeNumber(e,"trade_price"),o=this.safeNumber(e,"signed_change_price"),c=this.safeNumber(e,"signed_change_rate");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_price"),low:this.safeNumber(e,"low_price"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"opening_price"),close:n,last:n,previousClose:a,change:o,percentage:c,average:void 0,baseVolume:this.safeNumber(e,"acc_trade_volume_24h"),quoteVolume:this.safeNumber(e,"acc_trade_price_24h"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=void 0;if(void 0===e){if(i=this.ids.join(","),i.length>this.options["fetchTickersMaxLength"]){const e=this.ids.length;throw new r(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join(",");const s={markets:i},a=await this.publicGetTicker(this.extend(s,t)),n={};for(let r=0;r<a.length;r++){const e=this.parseTicker(a[r]),t=e["symbol"];n[t]=e}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeString2(e,"sequential_id","uuid"),s=void 0;let r=this.safeInteger(e,"timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));let a=void 0;const n=this.safeStringLower2(e,"ask_bid","side");"ask"===n?a="sell":"bid"===n&&(a="buy");let o=this.safeNumber(e,"funds");const c=this.safeString2(e,"trade_price","price"),d=this.safeString2(e,"trade_volume","volume"),h=this.parseNumber(c),u=this.parseNumber(d);void 0===o&&(o=this.parseNumber(l.stringMul(c,d)));const f=this.safeString2(e,"market","code");t=this.safeMarket(f,t);let p=void 0,m=void 0,g=void 0;if(void 0!==t)g=t["symbol"],m=t["quote"];else{const[e,t]=f.split("-"),i=this.safeCurrencyCode(e),s=this.safeCurrencyCode(t);g=i+"/"+s,m=s}const y=this.safeString(e,n+"_fee");return void 0!==y&&(p={currency:m,cost:y}),{id:i,info:e,order:s,timestamp:r,datetime:this.iso8601(r),symbol:g,type:void 0,side:a,takerOrMaker:void 0,price:h,amount:u,cost:o,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e);void 0===i&&(i=200);const a={market:r["id"],count:i},n=await this.publicGetTradesTicks(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"candle_date_time_utc")),this.safeNumber(e,"opening_price"),this.safeNumber(e,"high_price"),this.safeNumber(e,"low_price"),this.safeNumber(e,"trade_price"),this.safeNumber(e,"candle_acc_trade_volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=this.parseTimeframe(t),o=this.timeframes[t];void 0===s&&(s=200);const c={market:a["id"],timeframe:o,count:s};let d="publicGetCandlesTimeframe";if("minutes"===o){const e=Math.round(n/60);c["unit"]=e,d+="Unit"}void 0!==i&&(c["to"]=this.iso8601(this.sum(i,n*s*1e3)));const h=await this[d](this.extend(c,r));return this.parseOHLCVs(h,a,t,i,s)}async createOrder(e,t,i,s,r,a={}){if("market"===t&&"buy"===i&&this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===r)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");s*=r}let n=void 0;if("buy"===i)n="bid";else{if("sell"!==i)throw new o(this.id+" createOrder allows buy or sell side only!");n="ask"}await this.loadMarkets();const c=this.market(e),d={market:c["id"],side:n};"limit"===t?(d["volume"]=this.amountToPrecision(e,s),d["price"]=this.priceToPrecision(e,r),d["ord_type"]=t):"market"===t&&("buy"===i?(d["ord_type"]="price",d["price"]=this.priceToPrecision(e,s)):"sell"===i&&(d["ord_type"]=t,d["volume"]=this.amountToPrecision(e,s)));const h=this.safeString2(a,"clientOrderId","identifier");void 0!==h&&(d["identifier"]=h),a=this.omit(a,["clientOrderId","identifier"]);const u=await this.privatePostOrders(this.extend(d,a));return this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={uuid:e},r=await this.privateDeleteOrder(this.extend(s,i));return this.parseOrder(r)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetDeposits(this.extend(r,s));return this.parseTransactions(n,a,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetWithdraws(this.extend(r,s));return this.parseTransactions(n,a,t,i)}parseTransactionStatus(e){const t={submitting:"pending",submitted:"pending",almost_accepted:"pending",rejected:"failed",accepted:"pending",processing:"pending",done:"ok",canceled:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"uuid"),s=this.safeNumber(e,"amount"),r=void 0,a=void 0,n=this.safeString(e,"txid"),o=this.parse8601(this.safeString(e,"done_at")),c=this.parse8601(this.safeString(e,"created_at",o));let d=this.safeString(e,"type");"withdraw"===d&&(d="withdrawal");const h=this.safeString(e,"currency"),u=this.safeCurrencyCode(h),l=this.parseTransactionStatus(this.safeStringLower(e,"state")),f=this.safeNumber(e,"fee");return{info:e,id:i,currency:u,amount:s,address:r,tag:a,status:l,type:d,updated:o,txid:n,timestamp:c,datetime:this.iso8601(c),fee:{currency:u,cost:f}}}parseOrderStatus(e){const t={wait:"open",done:"closed",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"uuid");let s=this.safeString(e,"side");s="bid"===s?"buy":"sell";let r=this.safeString(e,"ord_type");const a=this.parse8601(this.safeString(e,"created_at")),n=this.parseOrderStatus(this.safeString(e,"state"));let o=void 0,c=this.safeNumber(e,"price");const d=this.safeNumber(e,"volume"),h=this.safeNumber(e,"remaining_volume"),u=this.safeNumber(e,"executed_volume");let l=void 0;"price"===r&&(r="market",l=c,c=void 0);let f=void 0,p=void 0,m=this.safeNumber(e,"paid_fee");const g=this.safeString(e,"market");t=this.safeMarket(g,t);let y=this.safeValue(e,"trades",[]);y=this.parseTrades(y,t,void 0,void 0,{order:i,type:r});const v=y.length;if(v>0){o=y[v-1]["timestamp"];let e=!1;void 0===m&&(e=!0,m=0),l=0;for(let t=0;t<v;t++){const i=y[t];if(l=this.sum(l,i["cost"]),e){const e=this.safeValue(y[t],"fee",{}),i=this.safeNumber(e,"cost");void 0!==i&&(m=this.sum(m,i))}}f=l/u}void 0!==m&&(p={currency:t["quote"],cost:m});const b={info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:o,symbol:t["symbol"],type:r,timeInForce:void 0,postOnly:void 0,side:s,price:c,stopPrice:void 0,cost:l,average:f,amount:d,filled:u,remaining:h,status:n,fee:p,trades:y};return b}async fetchOrdersByState(e,t,i,s,r={}){await this.loadMarkets();const a={state:e};let n=void 0;void 0!==t&&(n=this.market(t),a["market"]=n["id"]);const o=await this.privateGetOrders(this.extend(a,r));return this.parseOrders(o,n,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByState("wait",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByState("done",e,t,i,s)}async fetchCanceledOrders(e,t,i,s={}){return await this.fetchOrdersByState("cancel",e,t,i,s)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={uuid:e},r=await this.privateGetOrder(this.extend(s,i));return this.parseOrder(r)}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetDepositsCoinAddresses(t);return this.parseDepositAddresses(i)}parseDepositAddress(e,t){const i=this.safeString(e,"deposit_address"),s=this.safeString(e,"secondary_address"),r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r);return this.checkAddress(i),{currency:a,address:i,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s=await this.privateGetDepositsCoinAddress(this.extend({currency:i["id"]},t));return this.parseDepositAddress(s)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostDepositsGenerateCoinAddress(this.extend(s,t)),a=this.safeString(r,"message");if(void 0!==a)throw new u(this.id+" is generating "+e+" deposit address, call fetchDepositAddress or createDepositAddress one more time later to retrieve the generated address");return this.parseDepositAddress(r)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={amount:t};let o="privatePostWithdraws";"KRW"!==e?(o+="Coin",n["currency"]=a["id"],n["address"]=i,void 0!==s&&(n["secondary_address"]=s)):o+="Krw";const c=await this[o](this.extend(n,r));return this.parseTransaction(c)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeParams(this.urls["api"][t],{hostname:this.hostname});n+="/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("POST"!==i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce(),t={access_key:this.apiKey,nonce:e};if(Object.keys(o).length){const e=this.urlencode(o),i=this.hash(this.encode(e),"sha512");t["query_hash"]=i,t["query_hash_alg"]="SHA512"}const n=this.jwt(t,this.encode(this.secret));r={Authorization:"Bearer "+n},"GET"!==i&&"DELETE"!==i&&(a=this.json(s),r["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error");if(void 0!==h){const e=this.safeString(h,"message"),t=this.safeString(h,"name"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],e,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new r(i)}}}},"5d81":function(e,t,i){var s=i("00b3"),r=i("d3e8"),a=i("5a7c"),n=a((function(e,t){return s(e.length,(function(){try{return e.apply(this,arguments)}catch(i){return t.apply(this,r([i],arguments))}}))}));e.exports=n},"5e0b":function(e,t,i){"use strict";var s=i("15b4"),r=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:s.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},n=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},o="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(e,t){var i,d={},h=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,l=h.split(t.delimiter,u),f=-1,p=t.charset;if(t.charsetSentinel)for(i=0;i<l.length;++i)0===l[i].indexOf("utf8=")&&(l[i]===c?p="utf-8":l[i]===o&&(p="iso-8859-1"),f=i,i=l.length);for(i=0;i<l.length;++i)if(i!==f){var m,g,y=l[i],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(m=t.decoder(y,a.decoder,p),g=t.strictNullHandling?null:""):(m=t.decoder(y.slice(0,b),a.decoder,p),g=t.decoder(y.slice(b+1),a.decoder,p)),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=n(g)),g&&t.comma&&g.indexOf(",")>-1&&(g=g.split(",")),r.call(d,m)?d[m]=s.combine(d[m],g):d[m]=g}return d},h=function(e,t,i){for(var s=t,r=e.length-1;r>=0;--r){var a,n=e[r];if("[]"===n&&i.parseArrays)a=[].concat(s);else{a=i.plainObjects?Object.create(null):{};var o="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,c=parseInt(o,10);i.parseArrays||""!==o?!isNaN(c)&&n!==o&&String(c)===o&&c>=0&&i.parseArrays&&c<=i.arrayLimit?(a=[],a[c]=s):a[o]=s:a={0:s}}s=a}return s},u=function(e,t,i){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,n=/(\[[^[\]]*])/g,o=a.exec(s),c=o?s.slice(0,o.index):s,d=[];if(c){if(!i.plainObjects&&r.call(Object.prototype,c)&&!i.allowPrototypes)return;d.push(c)}var u=0;while(null!==(o=n.exec(s))&&u<i.depth){if(u+=1,!i.plainObjects&&r.call(Object.prototype,o[1].slice(1,-1))&&!i.allowPrototypes)return;d.push(o[1])}return o&&d.push("["+s.slice(o.index)+"]"),h(d,t,i)}},l=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||s.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth?e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var i=l(t);if(""===e||null===e||"undefined"===typeof e)return i.plainObjects?Object.create(null):{};for(var r="string"===typeof e?d(e,i):e,a=i.plainObjects?Object.create(null):{},n=Object.keys(r),o=0;o<n.length;++o){var c=n[o],h=u(c,r[c],i);a=s.merge(a,h,i)}return s.compact(a)}},"5e1a":function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i("8707").Buffer,a=i(3);function n(e,t,i){e.copy(t,i)}e.exports=function(){function e(){s(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";var t=this.head,i=""+t.data;while(t=t.next)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;var t=r.allocUnsafe(e>>>0),i=this.head,s=0;while(i)n(i.data,t,s),s+=i.data.length,i=i.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},"5e23":function(e,t,i){},"5e97":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ExchangeNotAvailable:a,OnMaintenance:n,ArgumentsRequired:o,BadRequest:c,AccountSuspended:d,InvalidAddress:h,PermissionDenied:u,DDoSProtection:l,InsufficientFunds:f,InvalidNonce:p,CancelPending:m,InvalidOrder:g,OrderNotFound:y,AuthenticationError:v,RequestTimeout:b,NotSupported:w,BadSymbol:k,RateLimitExceeded:S}=i("74b0"),{TICK_SIZE:_}=i("5ea4"),O=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitget",name:"Bitget",countries:["SG"],version:"v3",rateLimit:1e3,has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w"},hostname:"bitget.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/88317935-a8a21c80-cd22-11ea-8e2b-4b9fac5975eb.jpg",api:{data:"https://api.{hostname}",api:"https://api.{hostname}",capi:"https://capi.{hostname}",swap:"https://capi.{hostname}"},www:"https://www.bitget.com",doc:["https://bitgetlimited.github.io/apidoc/en/swap","https://bitgetlimited.github.io/apidoc/en/spot"],fees:"https://www.bitget.cc/zh-CN/rate?tab=1",test:{rest:"https://testnet.bitget.com"},referral:"https://www.bitget.com/expressly?languageType=0&channelCode=ccxt&vipCode=tg9j"},api:{data:{get:["market/history/kline","market/detail/merged","market/tickers","market/allticker","market/depth","market/trade","market/history/trade","market/detail","common/symbols","common/currencys","common/timestamp"]},api:{get:["account/accounts","accounts/{account_id}/balance","order/orders","order/orders/openOrders","order/orders/history","order/deposit_withdraw"],post:["order/orders/place","order/orders/{order_id}/submitcancel","order/orders/batchcancel","order/orders/{order_id}","order/orders/{order_id}/matchresults","order/matchresults"]},capi:{get:["market/time","market/contracts","market/depth","market/tickers","market/ticker","market/trades","market/candles","market/index","market/open_count","market/open_interest","market/price_limit","market/funding_time","market/mark_price","market/open_count","market/historyFundRate"]},swap:{get:["account/accounts","account/account","account/settings","position/allPosition","position/singlePosition","position/holds","order/detail","order/orders","order/fills","order/current","order/currentPlan","order/history","order/historyPlan","trace/closeTrack","trace/currentTrack","trace/historyTrack","trace/summary","trace/profitSettleTokenIdGroup","trace/profitDateGroupList","trace/profitDateList","trace/waitProfitDateList"],post:["account/leverage","account/adjustMargin","account/modifyAutoAppendMargin","order/placeOrder","order/batchOrders","order/cancel_order","order/cancel_batch_orders","order/plan_order","order/cancel_plan","position/changeHoldModel","trace/closeTrackOrder"]}},fees:{spot:{taker:.002,maker:.002},swap:{taker:6e-4,maker:4e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:r,"failure to get a peer from the ring-balancer":a,4010:u,4001:r,4002:r,30001:v,30002:v,30003:v,30004:v,30005:p,30006:v,30007:c,30008:b,30009:r,30010:v,30011:u,30012:v,30013:v,30014:l,30015:v,30016:r,30017:r,30018:r,30019:a,30020:c,30021:c,30022:u,30023:c,30024:k,30025:c,30026:l,30027:v,30028:u,30029:d,30030:r,30031:c,30032:k,30033:c,30034:r,30035:r,30036:r,30037:a,30038:n,32001:d,32002:u,32003:m,32004:r,32005:g,32006:g,32007:g,32008:g,32009:g,32010:r,32011:r,32012:r,32013:r,32014:r,32015:r,32016:r,32017:r,32018:r,32019:r,32020:r,32021:r,32022:r,32023:r,32024:r,32025:r,32026:r,32027:r,32028:d,32029:r,32030:g,32031:o,32038:v,32040:r,32044:r,32045:r,32046:r,32047:r,32048:g,32049:r,32050:g,32051:g,32052:r,32053:r,32057:r,32054:r,32055:g,32056:r,32058:r,32059:g,32060:g,32061:g,32062:g,32063:g,32064:r,32065:r,32066:r,32067:r,32068:r,32069:r,32070:r,32071:r,32072:r,32073:r,32074:r,32075:r,32076:r,32077:r,32078:r,32079:r,32080:r,32083:r,33001:u,33002:d,33003:f,33004:r,33005:r,33006:r,33007:r,33008:f,33009:r,33010:r,33011:r,33012:r,33013:g,33014:y,33015:g,33016:r,33017:f,33018:r,33020:r,33021:c,33022:g,33023:r,33024:g,33025:g,33026:r,33027:g,33028:g,33029:g,33034:r,33035:r,33036:r,33037:r,33038:r,33039:r,33040:r,33041:r,33042:r,33043:r,33044:r,33045:r,33046:r,33047:r,33048:r,33049:r,33050:r,33051:r,33059:c,33060:c,33061:r,33062:r,33063:r,33064:r,33065:r,21009:r,34001:u,34002:h,34003:r,34004:r,34005:r,34006:r,34007:r,34008:f,34009:r,34010:r,34011:r,34012:r,34013:r,34014:r,34015:r,34016:u,34017:d,34018:v,34019:u,34020:u,34021:h,34022:r,34023:u,34026:r,34036:r,34037:r,34038:r,34039:r,35001:r,35002:r,35003:r,35004:r,35005:v,35008:g,35010:g,35012:g,35014:g,35015:g,35017:r,35019:g,35020:g,35021:g,35022:r,35024:r,35025:f,35026:r,35029:y,35030:g,35031:g,35032:r,35037:r,35039:r,35040:g,35044:r,35046:f,35047:f,35048:r,35049:g,35050:g,35052:f,35053:r,35055:f,35057:r,35058:r,35059:c,35060:c,35061:c,35062:g,35063:g,35064:g,35066:g,35067:g,35068:g,35069:g,35070:g,35071:g,35072:g,35073:g,35074:g,35075:g,35076:g,35077:g,35078:g,35079:g,35080:g,35081:g,35082:g,35083:g,35084:g,35085:g,35086:g,35087:g,35088:g,35089:g,35090:r,35091:r,35092:r,35093:r,35094:r,35095:c,35096:r,35097:r,35098:r,35099:r,36001:c,36002:c,36005:r,36101:v,36102:u,36103:d,36104:u,36105:u,36106:d,36107:u,36108:f,36109:u,36201:u,36202:u,36203:g,36204:r,36205:c,36206:c,36207:g,36208:g,36209:g,36210:g,36211:g,36212:g,36213:g,36214:r,36216:y,36217:g,36218:g,36219:g,36220:g,36221:g,36222:g,36223:g,36224:g,36225:g,36226:g,36227:g,36228:g,36229:g,36230:g,400:c,401:v,403:u,404:c,405:c,415:c,429:l,500:a,1001:S,1002:r,1003:r,40001:v,40002:v,40003:v,40004:p,40005:p,40006:v,40007:c,40008:p,40009:v,40010:v,40011:v,40012:v,40013:r,40014:u,40015:r,40016:u,40017:r,40018:u,40102:c,40103:c,40104:r,40105:r,40106:r,40107:r,40108:g,40109:y,40200:n,40201:g,40202:r,40203:c,40204:c,40205:c,40206:c,40207:c,40208:c,40209:c,40300:r,40301:u,40302:c,40303:c,40304:c,40305:c,40306:r,40308:n,40309:k,40400:r,40401:r,40402:c,40403:c,40404:c,40405:c,40406:c,40407:r,40408:r,40409:r,40500:g,40501:r,40502:r,40503:r,40504:r,40505:r,40506:v,40507:v,40508:r,40509:r,40600:r,40601:r,40602:r,40603:r,40604:a,40605:r,40606:r,40607:r,40608:r,40609:r,40700:c,40701:r,40702:r,40703:r,40704:r,40705:c,40706:g,40707:c,40708:c,40709:r,40710:r,40711:f,40712:f,40713:r,40714:r,"invalid sign":v,"invalid currency":k,"invalid symbol":k,"invalid period":c,"invalid user":r,"invalid amount":g,"invalid type":g,"invalid orderId":g,"invalid record":r,"invalid accountId":c,"invalid address":c,"accesskey not null":v,"illegal accesskey":v,"sign not null":v,"req_time is too much difference from server time":p,"permissions not right":u,"illegal sign invalid":v,"user locked":d,"Request Frequency Is Too High":S,"more than a daily rate of cash":c,"more than the maximum daily withdrawal amount":c,"need to bind email or mobile":r,"user forbid":u,"User Prohibited Cash Withdrawal":u,"Cash Withdrawal Is Less Than The Minimum Value":c,"Cash Withdrawal Is More Than The Maximum Value":c,"the account with in 24 hours ban coin":u,"order cancel fail":c,"base symbol error":k,"base date error":r,"api signature not valid":v,"gateway internal error":r,"audit failed":r,"order queryorder invalid":c,"market no need price":g,"limit need price":g,"userid not equal to account_id":r,"your balance is low":f,"address invalid cointype":r,"system exception":r,50003:r,50004:k,50006:u,50007:u,50008:b,50009:S,50010:r,50014:g,50015:g,50016:g,50017:g,50018:g,50019:g,50020:f,50021:g,50026:g,"invalid order query time":r,"invalid start time":c,"invalid end time":c,20003:r,"01001":r},broad:{"invalid size, valid range":r}},precisionMode:_,options:{createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","swap"],parseOHLCV:{volume:{spot:"amount",swap:5}},defaultType:"spot",accountId:void 0,timeframes:{spot:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","2h":"120min","4h":"240min","6h":"360min","12h":"720min","1d":"1day","1w":"1week"},swap:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800"}}}})}async fetchTime(e={}){const t=await this.dataGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){let t=this.safeValue(this.options,"fetchMarkets");t.length||(t=[this.options["defaultType"]]);let i=[];for(let s=0;s<t.length;s++){const r=await this.fetchMarketsByType(t[s],e);i=this.arrayConcat(i,r)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"symbol");let i="spot",s=!0,r=!1;const a=this.safeString2(e,"base_currency","coin"),n=this.safeString(e,"quote_currency"),o=this.safeNumber(e,"contract_val");void 0!==o&&(i="swap",s=!1,r=!0);const c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(n);let h=t.toUpperCase();s&&(h=c+"/"+d);const u=this.safeString(e,"tick_size"),l=this.safeString(e,"size_increment"),f={amount:this.parseNumber(this.parsePrecision(l)),price:this.parseNumber(this.parsePrecision(u))},p=this.safeNumber2(e,"min_size","base_min_size"),m=this.safeString(e,"status");let g=void 0;void 0!==m&&(g="1"===m);const y=this.safeValue2(this.fees,i,"trading",{});return this.extend(y,{id:t,symbol:h,base:c,quote:d,baseId:a,quoteId:n,info:e,type:i,spot:s,swap:r,active:g,precision:f,limits:{amount:{min:p,max:void 0},price:{min:f["price"],max:void 0},cost:{min:f["price"],max:void 0}}})}async fetchMarketsByType(e,t={}){if("spot"===e){const e=await this.dataGetCommonSymbols(t),i=this.safeValue(e,"data",[]);return this.parseMarkets(i)}if("swap"===e){const e=await this.capiGetMarketContracts(t);return this.parseMarkets(e)}throw new w(this.id+" fetchMarketsByType does not support market type "+e)}async fetchCurrencies(e={}){const t=await this.dataGetCommonCurrencys(e),i={},s=this.safeValue(t,"data",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeCurrencyCode(e);i[t]={id:e,code:t,info:e,type:void 0,name:void 0,active:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};let a=void 0;s["spot"]?(a="dataGetMarketDepth",r["type"]="step0"):s["swap"]&&(a="capiGetMarketDepth",r["limit"]=void 0===t?100:t);const n=await this[a](this.extend(r,i)),o=this.safeValue(n,"data",n),c=this.safeInteger2(o,"timestamp","ts"),d=this.safeInteger(o,"id"),h=this.parseOrderBook(o,e,c);return h["nonce"]=d,h}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","id");let s=void 0;const r=this.safeString2(e,"instrument_id","symbol");if(r in this.markets_by_id)t=this.markets_by_id[r],s=t["symbol"];else if(void 0!==r){const e=r.split("_"),t=e.length;if(2===t){const[t,i]=e,r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(i);s=r+"/"+a}else s=r}void 0===s&&void 0!==t&&(s=t["symbol"]);const a=this.safeNumber2(e,"last","close"),n=this.safeNumber(e,"open");let o=void 0,c=void 0,d=this.safeValue(e,"bid");void 0===d?d=this.safeNumber(e,"best_bid"):(o=this.safeNumber(d,1),d=this.safeNumber(d,0));let h=this.safeValue(e,"ask");void 0===h?h=this.safeNumber(e,"best_ask"):(c=this.safeNumber(h,1),h=this.safeNumber(h,0));const u=this.safeNumber2(e,"amount","volume_24h"),l=this.safeNumber(e,"vol"),f=this.vwap(u,l);let p=void 0,m=void 0,g=void 0;return void 0!==a&&void 0!==n&&(p=a-n,m=p/n*100,g=this.sum(n,a)/2),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high_24h"),low:this.safeNumber2(e,"low","low_24h"),bid:d,bidVolume:o,ask:h,askVolume:c,vwap:f,open:n,close:a,last:a,previousClose:void 0,change:p,percentage:m,average:g,baseVolume:u,quoteVolume:l,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e);let s=void 0;i["spot"]?s="dataGetMarketDetailMerged":i["swap"]&&(s="capiGetMarketTicker");const r={symbol:i["id"]},a=await this[s](this.extend(r,t)),n=this.safeValue(a,"data",a);return this.parseTicker(n,i)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();let s=void 0;"spot"===e?s="dataGetMarketTickers":"swap"===e&&(s="capiGetMarketTickers");const r=await this[s](i),a=this.safeValue(r,"data",r);let n=void 0;Array.isArray(r)||(n=this.safeInteger(r,"ts"));const o={};for(let c=0;c<a.length;c++){const e=this.parseTicker(this.extend({timestamp:n},a[c])),t=e["symbol"];o[t]=e}return this.filterByArray(o,"symbol",t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),s=this.safeString(t,"type",i);return await this.fetchTickersByType(s,e,this.omit(t,"type"))}parseTrade(e,t){let i=void 0;const s=this.safeString(e,"symbol");let r=void 0,a=void 0;if(s in this.markets_by_id)t=this.markets_by_id[s],i=t["symbol"],r=t["base"],a=t["quote"];else if(void 0!==s){const e=s.split("_"),t=e.length;if(2===t){const[t,s]=e;r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(s),i=r+"/"+a}else i=s.toUpperCase()}void 0===i&&void 0!==t&&(i=t["symbol"],r=t["base"],a=t["quote"]);let n=this.safeInteger(e,"created_at");n=this.safeInteger2(e,"timestamp","ts",n);const o=this.safeString(e,"price");let c=this.safeString2(e,"filled_amount","order_qty");c=this.safeString2(e,"size","amount",c);const d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(O.stringMul(o,c));let l=this.safeString2(e,"exec_type","liquidity");"M"===l?l="maker":"T"===l&&(l="taker");const f=this.safeString(e,"type");let p=void 0,m=void 0;void 0!==f?(p=this.safeString(e,"type"),m=this.parseOrderType(p),p=this.parseOrderSide(p)):(p=this.safeString2(e,"side","direction"),m=this.parseOrderType(p),p=this.parseOrderSide(p));let g=this.safeString(e,"fee");g=void 0===g?this.safeString(e,"filled_fees"):O.stringNeg(g);const y=this.parseNumber(g);let v=void 0;if(void 0!==y){const e="buy"===p?r:a;v={cost:y,currency:e}}const b=this.safeString(e,"order_id"),w=this.safeString2(e,"trade_id","id");return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:i,id:w,order:b,type:m,takerOrMaker:l,side:p,price:d,amount:h,cost:u,fee:v}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};let n=void 0;r["spot"]?n="dataGetMarketHistoryTrade":r["swap"]&&(n="capiGetMarketTrades"),r["spot"]?void 0!==t&&(a["size"]=t):r["swap"]&&(void 0===t&&(t=100),a["limit"]=t);const o=await this[n](this.extend(a,s));let c=void 0;if(Array.isArray(o))c=o;else{const e=this.safeValue(o,"data",{});c=this.safeValue2(e,"data",[])}return this.parseTrades(c,r,i,t)}parseOHLCV(e,t,i="1m"){const s=this.safeValue(this.options,"parseOHLCV",{}),r=this.safeValue(s,"volume",{});if(Array.isArray(e)){const i=this.safeString(r,t["type"],"amount");return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,i)]}{const i=this.safeValue(r,t["type"],6);return[this.safeInteger(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,i)]}}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"]};let o=void 0;const c=a["type"],d=this.safeValue(this.options,"timeframes",{}),h=this.safeValue(d,c,{}),u=this.safeValue(h,this.timeframes[t]);if(a["spot"])o="dataGetMarketHistoryKline",n["period"]=u,void 0!==s&&(n["size"]=s);else if(a["swap"]){const e=this.parseTimeframe(t);o="capiGetMarketCandles",n["granularity"]=u;const r=this.milliseconds();void 0===i?(void 0===s&&(s=1e3),n["start"]=this.iso8601(r-s*e*1e3),n["end"]=this.iso8601(r)):(n["start"]=this.iso8601(i),n["end"]=void 0===s?this.iso8601(r):this.iso8601(this.sum(i,s*e*1e3)))}const l=await this[o](this.extend(n,r));let f=l;return Array.isArray(l)||(f=this.safeValue(l,"data",[])),this.parseOHLCVs(f,a,t,i,s)}parseSpotBalance(e){const t={info:e},i=this.safeValue(e,"data"),s=this.safeValue(i,"list");for(let r=0;r<s.length;r++){const e=s[r],i=this.safeString(e,"currency"),a=this.safeCurrencyCode(i);if(!(a in t)){const e=this.account();t[a]=e}const n=this.safeValue(e,"type");if("trade"===n)t[a]["free"]=this.safeString(e,"balance");else if("frozen"===n||"lock"===n){const i=this.safeString(t[a],"used");t[a]["used"]=O.stringAdd(i,this.safeString(e,"balance"))}}return this.parseBalance(t,!1)}parseSwapBalance(e){const t={};for(let i=0;i<e.length;i++){const s=e[i],r=this.safeString(s,"symbol");let a=r;r in this.markets_by_id&&(a=this.markets_by_id[r]["symbol"]);const n=this.account();n["total"]=this.safeString(s,"equity"),n["free"]=this.safeString(s,"total_avail_balance"),t[a]=n}return this.parseBalance(t,!1)}async fetchAccounts(e={}){const t={method:"accounts"},i=await this.apiGetAccountAccounts(this.extend(t,e)),s=this.safeValue(i,"data",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"id"),i=this.safeStringLower(e,"type");r.push({id:t,type:i,currency:void 0,info:e})}return r}async findAccountByType(e){await this.loadMarkets(),await this.loadAccounts();const t=this.groupBy(this.accounts,"type"),i=this.safeValue(t,e);if(void 0===i)throw new r(this.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");const s=i.length;if(s>1)throw new r(this.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");return i[0]}async getAccountId(e){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"accountId"),i=this.safeString(e,"accountId",t);if(void 0!==i)return i;const s=this.safeString(this.options,"defaultType","margin"),r=this.safeString(e,"type",s);if(e=this.omit(e,"type"),void 0===r)throw new o(this.id+" getAccountId() requires an 'accountId' parameter");const a=await this.findAccountByType(r);return a["id"]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new o(this.id+" fetchBalance() requires a 'type' parameter, one of 'spot', 'swap'");let s=void 0;const r=this.omit(e,"type");if("spot"===i){const t=await this.getAccountId(e);s="apiGetAccountsAccountIdBalance",r["account_id"]=t,r["method"]="balance"}else"swap"===i&&(s="swapGetAccountAccounts");const a=await this[s](r);return this.parseBalanceByType(i,a)}parseBalanceByType(e,t){if("spot"===e)return this.parseSpotBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new w(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}parseOrderStatus(e){const t={submitted:"open","partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled","-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"};return this.safeString(t,e,e)}parseOrderSide(e){const t={"buy-market":"buy","sell-market":"sell","buy-limit":"buy","sell-limit":"sell",1:"long",2:"short",3:"long",4:"short"};return this.safeString(t,e,e)}parseOrderType(e){const t={"buy-market":"market","sell-market":"market","buy-limit":"limit","sell-limit":"limit",1:"open",2:"open",3:"close",4:"close"};return this.safeString(t,e,e)}parseOrder(e,t){let i=this.safeString(e,"order_id");i=this.safeString2(e,"id","data",i);const s=this.safeInteger2(e,"created_at","createTime");let r=this.safeString(e,"type");const a=this.parseOrderSide(r);r=this.parseOrderType(r);let n=void 0;const o=this.safeString(e,"symbol");void 0!==o&&(o in this.markets_by_id?t=this.markets_by_id[o]:n=o.toUpperCase()),void 0===n&&void 0!==t&&(n=t["symbol"]);const c=this.safeNumber2(e,"amount","size"),d=this.safeNumber2(e,"filled_amount","filled_qty"),h=this.safeNumber(e,"filled_cash_amount"),u=this.safeNumber(e,"price"),l=this.safeNumber(e,"price_avg"),f=this.parseOrderStatus(this.safeString2(e,"state","status")),p=this.safeNumber2(e,"filled_fees","fee");let m=void 0;if(void 0!==p){const e=void 0;m={cost:p,currency:e}}const g=this.safeString(e,"client_oid");return this.safeOrder({info:e,id:i,clientOrderId:g,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:n,type:r,timeInForce:void 0,postOnly:void 0,side:a,price:u,stopPrice:void 0,average:l,cost:h,amount:c,filled:d,remaining:void 0,status:f,fee:m,trades:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),c={symbol:n["id"]},d=this.safeString2(a,"client_oid","clientOrderId",this.uuid());a=this.omit(a,["client_oid","clientOrderId"]);let h=void 0;if(n["spot"]){const o=await this.getAccountId({type:n["type"]});if(h="apiPostOrderOrdersPlace",c["account_id"]=o,c["method"]="place",c["type"]=i+"-"+t,"limit"===t)c["amount"]=this.amountToPrecision(e,s),c["price"]=this.priceToPrecision(e,r);else if("market"===t)if("buy"===i){let t=this.safeNumber(a,"amount");const i=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(i){if(void 0!==r)void 0===t&&(t=s*r);else if(void 0===t)throw new g(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'amount' extra parameter (the exchange-specific behaviour)")}else t=void 0===t?s:t;c["amount"]=this.costToPrecision(e,t)}else"sell"===i&&(c["amount"]=this.amountToPrecision(e,s))}else if(n["swap"]){c["order_type"]="0",c["client_oid"]=d;const i=this.safeString(a,"type");if(void 0===i)throw new o(this.id+" createOrder() requires a type parameter, '1' = open long, '2' = open short, '3' = close long, '4' = close short for "+n["type"]+" orders");c["size"]=this.amountToPrecision(e,s),c["type"]=i,"limit"===t?(c["match_price"]="0",c["price"]=this.priceToPrecision(e,r)):"market"===t&&(c["match_price"]="1"),h="swapPostOrderPlaceOrder"}const u=await this[h](this.extend(c,a));return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();let s=void 0,r=void 0;if(void 0===t){const e=this.safeString2(this.options,"cancelOrder","defaultType"),s=this.safeString(i,"type",e);if("spot"===s&&void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument for spot orders")}else s=this.market(t),r=s["type"];const a=this.omit(i,"type");let n=void 0;const c={};"spot"===r?(n="apiPostOrderOrdersOrderIdSubmitcancel",c["order_id"]=e,c["method"]="submitcancel"):"swap"===r&&(n="swapPostOrderCancelOrder",c["orderId"]=e,c["symbol"]=s["id"]);const d=await this[n](this.extend(c,a));return this.parseOrder(d,s)}async cancelOrders(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=this.safeString(i,"type",s["type"]);if(void 0===r)throw new o(this.id+" cancelOrders() requires a type parameter (one of 'spot', 'swap').");i=this.omit(i,"type");const a={};let n=void 0;if("spot"===r){n="apiPostOrderOrdersBatchcancel",a["method"]="batchcancel";const t=this.json(e),i=t.split('"');a["order_ids"]=i.join("")}else"swap"===r&&(n="swapPostOrderCancelBatchOrders",a["symbol"]=s["id"],a["ids"]=e);const c=await this[n](this.extend(a,i));return c}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r=this.safeString(i,"type",s["type"]);if(void 0===r)throw new o(this.id+" fetchOrder() requires a type parameter (one of 'spot', 'swap').");let a=void 0;const n={};if("spot"===r){const t=this.safeString(i,"client_oid");void 0!==t?(a="apiPostOrderOrdersClientOid",n["client_oid"]=t):(a="apiPostOrderOrdersOrderId",n["order_id"]=e),n["method"]="getOrder"}else"swap"===r&&(a="swapGetOrderDetail",n["symbol"]=s["id"],n["orderId"]=e);const c=this.omit(i,"type"),d=await this[a](this.extend(n,c)),h=this.safeValue(d,"data",d);return this.parseOrder(h,s)}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=this.safeString(s,"type",r["type"]),n={symbol:r["id"]};let c=void 0;"spot"===a?(c="apiGetOrderOrdersOpenOrders",n["method"]="openOrders",void 0===i&&(n["size"]=i)):"swap"===a&&(c="swapGetOrderOrders",n["status"]="3",n["from"]="1",n["to"]="1",void 0===i&&(n["limit"]=100));const d=this.omit(s,"type"),h=await this[c](this.extend(n,d));let u=h;return Array.isArray(h)||(u=this.safeValue(h,"data",[])),this.parseOrders(u,r,void 0,i)}async fetchClosedOrders(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=this.safeString(s,"type",r["type"]),n={symbol:r["id"]};let c=void 0;"spot"===a?(c="apiGetOrderOrdersHistory",void 0!==t&&(n["start_time"]=t),n["method"]="openOrders",void 0===i&&(n["size"]=i)):"swap"===a&&(c="swapGetOrderOrders",n["status"]="2",n["from"]="1",n["to"]="1",void 0===i&&(n["limit"]=100));const d=this.omit(s,"type"),h=await this[c](this.extend(n,d));let u=h;return Array.isArray(h)||(u=this.safeValue(h,"data",[])),this.parseOrders(u,r,void 0,i)}async fetchDeposits(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={currency:r["id"],method:"deposit_withdraw",type:"deposit",size:12},n=await this.apiGetOrderDepositWithdraw(this.extend(a,s)),c=this.safeValue(n,"data",[]);return this.parseTransactions(c,r,t,i,s)}async fetchWithdrawals(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={currency:r["id"],method:"deposit_withdraw",type:"withdraw",size:12},n=await this.apiGetOrderDepositWithdraw(this.extend(a,s)),c=this.safeValue(n,"data",[]);return this.parseTransactions(c,r,t,i,s)}parseTransactionStatus(e){const t={WaitForOperation:"pending",OperationLock:"pending",OperationSuccess:"ok",Cancel:"canceled",Sure:"ok",Fail:"failed",WaitForChainSure:"ok",WAIT_0:"pending",WAIT_1:"pending",DATA_CHANGE:"pending",SUCCESS:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"address"),r=this.safeString(e,"address_tag"),a=void 0,n=r,o=void 0,c=s;let d=this.safeString(e,"type");"withdraw"===d?d="withdrawal":"deposit"===d&&(d="deposit");const h=this.safeString(e,"currency"),u=this.safeCurrencyCode(h),l=this.safeNumber(e,"amount"),f=this.parseTransactionStatus(this.safeString(e,"state")),p=this.safeString(e,"tx_hash"),m=this.safeInteger(e,"created_at"),g=this.safeInteger(e,"updated_at"),y=this.safeNumber(e,"fee");let v=void 0;return void 0!==y&&(v={currency:u,cost:y}),{info:e,id:i,currency:u,amount:l,addressFrom:o,addressTo:c,address:s,tagFrom:a,tagTo:n,tag:r,status:f,type:d,updated:g,txid:p,timestamp:m,datetime:this.iso8601(m),fee:v}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a=this.safeString(s,"type",r["type"]),n=this.omit(s,"type");if("swap"===a)throw new o(this.id+" fetchMyTrades() is not supported for "+a+" type");const c={symbol:r["id"],method:"matchresults"};if(void 0!==t){c["start_date"]=this.ymd(t);const e=this.sum(t,1728e5);c["end_date"]=this.ymd(e)}void 0!==i&&(c["size"]=i);const d=await this.apiPostOrderMatchresults(this.extend(c,n)),h=this.safeValue(d,"data",[]);return this.parseTrades(h,r,t,i)}async fetchOrderTrades(e,t,i,s,r={}){if(void 0===t)throw new o(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t),n=this.safeString(r,"type",a["type"]);r=this.omit(r,"type");let c=void 0;const d={};"spot"===n?(d["order_id"]=e,d["method"]="matchresults",c="apiPostOrderOrdersOrderIdMatchresults"):"swap"===n&&(d["orderId"]=e,d["symbol"]=a["id"],c="swapGetOrderFills");const h=await this[c](this.extend(d,r));let u=h;return Array.isArray(u)||(u=this.safeValue(h,"data",[])),await this.parseTrades(u,a,i,s)}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.swapGetPositionSinglePosition(this.extend(s,t));return r}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.swapGetPositionAllPosition(t);return i}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);n="capi"===t||"swap"===t?"/api/swap/"+this.version+n:"/"+t+"/v1"+n;let o=this.omit(s,this.extractParams(e)),c=this.implodeHostname(this.urls["api"][t])+n;if("data"===t||"capi"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else if("swap"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+n;if("POST"===i)a=this.json(s),t+=a;else if(Object.keys(s).length){const e=this.urlencode(this.keysort(s));c+="?"+e,t+="?"+e}const o=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");r={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":o,"ACCESS-TIMESTAMP":e,"ACCESS-PASSPHRASE":this.password},"POST"===i&&(r["Content-Type"]="application/json")}else if("api"===t){const e=this.milliseconds().toString();let t="";o=this.keysort(o),t=this.rawencode(o);const s=this.hash(this.encode(this.secret),"sha1");let n=t;const d=this.hmac(this.encode(t),this.encode(s),"md5");t.length>0&&(n+="&"),n+="sign="+d+"&req_time="+e+"&accesskey="+this.apiKey,"GET"===i?Object.keys(o).length&&(c+="?"+n):"POST"===i&&(c+="?sign="+d+"&req_time="+e+"&accesskey="+this.apiKey,a=t,r={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(!o)return;const h=this.safeString(o,"err_msg"),u=this.safeString2(o,"code","err_code"),l=this.id+" "+n,f=void 0!==h&&""!==h;f&&(this.throwExactlyMatchedException(this.exceptions["exact"],h,l),this.throwBroadlyMatchedException(this.exceptions["broad"],h,l));const p=void 0!==u&&"00000"!==u;if(p&&this.throwExactlyMatchedException(this.exceptions["exact"],u,l),p||f)throw new r(l)}}},"5ea4":function(e,t,i){"use strict";const s=0,r=1,a=2,n=3,o=0,c=1,d=2,h=0,u=1,l={ROUND:s,TRUNCATE:r,ROUND_UP:a,ROUND_DOWN:n,DECIMAL_PLACES:o,SIGNIFICANT_DIGITS:c,TICK_SIZE:d,NO_PADDING:h,PAD_WITH_ZERO:u};function f(e){if("string"===typeof e)return e;const t=e.toString();if(Math.abs(e)<1){const i=t.split("e-"),s=i[0].replace(".",""),r=parseInt(i[1]),a="-"===t[0];if(r)return e=(a?"-":"")+"0."+new Array(r).join("0")+s.substring(a),e}else{const e=t.split("e");if(e[1]){let t=parseInt(e[1]);const i=e[0].split(".");let s="";return i[1]&&(t-=i[1].length,s=i[1]),i[0]+s+new Array(t+1).join("0")}}return t}const p=[],m=(e,t=0)=>{if(e=f(e),t>0){const i=p[t]||(p[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)")),[,s]=e.toString().match(i)||[null,e];return s.toString()}return parseInt(e).toString()},g=(e,t=0)=>parseFloat(m(e,t));function y(e){const t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0}const v=(e,t,i,a=o,n=h)=>{if(a===d&&i<=0)throw new Error("TICK_SIZE cant be used with negative or zero numPrecisionDigits");if(i<0){const o=Math.pow(10,-i);if(t===s)return(o*v(e/o,t,0,a,n)).toString();if(t===r)return(e-e%o).toString()}if(a===d){const a=v(i,s,22,o,h),c=y(a);let d=e%i;d=Number(v(d,s,8,o,h));const u=v(d/i,s,Math.max(c,8),o,h);return 0!==y(u)&&(t===s?e>0?d>=i/2?e=e-d+i:e-=d:e=d>=i/2?Number(e)-d:Number(e)-d-i:t===r&&(e-=d)),v(e,s,c,o,n)}const u=f(e),l="-"===u[0],p=l?1:0,m=u.length;for(var g=0;g<m;g++)if("."===u[g])break;const b=g<u.length,w=45,k=46,S=48,_=S+1,O=S+5,T=S+9,C=new Uint8Array(m-p+(b?0:1));C[0]=S;let x=C.length,I=-1,E=-1;for(var A=1,N=p;N<m;N++,A++){const e=u.charCodeAt(N);if(e===k)x=A--;else{if(e<S||e>T)throw new Error(`${u}: invalid number (contains an illegal character '${u[A-1]}')`);C[A]=e,e!==S&&I<0&&(I=A)}}I<0&&(I=1);let M=a===o?x:I,P=M+i;E=-1;let B=!0,R=l;for(let r=C.length-1,o=0;r>=0;r--){let e=C[r];if(0!==r){if(e+=o,r>=M+i){const i=t===s&&e>=O&&!(e===O&&o);e=i?T+1:S}e>T?(e=S,o=1):o=0}else o&&(e=_);C[r]=e,e!==S&&(B=!1,I=r,E=E<0?r+1:E)}a===c&&(M=I,P=M+i),B&&(R=!1);const L=I>=x||B?x-1:I,V=E<x?x:E,D=R?1:0,q=D+(x-L),j=Math.max(V-x,0),G=V-L,U=n===h?G:P-L,F=Math.max(U-G,0),H=q+1+j,z=H+F,K=j+F===0,W=new Uint8Array(q+(K?0:1)+j+F);for(R&&(W[0]=w),A=D,N=L;A<q;A++,N++)W[A]=C[N];for(K||(W[q]=k),A=q+1,N=x;A<H;A++,N++)W[A]=C[N];for(A=H;A<z;A++)W[A]=S;return String.fromCharCode(...W)};function b(e){if(void 0!==e&&0!==parseFloat(e))return e}e.exports={numberToString:f,precisionFromString:y,decimalToPrecision:v,truncate_to_string:m,truncate:g,omitZero:b,precisionConstants:l,ROUND:s,TRUNCATE:r,ROUND_UP:a,ROUND_DOWN:n,DECIMAL_PLACES:o,SIGNIFICANT_DIGITS:c,TICK_SIZE:d,NO_PADDING:h,PAD_WITH_ZERO:u}},"5eec":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=new Array(128),t=String.fromCodePoint||String.fromCharCode,i=[];return function(s){var r,a,n=s.length;i.length=0;for(var o=0;o<n;)a=s[o++],a<=127?r=a:a<=223?r=(31&a)<<6|63&s[o++]:a<=239?r=(15&a)<<12|(63&s[o++])<<6|63&s[o++]:String.fromCodePoint?r=(7&a)<<18|(63&s[o++])<<12|(63&s[o++])<<6|63&s[o++]:(r=63,o+=3),i.push(e[r]||(e[r]=t(r)));return i.join("")}};function r(e){for(var t=[],i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t.push(s):s<2048?t.push(192|s>>6,128|63&s):s<55296||s>=57344?t.push(224|s>>12,128|s>>6&63,128|63&s):(i++,s=65536+((1023&s)<<10|1023&e.charCodeAt(i)),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s))}return Uint8Array.from(t)}t.utf8ArrayToStr=s(),t.strToUtf8Array=r},"5f02":function(e,t,i){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},"5f92":function(e,t,i){"use strict";const s=i("90db"),{BadSymbol:r,ExchangeError:a,NotSupported:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitstamp1",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrder:!1,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"btc",quoteId:"usd",maker:.005,taker:.005},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur",maker:.005,taker:.005},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",baseId:"eur",quoteId:"usd",maker:.005,taker:.005},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"xrp",quoteId:"usd",maker:.005,taker:.005},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"xrp",quoteId:"eur",maker:.005,taker:.005},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",maker:.005,taker:.005},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"ltc",quoteId:"usd",maker:.005,taker:.005},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"ltc",quoteId:"eur",maker:.005,taker:.005},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",maker:.005,taker:.005},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"eth",quoteId:"usd",maker:.005,taker:.005},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"eth",quoteId:"eur",maker:.005,taker:.005},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.005,taker:.005}}})}async fetchOrderBook(e,t,i={}){if("BTC/USD"!==e)throw new a(this.id+" "+this.version+" fetchOrderBook doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const s=await this.publicGetOrderBook(i),r=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,r)}async fetchTicker(e,t={}){if("BTC/USD"!==e)throw new a(this.id+" "+this.version+" fetchTicker doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const i=await this.publicGetTicker(t),s=this.safeTimestamp(i,"timestamp"),r=this.safeNumber(i,"vwap"),n=this.safeNumber(i,"volume");let o=void 0;void 0!==n&&void 0!==r&&(o=n*r);const c=this.safeNumber(i,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(i,"high"),low:this.safeNumber(i,"low"),bid:this.safeNumber(i,"bid"),bidVolume:void 0,ask:this.safeNumber(i,"ask"),askVolume:void 0,vwap:r,open:this.safeNumber(i,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:i}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","datetime"),s=0===e["type"]?"buy":"sell",r=this.safeString(e,"order_id");"currency_pair"in e&&e["currency_pair"]in this.markets_by_id&&(t=this.markets_by_id[e["currency_pair"]]);const a=this.safeString(e,"tid"),n=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(n),h=this.parseNumber(c),u=this.parseNumber(o.stringMul(n,c));let l=void 0;return void 0!==t&&(l=t["symbol"]),{id:a,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,order:r,type:void 0,side:s,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:void 0}}async fetchTrades(e,t,i,s={}){if("BTC/USD"!==e)throw new r(this.id+" "+this.version+" fetchTrades doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const a=this.market(e),n={time:"minute"},o=await this.publicGetTransactions(this.extend(n,s));return this.parseTrades(o,a,t,i)}async fetchBalance(e={}){const t=await this.privatePostBalance(e),i={info:t},s=Object.keys(this.currencies);for(let r=0;r<s.length;r++){const e=s[r],a=this.currency(e),n=a["id"],o=this.account();o["free"]=this.safeString(t,n+"_available"),o["used"]=this.safeString(t,n+"_reserved"),o["total"]=this.safeString(t,n+"_balance"),i[e]=o}return this.parseBalance(i,!1)}async createOrder(e,t,i,s,r,n={}){if("limit"!==t)throw new a(this.id+" "+this.version+" accepts limit orders only");if("BTC/USD"!==e)throw new a(this.id+" v1 supports BTC/USD orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c={amount:s,price:r},d=await this[o](this.extend(c,n)),h=this.safeString(d,"id");return{info:d,id:h}}async cancelOrder(e,t,i={}){return await this.privatePostCancelOrder({id:e})}parseOrderStatus(e){const t={"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"};return this.safeString(t,e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrderStatus(r)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a=r?r["id"]:"all",n={id:a},o=await this.privatePostOpenOrdersId(this.extend(n,s));return this.parseTrades(o,r,t,i)}async fetchOrder(e,t,i={}){throw new n(this.id+" fetchOrder is not implemented yet")}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s),o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),a=this.urlencode(o),r={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},r,n){const o=await this.fetch2(e,t,i,s,r,n);if("status"in o&&"error"===o["status"])throw new a(this.id+" "+this.json(o));return o}}},6040:function(e,t,i){var s=i("5259");i("6497"),e.exports=s.cipher=s.cipher||{},s.cipher.algorithms=s.cipher.algorithms||{},s.cipher.createCipher=function(e,t){var i=e;if("string"===typeof i&&(i=s.cipher.getAlgorithm(i),i&&(i=i())),!i)throw new Error("Unsupported algorithm: "+e);return new s.cipher.BlockCipher({algorithm:i,key:t,decrypt:!1})},s.cipher.createDecipher=function(e,t){var i=e;if("string"===typeof i&&(i=s.cipher.getAlgorithm(i),i&&(i=i())),!i)throw new Error("Unsupported algorithm: "+e);return new s.cipher.BlockCipher({algorithm:i,key:t,decrypt:!0})},s.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),s.cipher.algorithms[e]=t},s.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in s.cipher.algorithms?s.cipher.algorithms[e]:null};var r=s.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};r.prototype.start=function(e){e=e||{};var t={};for(var i in e)t[i]=e[i];t.decrypt=this._decrypt,this._finish=!1,this._input=s.util.createBuffer(),this.output=e.output||s.util.createBuffer(),this.mode.start(t)},r.prototype.update=function(e){e&&this._input.putBuffer(e);while(!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish);this._input.compact()},r.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},"605d":function(e,t,i){var s=i("c6b6"),r=i("da84");e.exports="process"==s(r.process)},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,i){"use strict";var s=i("83ab"),r=i("d039"),a=i("df75"),n=i("7418"),o=i("d1e7"),c=i("7b0b"),d=i("44ad"),h=Object.assign,u=Object.defineProperty;e.exports=!h||r((function(){if(s&&1!==h({b:1},h(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),r="abcdefghijklmnopqrst";return e[i]=7,r.split("").forEach((function(e){t[e]=e})),7!=h({},e)[i]||a(h({},t)).join("")!=r}))?function(e,t){var i=c(e),r=arguments.length,h=1,u=n.f,l=o.f;while(r>h){var f,p=d(arguments[h++]),m=u?a(p).concat(u(p)):a(p),g=m.length,y=0;while(g>y)f=m[y++],s&&!l.call(p,f)||(i[f]=p[f])}return i}:h},"615b":function(e,t,i){},"61d2":function(e,t,i){},6299:function(e,t,i){"use strict";const s=i("90db"),{InsufficientFunds:r,ArgumentsRequired:a,ExchangeError:n,InvalidOrder:o,InvalidAddress:c,AuthenticationError:d,NotSupported:h,OrderNotFound:u,OnMaintenance:l,PermissionDenied:f,RateLimitExceeded:p}=i("74b0"),{TICK_SIZE:m}=i("5ea4"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinbasepro",name:"Coinbase Pro",countries:["US"],rateLimit:1e3,userAgent:this.userAgents["chrome"],pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,deposit:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchClosedOrders:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTime:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},hostname:"pro.coinbase.com",urls:{test:{public:"https://api-public.sandbox.pro.coinbase.com",private:"https://api-public.sandbox.pro.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://pro.coinbase.com/",doc:"https://docs.pro.coinbase.com",fees:["https://docs.pro.coinbase.com/#fees","https://support.pro.coinbase.com/customer/en/portal/articles/2945310-fees"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","fees","margin/profile_information","margin/buying_power","margin/withdrawal_power","margin/withdrawal_power_all","margin/exit_plan","margin/liquidation_history","margin/position_refresh_amounts","margin/status","oracle","orders","orders/{id}","orders/client:{client_oid}","otc/orders","payment-methods","position","profiles","profiles/{id}","reports/{report_id}","transfers","transfers/{transfer_id}","users/self/exchange-limits","users/self/hold-balances","users/self/trailing-volume","withdrawals/fee-estimate"],post:["conversions","deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","profiles/transfer","reports","withdrawals/coinbase","withdrawals/coinbase-account","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/client:{client_oid}","orders/{id}"]}},commonCurrencies:{CGLD:"CELO"},precisionMode:m,fees:{trading:{tierBased:!0,percentage:!0,maker:.005,taker:.005},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}},exceptions:{exact:{"Insufficient funds":r,NotFound:u,"Invalid API Key":d,"invalid signature":d,"Invalid Passphrase":d,"Invalid order id":o,"Private rate limit exceeded":p,"Trading pair not available":f,"Product not found":o},broad:{"Order already done":u,"order not found":u,"price too small":o,"price too precise":o,"under maintenance":l,"size is too small":o,"Cancel only mode":l}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeString(e,"name"),n=this.safeCurrencyCode(r),o=this.safeValue(e,"details",{}),c=this.safeNumber(e,"max_precision"),d=this.safeString(e,"status"),h="online"===d;i[n]={id:r,code:n,info:e,type:this.safeString(o,"type"),name:a,active:h,fee:void 0,precision:c,limits:{amount:{min:this.safeNumber(o,"min_size"),max:void 0},withdraw:{min:this.safeNumber(o,"min_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeString(e,"base_currency"),n=this.safeString(e,"quote_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={min:this.safeNumber(e,"quote_increment"),max:void 0},u={amount:this.safeNumber(e,"base_increment"),price:this.safeNumber(e,"quote_increment")},l=this.safeString(e,"status"),f="online"===l;i.push(this.extend(this.fees["trading"],{id:r,symbol:d,baseId:a,quoteId:n,base:o,quote:c,precision:u,limits:{amount:{min:this.safeNumber(e,"base_min_size"),max:this.safeNumber(e,"base_max_size")},price:h,cost:{min:this.safeNumber(e,"min_market_funds"),max:this.safeNumber(e,"max_market_funds")}},active:f,info:e}))}return i}async fetchAccounts(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a);i.push({id:r,type:void 0,currency:n,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"available"),n["used"]=this.safeString(e,"hold"),n["total"]=this.safeString(e,"balance"),i[a]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={id:this.marketId(e),level:2},r=await this.publicGetProductsIdBook(this.extend(s,i)),a=this.parseOrderBook(r,e);return a["nonce"]=this.safeInteger(r,"sequence"),a}parseTicker(e,t){const i=this.parse8601(this.safeValue(e,"time")),s=this.safeNumber(e,"bid"),r=this.safeNumber(e,"ask"),a=this.safeNumber(e,"price"),n=void 0===t?void 0:t["symbol"];return{symbol:n,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:s,bidVolume:void 0,ask:r,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={id:i["id"]},r=this.safeString(this.options,"fetchTickerMethod","publicGetProductsIdTicker"),a=await this[r](this.extend(s,t));return this.parseTicker(a,i)}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"time","created_at")),s=this.safeString(e,"product_id"),r=this.safeSymbol(s,t,"-");let a=void 0,n=void 0,o=void 0,c=void 0;if(void 0!==t){const i=this.safeStringLower(t,"quoteId"),s=i+"_value";c=this.safeNumber(e,s),n=t["quote"];const r=this.safeString(e,"liquidity");void 0!==r&&(o="T"===r?"taker":"maker",a=t[o])}const d=this.safeNumber2(e,"fill_fees","fee"),h={cost:d,currency:n,rate:a},u=void 0,l=this.safeString(e,"trade_id");let f="buy"===e["side"]?"sell":"buy";const p=this.safeString(e,"order_id"),m=this.safeString(e,"maker_order_id"),y=this.safeString(e,"taker_order_id");(void 0!==p||void 0!==m&&void 0!==y)&&(f="buy"===e["side"]?"buy":"sell");const v=this.safeString(e,"price"),b=this.safeString(e,"size"),w=this.parseNumber(v),k=this.parseNumber(b);return void 0===c&&(c=this.parseNumber(g.stringMul(v,b))),{id:l,order:p,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:u,takerOrMaker:o,side:f,price:w,amount:k,fee:h,cost:c}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={product_id:r["id"]};void 0!==i&&(n["limit"]=i);const o=await this.privateGetFills(this.extend(n,s));return this.parseTrades(o,r,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={id:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetProductsIdTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,3),this.safeNumber(e,2),this.safeNumber(e,1),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=this.timeframes[t],o={id:a["id"],granularity:n};void 0!==i&&(o["start"]=this.iso8601(i),s=void 0===s?300:Math.min(300,s),o["end"]=this.iso8601(this.sum((s-1)*n*1e3,i)));const c=await this.publicGetProductsIdCandles(this.extend(o,r));return this.parseOHLCVs(c,a,t,i,s)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeTimestamp(t,"epoch")}parseOrderStatus(e){const t={pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled",canceling:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"product_id");t=this.safeMarket(s,t,"-");const r=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"filled_size"),o=this.safeNumber(e,"size",n),c=this.safeNumber(e,"executed_value"),d=this.safeNumber(e,"fill_fees");let h=void 0;if(void 0!==d){let e=void 0;void 0!==t&&(e=t["quote"]),h={cost:d,currency:e,rate:void 0}}const u=this.safeString(e,"id"),l=this.safeString(e,"type"),f=this.safeString(e,"side"),p=this.safeString(e,"time_in_force"),m=this.safeValue(e,"post_only"),g=this.safeNumber(e,"stop_price"),y=this.safeString(e,"client_oid");return this.safeOrder({id:u,clientOrderId:y,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:r,symbol:t["symbol"],type:l,timeInForce:p,postOnly:m,side:f,price:a,stopPrice:g,cost:c,amount:o,filled:n,remaining:void 0,fee:h,average:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeString2(i,"clientOrderId","client_oid");let a=void 0;void 0===r?(a="privateGetOrdersId",s["id"]=e):(a="privateGetOrdersClientClientOid",s["client_oid"]=r,i=this.omit(i,["clientOrderId","client_oid"]));const n=await this[a](this.extend(s,i));return this.parseOrder(n)}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={order_id:e},o=await this.privateGetFills(this.extend(n,r));return this.parseTrades(o,a,i,s)}async fetchOrders(e,t,i,s={}){const r={status:"all"};return await this.fetchOpenOrders(e,t,i,this.extend(r,s))}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["product_id"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetOrders(this.extend(r,s));return this.parseOrders(n,a,t,i)}async fetchClosedOrders(e,t,i,s={}){const r={status:"done"};return await this.fetchOpenOrders(e,t,i,this.extend(r,s))}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={type:t,side:i,product_id:n["id"]},c=this.safeString2(a,"clientOrderId","client_oid");void 0!==c&&(o["client_oid"]=c,a=this.omit(a,["clientOrderId","client_oid"]));const d=this.safeNumber2(a,"stopPrice","stop_price");void 0!==d&&(o["stop_price"]=this.priceToPrecision(e,d),a=this.omit(a,["stopPrice","stop_price"]));const h=this.safeString2(a,"timeInForce","time_in_force");if(void 0!==h&&(o["time_in_force"]=h,a=this.omit(a,["timeInForce","time_in_force"])),"limit"===t)o["price"]=this.priceToPrecision(e,r),o["size"]=this.amountToPrecision(e,s);else if("market"===t){let t=this.safeNumber2(a,"cost","funds");void 0===t?void 0!==r&&(t=s*r):a=this.omit(a,["cost","funds"]),void 0!==t?o["funds"]=this.costToPrecision(e,t):o["size"]=this.amountToPrecision(e,s)}const u=await this.privatePostOrders(this.extend(o,a));return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeString2(i,"clientOrderId","client_oid");let a=void 0;void 0===r?(a="privateDeleteOrdersId",s["id"]=e):(a="privateDeleteOrdersClientClientOid",s["client_oid"]=r,i=this.omit(i,["clientOrderId","client_oid"]));let n=void 0;return void 0!==t&&(n=this.market(t),s["product_id"]=n["symbol"]),await this[a](this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;return void 0!==e&&(s=this.market(e),i["product_id"]=s["symbol"]),await this.privateDeleteOrders(this.extend(i,t))}async fetchPaymentMethods(e={}){return await this.privateGetPaymentMethods(e)}async deposit(e,t,i,s={}){await this.loadMarkets();const r=this.currency(e),a={currency:r["id"],amount:t};let o="privatePostDeposits";if("payment_method_id"in s)o+="PaymentMethod";else{if(!("coinbase_account_id"in s))throw new h(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");o+="CoinbaseAccount"}const c=await this[o](this.extend(a,s));if(!c)throw new n(this.id+" deposit() error: "+this.json(c));return{info:c,id:c["id"]}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),o={currency:a["id"],amount:t};let c="privatePostWithdrawals";"payment_method_id"in r?c+="PaymentMethod":"coinbase_account_id"in r?c+="CoinbaseAccount":(c+="Crypto",o["crypto_address"]=i,void 0!==s&&(o["destination_tag"]=s));const d=await this[c](this.extend(o,r));if(!d)throw new n(this.id+" withdraw() error: "+this.json(d));return{info:d,id:d["id"]}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();let r=void 0,a=this.safeString(s,"id");if(void 0===a&&void 0!==e){r=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new n(this.id+" fetchTransactions() could not find account id for "+e);a=i["id"]}const o={};void 0!==a&&(o["id"]=a),void 0!==i&&(o["limit"]=i);let c=void 0;if(void 0===a){c=await this.privateGetTransfers(this.extend(o,s));for(let e=0;e<c.length;e++){const t=this.safeString(c[e],"account_id"),i=this.safeValue(this.accountsById,t),s=this.safeString(i,"currency");c[e]["currency"]=s}}else{c=await this.privateGetAccountsIdTransfers(this.extend(o,s));for(let t=0;t<c.length;t++)c[t]["currency"]=e}return this.parseTransactions(c,r,t,i)}async fetchDeposits(e,t,i,s={}){return this.fetchTransactions(e,t,i,this.extend(s,{type:"deposit"}))}async fetchWithdrawals(e,t,i,s={}){return this.fetchTransactions(e,t,i,this.extend(s,{type:"withdraw"}))}parseTransactionStatus(e){const t=this.safeValue(e,"canceled_at");if(t)return"canceled";const i=this.safeValue(e,"processed_at"),s=this.safeValue(e,"completed_at");return s?"ok":i&&!s?"failed":"pending"}parseTransaction(e,t){const i=this.safeValue(e,"details",{}),s=this.safeString(e,"id"),r=this.safeString(i,"crypto_transaction_hash"),a=this.parse8601(this.safeString(e,"created_at")),n=this.parse8601(this.safeString(e,"processed_at")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),d=this.parseTransactionStatus(e);let h=this.safeNumber(e,"amount"),u=this.safeString(e,"type"),l=this.safeString(i,"crypto_address");const f=this.safeString(i,"destination_tag");l=this.safeString(e,"crypto_address",l);let p=void 0;if("withdraw"===u){u="withdrawal",l=this.safeString(i,"sent_to_address",l);const e=this.safeNumber(i,"fee");void 0!==e&&(void 0!==h&&(h-=e),p={cost:e,currency:c})}return{info:e,id:s,txid:r,timestamp:a,datetime:this.iso8601(a),address:l,tag:f,type:u,amount:h,currency:c,status:d,updated:n,fee:p}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let s=this.safeValue(this.options,"coinbaseAccounts");void 0===s&&(s=await this.privateGetCoinbaseAccounts(),this.options["coinbaseAccounts"]=s,this.options["coinbaseAccountsByCurrencyId"]=this.indexBy(s,"currency"));const r=i["id"],a=this.safeValue(this.options["coinbaseAccountsByCurrencyId"],r);if(void 0===a)throw new c(this.id+" fetchDepositAddress() could not find currency code "+e+" with id = "+r+" in this.options['coinbaseAccountsByCurrencyId']");const n={id:a["id"]},o=await this.privatePostCoinbaseAccountsIdAddresses(this.extend(n,t)),d=this.safeString(o,"address"),h=this.safeString(o,"destination_tag");return{currency:e,address:this.checkAddress(d),tag:h,info:o}}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.implodeHostname(this.urls["api"][t])+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(a=this.json(o),t=a);const s=e+i+n+t,c=this.base64ToBinary(this.secret),d=this.hmac(this.encode(s),c,"sha256","base64");r={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":d,"CB-ACCESS-TIMESTAMP":e,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(400===e||404===e){if("{"===a[0]){const e=this.safeString(o,"message"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new n(t)}throw new n(this.id+" "+a)}}async request(e,t="public",i="GET",s={},r,a){const o=await this.fetch2(e,t,i,s,r,a);if("string"!==typeof o&&"message"in o)throw new n(this.id+" "+this.json(o));return o}}},"62ad":function(e,t,i){"use strict";var s=i("ade3"),r=i("5530"),a=(i("a9e3"),i("b64b"),i("ac1f"),i("5319"),i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("caad"),i("159b"),i("2ca0"),i("4b85"),i("2b0e")),n=i("d9f7"),o=i("80d2"),c=["sm","md","lg","xl"],d=function(){return c.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{})}(),h=function(){return c.reduce((function(e,t){return e["offset"+Object(o["D"])(t)]={type:[String,Number],default:null},e}),{})}(),u=function(){return c.reduce((function(e,t){return e["order"+Object(o["D"])(t)]={type:[String,Number],default:null},e}),{})}(),l={col:Object.keys(d),offset:Object.keys(h),order:Object.keys(u)};function f(e,t,i){var s=e;if(null!=i&&!1!==i){if(t){var r=t.replace(e,"");s+="-".concat(r)}return"col"!==e||""!==i&&!0!==i?(s+="-".concat(i),s.toLowerCase()):s.toLowerCase()}}var p=new Map;t["a"]=a["a"].extend({name:"v-col",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({cols:{type:[Boolean,String,Number],default:!1}},d),{},{offset:{type:[String,Number],default:null}},h),{},{order:{type:[String,Number],default:null}},u),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var i=t.props,r=t.data,a=t.children,o=(t.parent,"");for(var c in i)o+=String(i[c]);var d=p.get(o);return d||function(){var e,t;for(t in d=[],l)l[t].forEach((function(e){var s=i[e],r=f(t,e,s);r&&d.push(r)}));var r=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!r||!i.cols},Object(s["a"])(e,"col-".concat(i.cols),i.cols),Object(s["a"])(e,"offset-".concat(i.offset),i.offset),Object(s["a"])(e,"order-".concat(i.order),i.order),Object(s["a"])(e,"align-self-".concat(i.alignSelf),i.alignSelf),e)),p.set(o,d)}(),e(i.tag,Object(n["a"])(r,{class:d}),a)}})},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"63de":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,AuthenticationError:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinspot",name:"CoinSpot",countries:["AU"],rateLimit:1e3,has:{cancelOrder:!1,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api",referral:"https://www.coinspot.com.au/register?code=PJURCU"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel","ro/my/balances","ro/my/balances/{cointype}","ro/my/deposits","ro/my/withdrawals","ro/my/transactions","ro/my/transactions/{cointype}","ro/my/transactions/open","ro/my/transactions/{cointype}/open","ro/my/sendreceive","ro/my/affiliatepayments","ro/my/referralpayments"]}},markets:{"BTC/AUD":{id:"btc",symbol:"BTC/AUD",base:"BTC",quote:"AUD",baseId:"btc",quoteId:"aud"},"ETH/AUD":{id:"eth",symbol:"ETH/AUD",base:"ETH",quote:"AUD",baseId:"eth",quoteId:"aud"},"XRP/AUD":{id:"xrp",symbol:"XRP/AUD",base:"XRP",quote:"AUD",baseId:"xrp",quoteId:"aud"},"LTC/AUD":{id:"ltc",symbol:"LTC/AUD",base:"LTC",quote:"AUD",baseId:"ltc",quoteId:"aud"},"DOGE/AUD":{id:"doge",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD",baseId:"doge",quoteId:"aud"},"RFOX/AUD":{id:"rfox",symbol:"RFOX/AUD",base:"RFOX",quote:"AUD",baseId:"rfox",quoteId:"aud"},"POWR/AUD":{id:"powr",symbol:"POWR/AUD",base:"POWR",quote:"AUD",baseId:"powr",quoteId:"aud"},"NEO/AUD":{id:"neo",symbol:"NEO/AUD",base:"NEO",quote:"AUD",baseId:"neo",quoteId:"aud"},"TRX/AUD":{id:"trx",symbol:"TRX/AUD",base:"TRX",quote:"AUD",baseId:"trx",quoteId:"aud"},"EOS/AUD":{id:"eos",symbol:"EOS/AUD",base:"EOS",quote:"AUD",baseId:"eos",quoteId:"aud"},"XLM/AUD":{id:"xlm",symbol:"XLM/AUD",base:"XLM",quote:"AUD",baseId:"xlm",quoteId:"aud"},"RHOC/AUD":{id:"rhoc",symbol:"RHOC/AUD",base:"RHOC",quote:"AUD",baseId:"rhoc",quoteId:"aud"},"GAS/AUD":{id:"gas",symbol:"GAS/AUD",base:"GAS",quote:"AUD",baseId:"gas",quoteId:"aud"}},commonCurrencies:{DRK:"DASH"},options:{fetchBalance:"private_post_my_balances"}})}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(this.options,"fetchBalance","private_post_my_balances"),i=await this[t](e),s={info:i},r=this.safeValue2(i,"balance","balances");if(Array.isArray(r))for(let a=0;a<r.length;a++){const e=r[a],t=Object.keys(e);for(let i=0;i<t.length;i++){const r=t[i],a=e[r],n=this.safeCurrencyCode(r),o=this.account();o["total"]=this.safeString(a,"balance"),s[n]=o}}else{const e=Object.keys(r);for(let t=0;t<e.length;t++){const i=e[t],a=this.safeCurrencyCode(i),n=this.account();n["total"]=this.safeString(r,i),s[a]=n}}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={cointype:s["id"]},a=await this.privatePostOrders(this.extend(r,i));return this.parseOrderBook(a,e,void 0,"buyorders","sellorders","rate","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetLatest(t);let s=this.marketId(e);s=s.toLowerCase();const r=i["prices"][s],a=this.milliseconds(),n=this.safeNumber(r,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:r}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={cointype:r["id"]},n=await this.privatePostOrdersHistory(this.extend(a,s)),o=this.safeValue(n,"orders",[]);return this.parseTrades(o,r,t,i)}parseTrade(e,t){const i=this.safeString(e,"rate"),s=this.safeString(e,"amount"),r=this.parseNumber(i),a=this.parseNumber(s);let n=this.safeNumber(e,"total");void 0===n&&(n=this.parseNumber(o.stringMul(i,s)));const c=this.safeInteger(e,"solddate"),d=this.safeString(e,"market"),h=this.safeSymbol(d,t,"/");return{info:e,id:void 0,symbol:h,timestamp:c,datetime:this.iso8601(c),order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:r,amount:a,cost:n,fee:void 0}}async createOrder(e,t,i,s,a,n={}){await this.loadMarkets();const o="privatePostMy"+this.capitalize(i);if("market"===t)throw new r(this.id+" allows limit orders only");const c={cointype:this.marketId(e),amount:s,rate:a};return await this[o](this.extend(c,n))}async cancelOrder(e,t,i={}){const s=this.safeString(i,"side");if("buy"!==s&&"sell"!==s)throw new a(this.id+' cancelOrder() requires a side parameter, "buy" or "sell"');i=this.omit(i,"side");const r="privatePostMy"+this.capitalize(s)+"Cancel",n={id:e};return await this[r](this.extend(n,i))}sign(e,t="public",i="GET",s={},r,a){if(!this.apiKey)throw new n(this.id+" requires apiKey for all requests");const o=this.urls["api"][t]+"/"+e;if("private"===t){this.checkRequiredCredentials();const e=this.nonce();a=this.json(this.extend({nonce:e},s)),r={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:o,method:i,body:a,headers:r}}}},"63f9":function(e,t,i){"use strict";const s=i("90db"),{BadRequest:r,AuthenticationError:a,NetworkError:n,ArgumentsRequired:o,OrderNotFound:c,InsufficientFunds:d}=i("74b0"),{TICK_SIZE:h}=i("5ea4"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"hollaex",name:"HollaEx",countries:["KR"],rateLimit:333,version:"v2",has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createLimitBuyOrder:!0,createLimitSellOrder:!0,createMarketBuyOrder:!0,createMarketSellOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:"emulated",fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0,fetchDepositAddresses:!0},timeframes:{"1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/75841031-ca375180-5ddd-11ea-8417-b975674c23cb.jpg",api:"https://api.hollaex.com",www:"https://hollaex.com",doc:"https://apidocs.hollaex.com",referral:"https://pro.hollaex.com/signup?affiliation_code=QSWA6G"},precisionMode:h,requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["health","constants","kit","tiers","ticker","tickers","orderbook","orderbooks","trades","chart","charts","udf/config","udf/history","udf/symbols"]},private:{get:["user","user/balance","user/deposits","user/withdrawals","user/withdrawal/fee","user/trades","orders","orders/{order_id}"],post:["user/request-withdrawal","order"],delete:["order/all","order"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001}},exceptions:{broad:{"Invalid token":a,"Order not found":c,"Insufficient balance":d},exact:{400:r,403:a,404:r,405:r,410:r,429:r,500:n,503:n}},options:{"api-expires":parseInt(this.timeout/1e3)}})}async fetchMarkets(e={}){const t=await this.publicGetConstants(e),i=this.safeValue(t,"pairs",{}),s=Object.keys(i),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeString(t,"name"),o=this.safeString(t,"pair_base"),c=this.safeString(t,"pair_2"),d=this.commonCurrencyCode(o.toUpperCase()),h=this.commonCurrencyCode(c.toUpperCase()),u=d+"/"+h,l=this.safeValue(t,"active"),f=this.fees["trading"]["maker"],p=this.fees["trading"]["taker"];r.push({id:n,symbol:u,base:d,quote:h,baseId:o,quoteId:c,active:l,precision:{price:this.safeNumber(t,"increment_price"),amount:this.safeNumber(t,"increment_size")},limits:{amount:{min:this.safeNumber(t,"min_size"),max:this.safeNumber(t,"max_size")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:void 0,max:void 0}},taker:p,maker:f,info:t})}return r}async fetchCurrencies(e={}){const t=await this.publicGetConstants(e),i=this.safeValue(t,"coins",{}),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeString(t,"symbol"),o=this.safeInteger(t,"id"),c=this.safeCurrencyCode(n),d=this.safeString(t,"fullname"),h=this.safeValue(t,"active"),u=this.safeNumber(t,"withdrawal_fee"),l=this.safeNumber(t,"increment_unit"),f=this.safeValue(t,"withdrawal_limits",[]);r[c]={id:n,numericId:o,code:c,info:t,name:d,active:h,fee:u,precision:l,limits:{amount:{min:this.safeNumber(t,"min"),max:this.safeNumber(t,"max")},withdraw:{min:void 0,max:this.safeValue(f,0)}}}}return r}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const s=await this.publicGetOrderbooks(i),r={},a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=s[e],i=this.safeSymbol(e,void 0,"-"),o=this.parse8601(this.safeString(t,"timestamp"));r[i]=this.parseOrderBook(s[e],o)}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.marketId(e),r={symbol:s},a=await this.publicGetOrderbooks(this.extend(r,i)),n=this.safeValue(a,s),o=this.parse8601(this.safeString(n,"timestamp"));return this.parseOrderBook(n,e,o)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTicker(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(this.extend(t));return this.parseTickers(i,e)}parseTickers(e,t,i={}){const s={},r=Object.keys(e);for(let a=0;a<r.length;a++){const t=r[a],n=e[t],o=this.safeString(n,"symbol",t),c=this.safeMarket(o,void 0,"-"),d=c["symbol"];s[d]=this.extend(this.parseTicker(n,c),i)}return this.filterByArray(s,"symbol",t)}parseTicker(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t,"-"),r=this.parse8601(this.safeString2(e,"time","timestamp")),a=this.safeNumber(e,"close"),n={symbol:s,info:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:this.safeNumber(e,"last",a),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0};return n}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,r["id"],[]);return this.parseTrades(o,r,t,i)}parseTrade(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t,"-");const s=t["symbol"],r=this.safeString(e,"timestamp"),a=this.parse8601(r),n=this.safeString(e,"side"),o=this.safeString(e,"price"),c=this.safeString(e,"size"),d=this.parseNumber(o),h=this.parseNumber(c),l=this.parseNumber(u.stringMul(o,c)),f=this.safeNumber(e,"fee");let p=void 0;if(void 0!==f){const e=t["quote"],i=void 0!==t?t["quote"]:e;p={cost:f,currency:i}}return{info:e,id:void 0,timestamp:a,datetime:r,symbol:s,order:void 0,type:void 0,side:n,takerOrMaker:void 0,price:d,amount:h,cost:l,fee:p}}async fetchOHLCV(e,t="1h",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],resolution:this.timeframes[t]},c=this.parseTimeframe(t);if(void 0===i){if(void 0===s)throw new o(this.id+" fetchOHLCV() requires a 'since' or a 'limit' argument");{const e=this.seconds(),t=e-c*s;n["to"]=e,n["from"]=t}}else if(void 0===s)n["from"]=parseInt(i/1e3),n["to"]=this.seconds();else{const e=parseInt(i/1e3);n["from"]=e,n["to"]=this.sum(e,c*s)}const d=await this.publicGetChart(this.extend(n,r));return this.parseOHLCVs(d,a,t,i,s)}parseOHLCV(e,t,i="1h",s,r){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserBalance(e),i=this.parse8601(this.safeString(t,"updated_at")),s={info:t,timestamp:i,datetime:this.iso8601(i)},r=Object.keys(this.currencies_by_id);for(let a=0;a<r.length;a++){const e=r[a],i=this.safeCurrencyCode(e),n=this.account();n["free"]=this.safeString(t,e+"_available"),n["total"]=this.safeString(t,e+"_balance"),s[i]=n}return this.parseBalance(s,!1)}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetOrdersOrderId(this.extend(s,i));return this.parseOrder(r)}async fetchOpenOrders(e,t,i,s={}){const r={open:!0};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"filled"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetOrders(this.extend(s,i)),a=this.safeValue(r,"data",[]),n=this.safeValue(a,0);if(void 0===n)throw new c(this.id+" fetchOrder() could not find order id "+e);return this.parseOrder(n)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["symbol"]=r["id"]),void 0!==t&&(a["start_date"]=this.iso8601(t)),void 0!==i&&(a["limit"]=i);const n=await this.privateGetOrders(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,r,t,i)}parseOrderStatus(e){const t={new:"open",pfilled:"open",filled:"closed",canceled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t,"-"),r=this.safeString(e,"id"),a=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"size"),h=this.safeNumber(e,"filled"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder({id:r,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:u,symbol:s,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,amount:d,filled:h,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n["id"],side:i,size:s,type:t};"market"!==t&&(o["price"]=r);const c=this.safeFloat2(a,"stopPrice","stop");void 0!==c&&(o["stop"]=parseFloat(this.priceToPrecision(e,c)),a=this.omit(a,["stopPrice","stop"]));const d=await this.privatePostOrder(this.extend(o,a));return this.parseOrder(d,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateDeleteOrder(this.extend(s,i));return this.parseOrder(r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;void 0!==e&&(s=this.market(e),i["symbol"]=s["id"]);const r=await this.privateDeleteOrderAll(this.extend(i,t));return this.parseOrders(r,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["symbol"]=a["id"]),void 0!==i&&(r["limit"]=i),void 0!==t&&(r["start_date"]=this.iso8601(t));const n=await this.privateGetUserTrades(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,a,t,i)}parseDepositAddress(e,t){let i=this.safeString(e,"address"),s=void 0;if(void 0!==i){const e=i.split(":");i=this.safeString(e,0),s=this.safeString(e,1)}this.checkAddress(i);const r=this.safeString(e,"currency");t=this.safeCurrency(r,t);const a=this.safeString(e,"network");return{currency:t["code"],address:i,tag:s,network:a,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=this.safeString(t,"network");t=this.omit(t,"network");const s=await this.privateGetUser(t),r=this.safeValue(s,"wallet",[]),a=void 0===i?r:this.filterBy(r,"network",i);return this.parseDepositAddresses(a,e)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["limit"]=i),void 0!==t&&(r["start_date"]=this.iso8601(t));const n=await this.privateGetUserDeposits(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["limit"]=i),void 0!==t&&(r["start_date"]=this.iso8601(t));const n=await this.privateGetUserWithdrawals(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"transaction_id"),r=this.parse8601(this.safeString(e,"created_at")),a=this.parse8601(this.safeString(e,"updated_at")),n=this.safeString(e,"type"),o=this.safeNumber(e,"amount");let c=this.safeString(e,"address"),d=void 0;const h=void 0;let u=void 0,l=void 0;const f=void 0;if(void 0!==c){const e=c.split(":");c=this.safeString(e,0),u=this.safeString(e,1),d=c,l=u}const p=this.safeString(e,"currency"),m=this.safeCurrencyCode(p);let g=this.safeValue(e,"status");const y=this.safeValue(e,"dismissed"),v=this.safeValue(e,"rejected");g=g?"ok":y?"canceled":v?"failed":"pending";const b={currency:m,cost:this.safeNumber(e,"fee")};return{info:e,id:i,txid:s,timestamp:r,datetime:this.iso8601(r),addressFrom:h,address:c,addressTo:d,tagFrom:f,tag:u,tagTo:l,type:n,amount:o,currency:m,status:g,updated:a,fee:b}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);void 0!==s&&(i+=":"+s);const n={currency:a["id"],amount:t,address:i};let o=this.safeString(r,"otp_code");void 0===o&&void 0===this.twofa||(void 0===o&&(o=this.oath()),n["otp_code"]=o);const c=await this.privatePostUserRequestWithdrawal(this.extend(n,r));return{info:c,id:void 0}}sign(e,t="public",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e));e="/"+this.version+"/"+this.implodeParams(e,s),"GET"!==i&&"DELETE"!==i||Object.keys(n).length&&(e+="?"+this.urlencode(n));const o=this.urls["api"]+e;if("private"===t){this.checkRequiredCredentials();const t=this.safeInteger2(this.options,"api-expires","expires",parseInt(this.timeout/1e3)),s=this.sum(this.seconds(),t),o=s.toString();let c=i+e+o;r={"api-key":this.encode(this.apiKey),"api-expires":o},"POST"===i&&(r["Content-type"]="application/json",Object.keys(n).length&&(a=this.json(n),c+=a));const d=this.hmac(this.encode(c),this.encode(this.secret));r["api-signature"]=d}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,c){if(void 0!==n&&e>=400&&e<=503){const t=this.id+" "+a,i=this.safeString(n,"message");this.throwBroadlyMatchedException(this.exceptions["broad"],i,t);const s=e.toString();this.throwExactlyMatchedException(this.exceptions["exact"],s,t)}}}},6405:function(e,t,i){"use strict";var s=i("f0be"),r=i("fee7"),a=i("74d2"),n=r.inherits,o=s.base,c=r.utils.assert;function d(e){o.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(e,t,i,s){o.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(i,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,i,s){o.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===s?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(i,16),this.z=new a(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n(d,o),e.exports=d,d.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i,s;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=r[0].cmp(r[1])<0?r[0]:r[1],t=t.toRed(this.red)}if(e.lambda)i=new a(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?i=n[0]:(i=n[1],c(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return s=e.basis?e.basis.map((function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})):this._getEndoBasis(i),{beta:t,lambda:i,basis:s}}},d.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),i=new a(2).toRed(t).redInvm(),s=i.redNeg(),r=new a(3).toRed(t).redNeg().redSqrt().redMul(i),n=s.redAdd(r).fromRed(),o=s.redSub(r).fromRed();return[n,o]},d.prototype._getEndoBasis=function(e){var t,i,s,r,n,o,c,d,h,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new a(1),m=new a(0),g=new a(0),y=new a(1),v=0;while(0!==l.cmpn(0)){var b=f.div(l);d=f.sub(b.mul(l)),h=g.sub(b.mul(p));var w=y.sub(b.mul(m));if(!s&&d.cmp(u)<0)t=c.neg(),i=p,s=d.neg(),r=h;else if(s&&2===++v)break;c=d,f=l,l=d,g=p,p=h,y=m,m=w}n=d.neg(),o=h;var k=s.sqr().add(r.sqr()),S=n.sqr().add(o.sqr());return S.cmp(k)>=0&&(n=t,o=i),s.negative&&(s=s.neg(),r=r.neg()),n.negative&&(n=n.neg(),o=o.neg()),[{a:s,b:r},{a:n,b:o}]},d.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],s=t[1],r=s.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),n=r.mul(i.a),o=a.mul(s.a),c=r.mul(i.b),d=a.mul(s.b),h=e.sub(n).sub(o),u=c.add(d).neg();return{k1:h,k2:u}},d.prototype.pointFromX=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=i.redSqrt();if(0!==s.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var r=s.fromRed().isOdd();return(t&&!r||!t&&r)&&(s=s.redNeg()),this.point(e,s)},d.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,s=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(s).redIAdd(this.b);return 0===i.redSqr().redISub(r).cmpn(0)},d.prototype._endoWnafMulAdd=function(e,t,i){for(var s=this._endoWnafT1,r=this._endoWnafT2,a=0;a<e.length;a++){var n=this._endoSplit(t[a]),o=e[a],c=o._getBeta();n.k1.negative&&(n.k1.ineg(),o=o.neg(!0)),n.k2.negative&&(n.k2.ineg(),c=c.neg(!0)),s[2*a]=o,s[2*a+1]=c,r[2*a]=n.k1,r[2*a+1]=n.k2}for(var d=this._wnafMulAdd(1,s,r,2*a,i),h=0;h<2*a;h++)s[h]=null,r[h]=null;return d},n(h,o.BasePoint),d.prototype.point=function(e,t,i){return new h(this,e,t,i)},d.prototype.pointFromJSON=function(e,t){return h.fromJSON(this,e,t)},h.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,s=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return t}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(e,t,i){"string"===typeof t&&(t=JSON.parse(t));var s=e.point(t[0],t[1],i);if(!t[2])return s;function r(t){return e.point(t[0],t[1],i)}var a=t[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(r))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(r))}},s},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),s=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},h.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),s=e.redInvm(),r=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(s),a=r.redSqr().redISub(this.x.redAdd(this.x)),n=r.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,n)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(e){return e=new a(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){var s=[this,t],r=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(s,r):this.curve._wnafMulAdd(1,s,r,2)},h.prototype.jmulAdd=function(e,t,i){var s=[this,t],r=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(s,r,!0):this.curve._wnafMulAdd(1,s,r,2,!0)},h.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},h.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,s=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(s)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(s)}}}return t},h.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},n(u,o.BasePoint),d.prototype.jpoint=function(e,t,i){return new u(this,e,t,i)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),s=this.y.redMul(t).redMul(e);return this.curve.point(i,s)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),s=this.x.redMul(t),r=e.x.redMul(i),a=this.y.redMul(t.redMul(e.z)),n=e.y.redMul(i.redMul(this.z)),o=s.redSub(r),c=a.redSub(n);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=o.redSqr(),h=d.redMul(o),u=s.redMul(d),l=c.redSqr().redIAdd(h).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(a.redMul(h)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,s=e.x.redMul(t),r=this.y,a=e.y.redMul(t).redMul(this.z),n=i.redSub(s),o=r.redSub(a);if(0===n.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=n.redSqr(),d=c.redMul(n),h=i.redMul(c),u=o.redSqr().redIAdd(d).redISub(h).redISub(h),l=o.redMul(h.redISub(u)).redISub(r.redMul(d)),f=this.z.redMul(n);return this.curve.jpoint(u,l,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var s=this.curve.a,r=this.curve.tinv,a=this.x,n=this.y,o=this.z,c=o.redSqr().redSqr(),d=n.redAdd(n);for(i=0;i<e;i++){var h=a.redSqr(),u=d.redSqr(),l=u.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(s.redMul(c)),p=a.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(l);var v=d.redMul(o);i+1<e&&(c=c.redMul(l)),a=m,o=v,d=y}return this.curve.jpoint(a,d.redMul(r),o)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var s=this.x.redSqr(),r=this.y.redSqr(),a=r.redSqr(),n=this.x.redAdd(r).redSqr().redISub(s).redISub(a);n=n.redIAdd(n);var o=s.redAdd(s).redIAdd(s),c=o.redSqr().redISub(n).redISub(n),d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),e=c,t=o.redMul(n.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(h).redISub(l);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=l.redIAdd(l);g=g.redIAdd(g),g=g.redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)},u.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var s=this.x.redSqr(),r=this.y.redSqr(),a=r.redSqr(),n=this.x.redAdd(r).redSqr().redISub(s).redISub(a);n=n.redIAdd(n);var o=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),c=o.redSqr().redISub(n).redISub(n);e=c;var d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),t=o.redMul(n.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l);p=p.redIAdd(p);var m=p.redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);var g=u.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,s=this.z,r=s.redSqr().redSqr(),a=t.redSqr(),n=i.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(r)),c=t.redAdd(t);c=c.redIAdd(c);var d=c.redMul(n),h=o.redSqr().redISub(d.redAdd(d)),u=d.redISub(h),l=n.redSqr();l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var f=o.redMul(u).redISub(l),p=i.redAdd(i).redMul(s);return this.curve.jpoint(h,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),s=t.redSqr(),r=e.redAdd(e).redIAdd(e),a=r.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(s);n=n.redIAdd(n),n=n.redAdd(n).redIAdd(n),n=n.redISub(a);var o=n.redSqr(),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=r.redIAdd(n).redSqr().redISub(a).redISub(o).redISub(c),h=t.redMul(d);h=h.redIAdd(h),h=h.redIAdd(h);var u=this.x.redMul(o).redISub(h);u=u.redIAdd(u),u=u.redIAdd(u);var l=this.y.redMul(d.redMul(c.redISub(d)).redISub(n.redMul(o)));l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var f=this.z.redAdd(n).redSqr().redISub(i).redISub(o);return this.curve.jpoint(u,l,f)},u.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var s=t.redMul(this.z),r=i.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(s)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var s=e.clone(),r=this.curve.redN.redMul(t);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),0===this.x.cmp(i))return!0}return!1},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6497:function(e,t,i){(function(t,s,r){var a=i("5259"),n=i("0633"),o=e.exports=a.util=a.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function d(e){if(this.data="",this.read=0,"string"===typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e))if("undefined"!==typeof r&&e instanceof r)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(s){for(var i=0;i<t.length;++i)this.putByte(t[i])}}else(e instanceof d||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}(function(){if("undefined"!==typeof t&&t.nextTick&&!t.browser)return o.nextTick=t.nextTick,void("function"===typeof setImmediate?o.setImmediate=setImmediate:o.setImmediate=o.nextTick);if("function"===typeof setImmediate)return o.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(o.nextTick=function(e){return setImmediate(e)});if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!==typeof window&&"function"===typeof window.postMessage){var e="forge.setImmediate",i=[];function s(t){if(t.source===window&&t.data===e){t.stopPropagation();var s=i.slice();i.length=0,s.forEach((function(e){e()}))}}o.setImmediate=function(t){i.push(t),1===i.length&&window.postMessage(e,"*")},window.addEventListener("message",s,!0)}if("undefined"!==typeof MutationObserver){var r=Date.now(),a=!0,n=document.createElement("div");i=[];new MutationObserver((function(){var e=i.slice();i.length=0,e.forEach((function(e){e()}))})).observe(n,{attributes:!0});var c=o.setImmediate;o.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),c(e)):(i.push(e),1===i.length&&n.setAttribute("a",a=!a))}}o.nextTick=o.setImmediate})(),o.isNodejs="undefined"!==typeof t&&t.versions&&t.versions.node,o.globalScope=function(){return o.isNodejs?s:"undefined"===typeof self?window:self}(),o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},o.ByteBuffer=d,o.ByteStringBuffer=d;var h=4096;function u(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var i=o.isArrayBuffer(e),s=o.isArrayBufferView(e);if(i||s)return this.data=i?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>h&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);var i=this.data;while(t>0)1&t&&(i+=e),t>>>=1,t>0&&(e+=e);return this.data=i,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var i="";do{t-=8,i+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(i)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),i=2<<e-2;return t>=i&&(t-=i<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var i=this.data.charCodeAt(t);i<16&&(e+="0"),e+=i.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=u,o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var i=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),s=new Uint8Array(this.length()+t);return s.set(i),this.data=new DataView(s.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var i=0;i<t;++i)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=i.byteLength-i.byteOffset;this.accommodate(s);var r=new Uint8Array(this.data.buffer,this.write);return r.set(i),this.write+=s,this}if(o.isArrayBuffer(e)){i=new Uint8Array(e);this.accommodate(i.byteLength);r=new Uint8Array(this.data.buffer);return r.set(i,this.write),this.write+=i.byteLength,this}if(e instanceof o.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&o.isArrayBufferView(e.data)){i=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(i.byteLength);r=new Uint8Array(e.data.byteLength,this.write);return r.set(i),this.write+=i.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"===typeof e){var a;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,a,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),a=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,a,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(a),this;if("utf16"===t)return this.accommodate(2*e.length),a=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),i=2<<e-2;return t>=i&&(t-=i<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var i=this.data.getUint8(t);i<16&&(e+="0"),e+=i.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8","binary"===e||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){var i="";while(t>0)1&t&&(i+=e),t>>>=1,t>0&&(e+=e);return i},o.xorBytes=function(e,t,i){for(var s="",r="",a="",n=0,o=0;i>0;--i,++n)r=e.charCodeAt(n)^t.charCodeAt(n),o>=10&&(s+=a,a="",o=0),a+=String.fromCharCode(r),++o;return s+=a,s},o.hexToBytes=function(e){var t="",i=0;for(!0&e.length&&(i=1,t+=String.fromCharCode(parseInt(e[0],16)));i<e.length;i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";o.encode64=function(e,t){var i,s,r,a="",n="",o=0;while(o<e.length)i=e.charCodeAt(o++),s=e.charCodeAt(o++),r=e.charCodeAt(o++),a+=l.charAt(i>>2),a+=l.charAt((3&i)<<4|s>>4),isNaN(s)?a+="==":(a+=l.charAt((15&s)<<2|r>>6),a+=isNaN(r)?"=":l.charAt(63&r)),t&&a.length>t&&(n+=a.substr(0,t)+"\r\n",a=a.substr(t));return n+=a,n},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t,i,s,r,a="",n=0;while(n<e.length)t=f[e.charCodeAt(n++)-43],i=f[e.charCodeAt(n++)-43],s=f[e.charCodeAt(n++)-43],r=f[e.charCodeAt(n++)-43],a+=String.fromCharCode(t<<2|i>>4),64!==s&&(a+=String.fromCharCode((15&i)<<4|s>>2),64!==r&&(a+=String.fromCharCode((3&s)<<6|r)));return a},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:n.encode,decode:n.decode}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,i){var s=t;s||(s=new Uint8Array(e.length)),i=i||0;for(var r=i,a=0;a<e.length;++a)s[r++]=e.charCodeAt(a);return t?r-i:s},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,i){var s=t;s||(s=new Uint8Array(Math.ceil(e.length/2))),i=i||0;var r=0,a=i;for(1&e.length&&(r=1,s[a++]=parseInt(e[0],16));r<e.length;r+=2)s[a++]=parseInt(e.substr(r,2),16);return t?a-i:s},o.binary.base64.encode=function(e,t){var i,s,r,a="",n="",o=0;while(o<e.byteLength)i=e[o++],s=e[o++],r=e[o++],a+=l.charAt(i>>2),a+=l.charAt((3&i)<<4|s>>4),isNaN(s)?a+="==":(a+=l.charAt((15&s)<<2|r>>6),a+=isNaN(r)?"=":l.charAt(63&r)),t&&a.length>t&&(n+=a.substr(0,t)+"\r\n",a=a.substr(t));return n+=a,n},o.binary.base64.decode=function(e,t,i){var s,r,a,n,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=i||0;var c=0,d=i;while(c<e.length)s=f[e.charCodeAt(c++)-43],r=f[e.charCodeAt(c++)-43],a=f[e.charCodeAt(c++)-43],n=f[e.charCodeAt(c++)-43],o[d++]=s<<2|r>>4,64!==a&&(o[d++]=(15&r)<<4|a>>2,64!==n&&(o[d++]=(3&a)<<6|n));return t?d-i:o.subarray(0,d)},o.binary.base58.encode=function(e,t){return o.binary.baseN.encode(e,p,t)},o.binary.base58.decode=function(e,t){return o.binary.baseN.decode(e,p,t)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,i){e=o.encodeUtf8(e);var s=t;s||(s=new Uint8Array(e.length)),i=i||0;for(var r=i,a=0;a<e.length;++a)s[r++]=e.charCodeAt(a);return t?r-i:s},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,i){var s=t;s||(s=new Uint8Array(2*e.length));var r=new Uint16Array(s.buffer);i=i||0;for(var a=i,n=i,o=0;o<e.length;++o)r[n++]=e.charCodeAt(o),a+=2;return t?a-i:s},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,i){if(t=o.decode64(e.deflate(o.encode64(t)).rval),i){var s=2,r=t.charCodeAt(1);32&r&&(s=6),t=t.substring(s,t.length-4)}return t},o.inflate=function(e,t,i){var s=e.inflate(o.encode64(t)).rval;return null===s?null:o.decode64(s)};var m=function(e,t,i){if(!e)throw new Error("WebStorage not available.");var s;if(null===i?s=e.removeItem(t):(i=o.encode64(JSON.stringify(i)),s=e.setItem(t,i)),"undefined"!==typeof s&&!0!==s.rval){var r=new Error(s.error.message);throw r.id=s.error.id,r.name=s.error.name,r}},g=function(e,t){if(!e)throw new Error("WebStorage not available.");var i=e.getItem(t);if(e.init)if(null===i.rval){if(i.error){var s=new Error(i.error.message);throw s.id=i.error.id,s.name=i.error.name,s}i=null}else i=i.rval;return null!==i&&(i=JSON.parse(o.decode64(i))),i},y=function(e,t,i,s){var r=g(e,t);null===r&&(r={}),r[i]=s,m(e,t,r)},v=function(e,t,i){var s=g(e,t);return null!==s&&(s=i in s?s[i]:null),s},b=function(e,t,i){var s=g(e,t);if(null!==s&&i in s){delete s[i];var r=!0;for(var a in s){r=!1;break}r&&(s=null),m(e,t,s)}},w=function(e,t){m(e,t,null)},k=function(e,t,i){var s,r=null;"undefined"===typeof i&&(i=["web","flash"]);var a=!1,n=null;for(var o in i){s=i[o];try{if("flash"===s||"both"===s){if(null===t[0])throw new Error("Flash local storage not available.");r=e.apply(this,t),a="flash"===s}"web"!==s&&"both"!==s||(t[0]=localStorage,r=e.apply(this,t),a=!0)}catch(c){n=c}if(a)break}if(!a)throw n;return r};o.setItem=function(e,t,i,s,r){k(y,arguments,r)},o.getItem=function(e,t,i,s){return k(v,arguments,s)},o.removeItem=function(e,t,i,s){k(b,arguments,s)},o.clearItems=function(e,t,i){k(w,arguments,i)},o.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var i=t.exec(e),s=null===i?null:{full:e,scheme:i[1],host:i[2],port:i[3],path:i[4]};return s&&(s.fullHost=s.host,s.port?(80!==s.port&&"http"===s.scheme||443!==s.port&&"https"===s.scheme)&&(s.fullHost+=":"+s.port):"http"===s.scheme?s.port=80:"https"===s.scheme&&(s.port=443),s.full=s.scheme+"://"+s.fullHost),s};var S=null;o.getQueryVariables=function(e){var t,i=function(e){for(var t={},i=e.split("&"),s=0;s<i.length;s++){var r,a,n=i[s].indexOf("=");n>0?(r=i[s].substring(0,n),a=i[s].substring(n+1)):(r=i[s],a=null),r in t||(t[r]=[]),r in Object.prototype||null===a||t[r].push(unescape(a))}return t};return"undefined"===typeof e?(null===S&&(S="undefined"!==typeof window&&window.location&&window.location.search?i(window.location.search.substring(1)):{}),t=S):t=i(e),t},o.parseFragment=function(e){var t=e,i="",s=e.indexOf("?");s>0&&(t=e.substring(0,s),i=e.substring(s+1));var r=t.split("/");r.length>0&&""===r[0]&&r.shift();var a=""===i?{}:o.getQueryVariables(i);return{pathString:t,queryString:i,path:r,query:a}},o.makeRequest=function(e){var t=o.parseFragment(e),i={path:t.pathString,query:t.queryString,getPath:function(e){return"undefined"===typeof e?t.path:t.path[e]},getQuery:function(e,i){var s;return"undefined"===typeof e?s=t.query:(s=t.query[e],s&&"undefined"!==typeof i&&(s=s[i])),s},getQueryLast:function(e,t){var s,r=i.getQuery(e);return s=r?r[r.length-1]:t,s}};return i},o.makeLink=function(e,t,i){e=jQuery.isArray(e)?e.join("/"):e;var s=jQuery.param(t||{});return i=i||"",e+(s.length>0?"?"+s:"")+(i.length>0?"#"+i:"")},o.setPath=function(e,t,i){if("object"===typeof e&&null!==e){var s=0,r=t.length;while(s<r){var a=t[s++];if(s==r)e[a]=i;else{var n=a in e;(!n||n&&"object"!==typeof e[a]||n&&null===e[a])&&(e[a]={}),e=e[a]}}}},o.getPath=function(e,t,i){var s=0,r=t.length,a=!0;while(a&&s<r&&"object"===typeof e&&null!==e){var n=t[s++];a=n in e,a&&(e=e[n])}return a?e:i},o.deletePath=function(e,t){if("object"===typeof e&&null!==e){var i=0,s=t.length;while(i<s){var r=t[i++];if(i==s)delete e[r];else{if(!(r in e)||"object"!==typeof e[r]||null===e[r])break;e=e[r]}}}},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){var t,i,s=/%./g,r=0,a=[],n=0;while(t=s.exec(e)){i=e.substring(n,s.lastIndex-2),i.length>0&&a.push(i),n=s.lastIndex;var o=t[0][1];switch(o){case"s":case"o":r<arguments.length?a.push(arguments[1+r++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(e.substring(n)),a.join("")},o.formatNumber=function(e,t,i,s){var r=e,a=isNaN(t=Math.abs(t))?2:t,n=void 0===i?",":i,o=void 0===s?".":s,c=r<0?"-":"",d=parseInt(r=Math.abs(+r||0).toFixed(a),10)+"",h=d.length>3?d.length%3:0;return c+(h?d.substr(0,h)+o:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?n+Math.abs(r-d).toFixed(a).slice(2):"")},o.formatSize=function(e){return e=e>=1073741824?o.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes",e},o.bytesFromIP=function(e){return-1!==e.indexOf(".")?o.bytesFromIPv4(e):-1!==e.indexOf(":")?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(e=e.split("."),4!==e.length)return null;for(var t=o.createBuffer(),i=0;i<e.length;++i){var s=parseInt(e[i],10);if(isNaN(s))return null;t.putByte(s)}return t.getBytes()},o.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}));for(var i=2*(8-e.length+t),s=o.createBuffer(),r=0;r<8;++r)if(e[r]&&0!==e[r].length){var a=o.hexToBytes(e[r]);a.length<2&&s.putByte(0),s.putBytes(a)}else s.fillWithByte(0,i),i=0;return s.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],i=[],s=0,r=0;r<e.length;r+=2){var a=o.bytesToHex(e[r]+e[r+1]);while("0"===a[0]&&"0"!==a)a=a.substr(1);if("0"===a){var n=i[i.length-1],c=t.length;n&&c===n.end+1?(n.end=c,n.end-n.start>i[s].end-i[s].start&&(s=i.length-1)):i.push({start:c,end:c})}t.push(a)}if(i.length>0){var d=i[s];d.end-d.start>0&&(t.splice(d.start,d.end-d.start+1,""),0===d.start&&t.unshift(""),7===d.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){if("function"===typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"===typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"===typeof Blob)return o.cores=2,t(null,o.cores);var i=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now(),i=t+4;while(Date.now()<i);self.postMessage({st:t,et:i})}))}.toString(),")()"],{type:"application/javascript"}));function s(e,n,c){if(0===n){var d=Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length);return o.cores=Math.max(1,d),URL.revokeObjectURL(i),t(null,o.cores)}r(c,(function(t,i){e.push(a(c,i)),s(e,n-1,c)}))}function r(e,t){for(var s=[],r=[],a=0;a<e;++a){var n=new Worker(i);n.addEventListener("message",(function(i){if(r.push(i.data),r.length===e){for(var a=0;a<e;++a)s[a].terminate();t(null,r)}})),s.push(n)}for(a=0;a<e;++a)s[a].postMessage(a)}function a(e,t){for(var i=[],s=0;s<e;++s)for(var r=t[s],a=i[s]=[],n=0;n<e;++n)if(s!==n){var o=t[n];(r.st>o.st&&r.st<o.et||o.st>r.st&&o.st<r.et)&&a.push(n)}return i.reduce((function(e,t){return Math.max(e,t.length)}),0)}s([],5,16)}}).call(this,i("4362"),i("c8ba"),i("b639").Buffer)},"64eb":function(e,t,i){var s=i("00b3"),r=i("70ea"),a=i("5a7c"),n=i("afc2"),o=a((function(e,t){return 1===e?r(t):s(e,n(e,[],t))}));e.exports=o},6544:function(e,t){e.exports=function(e,t){var i="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var s in"function"===typeof e.exports&&(i.components=e.exports.options.components),i.components=i.components||{},t)i.components[s]=i.components[s]||t[s]}},6547:function(e,t,i){var s=i("a691"),r=i("1d80"),a=function(e){return function(t,i){var a,n,o=String(r(t)),c=s(i),d=o.length;return c<0||c>=d?e?"":void 0:(a=o.charCodeAt(c),a<55296||a>56319||c+1===d||(n=o.charCodeAt(c+1))<56320||n>57343?e?o.charAt(c):a:e?o.slice(c,c+2):n-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},6566:function(e,t,i){"use strict";var s=i("9bf2").f,r=i("7c73"),a=i("e2cc"),n=i("0366"),o=i("19aa"),c=i("2266"),d=i("7dd0"),h=i("2626"),u=i("83ab"),l=i("f183").fastKey,f=i("69f3"),p=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,i,d){var h=e((function(e,s){o(e,h,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=s&&c(s,e[d],{that:e,AS_ENTRIES:i})})),f=m(t),g=function(e,t,i){var s,r,a=f(e),n=y(e,t);return n?n.value=i:(a.last=n={index:r=l(t,!0),key:t,value:i,previous:s=a.last,next:void 0,removed:!1},a.first||(a.first=n),s&&(s.next=n),u?a.size++:e.size++,"F"!==r&&(a.index[r]=n)),e},y=function(e,t){var i,s=f(e),r=l(t);if("F"!==r)return s.index[r];for(i=s.first;i;i=i.next)if(i.key==t)return i};return a(h.prototype,{clear:function(){var e=this,t=f(e),i=t.index,s=t.first;while(s)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete i[s.index],s=s.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,i=f(t),s=y(t,e);if(s){var r=s.next,a=s.previous;delete i.index[s.index],s.removed=!0,a&&(a.next=r),r&&(r.previous=a),i.first==s&&(i.first=r),i.last==s&&(i.last=a),u?i.size--:t.size--}return!!s},forEach:function(e){var t,i=f(this),s=n(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:i.first){s(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),a(h.prototype,i?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),u&&s(h.prototype,"size",{get:function(){return f(this).size}}),h},setStrong:function(e,t,i){var s=t+" Iterator",r=m(t),a=m(s);d(e,t,(function(e,t){p(this,{type:s,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,i=e.last;while(i&&i.removed)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),h(t)}}},"65f0":function(e,t,i){var s=i("861d"),r=i("e8b5"),a=i("b622"),n=a("species");e.exports=function(e,t){var i;return r(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?s(i)&&(i=i[n],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},6624:function(e,t,i){"use strict";const s=i("90db"),{AddressPending:r,AuthenticationError:a,ExchangeError:n,NotSupported:o,PermissionDenied:c,ArgumentsRequired:d}=i("74b0"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"buda",name:"Buda",countries:["AR","CL","CO","PE"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTrades:!0,fetchTicker:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47380619-8a029200-d706-11e8-91e0-8a391fe48de3.jpg",api:"https://www.buda.com/api",www:"https://www.buda.com",doc:"https://api.buda.com",fees:"https://www.buda.com/comisiones"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},api:{public:{get:["pairs","markets","currencies","markets/{market}","markets/{market}/ticker","markets/{market}/volume","markets/{market}/order_book","markets/{market}/trades","currencies/{currency}/fees/deposit","currencies/{currency}/fees/withdrawal","tv/history"],post:["markets/{market}/quotations"]},private:{get:["balances","balances/{currency}","currencies/{currency}/balances","orders","orders/{id}","markets/{market}/orders","deposits","currencies/{currency}/deposits","withdrawals","currencies/{currency}/withdrawals","currencies/{currency}/receive_addresses","currencies/{currency}/receive_addresses/{id}"],post:["markets/{market}/orders","currencies/{currency}/deposits","currencies/{currency}/withdrawals","currencies/{currency}/simulated_withdrawals","currencies/{currency}/receive_addresses"],put:["orders/{id}"]}},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","2h":"120","1d":"D","1w":"W"},fees:{trading:{tierBased:!0,percentage:!0,taker:.008,maker:.004,tiers:{taker:[[0,.008],[2e3,.007],[2e4,.006],[1e5,.005],[5e5,.004],[25e5,.003],[125e5,.002]],maker:[[0,.004],[2e3,.0035],[2e4,.003],[1e5,.0025],[5e5,.002],[25e5,.0015],[125e5,.001]]}}},exceptions:{not_authorized:a,forbidden:c,invalid_record:n,not_found:n,parameter_missing:n,bad_parameter:n}})}async fetchCurrencyInfo(e,t){if(!t){const e=await this.publicGetCurrencies();t=this.safeValue(e,"currencies")}for(let i=0;i<t.length;i++){const s=t[i];if(s["id"]===e)return s}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"markets"),s=await this.publicGetCurrencies(),r=this.safeValue(s,"currencies"),a=[];for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString(e,"id"),s=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(s),d=this.safeCurrencyCode(o),h=await this.fetchCurrencyInfo(s,r),u=await this.fetchCurrencyInfo(o,r),l=c+"/"+d,f=this.safeString(u,"input_decimals"),p=this.parsePrecision(f),m={amount:this.safeInteger(h,"input_decimals"),price:parseInt(f)},g=this.safeValue(e,"minimum_order_amount",[]),y={amount:{min:this.safeNumber(g,0),max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}};a.push({id:t,symbol:l,base:c,quote:d,baseId:s,quoteId:o,active:!0,precision:m,limits:y,info:e})}return a}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(),i=t["currencies"],s={};for(let r=0;r<i.length;r++){const e=i[r];if(!e["managed"])continue;const t=this.safeString(e,"id"),a=this.safeCurrencyCode(t),n=this.safeNumber(e,"input_decimals"),o=Math.pow(10,-n);s[a]={id:t,code:a,info:e,name:void 0,active:!0,fee:void 0,precision:n,limits:{amount:{min:o,max:void 0},deposit:{min:parseFloat(e["deposit_minimum"][0]),max:void 0},withdraw:{min:parseFloat(e["withdrawal_minimum"][0])}}}}return s}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},s={},r={};void 0===e&&(e=Object.keys(this.currencies));for(let a=0;a<e.length;a++){const t=e[a],n=this.currency(t),o={currency:n["id"]},c=await this.publicGetCurrenciesCurrencyFeesWithdrawal(o),d=await this.publicGetCurrenciesCurrencyFeesDeposit(o);i[t]=this.parseFundingFee(c["fee"]),s[t]=this.parseFundingFee(d["fee"]),r[t]={withdraw:c,deposit:d}}return{withdraw:i,deposit:s,info:r}}parseFundingFee(e,t){return void 0===t&&(t=e["name"]),"withdrawal"===t&&(t="withdraw"),{type:t,currency:e["base"][1],rate:e["percent"],cost:parseFloat(e["base"][0])}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetMarketsMarketTicker(this.extend(s,t)),a=this.safeValue(r,"ticker");return this.parseTicker(a,i)}parseTicker(e,t){const i=this.milliseconds();let s=void 0;void 0!==t&&(s=t["symbol"]);const r=parseFloat(e["last_price"][0]),a=parseFloat(e["price_variation_24h"]),n=parseFloat(this.priceToPrecision(s,r/(a+1))),o=r-n,c=this.sum(r,n)/2;return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:parseFloat(e["max_bid"][0]),bidVolume:void 0,ask:parseFloat(e["min_ask"][0]),askVolume:void 0,vwap:void 0,open:n,close:r,last:r,previousClose:n,change:o,percentage:100*a,average:c,baseVolume:parseFloat(e["volume"][0]),quoteVolume:void 0,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetMarketsMarketTrades(this.extend(a,s));return this.parseTrades(n["trades"]["entries"],r,t,i)}parseTrade(e,t){let i=void 0,s=void 0;const r=void 0;let a=void 0,n=void 0,o=void 0;const c=void 0,d=void 0;let u=void 0;t&&(u=t["symbol"]),Array.isArray(e)&&(i=this.safeInteger(e,0),a=this.safeString(e,1),n=this.safeString(e,2),s=this.safeString(e,3),o=this.safeString(e,4));const l=this.parseNumber(a),f=this.parseNumber(n),p=this.parseNumber(h.stringMul(a,n));return{id:o,order:c,info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,type:r,side:s,takerOrMaker:void 0,price:l,amount:f,cost:p,fee:d}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]},a=await this.publicGetMarketsMarketOrderBook(this.extend(r,i)),n=this.safeValue(a,"order_book");return this.parseOrderBook(n,e)}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e);void 0===i&&(i=this.milliseconds()-864e5);const n={symbol:a["id"],resolution:this.timeframes[t],from:i/1e3,to:this.seconds()},o=await this.publicGetTvHistory(this.extend(n,r));return this.parseTradingViewOHLCV(o,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},s=this.safeValue(t,"balances");for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"id"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e["available_amount"],0),n["total"]=this.safeString(e["amount"],0),i[a]=n}return this.parseBalance(i,!1)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:parseInt(e)},r=await this.privateGetOrdersId(this.extend(s,i)),a=this.safeValue(r,"order");return this.parseOrder(a)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a={market:r["id"],per:i},n=await this.privateGetMarketsMarketOrders(this.extend(a,s)),o=this.safeValue(n,"orders");return this.parseOrders(o,r,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={state:"pending"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={state:"traded"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets(),i="buy"===i?"Bid":"Ask";const n={market:this.marketId(e),price_type:t,type:i,amount:this.amountToPrecision(e,s)};"limit"===t&&(n["limit"]=this.priceToPrecision(e,r));const o=await this.privatePostMarketsMarketOrders(this.extend(n,a)),c=this.safeValue(o,"order");return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:parseInt(e),state:"canceling"},r=await this.privatePutOrdersId(this.extend(s,i)),a=this.safeValue(r,"order");return this.parseOrder(a)}parseOrderStatus(e){const t={traded:"closed",received:"open",canceling:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"market_id"),a=this.safeSymbol(r,t,"-"),n=this.safeString(e,"price_type"),o=this.safeStringLower(e,"type"),c=this.parseOrderStatus(this.safeString(e,"state")),d=this.safeValue(e,"original_amount",[]),h=this.safeNumber(d,0),u=this.safeValue(e,"amount",[]),l=this.safeNumber(u,0),f=this.safeValue(e,"traded_amount",[]),p=this.safeNumber(f,0),m=this.safeValue(e,"totalExchanged",[]),g=this.safeNumber(m,0),y=this.safeValue(e,"limit",[]);let v=this.safeNumber(y,0);void 0===v&&void 0!==y&&(v=y);const b=this.safeValue(e,"paid_fee",[]),w=this.safeNumber(b,0);let k=void 0;if(void 0!==w){const e=this.safeString(b,1),t=this.safeCurrencyCode(e);k={cost:w,code:t}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:c,symbol:a,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:v,stopPrice:void 0,average:void 0,cost:g,amount:h,filled:p,remaining:l,trades:void 0,fee:k})}isFiat(e){const t={ARS:!0,CLP:!0,COP:!0,PEN:!0};return this.safeValue(t,e,!1)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+" fetchDepositAddress() for fiat "+e+" is not supported");const s={currency:i["id"]},a=await this.privateGetCurrenciesCurrencyReceiveAddresses(this.extend(s,t)),n=this.safeValue(a,"receive_addresses"),c=[];for(let r=1;r<n.length;r++){const e=n[r];if(e["ready"]){const t=e["address"];this.checkAddress(t),c.push(t)}}const d=c.length;if(d<1)throw new r(this.id+": there are no addresses ready for receiving "+e+", retry again later)");const h=c[0];return{currency:e,address:h,tag:void 0,info:n}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+": fiat fetchDepositAddress() for "+e+" is not supported");const s={currency:i["id"]},r=await this.privatePostCurrenciesCurrencyReceiveAddresses(this.extend(s,t)),a=this.safeString(r["receive_address"],"address");return{currency:e,address:a,tag:void 0,info:r}}parseTransactionStatus(e){const t={rejected:"failed",confirmed:"ok",anulled:"canceled",retained:"canceled",pending_confirmation:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r,t),n=parseFloat(e["amount"][0]),o=parseFloat(e["fee"][0]),c=e["fee"][1],d=this.parseTransactionStatus(this.safeString(e,"state")),h="deposit_data"in e?"deposit":"withdrawal",u=this.safeValue(e,h+"_data",{}),l=this.safeValue(u,"target_address"),f=this.safeString(u,"tx_hash"),p=this.parse8601(this.safeString(u,"updated_at"));return{info:e,id:i,txid:f,timestamp:s,datetime:this.iso8601(s),address:l,type:h,amount:n,currency:a,status:d,updated:p,fee:{cost:o,rate:c}}}async fetchDeposits(e,t,i,s={}){if(await this.loadMarkets(),void 0===e)throw new d(this.id+": fetchDeposits() requires a currency code argument");const r=this.currency(e),a={currency:r["id"],per:i},n=await this.privateGetCurrenciesCurrencyDeposits(this.extend(a,s)),o=this.safeValue(n,"deposits");return this.parseTransactions(o,r,t,i)}async fetchWithdrawals(e,t,i,s={}){if(await this.loadMarkets(),void 0===e)throw new d(this.id+": fetchDeposits() requires a currency code argument");const r=this.currency(e),a={currency:r["id"],per:i},n=await this.privateGetCurrenciesCurrencyWithdrawals(this.extend(a,s)),o=this.safeValue(n,"withdrawals");return this.parseTransactions(o,r,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],amount:t,withdrawal_data:{target_address:i}},o=await this.privatePostCurrenciesCurrencyWithdrawals(this.extend(n,r)),c=this.safeValue(o,"withdrawal");return this.parseTransaction(c)}nonce(){return this.microseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));Object.keys(o).length&&("GET"===i?n+="?"+this.urlencode(o):a=this.json(o));const c=this.urls["api"]+"/"+this.version+"/"+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=[i,"/api/"+this.version+"/"+n];if(a){const e=this.stringToBase64(a);t.push(this.decode(e))}t.push(e);const s=t.join(" "),o=this.hmac(this.encode(s),this.encode(this.secret),"sha384");r={"X-SBTC-APIKEY":this.apiKey,"X-SBTC-SIGNATURE":o,"X-SBTC-NONCE":e,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(void 0!==o&&e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message",a),i=this.id+" "+t;if(void 0!==e)throw this.throwExactlyMatchedException(this.exceptions,e,i),new n(i)}}}},"66b0":function(e,t,i){var s=i("5259");i("6497");var r=e.exports=s.pem=s.pem||{};function a(e){for(var t=e.name+": ",i=[],s=function(e,t){return" "+t},r=0;r<e.values.length;++r)i.push(e.values[r].replace(/^(\S+\r\n)/,s));t+=i.join(",")+"\r\n";var a=0,n=-1;for(r=0;r<t.length;++r,++a)if(a>65&&-1!==n){var o=t[n];","===o?(++n,t=t.substr(0,n)+"\r\n "+t.substr(n)):t=t.substr(0,n)+"\r\n"+o+t.substr(n+1),a=r-n-1,n=-1,++r}else" "!==t[r]&&"\t"!==t[r]&&","!==t[r]||(n=r);return t}function n(e){return e.replace(/^\s+/,"")}r.encode=function(e,t){t=t||{};var i,r="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=a(i)),e.contentDomain&&(i={name:"Content-Domain",values:[e.contentDomain]},r+=a(i)),e.dekInfo&&(i={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&i.values.push(e.dekInfo.parameters),r+=a(i)),e.headers)for(var n=0;n<e.headers.length;++n)r+=a(e.headers[n]);return e.procType&&(r+="\r\n"),r+=s.util.encode64(e.body,t.maxline||64)+"\r\n",r+="-----END "+e.type+"-----\r\n",r},r.decode=function(e){var t,i=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;while(1){if(t=r.exec(e),!t)break;var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:s.util.decode64(t[3])};if(i.push(c),t[2]){var d=t[2].split(o),h=0;while(t&&h<d.length){for(var u=d[h].replace(/\s+$/,""),l=h+1;l<d.length;++l){var f=d[l];if(!/\s/.test(f[0]))break;u+=f,h=l}if(t=u.match(a),t){for(var p={name:t[1],values:[]},m=t[2].split(","),g=0;g<m.length;++g)p.values.push(n(m[g]));if(c.procType)if(c.contentDomain||"Content-Domain"!==p.name)if(c.dekInfo||"DEK-Info"!==p.name)c.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:m[0],parameters:m[1]||null}}else c.contentDomain=m[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:m[0],type:m[1]}}}++h}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===i.length)throw new Error("Invalid PEM formatted message.");return i}},"66c7":function(e,t,i){"use strict";const{sleep:s,now:r}=i("aef9");e.exports={throttle:function e(t){let i=r(),a=void 0!==t.numTokens?t.numTokens:t.capacity,n=!1;const o=[];return Object.assign((e,c)=>{if(o.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new Promise(async(d,h)=>{try{if(o.push({cost:c,resolve:d,reject:h}),!n){n=!0;while(o.length>0){const n=t.capacity?a>0:a>=0;if(n&&o.length>0){let{cost:e,resolve:i,reject:s}=o[0];e=e||t.defaultCost,a>=Math.min(e,t.capacity)&&(a-=e,o.shift(),i())}const c=r(),d=c-i;i=c,a=Math.min(t.capacity,a+d*(1/e)),await s(t.delay)}n=!1}}catch(u){h(u)}})},t,{configure:i=>e(Object.assign({},t,i))})}}},"66cb":function(e,t,i){"use strict";const s=i("f4c8"),{capitalize:r}=i("a9b0"),{stringToBase64:a,urlencodeBase64:n}=i("39f1"),o=i("75b3"),{binaryToBase58:c,byteArrayToWordArray:d}=i("39f1"),h=i("fee7"),u=h.ec,l=h.eddsa,{ArgumentsRequired:f}=i("74b0"),p=i("74d2"),m=(e,t="md5",i="hex")=>{const a={};"keccak"===t&&(t="SHA3",a["outputLength"]=256);const n=s[t.toUpperCase()](e,a);return"binary"===i?n:n.toString(s.enc[r(i)])},g=(e,t,i="sha256",a="hex")=>{const n=s["Hmac"+i.toUpperCase()](e,t);if(a){const e="binary"===a?"Latin1":r(a);return n.toString(s.enc[r(e)])}return n};function y(e,t,i="RS256"){const s={RS256:"pkcs1-sha256",RS512:"pkcs1-sha512"};if(!(i in s))throw new ExchangeError(i+" is not a supported rsa signing algorithm.");const r=s[i];let a=new o(t,{environment:"browser",signingScheme:r});return a.sign(e,"base64","binary")}function v(e,t,i="HS256"){const s={HS256:"sha256",HS384:"sha384",HS512:"sha512"},r=n(a(JSON.stringify({alg:i,typ:"JWT"}))),o=n(a(JSON.stringify(e))),c=[r,o].join("."),d=i.slice(0,2),h=s[i];let u=void 0;return"HS"===d?u=n(g(c,t,h,"base64")):"RS"===d&&(u=n(y(c,t,i))),[c,u].join(".")}function b(e,t,i="p256",s,r=!1){let a=e;void 0!==s&&(a=m(e,s,"hex"));const n=new u(i);let o=n.sign(a,t,"hex",{canonical:!0}),c=new p("0");const d=new p("1").shln(248).sub(new p("1"));while(r&&(o.r.gt(n.nh)||o.r.lte(d)||o.s.lte(d)))o=n.sign(a,t,"hex",{canonical:!0,extraEntropy:c.toArray("le",32)}),c=c.add(new p("1"));return{r:o.r.toString(16).padStart(64,"0"),s:o.s.toString(16).padStart(64,"0"),v:o.recoveryParam}}function w(e,t,i="ed25519"){const s=new l(i),r=s.signModified(e,t);return c(d(r.toBytes()))}const k=e=>{const t=e=>(e<15.5?"0":"")+Math.round(e).toString(16),i=e=>parseInt(e,16),r=(e,t)=>(t+e).slice(-t.length),a=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",i="",s="";for(let a=0;a<e.length;a++){let s=t.indexOf(e.charAt(a).toUpperCase());i+=r(s.toString(2),"00000")}for(let r=0;r+4<=i.length;r+=4){let e=i.substr(r,4);s+=parseInt(e,2).toString(16)}return s},n=e=>{e=e.replace(" ","");let n=Math.round((new Date).getTime()/1e3),o=r(t(Math.floor(n/30)),"0000000000000000"),c=g(s.enc.Hex.parse(o),s.enc.Hex.parse(a(e)),"sha1","hex"),d=i(c.substring(c.length-1)),h=(i(c.substr(2*d,8))&i("7fffffff"))+"";return h=h.substr(h.length-6,6),h};return n(e)};e.exports={hash:m,hmac:g,jwt:v,totp:k,rsa:y,ecdsa:b,eddsa:w}},6783:function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i("d47d")),s(i("b3ef")),s(i("6f87"))},"67c2":function(e,t,i){"use strict";const s=i("57a2");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"equos",name:"EQUOS",urls:{logo:"https://user-images.githubusercontent.com/1294454/107758499-05edd180-6d38-11eb-9e09-0b69602a7a15.jpg"}})}}},"67ec":function(e,t,i){var s=i("5a7c"),r=i("2fad"),a=s((function(e,t){return r([e],t)}));e.exports=a},6853:function(e,t,i){"use strict";var s=i("be7f"),r=15,a=852,n=592,o=0,c=1,d=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,p,m,g,y,v){var b,w,k,S,_,O,T,C,x,I=v.bits,E=0,A=0,N=0,M=0,P=0,B=0,R=0,L=0,V=0,D=0,q=null,j=0,G=new s.Buf16(r+1),U=new s.Buf16(r+1),F=null,H=0;for(E=0;E<=r;E++)G[E]=0;for(A=0;A<p;A++)G[t[i+A]]++;for(P=I,M=r;M>=1;M--)if(0!==G[M])break;if(P>M&&(P=M),0===M)return m[g++]=20971520,m[g++]=20971520,v.bits=1,0;for(N=1;N<M;N++)if(0!==G[N])break;for(P<N&&(P=N),L=1,E=1;E<=r;E++)if(L<<=1,L-=G[E],L<0)return-1;if(L>0&&(e===o||1!==M))return-1;for(U[1]=0,E=1;E<r;E++)U[E+1]=U[E]+G[E];for(A=0;A<p;A++)0!==t[i+A]&&(y[U[t[i+A]]++]=A);if(e===o?(q=F=y,O=19):e===c?(q=h,j-=257,F=u,H-=257,O=256):(q=l,F=f,O=-1),D=0,A=0,E=N,_=g,B=P,R=0,k=-1,V=1<<P,S=V-1,e===c&&V>a||e===d&&V>n)return 1;for(;;){T=E-R,y[A]<O?(C=0,x=y[A]):y[A]>O?(C=F[H+y[A]],x=q[j+y[A]]):(C=96,x=0),b=1<<E-R,w=1<<B,N=w;do{w-=b,m[_+(D>>R)+w]=T<<24|C<<16|x|0}while(0!==w);b=1<<E-1;while(D&b)b>>=1;if(0!==b?(D&=b-1,D+=b):D=0,A++,0===--G[E]){if(E===M)break;E=t[i+y[A]]}if(E>P&&(D&S)!==k){0===R&&(R=P),_+=N,B=E-R,L=1<<B;while(B+R<M){if(L-=G[B+R],L<=0)break;B++,L<<=1}if(V+=1<<B,e===c&&V>a||e===d&&V>n)return 1;k=D&S,m[k]=P<<24|B<<16|_-g|0}}return 0!==D&&(m[_+D]=E-R<<24|64<<16|0),v.bits=P,0}},"68dd":function(e,t,i){},6901:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,BadRequest:a,InvalidNonce:n,RequestTimeout:o,ExchangeNotAvailable:c,InsufficientFunds:d,OrderNotFound:h,InvalidOrder:u,DDoSProtection:l,AuthenticationError:f,BadSymbol:p}=i("74b0"),{TICK_SIZE:m}=i("5ea4"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"crex24",name:"CREX24",countries:["EE"],rateLimit:500,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w","1M":"1mo"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47813922-6f12cc00-dd5d-11e8-97c6-70f957712d47.jpg",api:"https://api.crex24.com",www:"https://crex24.com",referral:"https://crex24.com/?refid=slxsjsjtil8xexl9hksr",doc:"https://docs.crex24.com/trade-api/v2",fees:"https://crex24.com/fees"},api:{public:{get:["currencies","instruments","tickers","recentTrades","orderBook","ohlcv"]},trading:{get:["orderStatus","orderTrades","activeOrders","orderHistory","tradeHistory","tradeFee","moneyTransferStatus"],post:["placeOrder","modifyOrder","cancelOrdersById","cancelOrdersByInstrument","cancelAllOrders"]},account:{get:["balance","depositAddress","moneyTransfers","moneyTransferStatus","previewWithdrawal"],post:["withdraw"]}},precisionMode:m,fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:-1e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{BCC:"BCH",BIT:"BitMoney",BULL:"BuySell",CREDIT:"TerraCredit",EPS:"Epanus",FUND:"FUNDChains",GHOST:"GHOSTPRISM",GTC:"GastroCoin",IQ:"IQ.Cash",PUT:"PutinCoin",SBTC:"SBTCT",UNI:"Universe",YOYO:"YOYOW"},options:{fetchOrdersMethod:"tradingGetOrderHistory",fetchClosedOrdersMethod:"tradingGetOrderHistory",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{exact:{"Parameter 'filter' contains invalid value.":a,"Mandatory parameter 'instrument' is missing.":a,"The value of parameter 'till' must be greater than or equal to the value of parameter 'from'.":a,"Failed to verify request signature.":f,"Nonce error. Make sure that the value passed in the 'X-CREX24-API-NONCE' header is greater in each consecutive request than in the previous one for the corresponding API-Key provided in 'X-CREX24-API-KEY' header.":n,"Market orders are not supported by the instrument currently.":u,"Parameter 'instrument' contains invalid value.":p},broad:{"try again later":c,"API Key":f,"Insufficient funds":d,"has been delisted.":p,"is currently suspended.":p,"Mandatory parameter":a}}})}nonce(){return this.milliseconds()}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeNumber(e,"tickSize"),u=this.safeNumber(e,"minPrice"),l=this.safeNumber(e,"maxPrice"),f=this.safeNumber(e,"minVolume"),p=this.safeNumber(e,"maxVolume"),m=this.safeNumber(e,"minQuoteVolume"),g=this.safeNumber(e,"maxQuoteVolume"),y={amount:f,price:h},v="active"===e["state"];i.push({id:r,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:v,precision:y,limits:{amount:{min:f,max:p},price:{min:u,max:l},cost:{min:m,max:g}}})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r),n=this.safeInteger(e,"withdrawalPrecision"),o=Math.pow(10,-n),c=this.safeValue(e,"BaseAddress"),d=e["depositsAllowed"]&&e["withdrawalsAllowed"]&&!e["isDelisted"],h=e["isFiat"]?"fiat":"crypto";i[a]={id:r,code:a,address:c,info:e,type:h,name:this.safeString(e,"name"),active:d,fee:this.safeNumber(e,"flatWithdrawalFee"),precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},deposit:{min:this.safeNumber(e,"minDeposit"),max:void 0},withdraw:{min:this.safeNumber(e,"minWithdrawal"),max:this.safeNumber(e,"maxWithdrawal")}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t={},i=await this.accountGetBalance(this.extend(t,e)),s={info:i};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"available"),n["used"]=this.safeString(e,"reserved"),s[a]=n}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={instrument:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderBook(this.extend(r,i));return this.parseOrderBook(a,e,void 0,"buyLevels","sellLevels","price","volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"instrument"),r=this.safeSymbol(s,t,"-"),a=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:this.safeNumber(e,"percentChange"),average:void 0,baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={instrument:i["id"]},a=await this.publicGetTickers(this.extend(s,t)),n=a.length;if(n<1)throw new r(this.id+" fetchTicker could not load quotes for symbol "+e);return this.parseTicker(a[0],i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["instrument"]=t.join(",")}const s=await this.publicGetTickers(this.extend(i,t));return this.parseTickers(s,e)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"price"),r=this.safeString(e,"volume"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(g.stringMul(s,r)),c=this.safeString(e,"id"),d=this.safeString(e,"side"),h=this.safeString(e,"orderId"),u=this.safeString(e,"instrument"),l=this.safeSymbol(u,t,"-");let f=void 0;const p=this.safeString(e,"feeCurrency"),m=this.safeCurrencyCode(p),y=this.safeNumber(e,"fee");void 0!==y&&(f={cost:y,currency:m});const v=void 0;return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,id:c,order:h,type:void 0,takerOrMaker:v,side:d,price:a,cost:o,amount:n,fee:f}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={instrument:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetRecentTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={granularity:this.timeframes[t],instrument:a["id"]};void 0!==s&&(n["limit"]=s);const o=await this.publicGetOhlcv(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}parseOrderStatus(e){const t={submitting:"open",unfilledActive:"open",partiallyFilledActive:"open",filled:"closed",partiallyFilledCancelled:"canceled",unfilledCancelled:"canceled"};return e in t?t[e]:e}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString(e,"instrument"),r=this.safeSymbol(s,t,"-"),a=this.parse8601(this.safeString(e,"timestamp")),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"volume"),c=this.safeNumber(e,"remainingVolume"),d=this.parse8601(this.safeString(e,"lastUpdate")),h=this.safeString(e,"id"),u=this.safeString(e,"type"),l=this.safeString(e,"side"),f=void 0,p=void 0,m=void 0,g=this.safeString(e,"timeInForce"),y=this.safeNumber(e,"stopPrice");return this.safeOrder({info:e,id:h,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:d,symbol:r,type:u,timeInForce:g,side:l,price:n,stopPrice:y,amount:o,cost:void 0,average:m,filled:void 0,remaining:c,status:i,fee:f,trades:p})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={instrument:n["id"],volume:this.amountToPrecision(e,s),type:t,side:i};let c=!1,d=!1;if("limit"===t?c=!0:"stopLimit"===t&&(c=!0,d=!0),c){if(void 0===r)throw new u(this.id+" createOrder() requires a price argument for a "+t+" order");o["price"]=this.priceToPrecision(e,r)}if(d){const i=this.safeNumber(a,"stopPrice");if(void 0===i)throw new u(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");o["stopPrice"]=this.priceToPrecision(e,i),a=this.omit(a,"stopPrice")}const h=await this.tradingPostPlaceOrder(this.extend(o,a));return this.parseOrder(h,n)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.tradingGetOrderStatus(this.extend(s,i)),a=r.length;if(a<1)throw new h(this.id+" fetchOrder could not fetch order id "+e);return this.parseOrder(r[0])}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={};if(void 0!==t&&(r["from"]=this.ymdhms(t,"T")),void 0!==i&&(r["limit"]=i),void 0!==e){const t=this.market(e);r["instrument"]=t["id"]}const a=this.safeString(this.options,"fetchOrdersMethod","tradingGetOrderHistory"),n=await this[a](this.extend(r,s));return this.parseOrders(n)}async fetchOrdersByIds(e,t,i,s={}){await this.loadMarkets();const r={id:e.join(",")},a=await this.tradingGetOrderStatus(this.extend(r,s));return this.parseOrders(a,void 0,t,i)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["instrument"]=r["id"]);const n=await this.tradingGetActiveOrders(this.extend(a,s));return this.parseOrders(n,r,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["instrument"]=r["id"]),void 0!==t&&(a["from"]=this.ymdhms(t,"T")),void 0!==i&&(a["limit"]=i);const n=this.safeString(this.options,"fetchClosedOrdersMethod","tradingGetOrderHistory"),o=await this[n](this.extend(a,s));return this.parseOrders(o,r,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={ids:[parseInt(e)]},r=await this.tradingPostCancelOrdersById(this.extend(s,i));return this.parseOrder(r)}async cancelAllOrders(e,t={}){const i=await this.tradingPostCancelAllOrders(t);return i}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["instrument"]=r["id"]),void 0!==t&&(a["from"]=this.ymdhms(t,"T")),void 0!==i&&(a["limit"]=i);const n=await this.tradingGetTradeHistory(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["currency"]=r["id"]),void 0!==t&&(a["from"]=this.ymd(t,"T"));const n=await this.accountGetMoneyTransfers(this.extend(a,s));return this.parseTransactions(n,r,t,i)}async fetchDeposits(e,t,i,s={}){const r={type:"deposit"};return this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchWithdrawals(e,t,i,s={}){const r={type:"withdrawal"};return this.fetchTransactions(e,t,i,this.extend(r,s))}parseTransactionStatus(e){const t={pending:"pending",success:"ok",failed:"failed"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"address"),r=this.safeString(e,"paymentId"),a=this.safeValue(e,"txId"),n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n,t),c=this.safeString(e,"type"),d=this.parse8601(this.safeString(e,"createdAt")),h=this.parse8601(this.safeString(e,"processedAt")),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"amount"),f=this.safeNumber(e,"fee"),p={cost:f,currency:o};return{info:e,id:i,txid:a,timestamp:d,datetime:this.iso8601(d),address:s,tag:r,type:c,amount:l,currency:o,status:u,updated:h,fee:p}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.accountGetDepositAddress(this.extend(s,t)),a=this.safeString(r,"address"),n=this.safeString(r,"paymentId");return{currency:e,address:this.checkAddress(a),tag:n,info:r}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],address:i,amount:parseFloat(this.currencyToPrecision(e,t)),feeCurrency:a["id"]};void 0!==s&&(n["paymentId"]=s);const o=await this.accountPostWithdraw(this.extend(n,r));return this.parseTransaction(o)}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/"+t+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls["api"]+n;if("trading"===t||"account"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret);let o=n+e;r={"X-CREX24-API-KEY":this.apiKey,"X-CREX24-API-NONCE":e},"POST"===i&&(r["Content-Type"]="application/json",a=this.json(s),o+=a),r["X-CREX24-API-SIGN"]=this.hmac(this.encode(o),t,"sha512","base64")}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,n,d,h,u,p){if(!this.isJsonEncodedObject(d))return;if(e>=200&&e<300)return;const m=this.safeString(h,"errorDescription"),g=this.id+" "+d;if(this.throwExactlyMatchedException(this.exceptions["exact"],m,g),this.throwBroadlyMatchedException(this.exceptions["broad"],m,g),400===e)throw new a(g);if(401===e)throw new f(g);if(403===e)throw new f(g);if(429===e)throw new l(g);if(500===e)throw new r(g);if(503===e)throw new c(g);if(504===e)throw new o(g);throw new r(g)}}},"69f3":function(e,t,i){var s,r,a,n=i("7f9a"),o=i("da84"),c=i("861d"),d=i("9112"),h=i("5135"),u=i("c6cd"),l=i("f772"),f=i("d012"),p="Object already initialized",m=o.WeakMap,g=function(e){return a(e)?r(e):s(e,{})},y=function(e){return function(t){var i;if(!c(t)||(i=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}};if(n||u.state){var v=u.state||(u.state=new m),b=v.get,w=v.has,k=v.set;s=function(e,t){if(w.call(v,e))throw new TypeError(p);return t.facade=e,k.call(v,e,t),t},r=function(e){return b.call(v,e)||{}},a=function(e){return w.call(v,e)}}else{var S=l("state");f[S]=!0,s=function(e,t){if(h(e,S))throw new TypeError(p);return t.facade=e,d(e,S,t),t},r=function(e){return h(e,S)?e[S]:{}},a=function(e){return h(e,S)}}e.exports={set:s,get:r,has:a,enforce:g,getterFor:y}},"6af3":function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i("896c"),a=i("2d6e"),n=i("abf9"),o=i("f9ee"),c=i("02cf"),d=s(i("a4b3"));t.verifyAddress=function(e,t){var i=t?t.chainId:void 0;try{var s=n._fromIn(e);if(1!=s[0]||i&&s[1]!=a.ChaidId.toNumber(i))return!1;for(var r=s.slice(0,22),d=s.slice(22,26),h=o._hashChain(r).slice(0,4),u=0;u<4;u++)if(d[u]!=h[u])return!1;if(t&&t.publicKey){var l=c.address({publicKey:t.publicKey},i);if(s.length!==l.length)return!1;for(u=0;u<l.length;u++)if(l[u]!==s[u])return!1}}catch(f){return!1}return!0},t.verifySignature=function(e,t,i){try{return d.default.verify(n._fromIn(e),n._fromIn(t),n._fromIn(i))}catch(s){return!1}},t.verifyPublicKey=function(e){return n._fromIn(e).length===r.PUBLIC_KEY_LENGTH}},"6b3f":function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,AuthenticationError:a,ExchangeError:n,InsufficientFunds:o,InvalidOrder:c,BadSymbol:d,PermissionDenied:h,BadRequest:u}=i("74b0"),{TICK_SIZE:l}=i("5ea4"),f=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"ascendex",name:"AscendEX",countries:["SG"],rateLimit:500,has:{CORS:!1,fetchMarkets:!0,fetchCurrencies:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchOHLCV:!0,fetchTrades:!0,fetchAccounts:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchDepositAddress:!0,fetchTransactions:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"1d","1w":"1w","1M":"1m"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/112027508-47984600-8b48-11eb-9e17-d26459cc36c6.jpg",api:"https://ascendex.com",test:"https://bitmax-test.io",www:"https://ascendex.com",doc:["https://bitmax-exchange.github.io/bitmax-pro-api/#bitmax-pro-api-documentation"],fees:"https://ascendex.com/en/feerate/transactionfee-traderate",referral:"https://ascendex.com/en-us/register?inviteCode=EL6BXBQM"},api:{public:{get:["assets","products","ticker","barhist/info","barhist","depth","trades","cash/assets","cash/products","margin/assets","margin/products","futures/collateral","futures/contracts","futures/ref-px","futures/market-data","futures/funding-rates"]},accountCategory:{get:["balance","order/open","order/status","order/hist/current","risk"],post:["order","order/batch"],delete:["order","order/all","order/batch"]},accountGroup:{get:["cash/balance","margin/balance","margin/risk","transfer","futures/collateral-balance","futures/position","futures/risk","futures/funding-payments","order/hist"],post:["futures/transfer/deposit","futures/transfer/withdraw"]},private:{get:["info","wallet/transactions","wallet/deposit/address"]}},fees:{trading:{feeSide:"get",tierBased:!0,percentage:!0,taker:.002,maker:.002}},precisionMode:l,options:{"account-category":"cash","account-group":void 0,fetchClosedOrders:{method:"accountGroupGetOrderHist"}},exceptions:{exact:{1900:u,2100:a,5002:d,6001:d,6010:o,60060:c,600503:c,100001:u,100002:u,100003:u,100004:u,100005:u,100006:u,100007:u,100008:d,100009:a,100010:u,100011:u,100012:u,100013:u,100101:n,150001:u,200001:a,200002:n,200003:n,200004:n,200005:n,200006:n,200007:n,200008:n,200009:n,200010:a,200011:n,200012:n,200013:n,200014:h,200015:h,300001:c,300002:c,300003:c,300004:c,300005:c,300006:c,300007:c,300008:c,300009:c,300011:o,300012:d,300013:c,300020:c,300021:c,300031:c,310001:o,310002:c,310003:c,310004:d,310005:c,510001:n,900001:n},broad:{}},commonCurrencies:{BOND:"BONDED",BTCBEAR:"BEAR",BTCBULL:"BULL",BYN:"Beyond Finance"}})}getAccount(e={}){const t=this.safeValue(e,"account",this.options["account"]);return t.toLowerCase().capitalize()}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=await this.publicGetMarginAssets(e),s=await this.publicGetCashAssets(e),r=this.safeValue(t,"data",[]),a=this.safeValue(i,"data",[]),n=this.safeValue(s,"data",[]),o=this.indexBy(r,"assetCode"),c=this.indexBy(a,"assetCode"),d=this.indexBy(n,"assetCode"),h=this.deepExtend(o,c,d),u=Object.keys(h),l={};for(let f=0;f<u.length;f++){const e=u[f],t=h[e],i=this.safeCurrencyCode(e),s=this.safeString2(t,"precisionScale","nativeScale"),r=this.parsePrecision(s),a=this.safeNumber2(t,"withdrawFee","withdrawalFee"),n=this.safeString2(t,"status","statusCode"),o="Normal"===n,c="borrowAssetCode"in t;l[i]={id:e,code:i,info:t,type:void 0,margin:c,name:this.safeString(t,"assetName"),active:o,fee:a,precision:parseInt(s),limits:{amount:{min:this.parseNumber(r),max:void 0},withdraw:{min:this.safeNumber(t,"minWithdrawalAmt"),max:void 0}}}}return l}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=await this.publicGetCashProducts(e),s=await this.publicGetFuturesContracts(e),r=this.safeValue(t,"data",[]),a=this.indexBy(r,"symbol"),n=this.safeValue(i,"data",[]),o=this.safeValue(s,"data",[]),c=this.arrayConcat(n,o),d=this.indexBy(c,"symbol"),h=this.deepExtend(a,d),u=Object.keys(h),l=[];for(let f=0;f<u.length;f++){const e=u[f],t=h[e],i=this.safeString(t,"baseAsset"),s=this.safeString(t,"quoteAsset"),r=this.safeCurrencyCode(i),a=this.safeCurrencyCode(s),n={amount:this.safeNumber(t,"lotSize"),price:this.safeNumber(t,"tickSize")},o=this.safeString(t,"status"),c="Normal"===o,d="useLot"in t?"spot":"future",p="spot"===d,m="future"===d,g=this.safeValue(t,"marginTradable",!1);let y=e;m||(y=r+"/"+a);const v=this.safeNumber(t,"commissionReserveRate");l.push({id:e,symbol:y,base:r,quote:a,baseId:i,quoteId:s,info:t,type:d,spot:p,margin:g,future:m,active:c,precision:n,taker:v,maker:v,limits:{amount:{min:this.safeNumber(t,"minQty"),max:this.safeNumber(t,"maxQty")},price:{min:this.safeNumber(t,"tickSize"),max:void 0},cost:{min:this.safeNumber(t,"minNotional"),max:this.safeNumber(t,"maxNotional")}}})}return l}async fetchAccounts(e={}){let t=this.safeString(this.options,"account-group"),i=void 0;if(void 0===t){i=await this.privateGetInfo(e);const s=this.safeValue(i,"data",{});t=this.safeString(s,"accountGroup"),this.options["account-group"]=t}return[{id:t,type:void 0,currency:void 0,info:i}]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"account-category","cash"),i=this.safeValue(this.options,"fetchBalance",{});let s=this.safeString(i,"account-category",t);s=this.safeString(e,"account-category",s),e=this.omit(e,"account-category");const r=this.safeValue(this.accounts,0,{}),a=this.safeString(r,"id"),n={"account-group":a};let o="accountCategoryGetBalance";"futures"===s?o="accountGroupGetFuturesCollateralBalance":n["account-category"]=s;const c=await this[o](this.extend(n,e)),d={info:c,timestamp:void 0,datetime:void 0},h=this.safeValue(c,"data",[]);for(let u=0;u<h.length;u++){const e=h[u],t=this.safeCurrencyCode(this.safeString(e,"asset")),i=this.account();i["free"]=this.safeString(e,"availableBalance"),i["total"]=this.safeString(e,"totalBalance"),d[t]=i}return this.parseBalance(d,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]},a=await this.publicGetDepth(this.extend(r,i)),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"data",{}),c=this.safeInteger(o,"ts"),d=this.parseOrderBook(o,e,c);return d["nonce"]=this.safeInteger(o,"seqnum"),d}parseTicker(e,t){const i=void 0,s=this.safeString(e,"symbol");let r=void 0;if(s in this.markets_by_id)t=this.markets_by_id[s];else if(void 0!==s){const t=this.safeString(e,"type");if("spot"===t){const[e,t]=s.split("/"),i=this.safeCurrencyCode(e),a=this.safeCurrencyCode(t);r=i+"/"+a}}void 0===r&&void 0!==t&&(r=t["symbol"]);const a=this.safeNumber(e,"close"),n=this.safeValue(e,"bid",[]),o=this.safeValue(e,"ask",[]),c=this.safeNumber(e,"open");let d=void 0,h=void 0,u=void 0;return void 0!==c&&void 0!==a&&(d=a-c,c>0&&(h=d/c*100),u=this.sum(c,a)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(n,0),bidVolume:this.safeNumber(n,1),ask:this.safeNumber(o,0),askVolume:this.safeNumber(o,1),vwap:void 0,open:c,close:a,last:a,previousClose:void 0,change:d,percentage:h,average:u,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTicker(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbol"]=t.join(",")}const s=await this.publicGetTicker(this.extend(i,t)),r=this.safeValue(s,"data",[]);return this.parseTickers(r,e)}parseOHLCV(e,t){const i=this.safeValue(e,"data",{});return[this.safeInteger(i,"ts"),this.safeNumber(i,"o"),this.safeNumber(i,"h"),this.safeNumber(i,"l"),this.safeNumber(i,"c"),this.safeNumber(i,"v")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],interval:this.timeframes[t]},o=this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCV",{}),d=this.safeInteger(c,"limit",500);void 0!==i?(n["from"]=i,s=void 0===s?d:Math.min(s,d),n["to"]=this.sum(i,s*o*1e3,1)):void 0!==s&&(n["n"]=s);const h=await this.publicGetBarhist(this.extend(n,r)),u=this.safeValue(h,"data",[]);return this.parseOHLCVs(u,a,t,i,s)}parseTrade(e,t){const i=this.safeInteger(e,"ts"),s=this.safeString2(e,"price","p"),r=this.safeString(e,"q"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(f.stringMul(s,r)),c=this.safeValue(e,"bm",!1),d=c?"maker":"taker",h=c?"buy":"sell";let u=void 0;return void 0===u&&void 0!==t&&(u=t["symbol"]),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:void 0,order:void 0,type:void 0,takerOrMaker:d,side:h,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["n"]=i);const n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]),c=this.safeValue(o,"data",[]);return this.parseTrades(c,r,t,i)}parseOrderStatus(e){const t={PendingNew:"open",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled",Rejected:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t,"/"),a=this.safeInteger2(e,"timestamp","sendingTime"),n=this.safeInteger(e,"lastExecTime"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"orderQty"),d=this.safeNumber(e,"avgPx"),h=this.safeNumber2(e,"cumFilledQty","cumQty"),u=this.safeString(e,"orderId");let l=this.safeString(e,"id");void 0!==l&&l.length<1&&(l=void 0);const f=this.safeStringLower(e,"orderType"),p=this.safeStringLower(e,"side"),m=this.safeNumber(e,"cumFee");let g=void 0;if(void 0!==m){const t=this.safeString(e,"feeAsset"),i=this.safeCurrencyCode(t);g={cost:m,currency:i}}const y=this.safeNumber(e,"stopPrice");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:n,symbol:r,type:f,timeInForce:void 0,postOnly:void 0,side:p,price:o,stopPrice:y,amount:c,cost:void 0,average:d,filled:h,remaining:void 0,status:i,fee:g,trades:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o=this.safeString(this.options,"account-category","cash"),d=this.safeValue(this.options,"createOrder",{});let h=this.safeString(d,"account-category",o);h=this.safeString(a,"account-category",h),a=this.omit(a,"account-category");const u=this.safeValue(this.accounts,0,{}),l=this.safeValue(u,"id"),f=this.safeString2(a,"clientOrderId","id"),p={"account-group":l,"account-category":h,symbol:n["id"],time:this.milliseconds(),orderQty:this.amountToPrecision(e,s),orderType:t,side:i};if(void 0!==f&&(p["id"]=f,a=this.omit(a,["clientOrderId","id"])),"limit"!==t&&"stop_limit"!==t||(p["orderPrice"]=this.priceToPrecision(e,r)),"stop_limit"===t||"stop_market"===t){const i=this.safeNumber(a,"stopPrice");if(void 0===i)throw new c(this.id+" createOrder() requires a stopPrice parameter for "+t+" orders");p["stopPrice"]=this.priceToPrecision(e,i),a=this.omit(a,"stopPrice")}const m=await this.accountCategoryPostOrder(this.extend(p,a)),g=this.safeValue(m,"data",{}),y=this.safeValue(g,"info",{});return this.parseOrder(y,n)}async fetchOrder(e,t,i={}){await this.loadMarkets(),await this.loadAccounts();const s=this.safeString(this.options,"account-category","cash"),r=this.safeValue(this.options,"fetchOrder",{});let a=this.safeString(r,"account-category",s);a=this.safeString(i,"account-category",a),i=this.omit(i,"account-category");const n=this.safeValue(this.accounts,0,{}),o=this.safeValue(n,"id"),c={"account-group":o,"account-category":a,orderId:e},d=await this.accountCategoryGetOrderStatus(this.extend(c,i)),h=this.safeValue(d,"data",{});return this.parseOrder(h)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();let r=void 0;void 0!==e&&(r=this.market(e));const a=this.safeString(this.options,"account-category","cash"),n=this.safeValue(this.options,"fetchOpenOrders",{});let o=this.safeString(n,"account-category",a);o=this.safeString(s,"account-category",o),s=this.omit(s,"account-category");const c=this.safeValue(this.accounts,0,{}),d=this.safeValue(c,"id"),h={"account-group":d,"account-category":o},u=await this.accountCategoryGetOrderOpen(this.extend(h,s)),l=this.safeValue(u,"data",[]);if("futures"===o)return this.parseOrders(l,r,t,i);const f=[];for(let p=0;p<l.length;p++){const e=this.parseOrder(l[p],r);f.push(e)}return this.filterBySymbolSinceLimit(f,e,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets(),await this.loadAccounts();let r=void 0;void 0!==e&&(r=this.market(e));const a=this.safeString(this.options,"account-category"),n=this.safeValue(this.options,"fetchClosedOrders",{});let o=this.safeString(n,"account-category",a);o=this.safeString(s,"account-category",o),s=this.omit(s,"account-category");const c=this.safeValue(this.accounts,0,{}),d=this.safeValue(c,"id"),h={"account-group":d};void 0!==e&&(r=this.market(e),h["symbol"]=r["id"]);const u=this.safeValue(n,"method","accountGroupGetOrderHist");"accountGroupGetOrderHist"===u?void 0!==o&&(h["category"]=o):h["account-category"]=o,void 0!==t&&(h["startTime"]=t),void 0!==i&&(h["pageSize"]=i);const l=await this[u](this.extend(h,s));let f=this.safeValue(l,"data");const p=Array.isArray(f);return p||(f=this.safeValue(f,"data",[])),this.parseOrders(f,r,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new r(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const s=this.market(t),a=this.safeString(this.options,"account-category","cash"),n=this.safeValue(this.options,"cancelOrder",{});let o=this.safeString(n,"account-category",a);o=this.safeString(i,"account-category",o),i=this.omit(i,"account-category");const c=this.safeValue(this.accounts,0,{}),d=this.safeValue(c,"id"),h=this.safeString2(i,"clientOrderId","id"),u={"account-group":d,"account-category":o,symbol:s["id"],time:this.milliseconds(),id:"foobar"};void 0===h?u["orderId"]=e:(u["id"]=h,i=this.omit(i,["clientOrderId","id"]));const l=await this.accountCategoryDeleteOrder(this.extend(u,i)),f=this.safeValue(l,"data",{}),p=this.safeValue(f,"info",{});return this.parseOrder(p,s)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=this.safeString(this.options,"account-category","cash"),s=this.safeValue(this.options,"cancelAllOrders",{});let r=this.safeString(s,"account-category",i);r=this.safeString(t,"account-category",r),t=this.omit(t,"account-category");const a=this.safeValue(this.accounts,0,{}),n=this.safeValue(a,"id"),o={"account-group":n,"account-category":r,time:this.milliseconds()};let c=void 0;void 0!==e&&(c=this.market(e),o["symbol"]=c["id"]);const d=await this.accountCategoryDeleteOrderAll(this.extend(o,t));return d}parseDepositAddress(e,t){const i=this.safeString(e,"address"),s=this.safeString(e,"tagId"),r=this.safeString(e,s);this.checkAddress(i);const a=void 0===t?void 0:t["code"];return{currency:a,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s=this.safeString(t,"chainName");t=this.omit(t,"chainName");const a={asset:i["id"]},n=await this.privateGetWalletDepositAddress(this.extend(a,t)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"address",[]),d=c.length;let h=void 0;if(d>1){const e=this.indexBy(c,"chainName");if(void 0===s){const t=Object.keys(e),i=t.join(", ");throw new r(this.id+" fetchDepositAddress returned more than one address, a chainName parameter is required, one of "+i)}h=this.safeValue(e,s,{})}else h=this.safeValue(c,0,{});const u=this.parseDepositAddress(h,i);return this.extend(u,{info:n})}async fetchDeposits(e,t,i,s={}){const r={txType:"deposit"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchWithdrawals(e,t,i,s={}){const r={txType:"withdrawal"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["asset"]=a["id"]),void 0!==t&&(r["startTs"]=t),void 0!==i&&(r["pageSize"]=i);const n=await this.privateGetWalletTransactions(this.extend(r,s)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,a,t,i)}parseTransactionStatus(e){const t={reviewing:"pending",pending:"pending",confirmed:"ok",rejected:"rejected"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"requestId"),s=this.safeNumber(e,"amount"),r=this.safeValue(e,"destAddress",{}),a=this.safeString(r,"address"),n=this.safeString(r,"destTag"),o=this.safeString(e,"networkTransactionId"),c=this.safeString(e,"transactionType"),d=this.safeInteger(e,"time"),h=this.safeString(e,"asset"),u=this.safeCurrencyCode(h,t),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeNumber(e,"commission");return{info:e,id:i,currency:u,amount:s,address:a,addressTo:a,addressFrom:void 0,tag:n,tagTo:n,tagFrom:void 0,status:l,type:c,updated:void 0,txid:o,timestamp:d,datetime:this.iso8601(d),fee:{currency:u,cost:f}}}sign(e,t="public",i="GET",s={},r,a){let n="",o=s;const c="accountCategory"===t;(c||"accountGroup"===t)&&(n+=this.implodeParams("/{account-group}",s),o=this.omit(s,"account-group"));const d=this.implodeParams(e,o);if(n+="/api/pro/"+this.version,c&&(n+=this.implodeParams("/{account-category}",o),o=this.omit(o,"account-category")),n+="/"+d,o=this.omit(o,this.extractParams(e)),"public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.milliseconds().toString(),t=e+"+"+d,s=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");r={"x-auth-key":this.apiKey,"x-auth-timestamp":e,"x-auth-signature":s},"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(r["Content-Type"]="application/json",a=this.json(o))}return n=this.urls["api"]+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message"),l=void 0!==h&&"0"!==h;if(l||void 0!==u){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new n(e)}}}},"6b75":function(e,t,i){"use strict";function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}i.d(t,"a",(function(){return s}))},"6b75e":function(e,t,i){"use strict";(function(e,s){var r=i("f654"),a=i("8936"),n=i("a177"),o=i("9e6e"),c=i("2ceb");for(var d in c)t[d]=c[d];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;var h=31,u=139;function l(e){if("number"!==typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?n.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||o.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},l.prototype.write=function(e,t,i,s,r,a,n){return this._write(!0,e,t,i,s,r,a,n)},l.prototype.writeSync=function(e,t,i,s,r,a,n){return this._write(!1,e,t,i,s,r,a,n)},l.prototype._write=function(i,a,n,o,c,d,h,u){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==t.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==n&&(n=e.alloc(0),c=0,o=0),this.strm.avail_in=c,this.strm.input=n,this.strm.next_in=o,this.strm.avail_out=u,this.strm.output=d,this.strm.next_out=h,this.flush=a,!i)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return s.nextTick((function(){l._process(),l._after()})),this},l.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},l.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(this.strm.input[e]!==h){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;this.strm.input[e]===u?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:this.err=o.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));while(this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0])this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},l.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(e,i,s,a,n){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(e>=8&&e<=15,"invalid windowBits"),r(i>=-1&&i<=9,"invalid compression level"),r(s>=1&&s<=9,"invalid memlevel"),r(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,s,a,n),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(e,i,s,r,c){switch(this.level=e,this.windowBits=i,this.memLevel=s,this.strategy=r,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=n.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=o.inflateReset(this.strm);break;default:break}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=l}).call(this,i("b639").Buffer,i("4362"))},"6d61":function(e,t,i){"use strict";var s=i("23e7"),r=i("da84"),a=i("94ca"),n=i("6eeb"),o=i("f183"),c=i("2266"),d=i("19aa"),h=i("861d"),u=i("d039"),l=i("1c7e"),f=i("d44e"),p=i("7156");e.exports=function(e,t,i){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),y=m?"set":"add",v=r[e],b=v&&v.prototype,w=v,k={},S=function(e){var t=b[e];n(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!h(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!h(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!h(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})},_=a(e,"function"!=typeof v||!(g||b.forEach&&!u((function(){(new v).entries().next()}))));if(_)w=i.getConstructor(t,e,m,y),o.REQUIRED=!0;else if(a(e,!0)){var O=new w,T=O[y](g?{}:-0,1)!=O,C=u((function(){O.has(1)})),x=l((function(e){new v(e)})),I=!g&&u((function(){var e=new v,t=5;while(t--)e[y](t,t);return!e.has(-0)}));x||(w=t((function(t,i){d(t,w,e);var s=p(new v,t,w);return void 0!=i&&c(i,s[y],{that:s,AS_ENTRIES:m}),s})),w.prototype=b,b.constructor=w),(C||I)&&(S("delete"),S("has"),m&&S("get")),(I||T)&&S(y),g&&b.clear&&delete b.clear}return k[e]=w,s({global:!0,forced:w!=v},k),f(w,e),g||i.setStrong(w,e,m),w}},"6dd3":function(e,t,i){"use strict";const s=i("90db"),{RateLimitExceeded:r,BadSymbol:a,OrderNotFound:n,ExchangeError:o,AuthenticationError:c,ArgumentsRequired:d,ExchangeNotAvailable:h}=i("74b0"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bw",name:"BW",countries:["CN"],rateLimit:1500,version:"v1",has:{cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!1,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchL2OrderBook:!1,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!0,privateAPI:!1,publicAPI:!1,withdraw:!1},timeframes:{"1m":"1M","5m":"5M","15m":"15M","30m":"30M","1h":"1H","1w":"1W"},hostname:"bw.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/69436317-31128c80-0d52-11ea-91d1-eb7bb5818812.jpg",api:"https://www.{hostname}",www:"https://www.bw.com",doc:"https://github.com/bw-exchange/api_docs_en/wiki",fees:"https://www.bw.com/feesRate",referral:"https://www.bw.com/regGetCommission/N3JuT1R3bWxKTE0"},requiredCredentials:{apiKey:!0,secret:!0},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{}},exceptions:{exact:{999:c,1e3:h,2012:n,5017:a,10001:r}},api:{public:{get:["api/data/v1/klines","api/data/v1/ticker","api/data/v1/tickers","api/data/v1/trades","api/data/v1/entrusts","exchange/config/controller/website/marketcontroller/getByWebId","exchange/config/controller/website/currencycontroller/getCurrencyList"]},private:{get:["exchange/entrust/controller/website/EntrustController/getEntrustById","exchange/entrust/controller/website/EntrustController/getUserEntrustRecordFromCacheWithPage","exchange/entrust/controller/website/EntrustController/getUserEntrustList","exchange/fund/controller/website/fundwebsitecontroller/getwithdrawaddress","exchange/fund/controller/website/fundwebsitecontroller/getpayoutcoinrecord","exchange/entrust/controller/website/EntrustController/getUserEntrustList"],post:["exchange/fund/controller/website/fundcontroller/getPayinAddress","exchange/fund/controller/website/fundcontroller/getPayinCoinRecord","exchange/fund/controller/website/fundcontroller/findbypage","exchange/entrust/controller/website/EntrustController/addEntrust","exchange/entrust/controller/website/EntrustController/cancelEntrust"]}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteMarketcontrollerGetByWebId(e),i=this.safeValue(t,"datas",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"marketId"),a=parseInt(t),n=this.safeStringUpper(e,"name");let[o,c]=n.split("_");o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=this.safeString(e,"sellerCurrencyId"),h=this.safeString(e,"buyerCurrencyId"),u=parseInt(d),l=parseInt(h),f=o+"/"+c,p=this.safeInteger(e,"state"),m=1===p,g=this.safeNumber(e,"defaultFee");s.push({id:t,active:m,numericId:a,symbol:f,base:o,quote:c,baseId:d,quoteId:h,baseNumericId:u,quoteNumericId:l,maker:g,taker:g,info:e,precision:{amount:this.safeInteger(e,"amountDecimal"),price:this.safeInteger(e,"priceDecimal")},limits:{amount:{min:this.safeNumber(e,"minAmount"),max:void 0},price:{min:0,max:void 0},cost:{min:0,max:void 0}}})}return s}async fetchCurrencies(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteCurrencycontrollerGetCurrencyList(e),i=this.safeValue(t,"datas",[]),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currencyId"),a=this.safeCurrencyCode(this.safeStringUpper(e,"name")),n=this.safeInteger(e,"state"),o=1===n;s[a]={id:t,code:a,info:e,name:a,active:o,fee:this.safeNumber(e,"drawFee"),precision:void 0,limits:{amount:{min:this.safeNumber(e,"limitAmount",0),max:void 0},withdraw:{min:void 0,max:this.safeNumber(e,"onceDrawLimit")}}}}return s}parseTicker(e,t){const i=this.safeString(e,0),s=this.safeSymbol(i,t),r=this.milliseconds(),a=parseFloat(this.safeValue(e,1)),n=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:parseFloat(this.safeValue(e,2)),low:parseFloat(this.safeValue(e,3)),bid:parseFloat(this.safeValue(e,7)),bidVolume:this.safeNumber(n,"quantity"),ask:parseFloat(this.safeValue(e,8)),askVolume:this.safeNumber(o,"quantity"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:parseFloat(this.safeValue(e,5)),percentage:void 0,average:void 0,baseVolume:parseFloat(this.safeValue(e,4)),quoteVolume:parseFloat(this.safeValue(e,9)),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={marketId:i["id"]},r=await this.publicGetApiDataV1Ticker(this.extend(s,t)),a=this.safeValue(r,"datas",[]);return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetApiDataV1Tickers(t),s=this.safeValue(i,"datas",[]),r={};for(let a=0;a<s.length;a++){const t=this.parseTicker(s[a]),i=t["symbol"];(void 0===e||this.inArray(i,e))&&(r[i]=t)}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={marketId:s["id"]};void 0!==t&&(r["dataSize"]=t);const a=await this.publicGetApiDataV1Entrusts(this.extend(r,i)),n=this.safeValue(a,"datas",[]),o=this.safeTimestamp(n,"timestamp");return this.parseOrderBook(n,e,o)}parseTrade(e,t){const i=this.safeTimestamp(e,2),s=this.safeString(e,5),r=this.safeString(e,6),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(u.stringMul(s,r)),c=this.safeString(e,1);let d=void 0;if(void 0!==c)if(c in this.markets_by_id)t=this.markets_by_id[c];else{const t=this.safeString(e,3),[i,s]=t.split("_"),r=this.safeCurrencyCode(i),a=this.safeCurrencyCode(s);d=r+"/"+a}void 0===d&&void 0!==t&&(d=t["symbol"]);const h=this.safeString(e,4),l="ask"===h?"sell":"buy";return{id:void 0,timestamp:i,datetime:this.iso8601(i),symbol:d,order:void 0,type:"limit",side:l,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={marketId:r["id"]};void 0!==i&&(a["dataSize"]=i);const n=await this.publicGetApiDataV1Trades(this.extend(a,s)),o=this.safeValue(n,"datas",[]);return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,3),this.safeNumber(e,4),this.safeNumber(e,5),this.safeNumber(e,6),this.safeNumber(e,7),this.safeNumber(e,8)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={marketId:a["id"],type:this.timeframes[t],dataSize:500};void 0!==s&&(n["dataSize"]=s);const o=await this.publicGetApiDataV1Klines(this.extend(n,r)),c=this.safeValue(o,"datas",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostExchangeFundControllerWebsiteFundcontrollerFindbypage(e),i=this.safeValue(t,"datas",{}),s=this.safeValue(i,"list",[]),r={info:t};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currencyTypeId"),i=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"amount"),n["used"]=this.safeString(e,"freeze"),r[i]=n}return this.parseBalance(r,!1)}async createOrder(e,t,i,s,r,a={}){if(void 0===r)throw new o(this.id+" allows limit orders only");await this.loadMarkets();const n=this.market(e),c={amount:this.amountToPrecision(e,s),price:this.priceToPrecision(e,r),type:"buy"===i?1:0,rangeType:0,marketId:n["id"]},d=await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerAddEntrust(this.extend(c,a)),h=this.safeValue(d,"datas"),u=this.safeString(h,"entrustId");return{id:u,info:d,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:r,amount:s,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:"open",fee:void 0,trades:void 0,clientOrderId:void 0}}parseOrderStatus(e){const t={"-3":"canceled","-2":"canceled","-1":"canceled",0:"open",1:"canceled",2:"closed",3:"open",4:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"marketId"),s=this.safeSymbol(i,t),r=this.safeInteger(e,"createTime");let a=this.safeString(e,"type");"0"===a?a="sell":"1"===a&&(a="buy");const n=this.safeNumber(e,"amount"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"completeAmount"),d=this.safeNumber2(e,"availabelAmount","availableAmount"),h=this.safeNumber(e,"totalMoney"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder({info:e,id:this.safeString(e,"entrustId"),clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:void 0,amount:n,cost:h,average:void 0,filled:c,remaining:d,status:u,fee:void 0,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={marketId:s["id"],entrustId:e},a=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetEntrustById(this.extend(r,i)),n=this.safeValue(a,"datas",{});return this.parseOrder(n,s)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={marketId:s["id"],entrustId:e},a=await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerCancelEntrust(this.extend(r,i));return{info:a,id:e}}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={marketId:r["id"]};void 0!==i&&(a["pageSize"]=i);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustRecordFromCacheWithPage(this.extend(a,s)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,r,t,i)}async fetchClosedOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={marketId:r["id"]};void 0!==i&&(a["pageSize"]=i),void 0!==t&&(a["startDateTime"]=t);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(a,s)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,r,t,i)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={marketId:r["id"]};void 0!==t&&(a["startDateTime"]=t),void 0!==i&&(a["pageSize"]=i);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(a,s)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,r,t,i)}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeHostname(this.urls["api"])+"/"+e;if("GET"===i?Object.keys(s).length&&(n+="?"+this.urlencode(s)):a=this.json(s),"private"===t){const e=this.milliseconds().toString();let t="";if("GET"===i){const e=this.keysort(s),i=Object.keys(e);for(let s=0;s<i.length;s++){const r=i[s];t+=r+e[r].toString()}}else t=a;const n=this.apiKey+e+t+this.secret,o=this.hash(this.encode(n),"md5");r||(r={}),r["Apiid"]=this.apiKey,r["Timestamp"]=e,r["Sign"]=o}return{url:n,method:i,body:a,headers:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currencyTypeName:i["name"]},r=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinAddress(this.extend(s,t)),a=this.safeValue(r,"datas",{}),n=this.safeString(a,"address"),o=this.safeString(a,"memo");return this.checkAddress(n),{currency:e,address:this.checkAddress(n),tag:o,info:r}}parseTransactionStatus(e){const t={"-1":"canceled",0:"pending",1:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"depositId","withdrawalId"),s=this.safeString2(e,"depositAddress","withdrawalAddress"),r=this.safeString2(e,"currencyId","currencyTypeId");let a=void 0;r in this.currencies_by_id&&(t=this.currencies_by_id[r]),void 0===a&&void 0!==t&&(a=t["code"]);const n="depositId"in e?"deposit":"withdrawal",o=this.safeNumber2(e,"actuallyAmount","amount"),c=this.parseTransactionStatus(this.safeString2(e,"verifyStatus","state")),d=this.safeInteger(e,"createTime"),h=this.safeString(e,"txId");let u=void 0;const l=this.safeNumber(e,"fees");return void 0!==l&&(u={cost:l,currency:a}),{info:e,id:i,txid:h,timestamp:d,datetime:this.iso8601(d),addressFrom:void 0,address:s,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:n,amount:o,currency:a,status:c,updated:void 0,fee:u}}async fetchDeposits(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={currencyTypeName:r["name"]};void 0!==i&&(a["pageSize"]=i);const n=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinCoinRecord(this.extend(a,s)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"list",[]);return this.parseTransactions(c,e,t,i)}async fetchWithdrawals(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const r=this.currency(e),a={currencyId:r["id"]};void 0!==i&&(a["pageSize"]=i);const n=await this.privateGetExchangeFundControllerWebsiteFundwebsitecontrollerGetpayoutcoinrecord(this.extend(a,s)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"list",[]);return this.parseTransactions(c,e,t,i)}handleErrors(e,t,i,s,r,a,n,c,d){if(!n)return;const h=this.safeValue(n,"resMsg"),u=this.safeString(h,"code");if("1"!==u){const e=this.id+" "+this.json(n);throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),new o(e)}}}},"6ece":function(e,t,i){},"6eeb":function(e,t,i){var s=i("da84"),r=i("9112"),a=i("5135"),n=i("ce4e"),o=i("8925"),c=i("69f3"),d=c.get,h=c.enforce,u=String(String).split("String");(e.exports=function(e,t,i,o){var c,d=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||a(i,"name")||r(i,"name",t),c=h(i),c.source||(c.source=u.join("string"==typeof t?t:""))),e!==s?(d?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=i:r(e,t,i)):l?e[t]=i:n(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||o(this)}))},"6f53":function(e,t,i){var s=i("83ab"),r=i("df75"),a=i("fc6a"),n=i("d1e7").f,o=function(e){return function(t){var i,o=a(t),c=r(o),d=c.length,h=0,u=[];while(d>h)i=c[h++],s&&!n.call(o,i)||u.push(e?[i,o[i]]:o[i]);return u}};e.exports={entries:o(!0),values:o(!1)}},"6f87":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.size=0,this.hash=Object.create(null),e&&e.forEach(this.add,this)}return e.prototype.add=function(e){return this.hash[e]=!0,this.size=Object.keys(this.hash).length,this},e.prototype.has=function(e){return e in this.hash},e.prototype.toArray=function(){return Object.keys(this.hash)},e}();t.UniqPrimitiveCollection=s},"6f8f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=s.split("").reduce((function(e,t,i){return e[t]=i,e}),{});t.default={encode:function(e){if(!e.length)return"";for(var t=[0],i=0;i<e.length;i++){for(var r=0;r<t.length;r++)t[r]<<=8;t[0]+=e[i];for(var a=0,n=0;n<t.length;n++)t[n]+=a,a=t[n]/58|0,t[n]%=58;while(a)t.push(a%58),a=a/58|0}for(i=0;0===e[i]&&i<e.length-1;i++)t.push(0);return t.reverse().map((function(e){return s[e]})).join("")},decode:function(e){if(!e.length)return new Uint8Array(0);for(var t=[0],i=0;i<e.length;i++){var s=e[i];if(!(s in r))throw'There is no character "'+s+'" in the Base58 sequence!';for(var a=0;a<t.length;a++)t[a]*=58;t[0]+=r[s];var n=0;for(a=0;a<t.length;a++)t[a]+=n,n=t[a]>>8,t[a]&=255;while(n)t.push(255&n),n>>=8}for(i=0;"1"===e[i]&&i<e.length-1;i++)t.push(0);return new Uint8Array(t.reverse())}}},"6ff5":function(e,t,i){var s=i("fd46"),r=i("0e30"),a=r(s("slice",(function(e,t,i){return Array.prototype.slice.call(i,e,t)})));e.exports=a},7037:function(e,t,i){function s(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=s=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=s=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),s(t)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},"70ea":function(e,t,i){var s=i("001c");function r(e){return function t(i){return 0===arguments.length||s(i)?t:e.apply(this,arguments)}}e.exports=r},"713a":function(e,t,i){"use strict";var s=i("8212");t["a"]=s["a"]},7140:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,OrderNotFound:a,InvalidOrder:n,BadRequest:o,AuthenticationError:c,RateLimitExceeded:d,RequestTimeout:h,BadSymbol:u,AddressPending:l,PermissionDenied:f,InsufficientFunds:p}=i("74b0"),{ROUND:m}=i("5ea4"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"vcc",name:"VCC Exchange",countries:["VN"],rateLimit:1e3,version:"v3",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!1,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0},timeframes:{"1m":"60000","5m":"300000","15m":"900000","30m":"1800000","1h":"3600000","2h":"7200000","4h":"14400000","6h":"21600000","12h":"43200000","1d":"86400000","1w":"604800000"},urls:{logo:"https://user-images.githubusercontent.com/1294454/100545356-8427f500-326c-11eb-9539-7d338242d61b.jpg",api:{public:"https://api.vcc.exchange",private:"https://api.vcc.exchange"},www:"https://vcc.exchange",doc:["https://vcc.exchange/api"],fees:"https://support.vcc.exchange/hc/en-us/articles/360016401754",referral:"https://vcc.exchange?ref=l4xhrH"},api:{public:{get:["summary","exchange_info","assets","ticker","trades/{market_pair}","orderbook/{market_pair}","chart/bars","tick_sizes"]},private:{get:["user","balance","orders/{order_id}","orders/open","orders","orders/trades","deposit-address","transactions"],post:["orders"],put:["orders/{order_id}/cancel","orders/cancel-by-type","orders/cancel-all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{},broad:{"limit may not be greater than":o,"Insufficient balance":p,Unauthenticated:c,"signature is invalid":c,Timeout:h,"Too many requests":d,"quantity field is required":n,"price field is required":n,error_security_level:f,"pair is invalid":u,"type is invalid":n,"Data not found":a}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e),i=this.safeValue(t,"data"),s=this.safeValue(i,"symbols"),r=[];for(let a=0;a<s.length;a++){const e=this.safeValue(s,a),t=this.safeString(e,"symbol"),i=t.replace("/","_"),n=this.safeString(e,"coin"),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=this.safeValue(e,"active"),u=this.safeValue(e,"precision",{}),l=this.safeValue(e,"limits",{}),f=this.safeValue(l,"amount",{}),p=this.safeValue(l,"price",{}),m=this.safeValue(l,"cost",{}),g={info:e,id:i,symbol:t,base:c,quote:d,baseId:n,quoteId:o,active:h,precision:{price:this.safeInteger(u,"price"),amount:this.safeInteger(u,"amount"),cost:this.safeInteger(u,"cost")},limits:{amount:{min:this.safeNumber(f,"min"),max:void 0},price:{min:this.safeNumber(p,"min"),max:void 0},cost:{min:this.safeNumber(m,"min"),max:void 0}}};r.push(g)}return r}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={},s=this.safeValue(t,"data"),r=Object.keys(s);for(let a=0;a<r.length;a++){const e=this.safeStringLower(r,a),t=this.safeValue(s,r[a]),n=this.safeCurrencyCode(e),o=this.safeValue(t,"can_deposit"),c=this.safeValue(t,"can_withdraw"),d=o&&c;i[n]={id:e,code:n,name:this.safeString(t,"name"),active:d,fee:this.safeNumber(t,"withdrawal_fee"),precision:this.safeInteger(t,"decimal"),limits:{withdraw:{min:this.safeNumber(t,"min_withdraw"),max:this.safeNumber(t,"max_withdraw")}}}}return i}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),s=this.extend({symbol:i["id"]},this.omit(t,"symbol")),r=await this.privateGetTradingFeeSymbol(s);return{info:r,maker:this.safeNumber(r,"provideLiquidityRate"),taker:this.safeNumber(r,"takeLiquidityRate")}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"data"),s={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e),n=this.safeValue(i,e),o=this.account();o["free"]=this.safeString(n,"available_balance"),o["total"]=this.safeString(n,"balance"),s[t]=o}return this.parseBalance(s,!1)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={coin:a["baseId"],currency:a["quoteId"],resolution:this.timeframes[t]};s=void 0===s?100:s,s=Math.min(100,s);const o=this.parseTimeframe(t);if(void 0===i){const e=this.seconds();n["to"]=e,n["from"]=e-s*o}else{const e=parseInt(i/1e3);n["from"]=e,n["to"]=this.sum(e,s*o)}const c=await this.publicGetChartBars(this.extend(n,r));return this.parseOHLCVs(c,a,t,i,s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market_pair:s["id"],level:2};if(void 0!==t){if(0!==t&&5!==t&&10!==t&&20!==t&&50!==t&&100!==t&&500!==t)throw new o(this.id+" fetchOrderBook limit must be 0, 5, 10, 20, 50, 100, 500 if specified");r["depth"]=t}const a=await this.publicGetOrderbookMarketPair(this.extend(r,i)),n=this.safeValue(a,"data"),c=this.safeValue(n,"timestamp");return this.parseOrderBook(n,e,c,"bids","asks",0,1)}parseTicker(e,t){const i=this.milliseconds(),s=this.safeNumber(e,"base_volume"),r=this.safeNumber(e,"quote_volume"),a=this.safeNumber(e,"open_price"),n=this.safeNumber(e,"last_price");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(o=n-a,d=this.sum(n,a)/2,a>0&&(c=o/a*100));const h=this.vwap(s,r),u=void 0===t?void 0:t["symbol"];return{symbol:u,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"max_price"),low:this.safeNumber(e,"min_price"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:h,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:s,quoteVolume:r,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s={},r=this.safeValue(i,"data"),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeMarket(e,void 0,"_"),i=t["symbol"];s[i]=this.parseTicker(r[e],t)}return this.filterByArray(s,"symbol",e)}parseTrade(e,t){const i=this.safeInteger2(e,"trade_timestamp","created_at"),s=this.safeStringUpper(e,"coin"),r=this.safeStringUpper(e,"currency");let a=void 0;void 0!==s&&void 0!==r&&(a=s+"_"+r),t=this.safeMarket(a,t,"_");const n=t["symbol"],o=this.safeString(e,"price"),c=this.safeString2(e,"base_volume","quantity"),d=this.parseNumber(o),h=this.parseNumber(c);let u=this.safeNumber2(e,"quote_volume","amount");void 0===u&&(u=this.parseNumber(g.stringMul(o,c)));const l=this.safeString2(e,"type","trade_type"),f=this.safeString2(e,"trade_id","id"),p=this.safeNumber(e,"fee");let m=void 0;return void 0!==p&&(m={cost:p,currency:t["quote"]}),{info:e,id:f,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:n,type:void 0,side:l,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:m}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market_pair:r["id"]};void 0!==i&&(a["count"]=Math.min(1e3,i));const n=await this.publicGetTradesMarketPair(this.extend(a,s)),o=this.safeValue(n,"data");return this.parseTrades(o,r,t,i)}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["limit"]=Math.min(1e3,i)),void 0!==t&&(r["start"]=t);const n=await this.privateGetTransactions(this.extend(r,s));let o=this.safeValue(n,"data",{});return o=this.safeValue(o,"data",[]),this.parseTransactions(o,a,t,i)}async fetchDeposits(e,t,i,s={}){const r={type:"deposit"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchWithdrawals(e,t,i,s={}){const r={type:"withdraw"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeInteger(e,"created_at"),r=this.safeInteger(e,"updated_at"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeNumber(e,"amount");void 0!==c&&(c=Math.abs(c));const d=this.safeString(e,"blockchain_address"),h=this.safeString(e,"transaction_id"),u=this.safeString(e,"destination_tag");let l=void 0;const f=this.safeNumber(e,"fee");void 0!==f&&(l={cost:f,currency:n});const p=c>0?"deposit":"withdrawal";return{info:e,id:i,txid:h,timestamp:s,datetime:this.iso8601(s),address:d,addressTo:d,addressFrom:void 0,tag:u,tagTo:u,tagFrom:void 0,type:p,amount:c,currency:n,status:o,updated:r,fee:l}}parseTransactionStatus(e){const t={pending:"pending",error:"failed",success:"ok",cancel:"canceled"};return this.safeString(t,e,e)}parseTransactionType(e){const t={deposit:"deposit",withdraw:"withdrawal"};return this.safeString(t,e,e)}costToPrecision(e,t){return this.decimalToPrecision(t,m,this.markets[e]["precision"]["cost"],this.precisionMode,this.paddingMode)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const o=this.market(e),c={coin:o["baseId"],currency:o["quoteId"],trade_type:i,type:t};if("ceiling_market"===t){const i=this.safeValue(a,"ceiling");if(void 0!==i)c["ceiling"]=this.costToPrecision(e,i);else{if(void 0===r)throw new n(this.id+" createOrder() requires a price argument or a ceiling parameter for "+t+" orders");c["ceiling"]=this.costToPrecision(e,s*r)}}else c["quantity"]=this.amountToPrecision(e,s);"limit"===t&&(c["price"]=this.priceToPrecision(e,r));const d=this.safeValue2(a,"stop_price","stopPrice");void 0!==d&&(c["is_stop"]=1,c["stop_condition"]="buy"===i?"le":"ge",c["stop_price"]=this.priceToPrecision(e,r)),a=this.omit(a,["stop_price","stopPrice"]);const h=await this.privatePostOrders(this.extend(c,a)),u=this.safeValue(h,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privatePutOrdersOrderIdCancel(this.extend(s,i));return this.parseOrder(r)}async cancelAllOrders(e,t={}){const i=this.safeString(t,"type"),s=void 0===i?"privatePutOrdersCancelAll":"privatePutOrdersCancelByType",r={};void 0!==i&&(r["type"]=i),await this.loadMarkets();const a=await this[s](this.extend(r,t));let n=this.safeValue(a,"data",{});return n=this.safeValue(a,"data",[]),this.parseOrders(n)}parseOrderStatus(e){const t={pending:"open",stopping:"open",executing:"open",executed:"closed",canceled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeValue(e,"created_at"),s=this.safeValue(e,"updated_at"),r=this.safeStringUpper(e,"coin"),a=this.safeStringUpper(e,"currency"),n=r+"_"+a;t=this.safeMarket(n,t,"_");const o=t["symbol"],c=this.safeNumber(e,"quantity"),d=this.safeNumber(e,"executed_quantity"),h=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeNumber(e,"ceiling"),l=this.safeString(e,"id"),f=this.safeNumber(e,"price"),p=this.safeNumber(e,"executed_price"),m=this.safeNumber(e,"remaining"),g=this.safeString(e,"type"),y=this.safeString(e,"trade_type"),v={currency:t["quote"],cost:this.safeNumber(e,"fee"),rate:this.safeNumber(e,"fee_rate")};let b=void 0;s!==i&&(b=s);const w=this.safeNumber(e,"stopPrice");return this.safeOrder({id:l,clientOrderId:l,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:b,status:h,symbol:o,type:g,timeInForce:void 0,postOnly:void 0,side:y,price:f,stopPrice:w,average:p,amount:c,cost:u,filled:d,remaining:m,fee:v,trades:void 0,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e},r=await this.privateGetOrdersOrderId(this.extend(s,i)),a=this.safeValue(r,"data");return this.parseOrder(a)}async fetchOrdersWithMethod(e,t,i,s,r={}){await this.loadMarkets();const a={};let n=void 0;void 0!==t&&(n=this.market(t),a["coin"]=n["baseId"],a["currency"]=n["quoteId"]),void 0!==i&&(a["start_date"]=i),void 0!==s&&(a["limit"]=Math.min(1e3,s));const o=await this[e](this.extend(a,r));let c=this.safeValue(o,"data",{});return c=this.safeValue(c,"data",[]),this.parseOrders(c,n,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("privateGetOrdersOpen",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("privateGetOrders",e,t,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["coin"]=a["baseId"],r["currency"]=a["quoteId"]),void 0!==t&&(r["start_date"]=t),void 0!==i&&(r["limit"]=Math.min(1e3,i));const n=await this.privateGetOrdersTrades(this.extend(r,s));let o=this.safeValue(n,"data",{});return o=this.safeValue(o,"data",[]),this.parseTrades(o,a,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetDepositAddress(this.extend(s,t)),a=this.safeValue(r,"data"),n=this.safeString(a,"status");if("REQUESTED"===n)throw new l(this.id+" is generating "+e+" deposit address, call fetchDepositAddress one more time later to retrieve the generated address");const o=this.safeString(a,"blockchain_address");this.checkAddress(o);const c=this.safeString(a,"blockchain_tag"),d=this.safeString(a,"currency");return{currency:this.safeCurrencyCode(d),address:o,tag:c,info:a}}sign(e,t="public",i="GET",s={},r,a){let n=this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if(Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();"GET"!==i&&(a=this.json(o));const t=i+" "+n,s=this.hmac(this.encode(t),this.encode(this.secret),"sha256");r={Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json",timestamp:e,signature:s}}return n=this.urls["api"][t]+"/"+n,{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"message");if(void 0!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],n,e),new r(e)}}}},7156:function(e,t,i){var s=i("861d"),r=i("d2bb");e.exports=function(e,t,i){var a,n;return r&&"function"==typeof(a=t.constructor)&&a!==i&&s(n=a.prototype)&&n!==i.prototype&&r(e,n),e}},"71d9":function(e,t,i){"use strict";var s=i("3835"),r=i("5530"),a=(i("a9e3"),i("0481"),i("5e23"),i("8dd9")),n=i("adda"),o=i("80d2"),c=i("d9bd");t["a"]=a["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var e=this.computedContentHeight;if(!this.isExtended)return e;var t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return Object(r["a"])(Object(r["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return Object(r["a"])(Object(r["a"])({},this.measurableStyles),{},{height:Object(o["g"])(this.computedHeight)})}},created:function(){var e=this,t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((function(t){var i=Object(s["a"])(t,2),r=i[0],a=i[1];e.$attrs.hasOwnProperty(r)&&Object(c["a"])(r,a,e)}))},methods:{genBackground:function(){var e={height:Object(o["g"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(n["a"],{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(o["g"])(this.computedContentHeight)}},Object(o["r"])(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(o["g"])(this.extensionHeight)}},Object(o["r"])(this,"extension"))}},render:function(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;var t=[this.genContent()],i=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,i,t)}})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7435:function(e,t,i){var s=i("70ea"),r=i("64eb"),a=s((function(e){return r(e.length,(function(t,i){var s=Array.prototype.slice.call(arguments,0);return s[0]=i,s[1]=t,e.apply(this,s)}))}));e.exports=a},"7435e":function(e,t,i){},"746f":function(e,t,i){var s=i("428f"),r=i("5135"),a=i("e538"),n=i("9bf2").f;e.exports=function(e){var t=s.Symbol||(s.Symbol={});r(t,e)||n(t,e,{value:a.f(e)})}},7496:function(e,t,i){"use strict";var s=i("5530"),r=(i("df86"),i("7560")),a=i("58df");t["a"]=Object(a["a"])(r["a"]).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark:function(){return this.$vuetify.theme.dark}},beforeCreate:function(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render:function(e){var t=e("div",{staticClass:"v-application--wrap"},this.$slots.default);return e("div",{staticClass:"v-application",class:Object(s["a"])({"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl},this.themeClasses),attrs:{"data-app":!0},domProps:{id:this.id}},[t])}})},"74b0":function(e,t,i){"use strict";const s=i("7a21");function r(e,t,i={}){for(const[s,a]of Object.entries(t)){const t=Object.assign(i,{[s]:class extends e{constructor(e){super(e),this.constructor=t,this.__proto__=t.prototype,this.name=s,this.message=e,Object.setPrototypeOf(this,t.prototype)}}})[s];r(t,a,i)}return i}e.exports=r(Error,s)},"74d2":function(e,t,i){(function(e){(function(e,t){"use strict";function s(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n=i("b639").Buffer}catch(I){}function o(e,t,i){for(var r=0,a=Math.min(e.length,i),n=0,o=t;o<a;o++){var c,d=e.charCodeAt(o)-48;r<<=4,c=d>=49&&d<=54?d-49+10:d>=17&&d<=22?d-17+10:d,r|=c,n|=c}return s(!(240&n),"Invalid character in "+e),r}function c(e,t,i,r){for(var a=0,n=0,o=Math.min(e.length,i),c=t;c<o;c++){var d=e.charCodeAt(c)-48;a*=r,n=d>=49?d-49+10:d>=17?d-17+10:d,s(d>=0&&n<r,"Invalid character"),a+=n}return a}function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),s(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var r=0;"-"===e[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this._strip(),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(s(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(s("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var a,n,o=0;if("be"===i)for(r=e.length-1,a=0;r>=0;r-=3)n=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,o+=24,o>=26&&(o-=26,a++);else if("le"===i)for(r=0,a=0;r<e.length;r+=3)n=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,o+=24,o>=26&&(o-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,r,a=0;for(i=e.length-6,s=0;i>=t;i-=6)r=o(e,i,i+6),this.words[s]|=r<<a&67108863,this.words[s+1]|=r>>>26-a&4194303,a+=24,a>=26&&(a-=26,s++);i+6!==t&&(r=o(e,t,i+6),this.words[s]|=r<<a&67108863,this.words[s+1]|=r>>>26-a&4194303),this._strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var s=0,r=1;r<=67108863;r*=t)s++;s--,r=r/t|0;for(var a=e.length-i,n=a%s,o=Math.min(a,a-n)+i,d=0,h=i;h<o;h+=s)d=c(e,h,h+s,t),this.imuln(r),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==n){var u=1;for(d=c(e,h,e.length,t),h=0;h<n;h++)u*=t;this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){while(this.length<e)this.words[this.length++]=0;return this},a.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?a.prototype[Symbol.for("nodejs.util.inspect.custom")]=d:a.prototype.inspect=d;var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){var i;if(e=e||10,t=0|t||1,16===e||"hex"===e){i="";for(var r=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<r|a)).toString(16);a=o>>>24-r&16777215,i=0!==a||n!==this.length-1?h[6-c.length]+c+i:c+i,r+=2,r>=26&&(r-=26,n--)}0!==a&&(i=a.toString(16)+i);while(i.length%t!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],f=l[e];i="";var p=this.clone();p.negative=0;while(!p.isZero()){var m=p.modrn(f).toString(e);p=p.idivn(f),i=p.isZero()?m+i:h[d-m.length]+m+i}this.isZero()&&(i="0"+i);while(i.length%t!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},n&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(n,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var f=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};function p(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var s=i/26|0,r=i%26;t[i]=e.words[s]>>>r&1}return t}function m(e,t,i){i.negative=t.negative^e.negative;var s=e.length+t.length|0;i.length=s,s=s-1|0;var r=0|e.words[0],a=0|t.words[0],n=r*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var d=1;d<s;d++){for(var h=c>>>26,u=67108863&c,l=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=l;f++){var p=d-f|0;r=0|e.words[p],a=0|t.words[f],n=r*a+u,h+=n/67108864|0,u=67108863&n}i.words[d]=0|u,c=0|h}return 0!==c?i.words[d]=0|c:i.length--,i._strip()}a.prototype.toArrayLike=function(e,t,i){this._strip();var r=this.byteLength(),a=i||Math.max(1,r);s(r<=a,"byte array longer than desired length"),s(a>0,"Requested array length <= 0");var n=f(e,a),o="le"===t?"LE":"BE";return this["_toArrayLike"+o](n,r),n},a.prototype._toArrayLikeLE=function(e,t){for(var i=0,s=0,r=0,a=0;r<this.length;r++){var n=this.words[r]<<a|s;e[i++]=255&n,i<e.length&&(e[i++]=n>>8&255),i<e.length&&(e[i++]=n>>16&255),6===a?(i<e.length&&(e[i++]=n>>24&255),s=0,a=0):(s=n>>>24,a+=2)}if(i<e.length){e[i++]=s;while(i<e.length)e[i++]=0}},a.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,s=0,r=0,a=0;r<this.length;r++){var n=this.words[r]<<a|s;e[i--]=255&n,i>=0&&(e[i--]=n>>8&255),i>=0&&(e[i--]=n>>16&255),6===a?(i>=0&&(e[i--]=n>>24&255),s=0,a=0):(s=n>>>24,a+=2)}if(i>=0){e[i--]=s;while(i>=0)e[i--]=0}},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){while(this.length<e.length)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return s(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return s(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=t.words[s]^i.words[s];if(this!==t)for(;s<t.length;s++)this.words[s]=t.words[s];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return s(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){s("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){s("number"===typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},a.prototype.iadd=function(e){var t,i,s;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,s=e):(i=e,s=this);for(var r=0,a=0;a<s.length;a++)t=(0|i.words[a])+(0|s.words[a])+r,this.words[a]=67108863&t,r=t>>>26;for(;0!==r&&a<i.length;a++)t=(0|i.words[a])+r,this.words[a]=67108863&t,r=t>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,s,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,s=e):(i=e,s=this);for(var a=0,n=0;n<s.length;n++)t=(0|i.words[n])-(0|s.words[n])+a,a=t>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)t=(0|i.words[n])+a,a=t>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,i){var s,r,a,n=e.words,o=t.words,c=i.words,d=0,h=0|n[0],u=8191&h,l=h>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,v=g>>>13,b=0|n[3],w=8191&b,k=b>>>13,S=0|n[4],_=8191&S,O=S>>>13,T=0|n[5],C=8191&T,x=T>>>13,I=0|n[6],E=8191&I,A=I>>>13,N=0|n[7],M=8191&N,P=N>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,j=0|o[0],G=8191&j,U=j>>>13,F=0|o[1],H=8191&F,z=F>>>13,K=0|o[2],W=8191&K,$=K>>>13,Y=0|o[3],X=8191&Y,Z=Y>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,se=te>>>13,re=0|o[6],ae=8191&re,ne=re>>>13,oe=0|o[7],ce=8191&oe,de=oe>>>13,he=0|o[8],ue=8191&he,le=he>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19,s=Math.imul(u,G),r=Math.imul(u,U),r=r+Math.imul(l,G)|0,a=Math.imul(l,U);var ge=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,s=Math.imul(p,G),r=Math.imul(p,U),r=r+Math.imul(m,G)|0,a=Math.imul(m,U),s=s+Math.imul(u,H)|0,r=r+Math.imul(u,z)|0,r=r+Math.imul(l,H)|0,a=a+Math.imul(l,z)|0;var ye=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,s=Math.imul(y,G),r=Math.imul(y,U),r=r+Math.imul(v,G)|0,a=Math.imul(v,U),s=s+Math.imul(p,H)|0,r=r+Math.imul(p,z)|0,r=r+Math.imul(m,H)|0,a=a+Math.imul(m,z)|0,s=s+Math.imul(u,W)|0,r=r+Math.imul(u,$)|0,r=r+Math.imul(l,W)|0,a=a+Math.imul(l,$)|0;var ve=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,s=Math.imul(w,G),r=Math.imul(w,U),r=r+Math.imul(k,G)|0,a=Math.imul(k,U),s=s+Math.imul(y,H)|0,r=r+Math.imul(y,z)|0,r=r+Math.imul(v,H)|0,a=a+Math.imul(v,z)|0,s=s+Math.imul(p,W)|0,r=r+Math.imul(p,$)|0,r=r+Math.imul(m,W)|0,a=a+Math.imul(m,$)|0,s=s+Math.imul(u,X)|0,r=r+Math.imul(u,Z)|0,r=r+Math.imul(l,X)|0,a=a+Math.imul(l,Z)|0;var be=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(be>>>26)|0,be&=67108863,s=Math.imul(_,G),r=Math.imul(_,U),r=r+Math.imul(O,G)|0,a=Math.imul(O,U),s=s+Math.imul(w,H)|0,r=r+Math.imul(w,z)|0,r=r+Math.imul(k,H)|0,a=a+Math.imul(k,z)|0,s=s+Math.imul(y,W)|0,r=r+Math.imul(y,$)|0,r=r+Math.imul(v,W)|0,a=a+Math.imul(v,$)|0,s=s+Math.imul(p,X)|0,r=r+Math.imul(p,Z)|0,r=r+Math.imul(m,X)|0,a=a+Math.imul(m,Z)|0,s=s+Math.imul(u,J)|0,r=r+Math.imul(u,ee)|0,r=r+Math.imul(l,J)|0,a=a+Math.imul(l,ee)|0;var we=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(we>>>26)|0,we&=67108863,s=Math.imul(C,G),r=Math.imul(C,U),r=r+Math.imul(x,G)|0,a=Math.imul(x,U),s=s+Math.imul(_,H)|0,r=r+Math.imul(_,z)|0,r=r+Math.imul(O,H)|0,a=a+Math.imul(O,z)|0,s=s+Math.imul(w,W)|0,r=r+Math.imul(w,$)|0,r=r+Math.imul(k,W)|0,a=a+Math.imul(k,$)|0,s=s+Math.imul(y,X)|0,r=r+Math.imul(y,Z)|0,r=r+Math.imul(v,X)|0,a=a+Math.imul(v,Z)|0,s=s+Math.imul(p,J)|0,r=r+Math.imul(p,ee)|0,r=r+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0,s=s+Math.imul(u,ie)|0,r=r+Math.imul(u,se)|0,r=r+Math.imul(l,ie)|0,a=a+Math.imul(l,se)|0;var ke=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,s=Math.imul(E,G),r=Math.imul(E,U),r=r+Math.imul(A,G)|0,a=Math.imul(A,U),s=s+Math.imul(C,H)|0,r=r+Math.imul(C,z)|0,r=r+Math.imul(x,H)|0,a=a+Math.imul(x,z)|0,s=s+Math.imul(_,W)|0,r=r+Math.imul(_,$)|0,r=r+Math.imul(O,W)|0,a=a+Math.imul(O,$)|0,s=s+Math.imul(w,X)|0,r=r+Math.imul(w,Z)|0,r=r+Math.imul(k,X)|0,a=a+Math.imul(k,Z)|0,s=s+Math.imul(y,J)|0,r=r+Math.imul(y,ee)|0,r=r+Math.imul(v,J)|0,a=a+Math.imul(v,ee)|0,s=s+Math.imul(p,ie)|0,r=r+Math.imul(p,se)|0,r=r+Math.imul(m,ie)|0,a=a+Math.imul(m,se)|0,s=s+Math.imul(u,ae)|0,r=r+Math.imul(u,ne)|0,r=r+Math.imul(l,ae)|0,a=a+Math.imul(l,ne)|0;var Se=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,s=Math.imul(M,G),r=Math.imul(M,U),r=r+Math.imul(P,G)|0,a=Math.imul(P,U),s=s+Math.imul(E,H)|0,r=r+Math.imul(E,z)|0,r=r+Math.imul(A,H)|0,a=a+Math.imul(A,z)|0,s=s+Math.imul(C,W)|0,r=r+Math.imul(C,$)|0,r=r+Math.imul(x,W)|0,a=a+Math.imul(x,$)|0,s=s+Math.imul(_,X)|0,r=r+Math.imul(_,Z)|0,r=r+Math.imul(O,X)|0,a=a+Math.imul(O,Z)|0,s=s+Math.imul(w,J)|0,r=r+Math.imul(w,ee)|0,r=r+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,s=s+Math.imul(y,ie)|0,r=r+Math.imul(y,se)|0,r=r+Math.imul(v,ie)|0,a=a+Math.imul(v,se)|0,s=s+Math.imul(p,ae)|0,r=r+Math.imul(p,ne)|0,r=r+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0,s=s+Math.imul(u,ce)|0,r=r+Math.imul(u,de)|0,r=r+Math.imul(l,ce)|0,a=a+Math.imul(l,de)|0;var _e=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,s=Math.imul(R,G),r=Math.imul(R,U),r=r+Math.imul(L,G)|0,a=Math.imul(L,U),s=s+Math.imul(M,H)|0,r=r+Math.imul(M,z)|0,r=r+Math.imul(P,H)|0,a=a+Math.imul(P,z)|0,s=s+Math.imul(E,W)|0,r=r+Math.imul(E,$)|0,r=r+Math.imul(A,W)|0,a=a+Math.imul(A,$)|0,s=s+Math.imul(C,X)|0,r=r+Math.imul(C,Z)|0,r=r+Math.imul(x,X)|0,a=a+Math.imul(x,Z)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(_,ee)|0,r=r+Math.imul(O,J)|0,a=a+Math.imul(O,ee)|0,s=s+Math.imul(w,ie)|0,r=r+Math.imul(w,se)|0,r=r+Math.imul(k,ie)|0,a=a+Math.imul(k,se)|0,s=s+Math.imul(y,ae)|0,r=r+Math.imul(y,ne)|0,r=r+Math.imul(v,ae)|0,a=a+Math.imul(v,ne)|0,s=s+Math.imul(p,ce)|0,r=r+Math.imul(p,de)|0,r=r+Math.imul(m,ce)|0,a=a+Math.imul(m,de)|0,s=s+Math.imul(u,ue)|0,r=r+Math.imul(u,le)|0,r=r+Math.imul(l,ue)|0,a=a+Math.imul(l,le)|0;var Oe=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,s=Math.imul(D,G),r=Math.imul(D,U),r=r+Math.imul(q,G)|0,a=Math.imul(q,U),s=s+Math.imul(R,H)|0,r=r+Math.imul(R,z)|0,r=r+Math.imul(L,H)|0,a=a+Math.imul(L,z)|0,s=s+Math.imul(M,W)|0,r=r+Math.imul(M,$)|0,r=r+Math.imul(P,W)|0,a=a+Math.imul(P,$)|0,s=s+Math.imul(E,X)|0,r=r+Math.imul(E,Z)|0,r=r+Math.imul(A,X)|0,a=a+Math.imul(A,Z)|0,s=s+Math.imul(C,J)|0,r=r+Math.imul(C,ee)|0,r=r+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,s=s+Math.imul(_,ie)|0,r=r+Math.imul(_,se)|0,r=r+Math.imul(O,ie)|0,a=a+Math.imul(O,se)|0,s=s+Math.imul(w,ae)|0,r=r+Math.imul(w,ne)|0,r=r+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,s=s+Math.imul(y,ce)|0,r=r+Math.imul(y,de)|0,r=r+Math.imul(v,ce)|0,a=a+Math.imul(v,de)|0,s=s+Math.imul(p,ue)|0,r=r+Math.imul(p,le)|0,r=r+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0,s=s+Math.imul(u,pe)|0,r=r+Math.imul(u,me)|0,r=r+Math.imul(l,pe)|0,a=a+Math.imul(l,me)|0;var Te=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,s=Math.imul(D,H),r=Math.imul(D,z),r=r+Math.imul(q,H)|0,a=Math.imul(q,z),s=s+Math.imul(R,W)|0,r=r+Math.imul(R,$)|0,r=r+Math.imul(L,W)|0,a=a+Math.imul(L,$)|0,s=s+Math.imul(M,X)|0,r=r+Math.imul(M,Z)|0,r=r+Math.imul(P,X)|0,a=a+Math.imul(P,Z)|0,s=s+Math.imul(E,J)|0,r=r+Math.imul(E,ee)|0,r=r+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,s=s+Math.imul(C,ie)|0,r=r+Math.imul(C,se)|0,r=r+Math.imul(x,ie)|0,a=a+Math.imul(x,se)|0,s=s+Math.imul(_,ae)|0,r=r+Math.imul(_,ne)|0,r=r+Math.imul(O,ae)|0,a=a+Math.imul(O,ne)|0,s=s+Math.imul(w,ce)|0,r=r+Math.imul(w,de)|0,r=r+Math.imul(k,ce)|0,a=a+Math.imul(k,de)|0,s=s+Math.imul(y,ue)|0,r=r+Math.imul(y,le)|0,r=r+Math.imul(v,ue)|0,a=a+Math.imul(v,le)|0,s=s+Math.imul(p,pe)|0,r=r+Math.imul(p,me)|0,r=r+Math.imul(m,pe)|0,a=a+Math.imul(m,me)|0;var Ce=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,s=Math.imul(D,W),r=Math.imul(D,$),r=r+Math.imul(q,W)|0,a=Math.imul(q,$),s=s+Math.imul(R,X)|0,r=r+Math.imul(R,Z)|0,r=r+Math.imul(L,X)|0,a=a+Math.imul(L,Z)|0,s=s+Math.imul(M,J)|0,r=r+Math.imul(M,ee)|0,r=r+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,s=s+Math.imul(E,ie)|0,r=r+Math.imul(E,se)|0,r=r+Math.imul(A,ie)|0,a=a+Math.imul(A,se)|0,s=s+Math.imul(C,ae)|0,r=r+Math.imul(C,ne)|0,r=r+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,s=s+Math.imul(_,ce)|0,r=r+Math.imul(_,de)|0,r=r+Math.imul(O,ce)|0,a=a+Math.imul(O,de)|0,s=s+Math.imul(w,ue)|0,r=r+Math.imul(w,le)|0,r=r+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0,s=s+Math.imul(y,pe)|0,r=r+Math.imul(y,me)|0,r=r+Math.imul(v,pe)|0,a=a+Math.imul(v,me)|0;var xe=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,s=Math.imul(D,X),r=Math.imul(D,Z),r=r+Math.imul(q,X)|0,a=Math.imul(q,Z),s=s+Math.imul(R,J)|0,r=r+Math.imul(R,ee)|0,r=r+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,s=s+Math.imul(M,ie)|0,r=r+Math.imul(M,se)|0,r=r+Math.imul(P,ie)|0,a=a+Math.imul(P,se)|0,s=s+Math.imul(E,ae)|0,r=r+Math.imul(E,ne)|0,r=r+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,s=s+Math.imul(C,ce)|0,r=r+Math.imul(C,de)|0,r=r+Math.imul(x,ce)|0,a=a+Math.imul(x,de)|0,s=s+Math.imul(_,ue)|0,r=r+Math.imul(_,le)|0,r=r+Math.imul(O,ue)|0,a=a+Math.imul(O,le)|0,s=s+Math.imul(w,pe)|0,r=r+Math.imul(w,me)|0,r=r+Math.imul(k,pe)|0,a=a+Math.imul(k,me)|0;var Ie=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,s=Math.imul(D,J),r=Math.imul(D,ee),r=r+Math.imul(q,J)|0,a=Math.imul(q,ee),s=s+Math.imul(R,ie)|0,r=r+Math.imul(R,se)|0,r=r+Math.imul(L,ie)|0,a=a+Math.imul(L,se)|0,s=s+Math.imul(M,ae)|0,r=r+Math.imul(M,ne)|0,r=r+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,s=s+Math.imul(E,ce)|0,r=r+Math.imul(E,de)|0,r=r+Math.imul(A,ce)|0,a=a+Math.imul(A,de)|0,s=s+Math.imul(C,ue)|0,r=r+Math.imul(C,le)|0,r=r+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0,s=s+Math.imul(_,pe)|0,r=r+Math.imul(_,me)|0,r=r+Math.imul(O,pe)|0,a=a+Math.imul(O,me)|0;var Ee=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,s=Math.imul(D,ie),r=Math.imul(D,se),r=r+Math.imul(q,ie)|0,a=Math.imul(q,se),s=s+Math.imul(R,ae)|0,r=r+Math.imul(R,ne)|0,r=r+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,s=s+Math.imul(M,ce)|0,r=r+Math.imul(M,de)|0,r=r+Math.imul(P,ce)|0,a=a+Math.imul(P,de)|0,s=s+Math.imul(E,ue)|0,r=r+Math.imul(E,le)|0,r=r+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0,s=s+Math.imul(C,pe)|0,r=r+Math.imul(C,me)|0,r=r+Math.imul(x,pe)|0,a=a+Math.imul(x,me)|0;var Ae=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,s=Math.imul(D,ae),r=Math.imul(D,ne),r=r+Math.imul(q,ae)|0,a=Math.imul(q,ne),s=s+Math.imul(R,ce)|0,r=r+Math.imul(R,de)|0,r=r+Math.imul(L,ce)|0,a=a+Math.imul(L,de)|0,s=s+Math.imul(M,ue)|0,r=r+Math.imul(M,le)|0,r=r+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0,s=s+Math.imul(E,pe)|0,r=r+Math.imul(E,me)|0,r=r+Math.imul(A,pe)|0,a=a+Math.imul(A,me)|0;var Ne=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,s=Math.imul(D,ce),r=Math.imul(D,de),r=r+Math.imul(q,ce)|0,a=Math.imul(q,de),s=s+Math.imul(R,ue)|0,r=r+Math.imul(R,le)|0,r=r+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0,s=s+Math.imul(M,pe)|0,r=r+Math.imul(M,me)|0,r=r+Math.imul(P,pe)|0,a=a+Math.imul(P,me)|0;var Me=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,s=Math.imul(D,ue),r=Math.imul(D,le),r=r+Math.imul(q,ue)|0,a=Math.imul(q,le),s=s+Math.imul(R,pe)|0,r=r+Math.imul(R,me)|0,r=r+Math.imul(L,pe)|0,a=a+Math.imul(L,me)|0;var Pe=(d+s|0)+((8191&r)<<13)|0;d=(a+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,s=Math.imul(D,pe),r=Math.imul(D,me),r=r+Math.imul(q,pe)|0,a=Math.imul(q,me);var Be=(d+s|0)+((8191&r)<<13)|0;return d=(a+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=ve,c[3]=be,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Oe,c[9]=Te,c[10]=Ce,c[11]=xe,c[12]=Ie,c[13]=Ee,c[14]=Ae,c[15]=Ne,c[16]=Me,c[17]=Pe,c[18]=Be,0!==d&&(c[19]=d,i.length++),i};function y(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var s=0,r=0,a=0;a<i.length-1;a++){var n=r;r=0;for(var o=67108863&s,c=Math.min(a,t.length-1),d=Math.max(0,a-e.length+1);d<=c;d++){var h=a-d,u=0|e.words[h],l=0|t.words[d],f=u*l,p=67108863&f;n=n+(f/67108864|0)|0,p=p+o|0,o=67108863&p,n=n+(p>>>26)|0,r+=n>>>26,n&=67108863}i.words[a]=o,s=n,n=r}return 0!==s?i.words[a]=s:i.length--,i._strip()}function v(e,t,i){return y(e,t,i)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),a.prototype.mulTo=function(e,t){var i,s=this.length+e.length;return i=10===this.length&&10===e.length?g(this,e,t):s<63?m(this,e,t):s<1024?y(this,e,t):v(this,e,t),i},b.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,s=0;s<e;s++)t[s]=this.revBin(s,i,e);return t},b.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var s=0,r=0;r<t;r++)s|=(1&e)<<t-r-1,e>>=1;return s},b.prototype.permute=function(e,t,i,s,r,a){for(var n=0;n<a;n++)s[n]=t[e[n]],r[n]=i[e[n]]},b.prototype.transform=function(e,t,i,s,r,a){this.permute(a,e,t,i,s,r);for(var n=1;n<r;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),d=Math.sin(2*Math.PI/o),h=0;h<r;h+=o)for(var u=c,l=d,f=0;f<n;f++){var p=i[h+f],m=s[h+f],g=i[h+f+n],y=s[h+f+n],v=u*g-l*y;y=u*y+l*g,g=v,i[h+f]=p+g,s[h+f]=m+y,i[h+f+n]=p-g,s[h+f+n]=m-y,f!==o&&(v=c*u-d*l,l=c*l+d*u,u=v)}},b.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),s=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+s},b.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var s=0;s<i/2;s++){var r=e[s];e[s]=e[i-s-1],e[i-s-1]=r,r=t[s],t[s]=-t[i-s-1],t[i-s-1]=-r}},b.prototype.normalize13b=function(e,t){for(var i=0,s=0;s<t/2;s++){var r=8192*Math.round(e[2*s+1]/t)+Math.round(e[2*s]/t)+i;e[s]=67108863&r,i=r<67108864?0:r/67108864|0}return e},b.prototype.convert13b=function(e,t,i,r){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<r;++n)i[n]=0;s(0===a),s(0===(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},b.prototype.mulp=function(e,t,i){var s=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(s),a=this.stub(s),n=new Array(s),o=new Array(s),c=new Array(s),d=new Array(s),h=new Array(s),u=new Array(s),l=i.words;l.length=s,this.convert13b(e.words,e.length,n,s),this.convert13b(t.words,t.length,d,s),this.transform(n,a,o,c,s,r),this.transform(d,a,h,u,s,r);for(var f=0;f<s;f++){var p=o[f]*h[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*h[f],o[f]=p}return this.conjugate(o,c,s),this.transform(o,c,l,a,s,r),this.conjugate(l,a,s),this.normalize13b(l,s),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),v(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),s("number"===typeof e),s(e<67108864);for(var i=0,r=0;r<this.length;r++){var a=(0|this.words[r])*e,n=(67108863&a)+(67108863&i);i>>=26,i+=a/67108864|0,i+=n>>>26,this.words[r]=67108863&n}return 0!==i&&(this.words[r]=i,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=p(e);if(0===t.length)return new a(1);for(var i=this,s=0;s<t.length;s++,i=i.sqr())if(0!==t[s])break;if(++s<t.length)for(var r=i.sqr();s<t.length;s++,r=r.sqr())0!==t[s]&&(i=i.mul(r));return i},a.prototype.iushln=function(e){s("number"===typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this._strip()},a.prototype.ishln=function(e){return s(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var r;s("number"===typeof e&&e>=0),r=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(r-=n,r=Math.max(0,r),c){for(var d=0;d<n;d++)c.words[d]=this.words[d];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,d=0;d<this.length;d++)this.words[d]=this.words[d+n];else this.words[0]=0,this.length=1;var h=0;for(d=this.length-1;d>=0&&(0!==h||d>=r);d--){var u=0|this.words[d];this.words[d]=h<<26-a|u>>>a,h=u&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,i){return s(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){s("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return!1;var a=this.words[i];return!!(a&r)},a.prototype.imaskn=function(e){s("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(s(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return s("number"===typeof e),s(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(s("number"===typeof e),s(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var r,a,n=e.length+i;this._expand(n);var o=0;for(r=0;r<e.length;r++){a=(0|this.words[r+i])+o;var c=(0|e.words[r])*t;a-=67108863&c,o=(a>>26)-(c/67108864|0),this.words[r+i]=67108863&a}for(;r<this.length-i;r++)a=(0|this.words[r+i])+o,o=a>>26,this.words[r+i]=67108863&a;if(0===o)return this._strip();for(s(-1===o),o=0,r=0;r<this.length;r++)a=-(0|this.words[r])+o,o=a>>26,this.words[r]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var i=this.length-e.length,s=this.clone(),r=e,n=0|r.words[r.length-1],o=this._countBits(n);i=26-o,0!==i&&(r=r.ushln(i),s.iushln(i),n=0|r.words[r.length-1]);var c,d=s.length-r.length;if("mod"!==t){c=new a(null),c.length=d+1,c.words=new Array(c.length);for(var h=0;h<c.length;h++)c.words[h]=0}var u=s.clone()._ishlnsubmul(r,1,d);0===u.negative&&(s=u,c&&(c.words[d]=1));for(var l=d-1;l>=0;l--){var f=67108864*(0|s.words[r.length+l])+(0|s.words[r.length+l-1]);f=Math.min(f/n|0,67108863),s._ishlnsubmul(r,f,l);while(0!==s.negative)f--,s.negative=0,s._ishlnsubmul(r,1,l),s.isZero()||(s.negative^=1);c&&(c.words[l]=f)}return c&&c._strip(),s._strip(),"div"!==t&&0!==i&&s.iushrn(i),{div:c||null,mod:s}},a.prototype.divmod=function(e,t,i){return s(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(r=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:r,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(r=o.div.neg()),{div:r,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var r,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,s=e.ushrn(1),r=e.andln(1),a=i.cmp(s);return a<0||1===r&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),s(e<=67108863);for(var i=(1<<26)%e,r=0,a=this.length-1;a>=0;a--)r=(i*r+(0|this.words[a]))%e;return t?-r:r},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),s(e<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var a=(0|this.words[r])+67108864*i;this.words[r]=a/e|0,i=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){s(0===e.negative),s(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();var r=new a(1),n=new a(0),o=new a(0),c=new a(1),d=0;while(t.isEven()&&i.isEven())t.iushrn(1),i.iushrn(1),++d;var h=i.clone(),u=t.clone();while(!t.isZero()){for(var l=0,f=1;0===(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0){t.iushrn(l);while(l-- >0)(r.isOdd()||n.isOdd())&&(r.iadd(h),n.isub(u)),r.iushrn(1),n.iushrn(1)}for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(u)),o.iushrn(1),c.iushrn(1)}t.cmp(i)>=0?(t.isub(i),r.isub(o),n.isub(c)):(i.isub(t),o.isub(r),c.isub(n))}return{a:o,b:c,gcd:i.iushln(d)}},a.prototype._invmp=function(e){s(0===e.negative),s(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();var r,n=new a(1),o=new a(0),c=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0){t.iushrn(d);while(d-- >0)n.isOdd()&&n.iadd(c),n.iushrn(1)}for(var u=0,l=1;0===(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0){i.iushrn(u);while(u-- >0)o.isOdd()&&o.iadd(c),o.iushrn(1)}t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return r=0===t.cmpn(1)?n:o,r.cmpn(0)<0&&r.iadd(e),r},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var s=0;t.isEven()&&i.isEven();s++)t.iushrn(1),i.iushrn(1);do{while(t.isEven())t.iushrn(1);while(i.isEven())i.iushrn(1);var r=t.cmp(i);if(r<0){var a=t;t=i,i=a}else if(0===r||0===i.cmpn(1))break;t.isub(i)}while(1);return i.iushln(s)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){s("number"===typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var a=r,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];o+=a,a=o>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),s(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var s=0|this.words[i],r=0|e.words[i];if(s!==r){s<r?t=-1:s>r&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new C(e)},a.prototype.toRed=function(e){return s(!this.red,"Already a number in reduction context"),s(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return s(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return s(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function k(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else s(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},k.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),t=i.bitLength()}while(t>this.n);var s=t<this.n?-1:i.ucmp(this.p);return 0===s?(i.words[0]=0,i.length=1):s>0?i.isub(this.p):i._strip(),i},k.prototype.split=function(e,t){e.iushrn(this.n,0,t)},k.prototype.imulK=function(e){return e.imul(this.k)},r(S,k),S.prototype.split=function(e,t){for(var i=4194303,s=Math.min(e.length,9),r=0;r<s;r++)t.words[r]=e.words[r];if(t.length=s,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,r=10;r<e.length;r++){var n=0|e.words[r];e.words[r-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[r-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var s=0|e.words[i];t+=977*s,e.words[i]=67108863&t,t=64*s+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(_,k),r(O,k),r(T,k),T.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var s=19*(0|e.words[i])+t,r=67108863&s;s>>>=26,e.words[i]=r,t=s}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new _;else if("p192"===e)t=new O;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return w[e]=t,t},C.prototype._verify1=function(e){s(0===e.negative,"red works only with positives"),s(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){s(0===(e.negative|t.negative),"red works only with positives"),s(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(e.umod(this.m)._forceRed(this)._move(e),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},C.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(s(t%2===1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}var r=this.m.subn(1),n=0;while(!r.isZero()&&0===r.andln(1))n++,r.iushrn(1);s(!r.isZero());var o=new a(1).toRed(this),c=o.redNeg(),d=this.m.subn(1).iushrn(1),h=this.m.bitLength();h=new a(2*h*h).toRed(this);while(0!==this.pow(h,d).cmp(c))h.redIAdd(c);var u=this.pow(h,r),l=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),p=n;while(0!==f.cmp(o)){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();s(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=e;for(var r=2;r<s.length;r++)s[r]=this.mul(s[r-1],e);var n=s[0],o=0,c=0,d=t.bitLength()%26;for(0===d&&(d=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],u=d-1;u>=0;u--){var l=h>>u&1;n!==s[0]&&(n=this.sqr(n)),0!==l||0!==o?(o<<=1,o|=l,c++,(c===i||0===r&&0===u)&&(n=this.mul(n,s[o]),c=0,o=0)):c=0}d=26}return n},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new x(e)},r(x,C),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(s).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(s).iushrn(this.shift),n=r;return r.cmp(this.m)>=0?n=r.isub(this.m):r.cmpn(0)<0&&(n=r.iadd(this.m)),n._forceRed(this)},x.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(e,this)}).call(this,i("62e4")(e))},7503:function(e,t,i){"use strict";i.r(t),i.d(t,"parse",(function(){return m})),i.d(t,"stringify",(function(){return g})),i.d(t,"toJSON",(function(){return y})),i.d(t,"fromJSON",(function(){return v}));
/*! (c) 2020 Andrea Giammarchi */
const{parse:s,stringify:r}=JSON,{keys:a}=Object,n=String,o="string",c={},d="object",h=(e,t)=>t,u=e=>e instanceof n?n(e):e,l=(e,t)=>typeof t===o?new n(t):t,f=(e,t,i,s)=>{const r=[];for(let o=a(i),{length:h}=o,u=0;u<h;u++){const a=o[u],h=i[a];if(h instanceof n){const n=e[h];typeof n!==d||t.has(n)?i[a]=s.call(i,a,n):(t.add(n),i[a]=c,r.push({k:a,a:[e,t,n,s]}))}else i[a]!==c&&(i[a]=s.call(i,a,h))}for(let{length:a}=r,n=0;n<a;n++){const{k:e,a:t}=r[n];i[e]=s.call(i,e,f.apply(null,t))}return i},p=(e,t,i)=>{const s=n(t.push(i)-1);return e.set(i,s),s},m=(e,t)=>{const i=s(e,l).map(u),r=i[0],a=t||h,n=typeof r===d&&r?f(i,new Set,r,a):r;return a.call({"":n},"",n)},g=(e,t,i)=>{const s=t&&typeof t===d?(e,i)=>""===e||-1<t.indexOf(e)?i:void 0:t||h,a=new Map,n=[],c=[];let u=+p(a,n,s.call({"":e},"",e)),l=!u;while(u<n.length)l=!0,c[u]=r(n[u++],f,i);return"["+c.join(",")+"]";function f(e,t){if(l)return l=!l,t;const i=s.call(this,e,t);switch(typeof i){case d:if(null===i)return i;case o:return a.get(i)||p(a,n,i)}return i}},y=e=>s(g(e)),v=e=>m(r(e))},7560:function(e,t,i){"use strict";i.d(t,"b",(function(){return n}));var s=i("5530"),r=i("2b0e"),a=r["a"].extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(e,t){e!==t&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});function n(e){var t=Object(s["a"])(Object(s["a"])({},e.props),e.injections),i=a.options.computed.isDark.call(t);return a.options.computed.themeClasses.call({isDark:i})}t["a"]=a},7581:function(e,t,i){"use strict";const s=i("90db"),{BadSymbol:r,BadRequest:a,ExchangeError:n,ArgumentsRequired:o,OrderNotFound:c,OnMaintenance:d}=i("74b0"),h=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinone",name:"CoinOne",countries:["KR"],rateLimit:667,version:"v2",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchClosedOrders:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},precision:{price:4,amount:4,cost:8},exceptions:{405:d,104:c,108:r,107:a},commonCurrencies:{SOC:"Soda Coin"}})}async fetchMarkets(e={}){const t={currency:"all"},i=await this.publicGetTicker(t),s=[],r="krw",a=this.safeCurrencyCode(r),n=Object.keys(i);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeValue(i,e,{}),c=this.safeValue(t,"currency");if(void 0===c)continue;const d=this.safeCurrencyCode(e);s.push({info:t,id:e,symbol:d+"/"+a,base:d,quote:a,baseId:e,quoteId:r,active:!0})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostAccountBalance(e),i={info:t},s=this.omit(t,["errorCode","result","normalWallets"]),r=Object.keys(s);for(let a=0;a<r.length;a++){const e=r[a],t=s[e],n=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(t,"avail"),o["total"]=this.safeString(t,"balance"),i[n]=o}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={currency:s["id"],format:"json"},a=await this.publicGetOrderbook(this.extend(r,i)),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n,"bid","ask","price","qty")}async fetchTickers(e,t={}){await this.loadMarkets();const i={currency:"all",format:"json"},s=await this.publicGetTicker(this.extend(i,t)),r={},a=Object.keys(s),n=this.safeTimestamp(s,"timestamp");for(let o=0;o<a.length;o++){const e=a[o];let t=e,i=void 0;if(e in this.markets_by_id){i=this.markets_by_id[e],t=i["symbol"];const a=s[e];r[t]=this.parseTicker(a,i),r[t]["timestamp"]=n}}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={currency:i["id"],format:"json"},r=await this.publicGetTicker(this.extend(s,t));return this.parseTicker(r,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),s=this.safeNumber(e,"first"),r=this.safeNumber(e,"last");let a=void 0;void 0!==s&&void 0!==r&&(a=this.sum(s,r)/2);const n=this.safeNumber(e,"yesterday_last");let o=void 0,c=void 0;void 0!==r&&void 0!==n&&(o=r-n,0!==n&&(c=o/n*100));const d=void 0!==t?t["symbol"]:void 0;return{symbol:d,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:s,close:r,last:r,previousClose:n,change:o,percentage:c,average:a,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp"),s=void 0!==t?t["symbol"]:void 0,r=this.safeString(e,"is_ask");let a=this.safeString(e,"type");void 0!==r?"1"===r?a="sell":"0"===r&&(a="buy"):"ask"===a?a="sell":"bid"===a&&(a="buy");const n=this.safeString(e,"price"),o=this.safeString(e,"qty"),c=this.parseNumber(n),d=this.parseNumber(o),u=this.parseNumber(h.stringMul(n,o)),l=this.safeString(e,"orderId");let f=this.safeNumber(e,"fee"),p=void 0;if(void 0!==f){f=Math.abs(f);let i=this.safeNumber(e,"feeRate");i=Math.abs(i);let s=void 0;void 0!==t&&(s="sell"===a?t["quote"]:t["base"]),p={cost:f,currency:s,rate:i}}return{id:this.safeString(e,"id"),info:e,timestamp:i,datetime:this.iso8601(i),order:l,symbol:s,type:void 0,side:a,takerOrMaker:void 0,price:c,amount:d,cost:u,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currency:r["id"],format:"json"},n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"completeOrders",[]);return this.parseTrades(o,r,t,i)}async createOrder(e,t,i,s,r,a={}){if("limit"!==t)throw new n(this.id+" allows limit orders only");await this.loadMarkets();const o={price:r,currency:this.marketId(e),qty:s},c="privatePostOrder"+this.capitalize(t)+this.capitalize(i),d=await this[c](this.extend(o,a));return this.parseOrder(d)}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={order_id:e,currency:s["id"]},a=await this.privatePostOrderOrderInfo(this.extend(r,i)),n=this.safeValue(a,"info",{});return n["status"]=this.safeString(n,"status"),this.parseOrder(n,s)}parseOrderStatus(e){const t={live:"open",partially_filled:"open",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),s=this.safeNumber(e,"price"),r=this.safeTimestamp(e,"timestamp");let a=this.safeString(e,"type");"ask"===a?a="sell":"bid"===a&&(a="buy");const n=this.safeNumber(e,"remainQty"),o=this.safeNumber(e,"qty");let c=this.safeString(e,"status");"live"===c&&void 0!==n&&void 0!==o&&n<o&&(c="canceled"),c=this.parseOrderStatus(c);let d=void 0,h=void 0,u=void 0;const l=this.safeStringLower(e,"currency");void 0!==l&&(l in this.markets_by_id?t=this.markets_by_id[l]:(h=this.safeCurrencyCode(l),u="KRW",d=h+"/"+u)),void 0===d&&void 0!==t&&(d=t["symbol"],h=t["base"],u=t["quote"]);let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t="sell"===a?u:h;f={cost:p,rate:this.safeNumber(e,"feeRate"),currency:t}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:d,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:s,stopPrice:void 0,cost:void 0,average:void 0,amount:o,filled:void 0,remaining:n,status:c,fee:f,trades:void 0})}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new n(this.id+" allows fetching closed orders with a specific symbol");await this.loadMarkets();const r=this.market(e),a={currency:r["id"]},o=await this.privatePostOrderLimitOrders(this.extend(a,s)),c=this.safeValue(o,"limitOrders",[]);return this.parseOrders(c,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={currency:r["id"]},n=await this.privatePostOrderCompleteOrders(this.extend(a,s)),c=this.safeValue(n,"completeOrders",[]);return this.parseTrades(c,r,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");const s=this.safeNumber(i,"price"),r=this.safeNumber(i,"qty"),a=this.safeInteger(i,"is_ask");if(void 0===s||void 0===r||void 0===a)throw new o(this.id+" cancelOrder() requires {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument.");await this.loadMarkets();const n={order_id:e,price:s,qty:r,is_ask:a,currency:this.marketId(t)},c=await this.privatePostOrderCancel(this.extend(n,i));return c}sign(e,t="public",i="GET",s={},r,a){const n=this.implodeParams(e,s),o=this.omit(s,this.extractParams(e));let c=this.urls["api"]+"/";if("public"===t)c+=n,Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),c+=this.version+"/"+n;const e=this.nonce().toString(),t=this.json(this.extend({access_token:this.apiKey,nonce:e},s)),i=this.stringToBase64(t);a=this.decode(i);const o=this.secret.toUpperCase(),d=this.hmac(i,this.encode(o),"sha512");r={"Content-Type":"application/json","X-COINONE-PAYLOAD":i,"X-COINONE-SIGNATURE":d}}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(void 0!==o){if(!("result"in o))throw new n(this.id+" "+a);{const e=o["result"];if("success"!==e){const e=this.safeString(o,"errorCode"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new n(t)}}}}}},"75b3":function(e,t,i){(function(t){
/*!
 * RSA library for Node.js
 *
 * Author: rzcoder
 * License MIT
 */
var s=i("8996"),r=i("4ab0")._,a=i("4203"),n=i("38e4");e.exports=function(){var e={browser:["md5","ripemd160","sha1","sha256","sha512"]},i="pkcs1",o="pkcs1",c={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};function d(e,a,n){if(!(this instanceof d))return new d(e,a,n);r.isObject(a)&&(n=a,a=void 0),this.$options={signingScheme:o,signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:i,encryptionSchemeOptions:{hash:"sha1",label:null},environment:"browser",rsaUtils:this},this.keyPair=new s.Key,this.$cache={},t.isBuffer(e)||r.isString(e)?this.importKey(e,a):r.isObject(e)&&this.generateKeyPair(e.b,e.e),this.setOptions(n)}return d.prototype.setOptions=function(t){if(t=t||{},t.environment&&(this.$options.environment=t.environment),t.signingScheme){if(r.isString(t.signingScheme)){var s=t.signingScheme.toLowerCase().split("-");1==s.length?e.node.indexOf(s[0])>-1?(this.$options.signingSchemeOptions={hash:s[0]},this.$options.signingScheme=o):(this.$options.signingScheme=s[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:s[1]},this.$options.signingScheme=s[0])}else r.isObject(t.signingScheme)&&(this.$options.signingScheme=t.signingScheme.scheme||o,this.$options.signingSchemeOptions=r.omit(t.signingScheme,"scheme"));if(!a.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(t.encryptionScheme){if(r.isString(t.encryptionScheme)?(this.$options.encryptionScheme=t.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):r.isObject(t.encryptionScheme)&&(this.$options.encryptionScheme=t.encryptionScheme.scheme||i,this.$options.encryptionSchemeOptions=r.omit(t.encryptionScheme,"scheme")),!a.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},d.prototype.importKey=function(e,t){if(!e)throw Error("Empty key given");if(t&&(t=c[t]||t),!n.detectAndImport(this.keyPair,e,t)&&void 0===t)throw Error("Key format must be specified");return this.$cache={},this},d.prototype.isPrivate=function(){return this.keyPair.isPrivate()},d.prototype.isPublic=function(e){return this.keyPair.isPublic(e)},d.prototype.isEmpty=function(e){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},d.prototype.sign=function(e,t,i){if(!this.isPrivate())throw Error("This is not private key");var s=this.keyPair.sign(this.$getDataForEncrypt(e,i));return t&&"buffer"!=t&&(s=s.toString(t)),s},d.prototype.$getDataForEncrypt=function(e,i){if(r.isString(e)||r.isNumber(e))return t.from(""+e,i||"utf8");if(t.isBuffer(e))return e;if(r.isObject(e))return t.from(JSON.stringify(e));throw Error("Unexpected data type")},d}()}).call(this,i("b639").Buffer)},"75eb":function(e,t,i){"use strict";var s=i("ade3"),r=i("53ca"),a=(i("159b"),i("9d65")),n=i("80d2"),o=i("58df"),c=i("d9bd");function d(e){var t=Object(r["a"])(e);return"boolean"===t||"string"===t||e.nodeType===Node.ELEMENT_NODE}t["a"]=Object(o["a"])(a["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:d},contentClass:{type:String,default:""}},data:function(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:function(){this.$nextTick(this.initDetach)}},beforeMount:function(){var e=this;this.$nextTick((function(){if(e.activatorNode){var t=Array.isArray(e.activatorNode)?e.activatorNode:[e.activatorNode];t.forEach((function(t){if(t.elm&&e.$el.parentNode){var i=e.$el===e.$el.parentNode.firstChild?e.$el:e.$el.nextSibling;e.$el.parentNode.insertBefore(t.elm,i)}}))}}))},mounted:function(){this.hasContent&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){var e=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];e.forEach((function(e){e.elm&&e.elm.parentNode&&e.elm.parentNode.removeChild(e.elm)}))}}catch(t){console.log(t)}},methods:{getScopeIdAttrs:function(){var e=Object(n["o"])(this.$vnode,"context.$options._scopeId");return e&&Object(s["a"])({},e,"")},initDetach:function(){var e;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||(e=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,e?(e.appendChild(this.$refs.content),this.hasDetached=!0):Object(c["c"])("Unable to locate target ".concat(this.attach||"[data-app]"),this))}}})},"75f1":function(e,t){e.exports=Number.isInteger||function(e){return e<<0===e}},7612:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i("6497"),a=s(i("6f8f")),n=i("abf9"),o=i("fe34");t.base64Decode=function(e){return o.stringToBytes(r.decode64(e),"raw")},t.base64Encode=function(e){return r.encode64(o.bytesToString(n._fromIn(e),"raw"))},t.base58Decode=function(e){return a.default.decode(e)},t.base58Encode=function(e){return a.default.encode(n._fromIn(e))},t.base16Decode=function(e){return o.stringToBytes(r.hexToBytes(e),"raw")},t.base16Encode=function(e){return r.bytesToHex(o.bytesToString(n._fromIn(e),"raw"))}},7727:function(e,t,i){"use strict";const s=i("4a34");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"binanceusdm",name:"Binance USD-M",urls:{logo:"https://user-images.githubusercontent.com/1294454/117738721-668c8d80-b205-11eb-8c49-3fad84c4a07f.jpg",doc:["https://binance-docs.github.io/apidocs/futures/en/","https://binance-docs.github.io/apidocs/spot/en"]},has:{fetchPositions:!0,fetchIsolatedPositions:!0,fetchFundingRate:!0,fetchFundingHistory:!0,setLeverage:!0,setMarginMode:!0},options:{defaultType:"future",leverageBrackets:void 0,marginTypes:{}}})}async transferIn(e,t,i={}){return await this.futuresTransfer(e,t,1,i)}async transferOut(e,t,i={}){return await this.futuresTransfer(e,t,2,i)}}},7736:function(e,t,i){"use strict";var s=i("74d2"),r=i("fee7"),a=r.utils,n=a.assert;function o(e,t){if(e instanceof o)return e;n(e.r&&e.s,"Signature without r or s"),this.r=new s(e.r,16),this.s=new s(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam}e.exports=o},"780f":function(e,t,i){"use strict";e.exports=a;var s=i("27bf"),r=Object.create(i("3a7c"));function a(e){if(!(this instanceof a))return new a(e);s.call(this,e)}r.inherits=i("3fb5"),r.inherits(a,s),a.prototype._transform=function(e,t,i){i(null,e)}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a21":function(e,t,i){"use strict";const s={BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},ArgumentsRequired:{},BadRequest:{BadSymbol:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{},OrderImmediatelyFillable:{},OrderNotFillable:{},DuplicateOrderId:{}},NotSupported:{}},NetworkError:{DDoSProtection:{RateLimitExceeded:{}},ExchangeNotAvailable:{OnMaintenance:{}},InvalidNonce:{},RequestTimeout:{}}}};e.exports=s},"7a77":function(e,t,i){"use strict";function s(e){this.message=e}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,e.exports=s},"7aac":function(e,t,i){"use strict";var s=i("c532");e.exports=s.isStandardBrowserEnv()?function(){return{write:function(e,t,i,r,a,n){var o=[];o.push(e+"="+encodeURIComponent(t)),s.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),s.isString(r)&&o.push("path="+r),s.isString(a)&&o.push("domain="+a),!0===n&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7ab5":function(e){e.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')},"7b0b":function(e,t,i){var s=i("1d80");e.exports=function(e){return Object(s(e))}},"7bc6":function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return o}));i("5530"),i("3835"),i("ac1f"),i("466d"),i("a15b"),i("d81d"),i("1276"),i("b0c0"),i("5319"),i("498a"),i("d3b7"),i("25f0"),i("38cf"),i("99af"),i("fb6a"),i("2ca0"),i("07ac");var s=i("d9bd");i("80d2"),i("8da5");function r(e){return!!e&&!!e.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function a(e){var t;if("number"===typeof e)t=e;else{if("string"!==typeof e)throw new TypeError("Colors can only be numbers or strings, recieved ".concat(null==e?e:e.constructor.name," instead"));var i="#"===e[0]?e.substring(1):e;3===i.length&&(i=i.split("").map((function(e){return e+e})).join("")),6!==i.length&&Object(s["c"])("'".concat(e,"' is not a valid rgb color")),t=parseInt(i,16)}return t<0?(Object(s["c"])("Colors cannot be negative: '".concat(e,"'")),t=0):(t>16777215||isNaN(t))&&(Object(s["c"])("'".concat(e,"' is not a valid rgb color")),t=16777215),t}function n(e){var t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function o(e){return n(a(e))}},"7be7":function(e,t,i){"use strict";(function(e){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=s(i("3609")),a=i("e6f8"),n=i("fe34"),o=function(e){return n.stringToBytes(r.default.getBytesSync(e),"raw")},c=function(){try{new e(1)}catch(t){throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}};t.random=function(i,s){switch(s){case"Array8":return Array.from(o(i));case"Array16":return Array.from(t.random(i,"Uint16Array"));case"Array32":return Array.from(t.random(i,"Uint32Array"));case"Buffer":return c(),e.from(o(i));case"Uint8Array":return o(i);case"Uint16Array":return new Uint16Array(i).map((function(e){return o(2).reduce((function(e,t,i){return e|t<<8*(1-i)}),0)}));case"Uint32Array":return new Uint32Array(i).map((function(e){return o(4).reduce((function(e,t,i){return e|t<<8*(1-i)}),0)}));default:throw new Error(s+" is unsupported.")}},t.randomBytes=function(e){return t.random(e,"Uint8Array")},t.randomSeed=function(e){return void 0===e&&(e=15),t.random(e,"Array32").map((function(e){return a.seedWordsList[e%a.seedWordsList.length]})).join(" ")}}).call(this,i("b639").Buffer)},"7c73":function(e,t,i){var s,r=i("825a"),a=i("37e8"),n=i("7839"),o=i("d012"),c=i("1be4"),d=i("cc12"),h=i("f772"),u=">",l="<",f="prototype",p="script",m=h("IE_PROTO"),g=function(){},y=function(e){return l+p+u+e+l+"/"+p+u},v=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=d("iframe"),i="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(i),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},w=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=s?v(s):b();var e=n.length;while(e--)delete w[f][n[e]];return w()};o[m]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(g[f]=r(e),i=new g,g[f]=null,i[m]=e):i=w(),void 0===t?i:a(i,t)}},"7ce0":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ExchangeNotAvailable:a,OnMaintenance:n,ArgumentsRequired:o,BadRequest:c,AccountSuspended:d,InvalidAddress:h,PermissionDenied:u,InsufficientFunds:l,InvalidNonce:f,InvalidOrder:p,OrderNotFound:m,AuthenticationError:g,RequestTimeout:y,BadSymbol:v,RateLimitExceeded:b,NetworkError:w}=i("74b0"),{TICK_SIZE:k,TRUNCATE:S}=i("5ea4"),_=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"okex5",name:"OKEX",countries:["CN","US"],version:"v5",rateLimit:1e3,has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchPosition:!0,fetchPositions:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1H","2h":"2H","4h":"4H","6h":"6H","12h":"12H","1d":"1D","1w":"1W","1M":"1M","3M":"3M","6M":"6M","1y":"1Y"},hostname:"www.okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com/join/1888677",test:{rest:"https://testnet.okex.com"}},api:{public:{get:["market/tickers","market/ticker","market/index-tickers","market/books","market/candles","market/history-candles","market/index-candles","market/mark-price-candles","market/trades","market/platform-24-volume","market/oracle","public/instruments","public/delivery-exercise-history","public/open-interest","public/funding-rate","public/funding-rate-history","public/price-limit","public/opt-summary","public/estimated-price","public/discount-rate-interest-free-quota","public/time","public/liquidation-orders","public/mark-price","public/tier","system/status"]},private:{get:["account/account-position-risk","account/balance","account/positions","account/bills","account/bills-archive","account/config","account/max-size","account/max-avail-size","account/leverage-info","account/max-loan","account/trade-fee","account/interest-accrued","account/interest-rate","account/max-withdrawal","asset/deposit-address","asset/balances","asset/deposit-history","asset/withdrawal-history","asset/currencies","asset/bills","trade/order","trade/orders-pending","trade/orders-history","trade/orders-history-archive","trade/fills","trade/orders-algo-pending","trade/orders-algo-history","account/subaccount/balances","asset/subaccount/bills","users/subaccount/list"],post:["account/set-position-mode","account/set-leverage","account/position/margin-balance","account/set-greeks","asset/transfer","asset/withdrawal","asset/purchase_redempt","trade/order","trade/batch-orders","trade/cancel-order","trade/cancel-batch-orders","trade/amend-order","trade/amend-batch-orders","trade/close-position","trade/order-algo","trade/cancel-algos","users/subaccount/delete-apikey","users/subaccount/modify-apikey","users/subaccount/apikey","asset/subaccount/transfer"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:5e-4,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:r,2:r,5e4:c,50001:n,50002:c,50004:y,50005:a,50006:c,50007:d,50008:g,50009:d,50010:r,50011:b,50012:r,50013:a,50014:r,50015:r,50016:r,50017:r,50018:r,50019:r,50020:r,50021:r,50022:r,50023:r,50024:r,50025:r,50026:r,50027:r,50028:r,50100:r,50101:r,50102:f,50103:g,50104:g,50105:g,50106:g,50107:g,50108:r,50109:r,50110:u,50111:g,50112:g,50113:g,50114:g,50115:c,51e3:c,51001:v,51002:v,51003:c,51004:p,51005:p,51006:p,51007:p,51008:l,51009:d,51010:l,51011:p,51012:r,51014:r,51015:v,51016:p,51017:r,51018:r,51019:r,51020:p,51021:v,51022:v,51023:r,51024:d,51025:r,51026:v,51027:v,51028:v,51029:v,51030:v,51031:p,51100:p,51101:p,51102:p,51103:p,51104:p,51105:p,51106:p,51107:p,51108:p,51109:p,51110:p,51111:c,51112:p,51113:b,51115:p,51116:p,51117:p,51118:p,51119:l,51120:p,51121:p,51122:p,51124:p,51125:p,51126:p,51127:l,51128:p,51129:p,51130:v,51131:l,51132:p,51133:p,51134:p,51135:p,51136:p,51137:p,51138:p,51139:p,51201:p,51202:p,51203:p,51204:p,51205:p,51250:p,51251:p,51252:p,51253:p,51254:p,51255:p,51256:p,51257:p,51258:p,51259:p,51260:p,51261:p,51262:p,51263:p,51264:p,51265:p,51267:p,51268:p,51269:p,51270:p,51271:p,51272:p,51273:p,51274:p,51275:p,51276:p,51277:p,51278:p,51279:p,51280:p,51400:m,51401:m,51402:m,51403:p,51404:p,51405:r,51406:r,51407:c,51408:r,51409:r,51410:r,51500:r,51501:r,51502:l,51503:r,51506:r,51508:r,51509:r,51510:r,51511:r,51600:r,51601:r,51602:r,51603:m,52e3:r,54e3:r,54001:r,58e3:r,58001:g,58002:u,58003:r,58004:d,58005:r,58006:r,58007:r,58100:r,58101:d,58102:b,58103:r,58104:r,58105:r,58106:r,58107:r,58108:r,58109:r,58110:r,58111:r,58112:r,58114:r,58115:r,58116:r,58117:r,58200:r,58201:r,58202:r,58203:h,58204:d,58205:r,58206:r,58207:h,58208:r,58209:r,58210:r,58211:r,58212:r,58213:g,58300:r,58350:l,59e3:r,59001:r,59100:r,59101:r,59102:r,59103:l,59104:r,59105:r,59106:r,59107:r,59108:l,59109:r,59200:l,59201:l,59300:r,59301:r,59401:r,59500:r,59501:r,59502:r,59503:r,59504:r,59505:r,59506:r,59507:r,59508:d,60001:g,60002:g,60003:g,60004:g,60005:g,60006:f,60007:g,60008:g,60009:g,60010:g,60011:g,60012:c,60013:c,60014:b,60015:w,60016:a,60017:c,60018:c,60019:c,63999:r},broad:{}},precisionMode:k,options:{fetchOHLCV:{type:"Candles"},createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","{instrument_id}/constituents":"public"}},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchStatus(e={}){const t=await this.publicGetSystemStatus(e),i=this.safeValue(t,"data",[]),s=this.milliseconds(),r={info:t,updated:s,status:"ok",eta:void 0};for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString(e,"state");"ongoing"===t&&(r["eta"]=this.safeInteger(e,"end"),r["status"]="maintenance")}return this.status=this.extend(this.status,r),this.status}async fetchTime(e={}){const t=await this.publicGetPublicTime(e),i=this.safeValue(t,"data",[]),s=this.safeValue(i,0,{});return this.safeInteger(s,"ts")}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let s=0;s<t.length;s++){const r=await this.fetchMarketsByType(t[s],e);i=this.arrayConcat(i,r)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instId"),i=this.safeStringLower(e,"instType"),s="spot"===i,r="futures"===i,a="swap"===i,n="option"===i;let o=this.safeString(e,"baseCcy"),c=this.safeString(e,"quoteCcy");const d=this.safeString(e,"uly");if(void 0!==d&&!s){const e=d.split("-");o=this.safeString(e,0),c=this.safeString(e,1)}const h=this.safeCurrencyCode(o),u=this.safeCurrencyCode(c),l=s?h+"/"+u:t,f=this.safeString(e,"tickSz"),p={amount:this.safeNumber(e,"lotSz"),price:this.parseNumber(f)},m=this.safeString(e,"minSz"),g=this.parseNumber(m);let y=void 0;void 0!==g&&void 0!==f&&(y=this.parseNumber(_.stringMul(f,m)));const v=!0,b=this.safeValue2(this.fees,i,"trading",{});return this.extend(b,{id:t,symbol:l,base:h,quote:u,baseId:o,quoteId:c,info:e,type:i,spot:s,futures:r,swap:a,option:n,active:v,precision:p,limits:{amount:{min:g,max:void 0},price:{min:p["price"],max:void 0},cost:{min:y,max:void 0}}})}async fetchMarketsByType(e,t={}){const i=e.toUpperCase(),s={instType:i};if("OPTION"===i){const e=this.safeValue(this.options,"defaultUnderlying","BTC-USD"),i=this.safeString2(t,"uly","marketId",e);if(void 0===i)throw new o(this.id+" fetchMarketsByType requires an underlying uly or marketId parameter for options markets");s["uly"]=i}const r=await this.publicGetPublicInstruments(this.extend(s,t)),a=this.safeValue(r,"data",[]);return this.parseMarkets(a)}async fetchCurrencies(e={}){const t=await this.privateGetAssetCurrencies(e),i=this.safeValue(t,"data",[]),s={},r=this.groupBy(i,"ccy"),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=r[e],i=this.safeValue(t,0),o=this.safeString(i,"ccy"),c=this.safeCurrencyCode(o),d=1e-8;let h=this.safeString(i,"name");void 0!==h&&h.length<1&&(h=void 0);const u=this.safeValue(i,"canDep"),l=this.safeValue(i,"canWd"),f=this.safeValue(i,"canInternal"),p=!!(u&&l&&f);s[c]={id:o,code:c,info:t,type:void 0,name:h,active:p,fee:this.safeNumber(i,"minFee"),precision:d,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(i,"ccy"),max:void 0}}}}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={instId:s["id"]};t=void 0===t?20:t,void 0!==t&&(r["sz"]=t);const a=await this.publicGetMarketBooks(this.extend(r,i)),n=this.safeValue(a,"data",[]),o=this.safeValue(n,0,{}),c=this.safeInteger(o,"ts");return this.parseOrderBook(o,e,c)}parseTicker(e,t){const i=this.safeInteger(e,"ts"),s=this.safeString(e,"instId");t=this.safeMarket(s,t,"-");const r=t["symbol"],a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open24h"),o=this.safeNumber(e,"volCcy24h"),c=this.safeNumber(e,"vol24h"),d=this.vwap(c,o);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low24h"),bid:this.safeNumber(e,"bidPx"),bidVolume:this.safeNumber(e,"bidSz"),ask:this.safeNumber(e,"askPx"),askVolume:this.safeNumber(e,"askSz"),vwap:d,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={instId:i["id"]},r=await this.publicGetMarketTicker(this.extend(s,t)),a=this.safeValue(r,"data",[]),n=this.safeValue(a,0,{});return this.parseTicker(n,i)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const s=e.toUpperCase(),r={instType:e.toUpperCase()};if("OPTION"===s){const e=this.safeValue(this.options,"defaultUnderlying","BTC-USD"),t=this.safeString2(i,"uly","marketId",e);if(void 0===t)throw new o(this.id+" fetchTickersByType requires an underlying uly or marketId parameter for options markets");r["uly"]=t}const a=await this.publicGetMarketTickers(this.extend(r,i)),n=this.safeValue(a,"data",[]);return this.parseTickers(n,t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),s=this.safeString(t,"type",i);return await this.fetchTickersByType(s,e,this.omit(t,"type"))}parseTrade(e,t){const i=this.safeString(e,"tradeId"),s=this.safeString(e,"instId");t=this.safeMarket(s,t,"-");const r=t["symbol"],a=this.safeInteger(e,"ts"),n=this.safeString2(e,"fillPx","px"),o=this.safeString2(e,"fillSz","sz"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(_.stringMul(n,o)),u=this.safeString(e,"side"),l=this.safeString(e,"ordId"),f=this.safeString(e,"fee");let p=void 0;if(void 0!==f){const t=_.stringNeg(f),i=this.safeString(e,"feeCcy"),s=this.safeCurrencyCode(i);p={cost:this.parseNumber(t),currency:s}}let m=this.safeString(e,"execType");return"T"===m?m="taker":"M"===m&&(m="maker"),{info:e,timestamp:a,datetime:this.iso8601(a),symbol:r,id:i,order:l,type:void 0,takerOrMaker:m,side:u,price:c,amount:d,cost:h,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={instId:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetMarketTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={instId:a["id"],bar:this.timeframes[t]};void 0!==s&&(n["limit"]=s);const o=this.safeValue(this.options,"fetchOHLCV",{}),c=this.safeString(o,"type","Candles"),d=this.safeString(r,"type",c);r=this.omit(r,"type");const h="publicGetMarket"+d;void 0!==i&&(n["before"]=i);const u=await this[h](this.extend(n,r)),l=this.safeValue(u,"data",[]);return this.parseOHLCVs(l,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t={},i=await this.privateGetAccountBalance(this.extend(t,e)),s={info:i},r=this.safeValue(i,"data",[]),a=this.safeValue(r,0,{}),n=this.safeInteger(a,"uTime"),o=this.safeValue(a,"details",[]);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeString(e,"ccy"),i=this.safeCurrencyCode(t),r=this.account(),a=this.safeString(e,"eq"),n=this.safeString(e,"availEq");a.length<1||n.length<1?(r["free"]=this.safeString(e,"availBal"),r["used"]=this.safeString(e,"frozenBal")):(r["total"]=a,r["free"]=n),s[i]=r}return s["timestamp"]=n,s["datetime"]=this.iso8601(n),this.parseBalance(s,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={instId:n["id"],tdMode:"cash",side:i,ordType:t},c=this.safeString2(a,"clOrdId","clientOrderId");if(void 0!==c&&(o["clOrdId"]=c,a=this.omit(a,["clOrdId","clientOrderId"])),"market"===t)if("buy"===i){let e=this.safeNumber(a,"sz");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==r)void 0===e&&(e=s*r);else if(void 0===e)throw new p(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'sz' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?s:e;const i=n["precision"]["price"];o["sz"]=this.decimalToPrecision(e,S,i,this.precisionMode)}else o["sz"]=this.amountToPrecision(e,s);else o["px"]=this.priceToPrecision(e,r),o["sz"]=this.amountToPrecision(e,s);const d=await this.privatePostTradeOrder(this.extend(o,a)),h=this.safeValue(d,"data",[]),u=this.safeValue(h,0),l=this.parseOrder(u,n);return this.extend(l,{type:t,side:i})}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={instId:s["id"]},a=this.safeString2(i,"clOrdId","clientOrderId");void 0!==a?r["clOrdId"]=a:r["ordId"]=e;const n=this.omit(i,["clOrdId","clientOrderId"]),c=await this.privatePostTradeCancelOrder(this.extend(r,n)),d=this.safeValue(c,"data",[]),h=this.safeValue(d,0);return this.parseOrder(h,s)}parseOrderStatus(e){const t={canceled:"canceled",live:"open",partially_filled:"open",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"ordId"),s=this.safeInteger(e,"cTime"),r=this.safeInteger(e,"fillTime"),a=this.safeString(e,"side");let n=this.safeString(e,"ordType"),o=void 0,c=void 0;"post_only"===n?(o=!0,n="limit"):"fok"===n?(c="FOK",n="limit"):"ioc"===n&&(c="IOC",n="limit");const d=this.safeString(e,"instId"),h=this.safeSymbol(d,t,"-"),u=this.safeNumber(e,"sz"),l=this.safeNumber(e,"accFillSz"),f=this.safeNumber2(e,"px","slOrdPx"),p=this.safeNumber(e,"avgPx"),m=this.parseOrderStatus(this.safeString(e,"state")),g=this.safeString(e,"fee");let y=void 0;if(void 0!==g){const t=_.stringNeg(g),i=this.safeString(e,"feeCcy"),s=this.safeCurrencyCode(i);y={cost:this.parseNumber(t),currency:s}}let v=this.safeString(e,"clOrdId");void 0!==v&&v.length<1&&(v=void 0);const b=this.safeNumber(e,"slTriggerPx");return this.safeOrder({info:e,id:i,clientOrderId:v,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:this.iso8601(r),symbol:h,type:n,timeInForce:c,postOnly:o,side:a,price:f,stopPrice:b,average:p,cost:void 0,amount:u,filled:l,remaining:void 0,status:m,fee:y,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={instId:s["id"]},a=this.safeString2(i,"clOrdId","clientOrderId");void 0!==a?r["clOrdId"]=a:r["ordId"]=e;const n=this.omit(i,["clOrdId","clientOrderId"]),c=await this.privateGetTradeOrder(this.extend(r,n)),d=this.safeValue(c,"data",[]),h=this.safeValue(d,0);return this.parseOrder(h,s)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["instId"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetTradeOrdersPending(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType"),a=this.safeString(this.options,"fetchClosedOrders",{});let n=this.safeString(a,"type",r);n=this.safeString(s,"type",n),s=this.omit(s,"type");const o={};let c=void 0;void 0!==e&&(c=this.market(e),(c["futures"]||c["swap"])&&(n=c["type"]),o["instId"]=c["id"]),o["instType"]=n.toUpperCase(),void 0!==i&&(o["limit"]=i);const d=this.safeString(a,"method","privateGetTradeOrdersHistory"),h=await this[d](this.extend(o,s)),u=this.safeValue(h,"data",[]);return this.parseOrders(u,c,t,i)}async fetchMyTrades(e,t,i,s={}){const r={};let a=void 0;await this.loadMarkets(),void 0!==e&&(a=this.market(e),r["instId"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetTradeFills(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,a,t,i,s)}async fetchOrderTrades(e,t,i,s,r={}){const a={ordId:e};return await this.fetchMyTrades(t,i,s,this.extend(a,r))}parseDepositAddress(e,t){const i=this.safeString(e,"addr");let s=this.safeString2(e,"tag","pmtId");s=this.safeString(e,"memo",s);const r=this.safeString(e,"ccy"),a=this.safeCurrencyCode(r);return this.checkAddress(i),{currency:a,address:i,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=e.split("-"),s=this.currency(i[0]),r={ccy:s["id"]},a=await this.privateGetAssetDepositAddress(this.extend(r,t)),n=this.safeValue(a,"data",[]),o=this.parseDepositAddresses(n),c=this.safeValue(o,e);if(void 0===c)throw new h(this.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");return c}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);void 0!==s&&(i=i+":"+s);const c=this.safeString(a,"fee");if(void 0===c)throw new o(this.id+" withdraw() requires a `fee` string parameter, network transaction fee must be  0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const d={ccy:n["id"],toAddr:i,dest:"4",amt:this.numberToString(t),fee:this.numberToString(c)};"password"in a?d["pwd"]=a["password"]:"pwd"in a?d["pwd"]=a["pwd"]:this.password&&(d["pwd"]=this.password);const h=this.omit(a,["fee","password","pwd"]);if(!("pwd"in d))throw new r(this.id+" withdraw() requires this.password set on the exchange instance or a password / pwd parameter");const u=await this.privatePostAssetWithdrawal(this.extend(d,h)),l=this.safeValue(u,"data",[]),f=this.safeValue(l,0);return this.parseTransaction(f,n)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["ccy"]=a["id"]),void 0!==t&&(r["after"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetAssetDepositHistory(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i,s)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["ccy"]=a["id"]),void 0!==t&&(r["after"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetAssetWithdrawalHistory(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i,s)}parseTransactionStatus(e){const t={"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0,s=void 0;const r=this.safeString(e,"wdId"),a=this.safeString(e,"from"),n=this.safeString(e,"to"),o=n;let c=this.safeString2(e,"tag","memo");c=this.safeString2(e,"pmtId",c),void 0!==r?(i="withdrawal",s=r):(s=this.safeString(e,"depId"),i="deposit");const d=this.safeString(e,"ccy"),h=this.safeCurrencyCode(d),u=this.safeNumber(e,"amt"),l=this.parseTransactionStatus(this.safeString(e,"state")),f=this.safeString(e,"txId"),p=this.safeInteger(e,"ts");let m=void 0;return m="deposit"===i?0:this.safeNumber(e,"fee"),{info:e,id:s,currency:h,amount:u,addressFrom:a,addressTo:n,address:o,tagFrom:void 0,tagTo:c,tag:c,status:l,type:i,updated:void 0,txid:f,timestamp:p,datetime:this.iso8601(p),fee:{currency:h,cost:m}}}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),s=this.safeString(t,"type");t=this.omit(t,"type");const r={instId:i["id"]};void 0!==s&&(r["instType"]=s.toUpperCase()),t=this.omit(t,"type");const a=await this.privateGetAccountPositions(t),n=this.safeValue(a,"data",[]);return this.safeValue(n,0)}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString(t,"type");t=this.omit(t,"type");const s={};void 0!==i&&(s["instType"]=i.toUpperCase()),t=this.omit(t,"type");const r=await this.privateGetAccountPositions(t);return this.safeValue(r,"data",[])}sign(e,t="public",i="GET",s={},r,a){const n=Array.isArray(s),o="/api/"+this.version+"/"+this.implodeParams(e,s),c=this.omit(s,this.extractParams(e));let d=this.implodeHostname(this.urls["api"]["rest"])+o;if("public"===t)Object.keys(c).length&&(d+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());r={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);d+=e,t+=e}}else(n||Object.keys(c).length)&&(a=this.json(c),t+=a),r["Content-Type"]="application/json";const s=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");r["OK-ACCESS-SIGN"]=s}return{url:d,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(!o)return;const h=this.safeString(o,"code");if("0"!==h){const e=this.id+" "+n,t=this.safeValue(o,"data",[]);for(let i=0;i<t.length;i++){const s=t[i],r=this.safeString(s,"sCode"),a=this.safeString(s,"sMsg");this.throwExactlyMatchedException(this.exceptions["exact"],r,e),this.throwBroadlyMatchedException(this.exceptions["broad"],a,e)}throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),new r(e)}}}},"7d18":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPublicKey=function(e){return void 0!==e.publicKey},t.isPrivateKey=function(e){return void 0!==e.privateKey}},"7d3e":function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,ExchangeError:a,OrderNotFound:n,AuthenticationError:o,InsufficientFunds:c,InvalidOrder:d,InvalidNonce:h,NotSupported:u,OnMaintenance:l,RateLimitExceeded:f,BadRequest:p,PermissionDenied:m}=i("74b0"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1.1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","45m":"45","1h":"60","2h":"120","3h":"180","4h":"240","1d":"D","1w":"W","1M":"M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:{public:"https://api.exmo.com",private:"https://api.exmo.com",web:"https://exmo.me"},www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{web:{get:["ctrl/feesAndLimits","en/docs/fees"]},public:{get:["currency","currency/list/extended","order_book","pair_settings","ticker","trades","candles_history","required_amount","payments/providers/crypto/list"]},private:{post:["user_info","order_create","order_cancel","stop_market_order_create","stop_market_order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","code_check","wallet_history","wallet_operations"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1}},options:{useWebapiForFetchingFees:!1,feesAndLimits:{success:1,ctlr:"feesAndLimits",error:"",data:{limits:[{pair:"BTC/USD",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/RUB",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"2000000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"BTC/EUR",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/GBP",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/UAH",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"15000000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"BTC/PLN",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"20000000",min_a:"50",max_a:"2000000",taker:"0.4",maker:"0.4"},{pair:"BTC/TRY",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"800000",min_a:"40",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"BTC/KZT",min_q:"0.0001",max_q:"1000",min_p:"1000",max_p:"12000000",min_a:"1000",max_a:"100000000",taker:"0.4",maker:"0.4"},{pair:"BTC/USDT",min_q:"0.0001",max_q:"1000",min_p:"0.01",max_p:"30000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"ETH/BTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETH/USD",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/RUB",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"XRP/BTC",min_q:"1",max_q:"5000000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XRP/USD",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/RUB",min_q:"1",max_q:"5000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ADA/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ADA/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ADA/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ALGO/EXM",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ALGO/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"50",taker:"0.4",maker:"0.4"},{pair:"ALGO/USDT",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0",maker:"0"},{pair:"ALGO/RUB",min_q:"1",max_q:"1000000",min_p:"0.000001",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ALGO/EUR",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ATOM/EXM",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ATOM/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ATOM/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ATOM/EUR",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/USD",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"30000",min_a:"0.0001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/RUB",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"2000000",min_a:"0.0001",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"BCH/EUR",min_q:"0.003",max_q:"5000",min_p:"0.01",max_p:"300000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/UAH",min_q:"0.003",max_q:"5000",min_p:"0.1",max_p:"30000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"BCH/BTC",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"5",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BCH/ETH",min_q:"0.003",max_q:"5000",min_p:"0.0000001",max_p:"200",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"BCH/USDT",min_q:"0.003",max_q:"5000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"BTG/USD",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTG/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTG/ETH",min_q:"0.01",max_q:"100000",min_p:"0.0001",max_p:"100",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"BTT/RUB",min_q:"1",max_q:"500000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTT/UAH",min_q:"1",max_q:"500000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTT/BTC",min_q:"1",max_q:"500000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"CRON/BTC",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"CRON/ETH",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"CRON/USDT",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0",maker:"0"},{pair:"CRON/EXM",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"DAI/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DAI/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"0.5",max_a:"30000000",taker:"0.4",maker:"0.4"},{pair:"DAI/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DAI/ETH",min_q:"1",max_q:"500000",min_p:"0.000001",max_p:"10",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"DASH/USD",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DASH/RUB",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"DASH/UAH",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"200000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"DASH/BTC",min_q:"0.01",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DASH/USDT",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"DCR/RUB",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"3000000",taker:"0.4",maker:"0.4"},{pair:"DCR/UAH",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.25",max_a:"1000000",taker:"0.4",maker:"0.4"},{pair:"DCR/BTC",min_q:"0.01",max_q:"50000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DOGE/USD",min_q:"100",max_q:"500000000",min_p:"0.0000001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DOGE/BTC",min_q:"100",max_q:"500000000",min_p:"0.0000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"EOS/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"EOS/EUR",min_q:"0.01",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"EOS/BTC",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETC/USD",min_q:"0.2",max_q:"100000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETC/RUB",min_q:"0.2",max_q:"100000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ETC/BTC",min_q:"0.2",max_q:"100000",min_p:"0.0001",max_p:"0.5",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETH/EUR",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/GBP",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/UAH",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"1000000",min_a:"90",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ETH/PLN",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"50",max_a:"2000000",taker:"0.4",maker:"0.4"},{pair:"ETH/TRY",min_q:"0.001",max_q:"5000",min_p:"0.1",max_p:"80000",min_a:"10",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ETH/KZT",min_q:"0.001",max_q:"5000",min_p:"4",max_p:"40000000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/USDT",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"ETH/LTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"100000",min_a:"0.05",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"ETZ/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ETZ/ETH",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETZ/USDT",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"1000",taker:"0",maker:"0"},{pair:"EXM/USDT",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000",taker:"0",maker:"0"},{pair:"EXM/ETH",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"GAS/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"GAS/BTC",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"GNT/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"GNT/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"GUSD/USD",min_q:"1",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"GUSD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"GUSD/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"HP/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"HB/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"LSK/USD",min_q:"0.1",max_q:"500000",min_p:"0.1",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LSK/RUB",min_q:"0.1",max_q:"500000",min_p:"0.001",max_p:"100000",min_a:"0.5",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"LSK/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"1",min_a:"0.0015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"LTC/USD",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LTC/RUB",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"LTC/EUR",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LTC/UAH",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"300000",min_a:"5",max_a:"18000000",taker:"0.4",maker:"0.4"},{pair:"LTC/BTC",min_q:"0.05",max_q:"10000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MKR/BTC",min_q:"0.0001",max_q:"1000",min_p:"0.0001",max_p:"100",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MKR/DAI",min_q:"0.0001",max_q:"1000",min_p:"0.5",max_p:"500000",min_a:"0.005",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"MNC/USD",min_q:"10",max_q:"500000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"MNC/BTC",min_q:"10",max_q:"500000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MNC/ETH",min_q:"10",max_q:"500000000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"NEO/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"NEO/RUB",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1500000",min_a:"50",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"NEO/BTC",min_q:"0.1",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"OMG/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"OMG/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"OMG/ETH",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ONG/EXM",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ONG/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ONG/RUB",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"250000",taker:"0.4",maker:"0.4"},{pair:"ONG/UAH",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"50",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ONT/EXM",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ONT/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ONT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ONT/UAH",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"250000",taker:"0.4",maker:"0.4"},{pair:"PTI/RUB",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"600000",min_a:"10",max_a:"600000",taker:"0.4",maker:"0.4"},{pair:"PTI/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"PTI/EOS",min_q:"1",max_q:"50000000",min_p:"0.0000001",max_p:"5000",min_a:"0.01",max_a:"20000",taker:"0.4",maker:"0.4"},{pair:"PTI/USDT",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000",taker:"0",maker:"0"},{pair:"QTUM/USD",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"10000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"QTUM/BTC",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"QTUM/ETH",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ROOBEE/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"SMART/USD",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"SMART/RUB",min_q:"10",max_q:"100000000",min_p:"0.0001",max_p:"100000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"SMART/EUR",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"SMART/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"TRX/USD",min_q:"1",max_q:"50000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"TRX/EUR",min_q:"0.01",max_q:"50000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"TRX/RUB",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"TRX/UAH",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"TRX/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USDC/USD",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDC/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USDC/ETH",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"100",min_a:"0.001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"USDC/USDT",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"USDT/USD",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"USDT/EUR",min_q:"0.01",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/GBP",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/UAH",min_q:"0.01",max_q:"500000",min_p:"1",max_p:"3000",min_a:"2",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"USDT/KZT",min_q:"1",max_q:"500000",min_p:"200",max_p:"4000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"VLX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"WAVES/USD",min_q:"0.5",max_q:"500000",min_p:"0.001",max_p:"3500",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"WAVES/RUB",min_q:"0.5",max_q:"500000",min_p:"0.01",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"WAVES/BTC",min_q:"0.5",max_q:"500000",min_p:"0.000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"WAVES/ETH",min_q:"0.5",max_q:"500000",min_p:"0.00001",max_p:"30",min_a:"0.0035",max_a:"3500",taker:"0.4",maker:"0.4"},{pair:"XEM/USD",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XEM/EUR",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XEM/UAH",min_q:"1",max_q:"10000000",min_p:"0.0001",max_p:"30000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"XEM/BTC",min_q:"10",max_q:"10000000",min_p:"0.0000001",max_p:"1",min_a:"0.00015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XLM/USD",min_q:"0.01",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XLM/RUB",min_q:"0.01",max_q:"5000000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"XLM/TRY",min_q:"0.01",max_q:"5000000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"XLM/BTC",min_q:"1",max_q:"5000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XMR/USD",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XMR/RUB",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"600000",min_a:"10",max_a:"16000000",taker:"0.4",maker:"0.4"},{pair:"XMR/EUR",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XMR/UAH",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"300000",min_a:"5",max_a:"16000000",taker:"0.4",maker:"0.4"},{pair:"XMR/BTC",min_q:"0.01",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XMR/ETH",min_q:"0.01",max_q:"10000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"XRP/EUR",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/GBP",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/TRY",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"XRP/UAH",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"XRP/USDT",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0",maker:"0"},{pair:"XRP/ETH",min_q:"1",max_q:"5000000",min_p:"0.00000001",max_p:"10",min_a:"0.00001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"XTZ/USD",min_q:"0.1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"XTZ/RUB",min_q:"0.1",max_q:"100000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XTZ/BTC",min_q:"0.1",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"XTZ/ETH",min_q:"0.1",max_q:"100000",min_p:"0.0000001",max_p:"10",min_a:"0.0001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"ZEC/USD",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZEC/RUB",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ZEC/EUR",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZEC/BTC",min_q:"0.01",max_q:"10000",min_p:"0.00001",max_p:"10",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ZRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZRX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ZRX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ZAG/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"EXM/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0000001",max_a:"1",taker:"0.4",maker:"0.4"}],fees:[{group:"crypto",title:"Cryptocurrency",items:[{prov:"EXM",dep:"0%",wd:"1 EXM"},{prov:"BTC",dep:"0%",wd:"0.0004 BTC"},{prov:"LTC",dep:"0%",wd:"0.01 LTC"},{prov:"DOGE",dep:"0%",wd:"1 Doge"},{prov:"DASH",dep:"0%",wd:"0.002 DASH"},{prov:"ETH",dep:"0%",wd:"0.003 ETH"},{prov:"WAVES",dep:"0%",wd:"0.001 WAVES"},{prov:"ZEC",dep:"0%",wd:"0.001 ZEC"},{prov:"USDT",dep:"0%",wd:""},{prov:"XMR",dep:"0%",wd:"0.001 XMR"},{prov:"XRP",dep:"0%",wd:"0.02 XRP"},{prov:"ETC",dep:"0%",wd:"0.01 ETC"},{prov:"BCH",dep:"0%",wd:"0.001 BCH"},{prov:"BTG",dep:"0%",wd:"0.001 BTG"},{prov:"EOS",dep:"0%",wd:"0.05 EOS"},{prov:"XLM",dep:"0%",wd:"0.01 XLM"},{prov:"OMG",dep:"0.1 OMG",wd:"0.5 OMG"},{prov:"TRX",dep:"0%",wd:"1 TRX"},{prov:"ADA",dep:"0%",wd:"1 ADA"},{prov:"NEO",dep:"0%",wd:"0%"},{prov:"GAS",dep:"0%",wd:"0%"},{prov:"ZRX",dep:"0%",wd:"1 ZRX"},{prov:"GNT",dep:"0%",wd:"1 GNT"},{prov:"GUSD",dep:"0%",wd:"0.5 GUSD"},{prov:"LSK",dep:"0%",wd:"0.1 LSK"},{prov:"XEM",dep:"0%",wd:"5 XEM"},{prov:"SMART",dep:"0%",wd:"0.5 SMART"},{prov:"QTUM",dep:"0%",wd:"0.01 QTUM"},{prov:"HB",dep:"0%",wd:"10 HB"},{prov:"DAI",dep:"0%",wd:"1 DAI"},{prov:"MKR",dep:"0%",wd:"0.005 MKR"},{prov:"MNC",dep:"0%",wd:"15 MNC"},{prov:"PTI",dep:"-",wd:"10 PTI"},{prov:"ETZ",dep:"0%",wd:"1 ETZ"},{prov:"USDC",dep:"0%",wd:"0.5 USDC"},{prov:"ROOBEE",dep:"0%",wd:"200 ROOBEE"},{prov:"DCR",dep:"0%",wd:"0.01 DCR"},{prov:"ZAG",dep:"0%",wd:"0%"},{prov:"BTT",dep:"0 BTT",wd:"100 BTT"},{prov:"VLX",dep:"0%",wd:"1 VLX"},{prov:"CRON",dep:"0%",wd:"5 CRON"},{prov:"ONT",dep:"0%",wd:"1 ONT"},{prov:"ONG",dep:"0%",wd:"5 ONG"},{prov:"ALGO",dep:"0%",wd:"0.01 ALGO"},{prov:"ATOM",dep:"0%",wd:"0.05 ATOM"}]},{group:"usd",title:"USD",items:[{prov:"Payeer",dep:"3.95%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"0%",wd:"2.49%"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5% + 0.5 USD",wd:"-"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"Frick Bank",dep:"0 USD",wd:"-"}]},{group:"eur",title:"EUR",items:[{prov:"Visa/MasterCard",dep:"4.5% + 0.5  EUR",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Visa",dep:"2.95%",wd:"-"},{prov:"Frick Internal Transfer",dep:"0 EUR",wd:"-"},{prov:"SEPA Frick Bank",dep:"0 EUR",wd:"1 EUR"},{prov:"WIRE Frick Bank",dep:"0%",wd:"20 EUR"},{prov:"SEPA Weg Ag",dep:"-",wd:"1 EUR"}]},{group:"gbp",title:"GBP",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"WIRE Frick Bank",dep:"10 GBP",wd:"-"}]},{group:"rub",title:"RUB",items:[{prov:"Payeer",dep:"2.49%",wd:"3.49%"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Qiwi",dep:"1.49%",wd:"2.49%"},{prov:"Yandex Money",dep:"1.49%",wd:"1.95 %"},{prov:"AdvCash",dep:"0.99%",wd:"0.99%"},{prov:"Visa/MasterCard",dep:"2.99%",wd:"3.99% + 60 RUB"}]},{group:"pln",title:"PLN",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"try",title:"TRY",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Visa",dep:"3.05%",wd:"-"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5% + 2 TRY",wd:"-"},{prov:"AdvCash",dep:"0%",wd:"-"}]},{group:"uah",title:"UAH",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Terminal",dep:"2.6%",wd:"-"},{prov:"Visa/MasterCard EasyTransfer",dep:"-",wd:"2.99%"},{prov:"Visa/MasterCard",dep:"1% + 5 UAH",wd:"-"}]},{group:"kzt",title:"KZT",items:[{prov:"Visa/MasterCard",dep:"3.5%",wd:"2.99% + 450 KZT"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"0%",wd:"-"}]}]}}},exceptions:{exact:{40005:o,40009:h,40015:a,40016:l,40017:o,40032:m,40034:f,50052:c,50054:c,50304:n,50173:n,50277:d,50319:d,50321:d},broad:{"range period is too long":p,"invalid syntax":p,"API rate limit exceeded":f}},orders:{}})}async fetchTradingFees(e={}){if(this.options["useWebapiForFetchingFees"]){const t=await this.webGetEnDocsFees(e);let i=t.split('<td class="th_fees_2" colspan="2">'),s=i.length;if(2!==s)throw new u(this.id+" fetchTradingFees format has changed");const r=i[1];if(i=r.split("</td>"),s=i.length,s<2)throw new u(this.id+" fetchTradingFees format has changed");const a=.01*parseFloat(i[0].replace("%","")),n=a,o=a;return{maker:o,taker:n}}return{maker:this.fees["trading"]["maker"],taker:this.fees["trading"]["taker"]}}parseFixedFloatValue(e){if(void 0===e||"-"===e)return;if(""===e)return 0;const t=e.indexOf("%")>=0,i=e.split(" "),s=i[0].replace("%",""),r=parseFloat(s);if(r>0&&t)throw new a(this.id+" parseFixedFloatValue detected an unsupported non-zero percentage-based fee "+e);return r}async fetchFundingFees(e={}){let t=void 0;t=this.options["useWebapiForFetchingFees"]?await this.webGetCtrlFeesAndLimits(e):this.options["feesAndLimits"];const i={},s={},r=this.safeValue(t["data"],"fees"),a=this.indexBy(r,"group"),n=a["crypto"]["items"];for(let d=0;d<n.length;d++){const e=n[d],t=this.safeCurrencyCode(this.safeString(e,"prov")),r=this.safeString(e,"wd"),a=this.safeString(e,"dep");void 0!==r&&(i[t]=this.parseFixedFloatValue(r)),void 0!==a&&(s[t]=this.parseFixedFloatValue(a))}const o=this.toArray(this.omit(a,"crypto"));for(let d=0;d<o.length;d++){const e=this.safeCurrencyCode(this.safeString(o[d],"title"));i[e]=void 0,s[e]=void 0}const c={info:t,withdraw:i,deposit:s};return this.options["fundingFees"]=c,c}async fetchCurrencies(e={}){const t=await this.fetchFundingFees(e),i=Object.keys(t["withdraw"]),s=this.indexBy(t["info"]["data"]["limits"],"pair"),r=Object.keys(s),a={},n={},o={},c={},d={},h={};for(let l=0;l<r.length;l++){const e=r[l],t=s[e],[i,u]=e.split("/"),f=this.safeCurrencyCode(i),p=this.safeCurrencyCode(u),m=this.safeNumber(t,"max_q"),g=this.safeNumber(t,"max_p"),y=this.safeNumber(t,"max_a"),v=this.safeNumber(t,"min_q"),b=this.safeNumber(t,"min_p"),w=this.safeNumber(t,"min_a");a[f]=Math.min(this.safeNumber(a,f,v),v),c[f]=Math.max(this.safeNumber(c,f,m),m),n[p]=Math.min(this.safeNumber(n,p,b),b),o[p]=Math.min(this.safeNumber(o,p,w),w),d[p]=Math.max(this.safeNumber(d,p,g),g),h[p]=Math.max(this.safeNumber(h,p,y),y)}const u={};for(let l=0;l<i.length;l++){const e=i[l],s=this.safeCurrencyCode(e),r=this.safeValue(t["withdraw"],s),f=!0;u[s]={id:e,code:s,name:s,active:f,fee:r,precision:8,limits:{amount:{min:this.safeNumber(a,s),max:this.safeNumber(c,s)},price:{min:this.safeNumber(n,s),max:this.safeNumber(d,s)},cost:{min:this.safeNumber(o,s),max:this.safeNumber(h,s)}},info:e}}return u}async fetchMarkets(e={}){const t=await this.publicGetPairSettings(e),i=Object.keys(t),s=[];for(let r=0;r<i.length;r++){const e=i[r],a=t[e],n=e.replace("_","/"),[o,c]=n.split("/"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=this.safeString(a,"commission_taker_percent"),l=this.safeString(a,"commission_maker_percent"),f=this.parseNumber(g.stringDiv(u,"100")),p=this.parseNumber(g.stringDiv(l,"100"));s.push({id:e,symbol:n,base:d,quote:h,baseId:o,quoteId:c,active:!0,taker:f,maker:p,limits:{amount:{min:this.safeNumber(a,"min_quantity"),max:this.safeNumber(a,"max_quantity")},price:{min:this.safeNumber(a,"min_price"),max:this.safeNumber(a,"max_price")},cost:{min:this.safeNumber(a,"min_amount"),max:this.safeNumber(a,"max_amount")}},precision:{amount:8,price:this.safeInteger(a,"price_precision")},info:a})}return s}async fetchOHLCV(e,t="1m",i,s,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n["id"],resolution:this.timeframes[t]},c=this.safeValue(this.options,"fetchOHLCV"),d=this.safeInteger(c,"maxLimit",3e3),h=this.parseTimeframe(t),u=this.milliseconds();if(void 0===i){if(void 0===s)throw new r(this.id+" fetchOHLCV() requires a since argument or a limit argument");if(s>d)throw new p(this.id+" fetchOHLCV will serve "+d.toString()+" candles at most");o["from"]=parseInt(u/1e3)-s*h-1,o["to"]=parseInt(u/1e3)}else if(o["from"]=parseInt(i/1e3)-1,void 0===s)o["to"]=parseInt(u/1e3);else{if(s>d)throw new p(this.id+" fetchOHLCV will serve "+d.toString()+" candles at most");const e=this.sum(i,s*h*1e3);o["to"]=parseInt(e/1e3)}const l=await this.publicGetCandlesHistory(this.extend(o,a)),f=this.safeValue(l,"candles",[]);return this.parseOHLCVs(f,n,t,i,s)}parseOHLCV(e,t){return[this.safeInteger(e,"t"),this.safeNumber(e,"o"),this.safeNumber(e,"h"),this.safeNumber(e,"l"),this.safeNumber(e,"c"),this.safeNumber(e,"v")]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t},s=this.safeValue(t,"balances",{}),r=this.safeValue(t,"reserved",{}),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.currencyId(e),o=this.account();t in s&&(o["free"]=this.safeString(s,t)),t in r&&(o["used"]=this.safeString(r,t)),i[e]=o}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={pair:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderBook(this.extend(r,i)),n=this.safeValue(a,s["id"]);return this.parseOrderBook(n,e,void 0,"bid","ask")}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let s=void 0;if(void 0===e){if(s=this.ids.join(","),s.length>2048){const e=this.ids.length;throw new a(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else s=this.marketIds(e),s=s.join(",");const r={pair:s};void 0!==t&&(r["limit"]=t);const n=await this.publicGetOrderBook(this.extend(r,i)),o={},c=Object.keys(n);for(let a=0;a<c.length;a++){const e=c[a];let t=e;if(e in this.markets_by_id){const i=this.markets_by_id[e];t=i["symbol"]}o[t]=this.parseOrderBook(n[e],void 0,"bid","ask")}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last_trade");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy_price"),bidVolume:void 0,ask:this.safeNumber(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"vol_curr"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s={},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.markets_by_id[e],n=t["symbol"],o=i[e];s[n]=this.parseTicker(o,t)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s=this.market(e);return this.parseTicker(i[s["id"]],s)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let s=void 0;const r=this.safeString(e,"trade_id"),a=this.safeString(e,"order_id"),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"quantity"),c=this.safeNumber(e,"amount"),d=this.safeString(e,"type"),h=void 0,u=this.safeString(e,"pair");if(void 0!==u)if(u in this.markets_by_id)t=this.markets_by_id[u];else{const[e,t]=u.split("_"),i=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);s=i+"/"+r}void 0===s&&void 0!==t&&(s=t["symbol"]);const l=this.safeString(e,"exec_type");let f=void 0;const p=this.safeNumber(e,"commission_amount");if(void 0!==p){const t=this.safeString(e,"commission_currency"),i=this.safeCurrencyCode(t);let s=this.safeNumber(e,"commission_percent");void 0!==s&&(s/=1e3),f={cost:p,currency:i,rate:s}}return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:a,type:h,side:d,takerOrMaker:l,price:n,amount:o,cost:c,fee:f}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]},n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,r["id"],[]);return this.parseTrades(o,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new r(this.id+" fetchMyTrades() requires a symbol argument (a single symbol or an array)");await this.loadMarkets();let a=void 0,n=void 0;if(Array.isArray(e)){const t=e.length;if(t<1)throw new r(this.id+" fetchMyTrades() requires a non-empty symbol array");const i=this.marketIds(e);a=i.join(",")}else n=this.market(e),a=n["id"];const o={pair:a};void 0!==i&&(o["limit"]=i);const c=await this.privatePostUserTrades(this.extend(o,s));let d=[];const h=Object.keys(c);for(let r=0;r<h.length;r++){const e=h[r];let s=void 0;if(e in this.markets_by_id)n=this.markets_by_id[e],s=n["symbol"];else{const[t,i]=e.split("_"),r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(i);s=r+"/"+a}const a=c[e],o=this.parseTrades(a,n,t,i,{symbol:s});d=this.arrayConcat(d,o)}return this.filterBySinceLimit(d,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n="market"===t?t+"_":"",o=this.market(e);"market"===t&&void 0===r&&(r=0);const c={pair:o["id"],quantity:this.amountToPrecision(e,s),type:n+i,price:this.priceToPrecision(e,r)},d=await this.privatePostOrderCreate(this.extend(c,a)),h=this.safeString(d,"order_id"),u=this.milliseconds();s=parseFloat(s),r=parseFloat(r);const l="open";return{id:h,info:d,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:l,symbol:e,type:t,side:i,price:r,cost:r*s,amount:s,remaining:s,filled:0,fee:void 0,trades:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e};return await this.privatePostOrderCancel(this.extend(s,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:e.toString()},r=await this.privatePostOrderTrades(this.extend(s,i)),a=this.parseOrder(r);return this.extend(a,{id:e.toString()})}async fetchOrderTrades(e,t,i,s,r={}){let a=void 0;void 0!==t&&(a=this.market(t));const n={order_id:e.toString()},o=await this.privatePostOrderTrades(this.extend(n,r)),c=this.safeValue(o,"trades");return this.parseTrades(c,a,i,s)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=await this.privatePostUserOpenOrders(s),a=Object.keys(r);let n=[];for(let o=0;o<a.length;o++){const e=a[o];let t=void 0;e in this.markets_by_id&&(t=this.markets_by_id[e]);const i=this.parseOrders(r[e],t);n=this.arrayConcat(n,i)}return this.filterBySymbolSinceLimit(n,e,t,i)}parseOrder(e,t){let i=this.safeString(e,"order_id"),s=this.safeTimestamp(e,"created"),r=void 0;const a=this.safeString(e,"type");if(void 0===t){let i=void 0;"pair"in e?i=e["pair"]:"in_currency"in e&&"out_currency"in e&&(i="buy"===a?e["in_currency"]+"_"+e["out_currency"]:e["out_currency"]+"_"+e["in_currency"]),void 0!==i&&i in this.markets_by_id&&(t=this.markets_by_id[i])}let n=this.safeNumber(e,"quantity");if(void 0===n){const t="buy"===a?"in_amount":"out_amount";n=this.safeNumber(e,t)}let o=this.safeNumber(e,"price"),c=this.safeNumber(e,"amount"),d=0;const h=[],u=this.safeValue(e,"trades",[]);let l=void 0,f=void 0,p=void 0;const m=u.length;if(m>0){l=0;for(let e=0;e<m;e++){const r=this.parseTrade(u[e],t);void 0===i&&(i=r["order"]),void 0===s&&(s=r["timestamp"]),s>r["timestamp"]&&(s=r["timestamp"]),d=this.sum(d,r["amount"]),l=this.sum(l,r["fee"]["cost"]),h.push(r)}f=h[m-1]["timestamp"]}let g=this.safeString(e,"status"),y=void 0;void 0!==n&&(y=n-d,g=d>=n?"closed":"open"),void 0===t&&(t=this.getMarketFromTrades(h));let v=void 0;void 0!==t&&(r=t["symbol"],v=t["quote"]),void 0===c?void 0!==o&&(c=o*d):d>0&&(void 0===p&&(p=c/d),void 0===o&&(o=c/d));const b={cost:l,currency:v};return{id:i,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:f,status:g,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:void 0,cost:c,amount:n,filled:d,remaining:y,average:p,trades:h,fee:b,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostDepositAddress(t),s=this.safeString(i,e);let r=void 0,a=void 0;if(s){const e=s.split(",");r=e[0];const t=e.length;t>1&&(a=e[1])}return this.checkAddress(r),{currency:e,address:r,tag:a,info:i}}getMarketFromTrades(e){const t=this.indexBy(e,"pair"),i=Object.keys(t),s=i.length;if(1===s)return this.markets[i[0]]}async withdraw(e,t,i,s,r={}){await this.loadMarkets();const a=this.currency(e),n={amount:t,currency:a["id"],address:i};void 0!==s&&(n["invoice"]=s);const o=await this.privatePostWithdrawCrypt(this.extend(n,r));return{info:o,id:o["task_id"]}}parseTransactionStatus(e){const t={transferred:"ok",paid:"ok",pending:"pending",processing:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"dt");let s=this.safeNumber(e,"amount");void 0!==s&&(s=Math.abs(s));const r=this.parseTransactionStatus(this.safeString(e,"status")),a=this.safeString(e,"txid"),n=this.safeString(e,"type"),o=this.safeString(e,"curr"),c=this.safeCurrencyCode(o,t);let d=void 0;const h=void 0;let u=void 0;const l=this.safeString(e,"account");if("deposit"===n)u=l;else if("withdrawal"===n&&(d=l,void 0!==d)){const e=d.split(":"),t=e.length;2===t&&(d=this.safeString(e,1),d=d.replace(" ",""))}let f=void 0;if(!this.fees["funding"]["percentage"]){const t="withdrawal"===n?"withdraw":"deposit";let i=this.safeNumber(this.options["fundingFees"][t],c);const r=this.safeString(e,"provider");"cashback"===r&&(i=0),void 0!==i&&("withdrawal"===n&&(s-=i),f={cost:i,currency:c,rate:void 0})}return{info:e,id:void 0,timestamp:i,datetime:this.iso8601(i),currency:c,amount:s,address:d,addressTo:d,addressFrom:void 0,tag:h,tagTo:h,tagFrom:void 0,status:r,type:n,updated:void 0,comment:u,txid:a,fee:f}}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==t&&(r["date"]=parseInt(t/1e3));let a=void 0;void 0!==e&&(a=this.currency(e));const n=await this.privatePostWalletHistory(this.extend(r,s));return this.parseTransactions(n["history"],a,t,i)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/";if("web"!==t&&(n+=this.version+"/"),n+=e,"public"===t||"web"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},s)),r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:r}}nonce(){return this.milliseconds()}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0!==o&&("result"in o||"errmsg"in o)){let e=this.safeValue(o,"result",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){let e=void 0;const t=this.safeString2(o,"error","errmsg"),i=t.split(":"),s=i.length;if(s>1){const t=i[0].split(" "),s=t.length;e=s>1?t[1]:t[0]}const r=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,r),this.throwBroadlyMatchedException(this.exceptions["broad"],t,r),new a(r)}}}}},"7d72":function(e,t,i){"use strict";var s=i("8707").Buffer,r=s.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function n(e){var t=a(e);if("string"!==typeof t&&(s.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){var t;switch(this.encoding=n(e),this.encoding){case"utf16le":this.text=p,this.end=m,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=g,this.end=y,t=3;break;default:return this.write=v,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(t)}function c(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function d(e,t,i){var s=t.length-1;if(s<i)return 0;var r=c(t[s]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--s<i||-2===r?0:(r=c(t[s]),r>=0?(r>0&&(e.lastNeed=r-2),r):--s<i||-2===r?0:(r=c(t[s]),r>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0))}function h(e,t,i){if(128!==(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,""}}function u(e){var t=this.lastTotal-this.lastNeed,i=h(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var i=d(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var s=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,s),e.toString("utf8",t,s)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var s=i.charCodeAt(i.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function g(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"7db0":function(e,t,i){"use strict";var s=i("23e7"),r=i("b727").find,a=i("44d2"),n="find",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),s({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(n)},"7dd0":function(e,t,i){"use strict";var s=i("23e7"),r=i("9ed3"),a=i("e163"),n=i("d2bb"),o=i("d44e"),c=i("9112"),d=i("6eeb"),h=i("b622"),u=i("c430"),l=i("3f8c"),f=i("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=h("iterator"),y="keys",v="values",b="entries",w=function(){return this};e.exports=function(e,t,i,h,f,k,S){r(i,t,h);var _,O,T,C=function(e){if(e===f&&N)return N;if(!m&&e in E)return E[e];switch(e){case y:return function(){return new i(this,e)};case v:return function(){return new i(this,e)};case b:return function(){return new i(this,e)}}return function(){return new i(this)}},x=t+" Iterator",I=!1,E=e.prototype,A=E[g]||E["@@iterator"]||f&&E[f],N=!m&&A||C(f),M="Array"==t&&E.entries||A;if(M&&(_=a(M.call(new e)),p!==Object.prototype&&_.next&&(u||a(_)===p||(n?n(_,p):"function"!=typeof _[g]&&c(_,g,w)),o(_,x,!0,!0),u&&(l[x]=w))),f==v&&A&&A.name!==v&&(I=!0,N=function(){return A.call(this)}),u&&!S||E[g]===N||c(E,g,N),l[t]=N,f)if(O={values:C(v),keys:k?N:C(y),entries:C(b)},S)for(T in O)(m||I||!(T in E))&&d(E,T,O[T]);else s({target:t,proto:!0,forced:m||I},O);return O}},"7e2b":function(e,t,i){"use strict";var s=i("2b0e");function r(e){return function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(t,s)||this.$delete(this.$data[e],s);for(var r in t)this.$set(this.$data[e],r,t[r])}}t["a"]=s["a"].extend({data:function(){return{attrs$:{},listeners$:{}}},created:function(){this.$watch("$attrs",r("attrs$"),{immediate:!0}),this.$watch("$listeners",r("listeners$"),{immediate:!0})}})},"7e63":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("abf9"),r=i("fe34");t.Seed={isSeedWithNonce:function(e){return void 0!==e.nonce},toBinary:function(e){return t.Seed.isSeedWithNonce(e)?{seed:t.Seed.toBinary(e.seed).seed,nonce:e.nonce}:{seed:s._fromRawIn(e),nonce:void 0}},toString:function(e){return r.bytesToString(t.Seed.toBinary(e).seed)}}},"7e8f":function(e,t,i){"use strict";var s=i("fc50");function r(e){const t=function(t,i){return"string"===typeof t&&"//"===t.slice(0,2)?e("https:"+t,i):e(t,i)};return t.http=e.http,t.https=e.https,t}e.exports=function(e){return e&&e.Promise&&(s.Promise=e.Promise),{fetch:r(s),Headers:s.Headers,Request:s.Request,Response:s.Response}}},"7eb1":function(e,t,i){"use strict";var s=30,r=12;e.exports=function(e,t){var i,a,n,o,c,d,h,u,l,f,p,m,g,y,v,b,w,k,S,_,O,T,C,x,I;i=e.state,a=e.next_in,x=e.input,n=a+(e.avail_in-5),o=e.next_out,I=e.output,c=o-(t-e.avail_out),d=o+(e.avail_out-257),h=i.dmax,u=i.wsize,l=i.whave,f=i.wnext,p=i.window,m=i.hold,g=i.bits,y=i.lencode,v=i.distcode,b=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;e:do{g<15&&(m+=x[a++]<<g,g+=8,m+=x[a++]<<g,g+=8),k=y[m&b];t:for(;;){if(S=k>>>24,m>>>=S,g-=S,S=k>>>16&255,0===S)I[o++]=65535&k;else{if(!(16&S)){if(0===(64&S)){k=y[(65535&k)+(m&(1<<S)-1)];continue t}if(32&S){i.mode=r;break e}e.msg="invalid literal/length code",i.mode=s;break e}_=65535&k,S&=15,S&&(g<S&&(m+=x[a++]<<g,g+=8),_+=m&(1<<S)-1,m>>>=S,g-=S),g<15&&(m+=x[a++]<<g,g+=8,m+=x[a++]<<g,g+=8),k=v[m&w];i:for(;;){if(S=k>>>24,m>>>=S,g-=S,S=k>>>16&255,!(16&S)){if(0===(64&S)){k=v[(65535&k)+(m&(1<<S)-1)];continue i}e.msg="invalid distance code",i.mode=s;break e}if(O=65535&k,S&=15,g<S&&(m+=x[a++]<<g,g+=8,g<S&&(m+=x[a++]<<g,g+=8)),O+=m&(1<<S)-1,O>h){e.msg="invalid distance too far back",i.mode=s;break e}if(m>>>=S,g-=S,S=o-c,O>S){if(S=O-S,S>l&&i.sane){e.msg="invalid distance too far back",i.mode=s;break e}if(T=0,C=p,0===f){if(T+=u-S,S<_){_-=S;do{I[o++]=p[T++]}while(--S);T=o-O,C=I}}else if(f<S){if(T+=u+f-S,S-=f,S<_){_-=S;do{I[o++]=p[T++]}while(--S);if(T=0,f<_){S=f,_-=S;do{I[o++]=p[T++]}while(--S);T=o-O,C=I}}}else if(T+=f-S,S<_){_-=S;do{I[o++]=p[T++]}while(--S);T=o-O,C=I}while(_>2)I[o++]=C[T++],I[o++]=C[T++],I[o++]=C[T++],_-=3;_&&(I[o++]=C[T++],_>1&&(I[o++]=C[T++]))}else{T=o-O;do{I[o++]=I[T++],I[o++]=I[T++],I[o++]=I[T++],_-=3}while(_>2);_&&(I[o++]=I[T++],_>1&&(I[o++]=I[T++]))}break}}break}}while(a<n&&o<d);_=g>>3,a-=_,g-=_<<3,m&=(1<<g)-1,e.next_in=a,e.next_out=o,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=o<d?d-o+257:257-(o-d),i.hold=m,i.bits=g}},"7f9a":function(e,t,i){var s=i("da84"),r=i("8925"),a=s.WeakMap;e.exports="function"===typeof a&&/native code/.test(r(a))},"7fd8":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,RateLimitExceeded:n,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinfalcon",name:"CoinFalcon",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees",referral:"https://coinfalcon.com/?ref=CFJSVGTUPASB"},api:{public:{get:["markets","markets/{market}","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/orders/{id}","user/orders/{id}/trades","user/trades","user/fees","account/withdrawals/{id}","account/withdrawals","account/deposit/{id}","account/deposits","account/deposit_address"],post:["user/orders","account/withdraw"],delete:["user/orders/{id}","account/withdrawals/{id}"]}},fees:{trading:{tierBased:!0,maker:0,taker:.002}},precision:{amount:8,price:8}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data"),s=[];for(let r=0;r<i.length;r++){const e=i[r],[t,a]=e["name"].split("-"),n=this.safeCurrencyCode(t),o=this.safeCurrencyCode(a),c=n+"/"+o,d={amount:this.safeInteger(e,"size_precision"),price:this.safeInteger(e,"price_precision")};s.push({id:e["name"],symbol:c,base:n,quote:o,baseId:t,quoteId:a,active:!0,precision:d,limits:{amount:{min:Math.pow(10,-d["amount"]),max:void 0},price:{min:Math.pow(10,-d["price"]),max:void 0},cost:{min:void 0,max:void 0}},info:e})}return s}parseTicker(e,t){const i=this.safeString(e,"name"),s=this.safeSymbol(i,t,"-"),r=this.milliseconds(),a=parseFloat(e["last_price"]);return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeNumber(e,"change_in_24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers(t);return i[e]}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),s=this.safeValue(i,"data"),r={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={market:this.marketId(e),level:"3"},r=await this.publicGetMarketsMarketOrders(this.extend(s,i)),a=this.safeValue(r,"data",{});return this.parseOrderBook(a,e,void 0,"bids","asks","price","size")}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"price"),r=this.safeString(e,"size"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(c.stringMul(s,r)),d=t["symbol"],h=this.safeString(e,"id"),u=this.safeString(e,"side"),l=this.safeString(e,"order_id");let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"fee_currency_code");f={cost:p,currency:this.safeCurrencyCode(t)}}return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,id:h,order:l,type:void 0,side:u,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:f}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==t&&(a["start_time"]=this.iso8601(t)),void 0!==i&&(a["limit"]=i);const n=await this.privateGetUserTrades(this.extend(a,s)),c=this.safeValue(n,"data",[]);return this.parseTrades(c,r,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==t&&(a["since"]=this.iso8601(t));const n=await this.publicGetMarketsMarketTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAccounts(e),i={info:t},s=this.safeValue(t,"data");for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"available_balance"),n["used"]=this.safeString(e,"hold_balance"),n["total"]=this.safeString(e,"balance"),i[a]=n}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={fulfilled:"closed",canceled:"canceled",pending:"open",open:"open",partially_filled:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t,"-"),r=this.parse8601(this.safeString(e,"created_at")),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"size"),o=this.safeNumber(e,"size_filled"),c=this.parseOrderStatus(this.safeString(e,"status"));let d=this.safeString(e,"operation_type");void 0!==d&&(d=d.split("_"),d=d[0]);const h=this.safeString(e,"order_type"),u=this.safeValue(e,"post_only");return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,status:c,symbol:s,type:d,timeInForce:void 0,postOnly:u,side:h,price:a,stopPrice:void 0,cost:void 0,amount:n,filled:o,remaining:void 0,trades:void 0,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={market:n["id"],size:this.amountToPrecision(e,s),order_type:i};"limit"===t&&(r=this.priceToPrecision(e,r),o["price"]=r.toString()),o["operation_type"]=t+"_order";const c=await this.privatePostUserOrders(this.extend(o,a)),d=this.safeValue(c,"data",{});return this.parseOrder(d,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateDeleteUserOrdersId(this.extend(s,i)),a=this.market(t),n=this.safeValue(r,"data",{});return this.parseOrder(n,a)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetUserOrdersId(this.extend(s,i)),a=this.safeValue(r,"data",{});return this.parseOrder(a)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["market"]=a["id"]),void 0!==t&&(r["since_time"]=this.iso8601(t));const n=await this.privateGetUserOrders(this.extend(r,s)),o=this.safeValue(n,"data",[]),c=this.filterByArray(o,"status",["pending","open","partially_filled"],!1);return this.parseOrders(c,a,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/api/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):a=this.json(o);const e=this.seconds().toString();let t=[e,i,n].join("|");a&&(t+="|"+a);const s=this.hmac(this.encode(t),this.encode(this.secret));r={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":e,"CF-API-SIGNATURE":s,"Content-Type":"application/json"}}const c=this.urls["api"]+n;return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,o,c,d,h,u){if(e<400)return;const l=this.safeValue({401:a,429:n},e,r);throw new l(c)}}},"80d2":function(e,t,i){"use strict";i.d(t,"h",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return h})),i.d(t,"n",(function(){return u})),i.d(t,"i",(function(){return l})),i.d(t,"o",(function(){return f})),i.d(t,"q",(function(){return p})),i.d(t,"t",(function(){return m})),i.d(t,"k",(function(){return y})),i.d(t,"m",(function(){return v})),i.d(t,"g",(function(){return b})),i.d(t,"v",(function(){return w})),i.d(t,"w",(function(){return S})),i.d(t,"A",(function(){return _})),i.d(t,"x",(function(){return O})),i.d(t,"c",(function(){return C})),i.d(t,"D",(function(){return x})),i.d(t,"u",(function(){return I})),i.d(t,"E",(function(){return E})),i.d(t,"C",(function(){return A})),i.d(t,"j",(function(){return N})),i.d(t,"B",(function(){return M})),i.d(t,"s",(function(){return P})),i.d(t,"p",(function(){return B})),i.d(t,"r",(function(){return R})),i.d(t,"f",(function(){return L})),i.d(t,"z",(function(){return V})),i.d(t,"e",(function(){return D})),i.d(t,"d",(function(){return q})),i.d(t,"y",(function(){return j})),i.d(t,"l",(function(){return G}));var s=i("3835"),r=i("53ca"),a=(i("5530"),i("ac1f"),i("5319"),i("498a"),i("99af"),i("b64b"),i("1276"),i("a630"),i("3ca3"),i("a9e3"),i("dca8"),i("2ca0"),i("fb6a"),i("4e827"),i("d81d"),i("d3b7"),i("25f0"),i("4de4"),i("b0c0"),i("38cf"),i("b680"),i("cb29"),i("2b0e"));function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return a["a"].extend({name:i||e.replace(/__/g,"-"),functional:!0,render:function(i,s){var r=s.data,a=s.children;return r.staticClass="".concat(e," ").concat(r.staticClass||"").trim(),i(t,r,a)}})}function o(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function r(a){i(a),e.removeEventListener(t,r,s)};e.addEventListener(t,r,s)}var c=!1;try{if("undefined"!==typeof window){var d=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testListener",d,d),window.removeEventListener("testListener",d,d)}}catch(U){console.warn(U)}function h(e,t,i,s){e.addEventListener(t,i,!!c&&s)}function u(e,t,i){var s=t.length-1;if(s<0)return void 0===e?i:e;for(var r=0;r<s;r++){if(null==e)return i;e=e[t[r]]}return null==e||void 0===e[t[s]]?i:e[t[s]]}function l(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime())return!1;if(e!==Object(e)||t!==Object(t))return!1;var i=Object.keys(e);return i.length===Object.keys(t).length&&i.every((function(i){return l(e[i],t[i])}))}function f(e,t,i){return null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),u(e,t.split("."),i)):i}function p(e,t,i){if(null==t)return void 0===e?i:e;if(e!==Object(e))return void 0===i?e:i;if("string"===typeof t)return f(e,t,i);if(Array.isArray(t))return u(e,t,i);if("function"!==typeof t)return i;var s=t(e,i);return"undefined"===typeof s?i:s}function m(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return 0;var t=+window.getComputedStyle(e).getPropertyValue("z-index");return t||m(e.parentNode)}var g={"&":"&amp;","<":"&lt;",">":"&gt;"};function y(e){return e.replace(/[&<>]/g,(function(e){return g[e]||e}))}function v(e,t){for(var i={},s=0;s<t.length;s++){var r=t[s];"undefined"!==typeof e[r]&&(i[r]=e[r])}return i}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return null==e||""===e?void 0:isNaN(+e)?String(e):"".concat(Number(e)).concat(t)}function w(e){return(e||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function k(e){return null!==e&&"object"===Object(r["a"])(e)}var S=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function _(e,t){var i=e.$vuetify.icons.component;if(t.startsWith("$")){var s="$vuetify.icons.values.".concat(t.split("$").pop().split(".").pop()),r=f(e,s,t);if("string"!==typeof r)return r;t=r}return null==i?t:{component:i,props:{icon:t}}}function O(e){return Object.keys(e)}var T=/-(\w)/g,C=function(e){return e.replace(T,(function(e,t){return t?t.toUpperCase():""}))};function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}function I(e,t,i){for(var s,r=t[0],a=[],n=0;n<e.length;n++){var o,c=e[n],d=f(c,r,null);if(s!==d)s=d,a.push({name:null!=(o=d)?o:"",items:[]});a[a.length-1].items.push(c)}return a}function E(e){return null!=e?Array.isArray(e)?e:[e]:[]}function A(e,t,i,r,a){if(null===t||!t.length)return e;var n=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return e.sort((function(e,r){for(var o=0;o<t.length;o++){var c=t[o],d=f(e,c),h=f(r,c);if(i[o]){var u=[h,d];d=u[0],h=u[1]}if(a&&a[c]){var l=a[c](d,h);if(!l)continue;return l}if(null!==d||null!==h){if(d instanceof Date&&h instanceof Date)return d.getTime()-h.getTime();var p=[d,h].map((function(e){return(e||"").toString().toLocaleLowerCase()})),m=Object(s["a"])(p,2);if(d=m[0],h=m[1],d!==h)return isNaN(d)||isNaN(h)?n.compare(d,h):Number(d)-Number(h)}}return 0}))}function N(e,t,i){return null!=e&&null!=t&&"boolean"!==typeof e&&-1!==e.toString().toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}function M(e,t){return t?(t=t.toString().toLowerCase(),""===t.trim()?e:e.filter((function(e){return Object.keys(e).some((function(i){return N(f(e,i),t,e)}))}))):e}function P(e,t,i){return e.$slots[t]&&e.$scopedSlots[t]&&e.$scopedSlots[t].name?i?"v-slot":"scoped":e.$slots[t]?"normal":e.$scopedSlots[t]?"scoped":void 0}function B(e,t){return Object.keys(t).filter((function(t){return t.startsWith(e)})).reduce((function(i,s){return i[s.replace(e,"")]=t[s],i}),{})}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.$scopedSlots[t]?e.$scopedSlots[t](i instanceof Function?i():i):!e.$slots[t]||i&&!s?void 0:e.$slots[t]}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(i,e))}function V(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e+i.repeat(Math.max(0,t-e.length))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],s=0;while(s<e.length)i.push(e.substr(s,t)),s+=t;return i}function q(e){return e?Object.keys(e).reduce((function(t,i){return t[C(i)]=e[i],t}),{}):{}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in t){var s=e[i],r=t[i];k(s)&&k(r)?e[i]=j(s,r):e[i]=r}return e}function G(e,t){return Array(e).fill(t)}},"815d":function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},"81d5":function(e,t,i){"use strict";var s=i("7b0b"),r=i("23cb"),a=i("50c4");e.exports=function(e){var t=s(this),i=a(t.length),n=arguments.length,o=r(n>1?arguments[1]:void 0,i),c=n>2?arguments[2]:void 0,d=void 0===c?i:r(c,i);while(d>o)t[o++]=e;return t}},8212:function(e,t,i){"use strict";var s=i("5530"),r=(i("a9e3"),i("3408"),i("a9ad")),a=i("24b2"),n=i("a236"),o=i("80d2"),c=i("58df");t["a"]=Object(c["a"])(r["a"],a["a"],n["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes:function(){return Object(s["a"])({"v-avatar--left":this.left,"v-avatar--right":this.right},this.roundedClasses)},styles:function(){return Object(s["a"])({height:Object(o["g"])(this.size),minWidth:Object(o["g"])(this.size),width:Object(o["g"])(this.size)},this.measurableStyles)}},render:function(e){var t={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return e("div",this.setBackgroundColor(this.color,t),this.$slots.default)}})},"825a":function(e,t,i){var s=i("861d");e.exports=function(e){if(!s(e))throw TypeError(String(e)+" is not an object");return e}},8336:function(e,t,i){"use strict";var s=i("53ca"),r=i("3835"),a=i("5530"),n=(i("c7cd"),i("a9e3"),i("caad"),i("86cc"),i("10d2")),o=(i("99af"),i("8d4f"),i("90a2")),c=i("a9ad"),d=i("80d2"),h=c["a"].extend({name:"v-progress-circular",directives:{intersect:o["a"]},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:function(){return{radius:20,isVisible:!0}},computed:{calculatedSize:function(){return Number(this.size)+(this.button?8:0)},circumference:function(){return 2*Math.PI*this.radius},classes:function(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray:function(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles:function(){return{height:Object(d["g"])(this.calculatedSize),width:Object(d["g"])(this.calculatedSize)}},svgStyles:function(){return{transform:"rotate(".concat(Number(this.rotate),"deg)")}},viewBoxSize:function(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle:function(e,t){return this.$createElement("circle",{class:"v-progress-circular__".concat(e),attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":t}})},genSvg:function(){var e=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"".concat(this.viewBoxSize," ").concat(this.viewBoxSize," ").concat(2*this.viewBoxSize," ").concat(2*this.viewBoxSize)}},e)},genInfo:function(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve:function(e,t,i){this.isVisible=i}},render:function(e){return e("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),u=h,l=i("4e82"),f=i("f2e7"),p=i("c995"),m=i("fe6c"),g=i("1c87"),y=i("af2b"),v=i("58df"),b=i("d9bd"),w=Object(v["a"])(n["a"],g["a"],m["a"],y["a"],Object(l["a"])("btnToggle"),Object(f["b"])("inputValue"));t["a"]=w.extend().extend({name:"v-btn",props:{activeClass:{type:String,default:function(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:function(){return{proxyClass:"v-btn--active"}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({"v-btn":!0},g["a"].options.computed.classes.call(this)),{},{"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top},this.themeClasses),this.groupClasses),this.elevationClasses),this.sizeableClasses)},computedElevation:function(){if(!this.disabled)return p["a"].options.computed.computedElevation.call(this)},computedRipple:function(){var e,t=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(e=this.ripple)?e:t)},hasBg:function(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated:function(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound:function(){return Boolean(this.icon||this.fab)},styles:function(){return Object(a["a"])({},this.measurableStyles)}},created:function(){var e=this,t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach((function(t){var i=Object(r["a"])(t,2),s=i[0],a=i[1];e.$attrs.hasOwnProperty(s)&&Object(b["a"])(s,a,e)}))},methods:{click:function(e){!this.retainFocusOnClick&&!this.fab&&e.detail&&this.$el.blur(),this.$emit("click",e),this.btnToggle&&this.toggle()},genContent:function(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader:function(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(u,{props:{indeterminate:!0,size:23,width:2}})])}},render:function(e){var t=[this.genContent(),this.loading&&this.genLoader()],i=this.generateRouteLink(),r=i.tag,a=i.data,n=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===r&&(a.attrs.type=this.type,a.attrs.disabled=this.disabled),a.attrs.value=["string","number"].includes(Object(s["a"])(this.value))?this.value:JSON.stringify(this.value),e(r,this.disabled?a:n(this.color,a),t)}})},"83ab":function(e,t,i){var s=i("d039");e.exports=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,i){"use strict";var s=i("d925"),r=i("e683");e.exports=function(e,t){return e&&!s(t)?r(e,t):t}},8418:function(e,t,i){"use strict";var s=i("c04e"),r=i("9bf2"),a=i("5c6c");e.exports=function(e,t,i){var n=s(t);n in e?r.f(e,n,a(0,i)):e[n]=i}},"841c":function(e,t,i){"use strict";var s=i("d784"),r=i("825a"),a=i("1d80"),n=i("129f"),o=i("14c3");s("search",(function(e,t,i){return[function(t){var i=a(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,i):new RegExp(t)[e](String(i))},function(e){var s=i(t,this,e);if(s.done)return s.value;var a=r(this),c=String(e),d=a.lastIndex;n(d,0)||(a.lastIndex=0);var h=o(a,c);return n(a.lastIndex,d)||(a.lastIndex=d),null===h?-1:h.index}]}))},"84eb":function(e,t){e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},"857a":function(e,t,i){var s=i("1d80"),r=/"/g;e.exports=function(e,t,i,a){var n=String(s(e)),o="<"+t;return""!==i&&(o+=" "+i+'="'+String(a).replace(r,"&quot;")+'"'),o+">"+n+"</"+t+">"}},"85aa":function(e,t,i){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(i("3ca1")),n=r(i("fe7e")),o="function"===typeof fetch?fetch:i("a18f");function c(e){return o(a.default(e.url,e.base),u(e.options)).then(d)}function d(e){return e.text().then((function(t){return e.ok?n.default(t):Promise.reject(h(t))}))}function h(e){try{return JSON.parse(e)}catch(t){return e}}function u(e){return void 0===e&&(e=Object.create(null)),s({credentials:"include"},e)}t.default=c},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8654:function(e,t,i){"use strict";var s=i("15fd"),r=i("2909"),a=i("5530"),n=(i("a9e3"),i("0481"),i("d3b7"),i("25f0"),i("caad"),i("2b19"),i("4ff9"),i("c37a")),o=(i("99af"),i("e9b1"),i("7560")),c=i("58df"),d=Object(c["a"])(o["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render:function(e,t){var i=t.props,s=parseInt(i.max,10),r=parseInt(i.value,10),n=s?"".concat(r," / ").concat(s):String(i.value),c=s&&r>s;return e("div",{staticClass:"v-counter",class:Object(a["a"])({"error--text":c},Object(o["b"])(t))},n)}}),h=d,u=i("ba87"),l=i("90a2"),f=i("d9bd"),p=i("2b0e");function m(e){return p["a"].extend({name:"intersectable",mounted:function(){l["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed:function(){l["a"].unbind(this.$el)},methods:{onObserve:function(t,i,s){if(s)for(var r=0,a=e.onVisible.length;r<a;r++){var n=this[e.onVisible[r]];"function"!==typeof n?Object(f["c"])(e.onVisible[r]+" method is not available on the instance but referenced in intersectable mixin options"):n()}}}})}var g=i("297c"),y=i("38cb"),v=i("dc22"),b=i("5607"),w=i("dd89"),k=i("80d2"),S=["title"],_=Object(c["a"])(n["a"],m({onVisible:["onResize","tryAutofocus"]}),g["a"]),O=["color","file","time","date","datetime-local","week","month"];t["a"]=_.extend().extend({name:"v-text-field",directives:{resize:v["a"],ripple:b["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,persistentPlaceholder:Boolean,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:function(){return{badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped})},computedColor:function(){var e=y["a"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":e},computedCounterValue:function(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):Object(r["a"])((this.internalValue||"").toString()).length},hasCounter:function(){return!1!==this.counter&&null!=this.counter},hasDetails:function(){return n["a"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("input",this.lazyValue)}},isDirty:function(){var e;return(null==(e=this.lazyValue)?void 0:e.toString().length)>0||this.badInput},isEnclosed:function(){return this.filled||this.isSolo||this.outlined},isLabelActive:function(){return this.isDirty||O.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var e=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(e-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:e,right:"auto"}:{left:"auto",right:e}},showLabel:function(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue:function(){return this.isFocused||this.isLabelActive||this.persistentPlaceholder}},watch:{outlined:"setLabelWidth",label:function(){this.$nextTick(this.setLabelWidth)},prefix:function(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value:function(e){this.lazyValue=e}},created:function(){this.$attrs.hasOwnProperty("box")&&Object(f["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(f["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(f["c"])("shaped should be used with either filled or outlined",this)},mounted:function(){var e=this;this.$watch((function(){return e.labelValue}),this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame((function(){return e.isBooted=!0}))},methods:{focus:function(){this.onFocus()},blur:function(e){var t=this;window.requestAnimationFrame((function(){t.$refs.input&&t.$refs.input.blur()}))},clearableCallback:function(){var e=this;this.$refs.input&&this.$refs.input.focus(),this.$nextTick((function(){return e.internalValue=null}))},genAppendSlot:function(){var e=[];return this.$slots["append-outer"]?e.push(this.$slots["append-outer"]):this.appendOuterIcon&&e.push(this.genIcon("appendOuter")),this.genSlot("append","outer",e)},genPrependInnerSlot:function(){var e=[];return this.$slots["prepend-inner"]?e.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&e.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",e)},genIconSlot:function(){var e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","inner",e)},genInputSlot:function(){var e=n["a"].options.methods.genInputSlot.call(this),t=this.genPrependInnerSlot();return t&&(e.children=e.children||[],e.children.unshift(t)),e},genClearIcon:function(){return this.clearable?this.isDirty?this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback)]):this.genSlot("append","inner",[this.$createElement("div")]):null},genCounter:function(){var e;if(!this.hasCounter)return null;var t=!0===this.counter?this.attrs$.maxlength:this.counter,i={dark:this.dark,light:this.light,max:t,value:this.computedCounterValue};return null!=(e=null==this.$scopedSlots.counter?void 0:this.$scopedSlots.counter({props:i}))?e:this.$createElement(h,{props:i})},genControl:function(){return n["a"].options.methods.genControl.call(this)},genDefaultSlot:function(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset:function(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel:function(){if(!this.showLabel)return null;var e={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(u["a"],e,this.$slots.label||this.label)},genLegend:function(){var e=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,t=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(k["g"])(e)}},[t])},genInput:function(){var e=Object.assign({},this.listeners$);delete e.change;var t=this.attrs$,i=(t.title,Object(s["a"])(t,S));return this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:Object(a["a"])(Object(a["a"])({},i),{},{autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.persistentPlaceholder||this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type}),on:Object.assign(e,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages:function(){if(!this.showDetails)return null;var e=n["a"].options.methods.genMessages.call(this),t=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[e,t])},genTextFieldSlot:function(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix:function(e){return this.$createElement("div",{class:"v-text-field__".concat(e),ref:e},this[e])},onBlur:function(e){var t=this;this.isFocused=!1,e&&this.$nextTick((function(){return t.$emit("blur",e)}))},onClick:function(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus:function(e){if(this.$refs.input){var t=Object(w["a"])(this.$el);if(t)return t.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,e&&this.$emit("focus",e)))}},onInput:function(e){var t=e.target;this.internalValue=t.value,this.badInput=t.validity&&t.validity.badInput},onKeyDown:function(e){e.keyCode===k["w"].enter&&this.$emit("change",this.internalValue),this.$emit("keydown",e)},onMouseDown:function(e){e.target!==this.$refs.input&&(e.preventDefault(),e.stopPropagation()),n["a"].options.methods.onMouseDown.call(this,e)},onMouseUp:function(e){this.hasMouseDown&&this.focus(),n["a"].options.methods.onMouseUp.call(this,e)},setLabelWidth:function(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth:function(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth:function(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus:function(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;var e=Object(w["a"])(this.$el);return!(!e||e.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue:function(e){this.hasColor=e,e?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize:function(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}})},"86cc":function(e,t,i){},8707:function(e,t,i){var s=i("b639"),r=s.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=s:(a(s,t),t.Buffer=n),a(r,n),n.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},n.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var s=r(e);return void 0!==t?"string"===typeof i?s.fill(t,i):s.fill(t):s.fill(0),s},n.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},n.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}},"870b":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,BadRequest:n,OrderNotFound:o,InvalidAddress:c}=i("74b0"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"therock",name:"TheRockTrading",countries:["MT"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds","funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}},exceptions:{exact:{"Request already running":n,"cannot specify multiple address types":n,"Currency is not included in the list":n,"Record not found":o},broad:{"before must be greater than after param":n,"must be shorter than 60 days":n,"must be a multiple of (period param) in minutes":n,"Address allocation limit reached for currency":c,"is not a valid value for param currency":n," is invalid":c}}})}async fetchMarkets(e={}){const t=await this.publicGetFunds(e),i=this.safeValue(t,"funds"),s=[];if(void 0===i)throw new r(this.id+" fetchMarkets got an unexpected response");for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"id"),a=this.safeString(e,"trade_currency"),n=this.safeString(e,"base_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeNumber(e,"buy_fee"),u=this.safeNumber(e,"sell_fee");let l=Math.max(h,u);l/=100;const f=l;s.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:!0,maker:f,taker:l,precision:{amount:this.safeInteger(e,"trade_currency_decimals"),price:this.safeInteger(e,"base_currency_decimals")},limits:{amount:{min:this.safeNumber(e,"minimum_quantity_offer"),max:void 0},price:{min:this.safeNumber(e,"minimum_price_offer"),max:void 0},cost:{min:void 0,max:void 0}}})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i=this.safeValue(t,"balances",[]),s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"trading_balance"),n["total"]=this.safeString(e,"balance"),s[a]=n}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={id:this.marketId(e)},r=await this.publicGetFundsIdOrderbook(this.extend(s,i)),a=this.parse8601(this.safeString(r,"date"));return this.parseOrderBook(r,e,a,"bids","asks","price","amount")}parseTicker(e,t){const i=this.parse8601(e["date"]);let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:r,last:r,previousClose:this.safeNumber(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume_traded"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetFundsTickers(t),s=this.indexBy(i["tickers"],"fund_id"),r=Object.keys(s),a={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeMarket(e),i=t["symbol"],o=s[e];a[i]=this.parseTicker(o,t)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s=await this.publicGetFundsIdTicker(this.extend({id:i["id"]},t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeString(e,"fund_id"),s=this.safeSymbol(i,t),r=this.parse8601(this.safeString(e,"date")),a=this.safeString(e,"id"),n=this.safeString(e,"order_id"),o=this.safeString(e,"side"),c=this.safeString(e,"price"),h=this.safeString(e,"amount"),u=this.parseNumber(c),l=this.parseNumber(h),f=this.parseNumber(d.stringMul(c,h));let p=void 0,m=void 0;const g=this.safeValue(e,"transactions",[]),y=this.groupBy(g,"type"),v=this.safeValue(y,"paid_commission",[]);for(let d=0;d<v.length;d++)void 0===m&&(m=0),m=this.sum(m,this.safeNumber(v[d],"price"));return void 0!==m&&(p={cost:m,currency:t["quote"]}),{info:e,id:a,order:n,timestamp:r,datetime:this.iso8601(r),symbol:s,type:void 0,side:o,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:p}}parseLedgerEntryDirection(e){const t={affiliate_earnings:"in",atm_payment:"in",bought_currency_from_fund:"out",bought_shares:"out",paid_commission:"out",paypal_payment:"in",pos_payment:"in",released_currency_to_fund:"out",rollover_commission:"out",sold_currency_to_fund:"in",sold_shares:"in",transfer_received:"in",transfer_sent:"out",withdraw:"out"};return this.safeString(t,e,e)}parseLedgerEntryType(e){const t={affiliate_earnings:"referral",atm_payment:"transaction",bought_currency_from_fund:"trade",bought_shares:"trade",paid_commission:"fee",paypal_payment:"transaction",pos_payment:"transaction",released_currency_to_fund:"trade",rollover_commission:"fee",sold_currency_to_fund:"trade",sold_shares:"trade",transfer_received:"transfer",transfer_sent:"transfer",withdraw:"transaction"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let s=void 0,r=this.safeString(e,"type");const a=this.parseLedgerEntryDirection(r);r=this.parseLedgerEntryType(r),"trade"!==r&&"fee"!==r||(s=this.safeString(e,"trade_id"));const n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n),c=this.safeNumber(e,"price"),d=this.parse8601(this.safeString(e,"date")),h="ok";return{info:e,id:i,direction:a,account:void 0,referenceId:s,referenceAccount:void 0,type:r,currency:o,amount:c,before:void 0,after:void 0,status:h,timestamp:d,datetime:this.iso8601(d),fee:void 0}}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==t&&(r["after"]=this.iso8601(t));const n=await this.privateGetTransactions(this.extend(r,s)),o=this.safeValue(n,"transactions",[]);return this.parseLedger(o,a,t,i)}parseTransactionType(e){const t={withdraw:"withdrawal",atm_payment:"deposit"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.parseTransactionType(this.safeString(e,"type")),r=this.safeValue(e,"transfer_detail",{}),a=this.safeString(r,"method");let n=void 0,o=void 0;void 0!==a&&"wire_transfer"!==a&&(n=this.safeString(r,"id"),o=this.safeString(r,"recipient"));const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.safeNumber(e,"price"),u=this.parse8601(this.safeString(e,"date")),l="ok";return{info:e,id:i,currency:d,amount:h,addressFrom:void 0,addressTo:o,address:o,tagFrom:void 0,tagTo:void 0,tag:void 0,status:l,type:s,updated:void 0,txid:n,timestamp:u,datetime:this.iso8601(u),fee:void 0}}async fetchWithdrawals(e,t,i,s={}){const r={type:"withdraw"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchDeposits(e,t,i,s={}){const r={type:"atm_payment"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==t&&(r["after"]=this.iso8601(t)),s=this.extend(r,s);const n=await this.privateGetTransactions(s),o=this.safeValue(n,"transactions",[]),c=["withdraw","atm_payment"],d=this.filterByArray(o,"type",c,!1);return this.parseTransactions(d,a,t,i)}parseOrderStatus(e){const t={active:"open",executed:"closed",deleted:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"fund_id"),r=this.safeSymbol(s,t),a=this.parseOrderStatus(this.safeString(e,"status")),n=this.parse8601(this.safeString(e,"date")),o=this.safeString(e,"type"),c=this.safeString(e,"side"),d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"amount_unfilled");let u=void 0;void 0!==d&&void 0!==h&&(u=d-h);const l=this.safeNumber(e,"price");let f=this.safeValue(e,"trades"),p=void 0,m=void 0,g=void 0;if(void 0!==f){const e=f.length;if(e>0){f=this.parseTrades(f,t,void 0,void 0,{orderId:i}),p=0,u=0;for(let t=0;t<e;t++){const e=f[t];p=this.sum(p,e["cost"]),u=this.sum(u,e["amount"])}u>0&&(m=p/u),g=f[e-1]["timestamp"]}else p=0}const y=this.safeNumber(e,"conditional_price");return{id:i,clientOrderId:void 0,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:g,status:a,symbol:r,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:l,stopPrice:y,cost:p,amount:d,filled:u,average:m,remaining:h,fee:void 0,trades:f}}async fetchOpenOrders(e,t,i,s={}){const r={status:"active"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"executed"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={fund_id:r["id"]};void 0!==t&&(n["after"]=this.iso8601(t));const o=await this.privateGetFundsFundIdOrders(this.extend(n,s)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,r,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={id:e,fund_id:s["id"]},n=await this.privatePostFundsFundIdOrdersId(this.extend(r,i));return this.parseOrder(n)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets(),"market"===t&&(r=0);const n={fund_id:this.marketId(e),side:i,amount:s,price:r},o=await this.privatePostFundsFundIdOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e,fund_id:this.marketId(t)},r=await this.privateDeleteFundsFundIdOrdersId(this.extend(s,i));return this.parseOrder(r)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={id:r["id"]};void 0!==i&&(n["per_page"]=i),void 0!==t&&(n["after"]=this.iso8601(t));const o=await this.privateGetFundsIdTrades(this.extend(n,s));return this.parseTrades(o["trades"],r,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={id:r["id"]};void 0!==i&&(a["per_page"]=i),void 0!==t&&(a["after"]=this.iso8601(t));const n=await this.publicGetFundsIdTrades(this.extend(a,s));return this.parseTrades(n["trades"],r,t,i)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if(r=void 0===r?{}:r,"private"===t){if(this.checkRequiredCredentials(),Object.keys(o).length)if("POST"===i)a=this.json(o),r["Content-Type"]="application/json";else{const e=this.rawencode(o);e.length&&(n+="?"+e)}const e=this.nonce().toString(),t=e+n;r["X-TRT-KEY"]=this.apiKey,r["X-TRT-NONCE"]=e,r["X-TRT-SIGN"]=this.hmac(this.encode(t),this.encode(this.secret),"sha512")}else"public"===t&&Object.keys(o).length&&(n+="?"+this.rawencode(o));return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"errors",[]),u=h.length;if(u>0){const e=this.id+" "+n;for(let t=0;t<u;t++){const i=h[t],s=this.safeString(i,"message");this.throwExactlyMatchedException(this.exceptions["exact"],s,e),this.throwBroadlyMatchedException(this.exceptions["broad"],s,e)}throw new r(e)}}}},8925:function(e,t,i){var s=i("c6cd"),r=Function.toString;"function"!=typeof s.inspectSource&&(s.inspectSource=function(e){return r.call(e)}),e.exports=s.inspectSource},8936:function(e,t,i){"use strict";function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=s},8940:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,InvalidNonce:n,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d,DDoSProtection:h}=i("74b0"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOpenOrders:"emulated",fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://trade.coinegg.com/web",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html",referral:"https://www.coinegg.com/user/register?invite=523218"},api:{web:{get:["symbol/ticker?right_coin={quote}","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/region/{quote}","depth/region/{quote}","orders/region/{quote}"]},private:{post:["balance","trade_add/region/{quote}","trade_cancel/region/{quote}","trade_view/region/{quote}","trade_list/region/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:a,104:a,105:a,106:n,200:o,201:c,202:c,203:d,402:h},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc","usdt"]},commonCurrencies:{JBC:"JubaoCoin",SBTC:"Super Bitcoin"}})}async fetchMarkets(e={}){const t=this.options["quoteIds"],i=[];for(let s=0;s<t.length;s++){const e=t[s],r=await this.webGetSymbolTickerRightCoinQuote({quote:e}),a=this.safeValue(r,"data",[]);for(let t=0;t<a.length;t++){const s=a[t],r=s["symbol"],n=r.split("_")[0];let o=n.toUpperCase(),c=e.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=o+"/"+c,h={amount:8,price:8};i.push({id:r,symbol:d,base:o,quote:c,baseId:n,quoteId:e,active:!0,precision:h,limits:{amount:{min:Math.pow(10,-h["amount"]),max:Math.pow(10,h["amount"])},price:{min:Math.pow(10,-h["price"]),max:Math.pow(10,h["price"])},cost:{min:void 0,max:void 0}},info:s})}}return i}parseTicker(e,t){const i=t["symbol"],s=this.milliseconds(),r=this.safeNumber(e,"last"),a=this.safeNumber(e,"change");let n=void 0,o=void 0,c=void 0;if(void 0!==a){const e=a/100;n=r/this.sum(1,e),o=r-n,c=this.sum(r,n)/2}return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:n,close:r,last:r,previousClose:void 0,change:o,percentage:a,average:c,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"quoteVol"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={coin:i["baseId"],quote:i["quoteId"]},r=await this.publicGetTickerRegionQuote(this.extend(s,t));return this.parseTicker(r,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={coin:s["baseId"],quote:s["quoteId"]},a=await this.publicGetDepthRegionQuote(this.extend(r,i));return this.parseOrderBook(a,e)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),s=this.safeString(e,"price"),r=this.safeString(e,"amount"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(u.stringMul(s,r)),c=t["symbol"],d="limit",h=this.safeString(e,"type"),l=this.safeString(e,"tid");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,order:void 0,type:d,side:h,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={coin:r["baseId"],quote:r["quoteId"]},n=await this.publicGetOrdersRegionQuote(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},s=this.safeValue(t,"data",{}),r=this.omit(s,"uid"),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],[t,s]=e.split("_"),o=this.safeCurrencyCode(t);o in i||(i[o]=this.account());const c="lock"===s?"used":"free";i[o][c]=this.safeString(r,e)}return this.parseBalance(i,!1)}parseOrder(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const s=this.parse8601(this.safeString(e,"datetime")),r=this.safeNumber(e,"price"),a=this.safeNumber(e,"amount_original"),n=this.safeNumber(e,"amount_outstanding");let o=this.safeString(e,"status");o="cancelled"===o?"canceled":n?"open":"closed";const c=this.safeValue(e,"info",e),d="limit",h=this.safeString(e,"type"),u=this.safeString(e,"id");return this.safeOrder({id:u,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:o,symbol:i,type:d,timeInForce:void 0,postOnly:void 0,side:h,price:r,stopPrice:void 0,cost:void 0,amount:a,filled:void 0,remaining:n,trades:void 0,fee:void 0,info:c,average:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={coin:n["baseId"],quote:n["quoteId"],type:i,amount:s,price:r},c=await this.privatePostTradeAddRegionQuote(this.extend(o,a)),d=this.safeString(c,"id"),h=this.parseOrder({id:d,datetime:this.ymdhms(this.milliseconds()),amount_original:s,amount_outstanding:s,price:r,type:i,info:c},n);return h}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={id:e,coin:s["baseId"],quote:s["quoteId"]};return await this.privatePostTradeCancelRegionQuote(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={id:e,coin:s["baseId"],quote:s["quoteId"]},a=await this.privatePostTradeViewRegionQuote(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n,s)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={coin:r["baseId"],quote:r["quoteId"]};void 0!==t&&(a["since"]=t/1e3);const n=await this.privatePostTradeListRegionQuote(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,r,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={type:"open"};return await this.fetchOrders(e,t,i,this.extend(r,s))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="rest";"web"===t&&(n=t);let o=this.urls["api"][n]+"/"+this.implodeParams(e,s),c=this.omit(s,this.extractParams(e));if("public"===t||"web"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),c=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},c));const e=this.hash(this.encode(this.secret)),t=this.hmac(this.encode(c),this.encode(e));c+="&signature="+t,"GET"===i?o+="?"+c:(r={"Content-type":"application/x-www-form-urlencoded"},a=c)}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"result");if(void 0===h)return;if(!0===h)return;const u=this.safeString(o,"code"),l=this.errorMessages,f=this.safeString(l,u,"Unknown Error"),p=this.id+" "+f;throw this.throwExactlyMatchedException(this.exceptions,u,p),new r(this.id+" "+f)}}},8961:function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,BadSymbol:n,BadRequest:o,InvalidOrder:c,ArgumentsRequired:d,OrderNotFound:h,InsufficientFunds:u,DDoSProtection:l}=i("74b0"),{TICK_SIZE:f}=i("5ea4"),p=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"ripio",name:"Ripio",countries:["AR","BR"],rateLimit:50,version:"v1",pro:!0,has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/94507548-a83d6a80-0218-11eb-9998-28b9cec54165.jpg",api:{public:"https://api.exchange.ripio.com/api",private:"https://api.exchange.ripio.com/api"},www:"https://exchange.ripio.com",doc:["https://exchange.ripio.com/en/api/"],fees:"https://exchange.ripio.com/en/fee"},api:{public:{get:["rate/all/","rate/{pair}/","orderbook/{pair}/","tradehistory/{pair}/","pair/","currency/","orderbook/{pair}/depth/"]},private:{get:["balances/exchange_balances/","order/{pair}/{order_id}/","order/{pair}/","trade/{pair}/"],post:["order/{pair}/","order/{pair}/{order_id}/cancel/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:0,maker:0}},precisionMode:f,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{},broad:{"Authentication credentials were not provided":r,"Disabled pair":n,"Invalid order type":c,"Your balance is not enough":u,"Order couldn't be created":a,"not found":h,"Invalid pair":n,"amount must be a number":o,"Total must be at least":c,"Account not found":o,"Wrong password provided":r,"User tokens limit":l,"Something unexpected ocurred":a,account_balance:o}}})}async fetchMarkets(e={}){const t=await this.publicGetPair(e),i=[],s=this.safeValue(t,"results",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"base"),a=this.safeString(e,"quote"),n=this.safeString(e,"symbol"),o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:this.safeNumber(e,"min_amount"),price:this.safeNumber(e,"price_tick")},u={amount:{min:this.safeNumber(e,"min_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"min_value"),max:void 0}},l=this.safeValue(e,"enabled",!0),f=this.safeValue(e,"fees",[]),p=this.safeValue(f,0,{}),m=this.safeNumber(p,"maker_fee",0),g=this.safeNumber(p,"taker_fee",0);i.push({id:n,symbol:d,base:o,quote:c,baseId:t,quoteId:a,precision:h,maker:m,taker:g,limits:u,info:e,active:l})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i=this.safeValue(t,"results",[]),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.safeString(e,"name"),o=this.safeValue(e,"enabled",!0),c=this.safeInteger(e,"decimal_places");s[a]={id:t,code:a,name:n,info:e,active:o,fee:void 0,precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return s}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"pair"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"last_price"),n=this.safeNumber(e,"avg");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bid_volume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"ask_volume"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:n,baseVolume:void 0,quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},r=await this.publicGetRatePair(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetRateAll(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)},r=await this.publicGetOrderbookPair(this.extend(s,i)),a=this.parseOrderBook(r,e,void 0,"buy","sell","price","amount");return a["nonce"]=this.safeInteger(r,"updated_id"),a}parseTrade(e,t){const i=this.safeString(e,"id");let s=this.safeInteger(e,"timestamp");s=this.safeTimestamp(e,"created_at",s);let r=this.safeString(e,"side");const a=this.safeString(e,"taker_side"),n=a===r?"taker":"maker";void 0!==r&&(r=r.toLowerCase());const o=this.safeString2(e,"price","match_price"),c=this.safeString2(e,"amount","exchanged"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(p.stringMul(o,c)),l=this.safeString(e,"pair");t=this.safeMarket(l,t);const f=this.safeNumber(e,n+"_fee"),m=this.safeString(e,n);let g=void 0;return void 0!==f&&(g={cost:f,currency:"buy"===r?t["base"]:t["quote"]}),{id:i,order:m,timestamp:s,datetime:this.iso8601(s),symbol:t["symbol"],type:void 0,side:r,price:d,amount:h,cost:u,takerOrMaker:n,fee:g,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]},n=await this.publicGetTradehistoryPair(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalancesExchangeBalances(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"available"),n["used"]=this.safeString(e,"locked"),i[a]=n}return this.parseBalance(i,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c=i.toUpperCase(),d={pair:n["id"],order_type:o,side:c,amount:this.amountToPrecision(e,s)};"LIMIT"===o&&(d["limit_price"]=this.priceToPrecision(e,r));const h=await this.privatePostOrderPair(this.extend(d,a));return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={pair:s["id"],order_id:e},a=await this.privatePostOrderPairOrderIdCancel(this.extend(r,i));return this.parseOrder(a,s)}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={pair:s["id"],order_id:e},a=await this.privateGetOrderPairOrderId(this.extend(r,i));return this.parseOrder(a,s)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==i&&(a["offset"]=i);const n=await this.privateGetOrderPair(this.extend(a,s)),o=this.safeValue(n,"results",{}),c=this.safeValue(o,"data",[]);return this.parseOrders(c,r,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={status:"OPEN,PART"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"CLOS,CANC,COMP"};return await this.fetchOrders(e,t,i,this.extend(r,s))}parseOrderStatus(e){const t={OPEN:"open",PART:"open",CLOS:"canceled",CANC:"canceled",COMP:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),s=this.safeNumber(e,"amount");let r=this.safeNumber(e,"notional");const a=this.safeStringLower(e,"order_type"),n="market"===a?"fill_price":"limit_price",o=this.safeNumber(e,n),c=this.safeStringLower(e,"side"),d=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeTimestamp(e,"created_at");let u=this.safeValue(e,"fill_price"),l=this.safeNumber(e,"filled"),f=void 0;const p=this.safeValue(e,"fills");let m=void 0,g=void 0;if(void 0!==p){const e=p.length;if(e>0){l=0,r=0,m=this.parseTrades(p,t,void 0,void 0,{order:i,side:c});for(let e=0;e<m.length;e++){const t=m[e];l=this.sum(t["amount"],l),r=this.sum(t["cost"],r),g=t["timestamp"]}void 0===u&&l>0&&(u=r/l)}}void 0!==l&&(void 0===r&&void 0!==o&&(r=o*l),void 0!==s&&(f=Math.max(0,s-l)));const y=this.safeString(e,"pair"),v=this.safeSymbol(y,t,"_"),b=this.safeNumber(e,"stop_price");return{id:i,clientOrderId:void 0,info:e,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:g,symbol:v,type:a,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:b,amount:s,cost:r,average:u,filled:l,remaining:f,status:d,fee:void 0,trades:m}}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.privateGetTradePair(this.extend(a,s)),o=this.safeValue(n,"results",{}),c=this.safeValue(o,"data",[]);return this.parseTrades(c,r,t,i)}sign(e,t="public",i="GET",s={},r,a){const n="/"+this.version+"/"+this.implodeParams(e,s);let o=this.urls["api"][t]+n;const c=this.omit(s,this.extractParams(e));return"public"===t?Object.keys(c).length&&(o+="?"+this.urlencode(c)):"private"===t&&(this.checkRequiredCredentials(),"POST"===i?a=this.json(c):Object.keys(c).length&&(o+="?"+this.urlencode(c)),r={"Content-Type":"application/json",Authorization:"Bearer "+this.apiKey}),{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"detail");if(void 0!==h){const e=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions["broad"],h,e)}const u=this.safeValue(o,"errors");if(void 0!==u){const e=this.id+" "+n,t=Object.keys(u);for(let i=0;i<t.length;i++){const s=t[i],r=this.safeValue(u,s,[]),a=this.safeString(r,0);this.throwBroadlyMatchedException(this.exceptions["broad"],a,e)}throw new a(e)}}}},"896c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUBLIC_KEY_LENGTH=32,t.PRIVATE_KEY_LENGTH=32,t.SIGNATURE_LENGTH=64,t.ADDRESS_LENGTH=26,t.MAIN_NET_CHAIN_ID=87,t.TEST_NET_CHAIN_ID=84},8996:function(e,t,i){var s=i("4ab0")._,r=i("1ea0"),a=i("4ab0"),n=i("4203");e.exports.Key=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.setOptions=function(e){var t=n[e.signingScheme],i=n[e.encryptionScheme];t===i?this.signingScheme=this.encryptionScheme=i.makeScheme(this,e):(this.encryptionScheme=i.makeScheme(this,e),this.signingScheme=t.makeScheme(this,e))},e.prototype.setPrivate=function(e,t,i,n,o,c,d,h){if(!(e&&t&&i&&e.length>0&&(s.isNumber(t)||t.length>0)&&i.length>0))throw Error("Invalid RSA private key");this.n=new r(e),this.e=s.isNumber(t)?t:a.get32IntFromBuffer(t,0),this.d=new r(i),n&&o&&c&&d&&h&&(this.p=new r(n),this.q=new r(o),this.dmp1=new r(c),this.dmq1=new r(d),this.coeff=new r(h)),this.$$recalculateCache()},e.prototype.$doPrivate=function(e){if(this.p||this.q)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(i)<0)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.prototype.sign=function(e){return this.signingScheme.sign.apply(this.signingScheme,arguments)},e.prototype.isPrivate=function(){return this.n&&this.e&&this.d||!1},Object.defineProperty(e.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),Object.defineProperty(e.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),Object.defineProperty(e.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),e.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},e}()},"899c":function(e,t,i){},"8a79":function(e,t,i){"use strict";var s=i("23e7"),r=i("06cf").f,a=i("50c4"),n=i("5a34"),o=i("1d80"),c=i("ab13"),d=i("c430"),h="".endsWith,u=Math.min,l=c("endsWith"),f=!d&&!l&&!!function(){var e=r(String.prototype,"endsWith");return e&&!e.writable}();s({target:"String",proto:!0,forced:!f&&!l},{endsWith:function(e){var t=String(o(this));n(e);var i=arguments.length>1?arguments[1]:void 0,s=a(t.length),r=void 0===i?s:u(a(i),s),c=String(e);return h?h.call(t,c,r):t.slice(r-c.length,r)===c}})},"8aa5":function(e,t,i){"use strict";var s=i("6547").charAt;e.exports=function(e,t,i){return t+(i?s(e,t).length:1)}},"8adc":function(e,t,i){},"8ae5":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,ExchangeNotAvailable:n,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"exx",name:"EXX",countries:["CN"],rateLimit:100,userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate",referral:"https://www.exx.com/r/fde4260159e53ab8a58cc9186d35501f?recommQd=1"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}},commonCurrencies:{DOS:"DEMOS",TV:"TIV"},exceptions:{103:a}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),s=[];for(let r=0;r<i.length;r++){const e=i[r],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=!0===a["isOpen"],l=this.safeString(a,"amountScale"),f=this.safeString(a,"priceScale"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:parseInt(l),price:parseInt(f)};s.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:u,precision:g,limits:{amount:{min:this.parseNumber(p),max:void 0},price:{min:this.parseNumber(m),max:void 0},cost:{min:this.safeNumber(a,"minAmount"),max:void 0}},info:a})}return s}parseTicker(e,t){const i=t["symbol"],s=this.safeInteger(e,"date");e=e["ticker"];const r=this.safeNumber(e,"last");return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:this.safeNumber(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={currency:i["id"]},r=await this.publicGetTicker(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s={},r=this.milliseconds(),a=Object.keys(i);for(let n=0;n<a.length;n++){const e=a[n];if(!(e in this.markets_by_id))continue;const t=this.markets_by_id[e],o=t["symbol"],c={date:r,ticker:i[e]};s[o]=this.parseTicker(c,t)}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={currency:this.marketId(e)},r=await this.publicGetDepth(this.extend(s,i)),a=this.safeTimestamp(r,"timestamp");return this.parseOrderBook(r,e,a)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),s=this.safeString(e,"price"),r=this.safeString(e,"amount"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(c.stringMul(s,r));let d=void 0;void 0!==t&&(d=t["symbol"]);const h="limit",u=this.safeString(e,"type"),l=this.safeString(e,"tid");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,order:void 0,type:h,side:u,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currency:r["id"]},n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetBalance(e),i={info:t},s=this.safeValue(t,"funds"),r=Object.keys(s);for(let a=0;a<r.length;a++){const e=r[a],t=s[e],n=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(t,"balance"),o["used"]=this.safeString(t,"freeze"),o["total"]=this.safeString(t,"total"),i[n]=o}return this.parseBalance(i,!1)}parseOrder(e,t){const i=t["symbol"],s=parseInt(e["trade_date"]),r=this.safeNumber(e,"price"),a=this.safeNumber(e,"trade_money"),n=this.safeNumber(e,"total_amount"),o=this.safeNumber(e,"trade_amount",0);let c=this.safeInteger(e,"status");c=1===c?"canceled":2===c?"closed":"open";let d=void 0;return"fees"in e&&(d={cost:this.safeNumber(e,"fees"),currency:t["quote"]}),this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:c,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:e["type"],price:r,stopPrice:void 0,cost:a,amount:n,filled:o,remaining:void 0,trades:void 0,fee:d,info:e,average:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={currency:n["id"],type:i,price:r,amount:s},c=await this.privateGetOrder(this.extend(o,a)),d=this.safeString(c,"id"),h=this.parseOrder({id:d,trade_date:this.milliseconds(),total_amount:s,price:r,type:i,info:c},n);return h}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={id:e,currency:s["id"]},a=await this.privateGetCancel(this.extend(r,i));return a}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={id:e,currency:s["id"]},a=await this.privateGetGetOrder(this.extend(r,i));return this.parseOrder(a,s)}async fetchOpenOrders(e,t,i,s={}){if(await this.loadMarkets(),void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");const r=this.market(e),a={currency:r["id"]},n=await this.privateGetGetOpenOrders(this.extend(a,s));return Array.isArray(n)?this.parseOrders(n,r,t,i):[]}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+e;if("public"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{this.checkRequiredCredentials();const e=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},s))),t=this.hmac(this.encode(e),this.encode(this.secret),"sha512");n+="?"+e+"&signature="+t,r={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,o,c,d,h){if(void 0===c)return;const u=this.safeString(c,"code"),l=this.safeString(c,"message"),f=this.id+" "+o;if("100"===u)return;if(void 0!==u){if(this.throwExactlyMatchedException(this.exceptions,u,f),"308"===u)return;throw new r(f)}const p=this.safeValue(c,"result");if(void 0!==p&&!p)throw""===l?new n(f):new r(f)}}},"8b0d":function(e,t,i){},"8b37":function(e,t,i){},"8b98":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InsufficientFunds:a,InvalidOrder:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"btcturk",name:"BTCTurk",countries:["TR"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchMyTrades:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153926-efbef500-c2c0-11ea-9842-05b63612c4b9.jpg",api:{public:"https://api.btcturk.com/api/v2",private:"https://api.btcturk.com/api/v1",graph:"https://graph-api.btcturk.com/v1"},www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["orderbook","ticker","trades","server/exchangeinfo"]},private:{get:["users/balances","openOrders","allOrders","users/transactions/trade"],post:["order","cancelOrder"],delete:["order"]},graph:{get:["ohlcs"]}},fees:{trading:{maker:.00236,taker:.003*1.18}},exceptions:{exact:{FAILED_ORDER_WITH_OPEN_ORDERS:a,FAILED_LIMIT_ORDER:n,FAILED_MARKET_ORDER:n}}})}async fetchMarkets(e={}){const t=await this.publicGetServerExchangeinfo(e),i=this.safeValue(t,"data"),s=this.safeValue(i,"symbols",[]),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"name"),i=this.safeString(e,"numerator"),n=this.safeString(e,"denominator"),o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"filters");let u=void 0,l=void 0,f=void 0,p=void 0,m=void 0;for(let s=0;s<h.length;s++){const e=h[s],t=this.safeString(e,"filterType");"PRICE_FILTER"===t&&(u=this.safeNumber(e,"minPrice"),l=this.safeNumber(e,"maxPrice"),f=this.safeNumber(e,"minAmount"),p=this.safeNumber(e,"maxAmount"),m=this.safeNumber(e,"minExchangeValue"))}const g=this.safeString(e,"status"),y="TRADING"===g,v={price:{min:u,max:l},amount:{min:f,max:p},cost:{min:m,max:void 0}},b={price:this.safeInteger(e,"denominatorScale"),amount:this.safeInteger(e,"numeratorScale")};r.push({info:e,symbol:d,id:t,base:o,quote:c,baseId:i,quoteId:n,limits:v,precision:b,active:y})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUsersBalances(e),i=this.safeValue(t,"data",[]),s={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"asset"),a=this.safeCurrencyCode(t),n=this.account();n["total"]=this.safeString(e,"balance"),n["free"]=this.safeString(e,"free"),n["used"]=this.safeString(e,"locked"),s[a]=n}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={pairSymbol:s["id"]},a=await this.publicGetOrderbook(this.extend(r,i)),n=this.safeValue(a,"data"),o=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,e,o,"bids","asks",0,1)}parseTicker(e,t){const i=this.safeString(e,"pair"),s=this.safeSymbol(i,t),r=this.safeInteger(e,"timestamp"),a=this.safeNumber(e,"last");return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:a,previousClose:void 0,change:this.safeNumber(e,"daily"),percentage:this.safeNumber(e,"dailyPercent"),average:this.safeNumber(e,"average"),baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s=this.safeValue(i,"data");return this.parseTickers(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeInteger2(e,"date","timestamp"),s=this.safeString2(e,"tid","id"),r=this.safeString(e,"orderId"),a=this.safeString(e,"price"),n=o.stringAbs(this.safeString(e,"amount")),c=this.parseNumber(a),d=this.parseNumber(n),h=this.parseNumber(o.stringMul(a,n)),u=this.safeString(e,"pair"),l=this.safeSymbol(u,t),f=this.safeString2(e,"side","orderType");let p=void 0;const m=this.safeString(e,"fee");if(void 0!==m){const t=this.safeString(e,"denominatorSymbol");p={cost:this.parseNumber(o.stringAbs(m)),currency:this.safeCurrencyCode(t)}}return{info:e,id:s,order:r,timestamp:i,datetime:this.iso8601(i),symbol:l,type:void 0,side:f,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pairSymbol:r["id"]};void 0!==i&&(a["last"]=i);const n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"data");return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1d",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={pair:a["id"]};void 0!==s&&(n["last"]=s);const o=await this.graphGetOhlcs(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={orderType:i,orderMethod:t,pairSymbol:n["id"],quantity:this.amountToPrecision(e,s)};"market"!==t&&(o["price"]=this.priceToPrecision(e,r)),"clientOrderId"in a?o["newClientOrderId"]=a["clientOrderId"]:"newClientOrderId"in a||(o["newClientOrderId"]=this.uuid());const c=await this.privatePostOrder(this.extend(o,a)),d=this.safeValue(c,"data");return this.parseOrder(d,n)}async cancelOrder(e,t,i={}){const s={id:e};return await this.privateDeleteOrder(this.extend(s,i))}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["pairSymbol"]=a["id"]);const n=await this.privateGetOpenOrders(this.extend(r,s)),o=this.safeValue(n,"data"),c=this.safeValue(o,"bids",[]),d=this.safeValue(o,"asks",[]);return this.parseOrders(this.arrayConcat(c,d),a,t,i)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pairSymbol:r["id"]};void 0!==i&&(a["last"]=i),void 0!==t&&(a["startTime"]=Math.floor(t/1e3));const n=await this.privateGetAllOrders(this.extend(a,s)),o=this.safeValue(n,"data");return this.parseOrders(o,r,t,i)}parseOrderStatus(e){const t={Untouched:"open",Partial:"open",Canceled:"canceled",Closed:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"price"),r=new o(s);let a=void 0;const n="0"===r.toString();n||(a=this.parseNumber(r));const c=this.safeString(e,"quantity"),d=this.parseNumber(o.stringAbs(c)),h=this.safeNumber(e,"leftAmount"),u=this.safeNumber(e,"pairSymbol"),l=this.safeSymbol(u,t),f=this.safeString(e,"type"),p=this.safeString(e,"method"),m=this.safeString(e,"orderClientId"),g=this.safeInteger2(e,"updateTime","datetime"),y=this.safeString(e,"status"),v=this.parseOrderStatus(y);return this.safeOrder({info:e,id:i,price:a,amount:d,remaining:h,filled:void 0,cost:void 0,average:void 0,status:v,side:f,type:p,clientOrderId:m,timestamp:g,datetime:this.iso8601(g),symbol:l,fee:void 0})}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a=await this.privateGetUsersTransactionsTrade(),n=this.safeValue(a,"data");return this.parseTrades(n,r,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},a,n){if("btctrader"===this.id)throw new r(this.id+" is an abstract base API for BTCExchange, BTCTurk");let o=this.urls["api"][t]+"/"+e;if("GET"===i||"DELETE"===i?Object.keys(s).length&&(o+="?"+this.urlencode(s)):n=this.json(s),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret),i=this.apiKey+e;a={"X-PCK":this.apiKey,"X-Stamp":e,"X-Signature":this.hmac(this.encode(i),t,"sha256","base64"),"Content-Type":"application/json"}}return{url:o,method:i,body:n,headers:a}}handleErrors(e,t,i,s,a,n,o,c,d){const h=this.safeString(o,"code","0"),u=this.safeString(o,"message"),l=void 0===u?n:u;if(this.throwExactlyMatchedException(this.exceptions["exact"],u,this.id+" "+l),"0"!==h)throw new r(this.id+" "+l)}}},"8c05":function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},"8c2d":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,BadSymbol:a,AuthenticationError:n,InsufficientFunds:o,InvalidOrder:c,ArgumentsRequired:d,OrderNotFound:h,InvalidAddress:u,BadRequest:l,RateLimitExceeded:f,PermissionDenied:p,ExchangeNotAvailable:m,AccountSuspended:g,OnMaintenance:y}=i("74b0"),{SIGNIFICANT_DIGITS:v,DECIMAL_PLACES:b,TRUNCATE:w,ROUND:k}=i("5ea4"),S=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitvavo",name:"Bitvavo",countries:["NL"],rateLimit:500,version:"v2",certified:!0,pro:!0,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchMarkets:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83165440-2f1cf200-a116-11ea-9046-a255d09fb2ed.jpg",api:{public:"https://api.bitvavo.com",private:"https://api.bitvavo.com"},www:"https://bitvavo.com/",doc:"https://docs.bitvavo.com/",fees:"https://bitvavo.com/en/fees",referral:"https://bitvavo.com/?a=24F34952F7"},api:{public:{get:["time","markets","assets","{market}/book","{market}/trades","{market}/candles","ticker/price","ticker/book","ticker/24h"]},private:{get:["order","orders","ordersOpen","trades","balance","deposit","depositHistory","withdrawalHistory"],post:["order","withdrawal"],put:["order"],delete:["order","orders"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.002,tiers:{taker:[[0,.0025],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,.001]],maker:[[0,.002],[5e4,.0015],[1e5,.001],[25e4,6e-4],[5e5,3e-4],[1e6,1e-4],[25e5,-1e-4],[5e6,-3e-4],[1e7,-5e-4]]}}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{101:r,102:l,103:f,104:f,105:p,107:m,108:m,109:m,110:l,200:l,201:l,202:l,203:a,204:l,205:l,206:l,210:c,211:c,212:c,213:c,214:c,215:c,216:o,217:c,230:r,231:r,232:l,233:c,234:c,235:r,236:l,240:h,300:n,301:n,302:n,303:n,304:n,305:n,306:n,307:p,308:n,309:n,310:p,311:p,312:p,315:l,317:g,400:r,401:r,402:p,403:p,404:y,405:r,406:l,407:r,408:o,409:u,410:r,411:l,412:u,413:u,414:r},broad:{"start parameter is invalid":l,"symbol parameter is invalid":a,"amount parameter is invalid":c,"orderId parameter is invalid":c}},options:{"BITVAVO-ACCESS-WINDOW":1e4,fetchCurrencies:{expires:1e3}},precisionMode:v,commonCurrencies:{MIOTA:"IOTA"}})}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e]["precision"])}amountToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e]["precision"]["amount"],b)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,k,this.markets[e]["precision"]["price"],this.precisionMode),this.decimalToPrecision(t,w,8,b)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"time")}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=await this.fetchCurrenciesFromCache(e),s=this.indexBy(i,"symbol"),r=[];for(let a=0;a<t.length;a++){const e=t[a],i=this.safeString(e,"market"),n=this.safeString(e,"base"),o=this.safeString(e,"quote"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeString(e,"status"),l="trading"===u,f=this.safeValue(s,n);let p=void 0;void 0!==f&&(p=this.safeInteger(f,"decimals",8));const m={price:this.safeInteger(e,"pricePrecision"),amount:p};r.push({id:i,symbol:h,base:c,quote:d,baseId:n,quoteId:o,info:e,active:l,precision:m,limits:{amount:{min:this.safeNumber(e,"minOrderInBaseAsset"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minOrderInQuoteAsset"),max:void 0}}})}return r}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),s=this.safeInteger(t,"expires",1e3),r=this.milliseconds();if(void 0===i||r-i>s){const i=await this.publicGetAssets(e);this.options["fetchCurrencies"]=this.extend(t,{response:i,timestamp:r})}return this.safeValue(this.options["fetchCurrencies"],"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r),n=this.safeValue(e,"depositStatus"),o="OK"===n,c=this.safeValue(e,"withdrawalStatus"),d="OK"===c,h=o&&d,u=this.safeString(e,"name"),l=this.safeInteger(e,"decimals",8);i[a]={id:r,info:e,code:a,name:u,active:h,fee:this.safeNumber(e,"withdrawalFee"),precision:l,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"withdrawalMinAmount"),max:void 0}}}}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetTicker24h(this.extend(s,t));return this.parseTicker(r,i)}parseTicker(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t,"-"),r=this.safeInteger(e,"timestamp"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"volume"),o=this.safeNumber(e,"volumeQuote"),c=this.vwap(n,o);let d=void 0,h=void 0,u=void 0;const l=this.safeNumber(e,"open");void 0!==l&&void 0!==a&&(d=a-l,l>0&&(h=d/l*100),u=this.sum(l,a)/2);const f={symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidSize"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askSize"),vwap:c,open:l,close:a,last:a,previousClose:void 0,change:d,percentage:h,average:u,baseVolume:n,quoteVolume:o,info:e};return f}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24h(t);return this.parseTickers(i,e)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==i&&(a["limit"]=i),void 0!==t&&(a["start"]=t);const n=await this.publicGetMarketTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseTrade(e,t){const i=this.safeString(e,"price"),s=this.safeString(e,"amount"),r=this.parseNumber(i),a=this.parseNumber(s),n=this.parseNumber(S.stringMul(i,s)),o=this.safeInteger(e,"timestamp"),c=this.safeString(e,"side"),d=this.safeString2(e,"id","fillId"),h=this.safeInteger(e,"market"),u=this.safeSymbol(h,t,"-"),l=this.safeValue(e,"taker");let f=void 0;void 0!==l&&(f=l?"taker":"maker");const p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"feeCurrency"),i=this.safeCurrencyCode(t);m={cost:p,currency:i}}const g=this.safeString(e,"orderId");return{info:e,id:d,symbol:u,timestamp:o,datetime:this.iso8601(o),order:g,type:void 0,side:c,takerOrMaker:f,price:r,amount:a,cost:n,fee:m}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={market:this.marketId(e)};void 0!==t&&(s["depth"]=t);const r=await this.publicGetMarketBook(this.extend(s,i)),a=this.parseOrderBook(r,e);return a["nonce"]=this.safeInteger(r,"nonce"),a}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={market:a["id"],interval:this.timeframes[t]};if(void 0!==i){const e=this.parseTimeframe(t);n["start"]=i,void 0===s&&(s=1440),n["end"]=this.sum(i,s*e*1e3)}void 0!==s&&(n["limit"]=s);const o=await this.publicGetMarketCandles(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"available"),n["used"]=this.safeString(e,"inOrder"),i[a]=n}return this.parseBalance(i,!1)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={symbol:i["id"]},r=await this.privateGetDeposit(this.extend(s,t)),a=this.safeString(r,"address"),n=this.safeString(r,"paymentId");return this.checkAddress(a),{currency:e,address:a,tag:n,info:r}}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={market:n["id"],side:i,orderType:t},c="stopLossLimit"===t||"takeProfitLimit"===t,h="stopLoss"===t||"takeProfit"===t;if("market"===t){let t=void 0;if(t=void 0!==r?s*r:this.safeNumber2(a,"cost","amountQuote"),void 0!==t){const e=n["precision"]["price"];o["amountQuote"]=this.decimalToPrecision(t,w,e,this.precisionMode)}else o["amount"]=this.amountToPrecision(e,s);a=this.omit(a,["cost","amountQuote"])}else if("limit"===t)o["price"]=this.priceToPrecision(e,r),o["amount"]=this.amountToPrecision(e,s);else if(h||c){let i=this.safeNumber2(a,"stopPrice","triggerAmount");if(void 0===i){if(c)throw new d(this.id+" createOrder requires a stopPrice parameter for a "+t+" order");if(h){if(void 0===r)throw new d(this.id+" createOrder requires a price argument or a stopPrice parameter for a "+t+" order");i=r}}c&&(o["price"]=this.priceToPrecision(e,r)),a=this.omit(a,["stopPrice","triggerAmount"]),o["triggerAmount"]=this.priceToPrecision(e,i),o["triggerType"]="price",o["amount"]=this.amountToPrecision(e,s)}const u=await this.privatePostOrder(this.extend(o,a));return this.parseOrder(u,n)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o=this.market(t);let c={};const h=this.safeNumber(n,"amountRemaining");if(n=this.omit(n,"amountRemaining"),void 0!==a&&(c["price"]=this.priceToPrecision(t,a)),void 0!==r&&(c["amount"]=this.amountToPrecision(t,r)),void 0!==h&&(c["amountRemaining"]=this.amountToPrecision(t,h)),c=this.extend(c,n),Object.keys(c).length){c["orderId"]=e,c["market"]=o["id"];const t=await this.privatePutOrder(this.extend(c,n));return this.parseOrder(t,o)}throw new d(this.id+" editOrder() requires an amount argument, or a price argument, or non-empty params")}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={orderId:e,market:s["id"]},a=await this.privateDeleteOrder(this.extend(r,i));return this.parseOrder(a,s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;void 0!==e&&(s=this.market(e),i["market"]=s["id"]);const r=await this.privateDeleteOrders(this.extend(i,t));return this.parseOrders(r,s)}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={orderId:e,market:s["id"]},a=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(a,s)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const n=await this.privateGetOrders(this.extend(a,s));return this.parseOrders(n,r,t,i)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["market"]=a["id"]);const n=await this.privateGetOrdersOpen(this.extend(r,s));return this.parseOrders(n,a,t,i)}parseOrderStatus(e){const t={new:"open",canceled:"canceled",canceledAuction:"canceled",canceledSelfTradePrevention:"canceled",canceledIOC:"canceled",canceledFOK:"canceled",canceledMarketProtection:"canceled",canceledPostOnly:"canceled",filled:"closed",partiallyFilled:"open",expired:"canceled",rejected:"canceled",awaitingTrigger:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),s=this.safeInteger(e,"created"),r=this.safeString(e,"market"),a=this.safeSymbol(r,t,"-"),n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"side"),c=this.safeString(e,"orderType"),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"amount"),u=this.safeNumber(e,"amountRemaining"),l=this.safeNumber(e,"filledAmount"),f=this.safeNumber(e,"filledAmountQuote");let p=void 0;const m=this.safeNumber(e,"feePaid");if(void 0!==m){const t=this.safeString(e,"feeCurrency"),i=this.safeCurrencyCode(t);p={cost:m,currency:i}}const g=this.safeValue(e,"fills",[]),y=this.parseTrades(g,t,void 0,void 0,{symbol:a,order:i,side:o,type:c}),v=this.safeString(e,"timeInForce"),b=this.safeValue(e,"postOnly"),w=this.safeNumber(e,"triggerPrice");return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:a,type:c,timeInForce:v,postOnly:b,side:o,price:d,stopPrice:w,amount:h,cost:f,average:void 0,filled:l,remaining:u,status:n,fee:p,trades:y})}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new d(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const n=await this.privateGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={symbol:a["id"],amount:this.currencyToPrecision(e,t),address:i};void 0!==s&&(n["paymentId"]=s);const o=await this.privatePostWithdrawal(this.extend(n,r));return this.parseTransaction(o,a)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["symbol"]=a["id"]),void 0!==t&&(r["start"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetWithdrawalHistory(this.extend(r,s));return this.parseTransactions(n,a,t,i)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["symbol"]=a["id"]),void 0!==t&&(r["start"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetDepositHistory(this.extend(r,s));return this.parseTransactions(n,a,t,i)}parseTransactionStatus(e){const t={awaiting_processing:"pending",awaiting_email_confirmation:"pending",awaiting_bitvavo_inspection:"pending",approved:"pending",sending:"pending",in_mempool:"pending",processed:"pending",completed:"ok",canceled:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=void 0,s=this.safeInteger(e,"timestamp"),r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r,t),n=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeNumber(e,"amount"),c=this.safeString(e,"address"),d=this.safeString(e,"txId");let h=void 0;const u=this.safeNumber(e,"fee");void 0!==u&&(h={cost:u,currency:a});let l=void 0;l="success"in e?"withdrawal":void 0===n?"deposit":"withdrawal";const f=this.safeString(e,"paymentId");return{info:e,id:i,txid:d,timestamp:s,datetime:this.iso8601(s),addressFrom:void 0,address:c,addressTo:c,tagFrom:void 0,tag:f,tagTo:f,type:l,amount:o,currency:a,status:n,updated:void 0,fee:h}}sign(e,t="public",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e));let o="/"+this.version+"/"+this.implodeParams(e,s);const c="GET"===i||"DELETE"===i;if(c&&Object.keys(n).length&&(o+="?"+this.urlencode(n)),"private"===t){this.checkRequiredCredentials();let e="";c||Object.keys(n).length&&(a=this.json(n),e=a);const t=this.milliseconds().toString(),s=t+i+o+e,d=this.hmac(this.encode(s),this.encode(this.secret)),h=this.safeString(this.options,"BITVAVO-ACCESS-WINDOW","10000");r={"BITVAVO-ACCESS-KEY":this.apiKey,"BITVAVO-ACCESS-SIGNATURE":d,"BITVAVO-ACCESS-TIMESTAMP":t,"BITVAVO-ACCESS-WINDOW":h},c||(r["Content-Type"]="application/json")}return o=this.urls["api"][t]+o,{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"errorCode"),u=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+n;throw this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),this.throwExactlyMatchedException(this.exceptions["exact"],h,e),new r(e)}}}},"8c4f":function(e,t,i){"use strict";
/*!
  * vue-router v3.5.2
  * (c) 2021 Evan You
  * @license MIT
  */function s(e,t){0}function r(e,t){for(var i in t)e[i]=t[i];return e}var a=/[!'()*]/g,n=function(e){return"%"+e.charCodeAt(0).toString(16)},o=/%2C/g,c=function(e){return encodeURIComponent(e).replace(a,n).replace(o,",")};function d(e){try{return decodeURIComponent(e)}catch(t){0}return e}function h(e,t,i){void 0===t&&(t={});var s,r=i||l;try{s=r(e||"")}catch(o){s={}}for(var a in t){var n=t[a];s[a]=Array.isArray(n)?n.map(u):u(n)}return s}var u=function(e){return null==e||"object"===typeof e?e:String(e)};function l(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var i=e.replace(/\+/g," ").split("="),s=d(i.shift()),r=i.length>0?d(i.join("=")):null;void 0===t[s]?t[s]=r:Array.isArray(t[s])?t[s].push(r):t[s]=[t[s],r]})),t):t}function f(e){var t=e?Object.keys(e).map((function(t){var i=e[t];if(void 0===i)return"";if(null===i)return c(t);if(Array.isArray(i)){var s=[];return i.forEach((function(e){void 0!==e&&(null===e?s.push(c(t)):s.push(c(t)+"="+c(e)))})),s.join("&")}return c(t)+"="+c(i)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function m(e,t,i,s){var r=s&&s.options.stringifyQuery,a=t.query||{};try{a=g(a)}catch(o){}var n={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:a,params:t.params||{},fullPath:b(t,r),matched:e?v(e):[]};return i&&(n.redirectedFrom=b(i,r)),Object.freeze(n)}function g(e){if(Array.isArray(e))return e.map(g);if(e&&"object"===typeof e){var t={};for(var i in e)t[i]=g(e[i]);return t}return e}var y=m(null,{path:"/"});function v(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function b(e,t){var i=e.path,s=e.query;void 0===s&&(s={});var r=e.hash;void 0===r&&(r="");var a=t||f;return(i||"/")+a(s)+r}function w(e,t,i){return t===y?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&(i||e.hash===t.hash&&k(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(i||e.hash===t.hash&&k(e.query,t.query)&&k(e.params,t.params))))}function k(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),s=Object.keys(t).sort();return i.length===s.length&&i.every((function(i,r){var a=e[i],n=s[r];if(n!==i)return!1;var o=t[i];return null==a||null==o?a===o:"object"===typeof a&&"object"===typeof o?k(a,o):String(a)===String(o)}))}function S(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&_(e.query,t.query)}function _(e,t){for(var i in t)if(!(i in e))return!1;return!0}function O(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var s in i.instances){var r=i.instances[s],a=i.enteredCbs[s];if(r&&a){delete i.enteredCbs[s];for(var n=0;n<a.length;n++)r._isBeingDestroyed||a[n](r)}}}}var T={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,s=t.children,a=t.parent,n=t.data;n.routerView=!0;var o=a.$createElement,c=i.name,d=a.$route,h=a._routerViewCache||(a._routerViewCache={}),u=0,l=!1;while(a&&a._routerRoot!==a){var f=a.$vnode?a.$vnode.data:{};f.routerView&&u++,f.keepAlive&&a._directInactive&&a._inactive&&(l=!0),a=a.$parent}if(n.routerViewDepth=u,l){var p=h[c],m=p&&p.component;return m?(p.configProps&&C(m,n,p.route,p.configProps),o(m,n,s)):o()}var g=d.matched[u],y=g&&g.components[c];if(!g||!y)return h[c]=null,o();h[c]={component:y},n.registerRouteInstance=function(e,t){var i=g.instances[c];(t&&i!==e||!t&&i===e)&&(g.instances[c]=t)},(n.hook||(n.hook={})).prepatch=function(e,t){g.instances[c]=t.componentInstance},n.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[c]&&(g.instances[c]=e.componentInstance),O(d)};var v=g.props&&g.props[c];return v&&(r(h[c],{route:d,configProps:v}),C(y,n,d,v)),o(y,n,s)}};function C(e,t,i,s){var a=t.props=x(i,s);if(a){a=t.props=r({},a);var n=t.attrs=t.attrs||{};for(var o in a)e.props&&o in e.props||(n[o]=a[o],delete a[o])}}function x(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function I(e,t,i){var s=e.charAt(0);if("/"===s)return e;if("?"===s||"#"===s)return t+e;var r=t.split("/");i&&r[r.length-1]||r.pop();for(var a=e.replace(/^\//,"").split("/"),n=0;n<a.length;n++){var o=a[n];".."===o?r.pop():"."!==o&&r.push(o)}return""!==r[0]&&r.unshift(""),r.join("/")}function E(e){var t="",i="",s=e.indexOf("#");s>=0&&(t=e.slice(s),e=e.slice(0,s));var r=e.indexOf("?");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{path:e,query:i,hash:t}}function A(e){return e.replace(/\/\//g,"/")}var N=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},M=Z,P=D,B=q,R=U,L=X,V=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function D(e,t){var i,s=[],r=0,a=0,n="",o=t&&t.delimiter||"/";while(null!=(i=V.exec(e))){var c=i[0],d=i[1],h=i.index;if(n+=e.slice(a,h),a=h+c.length,d)n+=d[1];else{var u=e[a],l=i[2],f=i[3],p=i[4],m=i[5],g=i[6],y=i[7];n&&(s.push(n),n="");var v=null!=l&&null!=u&&u!==l,b="+"===g||"*"===g,w="?"===g||"*"===g,k=i[2]||o,S=p||m;s.push({name:f||r++,prefix:l||"",delimiter:k,optional:w,repeat:b,partial:v,asterisk:!!y,pattern:S?H(S):y?".*":"[^"+F(k)+"]+?"})}}return a<e.length&&(n+=e.substr(a)),n&&s.push(n),s}function q(e,t){return U(D(e,t),t)}function j(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function G(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function U(e,t){for(var i=new Array(e.length),s=0;s<e.length;s++)"object"===typeof e[s]&&(i[s]=new RegExp("^(?:"+e[s].pattern+")$",K(t)));return function(t,s){for(var r="",a=t||{},n=s||{},o=n.pretty?j:encodeURIComponent,c=0;c<e.length;c++){var d=e[c];if("string"!==typeof d){var h,u=a[d.name];if(null==u){if(d.optional){d.partial&&(r+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(N(u)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(h=o(u[l]),!i[c].test(h))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===l?d.prefix:d.delimiter)+h}}else{if(h=d.asterisk?G(u):o(u),!i[c].test(h))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+h+'"');r+=d.prefix+h}}else r+=d}return r}}function F(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function z(e,t){return e.keys=t,e}function K(e){return e&&e.sensitive?"":"i"}function W(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var s=0;s<i.length;s++)t.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return z(e,t)}function $(e,t,i){for(var s=[],r=0;r<e.length;r++)s.push(Z(e[r],t,i).source);var a=new RegExp("(?:"+s.join("|")+")",K(i));return z(a,t)}function Y(e,t,i){return X(D(e,i),t,i)}function X(e,t,i){N(t)||(i=t||i,t=[]),i=i||{};for(var s=i.strict,r=!1!==i.end,a="",n=0;n<e.length;n++){var o=e[n];if("string"===typeof o)a+=F(o);else{var c=F(o.prefix),d="(?:"+o.pattern+")";t.push(o),o.repeat&&(d+="(?:"+c+d+")*"),d=o.optional?o.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")",a+=d}}var h=F(i.delimiter||"/"),u=a.slice(-h.length)===h;return s||(a=(u?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=r?"$":s&&u?"":"(?="+h+"|$)",z(new RegExp("^"+a,K(i)),t)}function Z(e,t,i){return N(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?W(e,t):N(e)?$(e,t,i):Y(e,t,i)}M.parse=P,M.compile=B,M.tokensToFunction=R,M.tokensToRegExp=L;var Q=Object.create(null);function J(e,t,i){t=t||{};try{var s=Q[e]||(Q[e]=M.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),s(t,{pretty:!0})}catch(r){return""}finally{delete t[0]}}function ee(e,t,i,s){var a="string"===typeof e?{path:e}:e;if(a._normalized)return a;if(a.name){a=r({},e);var n=a.params;return n&&"object"===typeof n&&(a.params=r({},n)),a}if(!a.path&&a.params&&t){a=r({},a),a._normalized=!0;var o=r(r({},t.params),a.params);if(t.name)a.name=t.name,a.params=o;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;a.path=J(c,o,"path "+t.path)}else 0;return a}var d=E(a.path||""),u=t&&t.path||"/",l=d.path?I(d.path,u,i||a.append):u,f=h(d.query,a.query,s&&s.options.parseQuery),p=a.hash||d.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:l,query:f,hash:p}}var te,ie=[String,Object],se=[String,Array],re=function(){},ae={name:"RouterLink",props:{to:{type:ie,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:se,default:"click"}},render:function(e){var t=this,i=this.$router,s=this.$route,a=i.resolve(this.to,s,this.append),n=a.location,o=a.route,c=a.href,d={},h=i.options.linkActiveClass,u=i.options.linkExactActiveClass,l=null==h?"router-link-active":h,f=null==u?"router-link-exact-active":u,p=null==this.activeClass?l:this.activeClass,g=null==this.exactActiveClass?f:this.exactActiveClass,y=o.redirectedFrom?m(null,ee(o.redirectedFrom),null,i):o;d[g]=w(s,y,this.exactPath),d[p]=this.exact||this.exactPath?d[g]:S(s,y);var v=d[g]?this.ariaCurrentValue:null,b=function(e){ne(e)&&(t.replace?i.replace(n,re):i.push(n,re))},k={click:ne};Array.isArray(this.event)?this.event.forEach((function(e){k[e]=b})):k[this.event]=b;var _={class:d},O=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:o,navigate:b,isActive:d[p],isExactActive:d[g]});if(O){if(1===O.length)return O[0];if(O.length>1||!O.length)return 0===O.length?e():e("span",{},O)}if("a"===this.tag)_.on=k,_.attrs={href:c,"aria-current":v};else{var T=oe(this.$slots.default);if(T){T.isStatic=!1;var C=T.data=r({},T.data);for(var x in C.on=C.on||{},C.on){var I=C.on[x];x in k&&(C.on[x]=Array.isArray(I)?I:[I])}for(var E in k)E in C.on?C.on[E].push(k[E]):C.on[E]=b;var A=T.data.attrs=r({},T.data.attrs);A.href=c,A["aria-current"]=v}else _.on=k}return e(this.tag,_,this.$slots.default)}};function ne(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function oe(e){if(e)for(var t,i=0;i<e.length;i++){if(t=e[i],"a"===t.tag)return t;if(t.children&&(t=oe(t.children)))return t}}function ce(e){if(!ce.installed||te!==e){ce.installed=!0,te=e;var t=function(e){return void 0!==e},i=function(e,i){var s=e.$options._parentVnode;t(s)&&t(s=s.data)&&t(s=s.registerRouteInstance)&&s(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",T),e.component("RouterLink",ae);var s=e.config.optionMergeStrategies;s.beforeRouteEnter=s.beforeRouteLeave=s.beforeRouteUpdate=s.created}}var de="undefined"!==typeof window;function he(e,t,i,s,r){var a=t||[],n=i||Object.create(null),o=s||Object.create(null);e.forEach((function(e){ue(a,n,o,e,r)}));for(var c=0,d=a.length;c<d;c++)"*"===a[c]&&(a.push(a.splice(c,1)[0]),d--,c--);return{pathList:a,pathMap:n,nameMap:o}}function ue(e,t,i,s,r,a){var n=s.path,o=s.name;var c=s.pathToRegexpOptions||{},d=fe(n,r,c.strict);"boolean"===typeof s.caseSensitive&&(c.sensitive=s.caseSensitive);var h={path:d,regex:le(d,c),components:s.components||{default:s.component},alias:s.alias?"string"===typeof s.alias?[s.alias]:s.alias:[],instances:{},enteredCbs:{},name:o,parent:r,matchAs:a,redirect:s.redirect,beforeEnter:s.beforeEnter,meta:s.meta||{},props:null==s.props?{}:s.components?s.props:{default:s.props}};if(s.children&&s.children.forEach((function(s){var r=a?A(a+"/"+s.path):void 0;ue(e,t,i,s,h,r)})),t[h.path]||(e.push(h.path),t[h.path]=h),void 0!==s.alias)for(var u=Array.isArray(s.alias)?s.alias:[s.alias],l=0;l<u.length;++l){var f=u[l];0;var p={path:f,children:s.children};ue(e,t,i,p,r,h.path||"/")}o&&(i[o]||(i[o]=h))}function le(e,t){var i=M(e,[],t);return i}function fe(e,t,i){return i||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:A(t.path+"/"+e)}function pe(e,t){var i=he(e),s=i.pathList,r=i.pathMap,a=i.nameMap;function n(e){he(e,s,r,a)}function o(e,t){var i="object"!==typeof e?a[e]:void 0;he([t||e],s,r,a,i),i&&i.alias.length&&he(i.alias.map((function(e){return{path:e,children:[t]}})),s,r,a,i)}function c(){return s.map((function(e){return r[e]}))}function d(e,i,n){var o=ee(e,i,!1,t),c=o.name;if(c){var d=a[c];if(!d)return l(null,o);var h=d.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof o.params&&(o.params={}),i&&"object"===typeof i.params)for(var u in i.params)!(u in o.params)&&h.indexOf(u)>-1&&(o.params[u]=i.params[u]);return o.path=J(d.path,o.params,'named route "'+c+'"'),l(d,o,n)}if(o.path){o.params={};for(var f=0;f<s.length;f++){var p=s[f],m=r[p];if(me(m.regex,o.path,o.params))return l(m,o,n)}}return l(null,o)}function h(e,i){var s=e.redirect,r="function"===typeof s?s(m(e,i,null,t)):s;if("string"===typeof r&&(r={path:r}),!r||"object"!==typeof r)return l(null,i);var n=r,o=n.name,c=n.path,h=i.query,u=i.hash,f=i.params;if(h=n.hasOwnProperty("query")?n.query:h,u=n.hasOwnProperty("hash")?n.hash:u,f=n.hasOwnProperty("params")?n.params:f,o){a[o];return d({_normalized:!0,name:o,query:h,hash:u,params:f},void 0,i)}if(c){var p=ge(c,e),g=J(p,f,'redirect route with path "'+p+'"');return d({_normalized:!0,path:g,query:h,hash:u},void 0,i)}return l(null,i)}function u(e,t,i){var s=J(i,t.params,'aliased route with path "'+i+'"'),r=d({_normalized:!0,path:s});if(r){var a=r.matched,n=a[a.length-1];return t.params=r.params,l(n,t)}return l(null,t)}function l(e,i,s){return e&&e.redirect?h(e,s||i):e&&e.matchAs?u(e,i,e.matchAs):m(e,i,s,t)}return{match:d,addRoute:o,getRoutes:c,addRoutes:n}}function me(e,t,i){var s=t.match(e);if(!s)return!1;if(!i)return!0;for(var r=1,a=s.length;r<a;++r){var n=e.keys[r-1];n&&(i[n.name||"pathMatch"]="string"===typeof s[r]?d(s[r]):s[r])}return!0}function ge(e,t){return I(e,t.parent?t.parent.path:"/",!0)}var ye=de&&window.performance&&window.performance.now?window.performance:Date;function ve(){return ye.now().toFixed(3)}var be=ve();function we(){return be}function ke(e){return be=e}var Se=Object.create(null);function _e(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=r({},window.history.state);return i.key=we(),window.history.replaceState(i,"",t),window.addEventListener("popstate",Ce),function(){window.removeEventListener("popstate",Ce)}}function Oe(e,t,i,s){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick((function(){var a=xe(),n=r.call(e,t,i,s?a:null);n&&("function"===typeof n.then?n.then((function(e){Be(e,a)})).catch((function(e){0})):Be(n,a))}))}}function Te(){var e=we();e&&(Se[e]={x:window.pageXOffset,y:window.pageYOffset})}function Ce(e){Te(),e.state&&e.state.key&&ke(e.state.key)}function xe(){var e=we();if(e)return Se[e]}function Ie(e,t){var i=document.documentElement,s=i.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-s.left-t.x,y:r.top-s.top-t.y}}function Ee(e){return Me(e.x)||Me(e.y)}function Ae(e){return{x:Me(e.x)?e.x:window.pageXOffset,y:Me(e.y)?e.y:window.pageYOffset}}function Ne(e){return{x:Me(e.x)?e.x:0,y:Me(e.y)?e.y:0}}function Me(e){return"number"===typeof e}var Pe=/^#\d/;function Be(e,t){var i="object"===typeof e;if(i&&"string"===typeof e.selector){var s=Pe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(s){var r=e.offset&&"object"===typeof e.offset?e.offset:{};r=Ne(r),t=Ie(s,r)}else Ee(e)&&(t=Ae(e))}else i&&Ee(e)&&(t=Ae(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var Re=de&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Le(e,t){Te();var i=window.history;try{if(t){var s=r({},i.state);s.key=we(),i.replaceState(s,"",e)}else i.pushState({key:ke(ve())},"",e)}catch(a){window.location[t?"replace":"assign"](e)}}function Ve(e){Le(e,!0)}function De(e,t,i){var s=function(r){r>=e.length?i():e[r]?t(e[r],(function(){s(r+1)})):s(r+1)};s(0)}var qe={redirected:2,aborted:4,cancelled:8,duplicated:16};function je(e,t){return He(e,t,qe.redirected,'Redirected when going from "'+e.fullPath+'" to "'+Ke(t)+'" via a navigation guard.')}function Ge(e,t){var i=He(e,t,qe.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return i.name="NavigationDuplicated",i}function Ue(e,t){return He(e,t,qe.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Fe(e,t){return He(e,t,qe.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function He(e,t,i,s){var r=new Error(s);return r._isRouter=!0,r.from=e,r.to=t,r.type=i,r}var ze=["params","query","hash"];function Ke(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return ze.forEach((function(i){i in e&&(t[i]=e[i])})),JSON.stringify(t,null,2)}function We(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function $e(e,t){return We(e)&&e._isRouter&&(null==t||e.type===t)}function Ye(e){return function(t,i,s){var r=!1,a=0,n=null;Xe(e,(function(e,t,i,o){if("function"===typeof e&&void 0===e.cid){r=!0,a++;var c,d=et((function(t){Je(t)&&(t=t.default),e.resolved="function"===typeof t?t:te.extend(t),i.components[o]=t,a--,a<=0&&s()})),h=et((function(e){var t="Failed to resolve async component "+o+": "+e;n||(n=We(e)?e:new Error(t),s(n))}));try{c=e(d,h)}catch(l){h(l)}if(c)if("function"===typeof c.then)c.then(d,h);else{var u=c.component;u&&"function"===typeof u.then&&u.then(d,h)}}})),r||s()}}function Xe(e,t){return Ze(e.map((function(e){return Object.keys(e.components).map((function(i){return t(e.components[i],e.instances[i],e,i)}))})))}function Ze(e){return Array.prototype.concat.apply([],e)}var Qe="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Je(e){return e.__esModule||Qe&&"Module"===e[Symbol.toStringTag]}function et(e){var t=!1;return function(){var i=[],s=arguments.length;while(s--)i[s]=arguments[s];if(!t)return t=!0,e.apply(this,i)}}var tt=function(e,t){this.router=e,this.base=it(t),this.current=y,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function it(e){if(!e)if(de){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function st(e,t){var i,s=Math.max(e.length,t.length);for(i=0;i<s;i++)if(e[i]!==t[i])break;return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}function rt(e,t,i,s){var r=Xe(e,(function(e,s,r,a){var n=at(e,t);if(n)return Array.isArray(n)?n.map((function(e){return i(e,s,r,a)})):i(n,s,r,a)}));return Ze(s?r.reverse():r)}function at(e,t){return"function"!==typeof e&&(e=te.extend(e)),e.options[t]}function nt(e){return rt(e,"beforeRouteLeave",ct,!0)}function ot(e){return rt(e,"beforeRouteUpdate",ct)}function ct(e,t){if(t)return function(){return e.apply(t,arguments)}}function dt(e){return rt(e,"beforeRouteEnter",(function(e,t,i,s){return ht(e,i,s)}))}function ht(e,t,i){return function(s,r,a){return e(s,r,(function(e){"function"===typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),a(e)}))}}tt.prototype.listen=function(e){this.cb=e},tt.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},tt.prototype.onError=function(e){this.errorCbs.push(e)},tt.prototype.transitionTo=function(e,t,i){var s,r=this;try{s=this.router.match(e,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var a=this.current;this.confirmTransition(s,(function(){r.updateRoute(s),t&&t(s),r.ensureURL(),r.router.afterHooks.forEach((function(e){e&&e(s,a)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(s)})))}),(function(e){i&&i(e),e&&!r.ready&&($e(e,qe.redirected)&&a===y||(r.ready=!0,r.readyErrorCbs.forEach((function(t){t(e)}))))}))},tt.prototype.confirmTransition=function(e,t,i){var r=this,a=this.current;this.pending=e;var n=function(e){!$e(e)&&We(e)&&(r.errorCbs.length?r.errorCbs.forEach((function(t){t(e)})):(s(!1,"uncaught error during route navigation:"),console.error(e))),i&&i(e)},o=e.matched.length-1,c=a.matched.length-1;if(w(e,a)&&o===c&&e.matched[o]===a.matched[c])return this.ensureURL(),n(Ge(a,e));var d=st(this.current.matched,e.matched),h=d.updated,u=d.deactivated,l=d.activated,f=[].concat(nt(u),this.router.beforeHooks,ot(h),l.map((function(e){return e.beforeEnter})),Ye(l)),p=function(t,i){if(r.pending!==e)return n(Ue(a,e));try{t(e,a,(function(t){!1===t?(r.ensureURL(!0),n(Fe(a,e))):We(t)?(r.ensureURL(!0),n(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(n(je(a,e)),"object"===typeof t&&t.replace?r.replace(t):r.push(t)):i(t)}))}catch(s){n(s)}};De(f,p,(function(){var i=dt(l),s=i.concat(r.router.resolveHooks);De(s,p,(function(){if(r.pending!==e)return n(Ue(a,e));r.pending=null,t(e),r.router.app&&r.router.app.$nextTick((function(){O(e)}))}))}))},tt.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},tt.prototype.setupListeners=function(){},tt.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=y,this.pending=null};var ut=function(e){function t(t,i){e.call(this,t,i),this._startLocation=lt(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,s=Re&&i;s&&this.listeners.push(_e());var r=function(){var i=e.current,r=lt(e.base);e.current===y&&r===e._startLocation||e.transitionTo(r,(function(e){s&&Oe(t,e,i,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var s=this,r=this,a=r.current;this.transitionTo(e,(function(e){Le(A(s.base+e.fullPath)),Oe(s.router,e,a,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var s=this,r=this,a=r.current;this.transitionTo(e,(function(e){Ve(A(s.base+e.fullPath)),Oe(s.router,e,a,!1),t&&t(e)}),i)},t.prototype.ensureURL=function(e){if(lt(this.base)!==this.current.fullPath){var t=A(this.base+this.current.fullPath);e?Le(t):Ve(t)}},t.prototype.getCurrentLocation=function(){return lt(this.base)},t}(tt);function lt(e){var t=window.location.pathname,i=t.toLowerCase(),s=e.toLowerCase();return!e||i!==s&&0!==i.indexOf(A(s+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var ft=function(e){function t(t,i,s){e.call(this,t,i),s&&pt(this.base)||mt()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,s=Re&&i;s&&this.listeners.push(_e());var r=function(){var t=e.current;mt()&&e.transitionTo(gt(),(function(i){s&&Oe(e.router,i,t,!0),Re||bt(i.fullPath)}))},a=Re?"popstate":"hashchange";window.addEventListener(a,r),this.listeners.push((function(){window.removeEventListener(a,r)}))}},t.prototype.push=function(e,t,i){var s=this,r=this,a=r.current;this.transitionTo(e,(function(e){vt(e.fullPath),Oe(s.router,e,a,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var s=this,r=this,a=r.current;this.transitionTo(e,(function(e){bt(e.fullPath),Oe(s.router,e,a,!1),t&&t(e)}),i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;gt()!==t&&(e?vt(t):bt(t))},t.prototype.getCurrentLocation=function(){return gt()},t}(tt);function pt(e){var t=lt(e);if(!/^\/#/.test(t))return window.location.replace(A(e+"/#"+t)),!0}function mt(){var e=gt();return"/"===e.charAt(0)||(bt("/"+e),!1)}function gt(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function yt(e){var t=window.location.href,i=t.indexOf("#"),s=i>=0?t.slice(0,i):t;return s+"#"+e}function vt(e){Re?Le(yt(e)):window.location.hash=e}function bt(e){Re?Ve(yt(e)):window.location.replace(yt(e))}var wt=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var s=this;this.transitionTo(e,(function(e){s.stack=s.stack.slice(0,s.index+1).concat(e),s.index++,t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var s=this;this.transitionTo(e,(function(e){s.stack=s.stack.slice(0,s.index).concat(e),t&&t(e)}),i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var s=this.stack[i];this.confirmTransition(s,(function(){var e=t.current;t.index=i,t.updateRoute(s),t.router.afterHooks.forEach((function(t){t&&t(s,e)}))}),(function(e){$e(e,qe.duplicated)&&(t.index=i)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(tt),kt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pe(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Re&&!1!==e.fallback,this.fallback&&(t="hash"),de||(t="abstract"),this.mode=t,t){case"history":this.history=new ut(this,e.base);break;case"hash":this.history=new ft(this,e.base,this.fallback);break;case"abstract":this.history=new wt(this,e.base);break;default:0}},St={currentRoute:{configurable:!0}};function _t(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function Ot(e,t,i){var s="hash"===i?"#"+t:t;return e?A(e+"/"+s):s}kt.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},St.currentRoute.get=function(){return this.history&&this.history.current},kt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var i=this.history;if(i instanceof ut||i instanceof ft){var s=function(e){var s=i.current,r=t.options.scrollBehavior,a=Re&&r;a&&"fullPath"in e&&Oe(t,e,s,!1)},r=function(e){i.setupListeners(),s(e)};i.transitionTo(i.getCurrentLocation(),r,r)}i.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},kt.prototype.beforeEach=function(e){return _t(this.beforeHooks,e)},kt.prototype.beforeResolve=function(e){return _t(this.resolveHooks,e)},kt.prototype.afterEach=function(e){return _t(this.afterHooks,e)},kt.prototype.onReady=function(e,t){this.history.onReady(e,t)},kt.prototype.onError=function(e){this.history.onError(e)},kt.prototype.push=function(e,t,i){var s=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){s.history.push(e,t,i)}));this.history.push(e,t,i)},kt.prototype.replace=function(e,t,i){var s=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){s.history.replace(e,t,i)}));this.history.replace(e,t,i)},kt.prototype.go=function(e){this.history.go(e)},kt.prototype.back=function(){this.go(-1)},kt.prototype.forward=function(){this.go(1)},kt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},kt.prototype.resolve=function(e,t,i){t=t||this.history.current;var s=ee(e,t,i,this),r=this.match(s,t),a=r.redirectedFrom||r.fullPath,n=this.history.base,o=Ot(n,a,this.mode);return{location:s,route:r,href:o,normalizedTo:s,resolved:r}},kt.prototype.getRoutes=function(){return this.matcher.getRoutes()},kt.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},kt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(kt.prototype,St),kt.install=ce,kt.version="3.5.2",kt.isNavigationFailure=$e,kt.NavigationFailureType=qe,kt.START_LOCATION=y,de&&window.Vue&&window.Vue.use(kt),t["a"]=kt},"8c88":function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function n(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?i(e.value):r(e.value).then(n,o)}c((s=s.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,s,r,a,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return c([e,t])}}function c(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(r=2&a[0]?s["return"]:a[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,a[1])).done)return r;switch(s=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,s=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){n.label=a[1];break}if(6===a[0]&&n.label<r[1]){n.label=r[1],r=a;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(a);break}r[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(o){a=[6,o],s=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBalanceAddressAssetId=t.fetchAssetsBalance=t.fetchAssetsAddressLimit=t.fetchAssetDistribution=t.fetchAssetsDetails=t.fetchDetails=void 0;var n=i("3ee4"),o=a(i("85aa")),c=i("b640");function d(e,t,i){void 0===i&&(i=Object.create(null));var s=!Array.isArray(t);return Promise.all(c.toArray(t).map((function(t){return o.default({base:e,url:"/assets/details/"+t,options:i})}))).then((function(e){return s?e[0]:e}))}function h(e,t,i){void 0===i&&(i=Object.create(null));var s=t.map((function(e){return"id="+e})).join("&"),r=t.length?"?"+s:"";return o.default({base:e,url:"/assets/details"+r,options:i})}function u(e,t,i,s,r){return void 0===r&&(r=Object.create(null)),o.default({base:e,url:"/assets/"+t+"/distribution/"+i+"/limit/"+s,options:r})}function l(e,t,i,s){return void 0===s&&(s=Object.create(null)),o.default({base:e,url:"assets/nft/"+t+"/limit/"+i,options:s})}function f(e,t,i){return void 0===i&&(i=Object.create(null)),s(this,void 0,void 0,(function(){var s,a,c;return r(this,(function(r){switch(r.label){case 0:return[4,o.default({base:e,url:"/assets/balance/"+t,options:i})];case 1:return s=r.sent(),a=s.balances.reduce((function(e,t,i){return t.issueTransaction||(e[t.assetId]=i),e}),{}),[4,h(e,Object.keys(a),i)];case 2:return c=r.sent(),c.forEach((function(e){if(!("error"in e)){var t=a[e.assetId],i=s.balances[t];i&&(i.issueTransaction={id:e.originTransactionId,name:e.name,decimals:e.decimals,description:e.description,quantity:e.quantity,reissuable:e.reissuable,sender:e.issuer,senderPublicKey:e.issuerPublicKey,timestamp:e.issueTimestamp,height:e.issueHeight,script:e.scripted?"-":null,proofs:[],fee:Math.pow(10,8),feeAssetId:null,version:3,type:n.TRANSACTION_TYPE.ISSUE,chainId:0})}})),[2,s]}}))}))}function p(e,t,i,s){return void 0===s&&(s=Object.create(null)),o.default({base:e,url:"/assets/balance/"+t+"/"+i,options:s})}t.fetchDetails=d,t.fetchAssetsDetails=h,t.fetchAssetDistribution=u,t.fetchAssetsAddressLimit=l,t.fetchAssetsBalance=f,t.fetchBalanceAddressAssetId=p},"8ce9":function(e,t,i){},"8d4f":function(e,t,i){},"8da5":function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return d}));var s=i("80d2"),r=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],a=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},n=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],o=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function c(e){for(var t=Array(3),i=a,n=r,o=0;o<3;++o)t[o]=Math.round(255*Object(s["f"])(i(n[o][0]*e[0]+n[o][1]*e[1]+n[o][2]*e[2])));return(t[0]<<16)+(t[1]<<8)+(t[2]<<0)}function d(e){for(var t=[0,0,0],i=o,s=n,r=i((e>>16&255)/255),a=i((e>>8&255)/255),c=i((e>>0&255)/255),d=0;d<3;++d)t[d]=s[d][0]*r+s[d][1]*a+s[d][2]*c;return t}},"8dd9":function(e,t,i){"use strict";var s=i("5530"),r=(i("25a8"),i("7e2b")),a=i("a9ad"),n=i("c995"),o=i("24b2"),c=i("a236"),d=i("7560"),h=i("58df");t["a"]=Object(h["a"])(r["a"],a["a"],n["a"],o["a"],c["a"],d["a"]).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])(Object(s["a"])({"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped},this.themeClasses),this.elevationClasses),this.roundedClasses)},styles:function(){return this.measurableStyles}},render:function(e){var t={class:this.classes,style:this.styles,on:this.listeners$};return e(this.tag,this.setBackgroundColor(this.color,t),this.$slots.default)}})},"8df3":function(e,t,i){"use strict";var s=i("f0be"),r=i("fee7"),a=i("74d2"),n=r.inherits,o=s.base,c=r.utils.assert;function d(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function h(e,t,i,s,r){o.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(i,16),this.z=s?new a(s,16):this.curve.one,this.t=r&&new a(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}n(d,o),e.exports=d,d.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},d.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},d.prototype.jpoint=function(e,t,i,s){return this.point(e,t,i,s)},d.prototype.pointFromX=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),s=this.c2.redSub(this.a.redMul(i)),r=this.one.redSub(this.c2.redMul(this.d).redMul(i)),n=s.redMul(r.redInvm()),o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},d.prototype.pointFromY=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),s=i.redSub(this.one),r=i.redMul(this.d).redAdd(this.one),n=s.redMul(r.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},d.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),s=t.redMul(this.a).redAdd(i),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===s.cmp(r)},n(h,o.BasePoint),d.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},d.prototype.point=function(e,t,i,s){return new h(this,e,t,i,s)},h.fromJSON=function(e,t){return new h(e,t[0],t[1],t[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},h.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var s=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=s.redAdd(t),n=a.redSub(i),o=s.redSub(t),c=r.redMul(n),d=a.redMul(o),h=r.redMul(o),u=n.redMul(a);return this.curve.point(c,d,u,h)},h.prototype._projDbl=function(){var e,t,i,s=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var n=this.curve._mulA(r),o=n.redAdd(a);if(this.zOne)e=s.redSub(r).redSub(a).redMul(o.redSub(this.curve.two)),t=o.redMul(n.redSub(a)),i=o.redSqr().redSub(o).redSub(o);else{var c=this.z.redSqr(),d=o.redSub(c).redISub(c);e=s.redSub(r).redISub(a).redMul(d),t=o.redMul(n.redSub(a)),i=o.redMul(d)}}else{n=r.redAdd(a),c=this.curve._mulC(this.c.redMul(this.z)).redSqr(),d=n.redSub(c).redSub(c);e=this.curve._mulC(s.redISub(n)).redMul(d),t=this.curve._mulC(n).redMul(r.redISub(a)),i=n.redMul(d)}return this.curve.point(e,t,i)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(t),n=r.redSub(s),o=r.redAdd(s),c=i.redAdd(t),d=a.redMul(n),h=o.redMul(c),u=a.redMul(c),l=n.redMul(o);return this.curve.point(d,h,l,u)},h.prototype._projAdd=function(e){var t,i,s=this.z.redMul(e.z),r=s.redSqr(),a=this.x.redMul(e.x),n=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(n),c=r.redSub(o),d=r.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(n),u=s.redMul(c).redMul(h);return this.curve.twisted?(t=s.redMul(d).redMul(n.redSub(this.curve._mulA(a))),i=c.redMul(d)):(t=s.redMul(d).redMul(n.redSub(a)),i=this.curve._mulC(c).redMul(d)),this.curve.point(u,t,i)},h.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},h.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},h.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},h.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),s=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(s),0===this.x.cmp(t))return!0}return!1},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},"8df4":function(e,t,i){"use strict";var s=i("7a77");function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new s(e),t(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},"8e1a":function(e,t,i){var s=i("70ea"),r=s((function(e){return function(){return e}}));e.exports=r},"8e94":function(e,t,i){"use strict";var s=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i("a1c6"),a=function(e){function t(i,s){var r=e.call(this)||this;return r.win=i,r.type=s,r.handler=function(e){r.trigger("message",e)},s===t.PROTOCOL_TYPES.LISTEN&&r.win.addEventListener("message",r.handler,!1),r}return s(t,e),t.prototype.dispatch=function(e){return this.win.postMessage(e,"*"),this},t.prototype.destroy=function(){this.type===t.PROTOCOL_TYPES.LISTEN&&this.win.removeEventListener("message",this.handler,!1),this.win=t._fakeWin},t._fakeWin=function(){var e=function(){return null};return{postMessage:e,addEventListener:e,removeEventListener:e}}(),t}(r.EventEmitter);t.WindowProtocol=a,function(e){e.PROTOCOL_TYPES={LISTEN:"listen",DISPATCH:"dispatch"}}(a=t.WindowProtocol||(t.WindowProtocol={})),t.WindowProtocol=a},"8efc":function(e,t,i){},"8fea":function(e,t,i){"use strict";var s=i("3835"),r=i("53ca"),a=i("5530"),n=(i("4de4"),i("498a"),i("a9e3"),i("7db0"),i("c740"),i("a434"),i("4e827"),i("d81d"),i("a630"),i("3ca3"),i("b0c0"),i("99af"),i("91f4"),i("2909")),o=(i("fb6a"),i("ac1f"),i("841c"),i("80d2")),c=i("2b0e"),d=c["a"].extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},sortBy:{type:[String,Array],default:function(){return[]}},sortDesc:{type:[Boolean,Array],default:function(){return[]}},customSort:{type:Function,default:o["C"]},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:function(){return[]}},groupDesc:{type:[Boolean,Array],default:function(){return[]}},customGroup:{type:Function,default:o["u"]},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:o["B"]},serverItemsLength:{type:Number,default:-1}},data:function(){var e={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(o["E"])(this.sortBy),sortDesc:Object(o["E"])(this.sortDesc),groupBy:Object(o["E"])(this.groupBy),groupDesc:Object(o["E"])(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(e=Object.assign(e,this.options));var t,i,s=e,r=s.sortBy,a=s.sortDesc,c=s.groupBy,d=s.groupDesc,h=r.length-a.length,u=c.length-d.length;h>0&&(t=e.sortDesc).push.apply(t,Object(n["a"])(Object(o["l"])(h,!1)));u>0&&(i=e.groupDesc).push.apply(i,Object(n["a"])(Object(o["l"])(u,!1)));return{internalOptions:e}},computed:{itemsLength:function(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount:function(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart:function(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop:function(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped:function(){return!!this.internalOptions.groupBy.length},pagination:function(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems:function(){var e=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(e=this.customFilter(e,this.search)),e},computedItems:function(){var e=this.filteredItems.slice();return(!this.disableSort||this.internalOptions.groupBy.length)&&this.serverItemsLength<=0&&(e=this.sortItems(e)),!this.disablePagination&&this.serverItemsLength<=0&&(e=this.paginateItems(e)),e},groupedItems:function(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps:function(){return{sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length}},computedOptions:function(){return Object(a["a"])({},this.options)}},watch:{computedOptions:{handler:function(e,t){Object(o["i"])(e,t)||this.updateOptions(e)},deep:!0,immediate:!0},internalOptions:{handler:function(e,t){Object(o["i"])(e,t)||this.$emit("update:options",e)},deep:!0,immediate:!0},page:function(e){this.updateOptions({page:e})},"internalOptions.page":function(e){this.$emit("update:page",e)},itemsPerPage:function(e){this.updateOptions({itemsPerPage:e})},"internalOptions.itemsPerPage":function(e){this.$emit("update:items-per-page",e)},sortBy:function(e){this.updateOptions({sortBy:Object(o["E"])(e)})},"internalOptions.sortBy":function(e,t){!Object(o["i"])(e,t)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?e:e[0])},sortDesc:function(e){this.updateOptions({sortDesc:Object(o["E"])(e)})},"internalOptions.sortDesc":function(e,t){!Object(o["i"])(e,t)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?e:e[0])},groupBy:function(e){this.updateOptions({groupBy:Object(o["E"])(e)})},"internalOptions.groupBy":function(e,t){!Object(o["i"])(e,t)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?e:e[0])},groupDesc:function(e){this.updateOptions({groupDesc:Object(o["E"])(e)})},"internalOptions.groupDesc":function(e,t){!Object(o["i"])(e,t)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?e:e[0])},multiSort:function(e){this.updateOptions({multiSort:e})},"internalOptions.multiSort":function(e){this.$emit("update:multi-sort",e)},mustSort:function(e){this.updateOptions({mustSort:e})},"internalOptions.mustSort":function(e){this.$emit("update:must-sort",e)},pageCount:{handler:function(e){this.$emit("page-count",e)},immediate:!0},computedItems:{handler:function(e){this.$emit("current-items",e)},immediate:!0},pagination:{handler:function(e,t){Object(o["i"])(e,t)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle:function(e,t,i,s,r,a){var n=t.slice(),c=i.slice(),d=n.findIndex((function(t){return t===e}));return d<0?(a||(n=[],c=[]),n.push(e),c.push(!1)):d>=0&&!c[d]?c[d]=!0:r?c[d]=!1:(n.splice(d,1),c.splice(d,1)),Object(o["i"])(n,t)&&Object(o["i"])(c,i)||(s=1),{by:n,desc:c,page:s}},group:function(e){var t=this.toggle(e,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1),i=t.by,s=t.desc,r=t.page;this.updateOptions({groupBy:i,groupDesc:s,page:r})},sort:function(e){if(Array.isArray(e))return this.sortArray(e);var t=this.toggle(e,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort),i=t.by,s=t.desc,r=t.page;this.updateOptions({sortBy:i,sortDesc:s,page:r})},sortArray:function(e){var t=this,i=e.map((function(e){var i=t.internalOptions.sortBy.findIndex((function(t){return t===e}));return i>-1&&t.internalOptions.sortDesc[i]}));this.updateOptions({sortBy:e,sortDesc:i})},updateOptions:function(e){this.internalOptions=Object(a["a"])(Object(a["a"])(Object(a["a"])({},this.internalOptions),e),{},{page:this.serverItemsLength<0?Math.max(1,Math.min(e.page||this.internalOptions.page,this.pageCount)):e.page||this.internalOptions.page})},sortItems:function(e){var t=[],i=[];return this.disableSort||(t=this.internalOptions.sortBy,i=this.internalOptions.sortDesc),this.internalOptions.groupBy.length&&(t=[].concat(Object(n["a"])(this.internalOptions.groupBy),Object(n["a"])(t)),i=[].concat(Object(n["a"])(this.internalOptions.groupDesc),Object(n["a"])(i))),this.customSort(e,t,i,this.locale)},groupItems:function(e){return this.customGroup(e,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems:function(e){return-1===this.serverItemsLength&&e.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,Math.ceil(e.length/this.internalOptions.itemsPerPage))||1),e.slice(this.pageStart,this.pageStop)}},render:function(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}}),h=(i("b64b"),i("07ac"),i("caad"),i("2532"),i("d3b7"),i("25f0"),i("495d"),i("b85c")),u=i("ade3"),l=(i("1276"),i("4ec9"),i("ddb0"),i("2ca0"),i("4ff9"),i("68dd"),i("8adc"),i("58df")),f=i("0789"),p=i("9d26"),m=i("a9ad"),g=i("4e82"),y=i("7560"),v=i("f2e7"),b=i("1c87"),w=i("af2b"),k=i("d9bd"),S=Object(l["a"])(m["a"],w["a"],b["a"],y["a"],Object(g["a"])("chipGroup"),Object(v["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({"v-chip":!0},b["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(b["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var e=this,t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((function(t){var i=Object(s["a"])(t,2),r=i[0],a=i[1];e.$attrs.hasOwnProperty(r)&&Object(k["a"])(r,a,e)}))},methods:{click:function(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter:function(){var e=[];return this.isActive&&e.push(this.$createElement(p["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(f["b"],e)},genClose:function(){var e=this;return this.$createElement(p["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("click:close"),e.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(e){var t=[this.genContent()],i=this.generateRouteLink(),s=i.tag,r=i.data;r.attrs=Object(a["a"])(Object(a["a"])({},r.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:r.attrs.tabindex}),r.directives.push({name:"show",value:this.active}),r=this.setBackgroundColor(this.color,r);var n=this.textColor||this.outlined&&this.color;return e(s,this.setTextColor(n,r),t)}}),_=S,O=(i("ee6f"),i("480e")),T=i("4ad4"),C=i("16b7"),x=i("b848"),I=i("fe6c"),E=i("21be"),A=i("75eb"),N=Object(l["a"])(E["a"],I["a"],T["a"],A["a"]),M=N.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function(){return{activatorNode:[],absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},relativeYOffset:0,hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function(){var e=this.dimensions.activator,t=this.dimensions.content,i=(!1!==this.attach?e.offsetLeft:e.left)||0,s=Math.max(e.width,t.width),r=0;if(r+=this.left?i-(s-e.width):i,this.offsetX){var a=isNaN(Number(this.maxWidth))?e.width:Math.min(e.width,Number(this.maxWidth));r+=this.left?-a:e.width}return this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),r},computedTop:function(){var e=this.dimensions.activator,t=this.dimensions.content,i=0;return this.top&&(i+=e.height-t.height),!1!==this.attach?i+=e.offsetTop:i+=e.top+this.pageYOffset,this.offsetY&&(i+=this.top?-e.height:e.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator:function(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator},absoluteYOffset:function(){return this.pageYOffset-this.relativeYOffset}},watch:{disabled:function(e){e&&this.callDeactivate()},isActive:function(e){this.disabled||(e?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function(){this.hasWindow="undefined"!==typeof window,this.hasWindow&&window.addEventListener("resize",this.updateDimensions,!1)},beforeDestroy:function(){this.hasWindow&&window.removeEventListener("resize",this.updateDimensions,!1)},methods:{absolutePosition:function(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(e){return Object(o["g"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,e))},calcTop:function(){return Object(o["g"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow:function(e,t){var i=e+t-this.pageWidth+12;return e=(!this.left||this.right)&&i>0?Math.max(e-i,0):Math.max(e,12),e+this.getOffsetLeft()},calcYOverflow:function(e){var t=this.getInnerHeight(),i=this.absoluteYOffset+t,s=this.dimensions.activator,r=this.dimensions.content.height,a=e+r,n=i<a;return n&&this.offsetOverflow&&s.top>r?e=this.pageYOffset+(s.top-r):n&&!this.allowOverflow?e=i-r-12:e<this.absoluteYOffset&&!this.allowOverflow&&(e=this.absoluteYOffset+12),e<12?12:e},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function(){if(!1===this.attach){var e=this.getActivator();while(e){if("fixed"===window.getComputedStyle(e).position)return void(this.activatorFixed=!0);e=e.offsetParent}this.activatorFixed=!1}},deactivate:function(){},genActivatorListeners:function(){var e=this,t=T["a"].options.methods.genActivatorListeners.call(this),i=t.click;return t.click=function(t){e.openOnClick&&i&&i(t),e.absoluteX=t.clientX,e.absoluteY=t.clientY},t},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(e){var t=e.getBoundingClientRect();return{top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right),width:Math.round(t.width),height:Math.round(t.height)}},measure:function(e){if(!e||!this.hasWindow)return null;var t=this.getRoundedBoundedClientRect(e);if(!1!==this.attach){var i=window.getComputedStyle(e);t.left=parseInt(i.marginLeft),t.top=parseInt(i.marginTop)}return t},sneakPeek:function(e){var t=this;requestAnimationFrame((function(){var i=t.$refs.content;i&&"none"===i.style.display?(i.style.display="inline-block",e(),i.style.display="none"):e()}))},startTransition:function(){var e=this;return new Promise((function(t){return requestAnimationFrame((function(){e.isContentActive=e.hasJustFocused=e.isActive,t()}))}))},updateDimensions:function(){var e=this;this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var t={activator:Object(a["a"])({},this.dimensions.activator),content:Object(a["a"])({},this.dimensions.content)};if(!this.hasActivator||this.absolute)t.activator=this.absolutePosition();else{var i=this.getActivator();if(!i)return;t.activator=this.measure(i),t.activator.offsetLeft=i.offsetLeft,!1!==this.attach?t.activator.offsetTop=i.offsetTop:t.activator.offsetTop=0}this.sneakPeek((function(){if(e.$refs.content){if(e.$refs.content.offsetParent){var i=e.getRoundedBoundedClientRect(e.$refs.content.offsetParent);e.relativeYOffset=window.pageYOffset+i.top,t.activator.top-=e.relativeYOffset,t.activator.left-=window.pageXOffset+i.left}t.content=e.measure(e.$refs.content)}e.dimensions=t}))}}}),P=i("e4d3"),B=i("a236"),R=i("a293"),L=i("dc22"),V=Object(l["a"])(x["a"],C["a"],M,P["a"],B["a"],v["a"],y["a"]),D=V.extend({name:"v-menu",directives:{ClickOutside:R["a"],Resize:L["a"]},provide:function(){return{isInMenu:!0,theme:this.theme}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile:function(){return this.tiles[this.listIndex]},calculatedLeft:function(){var e=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(o["g"])(this.calcXOverflow(this.calcLeftAuto(),e))||"0":this.calcLeft(e)||"0"},calculatedMaxHeight:function(){var e=this.auto?"200px":Object(o["g"])(this.maxHeight);return e||"0"},calculatedMaxWidth:function(){return Object(o["g"])(this.maxWidth)||"0"},calculatedMinWidth:function(){if(this.minWidth)return Object(o["g"])(this.minWidth)||"0";var e=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),t=isNaN(parseInt(this.calculatedMaxWidth))?e:parseInt(this.calculatedMaxWidth);return Object(o["g"])(Math.min(t,e))||"0"},calculatedTop:function(){var e=this.auto?Object(o["g"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return e||"0"},hasClickableTiles:function(){return Boolean(this.tiles.find((function(e){return e.tabIndex>-1})))},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive:function(e){e||(this.listIndex=-1)},isContentActive:function(e){this.hasJustFocused=e},listIndex:function(e,t){if(e in this.tiles){var i=this.tiles[e];i.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=i.offsetTop-i.clientHeight}t in this.tiles&&this.tiles[t].classList.remove("v-list-item--highlighted")}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(k["e"])("full-width",this)},mounted:function(){this.isActive&&this.callActivate()},methods:{activate:function(){var e=this;this.updateDimensions(),requestAnimationFrame((function(){e.startTransition().then((function(){e.$refs.content&&(e.calculatedTopAuto=e.calcTopAuto(),e.auto&&(e.$refs.content.scrollTop=e.calcScrollPosition()))}))}))},calcScrollPosition:function(){var e=this.$refs.content,t=e.querySelector(".v-list-item--active"),i=e.scrollHeight-e.offsetHeight;return t?Math.min(i,Math.max(0,t.offsetTop-e.offsetHeight/2+t.offsetHeight/2)):e.scrollTop},calcLeftAuto:function(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var e=this.$refs.content,t=e.querySelector(".v-list-item--active");if(t||(this.selectedIndex=null),this.offsetY||!t)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(t);var i=t.offsetTop-this.calcScrollPosition(),s=e.querySelector(".v-list-item").offsetTop;return this.computedTop-i-s-1},changeListIndex:function(e){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(e.keyCode!==o["w"].tab){if(e.keyCode===o["w"].down)this.nextTile();else if(e.keyCode===o["w"].up)this.prevTile();else if(e.keyCode===o["w"].end)this.lastTile();else if(e.keyCode===o["w"].home)this.firstTile();else{if(e.keyCode!==o["w"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}e.preventDefault()}else this.isActive=!1},closeConditional:function(e){var t=e.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(t)},genActivatorAttributes:function(){var e=T["a"].options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?Object(a["a"])(Object(a["a"])({},e),{},{"aria-activedescendant":this.activeTile.id}):e},genActivatorListeners:function(){var e=M.options.methods.genActivatorListeners.call(this);return this.disableKeys||(e.keydown=this.onKeyDown),e},genTransition:function(){var e=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[e]):e},genDirectives:function(){var e=this,t=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&t.push({name:"click-outside",value:{handler:function(){e.isActive=!1},closeConditional:this.closeConditional,include:function(){return[e.$el].concat(Object(n["a"])(e.getOpenDependentElements()))}}}),t},genContent:function(){var e=this,t={attrs:Object(a["a"])(Object(a["a"])({},this.getScopeIdAttrs()),{},{role:"role"in this.$attrs?this.$attrs.role:"menu"}),staticClass:"v-menu__content",class:Object(a["a"])(Object(a["a"])(Object(a["a"])({},this.rootThemeClasses),this.roundedClasses),{},Object(u["a"])({"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},this.contentClass.trim(),!0)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(t){var i=t.target;i.getAttribute("disabled")||e.closeOnContentClick&&(e.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(t.on=t.on||{},t.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(t.on=t.on||{},t.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(t.on=t.on||{},t.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",t,this.getContentSlot())},getTiles:function(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler:function(){var e=this;this.runDelay("open",(function(){e.hasJustFocused||(e.hasJustFocused=!0)}))},mouseLeaveHandler:function(e){var t=this;this.runDelay("close",(function(){t.$refs.content.contains(e.relatedTarget)||requestAnimationFrame((function(){t.isActive=!1,t.callDeactivate()}))}))},nextTile:function(){var e=this.tiles[this.listIndex+1];if(!e){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===e.tabIndex&&this.nextTile()},prevTile:function(){var e=this.tiles[this.listIndex-1];if(!e){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===e.tabIndex&&this.prevTile()},lastTile:function(){var e=this.tiles[this.tiles.length-1];e&&(this.listIndex=this.tiles.length-1,-1===e.tabIndex&&this.prevTile())},firstTile:function(){var e=this.tiles[0];e&&(this.listIndex=0,-1===e.tabIndex&&this.nextTile())},onKeyDown:function(e){var t=this;if(e.keyCode===o["w"].esc){setTimeout((function(){t.isActive=!1}));var i=this.getActivator();this.$nextTick((function(){return i&&i.focus()}))}else!this.isActive&&[o["w"].up,o["w"].down].includes(e.keyCode)&&(this.isActive=!0);this.$nextTick((function(){return t.changeListIndex(e)}))},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render:function(e){var t=this,i={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return e("div",i,[!this.activator&&this.genActivator(),this.showLazyContent((function(){return[t.$createElement(O["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.genTransition()])]}))])}}),q=D,j=(i("a15b"),i("159b"),i("cf36"),i("5607")),G=i("132d"),U=i("d9f7"),F=c["a"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:j["a"]},props:Object(a["a"])(Object(a["a"])(Object(a["a"])({},m["a"].options.props),y["a"].options.props),{},{disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}}),render:function(e,t){var i=t.props,s=t.data,r=(t.listeners,[]),a=i.offIcon;if(i.indeterminate?a=i.indeterminateIcon:i.value&&(a=i.onIcon),r.push(e(G["a"],m["a"].options.methods.setTextColor(i.value&&i.color,{props:{disabled:i.disabled,dark:i.dark,light:i.light}}),a)),i.ripple&&!i.disabled){var n=e("div",m["a"].options.methods.setTextColor(i.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));r.push(n)}return e("div",Object(U["a"])(s,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":i.disabled},on:{click:function(e){e.stopPropagation(),s.on&&s.on.input&&!i.disabled&&Object(o["E"])(s.on.input).forEach((function(e){return e(!i.value)}))}}}),[e("div",{staticClass:"v-input--selection-controls__input"},r)])}}),H=i("b810"),z=(i("0bc6"),Object(l["a"])(y["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(e){return e("div",{staticClass:"v-subheader",class:Object(a["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})),K=z,W=(i("61d2"),Object(l["a"])(m["a"],b["a"],y["a"],Object(g["a"])("listItemGroup"),Object(v["b"])("inputValue"))),$=W.extend().extend({name:"v-list-item",directives:{Ripple:j["a"]},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default:function(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:function(){return{proxyClass:"v-list-item--active"}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-list-item":!0},b["a"].options.computed.classes.call(this)),{},{"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine},this.themeClasses)},isClickable:function(){return Boolean(b["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created:function(){this.$attrs.hasOwnProperty("avatar")&&Object(k["e"])("avatar",this)},methods:{click:function(e){e.detail&&this.$el.blur(),this.$emit("click",e),this.to||this.toggle()},genAttrs:function(){var e=Object(a["a"])({"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1},this.$attrs);return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(e.role="option",e["aria-selected"]=String(this.isActive)):this.isInMenu?(e.role=this.isClickable?"menuitem":void 0,e.id=e.id||"list-item-".concat(this._uid)):this.isInList&&(e.role="listitem")),e}},render:function(e){var t=this,i=this.generateRouteLink(),s=i.tag,r=i.data;r.attrs=Object(a["a"])(Object(a["a"])({},r.attrs),this.genAttrs()),r[this.to?"nativeOn":"on"]=Object(a["a"])(Object(a["a"])({},r[this.to?"nativeOn":"on"]),{},{keydown:function(e){e.keyCode===o["w"].enter&&t.click(e),t.$emit("keydown",e)}}),this.inactive&&(s="div"),this.inactive&&this.to&&(r.on=r.nativeOn,delete r.nativeOn);var n=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return e(s,this.setTextColor(this.color,r),n)}}),Y=c["a"].extend({name:"v-list-item-action",functional:!0,render:function(e,t){var i=t.data,s=t.children,r=void 0===s?[]:s;i.staticClass=i.staticClass?"v-list-item__action ".concat(i.staticClass):"v-list-item__action";var a=r.filter((function(e){return!1===e.isComment&&" "!==e.text}));return a.length>1&&(i.staticClass+=" v-list-item__action--stack"),e("div",i,r)}}),X=(i("0481"),i("3ad0"),i("8dd9")),Z=X["a"].extend().extend({name:"v-list",provide:function(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},X["a"].options.computed.classes.call(this)),{},{"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine})}},methods:{register:function(e){this.groups.push(e)},unregister:function(e){var t=this.groups.findIndex((function(t){return t._uid===e._uid}));t>-1&&this.groups.splice(t,1)},listClick:function(e){if(!this.expand){var t,i=Object(h["a"])(this.groups);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.toggle(e)}}catch(r){i.e(r)}finally{i.f()}}}},render:function(e){var t={staticClass:"v-list",class:this.classes,style:this.styles,attrs:Object(a["a"])({role:this.isInNav||this.isInMenu?void 0:"list"},this.attrs$)};return e(this.tag,this.setBackgroundColor(this.color,t),[this.$slots.default])}}),Q=(i("4d63"),i("466d"),i("db42"),c["a"].extend({name:"v-list-item-icon",functional:!0,render:function(e,t){var i=t.data,s=t.children;return i.staticClass="v-list-item__icon ".concat(i.staticClass||"").trim(),e("div",i,s)}})),J=i("7e2b"),ee=i("9d65"),te=i("3206"),ie=Object(l["a"])(J["a"],ee["a"],m["a"],Object(te["a"])("list"),v["a"]),se=(ie.extend().extend({name:"v-list-group",directives:{ripple:j["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:[String,RegExp],noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes:function(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive:function(e){!this.subGroup&&e&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created:function(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list&&this.list.unregister(this)},methods:{click:function(e){var t=this;this.disabled||(this.isBooted=!0,this.$emit("click",e),this.$nextTick((function(){return t.isActive=!t.isActive})))},genIcon:function(e){return this.$createElement(p["a"],e)},genAppendIcon:function(){var e=!this.subGroup&&this.appendIcon;return e||this.$slots.appendIcon?this.$createElement(Q,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(e)]):null},genHeader:function(){return this.$createElement($,{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:Object(u["a"])({},this.activeClass,this.isActive),props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(a["a"])(Object(a["a"])({},this.listeners$),{},{click:this.click})},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:e.isActive}]},Object(o["r"])(e))]}))},genPrependIcon:function(){var e=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return e||this.$slots.prependIcon?this.$createElement(Q,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(e)]):null},onRouteChange:function(e){if(this.group){var t=this.matchRoute(e.path);t&&this.isActive!==t&&this.list&&this.list.listClick(this._uid),this.isActive=t}},toggle:function(e){var t=this,i=this._uid===e;i&&(this.isBooted=!0),this.$nextTick((function(){return t.isActive=i}))},matchRoute:function(e){return null!==e.match(this.group)}},render:function(e){return e("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),e(f["a"],this.genItems())])}}),i("899c"),i("166a"),i("a452")),re=Object(l["a"])(se["a"],y["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return Object(a["a"])({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){if(!this.multiple)return this.selectedItems[0]},selectedItems:function(){var e=this;return this.items.filter((function(t,i){return e.toggleMethod(e.getValue(t,i))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var e=this;if(!this.multiple)return function(t){return e.internalValue===t};var t=this.internalValue;return Array.isArray(t)?function(e){return t.includes(e)}:function(){return!1}}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(k["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(e,t){return null==e.value||""===e.value?t:e.value},onClick:function(e){this.updateInternalValue(this.getValue(e,this.items.indexOf(e)))},register:function(e){var t=this,i=this.items.push(e)-1;e.$on("change",(function(){return t.onClick(e)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(e,i)},unregister:function(e){if(!this._isDestroyed){var t=this.items.indexOf(e),i=this.getValue(e,t);this.items.splice(t,1);var s=this.selectedValues.indexOf(i);if(!(s<0)){if(!this.mandatory)return this.updateInternalValue(i);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(e){return e!==i})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(e,t){var i=this.getValue(e,t);e.isActive=this.toggleMethod(i)},updateItemsState:function(){var e=this;this.$nextTick((function(){if(e.mandatory&&!e.selectedItems.length)return e.updateMandatory();e.items.forEach(e.updateItem)}))},updateInternalValue:function(e){this.multiple?this.updateMultiple(e):this.updateSingle(e)},updateMandatory:function(e){if(this.items.length){var t=this.items.slice();e&&t.reverse();var i=t.find((function(e){return!e.disabled}));if(i){var s=this.items.indexOf(i);this.updateInternalValue(this.getValue(i,s))}}},updateMultiple:function(e){var t=Array.isArray(this.internalValue)?this.internalValue:[],i=t.slice(),s=i.findIndex((function(t){return t===e}));this.mandatory&&s>-1&&i.length-1<1||null!=this.max&&s<0&&i.length+1>this.max||(s>-1?i.splice(s,1):i.push(e),this.internalValue=i)},updateSingle:function(e){var t=e===this.internalValue;this.mandatory&&t||(this.internalValue=t?void 0:e)}},render:function(e){return e(this.tag,this.genData(),this.$slots.default)}}),ae=(re.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}}),Object(l["a"])(re,m["a"]).extend({name:"v-list-item-group",provide:function(){return{isInGroup:!0,listItemGroup:this}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},re.options.computed.classes.call(this)),{},{"v-list-item-group":!0})}},methods:{genData:function(){return this.setTextColor(this.color,Object(a["a"])(Object(a["a"])({},re.options.methods.genData.call(this)),{},{attrs:{role:"listbox"}}))}}}),i("713a")),ne=(ae["a"].extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-list-item__avatar--horizontal":this.horizontal},ae["a"].options.computed.classes.call(this)),{},{"v-avatar--tile":this.tile||this.horizontal})}},render:function(e){var t=ae["a"].options.render.call(this,e);return t.data=t.data||{},t.data.staticClass+=" v-list-item__avatar",t}}),Object(o["h"])("v-list-item__action-text","span"),Object(o["h"])("v-list-item__content","div")),oe=Object(o["h"])("v-list-item__title","div"),ce=(Object(o["h"])("v-list-item__subtitle","div"),Object(l["a"])(m["a"],y["a"]).extend({name:"v-select-list",directives:{ripple:j["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:function(){return[]}}},computed:{parsedItems:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},tileActiveClass:function(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile:function(){var e={attrs:{role:void 0},on:{mousedown:function(e){return e.preventDefault()}}};return this.$createElement($,e,[this.genTileContent(this.noDataText)])}},methods:{genAction:function(e,t){var i=this;return this.$createElement(Y,[this.$createElement(F,{props:{color:this.color,value:t,ripple:!1},on:{input:function(){return i.$emit("select",e)}}})])},genDivider:function(e){return this.$createElement(H["a"],{props:e})},genFilteredText:function(e){if(e=e||"",!this.searchInput||this.noFilter)return Object(o["k"])(e);var t=this.getMaskedCharacters(e),i=t.start,s=t.middle,r=t.end;return"".concat(Object(o["k"])(i)).concat(this.genHighlight(s)).concat(Object(o["k"])(r))},genHeader:function(e){return this.$createElement(K,{props:e},e.header)},genHighlight:function(e){return'<span class="v-list-item__mask">'.concat(Object(o["k"])(e),"</span>")},getMaskedCharacters:function(e){var t=(this.searchInput||"").toString().toLocaleLowerCase(),i=e.toLocaleLowerCase().indexOf(t);if(i<0)return{start:e,middle:"",end:""};var s=e.slice(0,i),r=e.slice(i,i+t.length),a=e.slice(i+t.length);return{start:s,middle:r,end:a}},genTile:function(e){var t=this,i=e.item,s=e.index,r=e.disabled,n=void 0===r?null:r,o=e.value,c=void 0!==o&&o;c||(c=this.hasItem(i)),i===Object(i)&&(n=null!==n?n:this.getDisabled(i));var d={attrs:{"aria-selected":String(c),id:"list-item-".concat(this._uid,"-").concat(s),role:"option"},on:{mousedown:function(e){e.preventDefault()},click:function(){return n||t.$emit("select",i)}},props:{activeClass:this.tileActiveClass,disabled:n,ripple:!0,inputValue:c}};if(!this.$scopedSlots.item)return this.$createElement($,d,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(i,c):null,this.genTileContent(i,s)]);var h=this,u=this.$scopedSlots.item({parent:h,item:i,attrs:Object(a["a"])(Object(a["a"])({},d.attrs),d.props),on:d.on});return this.needsTile(u)?this.$createElement($,d,u):u},genTileContent:function(e){var t=this.genFilteredText(this.getText(e));return this.$createElement(ne,[this.$createElement(oe,{domProps:{innerHTML:t}})])},hasItem:function(e){return this.parsedItems.indexOf(this.getValue(e))>-1},needsTile:function(e){return 1!==e.length||null==e[0].componentOptions||"v-list-item"!==e[0].componentOptions.Ctor.options.name},getDisabled:function(e){return Boolean(Object(o["q"])(e,this.itemDisabled,!1))},getText:function(e){return String(Object(o["q"])(e,this.itemText,e))},getValue:function(e){return Object(o["q"])(e,this.itemValue,this.getText(e))}},render:function(){for(var e=[],t=this.items.length,i=0;i<t;i++){var s=this.items[i];this.hideSelected&&this.hasItem(s)||(null==s?e.push(this.genTile({item:s,index:i})):s.header?e.push(this.genHeader(s)):s.divider?e.push(this.genDivider(s)):e.push(this.genTile({item:s,index:i})))}return e.length||e.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&e.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&e.push(this.$slots["append-item"]),this.$createElement(Z,{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},e)}})),de=i("c37a"),he=i("8654"),ue=c["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:o["i"]}}}),le=c["a"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),fe={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},pe=Object(l["a"])(he["a"],ue,x["a"],le),me=pe.extend().extend({name:"v-select",directives:{ClickOutside:R["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:function(){return fe}},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data:function(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems:function(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes:function(){return Object(a["a"])(Object(a["a"])({},he["a"].options.computed.classes.call(this)),{},{"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple})},computedItems:function(){return this.allItems},computedOwns:function(){return"list-".concat(this._uid)},computedCounterValue:function(){var e=this.multiple?this.selectedItems:(this.getText(this.selectedItems[0])||"").toString();return"function"===typeof this.counterValue?this.counterValue(e):e.length},directives:function(){var e=this;return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:function(){return e.getOpenDependentElements()}}}]:void 0},dynamicHeight:function(){return"auto"},hasChips:function(){return this.chips||this.smallChips},hasSlot:function(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty:function(){return this.selectedItems.length>0},listData:function(){var e=this.$vnode&&this.$vnode.context.$options._scopeId,t=e?Object(u["a"])({},e,!0):{};return{attrs:Object(a["a"])(Object(a["a"])({},t),{},{id:this.computedOwns}),props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList:function(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(k["b"])("assert: staticList should not be called if slots are used"),this.$createElement(ce,this.listData)},virtualizedItems:function(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:function(){return!0},$_menuProps:function(){var e="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(e)&&(e=e.reduce((function(e,t){return e[t.trim()]=!0,e}),{})),Object(a["a"])(Object(a["a"])({},fe),{},{eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:e.offsetY?1:0},e)}},watch:{internalValue:function(e){this.initialValue=e,this.setSelectedItems()},isMenuActive:function(e){var t=this;window.setTimeout((function(){return t.onMenuActiveChange(e)}))},items:{immediate:!0,handler:function(e){var t=this;this.cacheItems&&this.$nextTick((function(){t.cachedItems=t.filterDuplicates(t.cachedItems.concat(e))})),this.setSelectedItems()}}},methods:{blur:function(e){he["a"].options.methods.blur.call(this,e),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu:function(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback:function(){var e=this;this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick((function(){return e.$refs.input&&e.$refs.input.focus()})),this.openOnClear&&(this.isMenuActive=!0)},closeConditional:function(e){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(e.target))&&this.$el&&!this.$el.contains(e.target)&&e.target!==this.$el},filterDuplicates:function(e){for(var t=new Map,i=0;i<e.length;++i){var s=e[i];if(s.header||s.divider)t.set(s,s);else{var r=this.getValue(s);!t.has(r)&&t.set(r,s)}}return Array.from(t.values())},findExistingIndex:function(e){var t=this,i=this.getValue(e);return(this.internalValue||[]).findIndex((function(e){return t.valueComparator(t.getValue(e),i)}))},getContent:function(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection:function(e,t){var i=this,s=this.isDisabled||this.getDisabled(e),r=!s&&this.isInteractive;return this.$createElement(_,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&r,disabled:s,inputValue:t===this.selectedIndex,small:this.smallChips},on:{click:function(e){r&&(e.stopPropagation(),i.selectedIndex=t)},"click:close":function(){return i.onChipInput(e)}},key:JSON.stringify(this.getValue(e))},this.getText(e))},genCommaSelection:function(e,t,i){var s=t===this.selectedIndex&&this.computedColor,r=this.isDisabled||this.getDisabled(e);return this.$createElement("div",this.setTextColor(s,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(e))}),"".concat(this.getText(e)).concat(i?"":", "))},genDefaultSlot:function(){var e=this.genSelections(),t=this.genInput();return Array.isArray(e)?e.push(t):(e.children=e.children||[],e.children.push(t)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,e,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon:function(e,t,i){var s=de["a"].options.methods.genIcon.call(this,e,t,i);return"append"===e&&(s.children[0].data=Object(U["a"])(s.children[0].data,{attrs:{tabindex:s.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),s},genInput:function(){var e=he["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data=Object(U["a"])(e.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":Object(o["o"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(o["o"])(e.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),e},genHiddenInput:function(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot:function(){var e=he["a"].options.methods.genInputSlot.call(this);return e.data.attrs=Object(a["a"])(Object(a["a"])({},e.data.attrs),{},{role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns}),e},genList:function(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot:function(){var e=this,t=["prepend-item","no-data","append-item"].filter((function(t){return e.$slots[t]})).map((function(t){return e.$createElement("template",{slot:t},e.$slots[t])}));return this.$createElement(ce,Object(a["a"])({},this.listData),t)},genMenu:function(){var e=this,t=this.$_menuProps;return t.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?t.attach=this.$el:t.attach=this.attach,this.$createElement(q,{attrs:{role:void 0},props:t,on:{input:function(t){e.isMenuActive=t,e.isFocused=t},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections:function(){var e,t=this.selectedItems.length,i=new Array(t);e=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(t--)i[t]=e(this.selectedItems[t],t,t===i.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},i)},genSlotSelection:function(e,t){var i=this;return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:e,index:t,select:function(e){e.stopPropagation(),i.selectedIndex=t},selected:t===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex:function(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled:function(e){return Object(o["q"])(e,this.itemDisabled,!1)},getText:function(e){return Object(o["q"])(e,this.itemText,e)},getValue:function(e){return Object(o["q"])(e,this.itemValue,this.getText(e))},onBlur:function(e){e&&this.$emit("blur",e)},onChipInput:function(e){this.multiple?this.selectItem(e):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick:function(e){this.isInteractive&&(this.isAppendInner(e.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",e))},onEscDown:function(e){e.preventDefault(),this.isMenuActive&&(e.stopPropagation(),this.isMenuActive=!1)},onKeyPress:function(e){var t=this;if(!this.multiple&&this.isInteractive&&!this.disableLookup){var i=1e3,s=performance.now();s-this.keyboardLookupLastTime>i&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=e.key.toLowerCase(),this.keyboardLookupLastTime=s;var r=this.allItems.findIndex((function(e){var i=(t.getText(e)||"").toString();return i.toLowerCase().startsWith(t.keyboardLookupPrefix)})),a=this.allItems[r];-1!==r&&(this.lastItem=Math.max(this.lastItem,r+5),this.setValue(this.returnObject?a:this.getValue(a)),this.$nextTick((function(){return t.$refs.menu.getTiles()})),setTimeout((function(){return t.setMenuIndex(r)})))}},onKeyDown:function(e){var t=this;if(!this.isReadonly||e.keyCode===o["w"].tab){var i=e.keyCode,s=this.$refs.menu;if(this.$emit("keydown",e),s)return this.isMenuActive&&i!==o["w"].tab&&this.$nextTick((function(){s.changeListIndex(e),t.$emit("update:list-index",s.listIndex)})),[o["w"].enter,o["w"].space].includes(i)&&this.activateMenu(),!this.isMenuActive&&[o["w"].up,o["w"].down,o["w"].home,o["w"].end].includes(i)?this.onUpDown(e):i===o["w"].esc?this.onEscDown(e):i===o["w"].tab?this.onTabDown(e):i===o["w"].space?this.onSpaceDown(e):void 0}},onMenuActiveChange:function(e){if(!(this.multiple&&!e||this.getMenuIndex()>-1)){var t=this.$refs.menu;if(t&&this.isDirty){this.$refs.menu.getTiles();for(var i=0;i<t.tiles.length;i++)if("true"===t.tiles[i].getAttribute("aria-selected")){this.setMenuIndex(i);break}}}},onMouseUp:function(e){var t=this;this.hasMouseDown&&3!==e.which&&this.isInteractive&&this.isAppendInner(e.target)&&this.$nextTick((function(){return t.isMenuActive=!t.isMenuActive})),he["a"].options.methods.onMouseUp.call(this,e)},onScroll:function(){var e=this;if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;var t=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;t&&(this.lastItem+=20)}else requestAnimationFrame((function(){return e.getContent().scrollTop=0}))},onSpaceDown:function(e){e.preventDefault()},onTabDown:function(e){var t=this.$refs.menu;if(t){var i=t.activeTile;!this.multiple&&i&&this.isMenuActive?(e.preventDefault(),e.stopPropagation(),i.click()):this.blur(e)}},onUpDown:function(e){var t=this,i=this.$refs.menu;if(i){if(e.preventDefault(),this.multiple)return this.activateMenu();var s=e.keyCode;i.isBooted=!0,window.requestAnimationFrame((function(){if(i.getTiles(),!i.hasClickableTiles)return t.activateMenu();switch(s){case o["w"].up:i.prevTile();break;case o["w"].down:i.nextTile();break;case o["w"].home:i.firstTile();break;case o["w"].end:i.lastTile();break}t.selectItem(t.allItems[t.getMenuIndex()])}))}},selectItem:function(e){var t=this;if(this.multiple){var i=(this.internalValue||[]).slice(),s=this.findExistingIndex(e);-1!==s?i.splice(s,1):i.push(e),this.setValue(i.map((function(e){return t.returnObject?e:t.getValue(e)}))),this.$nextTick((function(){t.$refs.menu&&t.$refs.menu.updateDimensions()}));var r=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick((function(){return t.setMenuIndex(r)}))}else this.setValue(this.returnObject?e:this.getValue(e)),this.isMenuActive=!1},setMenuIndex:function(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},setSelectedItems:function(){var e,t=this,i=[],s=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue],r=Object(h["a"])(s);try{var a=function(){var s=e.value,r=t.allItems.findIndex((function(e){return t.valueComparator(t.getValue(e),t.getValue(s))}));r>-1&&i.push(t.allItems[r])};for(r.s();!(e=r.n()).done;)a()}catch(n){r.e(n)}finally{r.f()}this.selectedItems=i},setValue:function(e){this.valueComparator(e,this.internalValue)||(this.internalValue=e,this.$emit("change",e))},isAppendInner:function(e){var t=this.$refs["append-inner"];return t&&(t===e||t.contains(e))}}}),ge=i("afdd"),ye=c["a"].extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:function(){return[5,10,15,-1]}},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon:function(){return this.options.itemsPerPage<=0||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||this.pagination.pageStop<0},computedDataItemsPerPageOptions:function(){var e=this;return this.itemsPerPageOptions.map((function(t){return"object"===Object(r["a"])(t)?t:e.genDataItemsPerPageOption(t)}))}},methods:{updateOptions:function(e){this.$emit("update:options",Object.assign({},this.options,e))},onFirstPage:function(){this.updateOptions({page:1})},onPreviousPage:function(){this.updateOptions({page:this.options.page-1})},onNextPage:function(){this.updateOptions({page:this.options.page+1})},onLastPage:function(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage:function(e){this.updateOptions({itemsPerPage:e,page:1})},genDataItemsPerPageOption:function(e){return{text:-1===e?this.$vuetify.lang.t(this.itemsPerPageAllText):String(e),value:e}},genItemsPerPageSelect:function(){var e=this.options.itemsPerPage,t=this.computedDataItemsPerPageOptions;return t.length<=1?null:(t.find((function(t){return t.value===e}))||(e=t[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(me,{attrs:{"aria-label":this.$vuetify.lang.t(this.itemsPerPageText)},props:{disabled:this.disableItemsPerPage,items:t,value:e,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo:function(){var e=[""],t=this.pagination.itemsLength,i=this.pagination.pageStart,s=this.pagination.pageStop;return this.pagination.itemsLength&&this.pagination.itemsPerPage?(i=this.pagination.pageStart+1,s=t<this.pagination.pageStop||this.pagination.pageStop<0?t:this.pagination.pageStop,e=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:i,pageStop:s,itemsLength:t})]:[this.$vuetify.lang.t(this.pageText,i,s,t)]):this.$scopedSlots["page-text"]&&(e=[this.$scopedSlots["page-text"]({pageStart:i,pageStop:s,itemsLength:t})]),this.$createElement("div",{class:"v-data-footer__pagination"},e)},genIcon:function(e,t,i,s){return this.$createElement(ge["a"],{props:{disabled:t||this.disablePagination,icon:!0,text:!0},on:{click:e},attrs:{"aria-label":i}},[this.$createElement(p["a"],s)])},genIcons:function(){var e=[],t=[];return e.push(this.genIcon(this.onPreviousPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),t.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(e.unshift(this.genIcon(this.onFirstPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),t.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||-1===this.options.itemsPerPage,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},e),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},t)]}},render:function(){return this.$createElement("div",{staticClass:"v-data-footer"},[Object(o["r"])(this,"prepend"),this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}}),ve=c["a"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(e){return!isNaN(Number(e))||["xs","sm","md","lg","xl"].includes(String(e))}}},computed:{isMobile:function(){var e=this.$vuetify.breakpoint,t=e.mobile,i=e.width,s=e.name,r=e.mobileBreakpoint;if(r===this.mobileBreakpoint)return t;var a=parseInt(this.mobileBreakpoint,10),n=!isNaN(a);return n?i<a:s===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(k["d"])("mobile-break-point","mobile-breakpoint",this)}}),be=Object(l["a"])(ve,y["a"]).extend({name:"v-data-iterator",props:Object(a["a"])(Object(a["a"])({},d.options.props),{},{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},mobileBreakpoint:Object(a["a"])(Object(a["a"])({},ve.options.props.mobileBreakpoint),{},{default:600}),singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[],shiftKeyDown:!1,lastEntry:-1}},computed:{everyItem:function(){var e=this;return!!this.selectableItems.length&&this.selectableItems.every((function(t){return e.isSelected(t)}))},someItems:function(){var e=this;return this.selectableItems.some((function(t){return e.isSelected(t)}))},sanitizedFooterProps:function(){return Object(o["d"])(this.footerProps)},selectableItems:function(){var e=this;return this.internalCurrentItems.filter((function(t){return e.isSelectable(t)}))}},watch:{value:{handler:function(e){var t=this;this.selection=e.reduce((function(e,i){return e[Object(o["o"])(i,t.itemKey)]=i,e}),{})},immediate:!0},selection:function(e,t){Object(o["i"])(Object.keys(e),Object.keys(t))||this.$emit("input",Object.values(e))},expanded:{handler:function(e){var t=this;this.expansion=e.reduce((function(e,i){return e[Object(o["o"])(i,t.itemKey)]=!0,e}),{})},immediate:!0},expansion:function(e,t){var i=this;if(!Object(o["i"])(e,t)){var s=Object.keys(e).filter((function(t){return e[t]})),r=s.length?this.items.filter((function(e){return s.includes(String(Object(o["o"])(e,i.itemKey)))})):[];this.$emit("update:expanded",r)}}},created:function(){var e=this,t=[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]];t.forEach((function(t){var i=Object(s["a"])(t,2),r=i[0],a=i[1];e.$attrs.hasOwnProperty(r)&&Object(k["a"])(r,a,e)}));var i=["expand","content-class","content-props","content-tag"];i.forEach((function(t){e.$attrs.hasOwnProperty(t)&&Object(k["e"])(t)}))},mounted:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},methods:{onKeyDown:function(e){e.keyCode===o["w"].shift&&(this.shiftKeyDown=!0)},onKeyUp:function(e){e.keyCode===o["w"].shift&&(this.shiftKeyDown=!1)},toggleSelectAll:function(e){for(var t=Object.assign({},this.selection),i=0;i<this.selectableItems.length;i++){var s=this.selectableItems[i];if(this.isSelectable(s)){var r=Object(o["o"])(s,this.itemKey);e?t[r]=s:delete t[r]}}this.selection=t,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:e})},isSelectable:function(e){return!1!==Object(o["o"])(e,this.selectableKey)},isSelected:function(e){return!!this.selection[Object(o["o"])(e,this.itemKey)]||!1},select:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isSelectable(e)){var r=this.singleSelect?{}:Object.assign({},this.selection),a=Object(o["o"])(e,this.itemKey);i?r[a]=e:delete r[a];var n=this.selectableItems.findIndex((function(e){return Object(o["o"])(e,t.itemKey)===a}));if(-1===this.lastEntry?this.lastEntry=n:this.shiftKeyDown&&!this.singleSelect&&s&&this.multipleSelect(i,s,r,n),this.lastEntry=n,this.singleSelect&&s){var c=Object.keys(this.selection),d=c.length&&Object(o["o"])(this.selection[c[0]],this.itemKey);d&&d!==a&&this.$emit("item-selected",{item:this.selection[d],value:!1})}this.selection=r,s&&this.$emit("item-selected",{item:e,value:i})}},multipleSelect:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=s<this.lastEntry?s:this.lastEntry,a=s<this.lastEntry?this.lastEntry:s,n=r;n<=a;n++){var c=this.selectableItems[n],d=Object(o["o"])(c,this.itemKey);e?i[d]=c:delete i[d],t&&this.$emit("item-selected",{currentItem:c,value:e})}},isExpanded:function(e){return this.expansion[Object(o["o"])(e,this.itemKey)]||!1},expand:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.singleExpand?{}:Object.assign({},this.expansion),s=Object(o["o"])(e,this.itemKey);t?i[s]=!0:delete i[s],this.expansion=i,this.$emit("item-expanded",{item:e,value:t})},createItemProps:function(e,t){var i=this;return{item:e,index:t,select:function(t){return i.select(e,t)},isSelected:this.isSelected(e),expand:function(t){return i.expand(e,t)},isExpanded:this.isExpanded(e),isMobile:this.isMobile}},genEmptyWrapper:function(e){return this.$createElement("div",e)},genEmpty:function(e,t){if(0===e&&this.loading){var i=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(i)}if(0===e){var s=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(s)}if(0===t){var r=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(r)}return null},genItems:function(e){var t=this,i=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return i?[i]:this.$scopedSlots.default?this.$scopedSlots.default(Object(a["a"])(Object(a["a"])({},e),{},{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,isMobile:this.isMobile,expand:this.expand})):this.$scopedSlots.item?e.items.map((function(e,i){return t.$scopedSlots.item(t.createItemProps(e,i))})):[]},genFooter:function(e){if(this.hideDefaultFooter)return null;var t={props:Object(a["a"])(Object(a["a"])({},this.sanitizedFooterProps),{},{options:e.options,pagination:e.pagination}),on:{"update:options":function(t){return e.updateOptions(t)}}},i=Object(o["p"])("footer.",this.$scopedSlots);return this.$createElement(ye,Object(a["a"])({scopedSlots:i},t))},genDefaultScopedSlot:function(e){var t=Object(a["a"])(Object(a["a"])({},e),{},{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(o["r"])(this,"header",t,!0),this.genItems(e),this.genFooter(e),Object(o["r"])(this,"footer",t,!0)])}},render:function(){var e=this;return this.$createElement(d,{props:this.$props,on:{"update:options":function(t,i){return!Object(o["i"])(t,i)&&e.$emit("update:options",t)},"update:page":function(t){return e.$emit("update:page",t)},"update:items-per-page":function(t){return e.$emit("update:items-per-page",t)},"update:sort-by":function(t){return e.$emit("update:sort-by",t)},"update:sort-desc":function(t){return e.$emit("update:sort-desc",t)},"update:group-by":function(t){return e.$emit("update:group-by",t)},"update:group-desc":function(t){return e.$emit("update:group-desc",t)},pagination:function(t,i){return!Object(o["i"])(t,i)&&e.$emit("pagination",t)},"current-items":function(t){e.internalCurrentItems=t,e.$emit("current-items",t)},"page-count":function(t){return e.$emit("page-count",t)}},scopedSlots:{default:this.genDefaultScopedSlot}})}}),we=(i("f823"),Object(l["a"])().extend({directives:{ripple:j["a"]},props:{headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1}}},checkboxColor:String,sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll:function(){var e,t=this,i={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems,color:null!=(e=this.checkboxColor)?e:""},on:{input:function(e){return t.$emit("toggle-select-all",e)}}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](i):this.$createElement(F,Object(a["a"])({staticClass:"v-data-table__checkbox"},i))},genSortIcon:function(){return this.$createElement(p["a"],{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}})),ke=Object(l["a"])(we).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip:function(e){var t=this,i=[e.item.text],s=this.options.sortBy.findIndex((function(t){return t===e.item.value})),r=s>=0,a=this.options.sortDesc[s];return i.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:r,asc:r&&!a,desc:r&&a}},[this.genSortIcon()])),this.$createElement(_,{staticClass:"sortable",on:{click:function(i){i.stopPropagation(),t.$emit("sort",e.item.value)}}},i)},genSortSelect:function(e){var t=this;return this.$createElement(me,{props:{label:this.$vuetify.lang.t(this.sortByText),items:e,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],menuProps:{closeOnContentClick:!0}},on:{change:function(e){return t.$emit("sort",e)}},scopedSlots:{selection:function(e){return t.genSortChip(e)}}})}},render:function(e){var t=[],i=this.headers.find((function(e){return"data-table-select"===e.value}));i&&!this.singleSelect&&t.push(this.$createElement("div",{class:["v-data-table-header-mobile__select"].concat(Object(n["a"])(Object(o["E"])(i.class))),attrs:{width:i.width}},[this.genSelectAll()]));var s=this.headers.filter((function(e){return!1!==e.sortable&&"data-table-select"!==e.value})).map((function(e){return{text:e.text,value:e.value}}));!this.disableSort&&s.length&&t.push(this.genSortSelect(s));var r=e("th",[e("div",{staticClass:"v-data-table-header-mobile__wrapper"},t)]),a=e("tr",[r]);return e("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[a])}}),Se=Object(l["a"])(we).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle:function(e){var t=this;return this.$createElement("span",{on:{click:function(i){i.stopPropagation(),t.$emit("group",e.value)}}},["group"])},getAria:function(e,t){var i=this,s=function(e){return i.$vuetify.lang.t("$vuetify.dataTable.ariaLabel.".concat(e))},r="none",a=[s("sortNone"),s("activateAscending")];return e?(t?(r="descending",a=[s("sortDescending"),s(this.options.mustSort?"activateAscending":"activateNone")]):(r="ascending",a=[s("sortAscending"),s("activateDescending")]),{ariaSort:r,ariaLabel:a.join(" ")}):{ariaSort:r,ariaLabel:a.join(" ")}},genHeader:function(e){var t=this,i={attrs:{role:"columnheader",scope:"col","aria-label":e.text||""},style:{width:Object(o["g"])(e.width),minWidth:Object(o["g"])(e.width)},class:["text-".concat(e.align||"start")].concat(Object(n["a"])(Object(o["E"])(e.class)),[e.divider&&"v-data-table__divider"]),on:{}},s=[];if("data-table-select"===e.value&&!this.singleSelect)return this.$createElement("th",i,[this.genSelectAll()]);if(s.push(this.$scopedSlots[e.value]?this.$scopedSlots[e.value]({header:e}):this.$createElement("span",[e.text])),!this.disableSort&&(e.sortable||!e.hasOwnProperty("sortable"))){i.on.click=function(){return t.$emit("sort",e.value)};var r=this.options.sortBy.findIndex((function(t){return t===e.value})),a=r>=0,c=this.options.sortDesc[r];i.class.push("sortable");var d=this.getAria(a,c),h=d.ariaLabel,u=d.ariaSort;i.attrs["aria-label"]+="".concat(e.text?": ":"").concat(h),i.attrs["aria-sort"]=u,a&&(i.class.push("active"),i.class.push(c?"desc":"asc")),"end"===e.align?s.unshift(this.genSortIcon()):s.push(this.genSortIcon()),this.options.multiSort&&a&&s.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[String(r+1)]))}return this.showGroupBy&&!1!==e.groupable&&s.push(this.genGroupByToggle(e)),this.$createElement("th",i,s)}},render:function(){var e=this;return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map((function(t){return e.genHeader(t)})))])}});function _e(e){if(e.model&&e.on&&e.on.input)if(Array.isArray(e.on.input)){var t=e.on.input.indexOf(e.model.callback);t>-1&&e.on.input.splice(t,1)}else delete e.on.input}function Oe(e,t){var i=[];for(var s in e)e.hasOwnProperty(s)&&i.push(t("template",{slot:s},e[s]));return i}var Te=c["a"].extend({name:"v-data-table-header",functional:!0,props:Object(a["a"])(Object(a["a"])({},we.options.props),{},{mobile:Boolean}),render:function(e,t){var i=t.props,s=t.data,r=t.slots;_e(s);var a=Oe(r(),e);return s=Object(U["a"])(s,{props:i}),i.mobile?e(ke,s,a):e(Se,s,a)}}),Ce=c["a"].extend({name:"row",functional:!0,props:{headers:Array,index:Number,item:Object,rtl:Boolean},render:function(e,t){var i=t.props,s=t.slots,r=t.data,a=s(),n=i.headers.map((function(t){var s=[],n=Object(o["o"])(i.item,t.value),c=t.value,d=r.scopedSlots&&r.scopedSlots[c],h=a[c];d?s.push(d({item:i.item,isMobile:!1,header:t,index:i.index,value:n})):h?s.push(h):s.push(null==n?n:String(n));var u="text-".concat(t.align||"start");return e("td",{class:[u,t.cellClass,{"v-data-table__divider":t.divider}]},s)}));return e("tr",r,n)}}),xe=c["a"].extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render:function(e,t){var i=t.slots,s=t.props,r=i(),a=[];return r["column.header"]?a.push(e("tr",{staticClass:s.headerClass},r["column.header"])):r["row.header"]&&a.push.apply(a,Object(n["a"])(r["row.header"])),r["row.content"]&&s.value&&a.push.apply(a,Object(n["a"])(r["row.content"])),r["column.summary"]?a.push(e("tr",{staticClass:s.summaryClass},r["column.summary"])):r["row.summary"]&&a.push.apply(a,Object(n["a"])(r["row.summary"])),a}}),Ie=(i("8b37"),Object(l["a"])(y["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(a["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(o["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})),Ee=c["a"].extend({name:"row",functional:!0,props:{headers:Array,hideDefaultHeader:Boolean,index:Number,item:Object,rtl:Boolean},render:function(e,t){var i=t.props,s=t.slots,r=t.data,n=s(),c=i.headers.map((function(t){var s={"v-data-table__mobile-row":!0},a=[],c=Object(o["o"])(i.item,t.value),d=t.value,h=r.scopedSlots&&r.scopedSlots[d],u=n[d];h?a.push(h({item:i.item,isMobile:!0,header:t,index:i.index,value:c})):u?a.push(u):a.push(null==c?c:String(c));var l=[e("div",{staticClass:"v-data-table__mobile-row__cell"},a)];return"dataTableSelect"===t.value||i.hideDefaultHeader||l.unshift(e("div",{staticClass:"v-data-table__mobile-row__header"},[t.text])),e("td",{class:s},l)}));return e("tr",Object(a["a"])(Object(a["a"])({},r),{},{staticClass:"v-data-table__mobile-table-row"}),c)}}),Ae=i("297c");function Ne(e,t,i){return function(s){var r=Object(o["o"])(e,s.value);return s.filter?s.filter(r,t,e):i(r,t,e)}}function Me(e,t,i,s,r){return t="string"===typeof t?t.trim():null,e.filter((function(e){var a=i.every(Ne(e,t,o["j"])),n=!t||s.some(Ne(e,t,r));return a&&n}))}t["a"]=Object(l["a"])(be,Ae["a"]).extend({name:"v-data-table",directives:{ripple:j["a"]},props:{headers:{type:Array,default:function(){return[]}},showSelect:Boolean,checkboxColor:String,showExpand:Boolean,showGroupBy:Boolean,height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:o["j"]},itemClass:{type:[String,Function],default:function(){return""}},loaderHeight:{type:[Number,String],default:4}},data:function(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders:function(){var e=this;if(!this.headers)return[];var t=this.headers.filter((function(t){return void 0===t.value||!e.internalGroupBy.find((function(e){return e===t.value}))})),i={text:"",sortable:!1,width:"1px"};if(this.showSelect){var s=t.findIndex((function(e){return"data-table-select"===e.value}));s<0?t.unshift(Object(a["a"])(Object(a["a"])({},i),{},{value:"data-table-select"})):t.splice(s,1,Object(a["a"])(Object(a["a"])({},i),t[s]))}if(this.showExpand){var r=t.findIndex((function(e){return"data-table-expand"===e.value}));r<0?t.unshift(Object(a["a"])(Object(a["a"])({},i),{},{value:"data-table-expand"})):t.splice(r,1,Object(a["a"])(Object(a["a"])({},i),t[r]))}return t},colspanAttrs:function(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},columnSorters:function(){return this.computedHeaders.reduce((function(e,t){return t.sort&&(e[t.value]=t.sort),e}),{})},headersWithCustomFilters:function(){return this.headers.filter((function(e){return e.filter&&(!e.hasOwnProperty("filterable")||!0===e.filterable)}))},headersWithoutCustomFilters:function(){return this.headers.filter((function(e){return!e.filter&&(!e.hasOwnProperty("filterable")||!0===e.filterable)}))},sanitizedHeaderProps:function(){return Object(o["d"])(this.headerProps)},computedItemsPerPage:function(){var e=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,t=this.sanitizedFooterProps.itemsPerPageOptions;if(t&&!t.find((function(t){return"number"===typeof t?t===e:t.value===e}))){var i=t[0];return"object"===Object(r["a"])(i)?i.value:i}return e}},created:function(){var e=this,t=[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]];t.forEach((function(t){var i=Object(s["a"])(t,2),r=i[0],a=i[1];e.$attrs.hasOwnProperty(r)&&Object(k["a"])(r,a,e)}))},mounted:function(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy:function(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths:function(){this.widths=Array.from(this.$el.querySelectorAll("th")).map((function(e){return e.clientWidth}))},customFilterWithColumns:function(e,t){return Me(e,t,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders:function(e,t,i,s){return this.customSort(e,t,i,s,this.columnSorters)},createItemProps:function(e,t){var i=be.options.methods.createItemProps.call(this,e,t);return Object.assign(i,{headers:this.computedHeaders})},genCaption:function(e){return this.caption?[this.$createElement("caption",[this.caption])]:Object(o["r"])(this,"caption",e,!0)},genColgroup:function(e){var t=this;return this.$createElement("colgroup",this.computedHeaders.map((function(e){return t.$createElement("col",{class:{divider:e.divider}})})))},genLoading:function(){var e=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[this.genProgress()]),t=this.$createElement("tr",{staticClass:"v-data-table__progress"},[e]);return this.$createElement("thead",[t])},genHeaders:function(e){var t={props:Object(a["a"])(Object(a["a"])({},this.sanitizedHeaderProps),{},{headers:this.computedHeaders,options:e.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,checkboxColor:this.checkboxColor,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort}),on:{sort:e.sort,group:e.group,"toggle-select-all":this.toggleSelectAll}},i=[Object(o["r"])(this,"header",Object(a["a"])(Object(a["a"])({},t),{},{isMobile:this.isMobile}))];if(!this.hideDefaultHeader){var s=Object(o["p"])("header.",this.$scopedSlots);i.push(this.$createElement(Te,Object(a["a"])(Object(a["a"])({},t),{},{scopedSlots:s})))}return this.loading&&i.push(this.genLoading()),i},genEmptyWrapper:function(e){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},e)])},genItems:function(e,t){var i=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return i?[i]:t.groupedItems?this.genGroupedRows(t.groupedItems,t):this.genRows(e,t)},genGroupedRows:function(e,t){var i=this;return e.map((function(e){return i.openCache.hasOwnProperty(e.name)||i.$set(i.openCache,e.name,!0),i.$scopedSlots.group?i.$scopedSlots.group({group:e.name,options:t.options,isMobile:i.isMobile,items:e.items,headers:i.computedHeaders}):i.genDefaultGroupedRow(e.name,e.items,t)}))},genDefaultGroupedRow:function(e,t,i){var s=this,r=!!this.openCache[e],a=[this.$createElement("template",{slot:"row.content"},this.genRows(t,i))],n=function(){return s.$set(s.openCache,e,!s.openCache[e])},o=function(){return i.updateOptions({groupBy:[],groupDesc:[]})};if(this.$scopedSlots["group.header"])a.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:e,groupBy:i.options.groupBy,isMobile:this.isMobile,items:t,headers:this.computedHeaders,isOpen:r,toggle:n,remove:o})]));else{var c=this.$createElement(ge["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:n}},[this.$createElement(p["a"],[r?"$minus":"$plus"])]),d=this.$createElement(ge["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:o}},[this.$createElement(p["a"],["$close"])]),h=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[c,"".concat(i.options.groupBy[0],": ").concat(e),d]);a.unshift(this.$createElement("template",{slot:"column.header"},[h]))}return this.$scopedSlots["group.summary"]&&a.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:e,groupBy:i.options.groupBy,isMobile:this.isMobile,items:t,headers:this.computedHeaders,isOpen:r,toggle:n})])),this.$createElement(xe,{key:e,props:{value:r}},a)},genRows:function(e,t){return this.$scopedSlots.item?this.genScopedRows(e,t):this.genDefaultRows(e,t)},genScopedRows:function(e,t){for(var i=[],s=0;s<e.length;s++){var r=e[s];i.push(this.$scopedSlots.item(Object(a["a"])(Object(a["a"])({},this.createItemProps(r,s)),{},{isMobile:this.isMobile}))),this.isExpanded(r)&&i.push(this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,index:s,item:r}))}return i},genDefaultRows:function(e,t){var i=this;return this.$scopedSlots["expanded-item"]?e.map((function(e,t){return i.genDefaultExpandedRow(e,t)})):e.map((function(e,t){return i.genDefaultSimpleRow(e,t)}))},genDefaultExpandedRow:function(e,t){var i=this.isExpanded(e),s={"v-data-table__expanded v-data-table__expanded__row":i},r=this.genDefaultSimpleRow(e,t,s),a=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,item:e})]);return this.$createElement(xe,{props:{value:i}},[this.$createElement("template",{slot:"row.header"},[r]),this.$createElement("template",{slot:"row.content"},[a])])},genDefaultSimpleRow:function(e,t){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(o["p"])("item.",this.$scopedSlots),n=this.createItemProps(e,t);if(this.showSelect){var c=r["data-table-select"];r["data-table-select"]=c?function(){return c(Object(a["a"])(Object(a["a"])({},n),{},{isMobile:i.isMobile}))}:function(){var t;return i.$createElement(F,{staticClass:"v-data-table__checkbox",props:{value:n.isSelected,disabled:!i.isSelectable(e),color:null!=(t=i.checkboxColor)?t:""},on:{input:function(e){return n.select(e)}}})}}if(this.showExpand){var d=r["data-table-expand"];r["data-table-expand"]=d?function(){return d(n)}:function(){return i.$createElement(p["a"],{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":n.isExpanded},on:{click:function(e){e.stopPropagation(),n.expand(!n.isExpanded)}}},[i.expandIcon])}}return this.$createElement(this.isMobile?Ee:Ce,{key:Object(o["o"])(e,this.itemKey),class:Object(U["b"])(Object(a["a"])(Object(a["a"])({},s),{},{"v-data-table__selected":n.isSelected}),Object(o["q"])(e,this.itemClass)),props:{headers:this.computedHeaders,hideDefaultHeader:this.hideDefaultHeader,index:t,item:e,rtl:this.$vuetify.rtl},scopedSlots:r,on:{click:function(){return i.$emit("click:row",e,n)},contextmenu:function(e){return i.$emit("contextmenu:row",e,n)},dblclick:function(e){return i.$emit("dblclick:row",e,n)}}})},genBody:function(e){var t=Object(a["a"])(Object(a["a"])({},e),{},{expand:this.expand,headers:this.computedHeaders,isExpanded:this.isExpanded,isMobile:this.isMobile,isSelected:this.isSelected,select:this.select});return this.$scopedSlots.body?this.$scopedSlots.body(t):this.$createElement("tbody",[Object(o["r"])(this,"body.prepend",t,!0),this.genItems(e.items,e),Object(o["r"])(this,"body.append",t,!0)])},genFoot:function(e){return null==this.$scopedSlots.foot?void 0:this.$scopedSlots.foot(e)},genFooters:function(e){var t={props:Object(a["a"])({options:e.options,pagination:e.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText"},this.sanitizedFooterProps),on:{"update:options":function(t){return e.updateOptions(t)}},widths:this.widths,headers:this.computedHeaders},i=[Object(o["r"])(this,"footer",t,!0)];return this.hideDefaultFooter||i.push(this.$createElement(ye,Object(a["a"])(Object(a["a"])({},t),{},{scopedSlots:Object(o["p"])("footer.",this.$scopedSlots)}))),i},genDefaultScopedSlot:function(e){var t={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(Ie,{props:t,class:{"v-data-table--mobile":this.isMobile}},[this.proxySlot("top",Object(o["r"])(this,"top",Object(a["a"])(Object(a["a"])({},e),{},{isMobile:this.isMobile}),!0)),this.genCaption(e),this.genColgroup(e),this.genHeaders(e),this.genBody(e),this.genFoot(e),this.proxySlot("bottom",this.genFooters(e))])},proxySlot:function(e,t){return this.$createElement("template",{slot:e},t)}},render:function(){var e=this;return this.$createElement(d,{props:Object(a["a"])(Object(a["a"])({},this.$props),{},{customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage}),on:{"update:options":function(t,i){e.internalGroupBy=t.groupBy||[],!Object(o["i"])(t,i)&&e.$emit("update:options",t)},"update:page":function(t){return e.$emit("update:page",t)},"update:items-per-page":function(t){return e.$emit("update:items-per-page",t)},"update:sort-by":function(t){return e.$emit("update:sort-by",t)},"update:sort-desc":function(t){return e.$emit("update:sort-desc",t)},"update:group-by":function(t){return e.$emit("update:group-by",t)},"update:group-desc":function(t){return e.$emit("update:group-desc",t)},pagination:function(t,i){return!Object(o["i"])(t,i)&&e.$emit("pagination",t)},"current-items":function(t){e.internalCurrentItems=t,e.$emit("current-items",t)},"page-count":function(t){return e.$emit("page-count",t)}},scopedSlots:{default:this.genDefaultScopedSlot}})}})},"8ff2":function(e,t,i){},"90a2":function(e,t,i){"use strict";var s=i("53ca");function r(e,t){if("undefined"!==typeof window&&"IntersectionObserver"in window){var i=t.modifiers||{},r=t.value,n="object"===Object(s["a"])(r)?r:{handler:r,options:{}},o=n.handler,c=n.options,d=new IntersectionObserver((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;if(e._observe){var r=t.some((function(e){return e.isIntersecting}));!o||i.quiet&&!e._observe.init||i.once&&!r&&e._observe.init||o(t,s,r),r&&i.once?a(e):e._observe.init=!0}}),c);e._observe={init:!1,observer:d},d.observe(e)}}function a(e){e._observe&&(e._observe.observer.unobserve(e),delete e._observe)}var n={inserted:r,unbind:a};t["a"]=n},"90db":function(e,t,i){"use strict";const s=i("113d"),{isNode:r,keys:a,values:n,deepExtend:o,extend:c,clone:d,flatten:h,unique:u,indexBy:l,sortBy:f,groupBy:p,aggregate:m,uuid:g,unCamelCase:y,precisionFromString:v,throttle:b,capitalize:w,now:k,timeout:S,TimedOut:_,buildOHLCVC:O,decimalToPrecision:T,defaultFetch:C}=s,{ExchangeError:x,BadSymbol:I,InvalidAddress:E,NotSupported:A,AuthenticationError:N,DDoSProtection:M,RequestTimeout:P,ExchangeNotAvailable:B,RateLimitExceeded:R}=i("74b0"),{TRUNCATE:L,ROUND:V,DECIMAL_PLACES:D,NO_PADDING:q}=s.precisionConstants,j=(i("74d2"),i("5524"));e.exports=class{describe(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!0,rateLimit:2e3,certified:!1,pro:!1,has:{loadMarkets:!0,cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchOrderTrades:!1,fetchStatus:"emulated",fetchTicker:!0,fetchTickers:!1,fetchTime:!1,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!1,privateAPI:!0,publicAPI:!0,signIn:!1,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1,privateKey:!1,walletAddress:!1,token:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},status:{status:"ok",updated:void 0,eta:void 0,url:void 0},exceptions:void 0,httpExceptions:{422:x,418:M,429:R,404:B,409:B,410:B,500:B,501:B,502:B,520:B,521:B,522:B,525:B,526:B,400:B,403:B,405:B,503:B,530:B,408:P,504:P,401:N,511:N},dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH",BCHABC:"BCH",BCHSV:"BSV"},precisionMode:D,paddingMode:q,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}constructor(e={}){Object.assign(this,s),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.quoteJsonNumbers=!0,this.number=Number,this.reduceFees=!0,this.fetchImplementation=C,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.userAgent=void 0,this.twofa=void 0,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.privateKey=void 0,this.walletAddress=void 0,this.token=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders=void 0,this.trades={},this.transactions={},this.ohlcvs={},this.myTrades=void 0,this.requiresWeb3=!1,this.requiresEddsa=!1,this.precision={},this.enableLastJsonResponse=!0,this.enableLastHttpResponse=!0,this.enableLastResponseHeaders=!0,this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0;const t=(e=this)=>{if(null!==e){const i=Object.getOwnPropertyNames(e);for(let e=0;e<i.length;e++){const t=i[e];this[y(t)]=this[t]}t(Object.getPrototypeOf(e))}};t();const i=Object.entries(this.describe()).concat(Object.entries(e));for(let s=0;s<i.length;s++){const[e,t]=i[s];t&&Object.getPrototypeOf(t)===Object.prototype?this[e]=o(this[e],t):this[e]=t}const a={keepAlive:!0};!this.httpAgent&&C.http&&r&&(this.httpAgent=new C.http.Agent(a)),!this.httpsAgent&&C.https&&r&&(this.httpsAgent=new C.https.Agent(a));const n=Object.keys(this.has);for(let s=0;s<n.length;s++){const e=n[s];this["has"+w(e)]=!!this.has[e]}this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets)}defaults(){return{}}nonce(){return this.seconds()}encodeURIComponent(...e){return encodeURIComponent(...e)}checkRequiredCredentials(e=!0){const t=Object.keys(this.requiredCredentials);for(let i=0;i<t.length;i++){const s=t[i];if(this.requiredCredentials[s]&&!this[s]){if(e)throw new N(this.id+" requires `"+s+"` credential");return e}}return!0}checkAddress(e){if(void 0===e)throw new E(this.id+" address is undefined");if(1===u(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new E(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+this.json(e)+'"');return e}initRestRateLimiter(){if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=b(this.tokenBucket),this.executeRestRequest=(e,t="GET",i,s)=>{const a=this.fetchImplementation,n={method:t,headers:i,body:s,timeout:this.timeout};this.agent?n["agent"]=this.agent:this.httpAgent&&0===e.indexOf("http://")?n["agent"]=this.httpAgent:this.httpsAgent&&0===e.indexOf("https://")&&(n["agent"]=this.httpsAgent);const o=a(e,this.extend(n,this.fetchOptions)).catch(i=>{if(r)throw new B([this.id,t,e,i.type,i.message].join(" "));throw i}).then(r=>this.handleRestResponse(r,e,t,i,s));return S(this.timeout,o).catch(i=>{if(i instanceof _)throw new P(this.id+" "+t+" "+e+" request timed out ("+this.timeout+" ms)");throw i})}}setSandboxMode(e){if(e){if(!("test"in this.urls))throw new A(this.id+" does not have a sandbox URL");"string"===typeof this.urls["api"]?(this.urls["apiBackup"]=this.urls["api"],this.urls["api"]=this.urls["test"]):(this.urls["apiBackup"]=d(this.urls["api"]),this.urls["api"]=d(this.urls["test"]))}else"apiBackup"in this.urls&&("string"===typeof this.urls["api"]?this.urls["api"]=this.urls["apiBackup"]:this.urls["api"]=d(this.urls["apiBackup"]))}defineRestApi(e,t,i=[]){const s=Object.keys(e);for(let r=0;r<s.length;r++){const a=s[r],n=e[a];if(Array.isArray(n)){const e=a.toUpperCase(),s=a.toLowerCase(),r=this.capitalize(s);for(let a=0;a<n.length;a++){const o=n[a].trim(),c=o.split(/[^a-zA-Z0-9]/),d=c.map(this.capitalize).join(""),h=c.map(e=>e.trim().toLowerCase()).filter(e=>e.length>0).join("_"),u=[i[0]].concat(i.slice(1).map(this.capitalize)).join(""),l=[i[0]].concat(i.slice(1).map(e=>e.trim()).filter(e=>e.length>0)).join("_"),f=u+r+this.capitalize(d),p=l+"_"+s+"_"+h,m=i.length>1?i:i[0],g=async i=>this[t](o,m,e,i||{});this[f]=g,this[p]=g}}else this.defineRestApi(n,t,i.concat([a]))}}print(...e){console.log(...e)}setHeaders(e){return e}fetch(e,t="GET",i,s){return r&&this.userAgent&&("string"===typeof this.userAgent?i=c({"User-Agent":this.userAgent},i):"object"===typeof this.userAgent&&"User-Agent"in this.userAgent&&(i=c(this.userAgent,i))),"function"===typeof this.proxy?(e=this.proxy(e),r&&(i=c({Origin:this.origin},i))):"string"===typeof this.proxy&&(this.proxy.length&&r&&(i=c({Origin:this.origin},i)),e=this.proxy+e),i=c(this.headers,i),i=this.setHeaders(i),this.verbose&&this.print("fetch:\n",this.id,t,e,"\nRequest:\n",i,"\n",s,"\n"),this.executeRestRequest(e,t,i,s)}async fetch2(e,t="public",i="GET",s={},r,a){this.enableRateLimit&&await this.throttle(this.rateLimit);const n=this.sign(e,t,i,s,r,a);return this.fetch(n.url,n.method,n.headers,n.body)}request(e,t="public",i="GET",s={},r,a){return this.fetch2(e,t,i,s,r,a)}parseJson(e){try{if(this.isJsonEncodedObject(e))return JSON.parse(this.onJsonResponse(e))}catch(t){return}}throwExactlyMatchedException(e,t,i){if(t in e)throw new e[t](i)}throwBroadlyMatchedException(e,t,i){const s=this.findBroadlyMatchedKey(e,t);if(void 0!==s)throw new e[s](i)}findBroadlyMatchedKey(e,t){const i=Object.keys(e);for(let s=0;s<i.length;s++){const e=i[s];if(t.indexOf(e)>=0)return e}}handleErrors(e,t,i,s,r,a,n,o,c){}handleHttpStatusCode(e,t,i,s,r){const a=e.toString();if(a in this.httpExceptions){const n=this.httpExceptions[a];throw new n([this.id,s,i,e,t,r].join(" "))}}getResponseHeaders(e){const t={};return e.headers.forEach((e,i)=>{i=i.split("-").map(e=>w(e)).join("-"),t[i]=e}),t}handleRestResponse(e,t,i="GET",s,r){return e.text().then(a=>{const n=this.getResponseHeaders(e),o=this.onRestResponse(e.status,e.statusText,t,i,n,a,s,r),c=this.parseJson(o);return this.enableLastResponseHeaders&&(this.last_response_headers=n),this.enableLastHttpResponse&&(this.last_http_response=a),this.enableLastJsonResponse&&(this.last_json_response=c),this.verbose&&this.print("handleRestResponse:\n",this.id,i,t,e.status,e.statusText,"\nResponse:\n",n,"\n",a,"\n"),this.handleErrors(e.status,e.statusText,t,i,n,a,c,s,r),this.handleHttpStatusCode(e.status,e.statusText,t,i,a),c||a})}onRestResponse(e,t,i,s,r,a,n,o){return a.trim()}onJsonResponse(e){return this.quoteJsonNumbers?e.replace(/":([+.0-9eE-]+)([,}])/g,'":"$1"$2'):e}setMarkets(e,t){const i=Object.values(e).map(e=>o({limits:this.limits,precision:this.precision},this.fees["trading"],e));if(this.markets=l(i,"symbol"),this.markets_by_id=l(e,"id"),this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),t)this.currencies=o(t,this.currencies);else{let e=i.filter(e=>"base"in e).map(e=>({id:e.baseId||e.base,numericId:void 0!==e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8})),t=i.filter(e=>"quote"in e).map(e=>({id:e.quoteId||e.quote,numericId:void 0!==e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8}));e=f(e,"code"),t=f(t,"code"),this.baseCurrencies=l(e,"code"),this.quoteCurrencies=l(t,"code");const s=e.concat(t),r=p(s,"code"),a=Object.keys(r).map(e=>r[e].reduce((e,t)=>e.precision>t.precision?e:t,r[e][0])),n=f(h(a),"code");this.currencies=o(l(n,"code"),this.currencies)}return this.currencies_by_id=l(this.currencies,"id"),this.markets}async loadMarketsHelper(e=!1,t={}){if(!e&&this.markets)return this.markets_by_id?this.markets:this.setMarkets(this.markets);let i=void 0;this.has.fetchCurrencies&&(i=await this.fetchCurrencies());const s=await this.fetchMarkets(t);return this.setMarkets(s,i)}loadMarkets(e=!1,t={}){return(e&&!this.reloadingMarkets||!this.marketsLoading)&&(this.reloadingMarkets=!0,this.marketsLoading=this.loadMarketsHelper(e,t).then(e=>(this.reloadingMarkets=!1,e),e=>{throw this.reloadingMarkets=!1,e})),this.marketsLoading}async loadAccounts(e=!1,t={}){if(e)this.accounts=await this.fetchAccounts(t);else{if(this.accounts)return this.accounts;this.accounts=await this.fetchAccounts(t)}return this.accountsById=this.indexBy(this.accounts,"id"),this.accounts}fetchBidsAsks(e,t={}){throw new A(this.id+" fetchBidsAsks not supported yet")}async fetchOHLCVC(e,t="1m",i,s,r={}){if(!this.has["fetchTrades"])throw new A(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const a=await this.fetchTrades(e,i,s,r),n=O(a,t,i,s);return n}async fetchOHLCV(e,t="1m",i,s,r={}){if(!this.has["fetchTrades"])throw new A(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const a=await this.fetchTrades(e,i,s,r),n=O(a,t,i,s);return n.map(e=>e.slice(0,-1))}parseTradingViewOHLCV(e,t,i="1m",s,r){const a=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(a,t,i,s,r)}convertTradingViewToOHLCV(e,t="t",i="o",s="h",r="l",a="c",n="v",o=!1){const c=[];for(let d=0;d<e[t].length;d++)c.push([o?e[t][d]:1e3*e[t][d],e[i][d],e[s][d],e[r][d],e[a][d],e[n][d]]);return c}convertOHLCVToTradingView(e,t="t",i="o",s="h",r="l",a="c",n="v",o=!1){const c={};c[t]=[],c[i]=[],c[s]=[],c[r]=[],c[a]=[],c[n]=[];for(let d=0;d<e.length;d++)c[t].push(o?e[d][0]:parseInt(e[d][0]/1e3)),c[i].push(e[d][1]),c[s].push(e[d][2]),c[r].push(e[d][3]),c[a].push(e[d][4]),c[n].push(e[d][5]);return c}async fetchTicker(e,t={}){if(this.has["fetchTickers"]){const i=await this.fetchTickers([e],t),s=this.safeValue(i,e);if(void 0===s)throw new E(this.id+" fetchTickers could not find a ticker for "+e);return s}throw new A(this.id+" fetchTicker not supported yet")}fetchTickers(e,t={}){throw new A(this.id+" fetchTickers not supported yet")}fetchOrder(e,t,i={}){throw new A(this.id+" fetchOrder not supported yet")}fetchUnifiedOrder(e,t={}){return this.fetchOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}createOrder(e,t,i,s,r,a={}){throw new A(this.id+" createOrder not supported yet")}cancelOrder(e,t,i={}){throw new A(this.id+" cancelOrder not supported yet")}cancelUnifiedOrder(e,t={}){return this.cancelOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}fetchOrders(e,t,i,s={}){throw new A(this.id+" fetchOrders not supported yet")}fetchOpenOrders(e,t,i,s={}){throw new A(this.id+" fetchOpenOrders not supported yet")}fetchClosedOrders(e,t,i,s={}){throw new A(this.id+" fetchClosedOrders not supported yet")}fetchMyTrades(e,t,i,s={}){throw new A(this.id+" fetchMyTrades not supported yet")}fetchTransactions(e,t,i,s={}){throw new A(this.id+" fetchTransactions not supported yet")}fetchDeposits(e,t,i,s={}){throw new A(this.id+" fetchDeposits not supported yet")}fetchWithdrawals(e,t,i,s={}){throw new A(this.id+" fetchWithdrawals not supported yet")}async fetchDepositAddress(e,t={}){if(this.has["fetchDepositAddresses"]){const i=await this.fetchDepositAddresses([e],t),s=this.safeValue(i,e);if(void 0===s)throw new E(this.id+" fetchDepositAddress could not find a deposit address for "+e+", make sure you have created a corresponding deposit address in your wallet on the exchange website");return s}throw new A(this.id+" fetchDepositAddress not supported yet")}fetchCurrencies(e={}){return new Promise((e,t)=>e(this.currencies))}fetchMarkets(e={}){return new Promise((e,t)=>e(Object.values(this.markets)))}async fetchOrderStatus(e,t,i={}){const s=await this.fetchOrder(e,t,i);return s["status"]}account(){return{free:void 0,used:void 0,total:void 0}}commonCurrencyCode(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}currencyId(e){if(void 0===this.currencies)throw new x(this.id+" currencies not loaded");if(e in this.currencies)return this.currencies[e]["id"];const t={},i=Object.keys(this.commonCurrencies);for(let s=0;s<i.length;s++){const e=i[s];t[this.commonCurrencies[e]]=e}return this.safeString(t,e,e)}currency(e){if(void 0===this.currencies)throw new x(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new x(this.id+" does not have currency code "+e)}market(e){if(void 0===this.markets)throw new x(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new I(this.id+" does not have market symbol "+e)}marketId(e){const t=this.market(e);return void 0!==t?t["id"]:e}marketIds(e){return e.map(e=>this.marketId(e))}currencyIds(e){return e.map(e=>this.currencyId(e))}symbol(e){return this.market(e).symbol||e}implodeHostname(e){return this.implodeParams(e,{hostname:this.hostname})}parseBidAsk(e,t=0,i=1){const s=this.safeNumber(e,t),r=this.safeNumber(e,i);return[s,r]}parseBidsAsks(e,t=0,i=1){return Object.values(e||[]).map(e=>this.parseBidAsk(e,t,i))}async fetchL2OrderBook(e,t,i={}){const s=await this.fetchOrderBook(e,t,i);return c(s,{bids:f(m(s.bids),0,!0),asks:f(m(s.asks),0)})}parseOrderBook(e,t,i,s="bids",r="asks",a=0,n=1){return{symbol:t,bids:f(s in e?this.parseBidsAsks(e[s],a,n):[],0,!0),asks:f(r in e?this.parseBidsAsks(e[r],a,n):[],0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}parseBalance(e,t=!0){const i=Object.keys(this.omit(e,["info","timestamp","datetime","free","used","total"]));e["free"]={},e["used"]={},e["total"]={};for(let s=0;s<i.length;s++){const r=i[s];void 0===e[r].total&&void 0!==e[r].free&&void 0!==e[r].used&&(e[r].total=t?this.sum(e[r].free,e[r].used):j.stringAdd(e[r].free,e[r].used)),void 0===e[r].free&&void 0!==e[r].total&&void 0!==e[r].used&&(e[r].free=t?this.sum(e[r].total,-e[r].used):j.stringSub(e[r].total,e[r].used)),void 0===e[r].used&&void 0!==e[r].total&&void 0!==e[r].free&&(e[r].used=t?this.sum(e[r].total,-e[r].free):j.stringSub(e[r].total,e[r].free)),e[r].free=this.parseNumber(e[r].free),e[r].used=this.parseNumber(e[r].used),e[r].total=this.parseNumber(e[r].total),e.free[r]=e[r].free,e.used[r]=e[r].used,e.total[r]=e[r].total}return e}async fetchBalance(e={}){throw new A(this.id+" fetchBalance not supported yet")}async fetchPartialBalance(e,t={}){const i=await this.fetchBalance(t);return i[e]}fetchFreeBalance(e={}){return this.fetchPartialBalance("free",e)}fetchUsedBalance(e={}){return this.fetchPartialBalance("used",e)}fetchTotalBalance(e={}){return this.fetchPartialBalance("total",e)}async fetchStatus(e={}){if(this.has["fetchTime"]){const t=await this.fetchTime(e);this.status=this.extend(this.status,{updated:t})}return this.status}async fetchTradingFees(e={}){throw new A(this.id+" fetchTradingFees not supported yet")}async fetchTradingFee(e,t={}){if(!this.has["fetchTradingFees"])throw new A(this.id+" fetchTradingFee not supported yet");return await this.fetchTradingFees(t)}async loadTradingLimits(e,t=!1,i={}){if(this.has["fetchTradingLimits"]&&(t||!("limitsLoaded"in this.options))){const t=await this.fetchTradingLimits(e);for(let i=0;i<e.length;i++){const s=e[i];this.markets[s]=this.deepExtend(this.markets[s],t[s])}this.options["limitsLoaded"]=this.milliseconds()}return this.markets}filterBySinceLimit(e,t,i,s="timestamp",r=!1){const a=void 0!==t&&null!==t;return a&&(e=e.filter(e=>e[s]>=t)),void 0!==i&&null!==i&&(e=r?e.slice(-i):e.slice(0,i)),e}filterByValueSinceLimit(e,t,i,s,r,a="timestamp",n=!1){const o=void 0!==i&&null!==i,c=void 0!==s&&null!==s;return(o||c)&&(e=e.filter(e=>(!o||e[t]===i)&&(!c||e[a]>=s))),void 0!==r&&null!==r&&(e=n?e.slice(-r):e.slice(0,r)),e}filterBySymbolSinceLimit(e,t,i,s,r=!1){return this.filterByValueSinceLimit(e,"symbol",t,i,s,"timestamp",r)}filterByCurrencySinceLimit(e,t,i,s,r=!1){return this.filterByValueSinceLimit(e,"currency",t,i,s,"timestamp",r)}filterByArray(e,t,i,s=!0){if(e=Object.values(e),void 0===i||null===i)return s?l(e,t):e;const r=[];for(let a=0;a<e.length;a++)i.includes(e[a][t])&&r.push(e[a]);return s?l(r,t):r}safeTicker(e,t){const i=this.safeValue(e,"symbol");void 0===i&&(e["symbol"]=this.safeSymbol(void 0,t));const s=this.safeInteger(e,"timestamp");void 0!==s&&(e["timestamp"]=s,e["datetime"]=this.iso8601(s));const r=this.safeValue(e,"baseVolume"),a=this.safeValue(e,"quoteVolume"),n=this.safeValue(e,"vwap");void 0===n&&(e["vwap"]=this.vwap(r,a));const o=this.safeValue(e,"close"),c=this.safeValue(e,"last");return void 0===o&&void 0!==c?e["close"]=c:void 0===c&&void 0!==o&&(e["last"]=o),e}parseTickers(e,t,i={}){const s=[],r=Object.values(e||[]);for(let a=0;a<r.length;a++)s.push(this.extend(this.parseTicker(r[a]),i));return this.filterByArray(s,"symbol",t)}parseDepositAddresses(e,t){let i=[];for(let s=0;s<e.length;s++){const t=this.parseDepositAddress(e[s]);i.push(t)}return t&&(i=this.filterByArray(i,"currency",t)),this.indexBy(i,"currency")}parseTrades(e,t,i,s,r={}){let a=Object.values(e||[]).map(e=>this.extend(this.parseTrade(e,t),r));a=f(a,"timestamp");const n=void 0!==t?t["symbol"]:void 0,o=void 0===i;return this.filterBySymbolSinceLimit(a,n,i,s,o)}parseTransactions(e,t,i,s,r={}){let a=Object.values(e||[]).map(e=>this.extend(this.parseTransaction(e,t),r));a=this.sortBy(a,"timestamp");const n=void 0!==t?t["code"]:void 0,o=void 0===i;return this.filterByCurrencySinceLimit(a,n,i,s,o)}parseTransfers(e,t,i,s,r={}){let a=Object.values(e||[]).map(e=>this.extend(this.parseTransfer(e,t),r));a=this.sortBy(a,"timestamp");const n=void 0!==t?t["code"]:void 0,o=void 0===i;return this.filterByCurrencySinceLimit(a,n,i,s,o)}parseLedger(e,t,i,s,r={}){let a=[];const n=Object.values(e||[]);for(let d=0;d<n.length;d++){const e=this.parseLedgerEntry(n[d],t);if(Array.isArray(e))for(let t=0;t<e.length;t++)a.push(this.extend(e[t],r));else a.push(this.extend(e,r))}a=this.sortBy(a,"timestamp");const o=void 0!==t?t["code"]:void 0,c=void 0===i;return this.filterByCurrencySinceLimit(a,o,i,s,c)}parseOrders(e,t,i,s,r={}){let a=Array.isArray(e)?Object.values(e).map(e=>this.extend(this.parseOrder(e,t),r)):Object.entries(e).map(([e,i])=>this.extend(this.parseOrder(this.extend({id:e},i),t),r));a=f(a,"timestamp");const n=void 0!==t?t["symbol"]:void 0,o=void 0===i;return this.filterBySymbolSinceLimit(a,n,i,s,o)}safeCurrency(e,t){return void 0===e&&void 0!==t?t:void 0!==this.currencies_by_id&&e in this.currencies_by_id?this.currencies_by_id[e]:{id:e,code:void 0===e?e:this.commonCurrencyCode(e.toUpperCase())}}safeCurrencyCode(e,t){return t=this.safeCurrency(e,t),t["code"]}safeMarket(e,t,i){if(void 0!==e)if(void 0!==this.markets_by_id&&e in this.markets_by_id)t=this.markets_by_id[e];else if(void 0!==i){const[t,s]=e.split(i),r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(s),n=r+"/"+a;return{id:e,symbol:n,base:r,quote:a,baseId:t,quoteId:s}}return void 0!==t?t:{id:e,symbol:e,base:void 0,quote:void 0,baseId:void 0,quoteId:void 0}}safeSymbol(e,t,i){return t=this.safeMarket(e,t,i),t["symbol"]}filterBySymbol(e,t){return void 0!==t?e.filter(e=>e.symbol===t):e}parseOHLCV(e,t){return Array.isArray(e)?e.slice(0,6):e}parseOHLCVs(e,t,i="1m",s,r){const a=e.map(e=>this.parseOHLCV(e,t)),n=this.sortBy(a,0),o=void 0===s;return this.filterBySinceLimit(n,s,r,0,o)}editLimitBuyOrder(e,t,...i){return this.editLimitOrder(e,t,"buy",...i)}editLimitSellOrder(e,t,...i){return this.editLimitOrder(e,t,"sell",...i)}editLimitOrder(e,t,...i){return this.editOrder(e,t,"limit",...i)}async editOrder(e,t,...i){if(!this.enableRateLimit)throw new x(this.id+" editOrder() requires enableRateLimit = true");return await this.cancelOrder(e,t),this.createOrder(t,...i)}createLimitOrder(e,t,i,s,r={}){return this.createOrder(e,"limit",t,i,s,r)}createMarketOrder(e,t,i,s,r={}){return this.createOrder(e,"market",t,i,s,r)}createLimitBuyOrder(e,t,i,s={}){return this.createOrder(e,"limit","buy",t,i,s)}createLimitSellOrder(e,t,i,s={}){return this.createOrder(e,"limit","sell",t,i,s)}createMarketBuyOrder(e,t,i={}){return this.createOrder(e,"market","buy",t,void 0,i)}createMarketSellOrder(e,t,i={}){return this.createOrder(e,"market","sell",t,void 0,i)}costToPrecision(e,t){return T(t,L,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}priceToPrecision(e,t){return T(t,V,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}amountToPrecision(e,t){return T(t,L,this.markets[e].precision.amount,this.precisionMode,this.paddingMode)}feeToPrecision(e,t){return T(t,V,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}currencyToPrecision(e,t){return T(t,V,this.currencies[e]["precision"],this.precisionMode,this.paddingMode)}calculateFee(e,t,i,s,r,a="taker",n={}){const o=this.markets[e],c=this.safeString(o,"feeSide","quote");let d="quote",h=void 0;"quote"===c?h=s*r:"base"===c?h=s:"get"===c?(h=s,"sell"===i?h*=r:d="base"):"give"===c&&(h=s,"buy"===i?h*=r:d="base");const u=o[a];return void 0!==h&&(h*=u),{type:a,currency:o[d],rate:u,cost:h}}checkRequiredDependencies(){}remove0xPrefix(e){return"0x"===e.slice(0,2)?e.slice(2):e}hashMessage(e){const t=this.base16ToBinary(this.remove0xPrefix(e)),i=this.stringToBinary("Ethereum Signed Message:\n"+t.sigBytes);return"0x"+this.hash(this.binaryConcat(i,t),"keccak","hex")}signHash(e,t){const i=this.ecdsa(e.slice(-64),t.slice(-64),"secp256k1",void 0);return{r:"0x"+i["r"],s:"0x"+i["s"],v:27+i["v"]}}signMessage(e,t){return this.signHash(this.hashMessage(e),t.slice(-64))}signMessageString(e,t){const i=this.signMessage(e,t);return i["r"]+this.remove0xPrefix(i["s"])+this.binaryToBase16(this.numberToBE(i["v"]))}oath(){if("undefined"!==typeof this.twofa)return this.totp(this.twofa);throw new x(this.id+" this.twofa has not been set")}reduceFeesByCurrency(e){const t={};for(let i=0;i<e.length;i++){const s=e[i],r=this.safeValue(s,"currency");void 0!==r&&(r in t?t[r]["cost"]=this.sum(t[r]["cost"],s["cost"]):t[r]={cost:s["cost"],currency:r})}return Object.values(t)}safeOrder(e){let t=this.safeValue(e,"amount"),i=this.safeValue(e,"remaining"),s=this.safeValue(e,"filled"),r=this.safeValue(e,"cost"),a=this.safeValue(e,"average"),n=this.safeValue(e,"price"),o=this.safeInteger(e,"lastTradeTimestamp");const c=void 0===s,d=void 0===r,h=void 0===o,u=void 0===this.safeValue(e,"fee"),l=void 0===this.safeValue(e,"fees"),f=u||l,p=this.safeValue(e,"fees",[]);if(c||d||f){const t=this.safeValue(e,"trades");if(Array.isArray(t)){c&&(s=0),d&&(r=0);for(let e=0;e<t.length;e++){const i=t[e],a=this.safeValue(i,"amount");c&&void 0!==a&&(s=this.sum(s,a));const n=this.safeValue(i,"cost");d&&void 0!==n&&(r=this.sum(r,n));const u=this.safeValue(i,"timestamp");if(h&&void 0!==u&&(o=void 0===o?u:Math.max(o,u)),f){const e=this.safeValue(i,"fees");if(void 0!==e)for(let t=0;t<e.length;t++){const i=e[t];p.push(this.extend({},i))}else{const e=this.safeValue(i,"fee");void 0!==e&&p.push(this.extend({},e))}}}}}if(f){const t=this.reduceFees?this.reduceFeesByCurrency(p):p,i=t.length;u||0!==i||t.push(e["fee"]),l&&(e["fees"]=t),u&&1===i&&(e["fee"]=t[0])}void 0===t&&(void 0!==s&&void 0!==i?t=this.sum(s,i):"closed"===this.safeString(e,"status")&&(t=s)),void 0===s&&void 0!==t&&void 0!==i&&(s=Math.max(this.sum(t,-i),0)),void 0===i&&void 0!==t&&void 0!==s&&(i=Math.max(this.sum(t,-s),0)),void 0===a&&void 0!==s&&void 0!==r&&s>0&&(a=r/s);const m=void 0!==a||void 0!==n;d&&void 0!==s&&m&&(r=void 0===a?n*s:a*s);const g=this.safeValue(e,"type"),y=void 0===n||0===n;return y&&"market"===g&&(n=a),this.extend(e,{lastTradeTimestamp:o,price:n,amount:t,cost:r,average:a,filled:s,remaining:i})}parseNumber(e,t){if(void 0===e)return t;try{return this.number(e)}catch(i){return t}}safeNumber(e,t,i){const s=this.safeString(e,t);return this.parseNumber(s,i)}safeNumber2(e,t,i,s){const r=this.safeString2(e,t,i);return this.parseNumber(r,s)}parsePrecision(e){if(void 0!==e)return"1e"+j.stringNeg(e)}}},"90e3":function(e,t){var i=0,s=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+s).toString(36)}},9112:function(e,t,i){var s=i("83ab"),r=i("9bf2"),a=i("5c6c");e.exports=s?function(e,t,i){return r.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,s,r){var a,n,o=8*r-s-1,c=(1<<o)-1,d=c>>1,h=-7,u=i?r-1:0,l=i?-1:1,f=e[t+u];for(u+=l,a=f&(1<<-h)-1,f>>=-h,h+=o;h>0;a=256*a+e[t+u],u+=l,h-=8);for(n=a&(1<<-h)-1,a>>=-h,h+=s;h>0;n=256*n+e[t+u],u+=l,h-=8);if(0===a)a=1-d;else{if(a===c)return n?NaN:1/0*(f?-1:1);n+=Math.pow(2,s),a-=d}return(f?-1:1)*n*Math.pow(2,a-s)},t.write=function(e,t,i,s,r,a){var n,o,c,d=8*a-r-1,h=(1<<d)-1,u=h>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=s?0:a-1,p=s?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,n=h):(n=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-n))<1&&(n--,c*=2),t+=n+u>=1?l/c:l*Math.pow(2,1-u),t*c>=2&&(n++,c/=2),n+u>=h?(o=0,n=h):n+u>=1?(o=(t*c-1)*Math.pow(2,r),n+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,r),n=0));r>=8;e[i+f]=255&o,f+=p,o/=256,r-=8);for(n=n<<r|o,d+=r;d>0;e[i+f]=255&n,f+=p,n/=256,d-=8);e[i+f-p]|=128*m}},"91c7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("b640"),r=i("feef"),a=i("ff3f");function n(e,t,i){var n=!Array.isArray(t),o=Date.now(),c=[],d=i&&i.confirmations||0,h=i&&i.maxWaitTime||0,u=i&&i.requestInterval||250,l=function(t){return r.fetchStatus(e,t.map(s.prop("id"))).then((function(e){var i=s.indexBy(s.prop("id"),e.statuses),r=t.some((function(e){return i[e.id].status===a.TRANSACTION_STATUSES.NOT_FOUND}));if(r)throw new Error("One transaction is not in blockchain!");var n=t.filter((function(e){return!(i[e.id].confirmations>=d)||(c.push(e),!1)}));if(n.length)return h&&Date.now()-o>h?Promise.reject("Timeout error!"):s.wait(u).then((function(){return l(n)}))}))};return l(s.toArray(t)).then((function(){return n?s.head(c):c}))}t.default=n},"91dd":function(e,t,i){"use strict";function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,a){t=t||"&",i=i||"=";var n={};if("string"!==typeof e||0===e.length)return n;var o=/\+/g;e=e.split(t);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var d=e.length;c>0&&d>c&&(d=c);for(var h=0;h<d;++h){var u,l,f,p,m=e[h].replace(o,"%20"),g=m.indexOf(i);g>=0?(u=m.substr(0,g),l=m.substr(g+1)):(u=m,l=""),f=decodeURIComponent(u),p=decodeURIComponent(l),s(n,f)?r(n[f])?n[f].push(p):n[f]=[n[f],p]:n[f]=p}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"91f4":function(e,t,i){},"925e":function(e,t,i){(function(t,s,r){var a=i("a9f1"),n=i("3fb5"),o=i("c90b"),c=i("e372"),d=i("d938"),h=o.IncomingMessage,u=o.readyStates;function l(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}var f=e.exports=function(e){var i,s=this;c.Writable.call(s),s._opts=e,s._body=[],s._headers={},e.auth&&s.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){s.setHeader(t,e.headers[t])}));var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)r=!1,i=!0;else if("prefer-streaming"===e.mode)i=!1;else if("allow-wrong-content-type"===e.mode)i=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");i=!0}s._mode=l(i,r),s._fetchTimer=null,s.on("finish",(function(){s._onFinish()}))};function p(e){try{var t=e.status;return null!==t&&0!==t}catch(i){return!1}}n(f,c.Writable),f.prototype.setHeader=function(e,t){var i=this,s=e.toLowerCase();-1===m.indexOf(s)&&(i._headers[s]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var i=e._opts,n=e._headers,o=null;"GET"!==i.method&&"HEAD"!==i.method&&(o=a.arraybuffer?d(t.concat(e._body)):a.blobConstructor?new s.Blob(e._body.map((function(e){return d(e)})),{type:(n["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(n).forEach((function(e){var t=n[e].name,i=n[e].value;Array.isArray(i)?i.forEach((function(e){c.push([t,e])})):c.push([t,i])})),"fetch"===e._mode){var h=null;if(a.abortController){var l=new AbortController;h=l.signal,e._fetchAbortController=l,"requestTimeout"in i&&0!==i.requestTimeout&&(e._fetchTimer=s.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),i.requestTimeout))}s.fetch(e._opts.url,{method:e._opts.method,headers:c,body:o||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:h}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){s.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new s.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(p){return void r.nextTick((function(){e.emit("error",p)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!i.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(f.timeout=i.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case u.LOADING:case u.DONE:e._onXHRProgress();break}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(o)}catch(p){return void r.nextTick((function(){e.emit("error",p)}))}}}},f.prototype._onXHRProgress=function(){var e=this;p(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,i){var s=this;s._body.push(e),i()},f.prototype.abort=f.prototype.destroy=function(){var e=this;e._destroyed=!0,s.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},f.prototype.end=function(e,t,i){var s=this;"function"===typeof e&&(i=e,e=void 0),c.Writable.prototype.end.call(s,e,t,i)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,i("b639").Buffer,i("c8ba"),i("4362"))},9263:function(e,t,i){"use strict";var s=i("ad6d"),r=i("9f7f"),a=i("5692"),n=i("7c73"),o=i("69f3").get,c=i("fce3"),d=i("107c"),h=RegExp.prototype.exec,u=a("native-string-replace",String.prototype.replace),l=h,f=function(){var e=/a/,t=/b*/g;return h.call(e,"a"),h.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),p=r.UNSUPPORTED_Y||r.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],g=f||m||p||c||d;g&&(l=function(e){var t,i,r,a,c,d,g,y=this,v=o(y),b=v.raw;if(b)return b.lastIndex=y.lastIndex,t=l.call(b,e),y.lastIndex=b.lastIndex,t;var w=v.groups,k=p&&y.sticky,S=s.call(y),_=y.source,O=0,T=e;if(k&&(S=S.replace("y",""),-1===S.indexOf("g")&&(S+="g"),T=String(e).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==e[y.lastIndex-1])&&(_="(?: "+_+")",T=" "+T,O++),i=new RegExp("^(?:"+_+")",S)),m&&(i=new RegExp("^"+_+"$(?!\\s)",S)),f&&(r=y.lastIndex),a=h.call(k?i:y,T),k?a?(a.input=a.input.slice(O),a[0]=a[0].slice(O),a.index=y.lastIndex,y.lastIndex+=a[0].length):y.lastIndex=0:f&&a&&(y.lastIndex=y.global?a.index+a[0].length:r),m&&a&&a.length>1&&u.call(a[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&w)for(a.groups=d=n(null),c=0;c<w.length;c++)g=w[c],d[g[0]]=a[g[1]];return a}),e.exports=l},"926c":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r}=i("74b0"),a=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"flowbtc",name:"flowBTC",countries:["BR"],version:"v1",rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443317-01c0d080-c5fe-11ea-95c2-9ebe1a8fafd9.jpg",api:"https://publicapi.flowbtc.com.br",www:"https://www.flowbtc.com.br",doc:"https://www.flowbtc.com.br/api.html"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.005}}})}async fetchMarkets(e={}){const t=await this.publicPostGetProductPairs(e),i=this.safeValue(t,"productPairs"),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"name"),a=this.safeString(e,"product1Label"),n=this.safeString(e,"product2Label"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d={amount:this.safeInteger(e,"product1DecimalPlaces"),price:this.safeInteger(e,"product2DecimalPlaces")},h=o+"/"+c;s[h]={id:t,symbol:h,base:o,quote:c,baseId:a,quoteId:n,precision:d,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e,active:void 0}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"currencies"),s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=e["name"],a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"balance"),n["total"]=this.safeString(e,"hold"),s[a]=n}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={productPair:s["id"]},a=await this.publicPostGetOrderBook(this.extend(r,i));return this.parseOrderBook(a,e,void 0,"bids","asks","px","qty")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={productPair:i["id"]},r=await this.publicPostGetTicker(this.extend(s,t)),a=this.milliseconds(),n=this.safeNumber(r,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r,"volume24hr"),quoteVolume:this.safeNumber(r,"volume24hrProduct2"),info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"unixtime"),s=0===e["incomingOrderSide"]?"buy":"sell",r=this.safeString(e,"tid"),n=this.safeString(e,"px"),o=this.safeString(e,"qty"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(a.stringMul(n,o));return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t["symbol"],id:r,order:void 0,type:void 0,side:s,price:c,amount:d,cost:h,takerOrMaker:void 0,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={ins:r["id"],startIndex:-1},n=await this.publicPostGetTrades(this.extend(a,s));return this.parseTrades(n["trades"],r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n="market"===t?1:0,o={ins:this.marketId(e),side:i,orderType:n,qty:s,px:this.priceToPrecision(e,r)},c=await this.privatePostCreateOrder(this.extend(o,a));return{info:c,id:c["serverOrderId"]}}async cancelOrder(e,t,i={}){if(await this.loadMarkets(),"ins"in i){const t={serverOrderId:e};return await this.privatePostCancelOrder(this.extend(t,i))}throw new r(this.id+" cancelOrder() requires an `ins` symbol parameter for cancelling an order")}sign(e,t="public",i="GET",s={},r,a){const n=this.urls["api"]+"/"+this.version+"/"+e;if("public"===t)Object.keys(s).length&&(a=this.json(s));else{this.checkRequiredCredentials();const e=this.nonce(),t=e.toString()+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.json(this.extend({apiKey:this.apiKey,apiNonce:e,apiSig:i.toUpperCase()},s)),r={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("isAccepted"in o&&o["isAccepted"])return o;throw new r(this.id+" "+this.json(o))}}},9483:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s,r=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function a(e,t){void 0===t&&(t={});var i=t.registrationOptions;void 0===i&&(i={}),delete t.registrationOptions;var a=function(e){var i=[],s=arguments.length-1;while(s-- >0)i[s]=arguments[s+1];t&&t[e]&&t[e].apply(t,i)};"serviceWorker"in navigator&&s.then((function(){r()?(c(e,a,i),navigator.serviceWorker.ready.then((function(e){a("ready",e)})).catch((function(e){return n(a,e)}))):(o(e,a,i),navigator.serviceWorker.ready.then((function(e){a("ready",e)})).catch((function(e){return n(a,e)})))}))}function n(e,t){navigator.onLine||e("offline"),e("error",t)}function o(e,t,i){navigator.serviceWorker.register(e,i).then((function(e){t("registered",e),e.waiting?t("updated",e):e.onupdatefound=function(){t("updatefound",e);var i=e.installing;i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?t("updated",e):t("cached",e))}}})).catch((function(e){return n(t,e)}))}function c(e,t,i){fetch(e).then((function(s){404===s.status?(t("error",new Error("Service worker not found at "+e)),d()):-1===s.headers.get("content-type").indexOf("javascript")?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+s.headers.get("content-type"))),d()):o(e,t,i)})).catch((function(e){return n(t,e)}))}function d(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){return n(emit,e)}))}"undefined"!==typeof window&&(s="undefined"!==typeof Promise?new Promise((function(e){return window.addEventListener("load",e)})):{then:function(e){return window.addEventListener("load",e)}})},9490:function(e,t,i){(function(e){var s=i("925e"),r=i("c90b"),a=i("53a8"),n=i("8c05"),o=i("0b16"),c=t;c.request=function(t,i){t="string"===typeof t?o.parse(t):a(t);var r=-1===e.location.protocol.search(/^https?:$/)?"http:":"",n=t.protocol||r,c=t.hostname||t.host,d=t.port,h=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?n+"//"+c:"")+(d?":"+d:"")+h,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new s(t);return i&&u.on("response",i),u},c.get=function(e,t){var i=c.request(e,t);return i.end(),i},c.ClientRequest=s,c.IncomingMessage=r.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=n,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,i("c8ba"))},"94ca":function(e,t,i){var s=i("d039"),r=/#|\.prototype\./,a=function(e,t){var i=o[n(e)];return i==d||i!=c&&("function"==typeof t?s(t):!!t)},n=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},o=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},"95ed":function(e,t,i){},"966d":function(e,t,i){"use strict";(function(t){function i(e,i,s,r){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,n,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,i)}));case 3:return t.nextTick((function(){e.call(null,i,s)}));case 4:return t.nextTick((function(){e.call(null,i,s,r)}));default:a=new Array(o-1),n=0;while(n<a.length)a[n++]=arguments[n];return t.nextTick((function(){e.apply(null,a)}))}}"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:i}:e.exports=t}).call(this,i("4362"))},"96cf":function(e,t,i){var s=function(e){"use strict";var t,i=Object.prototype,s=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(M){c=function(e,t,i){return e[t]=i}}function d(e,t,i,s){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),n=new E(s||[]);return a._invoke=T(e,i,n),a}function h(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(M){return{type:"throw",arg:M}}}e.wrap=d;var u="suspendedStart",l="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(A([])));k&&k!==i&&s.call(k,a)&&(b=k);var S=v.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function i(r,a,n,o){var c=h(e[r],e,a);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"===typeof u&&s.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,n,o)}),(function(e){i("throw",e,n,o)})):t.resolve(u).then((function(e){d.value=e,n(d)}),(function(e){return i("throw",e,n,o)}))}o(c.arg)}var r;function a(e,s){function a(){return new t((function(t,r){i(e,s,t,r)}))}return r=r?r.then(a,a):a()}this._invoke=a}function T(e,t,i){var s=u;return function(r,a){if(s===f)throw new Error("Generator is already running");if(s===p){if("throw"===r)throw a;return N()}i.method=r,i.arg=a;while(1){var n=i.delegate;if(n){var o=C(n,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===u)throw s=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s=f;var c=h(e,t,i);if("normal"===c.type){if(s=i.done?p:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(s=p,i.method="throw",i.arg=c.arg)}}}function C(e,i){var s=e.iterator[i.method];if(s===t){if(i.delegate=null,"throw"===i.method){if(e.iterator["return"]&&(i.method="return",i.arg=t,C(e,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=h(s,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var a=r.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var i=e[a];if(i)return i.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function i(){while(++r<e.length)if(s.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return n.next=n}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=S.constructor=v,v.constructor=y,y.displayName=c(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,o,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},_(O.prototype),O.prototype[n]=function(){return this},e.AsyncIterator=O,e.async=function(t,i,s,r,a){void 0===a&&(a=Promise);var n=new O(d(t,i,s,r),a);return e.isGeneratorFunction(i)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},_(S),c(S,o,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var s=t.pop();if(s in e)return i.value=s,i.done=!1,i}return i.done=!0,i}},e.values=A,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var i in this)"t"===i.charAt(0)&&s.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(s,r){return o.type="throw",o.arg=e,i.next=s,r&&(i.method="next",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],o=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var c=s.call(n,"catchLoc"),d=s.call(n,"finallyLoc");if(c&&d){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(c){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var n=a?a.completion:{};return n.type=e,n.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),I(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var s=i.completion;if("throw"===s.type){var r=s.arg;I(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,s){return this.delegate={iterator:A(e),resultName:i,nextLoc:s},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=s}catch(r){Function("r","regeneratorRuntime = r")(s)}},9782:function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,ExchangeError:a,BadSymbol:n,InvalidOrder:o,PermissionDenied:c,InvalidAddress:d,AuthenticationError:h,InvalidNonce:u,BadRequest:l,InsufficientFunds:f,OrderNotFound:p}=i("74b0"),{TRUNCATE:m}=i("5ea4"),g=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"aofex",name:"AOFEX",countries:["GB"],rateLimit:1e3,hostname:"openapi.aofex.com",has:{fetchMarkets:!0,fetchCurrencies:!1,fetchOrderBook:!0,fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchOHLCV:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchClosedOrder:!0,fetchOrderTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","6h":"6hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77670271-056d1080-6f97-11ea-9ac2-4268e9ed0c1f.jpg",api:{public:"https://{hostname}/openApi",private:"https://{hostname}/openApi"},www:"https://aofex.com",doc:"https://aofex.zendesk.com/hc/en-us/sections/360005576574-API",fees:"https://aofex.zendesk.com/hc/en-us/articles/360025814934-Fees-on-AOFEX",referral:"https://aofex.com/#/register?key=9763840"},api:{public:{get:["market/symbols","market/trade","market/depth","market/kline","market/precision","market/24kline","market/gears_depth","market/detail"]},private:{get:["entrust/currentList","entrust/historyList","entrust/rate","wallet/list","entrust/detail"],post:["entrust/add","entrust/cancel"]}},fees:{trading:{maker:.0019,taker:.002}},exceptions:{exact:{20001:a,20401:c,20500:a,20501:n,20502:a,20503:a,20504:f,20505:l,20506:h,20507:a,20508:d,20509:f,20510:o,20511:o,20512:o,20513:o,20514:o,20515:o,20516:o,20517:o,50518:o,20519:u,20520:u,20521:l,20522:a,20523:h,20524:c,20525:h,20526:c,20527:c,20528:c,20529:h,20530:c},broad:{}},options:{fetchBalance:{show_all:"0"}},commonCurrencies:{CPC:"Consensus Planet Coin"}})}async fetchMarkets(e={}){let t=await this.publicGetMarketSymbols(e),i=await this.publicGetMarketPrecision();i=this.safeValue(i,"result",{}),t=this.safeValue(t,"result",[]);const s=[];for(let r=0;r<t.length;r++){const e=t[r],a=this.safeString(e,"symbol"),n=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeInteger(e,"id"),l=this.safeValue(i,a,{}),f=this.safeString(e,"maker_fee"),p=this.safeString(e,"taker_fee"),m=this.parseNumber(g.stringDiv(f,"1000")),y=this.parseNumber(g.stringDiv(p,"1000"));s.push({id:a,numericId:u,symbol:h,baseId:n,quoteId:o,base:c,quote:d,active:void 0,maker:m,taker:y,precision:{amount:this.safeInteger(l,"amount"),price:this.safeInteger(l,"price")},limits:{amount:{min:this.safeNumber(e,"min_size"),max:this.safeNumber(e,"max_size")},price:{min:this.safeNumber(e,"min_price"),max:this.safeNumber(e,"max_price")},cost:{min:void 0,max:void 0}},info:e})}return s}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e);void 0===s&&(s=150);const n={symbol:a["id"],period:this.timeframes[t],size:s},o=await this.publicGetMarketKline(this.extend(n,r)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,"data",[]);return this.parseOHLCVs(d,a,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeValue(t,"show_all","0"),s={show_all:i},r=await this.privateGetWalletList(this.extend(s,e)),a={info:r,timestamp:void 0,datetime:void 0},n=this.safeValue(r,"result",[]);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),s=this.account();s["free"]=this.safeString(e,"available"),s["used"]=this.safeString(e,"frozen"),a[i]=s}return this.parseBalance(a,!1)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.privateGetEntrustRate(this.extend(s,t)),a=this.safeValue(r,"result",{});return{info:r,symbol:e,maker:this.safeNumber(a,"fromFee"),taker:this.safeNumber(a,"toFee")}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)},r=await this.publicGetMarketDepth(this.extend(s,i)),a=this.safeValue(r,"result",{}),n=this.safeInteger(a,"ts");return this.parseOrderBook(a,e,n)}parseTicker(e,t){const i=this.safeTimestamp(e,"id");let s=void 0;t&&(s=t["symbol"]);const r=this.safeNumber(e,"open"),a=this.safeNumber(e,"close");let n=void 0;n=void 0!==s?parseFloat(this.priceToPrecision(s,a-r)):a-r;const o=this.sum(a,r)/2,c=n/r*100,d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"vol");let u=this.vwap(d,h);return void 0!==u&&(u=parseFloat(this.priceToPrecision(s,u))),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:u,open:r,close:a,last:a,previousClose:void 0,change:n,percentage:c,average:o,baseVolume:d,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbol"]=t.join(",")}const s=await this.publicGetMarket24kline(this.extend(i,t)),r=this.safeValue(s,"result",[]),a={};for(let n=0;n<r.length;n++){const e=this.safeString(r[n],"symbol"),t=this.safeMarket(e,void 0,"-"),i=t["symbol"],s=this.safeValue(r[n],"data",{});a[i]=this.parseTicker(s,t)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetMarketDetail(this.extend(s,t)),a=this.safeValue(r,"result",{});return this.parseTicker(a,i)}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"ctime")),r=this.safeTimestamp(e,"ts",s)-288e5;let a=void 0;void 0===a&&void 0!==t&&(a=t["symbol"]);const n=this.safeString(e,"direction"),o=this.safeString(e,"price"),c=this.safeString2(e,"amount","number"),d=this.parseNumber(o),h=this.parseNumber(c);let u=this.safeNumber(e,"total_price");void 0===u&&(u=this.parseNumber(g.stringMul(o,c)));const l=this.safeNumber(e,"fee");let f=void 0;if(void 0!==l){let e=void 0;void 0!==t&&("buy"===n?e=t["base"]:"sell"===n&&(e=t["quote"])),f={cost:l,currency:e}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,order:void 0,type:void 0,side:n,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:f}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.publicGetMarketTrade(this.extend(a,s)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTrades(c,r,t,i)}parseOrderStatus(e){const t={1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_sn"),s=this.safeString(e,"status"),r=this.parseOrderStatus(s),a=this.safeString(e,"symbol");t=this.safeMarket(a,t,"-");let n=this.parse8601(this.safeString(e,"ctime"));void 0!==n&&(n-=288e5);const o=this.safeString(e,"type"),c="2"===o?"limit":"market",d=this.safeString(e,"side");let h=void 0,u=void 0,l=void 0,f=void 0;const p=this.safeNumber(e,"number"),m=this.safeNumber(e,"total_price");"limit"===c?(l=p,u=this.safeNumber(e,"price")):(f=this.safeNumber(e,"deal_price"),l="buy"===d?this.safeNumber(e,"deal_number"):p);const g=this.safeValue(e,"trades",[]);for(let b=0;b<g.length;b++)g[b]["direction"]=d;const y=this.parseTrades(g,t,void 0,void 0,{symbol:t["symbol"],order:i,type:c});"limit"===c?h=m:"buy"===d&&(h=p);let v=void 0;return"limit"===c&&"3"===s&&(v=l),this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:r,symbol:t["symbol"],type:c,timeInForce:void 0,postOnly:void 0,side:d,price:u,stopPrice:void 0,cost:h,average:f,amount:l,filled:v,remaining:void 0,trades:y,fee:void 0})}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const s={order_sn:e},r=await this.privateGetEntrustDetail(this.extend(s,i)),a=this.safeValue(r,"result",{}),n=this.safeValue(a,"trades",[]),o=this.safeValue(a,"entrust",{});return o["trades"]=n,this.parseOrder(o)}async fetchOrderTrades(e,t,i,s,r={}){const a=await this.fetchClosedOrder(e,t,r);return this.safeValue(a,"trades",[])}async fetchOrdersWithMethod(e,t,i,s,r={}){await this.loadMarkets();const a={direct:"prev"};let n=void 0;void 0!==t&&(n=this.market(t),a["symbol"]=n["id"]),void 0!==s&&(a["limit"]=s);const o=await this[e](this.extend(a,r)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,n,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("privateGetEntrustCurrentList",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("privateGetEntrustHistoryList",e,t,i,s)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),c=i+"-"+t,d={symbol:n["id"],type:c};if("limit"===t)d["amount"]=this.amountToPrecision(e,s),d["price"]=this.priceToPrecision(e,r);else if("market"===t)if("buy"===i){const e=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);let t=s;if(e){if(void 0===r)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument");t=s*r}const i=n["precision"]["price"];d["amount"]=this.decimalToPrecision(t,m,i,this.precisionMode)}else d["amount"]=this.amountToPrecision(e,s);const h=await this.privatePostEntrustAdd(this.extend(d,a)),u=this.safeValue(h,"result",{}),l=this.parseOrder(u,n),f=this.milliseconds();return this.extend(l,{timestamp:f,datetime:this.iso8601(f),amount:s,price:r,type:t,side:i})}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_ids:e},r=await this.privatePostEntrustCancel(this.extend(s,i)),a=this.safeValue(r,"result",{}),n=this.safeValue(a,"success",[]);if(!this.inArray(e,n))throw new p(this.id+" order id "+e+" not found in successfully canceled orders: "+this.json(r));const o=void 0;return{info:r,id:e,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,status:"canceled",symbol:t,type:void 0,side:void 0,price:void 0,cost:void 0,average:void 0,amount:void 0,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,clientOrderId:void 0}}async cancelAllOrders(e,t={}){if(void 0===e)throw new r(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},a=await this.privatePostEntrustCancel(this.extend(s,t));return a}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.implodeHostname(this.urls["api"][t])+"/"+e,o=Object.keys(s);const c=o.length;if("public"===t)c>0&&(n+="?"+this.urlencode(s));else{const e=this.nonce().toString(),t=this.uuid(),d=t.slice(0,5),h=e+"_"+d,u={};u[this.apiKey]=this.apiKey,u[this.secret]=this.secret,u[h]=h;for(let i=0;i<c;i++){const e=o[i];u[e]=e+"="+s[e]}const l=this.keysort(u);let f="";o=Object.keys(l);for(let i=0;i<o.length;i++){const e=o[i];f+=l[e]}const p=this.hash(this.encode(f),"sha1");r={Nonce:h,Token:this.apiKey,Signature:p},"POST"===i?(r["Content-Type"]="application/x-www-form-urlencoded",c>0&&(a=this.urlencode(s))):c>0&&(n+="?"+this.urlencode(s))}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"errno");if(void 0!==h&&"0"!==h){const e=this.safeString(o,"errmsg"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new a(t)}}}},"97ba":function(e,t,i){var s=i("02ff"),r=Object.prototype.toString,a=function(){return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(e){return s("callee",e)}}();e.exports=a},"97bab":function(e,t,i){var s=i("70ea"),r=i("84eb"),a=i("1772"),n=s((function(e){return!!r(e)||!!e&&("object"===typeof e&&(!a(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}));e.exports=n},"98b3":function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,NotSupported:n,PermissionDenied:o,InvalidNonce:c,OrderNotFound:d,InsufficientFunds:h,InvalidAddress:u,InvalidOrder:l,ArgumentsRequired:f,OnMaintenance:p,ExchangeNotAvailable:m}=i("74b0");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitstamp",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v2",userAgent:this.userAgents["chrome"],pro:!0,has:{CORS:!0,cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchFees:!0,fetchLedger:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:{public:"https://www.bitstamp.net/api",private:"https://www.bitstamp.net/api",v1:"https://www.bitstamp.net/api"},www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"259200"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ohlc/{pair}/","order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","cancel_all_orders/","cancel_all_orders/{pair}/","buy/{pair}/","buy/market/{pair}/","buy/instant/{pair}/","sell/{pair}/","sell/market/{pair}/","sell/instant/{pair}/","btc_withdrawal/","btc_address/","ripple_withdrawal/","ripple_address/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","xlm_withdrawal/","xlm_address/","pax_withdrawal/","pax_address/","link_withdrawal/","link_address/","usdc_withdrawal/","usdc_address/","omg_withdrawal/","omg_address/","dai_withdrawal/","dai_address/","knc_withdrawal/","knc_address/","mkr_withdrawal/","mkr_address/","zrx_withdrawal/","zrx_address/","gusd_withdrawal/","gusd_address/","aave_withdrawal/","aave_address/","bat_withdrawal/","bat_address/","uma_withdrawal/","uma_address/","snx_withdrawal/","snx_address/","uni_withdrawal/","uni_address/","yfi_withdrawal/","yfi_address","audio_withdrawal/","audio_address/","crv_withdrawal/","crv_address/","algo_withdrawal/","algo_address/","comp_withdrawal/","comp_address/","grt_withdrawal","grt_address/","usdt_withdrawal/","usdt_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["unconfirmed_btc/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.005,maker:.005,tiers:{taker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[5e7,.001],[1e8,.07/100],[5e8,5e-4],[2e9,3e-4],[6e9,1e-4],[1e10,5e-5],[10000000001,0]],maker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[5e7,.001],[1e8,.07/100],[5e8,5e-4],[2e9,3e-4],[6e9,1e-4],[1e10,5e-5],[10000000001,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:1e-4,LTC:.001,ETH:.001,XRP:.02,XLM:.005,PAX:.5,USD:25,EUR:3},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,XLM:0,PAX:0,USD:7.5,EUR:0}}},exceptions:{exact:{"No permission found":o,"API key not found":r,"IP address not allowed":o,"Invalid nonce":c,"Invalid signature":r,"Authentication failed":r,"Missing key, signature and nonce parameters":r,"Your account is frozen":o,"Please update your profile with your FATCA information, before using API.":o,"Order not found":d,"Price is more than 20% below market price.":l,"Bitstamp.net is under scheduled maintenance.":p,"Order could not be placed.":m},broad:{"Minimum order size is":l,"Check your account balance for details.":h,"Ensure this value has at least":u}}})}async fetchMarkets(e={}){const t=await this.fetchMarketsFromCache(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"name");let[a,n]=r.split("/");const o=a.toLowerCase(),c=n.toLowerCase();a=this.safeCurrencyCode(a),n=this.safeCurrencyCode(n);const d=a+"/"+n,h=o+"_"+c,u=this.safeString(e,"url_symbol"),l=this.safeString(e,"base_decimals"),f=this.safeString(e,"counter_decimals"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:parseInt(l),price:parseInt(f)},y=this.safeString(e,"minimum_order"),v=y.split(" "),b=v[0],w=this.safeString(e,"trading"),k="Enabled"===w;i.push({id:u,symbol:d,base:a,quote:n,baseId:o,quoteId:c,symbolId:h,info:e,active:k,precision:g,limits:{amount:{min:this.parseNumber(p),max:void 0},price:{min:this.parseNumber(m),max:void 0},cost:{min:this.parseNumber(b),max:void 0}}})}return i}constructCurrencyObject(e,t,i,s,r,a){let n="crypto";const o=this.describe();return this.isFiat(t)&&(n="fiat"),{id:e,code:t,info:a,type:n,name:i,active:!0,fee:this.safeNumber(o["fees"]["funding"]["withdraw"],t),precision:s,limits:{amount:{min:Math.pow(10,-s),max:void 0},price:{min:Math.pow(10,-s),max:void 0},cost:{min:r,max:void 0},withdraw:{min:void 0,max:void 0}}}}async fetchMarketsFromCache(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeInteger(t,"timestamp"),s=this.safeInteger(t,"expires",1e3),r=this.milliseconds();if(void 0===i||r-i>s){const i=await this.publicGetTradingPairsInfo(e);this.options["fetchMarkets"]=this.extend(t,{response:i,timestamp:r})}return this.safeValue(this.options["fetchMarkets"],"response")}async fetchCurrencies(e={}){const t=await this.fetchMarketsFromCache(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"name");let[a,n]=r.split("/");const o=a.toLowerCase(),c=n.toLowerCase();a=this.safeCurrencyCode(a),n=this.safeCurrencyCode(n);const d=this.safeString(e,"description"),[h,u]=d.split(" / "),l=this.safeString(e,"minimum_order"),f=l.split(" "),p=f[0];if(!(a in i)){const t=this.safeInteger(e,"base_decimals");i[a]=this.constructCurrencyObject(o,a,h,t,void 0,e)}if(!(n in i)){const t=this.safeInteger(e,"counter_decimals");i[n]=this.constructCurrencyObject(c,n,u,t,parseFloat(p),e)}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)},r=await this.publicGetOrderBookPair(this.extend(s,i)),a=this.safeInteger(r,"microtimestamp"),n=parseInt(a/1e3),o=this.parseOrderBook(r,e,n);return o["nonce"]=a,o}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},s=await this.publicGetTickerPair(this.extend(i,t)),r=this.safeTimestamp(s,"timestamp"),a=this.safeNumber(s,"vwap"),n=this.safeNumber(s,"volume");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(s,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:a,open:this.safeNumber(s,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:s}}getCurrencyIdFromTransaction(e){const t=this.safeStringLower(e,"currency");if(void 0!==t)return t;e=this.omit(e,["fee","price","datetime","type","status","id"]);const i=Object.keys(e);for(let s=0;s<i.length;s++){const t=i[s];if(t.indexOf("_")<0){const i=this.safeNumber(e,t);if(void 0!==i&&0!==i)return t}}}getMarketFromTrade(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);const t=Object.keys(e),i=t.length;if(i>2)throw new a(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===i){let e=t[0]+t[1];if(e in this.markets_by_id)return this.markets_by_id[e];if(e=t[1]+t[0],e in this.markets_by_id)return this.markets_by_id[e]}}getMarketFromTrades(e){const t=this.indexBy(e,"symbol"),i=Object.keys(t),s=i.length;if(1===s)return this.markets[i[0]]}parseTrade(e,t){const i=this.safeString2(e,"id","tid");let s=void 0,r=void 0,a=this.safeNumber(e,"price"),n=this.safeNumber(e,"amount");const o=this.safeString(e,"order_id"),c=void 0;let d=this.safeNumber(e,"cost");if(void 0===t){const i=Object.keys(e);for(let e=0;e<i.length;e++)if(i[e].indexOf("_")>=0){const s=i[e].replace("_","");s in this.markets_by_id&&(t=this.markets_by_id[s])}void 0===t&&(t=this.getMarketFromTrade(e))}const h=this.safeNumber(e,"fee");let u=void 0;void 0!==t&&(a=this.safeNumber(e,t["symbolId"],a),n=this.safeNumber(e,t["baseId"],n),d=this.safeNumber(e,t["quoteId"],d),u=t["quote"],s=t["symbol"]);let l=this.safeString2(e,"date","datetime");void 0!==l&&(l.indexOf(" ")>=0?l=this.parse8601(l):(l=parseInt(l),l*=1e3)),"id"in e?void 0!==n&&(n<0?(r="sell",n=-n):r="buy"):(r=this.safeString(e,"type"),"1"===r?r="sell":"0"===r&&(r="buy")),void 0===d&&void 0!==a&&void 0!==n&&(d=a*n),void 0!==d&&(d=Math.abs(d));let f=void 0;return void 0!==h&&(f={cost:h,currency:u}),{id:i,info:e,timestamp:l,datetime:this.iso8601(l),symbol:s,order:o,type:c,side:r,takerOrMaker:void 0,price:a,amount:n,cost:d,fee:f}}parseTradingFee(e,t){const i=this.market(t),s=this.safeNumber(e,i["id"]+"_fee");return{symbol:t,maker:s,taker:s}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"],time:"hour"},n=await this.publicGetTransactionsPair(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={pair:a["id"],step:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0===s){if(void 0===i)throw new f(this.id+" fetchOHLCV() requires a since argument or a limit argument");{s=1e3;const e=parseInt(i/1e3);n["start"]=e,n["end"]=this.sum(e,s*o),n["limit"]=s}}else{if(void 0!==i){const e=parseInt(i/1e3);n["start"]=e,n["end"]=this.sum(e,s*o)}n["limit"]=Math.min(s,1e3)}const c=await this.publicGetOhlcPair(this.extend(n,r)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"ohlc",[]);return this.parseOHLCVs(h,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t,timestamp:void 0,datetime:void 0},s=Object.keys(this.currencies);for(let r=0;r<s.length;r++){const e=s[r],a=this.currency(e),n=a["id"],o=this.account();o["free"]=this.safeString(t,n+"_available"),o["used"]=this.safeString(t,n+"_reserved"),o["total"]=this.safeString(t,n+"_balance"),i[e]=o}return this.parseBalance(i,!1)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i={};let s="privatePostBalance",r=void 0;void 0!==e&&(r=this.market(e),i["pair"]=r["id"],s+="Pair");const a=await this[s](this.extend(i,t));return{info:a,symbol:e,maker:a["fee"],taker:a["fee"]}}praseTradingFees(e){const t={info:e},i=Object.keys(this.markets);for(let s=0;s<i.length;s++){const r=i[s],a=this.parseTradingFee(e,r);t[r]=a}return t}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e);return this.praseTradingFees(t)}parseFundingFees(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){const r=i[s];if(r.indexOf("_withdrawal_fee")>=0){const i=r.split("_")[0],s=this.safeCurrencyCode(i);t[s]=this.safeNumber(e,r)}}return{info:e,withdraw:t,deposit:{}}}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e);return this.parseFundingFees(t)}async fetchFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i=this.praseTradingFees(t);delete i["info"];const s=this.parseFundingFees(t);return delete s["info"],{info:t,trading:i,funding:s}}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e);let o="privatePost"+this.capitalize(i);const c={pair:n["id"],amount:this.amountToPrecision(e,s)};"market"===t?o+="Market":"instant"===t?o+="Instant":c["price"]=this.priceToPrecision(e,r),o+="Pair";const d=await this[o](this.extend(c,a)),h=this.parseOrder(d,n);return this.extend(h,{type:t})}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e};return await this.privatePostCancelOrder(this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();let i=void 0;const s={};let r="privatePostCancelAllOrders";return void 0!==e&&(i=this.market(e),s["pair"]=i["id"],r="privatePostCancelAllOrdersPair"),await this[r](this.extend(s,t))}parseOrderStatus(e){const t={"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"};return this.safeString(t,e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrderStatus(this.safeString(r,"status"))}async fetchOrder(e,t,i={}){await this.loadMarkets();let s=void 0;void 0!==t&&(s=this.market(t));const r={id:e},a=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrder(a,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a="privatePostUserTransactions",n=void 0;void 0!==e&&(n=this.market(e),r["pair"]=n["id"],a+="Pair"),void 0!==i&&(r["limit"]=i);const o=await this[a](this.extend(r,s)),c=this.filterBy(o,"type","2");return this.parseTrades(c,n,t,i)}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["limit"]=i);const a=await this.privatePostUserTransactions(this.extend(r,s));let n=void 0;void 0!==e&&(n=this.currency(e));const o=this.filterByArray(a,"type",["0","1"],!1);return this.parseTransactions(o,n,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};r["timedelta"]=void 0!==t?this.milliseconds()-t:5e7;const a=await this.privatePostWithdrawalRequests(this.extend(r,s));return this.parseTransactions(a,void 0,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"datetime")),s=this.safeString(e,"id"),r=this.getCurrencyIdFromTransaction(e),a=this.safeCurrencyCode(r,t),n=this.safeNumber(e,"fee");let o=void 0,c=void 0;"amount"in e?c=this.safeNumber(e,"amount"):void 0!==t?(c=this.safeNumber(e,t["id"],c),o=t["code"]):void 0!==a&&void 0!==r&&(c=this.safeNumber(e,r,c),o=a),void 0!==c&&(c=Math.abs(c));let d="ok";"status"in e&&(d=this.parseTransactionStatus(this.safeString(e,"status")));let h=void 0;if("type"in e){const t=this.safeString(e,"type");"0"===t?h="deposit":"1"===t&&(h="withdrawal")}else h="withdrawal";const u=this.safeString(e,"transaction_id");let l=void 0,f=this.safeString(e,"address");if(void 0!==f){const e=f.split("?dt="),t=e.length;t>1&&(f=e[0],l=e[1])}const p=void 0,m=f,g=void 0,y=l;let v=void 0;return void 0!==n&&(v={currency:o,cost:n,rate:void 0}),{info:e,id:s,txid:u,timestamp:i,datetime:this.iso8601(i),addressFrom:p,addressTo:m,address:f,tagFrom:g,tagTo:y,tag:l,type:h,amount:c,currency:a,status:d,updated:void 0,fee:v}}parseTransactionStatus(e){const t={0:"pending",1:"pending",2:"ok",3:"canceled",4:"failed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let s=this.safeString(e,"type");void 0!==s&&(s="1"===s?"sell":"buy");const r=this.parse8601(this.safeString(e,"datetime")),a=this.safeStringLower(e,"currency_pair");let n=this.safeSymbol(a,t,"/");const o=this.parseOrderStatus(this.safeString(e,"status")),c=this.safeNumber(e,"amount"),d=this.safeValue(e,"transactions",[]),h=this.parseTrades(d,t),u=h.length;u&&(n=h[0]["symbol"]);const l=this.safeNumber(e,"price");return this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:n,type:void 0,timeInForce:void 0,postOnly:void 0,side:s,price:l,stopPrice:void 0,cost:void 0,amount:c,filled:void 0,remaining:void 0,trades:h,fee:void 0,info:e,average:void 0})}parseLedgerEntryType(e){const t={0:"transaction",1:"transaction",2:"trade",14:"transfer"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.parseLedgerEntryType(this.safeString(e,"type"));if("trade"===i){const t=this.parseTrade(e);let s=void 0;const r=Object.keys(e);for(let e=0;e<r.length;e++)if(r[e].indexOf("_")>=0){const t=r[e].replace("_","");t in this.markets_by_id&&(s=this.markets_by_id[t])}void 0===s&&(s=this.getMarketFromTrade(e));const a="buy"===t["side"]?"in":"out";return{id:t["id"],info:e,timestamp:t["timestamp"],datetime:t["datetime"],direction:a,account:void 0,referenceId:t["order"],referenceAccount:void 0,type:i,currency:s["base"],amount:t["amount"],before:void 0,after:void 0,status:"ok",fee:t["fee"]}}{const t=this.parseTransaction(e);let s=void 0;if("amount"in e){const t=this.safeNumber(e,"amount");s=t>0?"in":"out"}else if("currency"in t&&void 0!==t["currency"]){const i=this.currencyId(t["currency"]),r=this.safeNumber(e,i);s=r>0?"in":"out"}return{id:t["id"],info:e,timestamp:t["timestamp"],datetime:t["datetime"],direction:s,account:void 0,referenceId:t["txid"],referenceAccount:void 0,type:i,currency:t["currency"],amount:t["amount"],before:void 0,after:void 0,status:t["status"],fee:t["fee"]}}}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["limit"]=i);const a=await this.privatePostUserTransactions(this.extend(r,s));let n=void 0;return void 0!==e&&(n=this.currency(e)),this.parseLedger(a,n,t,i)}async fetchOpenOrders(e,t,i,s={}){let r=void 0;await this.loadMarkets(),void 0!==e&&(r=this.market(e));const a=await this.privatePostOpenOrdersAll(s);return this.parseOrders(a,r,t,i,{status:"open",type:"limit"})}getCurrencyName(e){return e.toLowerCase()}isFiat(e){return"USD"===e||"EUR"===e||"GBP"===e}async fetchDepositAddress(e,t={}){if(this.isFiat(e))throw new n(this.id+" fiat fetchDepositAddress() for "+e+" is not supported!");const i=this.getCurrencyName(e),s="privatePost"+this.capitalize(i)+"Address",r=await this[s](t),a=this.safeString(r,"address"),o=this.safeString2(r,"memo_id","destination_tag");return this.checkAddress(a),{currency:e,address:a,tag:o,info:r}}async withdraw(e,t,i,s,r={}){await this.loadMarkets(),this.checkAddress(i);const a={amount:t};let n=void 0;if(this.isFiat(e)){n="privatePostWithdrawalOpen";const t=this.currency(e);a["iban"]=i,a["account_currency"]=t["id"]}else{const t=this.getCurrencyName(e);n="privatePost"+this.capitalize(t)+"Withdrawal","XRP"===e&&void 0!==s&&(a["destination_tag"]=s),a["address"]=i}const o=await this[n](this.extend(a,r));return{info:o,id:o["id"]}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/";"v1"!==t&&(n+=this.version+"/"),n+=this.implodeParams(e,s);let o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.safeValue(this.options,"auth","v2");if("v1"===e||"v1"===t){const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),a=this.urlencode(o),r={"Content-Type":"application/x-www-form-urlencoded"}}else{const e="BITSTAMP "+this.apiKey,t=this.uuid(),s=this.milliseconds().toString(),c="v2";let d="";r={"X-Auth":e,"X-Auth-Nonce":t,"X-Auth-Timestamp":s,"X-Auth-Version":c},"POST"===i&&(Object.keys(o).length?(a=this.urlencode(o),d="application/x-www-form-urlencoded",r["Content-Type"]=d):(a=this.urlencode({foo:"bar"}),d="application/x-www-form-urlencoded",r["Content-Type"]=d));const h=a||"",u=e+i+n.replace("https://","")+d+t+s+c+h,l=this.hmac(this.encode(u),this.encode(this.secret));r["X-Auth-Signature"]=l}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,n,o,c,d,h){if(void 0===c)return;const u=this.safeString(c,"status"),l=this.safeValue(c,"error");if("error"===u||void 0!==l){let e=[];if("string"===typeof l)e.push(l);else if(void 0!==l){const t=Object.keys(l);for(let i=0;i<t.length;i++){const s=t[i],r=this.safeValue(l,s);Array.isArray(r)?e=this.arrayConcat(e,r):e.push(r)}}const t=this.safeValue(c,"reason",{});if("string"===typeof t)e.push(t);else{const i=this.safeValue(t,"__all__",[]);for(let t=0;t<i.length;t++)e.push(i[t])}const i=this.safeString(c,"code");if("API0005"===i)throw new r(this.id+" invalid signature, use the uid for the main account if you have subaccounts");const s=this.id+" "+o;for(let r=0;r<e.length;r++){const t=e[r];this.throwExactlyMatchedException(this.exceptions["exact"],t,s),this.throwBroadlyMatchedException(this.exceptions["broad"],t,s)}throw new a(s)}}}},"98d1":function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,DDoSProtection:a,AuthenticationError:n,InvalidOrder:o,ArgumentsRequired:c}=i("74b0"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"lbank",name:"LBank",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://github.com/LBank-exchange/lbank-official-api-docs",fees:"https://lbankinfo.zendesk.com/hc/en-gb/articles/360012072873-Trading-Fees",referral:"https://www.lbex.io/invite?icode=7QCY"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline","accuracy"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history","withdraw","withdrawCancel","withdraws","withdrawConfigs"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}},commonCurrencies:{VET_ERC20:"VEN",PNT:"Penta"},options:{cacheSecretAsPem:!0}})}async fetchMarkets(e={}){const t=await this.publicGetAccuracy(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=e["symbol"],a=r.split("_");let n=void 0,o=void 0;const c=a.length;c>2?(n=a[0]+"_"+a[1],o=a[2]):(n=a[0],o=a[1]);const d=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),u=d+"/"+h,l={amount:this.safeInteger(e,"quantityAccuracy"),price:this.safeInteger(e,"priceAccuracy")};i.push({id:r,symbol:u,base:d,quote:h,baseId:n,quoteId:o,active:!0,precision:l,limits:{amount:{min:Math.pow(10,-l["amount"]),max:void 0},price:{min:Math.pow(10,-l["price"]),max:Math.pow(10,l["price"])},cost:{min:void 0,max:void 0}},info:r})}return i}parseTicker(e,t){let i=void 0;if(void 0===t){const t=this.safeString(e,"symbol");if(t in this.markets_by_id){const e=this.markets_by_id[t];i=e["symbol"]}else{const e=t.split("_");let s=void 0,r=void 0;const a=e.length;a>2?(s=e[0]+"_"+e[1],r=e[2]):(s=e[0],r=e[1]);const n=this.safeCurrencyCode(s),o=this.safeCurrencyCode(r);i=n+"/"+o}}const s=this.safeInteger(e,"timestamp"),r=e;e=r["ticker"];const a=this.safeNumber(e,"latest"),n=this.safeNumber(e,"change");let o=void 0;if(void 0!==n){const e=this.sum(1,n/100);e>0&&(o=a/this.sum(1,e))}let c=void 0,d=void 0;return void 0!==a&&void 0!==o&&(c=a-o,d=this.sum(a,o)/2),void 0!==t&&(i=t["symbol"]),{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:c,percentage:n,average:d,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"turnover"),info:r}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTicker(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={symbol:"all"},s=await this.publicGetTicker(this.extend(i,t)),r={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t=60,i={}){await this.loadMarkets();let s=60;void 0!==t&&(s=Math.min(t,s));const r={symbol:this.marketId(e),size:s},a=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(a,e)}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const s=this.safeInteger(e,"date_ms"),r=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(r),o=this.parseNumber(a),c=this.parseNumber(d.stringMul(r,a)),h=this.safeString(e,"tid"),u=void 0;let l=this.safeString(e,"type");return l=l.replace("_market",""),{id:h,info:this.safeValue(e,"info",e),timestamp:s,datetime:this.iso8601(s),symbol:i,order:void 0,type:u,side:l,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"],size:100};void 0!==t&&(a["time"]=parseInt(t)),void 0!==i&&(a["size"]=i);const n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="5m",i,s=1e3,r={}){await this.loadMarkets();const a=this.market(e);if(void 0===i)throw new c(this.id+" fetchOHLCV() requires a `since` argument");if(void 0===s)throw new c(this.id+" fetchOHLCV() requires a `limit` argument");const n={symbol:a["id"],type:this.timeframes[t],size:s,time:parseInt(i/1e3)},o=await this.publicGetKline(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t,timestamp:void 0,datetime:void 0},s=this.safeValue(t,"info",{}),r=this.safeValue(s,"free",{}),a=this.safeValue(s,"freeze",{}),n=this.safeValue(s,"asset",{}),o=Object.keys(r);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),s=this.account();s["free"]=this.safeString(r,e),s["used"]=this.safeString(a,e),s["total"]=this.safeString(n,e),i[t]=s}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"};return this.safeString(t,e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t,"_"),r=this.safeInteger(e,"create_time"),a=this.safeNumber(e,"price"),n=this.safeNumber(e,"amount",0),o=this.safeNumber(e,"deal_amount",0),c=this.safeNumber(e,"avg_price"),d=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeString(e,"order_id"),u=this.safeString(e,"order_type"),l=this.safeString(e,"type");return this.safeOrder({id:h,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:d,symbol:s,type:u,timeInForce:void 0,postOnly:void 0,side:l,price:a,stopPrice:void 0,cost:void 0,amount:n,filled:o,remaining:void 0,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e),average:c})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e);let o={symbol:n["id"],type:i,amount:s};"market"===t?o["type"]+="_market":o["price"]=r;const c=await this.privatePostCreateOrder(this.extend(o,a));return o=this.omit(o,"type"),o["order_id"]=c["order_id"],o["type"]=i,o["order_type"]=t,o["create_time"]=this.milliseconds(),o["info"]=c,this.parseOrder(o,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={symbol:s["id"],order_id:e},a=await this.privatePostCancelOrder(this.extend(r,i));return a}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={symbol:s["id"],order_id:e},a=await this.privatePostOrdersInfo(this.extend(r,i)),n=this.safeValue(a,"orders",[]),o=this.parseOrders(n,s),c=o.length;return 1===c?o[0]:o}async fetchOrders(e,t,i,s={}){await this.loadMarkets(),void 0===i&&(i=100);const r=this.market(e),a={symbol:r["id"],current_page:1,page_length:i},n=await this.privatePostOrdersInfoHistory(this.extend(a,s)),o=this.safeValue(n,"orders",[]);return this.parseOrders(o,void 0,t,i)}async fetchClosedOrders(e,t,i,s={}){const r=await this.fetchOrders(e,t,i,s),a=this.filterBy(r,"status","closed"),n=this.filterBy(r,"status","cancelled"),o=this.arrayConcat(a,n);return this.filterBySymbolSinceLimit(o,e,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={assetCode:a["id"],amount:t,account:i};void 0!==s&&(n["memo"]=s);const o=this.privatePostWithdraw(this.extend(n,r));return{id:this.safeString(o,"id"),info:o}}convertSecretToPem(e){const t=64,i=e.length-0;let s=parseInt(i/t);s=this.sum(s,1);let r="-----BEGIN PRIVATE KEY-----\n";for(let a=0;a<s;a++){const e=a*t,i=this.sum(e,t);r+=this.secret.slice(e,i)+"\n"}return r+"-----END PRIVATE KEY-----"}sign(e,t="public",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e));let o=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,s);if(o+=".do","public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const e=this.keysort(this.extend({api_key:this.apiKey},s)),t=this.rawencode(e),i=this.hash(this.encode(t)).toUpperCase(),n=this.safeValue(this.options,"cacheSecretAsPem",!0);let o=void 0;n?(o=this.safeValue(this.options,"pem"),void 0===o&&(o=this.convertSecretToPem(this.secret),this.options["pem"]=o)):o=this.convertSecretToPem(this.secret);const c=this.binaryToBase64(this.rsa(i,this.encode(o),"RS256"));e["sign"]=c,a=this.urlencode(e),r={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},c,d){const h=await this.fetch2(e,t,i,s,c,d),u=this.safeString(h,"result");if("false"===u){const e=this.safeString(h,"error_code"),t=this.safeString({1e4:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001",10022:"Insufficient key authority"},e,this.json(h)),i=this.safeValue({10002:n,10004:a,10005:n,10006:n,10007:n,10009:o,10010:o,10011:o,10012:o,10013:o,10014:o,10015:o,10016:o,10022:n},e,r);throw new i(t)}return h}}},9911:function(e,t,i){"use strict";var s=i("23e7"),r=i("857a"),a=i("af03");s({target:"String",proto:!0,forced:a("link")},{link:function(e){return r(this,"a","href",e)}})},"99af":function(e,t,i){"use strict";var s=i("23e7"),r=i("d039"),a=i("e8b5"),n=i("861d"),o=i("7b0b"),c=i("50c4"),d=i("8418"),h=i("65f0"),u=i("1dde"),l=i("b622"),f=i("2d00"),p=l("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=f>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=u("concat"),b=function(e){if(!n(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},w=!y||!v;s({target:"Array",proto:!0,forced:w},{concat:function(e){var t,i,s,r,a,n=o(this),u=h(n,0),l=0;for(t=-1,s=arguments.length;t<s;t++)if(a=-1===t?n:arguments[t],b(a)){if(r=c(a.length),l+r>m)throw TypeError(g);for(i=0;i<r;i++,l++)i in a&&d(u,l,a[i])}else{if(l>=m)throw TypeError(g);d(u,l++,a)}return u.length=l,u}})},"99d9":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return c}));var s=i("b0af"),r=i("80d2"),a=Object(r["h"])("v-card__actions"),n=Object(r["h"])("v-card__subtitle"),o=Object(r["h"])("v-card__text"),c=Object(r["h"])("v-card__title");s["a"]},"9ab4":function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return d}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},s(e,t)};function r(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){return a=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function n(e,t,i,s){var r,a=arguments.length,n=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n}function o(e,t,i,s){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function n(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?i(e.value):r(e.value).then(n,o)}c((s=s.apply(e,t||[])).next())}))}function c(e,t){var i,s,r,a,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return c([e,t])}}function c(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(r=2&a[0]?s["return"]:a[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,a[1])).done)return r;switch(s=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,s=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){n.label=a[1];break}if(6===a[0]&&n.label<r[1]){n.label=r[1],r=a;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(a);break}r[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(o){a=[6,o],s=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function d(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),r=0;for(t=0;t<i;t++)for(var a=arguments[t],n=0,o=a.length;n<o;n++,r++)s[r]=a[n];return s}},"9b5c":function(e,t,i){var s=i("5259");i("6497"),i("4a92"),i("3609"),function(){if(s.prime)e.exports=s.prime;else{var t=e.exports=s.prime=s.prime||{},i=s.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],a=new i(null);a.fromInt(30);var n=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"===typeof t&&(i=t,t={}),t=t||{};var r=t.algorithm||"PRIMEINC";"string"===typeof r&&(r={name:r}),r.options=r.options||{};var a=t.prng||s.random,n={nextBytes:function(e){for(var t=a.getBytesSync(e.length),i=0;i<e.length;++i)e[i]=t.charCodeAt(i)}};if("PRIMEINC"===r.name)return o(e,n,r.options,i);throw new Error("Invalid prime generation algorithm: "+r.name)}}function o(e,t,i,s){return"workers"in i?h(e,t,i,s):c(e,t,i,s)}function c(e,t,i,s){var r=u(e,t),a=0,n=l(r.bitLength());"millerRabinTests"in i&&(n=i.millerRabinTests);var o=10;"maxBlockTime"in i&&(o=i.maxBlockTime),d(r,e,t,a,n,o,s)}function d(e,t,i,a,n,o,c){var h=+new Date;do{if(e.bitLength()>t&&(e=u(t,i)),e.isProbablePrime(n))return c(null,e);e.dAddOffset(r[a++%8],0)}while(o<0||+new Date-h<o);s.util.setImmediate((function(){d(e,t,i,a,n,o,c)}))}function h(e,t,r,a){if("undefined"===typeof Worker)return c(e,t,r,a);var n=u(e,t),o=r.workers,d=r.workLoad||100,h=30*d/8,l=r.workerScript||"forge/prime.worker.js";if(-1===o)return s.util.estimateCores((function(e,t){e&&(t=2),o=t-1,f()}));function f(){o=Math.max(1,o);for(var s=[],r=0;r<o;++r)s[r]=new Worker(l);for(r=0;r<o;++r)s[r].addEventListener("message",f);var c=!1;function f(r){if(!c){0;var o=r.data;if(o.found){for(var l=0;l<s.length;++l)s[l].terminate();return c=!0,a(null,new i(o.prime,16))}n.bitLength()>e&&(n=u(e,t));var f=n.toString(16);r.target.postMessage({hex:f,workLoad:d}),n.dAddOffset(h,0)}}}f()}function u(e,t){var s=new i(e,t),r=e-1;return s.testBit(r)||s.bitwiseTo(i.ONE.shiftLeft(r),n,s),s.dAddOffset(31-s.mod(a).byteValue(),0),s}function l(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}}()},"9bdd":function(e,t,i){var s=i("825a"),r=i("2a62");e.exports=function(e,t,i,a){try{return a?t(s(i)[0],i[1]):t(i)}catch(n){throw r(e),n}}},"9bf2":function(e,t,i){var s=i("83ab"),r=i("0cfb"),a=i("825a"),n=i("c04e"),o=Object.defineProperty;t.f=s?o:function(e,t,i){if(a(e),t=n(t,!0),a(i),r)try{return o(e,t,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},"9c4b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){(function(e){e.LOG_LEVEL={PRODUCTION:0,ERRORS:1,VERBOSE:2},e.logLevel=e.LOG_LEVEL.PRODUCTION,e.methodsData={log:{save:!1,logLevel:e.LOG_LEVEL.VERBOSE},info:{save:!1,logLevel:e.LOG_LEVEL.VERBOSE},warn:{save:!1,logLevel:e.LOG_LEVEL.VERBOSE},error:{save:!0,logLevel:e.LOG_LEVEL.ERRORS}}})(e.console||(e.console={}))}(t.config||(t.config={}))},"9ca6":function(e,t,i){var s=i("5259");i("bb2b"),e.exports=s.mgf=s.mgf||{},s.mgf.mgf1=s.mgf1},"9d26":function(e,t,i){"use strict";var s=i("132d");t["a"]=s["a"]},"9d65":function(e,t,i){"use strict";var s=i("d9bd"),r=i("2b0e");t["a"]=r["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||this.eager||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},created:function(){"lazy"in this.$attrs&&Object(s["e"])("lazy",this)},methods:{showLazyContent:function(e){return this.hasContent&&e?e():[this.$createElement()]}}})},"9d74":function(e,t,i){var s=i("5a7c"),r=s((function(e,t){return e<=t}));e.exports=r},"9d8b":function(e,t,i){var s=i("5259");i("f484"),i("fb3e"),i("ca87"),i("c7e6"),i("9ca6"),i("deb0"),i("66b0"),i("1ae3"),i("4778"),i("6497");var r=s.asn1,a=e.exports=s.pki=s.pki||{},n=a.oids,o={};o["CN"]=n["commonName"],o["commonName"]="CN",o["C"]=n["countryName"],o["countryName"]="C",o["L"]=n["localityName"],o["localityName"]="L",o["ST"]=n["stateOrProvinceName"],o["stateOrProvinceName"]="ST",o["O"]=n["organizationName"],o["organizationName"]="O",o["OU"]=n["organizationalUnitName"],o["organizationalUnitName"]="OU",o["E"]=n["emailAddress"],o["emailAddress"]="E";var c=s.pki.rsa.publicKeyValidator,d={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},h={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},l={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"===typeof t&&(t={shortName:t});for(var i,s=null,r=0;null===s&&r<e.attributes.length;++r)i=e.attributes[r],(t.type&&t.type===i.type||t.name&&t.name===i.name||t.shortName&&t.shortName===i.shortName)&&(s=i);return s}a.RDNAttributesAsArray=function(e,t){for(var i,s,a,c=[],d=0;d<e.value.length;++d){i=e.value[d];for(var h=0;h<i.value.length;++h)a={},s=i.value[h],a.type=r.derToOid(s.value[0].value),a.value=s.value[1].value,a.valueTagClass=s.value[1].type,a.type in n&&(a.name=n[a.type],a.name in o&&(a.shortName=o[a.name])),t&&(t.update(a.type),t.update(a.value)),c.push(a)}return c},a.CRIAttributesAsArray=function(e){for(var t=[],i=0;i<e.length;++i)for(var s=e[i],c=r.derToOid(s.value[0].value),d=s.value[1].value,h=0;h<d.length;++h){var u={};if(u.type=c,u.value=d[h].value,u.valueTagClass=d[h].type,u.type in n&&(u.name=n[u.type],u.name in o&&(u.shortName=o[u.name])),u.type===n.extensionRequest){u.extensions=[];for(var l=0;l<u.value.length;++l)u.extensions.push(a.certificateExtensionFromAsn1(u.value[l]))}t.push(u)}return t};var p=function(e,t,i){var s={};if(e!==n["RSASSA-PSS"])return s;i&&(s={hash:{algorithmOid:n["sha1"]},mgf:{algorithmOid:n["mgf1"],hash:{algorithmOid:n["sha1"]}},saltLength:20});var a={},o=[];if(!r.validate(t,h,a,o)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=o,c}return void 0!==a.hashOid&&(s.hash=s.hash||{},s.hash.algorithmOid=r.derToOid(a.hashOid)),void 0!==a.maskGenOid&&(s.mgf=s.mgf||{},s.mgf.algorithmOid=r.derToOid(a.maskGenOid),s.mgf.hash=s.mgf.hash||{},s.mgf.hash.algorithmOid=r.derToOid(a.maskGenHashOid)),void 0!==a.saltLength&&(s.saltLength=a.saltLength.charCodeAt(0)),s};function m(e){for(var t,i,a=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),n=e.attributes,o=0;o<n.length;++o){t=n[o];var c=t.value,d=r.Type.PRINTABLESTRING;"valueTagClass"in t&&(d=t.valueTagClass,d===r.Type.UTF8&&(c=s.util.encodeUtf8(c))),i=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.type).getBytes()),r.create(r.Class.UNIVERSAL,d,!1,c)])]),a.value.push(i)}return a}function g(e){for(var t,i=0;i<e.length;++i){if(t=e[i],"undefined"===typeof t.name&&(t.type&&t.type in a.oids?t.name=a.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=a.oids[o[t.shortName]])),"undefined"===typeof t.type){if(!t.name||!(t.name in a.oids)){var s=new Error("Attribute type not specified.");throw s.attribute=t,s}t.type=a.oids[t.name]}if("undefined"===typeof t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===n.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=r.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var c=0;c<t.extensions.length;++c)t.value.push(a.certificateExtensionToAsn1(y(t.extensions[c])))}if("undefined"===typeof t.value){s=new Error("Attribute value not specified.");throw s.attribute=t,s}}}function y(e,t){if(t=t||{},"undefined"===typeof e.name&&e.id&&e.id in a.oids&&(e.name=a.oids[e.id]),"undefined"===typeof e.id){if(!e.name||!(e.name in a.oids)){var i=new Error("Extension ID not specified.");throw i.extension=e,i}e.id=a.oids[e.name]}if("undefined"!==typeof e.value)return e;if("keyUsage"===e.name){var o=0,c=0,d=0;e.digitalSignature&&(c|=128,o=7),e.nonRepudiation&&(c|=64,o=6),e.keyEncipherment&&(c|=32,o=5),e.dataEncipherment&&(c|=16,o=4),e.keyAgreement&&(c|=8,o=3),e.keyCertSign&&(c|=4,o=2),e.cRLSign&&(c|=2,o=1),e.encipherOnly&&(c|=1,o=0),e.decipherOnly&&(d|=128,o=7);var h=String.fromCharCode(o);0!==d?h+=String.fromCharCode(c)+String.fromCharCode(d):0!==c&&(h+=String.fromCharCode(c)),e.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,h)}else if("basicConstraints"===e.name)e.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var l in e)!0===e[l]&&(l in n?u.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n[l]).getBytes())):-1!==l.indexOf(".")&&u.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(l).getBytes())))}else if("nsCertType"===e.name){o=0,c=0;e.client&&(c|=128,o=7),e.server&&(c|=64,o=6),e.email&&(c|=32,o=5),e.objsign&&(c|=16,o=4),e.reserved&&(c|=8,o=3),e.sslCA&&(c|=4,o=2),e.emailCA&&(c|=2,o=1),e.objCA&&(c|=1,o=0);h=String.fromCharCode(o);0!==c&&(h+=String.fromCharCode(c)),e.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,h)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var f=0;f<e.altNames.length;++f){b=e.altNames[f];h=b.value;if(7===b.type&&b.ip){if(h=s.util.bytesFromIP(b.ip),null===h){i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=e,i}}else 8===b.type&&(h=b.oid?r.oidToDer(r.oidToDer(b.oid)):r.oidToDer(h));e.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,b.type,!1,h))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);u=e.value.value;if(e.keyIdentifier){var g=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var y=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[m(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];u.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var v=s.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);u.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===e.name){e.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);u=e.value.value;var b,w=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),k=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(f=0;f<e.altNames.length;++f){b=e.altNames[f];h=b.value;if(7===b.type&&b.ip){if(h=s.util.bytesFromIP(b.ip),null===h){i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=e,i}}else 8===b.type&&(h=b.oid?r.oidToDer(r.oidToDer(b.oid)):r.oidToDer(h));k.value.push(r.create(r.Class.CONTEXT_SPECIFIC,b.type,!1,h))}w.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[k])),u.push(w)}if("undefined"===typeof e.value){i=new Error("Extension value not specified.");throw i.extension=e,i}return e}function v(e,t){switch(e){case n["RSASSA-PSS"]:var i=[];return void 0!==t.hash.algorithmOid&&i.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&i.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&i.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(t.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,i);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function b(e){var t=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var i=e.attributes,a=0;a<i.length;++a){var n=i[a],o=n.value,c=r.Type.UTF8;"valueTagClass"in n&&(c=n.valueTagClass),c===r.Type.UTF8&&(o=s.util.encodeUtf8(o));var d=!1;"valueConstructed"in n&&(d=n.valueConstructed);var h=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,c,d,o)])]);t.value.push(h)}return t}a.certificateFromPem=function(e,t,i){var n=s.pem.decode(e)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=r.fromDer(n.body,i);return a.certificateFromAsn1(c,t)},a.certificateToPem=function(e,t){var i={type:"CERTIFICATE",body:r.toDer(a.certificateToAsn1(e)).getBytes()};return s.pem.encode(i,{maxline:t})},a.publicKeyFromPem=function(e){var t=s.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var i=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw i.headerType=t.type,i}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=r.fromDer(t.body);return a.publicKeyFromAsn1(n)},a.publicKeyToPem=function(e,t){var i={type:"PUBLIC KEY",body:r.toDer(a.publicKeyToAsn1(e)).getBytes()};return s.pem.encode(i,{maxline:t})},a.publicKeyToRSAPublicKeyPem=function(e,t){var i={type:"RSA PUBLIC KEY",body:r.toDer(a.publicKeyToRSAPublicKey(e)).getBytes()};return s.pem.encode(i,{maxline:t})},a.getPublicKeyFingerprint=function(e,t){t=t||{};var i,n=t.md||s.md.sha1.create(),o=t.type||"RSAPublicKey";switch(o){case"RSAPublicKey":i=r.toDer(a.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=r.toDer(a.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}n.start(),n.update(i);var c=n.digest();if("hex"===t.encoding){var d=c.toHex();return t.delimiter?d.match(/.{2}/g).join(t.delimiter):d}if("binary"===t.encoding)return c.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return c},a.certificationRequestFromPem=function(e,t,i){var n=s.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==n.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=r.fromDer(n.body,i);return a.certificationRequestFromAsn1(c,t)},a.certificationRequestToPem=function(e,t){var i={type:"CERTIFICATE REQUEST",body:r.toDer(a.certificationRequestToAsn1(e)).getBytes()};return s.pem.encode(i,{maxline:t})},a.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){g([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){g([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,i){g(t),e.subject.attributes=t,delete e.subject.uniqueId,i&&(e.subject.uniqueId=i),e.subject.hash=null},e.setIssuer=function(t,i){g(t),e.issuer.attributes=t,delete e.issuer.uniqueId,i&&(e.issuer.uniqueId=i),e.issuer.hash=null},e.setExtensions=function(t){for(var i=0;i<t.length;++i)y(t[i],{cert:e});e.extensions=t},e.getExtension=function(t){"string"===typeof t&&(t={name:t});for(var i,s=null,r=0;null===s&&r<e.extensions.length;++r)i=e.extensions[r],(t.id&&i.id===t.id||t.name&&i.name===t.name)&&(s=i);return s},e.sign=function(t,i){e.md=i||s.md.sha1.create();var o=n[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=a.getTBSCertificate(e);var d=r.toDer(e.tbsCertificate);e.md.update(d.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var i=!1;if(!e.issued(t)){var o=t.issuer,c=e.subject,d=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw d.expectedIssuer=o.attributes,d.actualIssuer=c.attributes,d}var h=t.md;if(null===h){if(t.signatureOid in n){var u=n[t.signatureOid];switch(u){case"sha1WithRSAEncryption":h=s.md.sha1.create();break;case"md5WithRSAEncryption":h=s.md.md5.create();break;case"sha256WithRSAEncryption":h=s.md.sha256.create();break;case"sha384WithRSAEncryption":h=s.md.sha384.create();break;case"sha512WithRSAEncryption":h=s.md.sha512.create();break;case"RSASSA-PSS":h=s.md.sha256.create();break}}if(null===h){d=new Error("Could not compute certificate digest. Unknown signature OID.");throw d.signatureOid=t.signatureOid,d}var l=t.tbsCertificate||a.getTBSCertificate(t),f=r.toDer(l);h.update(f.getBytes())}if(null!==h){var p;switch(t.signatureOid){case n.sha1WithRSAEncryption:p=void 0;break;case n["RSASSA-PSS"]:var m,g;if(m=n[t.signatureParameters.mgf.hash.algorithmOid],void 0===m||void 0===s.md[m]){d=new Error("Unsupported MGF hash function.");throw d.oid=t.signatureParameters.mgf.hash.algorithmOid,d.name=m,d}if(g=n[t.signatureParameters.mgf.algorithmOid],void 0===g||void 0===s.mgf[g]){d=new Error("Unsupported MGF function.");throw d.oid=t.signatureParameters.mgf.algorithmOid,d.name=g,d}if(g=s.mgf[g].create(s.md[m].create()),m=n[t.signatureParameters.hash.algorithmOid],void 0===m||void 0===s.md[m])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:m};p=s.pss.create(s.md[m].create(),g,t.signatureParameters.saltLength);break}i=e.publicKey.verify(h.digest().getBytes(),t.signature,p)}return i},e.isIssuer=function(t){var i=!1,s=e.issuer,r=t.subject;if(s.hash&&r.hash)i=s.hash===r.hash;else if(s.attributes.length===r.attributes.length){var a,n;i=!0;for(var o=0;i&&o<s.attributes.length;++o)a=s.attributes[o],n=r.attributes[o],a.type===n.type&&a.value===n.value||(i=!1)}return i},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=n["subjectKeyIdentifier"],i=0;i<e.extensions.length;++i){var r=e.extensions[i];if(r.id===t){var a=e.generateSubjectKeyIdentifier().getBytes();return s.util.hexToBytes(r.subjectKeyIdentifier)===a}}return!1},e},a.certificateFromAsn1=function(e,t){var i={},o=[];if(!r.validate(e,d,i,o)){var c=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw c.errors=o,c}var h=r.derToOid(i.publicKeyOid);if(h!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=a.createCertificate();u.version=i.certVersion?i.certVersion.charCodeAt(0):0;var l=s.util.createBuffer(i.certSerialNumber);u.serialNumber=l.toHex(),u.signatureOid=s.asn1.derToOid(i.certSignatureOid),u.signatureParameters=p(u.signatureOid,i.certSignatureParams,!0),u.siginfo.algorithmOid=s.asn1.derToOid(i.certinfoSignatureOid),u.siginfo.parameters=p(u.siginfo.algorithmOid,i.certinfoSignatureParams,!1),u.signature=i.certSignature;var m=[];if(void 0!==i.certValidity1UTCTime&&m.push(r.utcTimeToDate(i.certValidity1UTCTime)),void 0!==i.certValidity2GeneralizedTime&&m.push(r.generalizedTimeToDate(i.certValidity2GeneralizedTime)),void 0!==i.certValidity3UTCTime&&m.push(r.utcTimeToDate(i.certValidity3UTCTime)),void 0!==i.certValidity4GeneralizedTime&&m.push(r.generalizedTimeToDate(i.certValidity4GeneralizedTime)),m.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(m.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=m[0],u.validity.notAfter=m[1],u.tbsCertificate=i.tbsCertificate,t){if(u.md=null,u.signatureOid in n){h=n[u.signatureOid];switch(h){case"sha1WithRSAEncryption":u.md=s.md.sha1.create();break;case"md5WithRSAEncryption":u.md=s.md.md5.create();break;case"sha256WithRSAEncryption":u.md=s.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=s.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=s.md.sha512.create();break;case"RSASSA-PSS":u.md=s.md.sha256.create();break}}if(null===u.md){c=new Error("Could not compute certificate digest. Unknown signature OID.");throw c.signatureOid=u.signatureOid,c}var y=r.toDer(u.tbsCertificate);u.md.update(y.getBytes())}var v=s.md.sha1.create();u.issuer.getField=function(e){return f(u.issuer,e)},u.issuer.addField=function(e){g([e]),u.issuer.attributes.push(e)},u.issuer.attributes=a.RDNAttributesAsArray(i.certIssuer,v),i.certIssuerUniqueId&&(u.issuer.uniqueId=i.certIssuerUniqueId),u.issuer.hash=v.digest().toHex();var b=s.md.sha1.create();return u.subject.getField=function(e){return f(u.subject,e)},u.subject.addField=function(e){g([e]),u.subject.attributes.push(e)},u.subject.attributes=a.RDNAttributesAsArray(i.certSubject,b),i.certSubjectUniqueId&&(u.subject.uniqueId=i.certSubjectUniqueId),u.subject.hash=b.digest().toHex(),i.certExtensions?u.extensions=a.certificateExtensionsFromAsn1(i.certExtensions):u.extensions=[],u.publicKey=a.publicKeyFromAsn1(i.subjectPublicKeyInfo),u},a.certificateExtensionsFromAsn1=function(e){for(var t=[],i=0;i<e.value.length;++i)for(var s=e.value[i],r=0;r<s.value.length;++r)t.push(a.certificateExtensionFromAsn1(s.value[r]));return t},a.certificateExtensionFromAsn1=function(e){var t={};if(t.id=r.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===r.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in n)if(t.name=n[t.id],"keyUsage"===t.name){var i=r.fromDer(t.value),a=0,o=0;i.value.length>1&&(a=i.value.charCodeAt(1),o=i.value.length>2?i.value.charCodeAt(2):0),t.digitalSignature=128===(128&a),t.nonRepudiation=64===(64&a),t.keyEncipherment=32===(32&a),t.dataEncipherment=16===(16&a),t.keyAgreement=8===(8&a),t.keyCertSign=4===(4&a),t.cRLSign=2===(2&a),t.encipherOnly=1===(1&a),t.decipherOnly=128===(128&o)}else if("basicConstraints"===t.name){i=r.fromDer(t.value);i.value.length>0&&i.value[0].type===r.Type.BOOLEAN?t.cA=0!==i.value[0].value.charCodeAt(0):t.cA=!1;var c=null;i.value.length>0&&i.value[0].type===r.Type.INTEGER?c=i.value[0].value:i.value.length>1&&(c=i.value[1].value),null!==c&&(t.pathLenConstraint=r.derToInteger(c))}else if("extKeyUsage"===t.name){i=r.fromDer(t.value);for(var d=0;d<i.value.length;++d){var h=r.derToOid(i.value[d].value);h in n?t[n[h]]=!0:t[h]=!0}}else if("nsCertType"===t.name){i=r.fromDer(t.value),a=0;i.value.length>1&&(a=i.value.charCodeAt(1)),t.client=128===(128&a),t.server=64===(64&a),t.email=32===(32&a),t.objsign=16===(16&a),t.reserved=8===(8&a),t.sslCA=4===(4&a),t.emailCA=2===(2&a),t.objCA=1===(1&a)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var u;t.altNames=[];i=r.fromDer(t.value);for(var l=0;l<i.value.length;++l){u=i.value[l];var f={type:u.type,value:u.value};switch(t.altNames.push(f),u.type){case 1:case 2:case 6:break;case 7:f.ip=s.util.bytesToIP(u.value);break;case 8:f.oid=r.derToOid(u.value);break;default:}}}else if("subjectKeyIdentifier"===t.name){i=r.fromDer(t.value);t.subjectKeyIdentifier=s.util.bytesToHex(i.value)}return t},a.certificationRequestFromAsn1=function(e,t){var i={},o=[];if(!r.validate(e,l,i,o)){var c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw c.errors=o,c}var d=r.derToOid(i.publicKeyOid);if(d!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var h=a.createCertificationRequest();if(h.version=i.csrVersion?i.csrVersion.charCodeAt(0):0,h.signatureOid=s.asn1.derToOid(i.csrSignatureOid),h.signatureParameters=p(h.signatureOid,i.csrSignatureParams,!0),h.siginfo.algorithmOid=s.asn1.derToOid(i.csrSignatureOid),h.siginfo.parameters=p(h.siginfo.algorithmOid,i.csrSignatureParams,!1),h.signature=i.csrSignature,h.certificationRequestInfo=i.certificationRequestInfo,t){if(h.md=null,h.signatureOid in n){d=n[h.signatureOid];switch(d){case"sha1WithRSAEncryption":h.md=s.md.sha1.create();break;case"md5WithRSAEncryption":h.md=s.md.md5.create();break;case"sha256WithRSAEncryption":h.md=s.md.sha256.create();break;case"sha384WithRSAEncryption":h.md=s.md.sha384.create();break;case"sha512WithRSAEncryption":h.md=s.md.sha512.create();break;case"RSASSA-PSS":h.md=s.md.sha256.create();break}}if(null===h.md){c=new Error("Could not compute certification request digest. Unknown signature OID.");throw c.signatureOid=h.signatureOid,c}var u=r.toDer(h.certificationRequestInfo);h.md.update(u.getBytes())}var m=s.md.sha1.create();return h.subject.getField=function(e){return f(h.subject,e)},h.subject.addField=function(e){g([e]),h.subject.attributes.push(e)},h.subject.attributes=a.RDNAttributesAsArray(i.certificationRequestInfoSubject,m),h.subject.hash=m.digest().toHex(),h.publicKey=a.publicKeyFromAsn1(i.subjectPublicKeyInfo),h.getAttribute=function(e){return f(h,e)},h.addAttribute=function(e){g([e]),h.attributes.push(e)},h.attributes=a.CRIAttributesAsArray(i.certificationRequestInfoAttributes||[]),h},a.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){g([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){g([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){g(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){g(t),e.attributes=t},e.sign=function(t,i){e.md=i||s.md.sha1.create();var o=n[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=a.getCertificationRequestInfo(e);var d=r.toDer(e.certificationRequestInfo);e.md.update(d.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,i=e.md;if(null===i){if(e.signatureOid in n){var o=n[e.signatureOid];switch(o){case"sha1WithRSAEncryption":i=s.md.sha1.create();break;case"md5WithRSAEncryption":i=s.md.md5.create();break;case"sha256WithRSAEncryption":i=s.md.sha256.create();break;case"sha384WithRSAEncryption":i=s.md.sha384.create();break;case"sha512WithRSAEncryption":i=s.md.sha512.create();break;case"RSASSA-PSS":i=s.md.sha256.create();break}}if(null===i){var c=new Error("Could not compute certification request digest. Unknown signature OID.");throw c.signatureOid=e.signatureOid,c}var d=e.certificationRequestInfo||a.getCertificationRequestInfo(e),h=r.toDer(d);i.update(h.getBytes())}if(null!==i){var u;switch(e.signatureOid){case n.sha1WithRSAEncryption:break;case n["RSASSA-PSS"]:var l,f;if(l=n[e.signatureParameters.mgf.hash.algorithmOid],void 0===l||void 0===s.md[l]){c=new Error("Unsupported MGF hash function.");throw c.oid=e.signatureParameters.mgf.hash.algorithmOid,c.name=l,c}if(f=n[e.signatureParameters.mgf.algorithmOid],void 0===f||void 0===s.mgf[f]){c=new Error("Unsupported MGF function.");throw c.oid=e.signatureParameters.mgf.algorithmOid,c.name=f,c}if(f=s.mgf[f].create(s.md[l].create()),l=n[e.signatureParameters.hash.algorithmOid],void 0===l||void 0===s.md[l]){c=new Error("Unsupported RSASSA-PSS hash function.");throw c.oid=e.signatureParameters.hash.algorithmOid,c.name=l,c}u=s.pss.create(s.md[l].create(),f,e.signatureParameters.saltLength);break}t=e.publicKey.verify(i.digest().getBytes(),e.signature,u)}return t},e};var w=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z");function S(e){return e>=w&&e<k?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(e)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(e))}a.getTBSCertificate=function(e){var t=S(e.validity.notBefore),i=S(e.validity.notAfter),n=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(e.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(e.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.siginfo.algorithmOid).getBytes()),v(e.siginfo.algorithmOid,e.siginfo.parameters)]),m(e.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t,i]),m(e.subject),a.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(a.certificateExtensionsToAsn1(e.extensions)),n},a.getCertificationRequestInfo=function(e){var t=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(e.version).getBytes()),m(e.subject),a.publicKeyToAsn1(e.publicKey),b(e)]);return t},a.distinguishedNameToAsn1=function(e){return m(e)},a.certificateToAsn1=function(e){var t=e.tbsCertificate||a.getTBSCertificate(e);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},a.certificateExtensionsToAsn1=function(e){var t=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),i=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);t.value.push(i);for(var s=0;s<e.length;++s)i.value.push(a.certificateExtensionToAsn1(e[s]));return t},a.certificateExtensionToAsn1=function(e){var t=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);t.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.id).getBytes())),e.critical&&t.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255)));var i=e.value;return"string"!==typeof e.value&&(i=r.toDer(i).getBytes()),t.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,i)),t},a.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||a.getCertificationRequestInfo(e);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},a.createCaStore=function(e){var t={certs:{}};function i(e){return n(e),t.certs[e.hash]||null}function n(e){if(!e.hash){var t=s.md.sha1.create();e.attributes=a.RDNAttributesAsArray(m(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){var t=i(e.issuer);return t},t.addCertificate=function(e){if("string"===typeof e&&(e=s.pki.certificateFromPem(e)),n(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var i=t.certs[e.subject.hash];s.util.isArray(i)||(i=[i]),i.push(e),t.certs[e.subject.hash]=i}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"===typeof e&&(e=s.pki.certificateFromPem(e));var t=i(e.subject);if(!t)return!1;s.util.isArray(t)||(t=[t]);for(var n=r.toDer(a.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){var c=r.toDer(a.certificateToAsn1(t[o])).getBytes();if(n===c)return!0}return!1},t.listAllCertificates=function(){var e=[];for(var i in t.certs)if(t.certs.hasOwnProperty(i)){var r=t.certs[i];if(s.util.isArray(r))for(var a=0;a<r.length;++a)e.push(r[a]);else e.push(r)}return e},t.removeCertificate=function(e){var o;if("string"===typeof e&&(e=s.pki.certificateFromPem(e)),n(e.subject),!t.hasCertificate(e))return null;var c=i(e.subject);if(!s.util.isArray(c))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var d=r.toDer(a.certificateToAsn1(e)).getBytes(),h=0;h<c.length;++h){var u=r.toDer(a.certificateToAsn1(c[h])).getBytes();d===u&&(o=c[h],c.splice(h,1))}return 0===c.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var c=e[o];t.addCertificate(c)}return t},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(e,t,i){"function"===typeof i&&(i={verify:i}),i=i||{},t=t.slice(0);var r=t.slice(0),n=i.validityCheckDate;"undefined"===typeof n&&(n=new Date);var o=!0,c=null,d=0;do{var h=t.shift(),u=null,l=!1;if(n&&(n<h.validity.notBefore||n>h.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:h.validity.notBefore,notAfter:h.validity.notAfter,now:n}),null===c){if(u=t[0]||e.getIssuer(h),null===u&&h.isIssuer(h)&&(l=!0,u=h),u){var f=u;s.util.isArray(f)||(f=[f]);var p=!1;while(!p&&f.length>0){u=f.shift();try{p=u.verify(h)}catch(_){}}p||(c={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}null!==c||u&&!l||e.hasCertificate(h)||(c={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(null===c&&u&&!h.isIssuer(u)&&(c={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),null===c)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===c&&g<h.extensions.length;++g){var y=h.extensions[g];y.critical&&!(y.name in m)&&(c={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(null===c&&(!o||0===t.length&&(!u||l))){var v=h.getExtension("basicConstraints"),b=h.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==v||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate})),null!==c||null===v||v.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),null===c&&null!==b&&"pathLenConstraint"in v){var w=d-1;w>v.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}}var k=null===c||c.error,S=i.verify?i.verify(k,d,r):k;if(!0!==S)throw!0===k&&(c={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(S||0===S)&&("object"!==typeof S||s.util.isArray(S)?"string"===typeof S&&(c.error=S):(S.message&&(c.message=S.message),S.error&&(c.error=S.error))),c;c=null,o=!1,++d}while(t.length>0);return!0}},"9e6e":function(e,t,i){"use strict";var s=i("be7f"),r=i("c834"),a=i("eeda"),n=i("7eb1"),o=i("6853"),c=0,d=1,h=2,u=4,l=5,f=6,p=0,m=1,g=2,y=-2,v=-3,b=-4,w=-5,k=8,S=1,_=2,O=3,T=4,C=5,x=6,I=7,E=8,A=9,N=10,M=11,P=12,B=13,R=14,L=15,V=16,D=17,q=18,j=19,G=20,U=21,F=22,H=23,z=24,K=25,W=26,$=27,Y=28,X=29,Z=30,Q=31,J=32,ee=852,te=592,ie=15,se=ie;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ae(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ne(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=S,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new s.Buf32(ee),t.distcode=t.distdyn=new s.Buf32(te),t.sane=1,t.back=-1,p):y}function oe(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,ne(e)):y}function ce(e,t){var i,s;return e&&e.state?(s=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==s.window&&s.wbits!==t&&(s.window=null),s.wrap=i,s.wbits=t,oe(e))):y}function de(e,t){var i,s;return e?(s=new ae,e.state=s,s.window=null,i=ce(e,t),i!==p&&(e.state=null),i):y}function he(e){return de(e,se)}var ue,le,fe=!0;function pe(e){if(fe){var t;ue=new s.Buf32(512),le=new s.Buf32(32),t=0;while(t<144)e.lens[t++]=8;while(t<256)e.lens[t++]=9;while(t<280)e.lens[t++]=7;while(t<288)e.lens[t++]=8;o(d,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;while(t<32)e.lens[t++]=5;o(h,e.lens,0,32,le,0,e.work,{bits:5}),fe=!1}e.lencode=ue,e.lenbits=9,e.distcode=le,e.distbits=5}function me(e,t,i,r){var a,n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new s.Buf8(n.wsize)),r>=n.wsize?(s.arraySet(n.window,t,i-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(a=n.wsize-n.wnext,a>r&&(a=r),s.arraySet(n.window,t,i-r,a,n.wnext),r-=a,r?(s.arraySet(n.window,t,i-r,r,0),n.wnext=r,n.whave=n.wsize):(n.wnext+=a,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=a))),0}function ge(e,t){var i,ee,te,ie,se,ae,ne,oe,ce,de,he,ue,le,fe,ge,ye,ve,be,we,ke,Se,_e,Oe,Te,Ce=0,xe=new s.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;i=e.state,i.mode===P&&(i.mode=B),se=e.next_out,te=e.output,ne=e.avail_out,ie=e.next_in,ee=e.input,ae=e.avail_in,oe=i.hold,ce=i.bits,de=ae,he=ne,_e=p;e:for(;;)switch(i.mode){case S:if(0===i.wrap){i.mode=B;break}while(ce<16){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(2&i.wrap&&35615===oe){i.check=0,xe[0]=255&oe,xe[1]=oe>>>8&255,i.check=a(i.check,xe,2,0),oe=0,ce=0,i.mode=_;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&oe)<<8)+(oe>>8))%31){e.msg="incorrect header check",i.mode=Z;break}if((15&oe)!==k){e.msg="unknown compression method",i.mode=Z;break}if(oe>>>=4,ce-=4,Se=8+(15&oe),0===i.wbits)i.wbits=Se;else if(Se>i.wbits){e.msg="invalid window size",i.mode=Z;break}i.dmax=1<<Se,e.adler=i.check=1,i.mode=512&oe?N:P,oe=0,ce=0;break;case _:while(ce<16){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(i.flags=oe,(255&i.flags)!==k){e.msg="unknown compression method",i.mode=Z;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Z;break}i.head&&(i.head.text=oe>>8&1),512&i.flags&&(xe[0]=255&oe,xe[1]=oe>>>8&255,i.check=a(i.check,xe,2,0)),oe=0,ce=0,i.mode=O;case O:while(ce<32){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.head&&(i.head.time=oe),512&i.flags&&(xe[0]=255&oe,xe[1]=oe>>>8&255,xe[2]=oe>>>16&255,xe[3]=oe>>>24&255,i.check=a(i.check,xe,4,0)),oe=0,ce=0,i.mode=T;case T:while(ce<16){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.head&&(i.head.xflags=255&oe,i.head.os=oe>>8),512&i.flags&&(xe[0]=255&oe,xe[1]=oe>>>8&255,i.check=a(i.check,xe,2,0)),oe=0,ce=0,i.mode=C;case C:if(1024&i.flags){while(ce<16){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.length=oe,i.head&&(i.head.extra_len=oe),512&i.flags&&(xe[0]=255&oe,xe[1]=oe>>>8&255,i.check=a(i.check,xe,2,0)),oe=0,ce=0}else i.head&&(i.head.extra=null);i.mode=x;case x:if(1024&i.flags&&(ue=i.length,ue>ae&&(ue=ae),ue&&(i.head&&(Se=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),s.arraySet(i.head.extra,ee,ie,ue,Se)),512&i.flags&&(i.check=a(i.check,ee,ue,ie)),ae-=ue,ie+=ue,i.length-=ue),i.length))break e;i.length=0,i.mode=I;case I:if(2048&i.flags){if(0===ae)break e;ue=0;do{Se=ee[ie+ue++],i.head&&Se&&i.length<65536&&(i.head.name+=String.fromCharCode(Se))}while(Se&&ue<ae);if(512&i.flags&&(i.check=a(i.check,ee,ue,ie)),ae-=ue,ie+=ue,Se)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=E;case E:if(4096&i.flags){if(0===ae)break e;ue=0;do{Se=ee[ie+ue++],i.head&&Se&&i.length<65536&&(i.head.comment+=String.fromCharCode(Se))}while(Se&&ue<ae);if(512&i.flags&&(i.check=a(i.check,ee,ue,ie)),ae-=ue,ie+=ue,Se)break e}else i.head&&(i.head.comment=null);i.mode=A;case A:if(512&i.flags){while(ce<16){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(oe!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Z;break}oe=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=P;break;case N:while(ce<32){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}e.adler=i.check=re(oe),oe=0,ce=0,i.mode=M;case M:if(0===i.havedict)return e.next_out=se,e.avail_out=ne,e.next_in=ie,e.avail_in=ae,i.hold=oe,i.bits=ce,g;e.adler=i.check=1,i.mode=P;case P:if(t===l||t===f)break e;case B:if(i.last){oe>>>=7&ce,ce-=7&ce,i.mode=$;break}while(ce<3){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}switch(i.last=1&oe,oe>>>=1,ce-=1,3&oe){case 0:i.mode=R;break;case 1:if(pe(i),i.mode=G,t===f){oe>>>=2,ce-=2;break e}break;case 2:i.mode=D;break;case 3:e.msg="invalid block type",i.mode=Z}oe>>>=2,ce-=2;break;case R:oe>>>=7&ce,ce-=7&ce;while(ce<32){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if((65535&oe)!==(oe>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Z;break}if(i.length=65535&oe,oe=0,ce=0,i.mode=L,t===f)break e;case L:i.mode=V;case V:if(ue=i.length,ue){if(ue>ae&&(ue=ae),ue>ne&&(ue=ne),0===ue)break e;s.arraySet(te,ee,ie,ue,se),ae-=ue,ie+=ue,ne-=ue,se+=ue,i.length-=ue;break}i.mode=P;break;case D:while(ce<14){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(i.nlen=257+(31&oe),oe>>>=5,ce-=5,i.ndist=1+(31&oe),oe>>>=5,ce-=5,i.ncode=4+(15&oe),oe>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Z;break}i.have=0,i.mode=q;case q:while(i.have<i.ncode){while(ce<3){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.lens[Ie[i.have++]]=7&oe,oe>>>=3,ce-=3}while(i.have<19)i.lens[Ie[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Oe={bits:i.lenbits},_e=o(c,i.lens,0,19,i.lencode,0,i.work,Oe),i.lenbits=Oe.bits,_e){e.msg="invalid code lengths set",i.mode=Z;break}i.have=0,i.mode=j;case j:while(i.have<i.nlen+i.ndist){for(;;){if(Ce=i.lencode[oe&(1<<i.lenbits)-1],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,ge<=ce)break;if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(ve<16)oe>>>=ge,ce-=ge,i.lens[i.have++]=ve;else{if(16===ve){Te=ge+2;while(ce<Te){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(oe>>>=ge,ce-=ge,0===i.have){e.msg="invalid bit length repeat",i.mode=Z;break}Se=i.lens[i.have-1],ue=3+(3&oe),oe>>>=2,ce-=2}else if(17===ve){Te=ge+3;while(ce<Te){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=ge,ce-=ge,Se=0,ue=3+(7&oe),oe>>>=3,ce-=3}else{Te=ge+7;while(ce<Te){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=ge,ce-=ge,Se=0,ue=11+(127&oe),oe>>>=7,ce-=7}if(i.have+ue>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Z;break}while(ue--)i.lens[i.have++]=Se}}if(i.mode===Z)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Z;break}if(i.lenbits=9,Oe={bits:i.lenbits},_e=o(d,i.lens,0,i.nlen,i.lencode,0,i.work,Oe),i.lenbits=Oe.bits,_e){e.msg="invalid literal/lengths set",i.mode=Z;break}if(i.distbits=6,i.distcode=i.distdyn,Oe={bits:i.distbits},_e=o(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Oe),i.distbits=Oe.bits,_e){e.msg="invalid distances set",i.mode=Z;break}if(i.mode=G,t===f)break e;case G:i.mode=U;case U:if(ae>=6&&ne>=258){e.next_out=se,e.avail_out=ne,e.next_in=ie,e.avail_in=ae,i.hold=oe,i.bits=ce,n(e,he),se=e.next_out,te=e.output,ne=e.avail_out,ie=e.next_in,ee=e.input,ae=e.avail_in,oe=i.hold,ce=i.bits,i.mode===P&&(i.back=-1);break}for(i.back=0;;){if(Ce=i.lencode[oe&(1<<i.lenbits)-1],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,ge<=ce)break;if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(ye&&0===(240&ye)){for(be=ge,we=ye,ke=ve;;){if(Ce=i.lencode[ke+((oe&(1<<be+we)-1)>>be)],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,be+ge<=ce)break;if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=be,ce-=be,i.back+=be}if(oe>>>=ge,ce-=ge,i.back+=ge,i.length=ve,0===ye){i.mode=W;break}if(32&ye){i.back=-1,i.mode=P;break}if(64&ye){e.msg="invalid literal/length code",i.mode=Z;break}i.extra=15&ye,i.mode=F;case F:if(i.extra){Te=i.extra;while(ce<Te){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.length+=oe&(1<<i.extra)-1,oe>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=H;case H:for(;;){if(Ce=i.distcode[oe&(1<<i.distbits)-1],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,ge<=ce)break;if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(0===(240&ye)){for(be=ge,we=ye,ke=ve;;){if(Ce=i.distcode[ke+((oe&(1<<be+we)-1)>>be)],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,be+ge<=ce)break;if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=be,ce-=be,i.back+=be}if(oe>>>=ge,ce-=ge,i.back+=ge,64&ye){e.msg="invalid distance code",i.mode=Z;break}i.offset=ve,i.extra=15&ye,i.mode=z;case z:if(i.extra){Te=i.extra;while(ce<Te){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.offset+=oe&(1<<i.extra)-1,oe>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Z;break}i.mode=K;case K:if(0===ne)break e;if(ue=he-ne,i.offset>ue){if(ue=i.offset-ue,ue>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Z;break}ue>i.wnext?(ue-=i.wnext,le=i.wsize-ue):le=i.wnext-ue,ue>i.length&&(ue=i.length),fe=i.window}else fe=te,le=se-i.offset,ue=i.length;ue>ne&&(ue=ne),ne-=ue,i.length-=ue;do{te[se++]=fe[le++]}while(--ue);0===i.length&&(i.mode=U);break;case W:if(0===ne)break e;te[se++]=i.length,ne--,i.mode=U;break;case $:if(i.wrap){while(ce<32){if(0===ae)break e;ae--,oe|=ee[ie++]<<ce,ce+=8}if(he-=ne,e.total_out+=he,i.total+=he,he&&(e.adler=i.check=i.flags?a(i.check,te,he,se-he):r(i.check,te,he,se-he)),he=ne,(i.flags?oe:re(oe))!==i.check){e.msg="incorrect data check",i.mode=Z;break}oe=0,ce=0}i.mode=Y;case Y:if(i.wrap&&i.flags){while(ce<32){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(oe!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Z;break}oe=0,ce=0}i.mode=X;case X:_e=m;break e;case Z:_e=v;break e;case Q:return b;case J:default:return y}return e.next_out=se,e.avail_out=ne,e.next_in=ie,e.avail_in=ae,i.hold=oe,i.bits=ce,(i.wsize||he!==e.avail_out&&i.mode<Z&&(i.mode<$||t!==u))&&me(e,e.output,e.next_out,he-e.avail_out)?(i.mode=Q,b):(de-=e.avail_in,he-=e.avail_out,e.total_in+=de,e.total_out+=he,i.total+=he,i.wrap&&he&&(e.adler=i.check=i.flags?a(i.check,te,he,e.next_out-he):r(i.check,te,he,e.next_out-he)),e.data_type=i.bits+(i.last?64:0)+(i.mode===P?128:0)+(i.mode===G||i.mode===L?256:0),(0===de&&0===he||t===u)&&_e===p&&(_e=w),_e)}function ye(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function ve(e,t){var i;return e&&e.state?(i=e.state,0===(2&i.wrap)?y:(i.head=t,t.done=!1,p)):y}function be(e,t){var i,s,a,n=t.length;return e&&e.state?(i=e.state,0!==i.wrap&&i.mode!==M?y:i.mode===M&&(s=1,s=r(s,t,n,0),s!==i.check)?v:(a=me(e,t,n,n),a?(i.mode=Q,b):(i.havedict=1,p))):y}t.inflateReset=oe,t.inflateReset2=ce,t.inflateResetKeep=ne,t.inflateInit=he,t.inflateInit2=de,t.inflate=ge,t.inflateEnd=ye,t.inflateGetHeader=ve,t.inflateSetDictionary=be,t.inflateInfo="pako inflate (from Nodeca project)"},"9ed3":function(e,t,i){"use strict";var s=i("ae93").IteratorPrototype,r=i("7c73"),a=i("5c6c"),n=i("d44e"),o=i("3f8c"),c=function(){return this};e.exports=function(e,t,i){var d=t+" Iterator";return e.prototype=r(s,{next:a(1,i)}),n(e,d,!1,!0),o[d]=c,e}},"9eef":function(e,t,i){"use strict";var s=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return s.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},"9f7f":function(e,t,i){var s=i("d039"),r=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=s((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=s((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,i){"use strict";var s=i("23e7"),r=i("44ad"),a=i("fc6a"),n=i("a640"),o=[].join,c=r!=Object,d=n("join",",");s({target:"Array",proto:!0,forced:c||!d},{join:function(e){return o.call(a(this),void 0===e?",":e)}})},a177:function(e,t,i){"use strict";var s,r=i("be7f"),a=i("07f4"),n=i("c834"),o=i("eeda"),c=i("4dc6"),d=0,h=1,u=3,l=4,f=5,p=0,m=1,g=-2,y=-3,v=-5,b=-1,w=1,k=2,S=3,_=4,O=0,T=2,C=8,x=9,I=15,E=8,A=29,N=256,M=N+1+A,P=30,B=19,R=2*M+1,L=15,V=3,D=258,q=D+V+1,j=32,G=42,U=69,F=73,H=91,z=103,K=113,W=666,$=1,Y=2,X=3,Z=4,Q=3;function J(e,t){return e.msg=c[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){var t=e.length;while(--t>=0)e[t]=0}function ie(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function se(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ie(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ae(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ne(e,t,i,s){var a=e.avail_in;return a>s&&(a=s),0===a?0:(e.avail_in-=a,r.arraySet(t,e.input,e.next_in,a,i),1===e.state.wrap?e.adler=n(e.adler,t,a,i):2===e.state.wrap&&(e.adler=o(e.adler,t,a,i)),e.next_in+=a,e.total_in+=a,a)}function oe(e,t){var i,s,r=e.max_chain_length,a=e.strstart,n=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-q?e.strstart-(e.w_size-q):0,d=e.window,h=e.w_mask,u=e.prev,l=e.strstart+D,f=d[a+n-1],p=d[a+n];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do{if(i=t,d[i+n]===p&&d[i+n-1]===f&&d[i]===d[a]&&d[++i]===d[a+1]){a+=2,i++;do{}while(d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&a<l);if(s=D-(l-a),a=l-D,s>n){if(e.match_start=t,n=s,s>=o)break;f=d[a+n-1],p=d[a+n]}}}while((t=u[t&h])>c&&0!==--r);return n<=e.lookahead?n:e.lookahead}function ce(e){var t,i,s,a,n,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-q)){r.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,i=e.hash_size,t=i;do{s=e.head[--t],e.head[t]=s>=o?s-o:0}while(--i);i=o,t=i;do{s=e.prev[--t],e.prev[t]=s>=o?s-o:0}while(--i);a+=o}if(0===e.strm.avail_in)break;if(i=ne(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=V){n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+1])&e.hash_mask;while(e.insert)if(e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+V-1])&e.hash_mask,e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,e.lookahead+e.insert<V)break}}while(e.lookahead<q&&0!==e.strm.avail_in)}function de(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ce(e),0===e.lookahead&&t===d)return $;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var s=e.block_start+i;if((0===e.strstart||e.strstart>=s)&&(e.lookahead=e.strstart-s,e.strstart=s,se(e,!1),0===e.strm.avail_out))return $;if(e.strstart-e.block_start>=e.w_size-q&&(se(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===l?(se(e,!0),0===e.strm.avail_out?X:Z):(e.strstart>e.block_start&&(se(e,!1),e.strm.avail_out),$)}function he(e,t){for(var i,s;;){if(e.lookahead<q){if(ce(e),e.lookahead<q&&t===d)return $;if(0===e.lookahead)break}if(i=0,e.lookahead>=V&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-q&&(e.match_length=oe(e,i)),e.match_length>=V)if(s=a._tr_tally(e,e.strstart-e.match_start,e.match_length-V),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=V){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else s=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(se(e,!1),0===e.strm.avail_out))return $}return e.insert=e.strstart<V-1?e.strstart:V-1,t===l?(se(e,!0),0===e.strm.avail_out?X:Z):e.last_lit&&(se(e,!1),0===e.strm.avail_out)?$:Y}function ue(e,t){for(var i,s,r;;){if(e.lookahead<q){if(ce(e),e.lookahead<q&&t===d)return $;if(0===e.lookahead)break}if(i=0,e.lookahead>=V&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=V-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-q&&(e.match_length=oe(e,i),e.match_length<=5&&(e.strategy===w||e.match_length===V&&e.strstart-e.match_start>4096)&&(e.match_length=V-1)),e.prev_length>=V&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-V,s=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-V),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=V-1,e.strstart++,s&&(se(e,!1),0===e.strm.avail_out))return $}else if(e.match_available){if(s=a._tr_tally(e,0,e.window[e.strstart-1]),s&&se(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return $}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<V-1?e.strstart:V-1,t===l?(se(e,!0),0===e.strm.avail_out?X:Z):e.last_lit&&(se(e,!1),0===e.strm.avail_out)?$:Y}function le(e,t){for(var i,s,r,n,o=e.window;;){if(e.lookahead<=D){if(ce(e),e.lookahead<=D&&t===d)return $;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=V&&e.strstart>0&&(r=e.strstart-1,s=o[r],s===o[++r]&&s===o[++r]&&s===o[++r])){n=e.strstart+D;do{}while(s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&r<n);e.match_length=D-(n-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=V?(i=a._tr_tally(e,1,e.match_length-V),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(se(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===l?(se(e,!0),0===e.strm.avail_out?X:Z):e.last_lit&&(se(e,!1),0===e.strm.avail_out)?$:Y}function fe(e,t){for(var i;;){if(0===e.lookahead&&(ce(e),0===e.lookahead)){if(t===d)return $;break}if(e.match_length=0,i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(se(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===l?(se(e,!0),0===e.strm.avail_out?X:Z):e.last_lit&&(se(e,!1),0===e.strm.avail_out)?$:Y}function pe(e,t,i,s,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=s,this.func=r}function me(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=s[e.level].max_lazy,e.good_match=s[e.level].good_length,e.nice_match=s[e.level].nice_length,e.max_chain_length=s[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=V-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*R),this.dyn_dtree=new r.Buf16(2*(2*P+1)),this.bl_tree=new r.Buf16(2*(2*B+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(L+1),this.heap=new r.Buf16(2*M+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*M+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?G:K,e.adler=2===t.wrap?0:1,t.last_flush=d,a._tr_init(t),p):J(e,g)}function ve(e){var t=ye(e);return t===p&&me(e.state),t}function be(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g}function we(e,t,i,s,a,n){if(!e)return g;var o=1;if(t===b&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),a<1||a>x||i!==C||s<8||s>15||t<0||t>9||n<0||n>_)return J(e,g);8===s&&(s=9);var c=new ge;return e.state=c,c.strm=e,c.wrap=o,c.gzhead=null,c.w_bits=s,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+V-1)/V),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=n,c.method=i,ve(e)}function ke(e,t){return we(e,t,C,I,E,O)}function Se(e,t){var i,r,n,c;if(!e||!e.state||t>f||t<0)return e?J(e,g):g;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===W&&t!==l)return J(e,0===e.avail_out?v:g);if(r.strm=e,i=r.last_flush,r.last_flush=t,r.status===G)if(2===r.wrap)e.adler=0,re(r,31),re(r,139),re(r,8),r.gzhead?(re(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),re(r,255&r.gzhead.time),re(r,r.gzhead.time>>8&255),re(r,r.gzhead.time>>16&255),re(r,r.gzhead.time>>24&255),re(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),re(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(re(r,255&r.gzhead.extra.length),re(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=o(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(re(r,0),re(r,0),re(r,0),re(r,0),re(r,0),re(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),re(r,Q),r.status=K);else{var y=C+(r.w_bits-8<<4)<<8,b=-1;b=r.strategy>=k||r.level<2?0:r.level<6?1:6===r.level?2:3,y|=b<<6,0!==r.strstart&&(y|=j),y+=31-y%31,r.status=K,ae(r,y),0!==r.strstart&&(ae(r,e.adler>>>16),ae(r,65535&e.adler)),e.adler=1}if(r.status===U)if(r.gzhead.extra){n=r.pending;while(r.gzindex<(65535&r.gzhead.extra.length)){if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=o(e.adler,r.pending_buf,r.pending-n,n)),ie(e),n=r.pending,r.pending===r.pending_buf_size))break;re(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>n&&(e.adler=o(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=F)}else r.status=F;if(r.status===F)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=o(e.adler,r.pending_buf,r.pending-n,n)),ie(e),n=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,re(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>n&&(e.adler=o(e.adler,r.pending_buf,r.pending-n,n)),0===c&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=o(e.adler,r.pending_buf,r.pending-n,n)),ie(e),n=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,re(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>n&&(e.adler=o(e.adler,r.pending_buf,r.pending-n,n)),0===c&&(r.status=z)}else r.status=z;if(r.status===z&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ie(e),r.pending+2<=r.pending_buf_size&&(re(r,255&e.adler),re(r,e.adler>>8&255),e.adler=0,r.status=K)):r.status=K),0!==r.pending){if(ie(e),0===e.avail_out)return r.last_flush=-1,p}else if(0===e.avail_in&&ee(t)<=ee(i)&&t!==l)return J(e,v);if(r.status===W&&0!==e.avail_in)return J(e,v);if(0!==e.avail_in||0!==r.lookahead||t!==d&&r.status!==W){var w=r.strategy===k?fe(r,t):r.strategy===S?le(r,t):s[r.level].func(r,t);if(w!==X&&w!==Z||(r.status=W),w===$||w===X)return 0===e.avail_out&&(r.last_flush=-1),p;if(w===Y&&(t===h?a._tr_align(r):t!==f&&(a._tr_stored_block(r,0,0,!1),t===u&&(te(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ie(e),0===e.avail_out))return r.last_flush=-1,p}return t!==l?p:r.wrap<=0?m:(2===r.wrap?(re(r,255&e.adler),re(r,e.adler>>8&255),re(r,e.adler>>16&255),re(r,e.adler>>24&255),re(r,255&e.total_in),re(r,e.total_in>>8&255),re(r,e.total_in>>16&255),re(r,e.total_in>>24&255)):(ae(r,e.adler>>>16),ae(r,65535&e.adler)),ie(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?p:m)}function _e(e){var t;return e&&e.state?(t=e.state.status,t!==G&&t!==U&&t!==F&&t!==H&&t!==z&&t!==K&&t!==W?J(e,g):(e.state=null,t===K?J(e,y):p)):g}function Oe(e,t){var i,s,a,o,c,d,h,u,l=t.length;if(!e||!e.state)return g;if(i=e.state,o=i.wrap,2===o||1===o&&i.status!==G||i.lookahead)return g;1===o&&(e.adler=n(e.adler,t,l,0)),i.wrap=0,l>=i.w_size&&(0===o&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new r.Buf8(i.w_size),r.arraySet(u,t,l-i.w_size,i.w_size,0),t=u,l=i.w_size),c=e.avail_in,d=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,ce(i);while(i.lookahead>=V){s=i.strstart,a=i.lookahead-(V-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[s+V-1])&i.hash_mask,i.prev[s&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=s,s++}while(--a);i.strstart=s,i.lookahead=V-1,ce(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=V-1,i.match_available=0,e.next_in=d,e.input=h,e.avail_in=c,i.wrap=o,p}s=[new pe(0,0,0,0,de),new pe(4,4,8,4,he),new pe(4,5,16,8,he),new pe(4,6,32,32,he),new pe(4,4,16,16,ue),new pe(8,16,32,32,ue),new pe(8,16,128,128,ue),new pe(8,32,128,256,ue),new pe(32,128,258,1024,ue),new pe(32,258,258,4096,ue)],t.deflateInit=ke,t.deflateInit2=we,t.deflateReset=ve,t.deflateResetKeep=ye,t.deflateSetHeader=be,t.deflate=Se,t.deflateEnd=_e,t.deflateSetDictionary=Oe,t.deflateInfo="pako deflate (from Nodeca project)"},a18f:function(e,t,i){"use strict";var s=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r)return r;throw new Error("unable to locate global object")},r=s();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},a1c6:function(e,t,i){!function(t,i){e.exports=i()}(0,(function(){return(()=>{"use strict";var e={660:(e,t)=>{t.__esModule=!0,t.EventEmitter=void 0;var i=function(){function e(e){this._events=Object.create(null),this.catchHandler=e||function(){}}return e.prototype.hasListeners=function(e){return!(!this._events[e]||!this._events[e].length)},e.prototype.getActiveEvents=function(){var e=this;return Object.keys(this._events).filter((function(t){return e.hasListeners(t)}))},e.prototype.trigger=function(e,t){var i=this;this._events[e]&&(this._events[e].slice().forEach((function(s){try{s.handler.call(s.context,t)}catch(e){i.catchHandler(e)}s.once&&i.off(e,s.handler)})),this._events[e].length||delete this._events[e])},e.prototype.on=function(e,t,i){this._on(e,t,i,!1)},e.prototype.once=function(e,t,i){this._on(e,t,i,!0)},e.prototype.off=function(e,t){var i=this,s="string"==typeof e?e:null,r="function"==typeof t?t:"function"==typeof e?e:null;if(s)if(r){if(s in this._events){var a=this._events[s].map((function(e){return e.handler})).indexOf(r);this._events[s].splice(a,1)}}else delete this._events[s];else Object.keys(this._events).forEach((function(e){i.off(e,r)}))},e.prototype._on=function(e,t,i,s){this._events[e]||(this._events[e]=[]),this._events[e].push({handler:t,context:i,once:s})},e}();t.EventEmitter=i},607:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};t.__esModule=!0;var a=i(660);r(i(660),t),t.default=a.EventEmitter}},t={};return function i(s){if(t[s])return t[s].exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,i),r.exports}(607)})()}))},a228:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,DDoSProtection:n,InvalidOrder:o,InsufficientFunds:c}=i("74b0"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"btcalpha",name:"BTC-Alpha",countries:["US"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!1,fetchTrades:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42625213-dabaa5da-85cf-11e8-8f99-aa8f8f7699f0.jpg",api:"https://btc-alpha.com/api",www:"https://btc-alpha.com",doc:"https://btc-alpha.github.io/api-docs",fees:"https://btc-alpha.com/fees/",referral:"https://btc-alpha.com/?r=123788"},api:{public:{get:["currencies/","pairs/","orderbook/{pair_name}/","exchanges/","charts/{pair}/{type}/chart/"]},private:{get:["wallets/","orders/own/","order/{id}/","exchanges/own/","deposits/","withdraws/"],post:["order/","order-cancel/"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.00135,LTC:.0035,XMR:.018,ZEC:.002,ETH:.01,ETC:.01,SIB:1.5,CCRB:4,PZM:.05,ITI:.05,DCY:5,R:5,ATB:.05,BRIA:.05,KZC:.05,HWC:1,SPA:1,SMS:.001,REC:.01,SUP:1,BQ:100,GDS:.1,EVN:300,TRKC:.01,UNI:1,STN:1,BCH:void 0,QBIC:.5}}},commonCurrencies:{CBC:"Cashbery"},exceptions:{exact:{},broad:{"Out of balance":c}}})}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"name"),a=this.safeString(e,"currency1"),n=this.safeString(e,"currency2"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,u=this.safeString(e,"price_precision"),l=this.parsePrecision(u),f={amount:8,price:parseInt(u)},p=this.safeString(e,"minimum_order_size");i.push({id:r,symbol:h,base:o,quote:c,active:!0,precision:f,limits:{amount:{min:this.parseNumber(p),max:this.safeNumber(e,"maximum_order_size")},price:{min:this.parseNumber(l),max:void 0},cost:{min:this.parseNumber(d.stringMul(l,p)),max:void 0}},info:e,baseId:void 0,quoteId:void 0})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair_name:this.marketId(e)};t&&(s["limit_sell"]=t,s["limit_buy"]=t);const r=await this.publicGetOrderbookPairName(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"buy","sell","price","amount")}parseBidsAsks(e,t=0,i=1){const s=[];for(let r=0;r<e.length;r++){const a=e[r];a&&s.push(this.parseBidAsk(a,t,i))}return s}parseTrade(e,t){let i=void 0;void 0===t&&(t=this.safeValue(this.markets_by_id,e["pair"])),void 0!==t&&(i=t["symbol"]);const s=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(r),o=this.parseNumber(a),c=this.parseNumber(d.stringMul(r,a)),h=this.safeString2(e,"id","tid"),u=this.safeString2(e,"my_side","side"),l=this.safeString(e,"o_id");return{id:h,info:e,timestamp:s,datetime:this.iso8601(s),symbol:i,order:l,type:"limit",side:u,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["pair"]=r["id"]),void 0!==i&&(a["limit"]=i);const n=await this.publicGetExchanges(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={pair:a["id"],type:this.timeframes[t]};void 0!==s&&(n["limit"]=s),void 0!==i&&(n["since"]=parseInt(i/1e3));const o=await this.publicGetChartsPairTypeChart(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency"),a=this.safeCurrencyCode(r),n=this.account();n["used"]=this.safeString(e,"reserve"),n["total"]=this.safeString(e,"balance"),i[a]=n}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={1:"open",2:"canceled",3:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){let i=void 0;void 0===t&&(t=this.safeValue(this.markets_by_id,e["pair"])),void 0!==t&&(i=t["symbol"]);const s=this.safeTimestamp(e,"date"),r=this.safeNumber(e,"price"),a=this.safeNumber(e,"amount"),n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString2(e,"oid","id");let c=this.safeValue(e,"trades",[]);c=this.parseTrades(c,t);const d=this.safeString2(e,"my_side","type");let h=void 0;const u=c.length;if(u>0){h=0;for(let e=0;e<u;e++)h=this.sum(h,c[e]["amount"])}let l=void 0;return void 0!==a&&a>0&&void 0!==h&&(l=Math.max(0,a-h)),{id:o,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,status:n,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:d,price:r,stopPrice:void 0,cost:void 0,amount:a,filled:h,remaining:l,trades:c,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0}}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),c={pair:n["id"],type:i,amount:s,price:this.priceToPrecision(e,r)},d=await this.privatePostOrder(this.extend(c,a));if(!d["success"])throw new o(this.id+" "+this.json(d));const h=this.parseOrder(d,n);return s=h["amount"]>0?h["amount"]:s,this.extend(h,{amount:s})}async cancelOrder(e,t,i={}){const s={order:e},r=await this.privatePostOrderCancel(this.extend(s,i));return r}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrderId(this.extend(s,i));return this.parseOrder(r)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["pair"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetOrdersOwn(this.extend(r,s));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={status:"1"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"3"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};if(void 0!==e){const t=this.market(e);r["pair"]=t["id"]}void 0!==i&&(r["limit"]=i);const a=await this.privateGetExchangesOwn(this.extend(r,s));return this.parseTrades(a,void 0,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){const n=this.urlencode(this.keysort(this.omit(s,this.extractParams(e))));let o=this.urls["api"]+"/";if("charts/{pair}/{type}/chart/"!==e&&(o+="v1/"),o+=this.implodeParams(e,s),r={Accept:"application/json"},"public"===t)n.length&&(o+="?"+n);else{this.checkRequiredCredentials();let e=this.apiKey;"POST"===i?(r["Content-Type"]="application/x-www-form-urlencoded",a=n,e+=a):n.length&&(o+="?"+n),r["X-KEY"]=this.apiKey,r["X-SIGN"]=this.hmac(this.encode(e),this.encode(this.secret)),r["X-NONCE"]=this.nonce().toString()}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,o,c,d,h,u){if(void 0===d)return;const l=this.safeString(d,"error"),f=this.id+" "+c;if(void 0!==l&&(this.throwExactlyMatchedException(this.exceptions["exact"],l,f),this.throwBroadlyMatchedException(this.exceptions["broad"],l,f)),401===e||403===e)throw new a(f);if(429===e)throw new n(f);if(!(e<400))throw new r(f)}}},a236:function(e,t,i){"use strict";var s=i("ade3"),r=i("b85c"),a=(i("ac1f"),i("1276"),i("a15b"),i("2b0e"));t["a"]=a["a"].extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses:function(){var e=[],t="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)e.push("rounded-0");else if("string"===typeof t){var i,a=t.split(" "),n=Object(r["a"])(a);try{for(n.s();!(i=n.n()).done;){var o=i.value;e.push("rounded-".concat(o))}}catch(c){n.e(c)}finally{n.f()}}else t&&e.push("rounded");return e.length>0?Object(s["a"])({},e.join(" "),!0):{}}}})},a293:function(e,t,i){"use strict";var s=i("53ca"),r=i("dd89");function a(){return!0}function n(e,t,i){if(!e||!1===o(e,i))return!1;var a=Object(r["a"])(t);if(a instanceof ShadowRoot&&a.host===e.target)return!1;var n=("object"===Object(s["a"])(i.value)&&i.value.include||function(){return[]})();return n.push(t),!n.some((function(t){return t.contains(e.target)}))}function o(e,t){var i="object"===Object(s["a"])(t.value)&&t.value.closeConditional||a;return i(e)}function c(e,t,i){var s="function"===typeof i.value?i.value:i.value.handler;t._clickOutside.lastMousedownWasOutside&&n(e,t,i)&&setTimeout((function(){o(e,i)&&s&&s(e)}),0)}function d(e,t){var i=Object(r["a"])(e);t(document.body),i instanceof ShadowRoot&&t(i)}var h={inserted:function(e,t){var i=function(i){return c(i,e,t)},s=function(i){e._clickOutside.lastMousedownWasOutside=n(i,e,t)};d(e,(function(e){e.addEventListener("click",i,!0),e.addEventListener("mousedown",s,!0)})),e._clickOutside={lastMousedownWasOutside:!0,onClick:i,onMousedown:s}},unbind:function(e){e._clickOutside&&(d(e,(function(t){t&&e._clickOutside&&(t.removeEventListener("click",e._clickOutside.onClick,!0),t.removeEventListener("mousedown",e._clickOutside.onMousedown,!0))})),delete e._clickOutside)}};t["a"]=h},a2bf:function(e,t,i){"use strict";var s=i("e8b5"),r=i("50c4"),a=i("0366"),n=function(e,t,i,o,c,d,h,u){var l,f=c,p=0,m=!!h&&a(h,u,3);while(p<o){if(p in i){if(l=m?m(i[p],p,t):i[p],d>0&&s(l))f=n(e,t,l,r(l.length),f,d-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=l}f++}p++}return f};e.exports=n},a3d4:function(e,t,i){"use strict";i.d(t,"Signer",(function(){return b}));var s=i("9ab4"),r=i("a4f4"),a=i("451a"),n=i("ad47"),o=i("8c88"),c=i("91c7"),d=i.n(c),h=i("3ac3"),u=i.n(h),l=i("ab8c"),f=i.n(l),p=i("3ee4"),m=i("5306"),g=i("53a4"),y=i("f29a"),v=i("c260"),b=(i("c2f1"),function(){function e(e){var t,i=this;this._issue=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].ISSUE}))}},this._transfer=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].TRANSFER}))}},this._reissue=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].REISSUE}))}},this._burn=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].BURN}))}},this._lease=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].LEASE}))}},this._exchange=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].EXCHANGE}))}},this._cancelLease=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].CANCEL_LEASE}))}},this._alias=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].ALIAS}))}},this._massTransfer=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].MASS_TRANSFER}))}},this._data=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].DATA}))}},this._sponsorship=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].SPONSORSHIP}))}},this._setScript=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].SET_SCRIPT}))}},this._setAssetScript=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].SET_ASSET_SCRIPT}))}},this._invoke=function(e){return function(t){return i._createPipelineAPI(e,Object(s["a"])(Object(s["a"])({},t),{type:p["TRANSACTION_TYPE"].INVOKE_SCRIPT}))}},this._logger=Object(a["makeConsole"])(Object(a["makeOptions"])(null!==(t=null===e||void 0===e?void 0:e.LOG_LEVEL)&&void 0!==t?t:"production","Signer")),this._handleError=Object(y["a"])(this._logger),this._options=Object(s["a"])(Object(s["a"])({},r["a"]),e||{});var n=Object(m["c"])(this._options),o=n.isValid,c=n.invalidOptions;if(!o){var d=this._handleError(g["a"].SIGNER_OPTIONS,[c]);throw d}var h=function(e){var t=i._handleError(g["a"].NETWORK_BYTE,[{error:e.message,node:i._options.NODE_URL}]);return i._logger.error(t),t};try{this._networkBytePromise=f()(this._options.NODE_URL).catch((function(e){return Promise.reject(h(e))}))}catch(u){throw h(u)}this._logger.info("Signer instance has been successfully created. Options: ",e)}return Object.defineProperty(e.prototype,"_connectPromise",{get:function(){return this.__connectPromise||Promise.reject("Has no provider!")},set:function(e){this.__connectPromise=e},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){return this.currentProvider.on(e,t),this._logger.info('Handler for "'+e+'" has been added.'),this},e.prototype.once=function(e,t){return this.currentProvider.once(e,t),this._logger.info('One-Time handler for "'+e+'" has been added.'),this},e.prototype.off=function(e,t){return this.currentProvider.off(e,t),this._logger.info('Handler for "'+e+'" has been removed.'),this},e.prototype.broadcast=function(e,t){return u()(this._options.NODE_URL,e,t)},e.prototype.getNetworkByte=function(){return this._networkBytePromise},e.prototype.setProvider=function(e){return Object(s["b"])(this,void 0,void 0,(function(){var t,i,r=this;return Object(s["e"])(this,(function(s){if(t=Object(m["b"])(e),!t.isValid)throw i=this._handleError(g["a"].PROVIDER_INTERFACE,[t.invalidProperties]),i;return this.currentProvider=e,this._logger.info("Provider has been set."),this._connectPromise=this._networkBytePromise.then((function(t){return e.connect({NETWORK_BYTE:t,NODE_URL:r._options.NODE_URL}).then((function(){return r._logger.info("Provider has conneced to node."),e})).catch((function(e){var t=r._handleError(g["a"].PROVIDER_CONNECT,[{error:e.message,node:r._options.NODE_URL}]);return r._logger.error(t),Promise.reject(t)}))})),[2]}))}))},e.prototype.getBalance=function(){var e=this;return Promise.all([Object(n["fetchBalanceDetails"])(this._options.NODE_URL,this._userData.address).then((function(e){return{assetId:"WAVES",assetName:"Waves",decimals:8,amount:String(e.available),isMyAsset:!1,tokens:Number(e.available)*Math.pow(10,8),sponsorship:null,isSmart:!1}})),Object(o["fetchAssetsBalance"])(this._options.NODE_URL,this._userData.address).then((function(t){return t.balances.map((function(t){return{assetId:t.assetId,assetName:t.issueTransaction.name,decimals:t.issueTransaction.decimals,amount:String(t.balance),isMyAsset:t.issueTransaction.sender===e._userData.address,tokens:t.balance*Math.pow(10,t.issueTransaction.decimals),isSmart:!!t.issueTransaction.script,sponsorship:null!=t.sponsorBalance&&t.sponsorBalance>Math.pow(10,8)&&(t.minSponsoredAssetFee||0)<t.balance?t.minSponsoredAssetFee:null}}))}))]).then((function(e){var t=e[0],i=e[1];return Object(s["f"])([t],i)}))},e.prototype.login=function(){return Object(s["b"])(this,void 0,void 0,(function(){var e,t,i;return Object(s["e"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),e=this,[4,this.currentProvider.login()];case 1:return e._userData=s.sent(),this._logger.info("Logged in."),[2,this._userData];case 2:if(t=s.sent(),"Error: User rejection!"===t)throw t;throw i=this._handleError(g["a"].PROVIDER_INTERNAL,t.message),i;case 3:return[2]}}))}))},e.prototype.logout=function(){return Object(s["b"])(this,void 0,void 0,(function(){var e,t,i;return Object(s["e"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.currentProvider.logout()];case 1:return s.sent(),this._userData=void 0,this._logger.info("Logged out."),[3,3];case 2:throw e=s.sent(),t=e.message,i=this._handleError(g["a"].PROVIDER_INTERNAL,t),i;case 3:return[2]}}))}))},e.prototype.signMessage=function(e){return this._connectPromise.then((function(t){return t.signMessage(e)}))},e.prototype.signTypedData=function(e){return this._connectPromise.then((function(t){return t.signTypedData(e)}))},e.prototype.getSponsoredBalances=function(){return this.getBalance().then((function(e){return e.filter((function(e){return!!e.sponsorship}))}))},e.prototype.batch=function(e){var t=this,i=function(){return t._sign(e).then((function(e){return e}))};return{sign:i,broadcast:function(e){return i().then((function(i){return t.broadcast(i,e)}))}}},e.prototype.issue=function(e){return this._issue([])(e)},e.prototype.transfer=function(e){return this._transfer([])(e)},e.prototype.reissue=function(e){return this._reissue([])(e)},e.prototype.burn=function(e){return this._burn([])(e)},e.prototype.lease=function(e){return this._lease([])(e)},e.prototype.exchange=function(e){return this._exchange([])(e)},e.prototype.cancelLease=function(e){return this._cancelLease([])(e)},e.prototype.alias=function(e){return this._alias([])(e)},e.prototype.massTransfer=function(e){return this._massTransfer([])(e)},e.prototype.data=function(e){return this._data([])(e)},e.prototype.sponsorship=function(e){return this._sponsorship([])(e)},e.prototype.setScript=function(e){return this._setScript([])(e)},e.prototype.setAssetScript=function(e){return this._setAssetScript([])(e)},e.prototype.invoke=function(e){return this._invoke([])(e)},e.prototype.waitTxConfirm=function(e,t){return d()(this._options.NODE_URL,e,{confirmations:t})},e.prototype._createPipelineAPI=function(e,t){var i=this,r=this,a=e.length?Object(s["f"])(e,[t]):[t],n=Array.isArray(a)?a:[a];return Object(s["a"])(Object(s["a"])({},{issue:this._issue(n),transfer:this._transfer(n),reissue:this._reissue(n),burn:this._burn(n),lease:this._lease(n),exchange:this._exchange(n),cancelLease:this._cancelLease(n),alias:this._alias(n),massTransfer:this._massTransfer(n),data:this._data(n),sponsorship:this._sponsorship(n),setScript:this._setScript(n),setAssetScript:this._setAssetScript(n),invoke:this._invoke(n)}),{sign:function(){return i._sign(a)},broadcast:function(e){return this.sign().then((function(t){return r.broadcast(t,e)}))}})},e.prototype._validate=function(e){var t=Array.isArray(e)?e:[e],i=function(e){return m["a"][e.type](e)},r=function(e){return Object.keys(m["a"]).includes(String(e))},a=t.filter((function(e){var t=e.type;return!r(t)})),n=t.filter((function(e){var t=e.type;return r(t)})),o=n.map(i).filter((function(e){var t=e.isValid;return!t}));return 0===o.length&&0===a.length?{isValid:!0,errors:[]}:{isValid:!1,errors:Object(s["f"])(o.map((function(e){var t=e.transaction,i=e.method,s=e.invalidFields;return"Validation error for "+i+" transaction: "+JSON.stringify(t)+". Invalid arguments: "+(null===s||void 0===s?void 0:s.join(", "))})),a.map((function(e){return"Validation error for transaction "+JSON.stringify(e)+". Unknown transaction type: "+e.type})))}},e.prototype._sign=function(e){var t=this._validate(e);if(t.isValid)return this._connectPromise.then((function(t){return t.sign(e)}));var i=this._handleError(g["a"].API_ARGUMENTS,[t.errors]);throw i},Object(s["c"])([v["c"]],e.prototype,"on",null),Object(s["c"])([v["c"]],e.prototype,"once",null),Object(s["c"])([v["c"]],e.prototype,"off",null),Object(s["c"])([v["c"],v["b"]],e.prototype,"getBalance",null),Object(s["c"])([v["c"]],e.prototype,"login",null),Object(s["c"])([v["c"]],e.prototype,"logout",null),Object(s["c"])([v["a"]],e.prototype,"_sign",null),e}())},a434:function(e,t,i){"use strict";var s=i("23e7"),r=i("23cb"),a=i("a691"),n=i("50c4"),o=i("7b0b"),c=i("65f0"),d=i("8418"),h=i("1dde"),u=h("splice"),l=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var i,s,h,u,g,y,v=o(this),b=n(v.length),w=r(e,b),k=arguments.length;if(0===k?i=s=0:1===k?(i=0,s=b-w):(i=k-2,s=f(l(a(t),0),b-w)),b+i-s>p)throw TypeError(m);for(h=c(v,s),u=0;u<s;u++)g=w+u,g in v&&d(h,u,v[g]);if(h.length=s,i<s){for(u=w;u<b-s;u++)g=u+s,y=u+i,g in v?v[y]=v[g]:delete v[y];for(u=b;u>b-s+i;u--)delete v[u-1]}else if(i>s)for(u=b-s;u>w;u--)g=u+s-1,y=u+i-1,g in v?v[y]=v[g]:delete v[y];for(u=0;u<i;u++)v[u+w]=arguments[u+2];return v.length=b-s+i,h}})},a438:function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},a452:function(e,t,i){"use strict";var s=i("ade3"),r=i("2b0e");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return r["a"].extend({name:"proxyable",model:{prop:e,event:t},props:Object(s["a"])({},e,{required:!1}),data:function(){return{internalLazyValue:this[e]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(e){e!==this.internalLazyValue&&(this.internalLazyValue=e,this.$emit(t,e))}}},watch:Object(s["a"])({},e,(function(e){this.internalLazyValue=e}))})}var n=a();t["a"]=n},a463:function(e,t,i){"use strict";const s=i("90db"),r=i("5524"),a=i("113d"),n=i("74b0"),o="1.52.89";s.ccxtVersion=o;const c={aax:i("19e9"),aofex:i("9782"),ascendex:i("6b3f"),bequant:i("324d"),bibox:i("51d3"),bigone:i("d8be"),binance:i("4a34"),binancecoinm:i("591d"),binanceus:i("27b6"),binanceusdm:i("7727"),bit2c:i("f803"),bitbank:i("35d5"),bitbay:i("13ab"),bitbns:i("2e05"),bitcoincom:i("123c"),bitfinex:i("56af"),bitfinex2:i("1237"),bitflyer:i("b9ff"),bitforex:i("3b1e"),bitget:i("5e97"),bithumb:i("4fed"),bitmart:i("0eb2"),bitmex:i("e49b"),bitpanda:i("2a83"),bitso:i("fd8c"),bitstamp:i("98b3"),bitstamp1:i("5f92"),bittrex:i("5657"),bitvavo:i("8c2d"),bitz:i("de89"),bl3p:i("ccf3"),braziliex:i("a620"),btcalpha:i("a228"),btcbox:i("b9df"),btcmarkets:i("531c"),btctradeua:i("b761"),btcturk:i("8b98"),buda:i("6624"),bw:i("6dd3"),bybit:i("0fc2"),cdax:i("56d3"),cex:i("f832"),coinbase:i("20e7"),coinbaseprime:i("f331"),coinbasepro:i("6299"),coincheck:i("ffca"),coinegg:i("8940"),coinex:i("3b44"),coinfalcon:i("7fd8"),coinfloor:i("2410"),coinmarketcap:i("42cd"),coinmate:i("1f96"),coinone:i("7581"),coinspot:i("63de"),crex24:i("6901"),currencycom:i("3570"),delta:i("bee0"),deribit:i("33ab"),digifinex:i("c11f"),eqonex:i("57a2"),equos:i("67c2"),exmo:i("7d3e"),exx:i("8ae5"),flowbtc:i("926c"),ftx:i("be02"),gateio:i("3924"),gemini:i("485e"),gopax:i("4040"),hbtc:i("edc5"),hitbtc:i("01b4"),hollaex:i("63f9"),huobijp:i("a996"),huobipro:i("0406"),idex:i("d312"),independentreserve:i("b64c"),indodax:i("b109"),itbit:i("f59e"),kraken:i("276e"),kucoin:i("f6e8"),kuna:i("45d6"),latoken:i("d6be"),lbank:i("98d1"),liquid:i("47ee"),luno:i("566f"),lykke:i("ef50"),mercado:i("57ba"),mixcoins:i("d225"),ndax:i("014f"),novadax:i("a569"),oceanex:i("3ab5"),okcoin:i("1087"),okex:i("2aa1"),okex5:i("7ce0"),paymium:i("bd90"),phemex:i("1ee7"),poloniex:i("a5ef"),probit:i("dbd3"),qtrade:i("1f5d"),ripio:i("8961"),stex:i("c9bc"),therock:i("870b"),tidebit:i("c9a9"),tidex:i("e79f"),timex:i("2021"),upbit:i("5d0c"),vcc:i("7140"),wavesexchange:i("0a57"),whitebit:i("01ab"),xena:i("2c9e"),yobit:i("b8fe"),zaif:i("b43e"),zb:i("c6a7")};e.exports=Object.assign({version:o,Exchange:s,Precise:r,exchanges:Object.keys(c)},c,a,n)},a4b3:function(e,t,i){"use strict";t.__esModule=!0;var s=Object.create(null),r=function(e){var t,i=new Float64Array(16);if(e)for(t=0;t<e.length;t++)i[t]=e[t];return i},a=(new Uint8Array(16),new Uint8Array(32));a[0]=9;var n=r(),o=r([1]),c=r([56129,1]),d=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,i,s){e[t]=i>>24&255,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i,e[t+4]=s>>24&255,e[t+5]=s>>16&255,e[t+6]=s>>8&255,e[t+7]=255&s}function m(e,t,i,s,r){var a,n=0;for(a=0;a<r;a++)n|=e[t+a]^i[s+a];return(1&n-1>>>8)-1}function g(e,t,i,s){return m(e,t,i,s,32)}function y(e,t){for(var i=0;i<16;i++)e[i]=0|t[i]}function v(e){var t,i,s=1;for(t=0;t<16;t++)i=e[t]+s+65535,s=Math.floor(i/65536),e[t]=i-65536*s;e[0]+=s-1+37*(s-1)}function b(e,t,i){for(var s,r=~(i-1),a=0;a<16;a++)s=r&(e[a]^t[a]),e[a]^=s,t[a]^=s}function w(e,t){var i,s,a,n=r(),o=r();for(i=0;i<16;i++)o[i]=t[i];for(v(o),v(o),v(o),s=0;s<2;s++){for(n[0]=o[0]-65517,i=1;i<15;i++)n[i]=o[i]-65535-(n[i-1]>>16&1),n[i-1]&=65535;n[15]=o[15]-32767-(n[14]>>16&1),a=n[15]>>16&1,n[14]&=65535,b(o,n,1-a)}for(i=0;i<16;i++)e[2*i]=255&o[i],e[2*i+1]=o[i]>>8}function k(e,t){var i=new Uint8Array(32),s=new Uint8Array(32);return w(i,e),w(s,t),g(i,0,s,0)}function S(e){var t=new Uint8Array(32);return w(t,e),1&t[0]}function _(e,t){for(var i=0;i<16;i++)e[i]=t[2*i]+(t[2*i+1]<<8);e[15]&=32767}function O(e,t,i){for(var s=0;s<16;s++)e[s]=t[s]+i[s]}function T(e,t,i){for(var s=0;s<16;s++)e[s]=t[s]-i[s]}function C(e,t,i){var s,r,a=0,n=0,o=0,c=0,d=0,h=0,u=0,l=0,f=0,p=0,m=0,g=0,y=0,v=0,b=0,w=0,k=0,S=0,_=0,O=0,T=0,C=0,x=0,I=0,E=0,A=0,N=0,M=0,P=0,B=0,R=0,L=i[0],V=i[1],D=i[2],q=i[3],j=i[4],G=i[5],U=i[6],F=i[7],H=i[8],z=i[9],K=i[10],W=i[11],$=i[12],Y=i[13],X=i[14],Z=i[15];s=t[0],a+=s*L,n+=s*V,o+=s*D,c+=s*q,d+=s*j,h+=s*G,u+=s*U,l+=s*F,f+=s*H,p+=s*z,m+=s*K,g+=s*W,y+=s*$,v+=s*Y,b+=s*X,w+=s*Z,s=t[1],n+=s*L,o+=s*V,c+=s*D,d+=s*q,h+=s*j,u+=s*G,l+=s*U,f+=s*F,p+=s*H,m+=s*z,g+=s*K,y+=s*W,v+=s*$,b+=s*Y,w+=s*X,k+=s*Z,s=t[2],o+=s*L,c+=s*V,d+=s*D,h+=s*q,u+=s*j,l+=s*G,f+=s*U,p+=s*F,m+=s*H,g+=s*z,y+=s*K,v+=s*W,b+=s*$,w+=s*Y,k+=s*X,S+=s*Z,s=t[3],c+=s*L,d+=s*V,h+=s*D,u+=s*q,l+=s*j,f+=s*G,p+=s*U,m+=s*F,g+=s*H,y+=s*z,v+=s*K,b+=s*W,w+=s*$,k+=s*Y,S+=s*X,_+=s*Z,s=t[4],d+=s*L,h+=s*V,u+=s*D,l+=s*q,f+=s*j,p+=s*G,m+=s*U,g+=s*F,y+=s*H,v+=s*z,b+=s*K,w+=s*W,k+=s*$,S+=s*Y,_+=s*X,O+=s*Z,s=t[5],h+=s*L,u+=s*V,l+=s*D,f+=s*q,p+=s*j,m+=s*G,g+=s*U,y+=s*F,v+=s*H,b+=s*z,w+=s*K,k+=s*W,S+=s*$,_+=s*Y,O+=s*X,T+=s*Z,s=t[6],u+=s*L,l+=s*V,f+=s*D,p+=s*q,m+=s*j,g+=s*G,y+=s*U,v+=s*F,b+=s*H,w+=s*z,k+=s*K,S+=s*W,_+=s*$,O+=s*Y,T+=s*X,C+=s*Z,s=t[7],l+=s*L,f+=s*V,p+=s*D,m+=s*q,g+=s*j,y+=s*G,v+=s*U,b+=s*F,w+=s*H,k+=s*z,S+=s*K,_+=s*W,O+=s*$,T+=s*Y,C+=s*X,x+=s*Z,s=t[8],f+=s*L,p+=s*V,m+=s*D,g+=s*q,y+=s*j,v+=s*G,b+=s*U,w+=s*F,k+=s*H,S+=s*z,_+=s*K,O+=s*W,T+=s*$,C+=s*Y,x+=s*X,I+=s*Z,s=t[9],p+=s*L,m+=s*V,g+=s*D,y+=s*q,v+=s*j,b+=s*G,w+=s*U,k+=s*F,S+=s*H,_+=s*z,O+=s*K,T+=s*W,C+=s*$,x+=s*Y,I+=s*X,E+=s*Z,s=t[10],m+=s*L,g+=s*V,y+=s*D,v+=s*q,b+=s*j,w+=s*G,k+=s*U,S+=s*F,_+=s*H,O+=s*z,T+=s*K,C+=s*W,x+=s*$,I+=s*Y,E+=s*X,A+=s*Z,s=t[11],g+=s*L,y+=s*V,v+=s*D,b+=s*q,w+=s*j,k+=s*G,S+=s*U,_+=s*F,O+=s*H,T+=s*z,C+=s*K,x+=s*W,I+=s*$,E+=s*Y,A+=s*X,N+=s*Z,s=t[12],y+=s*L,v+=s*V,b+=s*D,w+=s*q,k+=s*j,S+=s*G,_+=s*U,O+=s*F,T+=s*H,C+=s*z,x+=s*K,I+=s*W,E+=s*$,A+=s*Y,N+=s*X,M+=s*Z,s=t[13],v+=s*L,b+=s*V,w+=s*D,k+=s*q,S+=s*j,_+=s*G,O+=s*U,T+=s*F,C+=s*H,x+=s*z,I+=s*K,E+=s*W,A+=s*$,N+=s*Y,M+=s*X,P+=s*Z,s=t[14],b+=s*L,w+=s*V,k+=s*D,S+=s*q,_+=s*j,O+=s*G,T+=s*U,C+=s*F,x+=s*H,I+=s*z,E+=s*K,A+=s*W,N+=s*$,M+=s*Y,P+=s*X,B+=s*Z,s=t[15],w+=s*L,k+=s*V,S+=s*D,_+=s*q,O+=s*j,T+=s*G,C+=s*U,x+=s*F,I+=s*H,E+=s*z,A+=s*K,N+=s*W,M+=s*$,P+=s*Y,B+=s*X,R+=s*Z,a+=38*k,n+=38*S,o+=38*_,c+=38*O,d+=38*T,h+=38*C,u+=38*x,l+=38*I,f+=38*E,p+=38*A,m+=38*N,g+=38*M,y+=38*P,v+=38*B,b+=38*R,r=1,s=a+r+65535,r=Math.floor(s/65536),a=s-65536*r,s=n+r+65535,r=Math.floor(s/65536),n=s-65536*r,s=o+r+65535,r=Math.floor(s/65536),o=s-65536*r,s=c+r+65535,r=Math.floor(s/65536),c=s-65536*r,s=d+r+65535,r=Math.floor(s/65536),d=s-65536*r,s=h+r+65535,r=Math.floor(s/65536),h=s-65536*r,s=u+r+65535,r=Math.floor(s/65536),u=s-65536*r,s=l+r+65535,r=Math.floor(s/65536),l=s-65536*r,s=f+r+65535,r=Math.floor(s/65536),f=s-65536*r,s=p+r+65535,r=Math.floor(s/65536),p=s-65536*r,s=m+r+65535,r=Math.floor(s/65536),m=s-65536*r,s=g+r+65535,r=Math.floor(s/65536),g=s-65536*r,s=y+r+65535,r=Math.floor(s/65536),y=s-65536*r,s=v+r+65535,r=Math.floor(s/65536),v=s-65536*r,s=b+r+65535,r=Math.floor(s/65536),b=s-65536*r,s=w+r+65535,r=Math.floor(s/65536),w=s-65536*r,a+=r-1+37*(r-1),r=1,s=a+r+65535,r=Math.floor(s/65536),a=s-65536*r,s=n+r+65535,r=Math.floor(s/65536),n=s-65536*r,s=o+r+65535,r=Math.floor(s/65536),o=s-65536*r,s=c+r+65535,r=Math.floor(s/65536),c=s-65536*r,s=d+r+65535,r=Math.floor(s/65536),d=s-65536*r,s=h+r+65535,r=Math.floor(s/65536),h=s-65536*r,s=u+r+65535,r=Math.floor(s/65536),u=s-65536*r,s=l+r+65535,r=Math.floor(s/65536),l=s-65536*r,s=f+r+65535,r=Math.floor(s/65536),f=s-65536*r,s=p+r+65535,r=Math.floor(s/65536),p=s-65536*r,s=m+r+65535,r=Math.floor(s/65536),m=s-65536*r,s=g+r+65535,r=Math.floor(s/65536),g=s-65536*r,s=y+r+65535,r=Math.floor(s/65536),y=s-65536*r,s=v+r+65535,r=Math.floor(s/65536),v=s-65536*r,s=b+r+65535,r=Math.floor(s/65536),b=s-65536*r,s=w+r+65535,r=Math.floor(s/65536),w=s-65536*r,a+=r-1+37*(r-1),e[0]=a,e[1]=n,e[2]=o,e[3]=c,e[4]=d,e[5]=h,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=w}function x(e,t){C(e,t,t)}function I(e,t){var i,s=r();for(i=0;i<16;i++)s[i]=t[i];for(i=253;i>=0;i--)x(s,s),2!==i&&4!==i&&C(s,s,t);for(i=0;i<16;i++)e[i]=s[i]}function E(e,t){var i,s=r();for(i=0;i<16;i++)s[i]=t[i];for(i=250;i>=0;i--)x(s,s),1!==i&&C(s,s,t);for(i=0;i<16;i++)e[i]=s[i]}function A(e,t,i){var s,a,n=new Uint8Array(32),o=new Float64Array(80),d=r(),h=r(),u=r(),l=r(),f=r(),p=r();for(a=0;a<31;a++)n[a]=t[a];for(n[31]=127&t[31]|64,n[0]&=248,_(o,i),a=0;a<16;a++)h[a]=o[a],l[a]=d[a]=u[a]=0;for(d[0]=l[0]=1,a=254;a>=0;--a)s=n[a>>>3]>>>(7&a)&1,b(d,h,s),b(u,l,s),O(f,d,u),T(d,d,u),O(u,h,l),T(h,h,l),x(l,f),x(p,d),C(d,u,d),C(u,h,f),O(f,d,u),T(d,d,u),x(h,d),T(u,l,p),C(d,u,c),O(d,d,l),C(u,u,d),C(d,l,p),C(l,h,o),x(h,f),b(d,h,s),b(u,l,s);for(a=0;a<16;a++)o[a+16]=d[a],o[a+32]=u[a],o[a+48]=h[a],o[a+64]=l[a];var m=o.subarray(32),g=o.subarray(16);return I(m,m),C(g,g,m),w(e,g),0}function N(e,t){return A(e,t,a)}var M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(e,t,i,s){var r,a,n,o,c,d,h,u,l,f,p,m,g,y,v,b,w,k,S,_,O,T,C,x,I,E,A=new Int32Array(16),N=new Int32Array(16),P=e[0],B=e[1],R=e[2],L=e[3],V=e[4],D=e[5],q=e[6],j=e[7],G=t[0],U=t[1],F=t[2],H=t[3],z=t[4],K=t[5],W=t[6],$=t[7],Y=0;while(s>=128){for(S=0;S<16;S++)_=8*S+Y,A[S]=i[_+0]<<24|i[_+1]<<16|i[_+2]<<8|i[_+3],N[S]=i[_+4]<<24|i[_+5]<<16|i[_+6]<<8|i[_+7];for(S=0;S<80;S++)if(r=P,a=B,n=R,o=L,c=V,d=D,h=q,u=j,l=G,f=U,p=F,m=H,g=z,y=K,v=W,b=$,O=j,T=$,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=(V>>>14|z<<18)^(V>>>18|z<<14)^(z>>>9|V<<23),T=(z>>>14|V<<18)^(z>>>18|V<<14)^(V>>>9|z<<23),C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,O=V&D^~V&q,T=z&K^~z&W,C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,O=M[2*S],T=M[2*S+1],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,O=A[S%16],T=N[S%16],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,w=65535&I|E<<16,k=65535&C|x<<16,O=w,T=k,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=(P>>>28|G<<4)^(G>>>2|P<<30)^(G>>>7|P<<25),T=(G>>>28|P<<4)^(P>>>2|G<<30)^(P>>>7|G<<25),C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,O=P&B^P&R^B&R,T=G&U^G&F^U&F,C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,u=65535&I|E<<16,b=65535&C|x<<16,O=o,T=m,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=w,T=k,C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,o=65535&I|E<<16,m=65535&C|x<<16,B=r,R=a,L=n,V=o,D=c,q=d,j=h,P=u,U=l,F=f,H=p,z=m,K=g,W=y,$=v,G=b,S%16===15)for(_=0;_<16;_++)O=A[_],T=N[_],C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=A[(_+9)%16],T=N[(_+9)%16],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,w=A[(_+1)%16],k=N[(_+1)%16],O=(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7,T=(k>>>1|w<<31)^(k>>>8|w<<24)^(k>>>7|w<<25),C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,w=A[(_+14)%16],k=N[(_+14)%16],O=(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6,T=(k>>>19|w<<13)^(w>>>29|k<<3)^(k>>>6|w<<26),C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,A[_]=65535&I|E<<16,N[_]=65535&C|x<<16;O=P,T=G,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[0],T=t[0],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[0]=P=65535&I|E<<16,t[0]=G=65535&C|x<<16,O=B,T=U,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[1],T=t[1],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[1]=B=65535&I|E<<16,t[1]=U=65535&C|x<<16,O=R,T=F,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[2],T=t[2],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[2]=R=65535&I|E<<16,t[2]=F=65535&C|x<<16,O=L,T=H,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[3],T=t[3],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[3]=L=65535&I|E<<16,t[3]=H=65535&C|x<<16,O=V,T=z,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[4],T=t[4],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[4]=V=65535&I|E<<16,t[4]=z=65535&C|x<<16,O=D,T=K,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[5],T=t[5],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[5]=D=65535&I|E<<16,t[5]=K=65535&C|x<<16,O=q,T=W,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[6],T=t[6],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[6]=q=65535&I|E<<16,t[6]=W=65535&C|x<<16,O=j,T=$,C=65535&T,x=T>>>16,I=65535&O,E=O>>>16,O=e[7],T=t[7],C+=65535&T,x+=T>>>16,I+=65535&O,E+=O>>>16,x+=C>>>16,I+=x>>>16,E+=I>>>16,e[7]=j=65535&I|E<<16,t[7]=$=65535&C|x<<16,Y+=128,s-=128}return s}function B(e,t,i){var s,r=new Int32Array(8),a=new Int32Array(8),n=new Uint8Array(256),o=i;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,P(r,a,t,i),i%=128,s=0;s<i;s++)n[s]=t[o-i+s];for(n[i]=128,i=256-128*(i<112?1:0),n[i-9]=0,p(n,i-8,o/536870912|0,o<<3),P(r,a,n,i),s=0;s<8;s++)p(e,8*s,r[s],a[s]);return 0}function R(e,t){var i=r(),s=r(),a=r(),n=r(),o=r(),c=r(),d=r(),u=r(),l=r();T(i,e[1],e[0]),T(l,t[1],t[0]),C(i,i,l),O(s,e[0],e[1]),O(l,t[0],t[1]),C(s,s,l),C(a,e[3],t[3]),C(a,a,h),C(n,e[2],t[2]),O(n,n,n),T(o,s,i),T(c,n,a),O(d,n,a),O(u,s,i),C(e[0],o,c),C(e[1],u,d),C(e[2],d,c),C(e[3],o,u)}function L(e,t,i){for(var s=0;s<4;s++)b(e[s],t[s],i)}function V(e,t){var i=r(),s=r(),a=r();I(a,t[2]),C(i,t[0],a),C(s,t[1],a),w(e,s),e[31]^=S(i)<<7}function D(e,t,i){var s,r;for(y(e[0],n),y(e[1],o),y(e[2],o),y(e[3],n),r=255;r>=0;--r)s=i[r/8|0]>>(7&r)&1,L(e,t,s),R(t,e),R(e,e),L(e,t,s)}function q(e,t){var i=[r(),r(),r(),r()];y(i[0],u),y(i[1],l),y(i[2],o),C(i[3],u,l),D(e,i,t)}var j=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function G(e,t){var i,s,r,a;for(s=63;s>=32;--s){for(i=0,r=s-32,a=s-12;r<a;++r)t[r]+=i-16*t[s]*j[r-(s-32)],i=t[r]+128>>8,t[r]-=256*i;t[r]+=i,t[s]=0}for(i=0,r=0;r<32;r++)t[r]+=i-(t[31]>>4)*j[r],i=t[r]>>8,t[r]&=255;for(r=0;r<32;r++)t[r]-=i*j[r];for(s=0;s<32;s++)t[s+1]+=t[s]>>8,e[s]=255&t[s]}function U(e){var t,i=new Float64Array(64);for(t=0;t<64;t++)i[t]=e[t];for(t=0;t<64;t++)e[t]=0;G(e,i)}function F(e,t,i,s){new Uint8Array(64);var a,n,o=new Uint8Array(64),c=new Uint8Array(64),d=new Float64Array(64),h=[r(),r(),r(),r()];for(a=0;a<i;a++)e[64+a]=t[a];for(a=0;a<32;a++)e[32+a]=s[a];for(B(c,e.subarray(32),i+32),U(c),q(h,c),V(e,h),a=0;a<32;a++)e[a+32]=s[32+a];for(B(o,e,i+64),U(o),a=0;a<64;a++)d[a]=0;for(a=0;a<32;a++)d[a]=c[a];for(a=0;a<32;a++)for(n=0;n<32;n++)d[a+n]+=o[a]*s[n];return G(e.subarray(32),d),i+64}function H(e,t,i,s,a){new Uint8Array(64);var n,o,c=new Uint8Array(64),d=new Uint8Array(64),h=new Float64Array(64),u=[r(),r(),r(),r()];for(e[0]=254,n=1;n<32;n++)e[n]=255;for(n=0;n<32;n++)e[32+n]=s[n];for(n=0;n<i;n++)e[64+n]=t[n];for(n=0;n<64;n++)e[i+64+n]=a[n];for(B(d,e,i+128),U(d),q(u,d),V(e,u),n=0;n<32;n++)e[n+32]=s[32+n];for(B(c,e,i+64),U(c),n=0;n<64;n++)e[i+64+n]=0;for(n=0;n<64;n++)h[n]=0;for(n=0;n<32;n++)h[n]=d[n];for(n=0;n<32;n++)for(o=0;o<32;o++)h[n+o]+=c[n]*s[o];return G(e.subarray(32,i+64),h),i+64}function z(e,t,i,s,a){for(var n=new Uint8Array(64),o=[r(),r(),r(),r()],c=0;c<32;c++)n[c]=s[c];n[0]&=248,n[31]&=127,n[31]|=64,q(o,n),V(n.subarray(32),o);var d,h=128&n[63];return d=a?H(e,t,i,n,a):F(e,t,i,n),e[63]|=h,d}function K(e,t){var i=r(),s=r(),a=r(),c=r(),h=r(),u=r(),l=r();return y(e[2],o),_(e[1],t),x(a,e[1]),C(c,a,d),T(a,a,e[2]),O(c,e[2],c),x(h,c),x(u,h),C(l,u,h),C(i,l,a),C(i,i,c),E(i,i),C(i,i,a),C(i,i,c),C(i,i,c),C(e[0],i,c),x(s,e[0]),C(s,s,c),k(s,a)&&C(e[0],e[0],f),x(s,e[0]),C(s,s,c),k(s,a)?-1:(S(e[0])===t[31]>>7&&T(e[0],n,e[0]),C(e[3],e[0],e[1]),0)}function W(e,t,i,s){var a,n,o=new Uint8Array(32),c=new Uint8Array(64),d=[r(),r(),r(),r()],h=[r(),r(),r(),r()];if(n=-1,i<64)return-1;if(K(h,s))return-1;for(a=0;a<i;a++)e[a]=t[a];for(a=0;a<32;a++)e[a+32]=s[a];if(B(c,e,i),U(c),D(d,h,c),q(h,t.subarray(32)),R(d,h),V(o,d),i-=64,g(t,0,o,0)){for(a=0;a<i;a++)e[a]=0;return-1}for(a=0;a<i;a++)e[a]=t[a+64];return n=i,n}function $(e){var t=new Uint8Array(32),i=r(),s=r(),a=r();return _(i,e),O(s,i,o),T(a,i,o),I(s,s),C(s,s,a),w(t,s),t}function Y(e,t,i,s){var r=$(s);return r[31]|=128&t[63],t[63]&=127,W(e,t,i,r)}function X(){for(var e,t,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}s.sharedKey=function(e,t){if(X(t,e),32!==t.length)throw new Error("wrong public key length");if(32!==e.length)throw new Error("wrong secret key length");var i=new Uint8Array(32);return A(i,e,t),i},s.signMessage=function(e,t,i){if(X(t,e),32!==e.length)throw new Error("wrong secret key length");if(i){if(X(i),64!==i.length)throw new Error("wrong random data length");var s=new Uint8Array(128+t.length);return z(s,t,t.length,e,i),new Uint8Array(s.subarray(0,64+t.length))}var r=new Uint8Array(64+t.length);return z(r,t,t.length,e),r},s.openMessage=function(e,t){if(X(t,e),32!==e.length)throw new Error("wrong public key length");var i=new Uint8Array(t.length),s=Y(i,t,t.length,e);if(s<0)return null;for(var r=new Uint8Array(s),a=0;a<r.length;a++)r[a]=i[a];return r},s.sign=function(e,t,i){if(X(e,t),32!==e.length)throw new Error("wrong secret key length");if(i&&(X(i),64!==i.length))throw new Error("wrong random data length");var s=new Uint8Array((i?128:64)+t.length);z(s,t,t.length,e,i);for(var r=new Uint8Array(64),a=0;a<r.length;a++)r[a]=s[a];return r},s.verify=function(e,t,i){if(X(t,i,e),64!==i.length)throw new Error("wrong signature length");if(32!==e.length)throw new Error("wrong public key length");var s,r=new Uint8Array(64+t.length),a=new Uint8Array(64+t.length);for(s=0;s<64;s++)r[s]=i[s];for(s=0;s<t.length;s++)r[s+64]=t[s];return Y(a,r,r.length,e)>=0},s.generateKeyPair=function(e){if(X(e),32!==e.length)throw new Error("wrong seed length");for(var t=new Uint8Array(32),i=new Uint8Array(32),s=0;s<32;s++)t[s]=e[s];return N(i,t),t[0]&=248,t[31]&=127,t[31]|=64,i[31]&=127,{public:i,private:t}},t["default"]=s},a4b4:function(e,t,i){var s=i("342f");e.exports=/web0s(?!.*chrome)/i.test(s)},a4d3:function(e,t,i){"use strict";var s=i("23e7"),r=i("da84"),a=i("d066"),n=i("c430"),o=i("83ab"),c=i("4930"),d=i("fdbf"),h=i("d039"),u=i("5135"),l=i("e8b5"),f=i("861d"),p=i("825a"),m=i("7b0b"),g=i("fc6a"),y=i("c04e"),v=i("5c6c"),b=i("7c73"),w=i("df75"),k=i("241c"),S=i("057f"),_=i("7418"),O=i("06cf"),T=i("9bf2"),C=i("d1e7"),x=i("9112"),I=i("6eeb"),E=i("5692"),A=i("f772"),N=i("d012"),M=i("90e3"),P=i("b622"),B=i("e538"),R=i("746f"),L=i("d44e"),V=i("69f3"),D=i("b727").forEach,q=A("hidden"),j="Symbol",G="prototype",U=P("toPrimitive"),F=V.set,H=V.getterFor(j),z=Object[G],K=r.Symbol,W=a("JSON","stringify"),$=O.f,Y=T.f,X=S.f,Z=C.f,Q=E("symbols"),J=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ie=E("wks"),se=r.QObject,re=!se||!se[G]||!se[G].findChild,ae=o&&h((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,i){var s=$(z,t);s&&delete z[t],Y(e,t,i),s&&e!==z&&Y(z,t,s)}:Y,ne=function(e,t){var i=Q[e]=b(K[G]);return F(i,{type:j,tag:e,description:t}),o||(i.description=t),i},oe=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ce=function(e,t,i){e===z&&ce(J,t,i),p(e);var s=y(t,!0);return p(i),u(Q,s)?(i.enumerable?(u(e,q)&&e[q][s]&&(e[q][s]=!1),i=b(i,{enumerable:v(0,!1)})):(u(e,q)||Y(e,q,v(1,{})),e[q][s]=!0),ae(e,s,i)):Y(e,s,i)},de=function(e,t){p(e);var i=g(t),s=w(i).concat(pe(i));return D(s,(function(t){o&&!ue.call(i,t)||ce(e,t,i[t])})),e},he=function(e,t){return void 0===t?b(e):de(b(e),t)},ue=function(e){var t=y(e,!0),i=Z.call(this,t);return!(this===z&&u(Q,t)&&!u(J,t))&&(!(i||!u(this,t)||!u(Q,t)||u(this,q)&&this[q][t])||i)},le=function(e,t){var i=g(e),s=y(t,!0);if(i!==z||!u(Q,s)||u(J,s)){var r=$(i,s);return!r||!u(Q,s)||u(i,q)&&i[q][s]||(r.enumerable=!0),r}},fe=function(e){var t=X(g(e)),i=[];return D(t,(function(e){u(Q,e)||u(N,e)||i.push(e)})),i},pe=function(e){var t=e===z,i=X(t?J:g(e)),s=[];return D(i,(function(e){!u(Q,e)||t&&!u(z,e)||s.push(Q[e])})),s};if(c||(K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),i=function(e){this===z&&i.call(J,e),u(this,q)&&u(this[q],t)&&(this[q][t]=!1),ae(this,t,v(1,e))};return o&&re&&ae(z,t,{configurable:!0,set:i}),ne(t,e)},I(K[G],"toString",(function(){return H(this).tag})),I(K,"withoutSetter",(function(e){return ne(M(e),e)})),C.f=ue,T.f=ce,O.f=le,k.f=S.f=fe,_.f=pe,B.f=function(e){return ne(P(e),e)},o&&(Y(K[G],"description",{configurable:!0,get:function(){return H(this).description}}),n||I(z,"propertyIsEnumerable",ue,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),D(w(ie),(function(e){R(e)})),s({target:j,stat:!0,forced:!c},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var i=K(t);return ee[t]=i,te[i]=t,i},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),s({target:"Object",stat:!0,forced:!c,sham:!o},{create:he,defineProperty:ce,defineProperties:de,getOwnPropertyDescriptor:le}),s({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),s({target:"Object",stat:!0,forced:h((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(m(e))}}),W){var me=!c||h((function(){var e=K();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));s({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,i){var s,r=[e],a=1;while(arguments.length>a)r.push(arguments[a++]);if(s=t,(f(t)||void 0!==e)&&!oe(e))return l(t)||(t=function(e,t){if("function"==typeof s&&(t=s.call(this,e,t)),!oe(t))return t}),r[1]=t,W.apply(null,r)}})}K[G][U]||x(K[G],U,K[G].valueOf),L(K,j),N[q]=!0},a4f4:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s={NODE_URL:"https://nodes.wavesplatform.com",LOG_LEVEL:"production"};Math.pow(10,8)},a523:function(e,t,i){"use strict";i("4de4"),i("b64b"),i("2ca0"),i("99af"),i("20f6"),i("4b85"),i("498a"),i("a15b");var s=i("2b0e");function r(e){return s["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,i){var s=i.props,r=i.data,a=i.children;r.staticClass="".concat(e," ").concat(r.staticClass||"").trim();var n=r.attrs;if(n){r.attrs={};var o=Object.keys(n).filter((function(e){if("slot"===e)return!1;var t=n[e];return e.startsWith("data-")?(r.attrs[e]=t,!1):t||"string"===typeof t}));o.length&&(r.staticClass+=" ".concat(o.join(" ")))}return s.id&&(r.domProps=r.domProps||{},r.domProps.id=s.id),t(s.tag,r,a)}})}var a=i("d9f7");t["a"]=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var i,s=t.props,r=t.data,n=t.children,o=r.attrs;return o&&(r.attrs={},i=Object.keys(o).filter((function(e){if("slot"===e)return!1;var t=o[e];return e.startsWith("data-")?(r.attrs[e]=t,!1):t||"string"===typeof t}))),s.id&&(r.domProps=r.domProps||{},r.domProps.id=s.id),e(s.tag,Object(a["a"])(r,{staticClass:"container",class:Array({"container--fluid":s.fluid}).concat(i||[])}),n)}})},a569:function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,PermissionDenied:n,BadRequest:o,CancelPending:c,OrderNotFound:d,InsufficientFunds:h,RateLimitExceeded:u,InvalidOrder:l,AccountSuspended:f,BadSymbol:p,OnMaintenance:m}=i("74b0"),{TRUNCATE:g}=i("5ea4"),y=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"novadax",name:"NovaDAX",countries:["BR"],rateLimit:50,version:"v1",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"ONE_MIN","5m":"FIVE_MIN","15m":"FIFTEEN_MIN","30m":"HALF_HOU","1h":"ONE_HOU","1d":"ONE_DAY","1w":"ONE_WEE","1M":"ONE_MON"},urls:{logo:"https://user-images.githubusercontent.com/1294454/92337550-2b085500-f0b3-11ea-98e7-5794fb07dd3b.jpg",api:{public:"https://api.novadax.com",private:"https://api.novadax.com"},www:"https://www.novadax.com.br",doc:["https://doc.novadax.com/pt-BR/"],fees:"https://www.novadax.com.br/fees-and-limits",referral:"https://www.novadax.com.br/?s=ccxt"},api:{public:{get:["common/symbol","common/symbols","common/timestamp","market/tickers","market/ticker","market/depth","market/trades","market/kline/history"]},private:{get:["orders/get","orders/list","orders/fill","orders/fills","account/getBalance","account/subs","account/subs/balance","account/subs/transfer/record","wallet/query/deposit-withdraw"],post:["orders/create","orders/cancel","account/withdraw/coin","account/subs/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.005,maker:.003}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{A99999:a,A10001:o,A10002:a,A10003:r,A10004:u,A10005:n,A10006:f,A10007:o,A10011:p,A10012:p,A10013:m,A30001:d,A30002:l,A30003:l,A30004:l,A30005:l,A30006:l,A30007:h,A30008:l,A30009:l,A30010:c,A30011:l,A30012:l},broad:{}},options:{fetchOHLCV:{volume:"amount"}}})}async fetchTime(e={}){const t=await this.publicGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){const t=await this.publicGetCommonSymbols(e),i=[],s=this.safeValue(t,"data",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quoteCurrency"),n=this.safeString(e,"symbol"),o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:this.safeInteger(e,"amountPrecision"),price:this.safeInteger(e,"pricePrecision"),cost:this.safeInteger(e,"valuePrecision")},u={amount:{min:this.safeNumber(e,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minOrderValue"),max:void 0}},l=this.safeString(e,"status"),f="ONLINE"===l;i.push({id:n,symbol:d,base:o,quote:c,baseId:t,quoteId:a,precision:h,limits:u,info:e,active:f})}return i}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t,"_"),a=this.safeNumber(e,"open24h"),n=this.safeNumber(e,"lastPrice");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(c=n-a,o=c/a*100,d=this.sum(n,a)/2);const h=this.safeNumber(e,"baseVolume24h"),u=this.safeNumber(e,"quoteVolume24h"),l=this.vwap(h,u);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low24h"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:l,open:a,close:n,last:n,previousClose:void 0,change:c,percentage:o,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetMarketTicker(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),s=this.safeValue(i,"data",[]),r={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==t&&(s["limit"]=t);const r=await this.publicGetMarketDepth(this.extend(s,i)),a=this.safeValue(r,"data",{}),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks")}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"orderId"),r=this.safeInteger(e,"timestamp"),a=this.safeStringLower(e,"side"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),d=this.parseNumber(o);let h=this.safeNumber(e,"volume");void 0===h&&(h=this.parseNumber(y.stringMul(n,o)));const u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t,"_"),f=this.safeStringLower(e,"role"),p=this.safeString(e,"fee");let m=void 0;if(void 0!==p){const e=p.split(" "),t=this.safeString(e,1),i=this.safeCurrencyCode(t);m={cost:this.safeNumber(e,0),currency:i}}return{id:i,order:s,timestamp:r,datetime:this.iso8601(r),symbol:l,type:void 0,side:a,price:c,amount:d,cost:h,takerOrMaker:f,fee:m,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetMarketTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],unit:this.timeframes[t]},o=this.parseTimeframe(t),c=this.seconds();if(void 0===s&&(s=3e3),void 0===i)n["from"]=c-s*o,n["to"]=c;else{const e=parseInt(i/1e3);n["from"]=e,n["to"]=this.sum(e,s*o)}const d=await this.publicGetMarketKlineHistory(this.extend(n,r)),h=this.safeValue(d,"data",[]);return this.parseOHLCVs(h,a,t,i,s)}parseOHLCV(e,t){const i=this.safeValue(this.options,"fetchOHLCV",{}),s=this.safeString(i,"volume","amount");return[this.safeTimestamp(e,"score"),this.safeNumber(e,"openPrice"),this.safeNumber(e,"highPrice"),this.safeNumber(e,"lowPrice"),this.safeNumber(e,"closePrice"),this.safeNumber(e,s)]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountGetBalance(e),i=this.safeValue(t,"data",[]),s={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["total"]=this.safeString(e,"available"),n["free"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"hold"),s[a]=n}return this.parseBalance(s,!1)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c=i.toUpperCase(),d={symbol:n["id"],type:o,side:c};if("LIMIT"===o)d["price"]=this.priceToPrecision(e,r),d["amount"]=this.amountToPrecision(e,s);else if("MARKET"===o)if("SELL"===c)d["amount"]=this.amountToPrecision(e,s);else if("BUY"===c){let e=this.safeNumber(a,"value");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==r)void 0===e&&(e=s*r);else if(void 0===e)throw new l(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'value' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?s:e;const i=n["precision"]["price"];d["value"]=this.decimalToPrecision(e,g,i,this.precisionMode)}const h=await this.privatePostOrdersCreate(this.extend(d,a)),u=this.safeValue(h,"data",{});return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePostOrdersCancel(this.extend(s,i)),a=this.safeValue(r,"data",{});return this.parseOrder(a)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrdersGet(this.extend(s,i)),a=this.safeValue(r,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["symbol"]=a["id"]),void 0!==i&&(r["limit"]=i),void 0!==t&&(r["fromTimestamp"]=t);const n=await this.privateGetOrdersList(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,a,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={status:"SUBMITTED,PROCESSING,PARTIAL_FILLED,CANCELING"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"FILLED,CANCELED,REJECTED"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a={id:e},n=await this.privateGetOrdersFill(this.extend(a,r));let o=void 0;void 0!==t&&(o=this.market(t));const c=this.safeValue(n,"data",[]);return this.parseTrades(c,o,i,s)}parseOrderStatus(e){const t={SUBMITTED:"open",PROCESSING:"open",PARTIAL_FILLED:"open",CANCELING:"open",FILLED:"closed",CANCELED:"canceled",REJECTED:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeNumber(e,"amount"),r=this.safeNumber(e,"price"),a=this.safeNumber(e,"filledValue"),n=this.safeStringLower(e,"type"),o=this.safeStringLower(e,"side"),c=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeInteger(e,"timestamp"),h=this.safeNumber(e,"averagePrice"),u=this.safeNumber(e,"filledAmount");let l=void 0;const f=this.safeNumber(e,"filledFee");void 0!==f&&(l={cost:f,currency:void 0});const p=this.safeString(e,"symbol"),m=this.safeSymbol(p,t,"_");return this.safeOrder({id:i,clientOrderId:void 0,info:e,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:m,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:r,stopPrice:void 0,amount:s,cost:a,average:h,filled:u,remaining:void 0,status:c,fee:l,trades:void 0})}async withdraw(e,t,i,s,r={}){await this.loadMarkets();const a=this.currency(e),n={code:a["id"],amount:this.currencyToPrecision(e,t),wallet:i};void 0!==s&&(n["tag"]=s);const o=await this.privatePostAccountWithdrawCoin(this.extend(n,r));return this.parseTransaction(o,a)}async fetchAccounts(e={}){const t=await this.privateGetAccountSubs(e),i=this.safeValue(t,"data",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"subId"),a=this.safeString(e,"subAccount");s.push({id:t,type:a,currency:void 0,info:e})}return s}async fetchDeposits(e,t,i,s={}){const r={type:"coin_in"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchWithdrawals(e,t,i,s={}){const r={type:"coin_out"};return await this.fetchTransactions(e,t,i,this.extend(r,s))}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["size"]=i);const n=await this.privateGetWalletQueryDepositWithdraw(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i)}parseTransactionStatus(e){const t=e.split(" ");e=this.safeString(t,1,e);const i={Pending:"pending",confirming:"pending",SUCCESS:"ok",FAIL:"failed"};return this.safeString(i,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","data");let s=this.safeString(e,"type");"COIN_IN"===s?s="deposit":"COIN_OUT"===s&&(s="withdraw");const r=this.safeNumber(e,"amount"),a=this.safeString(e,"address"),n=this.safeString(e,"addressTag"),o=this.safeString(e,"txHash"),c=this.safeInteger(e,"createdAt"),d=this.safeInteger(e,"updatedAt"),h=this.safeString(e,"currency"),u=this.safeCurrencyCode(h,t),l=this.parseTransactionStatus(this.safeString(e,"state"));return{info:e,id:i,currency:u,amount:r,address:a,addressTo:a,addressFrom:void 0,tag:n,tagTo:n,tagFrom:void 0,status:l,type:s,updated:d,txid:o,timestamp:c,datetime:this.iso8601(c),fee:void 0}}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["symbol"]=a["id"]),void 0!==i&&(r["limit"]=i),void 0!==t&&(r["fromTimestamp"]=t);const n=await this.privateGetOrdersFills(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,a,t,i)}sign(e,t="public",i="GET",s={},r,a){const n="/"+this.version+"/"+this.implodeParams(e,s);let o=this.urls["api"][t]+n;const c=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();r={"X-Nova-Access-Key":this.apiKey,"X-Nova-Timestamp":e};let t=void 0;"POST"===i?(a=this.json(c),t=this.hash(a,"md5"),r["Content-Type"]="application/json"):(Object.keys(c).length&&(o+="?"+this.urlencode(c)),t=this.urlencode(this.keysort(c)));const s=i+"\n"+n+"\n"+t+"\n"+e;r["X-Nova-Signature"]=this.hmac(this.encode(s),this.encode(this.secret))}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code");if("A10000"!==h){const e=this.safeString(o,"message"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new a(t)}}}},a5ef:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ExchangeNotAvailable:a,RequestTimeout:n,AuthenticationError:o,PermissionDenied:c,DDoSProtection:d,InsufficientFunds:h,OrderNotFound:u,InvalidOrder:l,AccountSuspended:f,CancelPending:p,InvalidNonce:m,OnMaintenance:g,BadSymbol:y}=i("74b0"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"poloniex",name:"Poloniex",countries:["US"],rateLimit:1e3,certified:!1,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrder:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,cancelAllOrders:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://www.poloniex.com",doc:"https://docs.poloniex.com",fees:"https://poloniex.com/fees",referral:"https://poloniex.com/signup?c=UBFZJRPJ"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","cancelAllOrders","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnOrderStatus","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{feeSide:"get",maker:9e-4,taker:9e-4},funding:{}},limits:{amount:{min:1e-6,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",KEY:"KEYCoin",PLX:"ParallaxCoin",REPV2:"REP",STR:"XLM",SOC:"SOCC",XAP:"API Coin",USDTTRON:"USDT",USDTETH:"USDT"},options:{limits:{cost:{min:{BTC:1e-4,ETH:1e-4,USDT:1,TRX:100,BNB:.06,USDC:1,USDJ:1,TUSD:1e-4,DAI:1,PAX:1,BUSD:1}}}},exceptions:{exact:{"You may only place orders that reduce your position.":l,"Invalid order number, or you are not the person who placed the order.":u,"Permission denied":c,"Connection timed out. Please try again.":n,"Internal error. Please try again.":a,"Currently in maintenance mode.":g,"Order not found, or you are not the person who placed it.":u,"Invalid API key/secret pair.":o,"Please do not make more than 8 API calls per second.":d,"Rate must be greater than zero.":l,"Invalid currency pair.":y,"Invalid currencyPair parameter.":y,"Trading is disabled in this market.":y,"Invalid orderNumber parameter.":u},broad:{"Total must be at least":l,"This account is frozen.":f,"Not enough":h,"Nonce must be greater":m,"You have already called cancelOrder or moveOrder on this order.":p,"Amount must be at least":l,"is either completed or does not exist":u,"Error pulling ":r}}})}parseOHLCV(e,t){return[this.safeTimestamp(e,"date"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"quoteVolume")]}async fetchOHLCV(e,t="5m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={currencyPair:a["id"],period:this.timeframes[t]};if(void 0===i)n["end"]=this.seconds(),n["start"]=void 0===s?n["end"]-this.parseTimeframe("1w"):n["end"]-s*this.parseTimeframe(t);else if(n["start"]=parseInt(i/1e3),void 0!==s){const e=this.sum(n["start"],s*this.parseTimeframe(t));n["end"]=e}const o=await this.publicGetReturnChartData(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t),s=this.safeValue(this.options,"currenciesByNumericId");return(void 0===s||e)&&(this.options["currenciesByNumericId"]=this.indexBy(this.currencies,"numericId")),i}async fetchMarkets(e={}){const t=await this.publicGetReturnTicker(e),i=Object.keys(t),s=[];for(let r=0;r<i.length;r++){const e=i[r],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(o),d=this.safeCurrencyCode(n),h=c+"/"+d,u=this.extend(this.limits,{cost:{min:this.safeValue(this.options["limits"]["cost"]["min"],d)}}),l=this.safeString(a,"isFrozen"),f="1"!==l,p=this.safeInteger(a,"id");s.push({id:e,numericId:p,symbol:h,baseId:o,quoteId:n,base:c,quote:d,active:f,limits:u,info:a})}return s}async fetchBalance(e={}){await this.loadMarkets();const t={account:"all"},i=await this.privatePostReturnCompleteBalances(this.extend(t,e)),s={info:i,timestamp:void 0,datetime:void 0},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeValue(i,e,{}),n=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(t,"available"),o["used"]=this.safeString(t,"onOrders"),s[n]=o}return this.parseBalance(s,!1)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostReturnFeeInfo(e);return{info:t,maker:this.safeNumber(t,"makerFee"),taker:this.safeNumber(t,"takerFee"),withdraw:{},deposit:{}}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={currencyPair:this.marketId(e)};void 0!==t&&(s["depth"]=t);const r=await this.publicGetReturnOrderBook(this.extend(s,i)),a=this.parseOrderBook(r,e);return a["nonce"]=this.safeInteger(r,"seq"),a}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const s={currencyPair:"all"};void 0!==t&&(s["depth"]=t);const r=await this.publicGetReturnOrderBook(this.extend(s,i)),a=Object.keys(r),n={};for(let o=0;o<a.length;o++){const e=a[o];let t=void 0;if(e in this.markets_by_id)t=this.markets_by_id[e]["symbol"];else{const[i,s]=e.split("_"),r=this.safeCurrencyCode(s),a=this.safeCurrencyCode(i);t=r+"/"+a}const i=this.parseOrderBook(r[e],t);i["nonce"]=this.safeInteger(r[e],"seq"),n[t]=i}return n}parseTicker(e,t){const i=this.milliseconds();let s=void 0;t&&(s=t["symbol"]);let r=void 0,a=void 0,n=void 0;const o=this.safeNumber(e,"last"),c=this.safeNumber(e,"percentChange");return-1!==c&&(r=o/this.sum(1,c),a=o-r,n=this.sum(o,r)/2),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24hr"),low:this.safeNumber(e,"low24hr"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:r,close:o,last:o,previousClose:void 0,change:a,percentage:100*c,average:n,baseVolume:this.safeNumber(e,"quoteVolume"),quoteVolume:this.safeNumber(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetReturnTicker(t),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a];let t=void 0,n=void 0;if(e in this.markets_by_id)n=this.markets_by_id[e],t=n["symbol"];else{const[i,s]=e.split("_"),r=this.safeCurrencyCode(s),a=this.safeCurrencyCode(i);t=r+"/"+a,n={symbol:t}}const o=i[e];r[t]=this.parseTicker(o,n)}return this.filterByArray(r,"symbol",e)}async fetchCurrencies(e={}){const t=await this.publicGetReturnCurrencies(e),i=Object.keys(t),s={};for(let r=0;r<i.length;r++){const e=i[r],a=t[e],n=8,o="1e-8",c=this.safeCurrencyCode(e),d=0===a["delisted"]&&!a["disabled"],h=this.safeInteger(a,"id"),u=this.safeNumber(a,"txFee");s[c]={id:e,numericId:h,code:c,info:a,name:a["name"],active:d,fee:u,precision:n,limits:{amount:{min:this.parseNumber(o),max:void 0},withdraw:{min:u,max:void 0}}}}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s=await this.publicGetReturnTicker(t),r=s[i["id"]];return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeString2(e,"globalTradeID","tradeID"),s=this.safeString(e,"orderNumber"),r=this.parse8601(this.safeString(e,"date"));let a=void 0;if(!t&&"currencyPair"in e){const i=this.safeString(e,"currencyPair");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const[e,t]=i.split("_"),s=this.safeCurrencyCode(t),r=this.safeCurrencyCode(e);a=s+"/"+r}}void 0===a&&void 0!==t&&(a=t["symbol"]);const n=this.safeString(e,"type");let o=void 0;const c=this.safeString(e,"rate"),d=this.safeString(e,"amount"),h=this.parseNumber(c),u=this.parseNumber(d);let l=void 0,f=this.safeString(e,"total");void 0===f?(f=v.stringMul(c,d),l=this.parseNumber(f)):l=this.parseNumber(f);const p=this.safeString(e,"feeDisplay");if(void 0!==p){const e=p.split(" "),t=this.safeNumber(e,0);if(void 0!==t){const i=this.safeString(e,1),s=this.safeCurrencyCode(i);let r=this.safeString(e,2);if(void 0!==r){r=r.replace("(","");const e=r.split("%");r=this.safeString(e,0),r=parseFloat(r)/100}o={cost:t,currency:s,rate:r}}}else{const i=this.safeString(e,"fee");if(void 0!==i&&void 0!==t){const e="buy"===n?t["base"]:t["quote"],s="buy"===n?d:f,r=v.stringDiv(i,s);o={cost:this.parseNumber(i),currency:e,rate:this.parseNumber(r)}}}let m=void 0;const g=this.safeNumber(e,"takerAdjustment");return void 0!==g&&(m="taker"),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,order:s,type:"limit",side:n,takerOrMaker:m,price:h,amount:u,cost:l,fee:o}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currencyPair:r["id"]};void 0!==t&&(a["start"]=parseInt(t/1e3),a["end"]=this.seconds());const n=await this.publicGetReturnTradeHistory(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a=r?r["id"]:"all",n={currencyPair:a};void 0!==t&&(n["start"]=parseInt(t/1e3),n["end"]=this.sum(this.seconds(),1)),void 0!==i&&(n["limit"]=parseInt(i));const o=await this.privatePostReturnTradeHistory(this.extend(n,s));let c=[];if(void 0!==r)c=this.parseTrades(o,r);else if(o){const e=Object.keys(o);for(let t=0;t<e.length;t++){const i=e[t];let s=void 0;if(i in this.markets_by_id){s=this.markets_by_id[i];const e=this.parseTrades(o[i],s);for(let t=0;t<e.length;t++)c.push(e[t])}else{const[e,t]=i.split("_"),s=this.safeCurrencyCode(t),r=this.safeCurrencyCode(e),a=s+"/"+r,n=o[i];for(let i=0;i<n.length;i++){const e={symbol:a,base:s,quote:r};c.push(this.parseTrade(n[i],e))}}}}return this.filterBySinceLimit(c,t,i)}parseOrderStatus(e){const t={Open:"open","Partially filled":"open"};return this.safeString(t,e,e)}parseOrder(e,t){let i=this.safeInteger(e,"timestamp");void 0===i&&(i=this.parse8601(this.safeString(e,"date")));let s=void 0;const r=this.safeString(e,"currencyPair");if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("_"),i=this.safeCurrencyCode(t),a=this.safeCurrencyCode(e);s=i+"/"+a}void 0===s&&void 0!==t&&(s=t["symbol"]);let a=void 0,n=this.safeValue(e,"resultingTrades");Array.isArray(n)||(n=this.safeValue(n,this.safeString(t,"id",r))),void 0!==n&&(a=this.parseTrades(n,t));const o=this.safeNumber2(e,"price","rate");let c=this.safeNumber(e,"amount"),d=this.safeNumber(e,"startingAmount"),h=void 0,u=0;void 0!==d?void 0!==c&&(h=d-c,void 0!==o&&(u=h*o)):d=c;let l=this.parseOrderStatus(this.safeString(e,"status")),f=void 0,p=void 0;if(void 0===h&&void 0!==a){h=0,u=0;const e=a.length;if(e>0){p=a[0]["timestamp"];for(let t=0;t<e;t++){const e=a[t],i=e["amount"],s=e["price"];h=this.sum(h,i),u=this.sum(u,s*i),p=Math.max(p,e["timestamp"])}}void 0!==d&&(c=Math.max(d-h,0),h>=d&&(l="closed"))}void 0!==h&&void 0!==u&&h>0&&(f=u/h);let m=this.safeString(e,"type");const g=this.safeString(e,"side",m);m===g&&(m=void 0);const y=this.safeString(e,"orderNumber");let v=void 0;const b=this.safeNumber(e,"fee");if(void 0!==b){let e=void 0;void 0!==t&&(e="buy"===g?t["base"]:t["quote"]),v={cost:b,currency:e}}const w=this.safeString(e,"clientOrderId");return{info:e,id:y,clientOrderId:w,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:p,status:l,symbol:s,type:m,timeInForce:void 0,postOnly:void 0,side:g,price:o,stopPrice:void 0,cost:u,average:f,amount:d,filled:h,remaining:c,trades:a,fee:v}}parseOpenOrders(e,t,i){for(let s=0;s<e.length;s++){const r=e[s],a=this.extend(r,{status:"open",type:"limit",side:r["type"],price:r["rate"]});i.push(this.parseOrder(a,t))}return i}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a=r?r["id"]:"all",n={currencyPair:a},o=await this.privatePostReturnOpenOrders(this.extend(n,s)),c={status:"open"};if(void 0===r){const e=Object.keys(o);let s=[];for(let t=0;t<e.length;t++){const i=e[t],r=o[i],a=this.markets_by_id[i];s=this.arrayConcat(s,this.parseOrders(r,a,void 0,void 0,c))}return this.filterBySinceLimit(s,t,i)}return this.parseOrders(o,r,t,i,c)}async createOrder(e,t,i,s,a,n={}){if("market"===t)throw new r(this.id+" createOrder() does not accept market orders");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e);s=this.amountToPrecision(e,s);const d={currencyPair:c["id"],rate:this.priceToPrecision(e,a),amount:s},h=this.safeString(n,"clientOrderId");void 0!==h&&(d["clientOrderId"]=h,n=this.omit(n,"clientOrderId"));const u=this.milliseconds(),l=await this[o](this.extend(d,n));return this.parseOrder(this.extend({timestamp:u,status:"open",type:t,side:i,price:a,amount:s},l),c)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets(),a=parseFloat(a);const o={orderNumber:e,rate:this.priceToPrecision(t,a)};void 0!==r&&(o["amount"]=this.amountToPrecision(t,r));const c=await this.privatePostMoveOrder(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeValue(i,"clientOrderId");return void 0===r?s["orderNumber"]=e:s["clientOrderId"]=r,i=this.omit(i,"clientOrderId"),await this.privatePostCancelOrder(this.extend(s,i))}async cancelAllOrders(e,t={}){const i={};let s=void 0;void 0!==e&&(s=this.market(e),i["currencyPair"]=s["id"]);const r=await this.privatePostCancelAllOrders(this.extend(i,t));return r}async fetchOpenOrder(e,t,i={}){await this.loadMarkets(),e=e.toString();const s={orderNumber:e},r=await this.privatePostReturnOrderStatus(this.extend(s,i)),a=this.safeValue(r["result"],e);if(void 0===a)throw new u(this.id+" order id "+e+" not found");return this.parseOrder(a)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const s={orderNumber:e},r=await this.privatePostReturnOrderTrades(this.extend(s,i)),a=this.parseTrades(r),n=this.safeValue(a,0);if(void 0===n)throw new u(this.id+" order id "+e+" not found");t=this.safeString(n,"symbol",t);const o=this.safeString(n,"side"),c=this.safeNumber(n,"timestamp");return e=this.safeValue(n["info"],"globalTradeID",e),this.safeOrder({info:r,id:e,clientOrderId:this.safeValue(n,"clientOrderId"),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:"closed",symbol:t,type:this.safeString(n,"type"),timeInForce:void 0,postOnly:void 0,side:o,price:void 0,stopPrice:void 0,cost:void 0,average:void 0,amount:void 0,filled:void 0,remaining:void 0,trades:a,fee:void 0})}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const s=await this.fetchOpenOrders(t,void 0,void 0,i),r=this.indexBy(s,"id");return e in r?"open":"closed"}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a={orderNumber:e},n=await this.privatePostReturnOrderTrades(this.extend(a,r));return this.parseTrades(n)}async createDepositAddress(e,t={}){await this.loadMarkets();let i=void 0,s=void 0;e in this.currencies?(s=this.currency(e),i=s["id"]):i=e;const r={currency:i},a=await this.privatePostGenerateNewAddress(this.extend(r,t));let n=void 0,o=void 0;if(1===a["success"]&&(n=this.safeString(a,"response")),this.checkAddress(n),void 0!==s){const e=this.safeString(s["info"],"depositAddress");void 0!==e&&(o=n,n=e)}return{currency:e,address:n,tag:o,info:a}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostReturnDepositAddresses(t);let s=void 0,r=void 0;e in this.currencies?(r=this.currency(e),s=r["id"]):s=e;let a=this.safeString(i,s),n=void 0;if(this.checkAddress(a),void 0!==r){const e=this.safeString(r["info"],"depositAddress");void 0!==e&&(n=a,a=e)}return{currency:e,address:a,tag:n,info:i}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a["id"],amount:t,address:i};void 0!==s&&(n["paymentId"]=s);const o=await this.privatePostWithdraw(this.extend(n,r));return{info:o,id:this.safeString(o,"withdrawalNumber")}}async fetchTransactionsHelper(e,t,i,s={}){await this.loadMarkets();const r=31104e3,a=this.seconds(),n=void 0!==t?parseInt(t/1e3):a-10*r,o={start:n,end:a};void 0!==i&&(o["limit"]=i);const c=await this.privatePostReturnDepositsWithdrawals(this.extend(o,s));return c}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r=await this.fetchTransactionsHelper(e,t,i,s);let a=void 0;void 0!==e&&(a=this.currency(e));const n=this.safeValue(r,"withdrawals",[]),o=this.safeValue(r,"deposits",[]),c=this.parseTransactions(n,a,t,i),d=this.parseTransactions(o,a,t,i),h=this.arrayConcat(d,c);return this.filterByCurrencySinceLimit(this.sortBy(h,"timestamp"),e,t,i)}async fetchWithdrawals(e,t,i,s={}){const r=await this.fetchTransactionsHelper(e,t,i,s);let a=void 0;void 0!==e&&(a=this.currency(e));const n=this.safeValue(r,"withdrawals",[]),o=this.parseTransactions(n,a,t,i);return this.filterByCurrencySinceLimit(o,e,t,i)}async fetchDeposits(e,t,i,s={}){const r=await this.fetchTransactionsHelper(e,t,i,s);let a=void 0;void 0!==e&&(a=this.currency(e));const n=this.safeValue(r,"deposits",[]),o=this.parseTransactions(n,a,t,i);return this.filterByCurrencySinceLimit(o,e,t,i)}parseTransactionStatus(e){const t={COMPLETE:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"currency"),r=this.safeCurrencyCode(s);let a=this.safeString(e,"status","pending"),n=this.safeString(e,"txid");if(void 0!==a){const e=a.split(": "),t=e.length;a=e[0],t>1&&void 0===n&&(n=e[1]),a=this.parseTransactionStatus(a)}const o="withdrawalNumber"in e?"withdrawal":"deposit",c=this.safeString(e,"type",o),d=this.safeString2(e,"withdrawalNumber","depositNumber");let h=this.safeNumber(e,"amount");const u=this.safeString(e,"address"),l=this.safeString(e,"paymentID"),f=this.safeNumber(e,"fee",0);return"withdrawal"===c&&(h-=f),{info:e,id:d,currency:r,amount:h,address:u,tag:l,status:a,type:c,updated:void 0,txid:n,timestamp:i,datetime:this.iso8601(i),fee:{currency:r,cost:f}}}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),s={currencyPair:i["id"]},r=await this.privatePostGetMarginPosition(this.extend(s,t));return r}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t];const o=this.extend({command:e},s);return"public"===t?n+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o["nonce"]=this.nonce(),a=this.urlencode(o),r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"error"in o){const e=o["error"],t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new r(t)}}}},a620:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InvalidOrder:a,AuthenticationError:n,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"braziliex",name:"Braziliex",countries:["BR"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php",referral:"https://braziliex.com/?ref=5FE61AB6F6D67DA885BC98BA27223465"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order","order_status"]}},commonCurrencies:{EPC:"Epacoin",ABC:"Anti Bureaucracy Coin"},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8},options:{fetchCurrencies:{expires:1e3}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),s=this.safeInteger(t,"expires",1e3),r=this.milliseconds();if(void 0===i||r-i>s){const i=await this.publicGetCurrencies(e);this.options["fetchCurrencies"]=this.extend(t,{response:i,timestamp:r})}return this.safeValue(this.options["fetchCurrencies"],"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options["currencies"]={timestamp:this.milliseconds(),response:t};const i=Object.keys(t),s={};for(let r=0;r<i.length;r++){const e=i[r],a=t[e],n=this.safeInteger(a,"decimal"),o=this.safeCurrencyCode(e);let c=1===this.safeInteger(a,"active");const d=this.safeInteger(a,"under_maintenance");0!==d&&(c=!1);const h=1===this.safeInteger(a,"is_withdrawal_active"),u=1===this.safeInteger(a,"is_deposit_active");h&&u||(c=!1),s[o]={id:e,code:o,name:a["name"],active:c,precision:n,funding:{withdraw:{active:h,fee:this.safeNumber(a,"txWithdrawalFee")},deposit:{active:u,fee:this.safeNumber(a,"txDepositFee")}},limits:{amount:{min:Math.pow(10,-n),max:Math.pow(10,n)},withdraw:{min:this.safeNumber(a,"MinWithdrawal"),max:Math.pow(10,n)},deposit:{min:this.safeNumber(a,"minDeposit"),max:void 0}},info:a}}return s}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=await this.publicGetTicker(),s=Object.keys(i),r=[];for(let a=0;a<s.length;a++){const e=s[a],n=i[e],[o,c]=e.split("_"),d=o.toUpperCase(),h=c.toUpperCase(),u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),f=u+"/"+l,p=this.safeValue(t,o,{}),m=this.safeValue(t,c,{}),g=this.safeInteger(m,"is_fiat",0);let y=void 0;y=g?this.safeNumber(p,"minAmountTradeFIAT"):this.safeNumber(p,"minAmountTrade"+h);const v=this.safeInteger(n,"active"),b=1===v,w={amount:8,price:8};r.push({id:e,symbol:f,base:u,quote:l,baseId:o,quoteId:c,active:b,precision:w,limits:{amount:{min:Math.pow(10,-w["amount"]),max:Math.pow(10,w["amount"])},price:{min:Math.pow(10,-w["price"]),max:Math.pow(10,w["price"])},cost:{min:y,max:void 0}},info:n})}return r}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const s=this.milliseconds(),r=this.safeNumber(e,"last");return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"highestBid24"),low:this.safeNumber(e,"lowestAsk24"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:this.safeNumber(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"baseVolume24"),quoteVolume:this.safeNumber(e,"quoteVolume24"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetTickerMarket(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s={},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeMarket(e),n=t["symbol"];s[n]=this.parseTicker(i[e],t)}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={market:this.marketId(e)},r=await this.publicGetOrderbookMarket(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"bids","asks","price","amount")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"date_exec","date")),s=this.safeString(e,"price"),r=this.safeString(e,"amount"),a=this.parseNumber(s),n=this.parseNumber(r);let o=void 0;void 0!==t&&(o=t["symbol"]);let d=this.safeNumber(e,"total");void 0===d&&(d=this.parseNumber(c.stringMul(s,r)));const h=this.safeString(e,"order_number"),u="limit",l=this.safeString(e,"type"),f=this.safeString(e,"_id");return{id:f,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,order:h,type:u,side:l,takerOrMaker:void 0,price:a,amount:n,cost:d,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.publicGetTradehistoryMarket(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostCompleteBalance(e),i={info:t},s=Object.keys(t);for(let r=0;r<s.length;r++){const e=s[r],a=t[e],n=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(a,"available"),o["total"]=this.safeString(a,"total"),i[n]=o}return this.parseBalance(i,!1)}parseOrder(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t,"_");let r=this.safeInteger(e,"timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"date")));const a=this.safeNumber(e,"price"),n=this.safeNumber(e,"total"),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"progress"),d=o*c,h=this.safeString(e,"order_number"),u=this.safeValue(e,"fee"),l=1===c?"closed":"open",f=this.safeString(e,"type");return this.safeOrder({id:h,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:l,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:f,price:a,stopPrice:void 0,cost:n,amount:o,filled:d,remaining:void 0,trades:void 0,fee:u,info:e,average:void 0})}async createOrder(e,t,i,s,r,n={}){await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i),d={market:o["id"],price:r,amount:s},h=await this[c](this.extend(d,n)),u=this.safeInteger(h,"success");if(1!==u)throw new a(this.id+" "+this.json(h));const l=this.safeString(h,"message");let f=l.split(" / ");f=f.slice(1);const p=f[5].split(" "),m=f[2].split(" "),g=f[3].split(" "),y=f[4].split(" "),v=this.parseOrder({timestamp:this.milliseconds(),order_number:h["order_number"],type:this.safeStringLower(f,0),market:f[0].toLowerCase(),amount:this.safeString(m,1),price:this.safeString(g,1),total:this.safeString(y,1),fee:{cost:this.safeNumber(p,1),currency:this.safeString(p,2)},progress:"0.0",info:h},o);return v}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.market(t),r={order_number:e,market:s["id"]};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={order_number:e,market:s["id"]},a=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrder(a,s)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.privatePostOpenOrders(this.extend(a,s)),o=this.safeValue(n,"order_open",[]);return this.parseOrders(o,r,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.privatePostTradeHistory(this.extend(a,s)),o=this.safeValue(n,"trade_history",[]);return this.parseTrades(o,r,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostDepositAddress(this.extend(s,t)),a=this.safeString(r,"deposit_address");this.checkAddress(a);const n=this.safeString(r,"payment_id");return{currency:e,address:a,tag:n,info:r}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+t,o=this.omit(s,this.extractParams(e));if("public"===t)n+="/"+this.implodeParams(e,s),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),o=this.extend({command:e,nonce:this.nonce()},o),a=this.urlencode(o);const t=this.hmac(this.encode(a),this.encode(this.secret),"sha512");r={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:t}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,o){const c=await this.fetch2(e,t,i,s,a,o);if("string"===typeof c&&c.length<1)throw new r(this.id+" returned empty response");if("success"in c){const e=this.safeInteger(c,"success");if(0===e){const e=this.safeString(c,"message");if("Invalid APIKey"===e)throw new n(e);throw new r(e)}}return c}}},a630:function(e,t,i){var s=i("23e7"),r=i("4df4"),a=i("1c7e"),n=!a((function(e){Array.from(e)}));s({target:"Array",stat:!0,forced:n},{from:r})},a640:function(e,t,i){"use strict";var s=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&s((function(){i.call(null,t||function(){throw 1},1)}))}},a681:function(e,t,i){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},r=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,a=i.call(e),n=[];try{while((void 0===t||t-- >0)&&!(s=a.next()).done)n.push(s.value)}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}return n},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var n=i("7be7"),o=i("29b2"),c=i("7612"),d=i("fe34"),h=i("efc3"),u=i("f9ee"),l=i("02cf"),f=i("381b"),p=i("6af3"),m=i("367a"),g=i("3494"),y=i("aa00");t.crypto=function(e){if(e&&""==e.seed)throw new Error("Empty seed is not allowed.");var t=function(e,t){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return e.apply(void 0,a([t],i))}},i=function(t){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var r=t.apply(void 0,a(i));return!e||e&&"Base58"===e.output?c.base58Encode(r):r}},r=function(t){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var r=t.apply(void 0,a(i));return!e||e&&"Base58"===e.output?{privateKey:c.base58Encode(r.privateKey),publicKey:c.base58Encode(r.publicKey)}:r}},v=e&&e.seed?e.seed:void 0,b={seedWithNonce:v?t(l.seedWithNonce,v):l.seedWithNonce,signBytes:i(v?t(f.signBytes,v):f.signBytes),keyPair:r(v?t(l.keyPair,v):l.keyPair),publicKey:i(v?t(l.publicKey,v):l.publicKey),privateKey:i(v?t(l.privateKey,v):l.privateKey),address:i(v?t(l.address,v):l.address)};return s({},b,{sharedKey:i(o.sharedKey),buildAddress:l.buildAddress,blake2b:u.blake2b,keccak:u.keccak,sha256:u.sha256,base64Encode:c.base64Encode,base64Decode:c.base64Decode,base58Encode:c.base58Encode,base58Decode:c.base58Decode,base16Encode:c.base16Encode,base16Decode:c.base16Decode,stringToBytes:d.stringToBytes,bytesToString:d.bytesToString,random:n.random,randomSeed:n.randomSeed,randomBytes:n.randomBytes,verifySignature:p.verifySignature,verifyPublicKey:p.verifyPublicKey,verifyAddress:p.verifyAddress,messageDecrypt:o.messageDecrypt,messageEncrypt:o.messageEncrypt,aesDecrypt:o.aesDecrypt,aesEncrypt:o.aesEncrypt,encryptSeed:g.encryptSeed,decryptSeed:g.decryptSeed,rsaKeyPair:m.rsaKeyPair,rsaKeyPairSync:m.rsaKeyPairSync,rsaSign:m.rsaSign,rsaVerify:m.rsaVerify,merkleVerify:y.merkleVerify,split:h.split,concat:h.concat})}},a691:function(e,t){var i=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:i)(e)}},a79d:function(e,t,i){"use strict";var s=i("23e7"),r=i("c430"),a=i("fea9"),n=i("d039"),o=i("d066"),c=i("4840"),d=i("cdf9"),h=i("6eeb"),u=!!a&&n((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));if(s({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(e){var t=c(this,o("Promise")),i="function"==typeof e;return this.then(i?function(i){return d(t,e()).then((function(){return i}))}:e,i?function(i){return d(t,e()).then((function(){throw i}))}:e)}}),!r&&"function"==typeof a){var l=o("Promise").prototype["finally"];a.prototype["finally"]!==l&&h(a.prototype,"finally",l,{unsafe:!0})}},a7b5:function(e,t,i){"use strict";var s=i("74d2"),r=i("b9b3"),a=r.assert,n=r.cachedProperty,o=r.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof s&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}n(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),n(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),n(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),n(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},a996:function(e,t,i){"use strict";const s=i("0406"),{NotSupported:r}=i("74b0");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"huobijp",name:"Huobi Japan",countries:["JP"],hostname:"api-cloud.huobi.co.jp",pro:!0,has:{fetchDepositAddress:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/85734211-85755480-b705-11ea-8b35-0b7f1db33a2f.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}"},www:"https://www.huobi.co.jp",referral:"https://www.huobi.co.jp/register/?invite_code=znnq3",doc:"https://api-doc.huobi.co.jp",fees:"https://www.huobi.co.jp/support/fee"}})}async fetchDepositAddress(e,t={}){throw new r(this.id+" fetchDepositAddress not supported yet")}}},a9ad:function(e,t,i){"use strict";var s=i("3835"),r=i("ade3"),a=i("5530"),n=(i("ac1f"),i("1276"),i("498a"),i("d3b7"),i("25f0"),i("2b0e")),o=i("d9bd"),c=i("7bc6");t["a"]=n["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof t.style?(Object(o["b"])("style must be an object",this),t):"string"===typeof t.class?(Object(o["b"])("class must be an object",this),t):(Object(c["d"])(e)?t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{"background-color":"".concat(e),"border-color":"".concat(e)}):e&&(t.class=Object(a["a"])(Object(a["a"])({},t.class),{},Object(r["a"])({},e,!0))),t)},setTextColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof t.style)return Object(o["b"])("style must be an object",this),t;if("string"===typeof t.class)return Object(o["b"])("class must be an object",this),t;if(Object(c["d"])(e))t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{color:"".concat(e),"caret-color":"".concat(e)});else if(e){var i=e.toString().trim().split(" ",2),n=Object(s["a"])(i,2),d=n[0],h=n[1];t.class=Object(a["a"])(Object(a["a"])({},t.class),{},Object(r["a"])({},d+"--text",!0)),h&&(t.class["text--"+h]=!0)}return t}}})},a9b0:function(e,t,i){"use strict";const s=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,s),r=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e5]+100+400+8e3).replace(/[018]/g,r),a=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+1e3+4e3+8e5).replace(/[018]/g,a);e.exports={uuid:s,uuid16:r,uuid22:a,unCamelCase:e=>e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,e=>e[0]+"_"+e[1]).replace(/[A-Z0-9][A-Z0-9][a-z]/g,e=>e[0]+"_"+e[1]+e[2]).toLowerCase(),capitalize:e=>e.length?e.charAt(0).toUpperCase()+e.slice(1):e,strip:e=>e.replace(/^\s+|\s+$/g,"")}},a9e3:function(e,t,i){"use strict";var s=i("83ab"),r=i("da84"),a=i("94ca"),n=i("6eeb"),o=i("5135"),c=i("c6b6"),d=i("7156"),h=i("c04e"),u=i("d039"),l=i("7c73"),f=i("241c").f,p=i("06cf").f,m=i("9bf2").f,g=i("58a8").trim,y="Number",v=r[y],b=v.prototype,w=c(l(b))==y,k=function(e){var t,i,s,r,a,n,o,c,d=h(e,!1);if("string"==typeof d&&d.length>2)if(d=g(d),t=d.charCodeAt(0),43===t||45===t){if(i=d.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+d}for(a=d.slice(2),n=a.length,o=0;o<n;o++)if(c=a.charCodeAt(o),c<48||c>r)return NaN;return parseInt(a,s)}return+d};if(a(y,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,_=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof _&&(w?u((function(){b.valueOf.call(i)})):c(i)!=y)?d(new v(k(t)),i,_):k(t)},O=s?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;O.length>T;T++)o(v,S=O[T])&&!o(_,S)&&m(_,S,p(v,S));_.prototype=b,b.constructor=_,n(r,y,_)}},a9f1:function(e,t,i){(function(e){t.fetch=o(e.fetch)&&o(e.ReadableStream),t.writableStream=o(e.WritableStream),t.abortController=o(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var i;function s(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){i=null}}else i=null;return i}function r(e){var t=s();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var a="undefined"!==typeof e.ArrayBuffer,n=a&&o(e.ArrayBuffer.prototype.slice);function o(e){return"function"===typeof e}t.arraybuffer=t.fetch||a&&r("arraybuffer"),t.msstream=!t.fetch&&n&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!s()&&o(s().overrideMimeType),t.vbArray=o(e.VBArray),i=null}).call(this,i("c8ba"))},aa00:function(e,t,i){"use strict";var s=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,a=i.call(e),n=[];try{while((void 0===t||t-- >0)&&!(s=a.next()).done)n.push(s.value)}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}return n};Object.defineProperty(t,"__esModule",{value:!0});var r=i("f9ee"),a=i("efc3");function n(e,t,i){var n=Uint8Array.from([0]),o=Uint8Array.from([1]);if(32!==e.length)throw new Error("Failed to parse merkleProof: Invalid rootHash length");var c=r.blake2b(a.concat(n,i)),d=[],h=t.map((function(e){return e}));while(h.length>0){var u=0===h[0]?"L":"R",l=h[1];if(l<1)throw new Error("Failed to parse merkleProof: Wrong hash size");var f=h.slice(2,2+l);d.push([u,f]),h=h.slice(2+l)}var p=d.reduce((function(e,t){var i=s(t,2),n=i[0],c=i[1];return r.blake2b(a.concat(o,"R"===n?a.concat(c,e):a.concat(e,c)))}),c);return p.every((function(t,i){return t===e[i]}))}t.merkleVerify=n},aa3f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e}();t.Adapter=s},ab13:function(e,t,i){var s=i("b622"),r=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,"/./"[e](t)}catch(s){}}return!1}},ab8c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("5884");function r(e){return s.fetchHeadersLast(e).then((function(e){return c(e.generator)[1]}))}t.default=r;for(var a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},o=0;o<a.length;o++)n[a.charAt(o)]=o;function c(e){var t,i,s,r,a;if(0===e.length)return new Uint8Array(0);a=void 0,r=void 0,t=[0],a=0;while(a<e.length){if(i=e[a],!(i in n))throw"Base58.decode received unacceptable input. Character '"+i+"' is not in the Base58 alphabet.";r=0;while(r<t.length)t[r]*=58,r++;t[0]+=n[i],s=0,r=0;while(r<t.length)t[r]+=s,s=t[r]>>8,t[r]&=255,++r;while(s)t.push(255&s),s>>=8;a++}a=0;while("1"===e[a]&&a<e.length-1)t.push(0),a++;return new Uint8Array(t.reverse())}},abf9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("7612"),r=i("fe34"),a=function(e){return"string"===typeof e||e instanceof String},n=function(e){return e instanceof Uint8Array},o=function(e){return!1};t._fromIn=function(e){return a(e)?s.base58Decode(e):n(e)?e:Uint8Array.from(e)},t._fromRawIn=function(e){if(o(e))throw new Error("");return a(e)?r.stringToBytes(e):n(e)?e:Uint8Array.from(e)}},ac1f:function(e,t,i){"use strict";var s=i("23e7"),r=i("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ac9b:function(e,t){e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},ad47:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAddresses=t.fetchPublicKey=t.fetchSeed=t.fetchSeq=t.fetchEffectiveBalance=t.fetchEffectiveBalanceConfirmations=t.fetchBalance=t.fetchValidate=t.data=t.fetchScriptInfo=t.fetchBalanceConfirmations=t.fetchBalanceDetails=t.fetchScriptInfoMeta=t.fetchDataKey=void 0;var r=s(i("85aa")),a=s(i("f963"));function n(e,t,i,s){return void 0===s&&(s=Object.create(null)),r.default({base:e,url:"/addresses/data/"+t+"/"+encodeURIComponent(i),options:s})}function o(e,t){return r.default({base:e,url:"/addresses/scriptInfo/"+t+"/meta"})}function c(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/addresses/balance/details/"+t,options:i})}function d(e,t,i,s){return void 0===s&&(s=Object.create(null)),r.default({base:e,url:"/addresses/balance/"+t+"/"+i,options:s})}function h(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/addresses/scriptInfo/"+t,options:i})}function u(e,t,i,s){return void 0===i&&(i=Object.create(null)),void 0===s&&(s=Object.create(null)),r.default({base:e,url:"/addresses/data/"+t+a.default(i),options:s})}function l(e,t){return r.default({base:e,url:"/addresses/validate/"+t})}function f(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/addresses/balance/"+t,options:i})}function p(e,t,i,s){return void 0===s&&(s=Object.create(null)),r.default({base:e,url:"/addresses/effectiveBalance/"+t+"/"+i,options:s})}function m(e,t,i){return void 0===i&&(i=Object.create(null)),r.default({base:e,url:"/addresses/effectiveBalance/"+t,options:i})}function g(e,t,i){return r.default({base:e,url:"/addresses/seq/"+t+"/"+i})}function y(e,t){return r.default({base:e,url:"/addresses/seed/"+t})}function v(e,t){return r.default({base:e,url:"/addresses/publicKey/"+t})}function b(e){return r.default({base:e,url:"/addresses"})}t.fetchDataKey=n,t.fetchScriptInfoMeta=o,t.fetchBalanceDetails=c,t.fetchBalanceConfirmations=d,t.fetchScriptInfo=h,t.data=u,t.fetchValidate=l,t.fetchBalance=f,t.fetchEffectiveBalanceConfirmations=p,t.fetchEffectiveBalance=m,t.fetchSeq=g,t.fetchSeed=y,t.fetchPublicKey=v,t.fetchAddresses=b},ad6d:function(e,t,i){"use strict";var s=i("825a");e.exports=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ad71:function(e,t,i){"use strict";(function(t,s){var r=i("966d");e.exports=S;var a,n=i("e3db");S.ReadableState=k;i("faa1").EventEmitter;var o=function(e,t){return e.listeners(t).length},c=i("429b"),d=i("8707").Buffer,h=t.Uint8Array||function(){};function u(e){return d.from(e)}function l(e){return d.isBuffer(e)||e instanceof h}var f=Object.create(i("3a7c"));f.inherits=i("3fb5");var p=i(2),m=void 0;m=p&&p.debuglog?p.debuglog("stream"):function(){};var g,y=i("5e1a"),v=i("4681");f.inherits(S,c);var b=["error","close","destroy","pause","resume"];function w(e,t,i){if("function"===typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function k(e,t){a=a||i("b19a"),e=e||{};var s=t instanceof a;this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:s&&(n||0===n)?n:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=i("7d72").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function S(e){if(a=a||i("b19a"),!(this instanceof S))return new S(e);this._readableState=new k(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,i,s,r){var a,n=e._readableState;null===t?(n.reading=!1,A(e,n)):(r||(a=T(n,t)),a?e.emit("error",a):n.objectMode||t&&t.length>0?("string"===typeof t||n.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=u(t)),s?n.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):O(e,n,t,!0):n.ended?e.emit("error",new Error("stream.push() after EOF")):(n.reading=!1,n.decoder&&!i?(t=n.decoder.write(t),n.objectMode||0!==t.length?O(e,n,t,!1):P(e,n)):O(e,n,t,!1))):s||(n.reading=!1));return C(n)}function O(e,t,i,s){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,s?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&N(e)),P(e,t)}function T(e,t){var i;return l(t)||"string"===typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function C(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=v.destroy,S.prototype._undestroy=v.undestroy,S.prototype._destroy=function(e,t){this.push(null),t(e)},S.prototype.push=function(e,t){var i,s=this._readableState;return s.objectMode?i=!0:"string"===typeof e&&(t=t||s.defaultEncoding,t!==s.encoding&&(e=d.from(e,t),t=""),i=!0),_(this,e,t,!1,i)},S.prototype.unshift=function(e){return _(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return g||(g=i("7d72").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var x=8388608;function I(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=I(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,N(e)}}function N(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(M,e):M(e))}function M(e){m("emit readable"),e.emit("readable"),q(e)}function P(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(B,e,t))}function B(e,t){var i=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){if(m("maybeReadMore read 0"),e.read(0),i===t.length)break;i=t.length}t.readingMore=!1}function R(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,q(e))}}function L(e){m("readable nexttick read 0"),e.read(0)}function V(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}function D(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),q(e),t.flowing&&!t.reading&&e.read(0)}function q(e){var t=e._readableState;m("flow",t.flowing);while(t.flowing&&null!==e.read());}function j(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=G(e,t.buffer,t.decoder),i);var i}function G(e,t,i){var s;return e<t.head.data.length?(s=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):s=e===t.head.data.length?t.shift():i?U(e,t):F(e,t),s}function U(e,t){var i=t.head,s=1,r=i.data;e-=r.length;while(i=i.next){var a=i.data,n=e>a.length?a.length:e;if(n===a.length?r+=a:r+=a.slice(0,e),e-=n,0===e){n===a.length?(++s,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=a.slice(n));break}++s}return t.length-=s,r}function F(e,t){var i=d.allocUnsafe(e),s=t.head,r=1;s.data.copy(i),e-=s.data.length;while(s=s.next){var a=s.data,n=e>a.length?a.length:e;if(a.copy(i,i.length-e,0,n),e-=n,0===e){n===a.length?(++r,s.next?t.head=s.next:t.head=t.tail=null):(t.head=s,s.data=a.slice(n));break}++r}return t.length-=r,i}function H(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(z,t,e))}function z(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}S.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?H(this):N(this),null;if(e=E(e,t),0===e&&t.ended)return 0===t.length&&H(this),null;var s,r=t.needReadable;return m("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,m("length less than watermark",r)),t.ended||t.reading?(r=!1,m("reading or ended",r)):r&&(m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(i,t))),s=e>0?j(e,t):null,null===s?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&H(this)),null!==s&&this.emit("data",s),s},S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(e,t){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e);break}a.pipesCount+=1,m("pipe count=%d opts=%j",a.pipesCount,t);var n=(!t||!1!==t.end)&&e!==s.stdout&&e!==s.stderr,c=n?h:k;function d(e,t){m("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function h(){m("onend"),e.end()}a.endEmitted?r.nextTick(c):i.once("end",c),e.on("unpipe",d);var u=R(i);e.on("drain",u);var l=!1;function f(){m("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",d),i.removeListener("end",h),i.removeListener("end",k),i.removeListener("data",g),l=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}var p=!1;function g(t){m("ondata"),p=!1;var s=e.write(t);!1!==s||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==K(a.pipes,e))&&!l&&(m("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function y(t){m("onerror",t),k(),e.removeListener("error",y),0===o(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),k()}function b(){m("onfinish"),e.removeListener("close",v),k()}function k(){m("unpipe"),i.unpipe(e)}return i.on("data",g),w(e,"error",y),e.once("close",v),e.once("finish",b),e.emit("pipe",i),a.flowing||(m("pipe resume"),i.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var s=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)s[a].emit("unpipe",this,i);return this}var n=K(t.pipes,e);return-1===n||(t.pipes.splice(n,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},S.prototype.on=function(e,t){var i=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&N(this):r.nextTick(L,this))}return i},S.prototype.addListener=S.prototype.on,S.prototype.resume=function(){var e=this._readableState;return e.flowing||(m("resume"),e.flowing=!0,V(this,e)),this},S.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(e){var t=this,i=this._readableState,s=!1;for(var r in e.on("end",(function(){if(m("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){if(m("wrapped data"),i.decoder&&(r=i.decoder.write(r)),(!i.objectMode||null!==r&&void 0!==r)&&(i.objectMode||r&&r.length)){var a=t.push(r);a||(s=!0,e.pause())}})),e)void 0===this[r]&&"function"===typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var a=0;a<b.length;a++)e.on(b[a],this.emit.bind(this,b[a]));return this._read=function(t){m("wrapped _read",t),s&&(s=!1,e.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=j}).call(this,i("c8ba"),i("4362"))},adda:function(e,t,i){"use strict";var s=i("53ca"),r=(i("a9e3"),i("a15b"),i("8a79"),i("2ca0"),i("8efc"),i("90a2")),a=(i("36a7"),i("24b2")),n=i("58df"),o=Object(n["a"])(a["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio:function(){return Number(this.aspectRatio)},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},this.$slots.default)}},render:function(e){return e("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),c=o,d=i("7560"),h=i("d9f7"),u=i("d9bd"),l="undefined"!==typeof window&&"IntersectionObserver"in window;t["a"]=Object(n["a"])(c,d["a"]).extend({name:"v-img",directives:{intersect:r["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio:function(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc:function(){return this.src&&"object"===Object(s["a"])(this.src)?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage:function(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];var e=[],t=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&e.push("linear-gradient(".concat(this.gradient,")")),t&&e.push('url("'.concat(t,'")'));var i=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:e.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[i]):i}},watch:{src:function(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(e,t,i){if(!l||i||this.eager){if(this.normalisedSrc.lazySrc){var s=new Image;s.src=this.normalisedSrc.lazySrc,this.pollForSize(s,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError:function(){this.hasError=!0,this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var e=this,t=new Image;this.image=t,t.onload=function(){t.decode?t.decode().catch((function(t){Object(u["c"])("Failed to decode image, trying to render anyway\n\n"+"src: ".concat(e.normalisedSrc.src)+(t.message?"\nOriginal error: ".concat(t.message):""),e)})).then(e.onLoad):e.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=function s(){var r=e.naturalHeight,a=e.naturalWidth;r||a?(t.naturalWidth=a,t.calculatedAspectRatio=a/r):e.complete||!t.isLoading||t.hasError||null==i||setTimeout(s,i)};s()},genContent:function(){var e=c.options.methods.genContent.call(this);return this.naturalWidth&&this._b(e.data,"div",{style:{width:"".concat(this.naturalWidth,"px")}}),e},__genPlaceholder:function(){if(this.$slots.placeholder){var e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render:function(e){var t=c.options.render.call(this,e),i=Object(h["a"])(t.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:l?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return t.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],e(t.tag,i,t.children)}})},addb:function(e,t){var i=Math.floor,s=function(e,t){var n=e.length,o=i(n/2);return n<8?r(e,t):a(s(e.slice(0,o),t),s(e.slice(o),t),t)},r=function(e,t){var i,s,r=e.length,a=1;while(a<r){s=a,i=e[a];while(s&&t(e[s-1],i)>0)e[s]=e[--s];s!==a++&&(e[s]=i)}return e},a=function(e,t,i){var s=e.length,r=t.length,a=0,n=0,o=[];while(a<s||n<r)a<s&&n<r?o.push(i(e[a],t[n])<=0?e[a++]:t[n++]):o.push(a<s?e[a++]:t[n++]);return o};e.exports=s},ade3:function(e,t,i){"use strict";function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,"a",(function(){return s}))},ae1c:function(e,t,i){var s=i("fd46"),r=i("70ea"),a=i("6ff5"),n=r(s("tail",a(1,1/0)));e.exports=n},ae93:function(e,t,i){"use strict";var s,r,a,n=i("d039"),o=i("e163"),c=i("9112"),d=i("5135"),h=i("b622"),u=i("c430"),l=h("iterator"),f=!1,p=function(){return this};[].keys&&(a=[].keys(),"next"in a?(r=o(o(a)),r!==Object.prototype&&(s=r)):f=!0);var m=void 0==s||n((function(){var e={};return s[l].call(e)!==e}));m&&(s={}),u&&!m||d(s,l)||c(s,l,p),e.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:f}},aea5:function(e,t,i){var s=i("5a7c"),r=s((function(e,t){return e>=t}));e.exports=r},aef9:function(e,t,i){"use strict";const s=Date.now,r=()=>1e3*s(),a=s,n=()=>Math.floor(s()/1e3),o=()=>{const e=12219292800,t=1e7*e,i=10*r()+t,s=i.toString(16),a=s.slice(7,15)+s.slice(3,7)+"1"+s.slice(0,3),n="9696",o="ff".repeat(6);return a+n+o},c=setTimeout,d=(e,t,i=c,r=s()+t)=>{let a=()=>{},n=!0;const o=i(()=>{n=!0;const t=r-s();t>0?a=d(e,t,i,r):e()},t);return function(){n&&(n=!1,clearTimeout(o)),a()}};class h extends Error{constructor(){const e="timed out";super(e),this.constructor=h,this.__proto__=h.prototype,this.message=e}}const u=e=>{let t=void 0;if(t="number"===typeof e?Math.floor(e):parseInt(e,10),!(Number.isNaN(t)||t<0))try{return new Date(t).toISOString()}catch(i){return}},l=e=>{if("string"===typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{const t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(Number.isNaN(t))return;return t}catch(t){return}},f=e=>{if("string"===typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(t){return}return l(e)}},p=e=>new Date(e).toUTCString(),m=(e,t="-")=>{t=t||"";const i=new Date(e),s=i.getUTCFullYear().toString();let r=i.getUTCMonth()+1,a=i.getUTCDate();return r=r<10?"0"+r:r.toString(),a=a<10?"0"+a:a.toString(),r+t+a+t+s},g=(e,t="-")=>{t=t||"";const i=new Date(e),s=i.getUTCFullYear().toString();let r=i.getUTCMonth()+1,a=i.getUTCDate();return r=r<10?"0"+r:r.toString(),a=a<10?"0"+a:a.toString(),s+t+r+t+a},y=(e,t=" ")=>{const i=new Date(e),s=i.getUTCFullYear();let r=i.getUTCMonth()+1,a=i.getUTCDate(),n=i.getUTCHours(),o=i.getUTCMinutes(),c=i.getUTCSeconds();return r=r<10?"0"+r:r,a=a<10?"0"+a:a,n=n<10?"0"+n:n,o=o<10?"0"+o:o,c=c<10?"0"+c:c,s+"-"+r+"-"+a+t+n+":"+o+":"+c};e.exports={now:s,microseconds:r,milliseconds:a,seconds:n,iso8601:u,parse8601:l,rfc2616:p,uuidv1:o,parseDate:f,mdy:m,ymd:g,ymdhms:y,setTimeout_safe:d,sleep:e=>new Promise(t=>d(t,e)),TimedOut:h,timeout:async(e,t)=>{let i=()=>{};const s=new Promise(t=>i=d(t,e));try{return await Promise.race([t,s.then(()=>{throw new h})])}finally{i()}}}},af03:function(e,t,i){var s=i("d039");e.exports=function(e){return s((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},af2b:function(e,t,i){"use strict";i("c96a");var s=i("2b0e");t["a"]=s["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium:function(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses:function(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},afc2:function(e,t,i){var s=i("00b3"),r=i("001c");function a(e,t,i){return function(){var n=[],o=0,c=e,d=0;while(d<t.length||o<arguments.length){var h;d<t.length&&(!r(t[d])||o>=arguments.length)?h=t[d]:(h=arguments[o],o+=1),n[d]=h,r(h)||(c-=1),d+=1}return c<=0?i.apply(this,n):s(c,a(e,n,i))}}e.exports=a},afdd:function(e,t,i){"use strict";var s=i("8336");t["a"]=s["a"]},b041:function(e,t,i){"use strict";var s=i("00ee"),r=i("f5df");e.exports=s?{}.toString:function(){return"[object "+r(this)+"]"}},b0af:function(e,t,i){"use strict";var s=i("5530"),r=(i("a9e3"),i("0481"),i("615b"),i("10d2")),a=i("297c"),n=i("1c87"),o=i("58df");t["a"]=Object(o["a"])(a["a"],n["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({"v-card":!0},n["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},r["a"].options.computed.classes.call(this))},styles:function(){var e=Object(s["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=a["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),i=t.tag,s=t.data;return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),e(i,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},b0c0:function(e,t,i){var s=i("83ab"),r=i("9bf2").f,a=Function.prototype,n=a.toString,o=/^\s*function ([^ (]*)/,c="name";s&&!(c in a)&&r(a,c,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(e){return""}}})},b109:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,InsufficientFunds:n,InvalidOrder:o,OrderNotFound:c,AuthenticationError:d,BadSymbol:h}=i("74b0"),u=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"indodax",name:"INDODAX",countries:["ID"],has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchTrades:!0,withdraw:!0},version:"2.0",urls:{logo:"https://user-images.githubusercontent.com/51840849/87070508-9358c880-c221-11ea-8dc5-5391afbbb422.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://github.com/btcid/indodax-official-api-docs",referral:"https://indodax.com/ref/testbitcoincoid/1"},api:{public:{get:["server_time","pairs","{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}},exceptions:{exact:{invalid_pair:h,"Insufficient balance.":n,"invalid order.":c,"Invalid credentials. API not found or session has expired.":d,"Invalid credentials. Bad sign.":d},broad:{"Minimum price":o,"Minimum order":o}},options:{recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},commonCurrencies:{STR:"XLM",BCHABC:"BCH",BCHSV:"BSV",DRK:"DASH",NEM:"XEM"}})}nonce(){return this.milliseconds()-this.options["timeDifference"]}async fetchTime(e={}){const t=await this.publicGetServerTime(e);return this.safeInteger(t,"server_time")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options["timeDifference"]=i-t,this.options["timeDifference"]}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"ticker_id"),a=this.safeString(e,"traded_currency"),n=this.safeString(e,"base_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeNumber(e,"trade_fee_percent"),u=this.safeInteger(e,"is_maintenance"),l=!u,f=this.safeInteger(e,"price_round"),p={amount:8,price:f},m={amount:{min:this.safeNumber(e,"trade_min_traded_currency"),max:void 0},price:{min:this.safeNumber(e,"trade_min_base_currency"),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:r,symbol:d,base:o,quote:c,baseId:a,quoteId:n,taker:h,percentage:!0,precision:p,limits:m,info:e,active:l})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),s=this.safeValue(i,"balance",{}),r=this.safeValue(i,"balance_hold",{}),a=this.safeTimestamp(i,"server_time"),n={info:t,timestamp:a,datetime:this.iso8601(a)},o=Object.keys(s);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),i=this.account();i["free"]=this.safeString(s,e),i["used"]=this.safeString(r,e),n[t]=i}return this.parseBalance(n,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)},r=await this.publicGetPairDepth(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"buy","sell")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},r=await this.publicGetPairTicker(this.extend(s,t)),a=r["ticker"],n=this.safeTimestamp(a,"server_time"),o="vol_"+i["baseId"].toLowerCase(),c="vol_"+i["quoteId"].toLowerCase(),d=this.safeNumber(a,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(a,"high"),low:this.safeNumber(a,"low"),bid:this.safeNumber(a,"buy"),bidVolume:void 0,ask:this.safeNumber(a,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(a,o),quoteVolume:this.safeNumber(a,c),info:a}}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),s=this.safeString(e,"tid");let r=void 0;void 0!==t&&(r=t["symbol"]);const a=void 0,n=this.safeString(e,"type"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(o),h=this.parseNumber(c),l=this.parseNumber(u.stringMul(o,c));return{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:a,side:n,order:void 0,takerOrMaker:void 0,price:d,amount:h,cost:l,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]},n=await this.publicGetPairTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOrderStatus(e){const t={open:"open",filled:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){let i=void 0;"type"in e&&(i=e["type"]);const s=this.parseOrderStatus(this.safeString(e,"status","open"));let r=void 0,a=void 0;const n=this.safeNumber(e,"price");let o=void 0,c=void 0;if(void 0!==t){r=t["symbol"];let i=t["quoteId"],s=t["baseId"];"idr"===t["quoteId"]&&"order_rp"in e&&(i="rp"),"idr"===t["baseId"]&&"remain_rp"in e&&(s="rp"),a=this.safeNumber(e,"order_"+i),a||(o=this.safeNumber(e,"order_"+s),c=this.safeNumber(e,"remain_"+s))}const d=this.safeInteger(e,"submit_time"),h=void 0,u=this.safeString(e,"order_id");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:n,stopPrice:void 0,cost:a,average:void 0,amount:o,filled:void 0,remaining:c,status:s,fee:h,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol");await this.loadMarkets();const s=this.market(t),r={pair:s["id"],order_id:e},n=await this.privatePostGetOrder(this.extend(r,i)),o=n["return"],c=this.parseOrder(this.extend({id:e},o["order"]),s);return this.extend({info:n},c)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["pair"]=r["id"]);const n=await this.privatePostOpenOrders(this.extend(a,s)),o=n["return"]["orders"];if(!o)return[];if(void 0!==e)return this.parseOrders(o,r,t,i);const c=Object.keys(o);let d=[];for(let h=0;h<c.length;h++){const e=c[h],s=o[e];r=this.markets_by_id[e];const a=this.parseOrders(s,r,t,i);d=this.arrayConcat(d,a)}return d}async fetchClosedOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r={};let n=void 0;void 0!==e&&(n=this.market(e),r["pair"]=n["id"]);const o=await this.privatePostOrderHistory(this.extend(r,s));let c=this.parseOrders(o["return"]["orders"],n);return c=this.filterBy(c,"status","closed"),this.filterBySymbolSinceLimit(c,e,t,i)}async createOrder(e,t,i,s,a,n={}){if("limit"!==t)throw new r(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,price:a},d=o["baseId"];"buy"===i?c[o["quoteId"]]=s*a:c[o["baseId"]]=s,c[d]=s;const h=await this.privatePostTrade(this.extend(c,n)),u=this.safeValue(h,"return",{}),l=this.safeString(u,"order_id");return{info:h,id:l}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");const s=this.safeValue(i,"side");if(void 0===s)throw new a(this.id+' cancelOrder() requires an extra "side" param');await this.loadMarkets();const r=this.market(t),n={order_id:e,pair:r["id"],type:s};return await this.privatePostCancelOrder(this.extend(n,i))}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.milliseconds(),o={currency:a["id"],withdraw_amount:t,withdraw_address:i,request_id:n.toString()};s&&(o["withdraw_memo"]=s);const c=await this.privatePostWithdrawCoin(this.extend(o,r));let d=void 0;return"txid"in c&&c["txid"].length>0&&(d=c["txid"]),{info:c,id:d}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t];return"public"===t?n+="/"+this.implodeParams(e,s):(this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,timestamp:this.nonce(),recvWindow:this.options["recvWindow"]},s)),r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;if(Array.isArray(o))return;const h=this.safeValue(o,"error","");if(!("success"in o)&&""===h)return;if(1===this.safeInteger(o,"success",0)){if("return"in o)return;throw new r(this.id+": malformed response: "+this.json(o))}const u=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,u),this.throwBroadlyMatchedException(this.exceptions["broad"],h,u),new r(u)}}},b19a:function(e,t,i){"use strict";var s=i("966d"),r=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=u;var a=Object.create(i("3a7c"));a.inherits=i("3fb5");var n=i("ad71"),o=i("dc14");a.inherits(u,n);for(var c=r(o.prototype),d=0;d<c.length;d++){var h=c[d];u.prototype[h]||(u.prototype[h]=o.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);n.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||s.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),s.nextTick(t,e)}},b1a8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("6783");(function(e){e[e["Event"]=0]="Event",e[e["Action"]=1]="Action",e[e["Response"]=2]="Response"})(t.EventType||(t.EventType={})),function(e){e[e["Success"]=0]="Success",e[e["Error"]=1]="Error"}(t.ResponseStatus||(t.ResponseStatus={}));var r=function(){function e(e,t){var i=this;this.id=s.uniqueId("bus"),this._timeout=t||5e3,this._adapter=e,this._adapter.addListener((function(e){return i._onMessage(e)})),this._eventHandlers=Object.create(null),this._activeRequestHash=Object.create(null),this._requestHandlers=Object.create(null),s.console.info('Create Bus with id "'+this.id+'"')}return e.prototype.dispatchEvent=function(t,i){return this._adapter.send(e._createEvent(t,i)),s.console.info('Dispatch event "'+t+'"',i),this},e.prototype.request=function(e,t,i){var r=this;return new Promise((function(a,n){var o,c=s.uniqueId(r.id+"-action"),d=i||r._timeout;-1!==(i||r._timeout)&&(o=setTimeout((function(){delete r._activeRequestHash[c];var t=new Error('Timeout error for request with name "'+e+'" and timeout '+d+"!");s.console.error(t),n(t)}),d));var h=function(){o&&clearTimeout(o)};r._activeRequestHash[c]={reject:function(t){h(),s.console.error('Error request with name "'+e+'"',t),n(t)},resolve:function(t){h(),s.console.info('Request with name "'+e+'" success resolved!',t),a(t)}},r._adapter.send({id:c,type:1,name:e,data:t}),s.console.info('Request with name "'+e+'"',t)}))},e.prototype.on=function(e,t,i){return this._addEventHandler(e,t,i,!1)},e.prototype.once=function(e,t,i){return this._addEventHandler(e,t,i,!0)},e.prototype.off=function(e,t){var i=this;return e?this._eventHandlers[e]?t?(this._eventHandlers[e]=this._eventHandlers[e].filter((function(e){return e.handler!==t})),this._eventHandlers[e].length||delete this._eventHandlers[e],this):(this._eventHandlers[e].slice().forEach((function(t){i.off(e,t.handler)})),this):this:(Object.keys(this._eventHandlers).forEach((function(e){return i.off(e,t)})),this)},e.prototype.registerRequestHandler=function(e,t){if(this._requestHandlers[e])throw new Error("Duplicate request handler!");return this._requestHandlers[e]=t,this},e.prototype.unregisterHandler=function(e){return this._requestHandlers[e]&&delete this._requestHandlers[e],this},e.prototype.changeAdapter=function(t){var i=this,s=new e(t,this._timeout);return Object.keys(this._eventHandlers).forEach((function(e){i._eventHandlers[e].forEach((function(t){t.once?s.once(e,t.handler,t.context):s.on(e,t.handler,t.context)}))})),Object.keys(this._requestHandlers).forEach((function(e){s.registerRequestHandler(e,i._requestHandlers[e])})),s},e.prototype.destroy=function(){s.console.info("Destroy Bus"),this.off(),this._adapter.destroy()},e.prototype._addEventHandler=function(e,t,i,s){return this._eventHandlers[e]||(this._eventHandlers[e]=[]),this._eventHandlers[e].push({handler:t,once:s,context:i}),this},e.prototype._onMessage=function(e){switch(e.type){case 0:s.console.info('Has event with name "'+String(e.name)+'"',e.data),this._fireEvent(String(e.name),e.data);break;case 1:s.console.info('Start action with id "'+e.id+'" and name "'+String(e.name)+'"',e.data),this._createResponse(e);break;case 2:s.console.info('Start response with name "'+e.id+'" and status "'+e.status+'"',e.content),this._fireEndAction(e);break}},e.prototype._createResponse=function(t){var i=this,r=function(e){s.console.error(e),i._adapter.send({id:t.id,type:2,status:1,content:String(e)})};if(this._requestHandlers[String(t.name)])try{var a=this._requestHandlers[String(t.name)](t.data);e._isPromise(a)?a.then((function(e){i._adapter.send({id:t.id,type:2,status:0,content:e})}),r):this._adapter.send({id:t.id,type:2,status:0,content:a})}catch(n){r(n)}else r(new Error('Has no handler for "'+String(t.name)+'" action!'))},e.prototype._fireEndAction=function(e){if(this._activeRequestHash[e.id]){switch(e.status){case 1:this._activeRequestHash[e.id].reject(e.content);break;case 0:this._activeRequestHash[e.id].resolve(e.content);break}delete this._activeRequestHash[e.id]}},e.prototype._fireEvent=function(e,t){this._eventHandlers[e]&&(this._eventHandlers[e]=this._eventHandlers[e].slice().filter((function(e){try{e.handler.call(e.context,t)}catch(i){s.console.warn(i)}return!e.once})),this._eventHandlers[e].length||delete this._eventHandlers[e])},e._createEvent=function(e,t){return{type:0,name:e,data:t}},e._isPromise=function(e){return e&&e.then&&"function"===typeof e.then},e}();t.Bus=r},b383:function(e,t,i){"use strict";t.decode=t.parse=i("91dd"),t.encode=t.stringify=i("e099")},b3ef:function(e,t,i){"use strict";(function(e){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=i("9c4b"),a=i("d47d"),n=function(e){return e.console}("undefined"!==typeof self?self:e),o=Object.create(null);function c(e){o[e]||(o[e]=[])}function d(e,t){o[e].push(t)}function h(){return a.keys(r.config.console.methodsData).reduce((function(e,t){return e[t]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.config.console.logLevel<r.config.console.methodsData[t].logLevel?r.config.console.methodsData[t].save&&(c(t),d(t,e)):n[t].apply(n,e)},e}),Object.create(null))}t.console=s({},h(),{getSavedMessages:function(e){return o[e]||[]}})}).call(this,i("c8ba"))},b43e:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,BadRequest:a}=i("74b0"),n=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"zaif",name:"Zaif",countries:["JP"],rateLimit:2e3,version:"1",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["https://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:.001,maker:0}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}},options:{fees:{"BTC/JPY":{maker:0,taker:0},"BCH/JPY":{maker:0,taker:.003},"BCH/BTC":{maker:0,taker:.003},"PEPECASH/JPY":{maker:0,taker:1e-4},"PEPECASH/BT":{maker:0,taker:1e-4}}},exceptions:{exact:{"unsupported currency_pair":a},broad:{}}})}async fetchMarkets(e={}){const t=await this.publicGetCurrencyPairsAll(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency_pair"),a=this.safeString(e,"name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:-Math.log10(this.safeNumber(e,"item_unit_step")),price:this.safeInteger(e,"aux_unit_point")},l=this.safeValue(this.options["fees"],h,this.fees["trading"]),f=l["taker"],p=l["maker"];i.push({id:r,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,precision:u,taker:f,maker:p,limits:{amount:{min:this.safeNumber(e,"item_unit_min"),max:void 0},price:{min:this.safeNumber(e,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),s=this.safeValue(i,"deposit"),r={info:t,timestamp:void 0,datetime:void 0},a=this.safeValue(i,"funds",{}),n=Object.keys(a);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeCurrencyCode(e),i=this.safeString(a,e),c=this.account();c["free"]=i,c["total"]=i,void 0!==s&&e in s&&(c["total"]=this.safeString(s,e)),r[t]=c}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)},r=await this.publicGetDepthPair(this.extend(s,i));return this.parseOrderBook(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},s=await this.publicGetTickerPair(this.extend(i,t)),r=this.milliseconds(),a=this.safeNumber(s,"vwap"),n=this.safeNumber(s,"volume");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(s,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:a,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:s}}parseTrade(e,t){let i=this.safeString(e,"trade_type");i="bid"===i?"buy":"sell";const s=this.safeTimestamp(e,"date"),r=this.safeString2(e,"id","tid"),a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(n.stringMul(a,o)),u=this.safeString(e,"currency_pair"),l=this.safeSymbol(u,t,"_");return{id:r,info:e,timestamp:s,datetime:this.iso8601(s),symbol:l,type:void 0,side:i,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};let n=await this.publicGetTradesPair(this.extend(a,s));const o=n.length;if(1===o){const e=n[0];Object.keys(e).length||(n=[])}return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new r(this.id+" allows limit orders only");const o={currency_pair:this.marketId(e),action:"buy"===i?"bid":"ask",amount:s,price:a},c=await this.privatePostTrade(this.extend(o,n));return{info:c,id:c["return"]["order_id"].toString()}}async cancelOrder(e,t,i={}){const s={order_id:e};return await this.privatePostCancelOrder(this.extend(s,i))}parseOrder(e,t){let i=this.safeString(e,"action");i="bid"===i?"buy":"sell";const s=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"currency_pair"),a=this.safeSymbol(r,t,"_"),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"amount"),c=this.safeString(e,"id");return this.safeOrder({id:c,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:"open",symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:n,stopPrice:void 0,cost:void 0,amount:o,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["currency_pair"]=r["id"]);const n=await this.privatePostActiveOrders(this.extend(a,s));return this.parseOrders(n["return"],r,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["currency_pair"]=r["id"]);const n=await this.privatePostTradeHistory(this.extend(a,s));return this.parseOrders(n["return"],r,t,i)}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);if("JPY"===e)throw new r(this.id+" withdraw() does not allow "+e+" withdrawals");const o={currency:n["id"],amount:t,address:i};void 0!==s&&(o["message"]=s);const c=await this.privatePostWithdraw(this.extend(o,a));return{info:c,id:c["return"]["txid"],fee:c["return"]["fee"]}}nonce(){const e=parseFloat(this.milliseconds()/1e3);return e.toFixed(8)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/";if("public"===t)n+="api/"+this.version+"/"+this.implodeParams(e,s);else if("fapi"===t)n+="fapi/"+this.version+"/"+this.implodeParams(e,s);else{this.checkRequiredCredentials(),n+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";const i=this.nonce();a=this.urlencode(this.extend({method:e,nonce:i},s)),r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.id+" "+n,u=this.safeString(o,"error");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions["exact"],u,h),this.throwBroadlyMatchedException(this.exceptions["broad"],u,h),new r(h);const l=this.safeValue(o,"success",!0);if(!l)throw new r(h)}}},b50d:function(e,t,i){"use strict";var s=i("c532"),r=i("467f"),a=i("7aac"),n=i("30b5"),o=i("83b9"),c=i("c345"),d=i("3934"),h=i("2d83");e.exports=function(e){return new Promise((function(t,i){var u=e.data,l=e.headers;s.isFormData(u)&&delete l["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(p+":"+m)}var g=o(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),n(g,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var s="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,a=e.responseType&&"text"!==e.responseType?f.response:f.responseText,n={data:a,status:f.status,statusText:f.statusText,headers:s,config:e,request:f};r(t,i,n),f=null}},f.onabort=function(){f&&(i(h("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(h("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(h(t,e,"ECONNABORTED",f)),f=null},s.isStandardBrowserEnv()){var y=(e.withCredentials||d(g))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&s.forEach(l,(function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete l[t]:f.setRequestHeader(t,e)})),s.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),i(e),f=null)})),u||(u=null),f.send(u)}))}},b575:function(e,t,i){var s,r,a,n,o,c,d,h,u=i("da84"),l=i("06cf").f,f=i("2cf4").set,p=i("1cdc"),m=i("a4b4"),g=i("605d"),y=u.MutationObserver||u.WebKitMutationObserver,v=u.document,b=u.process,w=u.Promise,k=l(u,"queueMicrotask"),S=k&&k.value;S||(s=function(){var e,t;g&&(e=b.domain)&&e.exit();while(r){t=r.fn,r=r.next;try{t()}catch(i){throw r?n():a=void 0,i}}a=void 0,e&&e.enter()},p||g||m||!y||!v?w&&w.resolve?(d=w.resolve(void 0),d.constructor=w,h=d.then,n=function(){h.call(d,s)}):n=g?function(){b.nextTick(s)}:function(){f.call(u,s)}:(o=!0,c=v.createTextNode(""),new y(s).observe(c,{characterData:!0}),n=function(){c.data=o=!o})),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,n()),a=t}},b61d:function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},b622:function(e,t,i){var s=i("da84"),r=i("5692"),a=i("5135"),n=i("90e3"),o=i("4930"),c=i("fdbf"),d=r("wks"),h=s.Symbol,u=c?h:h&&h.withoutSetter||n;e.exports=function(e){return a(d,e)&&(o||"string"==typeof d[e])||(o&&a(h,e)?d[e]=h[e]:d[e]=u("Symbol."+e)),d[e]}},b639:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var s=i("1fb5"),r=i("9152"),a=i("e3db");function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=d.prototype):(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,i){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return h(this,e,t,i)}function h(e,t,i,s){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,i,s):"string"===typeof t?p(e,t,i):y(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,i,s){return u(t),t<=0?c(e,t):void 0!==i?"string"===typeof s?c(e,t).fill(i,s):c(e,t).fill(i):c(e,t)}function f(e,t){if(u(t),e=c(e,t<0?0:0|v(t)),!d.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function p(e,t,i){if("string"===typeof i&&""!==i||(i="utf8"),!d.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var s=0|w(t,i);e=c(e,s);var r=e.write(t,i);return r!==s&&(e=e.slice(0,r)),e}function m(e,t){var i=t.length<0?0:0|v(t.length);e=c(e,i);for(var s=0;s<i;s+=1)e[s]=255&t[s];return e}function g(e,t,i,s){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(s||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===s?new Uint8Array(t):void 0===s?new Uint8Array(t,i):new Uint8Array(t,i,s),d.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=d.prototype):e=m(e,t),e}function y(e,t){if(d.isBuffer(t)){var i=0|v(t.length);return e=c(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):m(e,t);if("Buffer"===t.type&&a(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),d.alloc(+e)}function w(e,t){if(d.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return J(e).length;default:if(s)return X(e).length;t=(""+t).toLowerCase(),s=!0}}function k(e,t,i){var s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return V(this,t,i);case"utf8":case"utf-8":return M(this,t,i);case"ascii":return R(this,t,i);case"latin1":case"binary":return L(this,t,i);case"base64":return N(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,i);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function S(e,t,i){var s=e[t];e[t]=e[i],e[i]=s}function _(e,t,i,s,r){if(0===e.length)return-1;if("string"===typeof i?(s=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof t&&(t=d.from(t,s)),d.isBuffer(t))return 0===t.length?-1:O(e,t,i,s,r);if("number"===typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):O(e,[t],i,s,r);throw new TypeError("val must be string, number or Buffer")}function O(e,t,i,s,r){var a,n=1,o=e.length,c=t.length;if(void 0!==s&&(s=String(s).toLowerCase(),"ucs2"===s||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;n=2,o/=2,c/=2,i/=2}function d(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(r){var h=-1;for(a=i;a<o;a++)if(d(e,a)===d(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===c)return h*n}else-1!==h&&(a-=a-h),h=-1}else for(i+c>o&&(i=o-c),a=i;a>=0;a--){for(var u=!0,l=0;l<c;l++)if(d(e,a+l)!==d(t,l)){u=!1;break}if(u)return a}return-1}function T(e,t,i,s){i=Number(i)||0;var r=e.length-i;s?(s=Number(s),s>r&&(s=r)):s=r;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");s>a/2&&(s=a/2);for(var n=0;n<s;++n){var o=parseInt(t.substr(2*n,2),16);if(isNaN(o))return n;e[i+n]=o}return n}function C(e,t,i,s){return ee(X(t,e.length-i),e,i,s)}function x(e,t,i,s){return ee(Z(t),e,i,s)}function I(e,t,i,s){return x(e,t,i,s)}function E(e,t,i,s){return ee(J(t),e,i,s)}function A(e,t,i,s){return ee(Q(t,e.length-i),e,i,s)}function N(e,t,i){return 0===t&&i===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,i))}function M(e,t,i){i=Math.min(e.length,i);var s=[],r=t;while(r<i){var a,n,o,c,d=e[r],h=null,u=d>239?4:d>223?3:d>191?2:1;if(r+u<=i)switch(u){case 1:d<128&&(h=d);break;case 2:a=e[r+1],128===(192&a)&&(c=(31&d)<<6|63&a,c>127&&(h=c));break;case 3:a=e[r+1],n=e[r+2],128===(192&a)&&128===(192&n)&&(c=(15&d)<<12|(63&a)<<6|63&n,c>2047&&(c<55296||c>57343)&&(h=c));break;case 4:a=e[r+1],n=e[r+2],o=e[r+3],128===(192&a)&&128===(192&n)&&128===(192&o)&&(c=(15&d)<<18|(63&a)<<12|(63&n)<<6|63&o,c>65535&&c<1114112&&(h=c))}null===h?(h=65533,u=1):h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|1023&h),s.push(h),r+=u}return B(s)}t.Buffer=d,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),t.kMaxLength=o(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,i){return h(null,e,t,i)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,i){return l(null,e,t,i)},d.allocUnsafe=function(e){return f(null,e)},d.allocUnsafeSlow=function(e){return f(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,s=t.length,r=0,a=Math.min(i,s);r<a;++r)if(e[r]!==t[r]){i=e[r],s=t[r];break}return i<s?-1:s<i?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var s=d.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var n=e[i];if(!d.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(s,r),r+=n.length}return s},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):k.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,i,s,r){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===s&&(s=0),void 0===r&&(r=this.length),t<0||i>e.length||s<0||r>this.length)throw new RangeError("out of range index");if(s>=r&&t>=i)return 0;if(s>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,s>>>=0,r>>>=0,this===e)return 0;for(var a=r-s,n=i-t,o=Math.min(a,n),c=this.slice(s,r),h=e.slice(t,i),u=0;u<o;++u)if(c[u]!==h[u]){a=c[u],n=h[u];break}return a<n?-1:n<a?1:0},d.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},d.prototype.indexOf=function(e,t,i){return _(this,e,t,i,!0)},d.prototype.lastIndexOf=function(e,t,i){return _(this,e,t,i,!1)},d.prototype.write=function(e,t,i,s){if(void 0===t)s="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)s=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===s&&(s="utf8")):(s=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var a=!1;;)switch(s){case"hex":return T(this,e,t,i);case"utf8":case"utf-8":return C(this,e,t,i);case"ascii":return x(this,e,t,i);case"latin1":case"binary":return I(this,e,t,i);case"base64":return E(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),a=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function B(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var i="",s=0;while(s<t)i+=String.fromCharCode.apply(String,e.slice(s,s+=P));return i}function R(e,t,i){var s="";i=Math.min(e.length,i);for(var r=t;r<i;++r)s+=String.fromCharCode(127&e[r]);return s}function L(e,t,i){var s="";i=Math.min(e.length,i);for(var r=t;r<i;++r)s+=String.fromCharCode(e[r]);return s}function V(e,t,i){var s=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>s)&&(i=s);for(var r="",a=t;a<i;++a)r+=Y(e[a]);return r}function D(e,t,i){for(var s=e.slice(t,i),r="",a=0;a<s.length;a+=2)r+=String.fromCharCode(s[a]+256*s[a+1]);return r}function q(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,i,s,r,a){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(i+s>e.length)throw new RangeError("Index out of range")}function G(e,t,i,s){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-i,2);r<a;++r)e[i+r]=(t&255<<8*(s?r:1-r))>>>8*(s?r:1-r)}function U(e,t,i,s){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-i,4);r<a;++r)e[i+r]=t>>>8*(s?r:3-r)&255}function F(e,t,i,s,r,a){if(i+s>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function H(e,t,i,s,a){return a||F(e,t,i,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,i,s,23,4),i+4}function z(e,t,i,s,a){return a||F(e,t,i,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,i,s,52,8),i+8}d.prototype.slice=function(e,t){var i,s=this.length;if(e=~~e,t=void 0===t?s:~~t,e<0?(e+=s,e<0&&(e=0)):e>s&&(e=s),t<0?(t+=s,t<0&&(t=0)):t>s&&(t=s),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=d.prototype;else{var r=t-e;i=new d(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+e]}return i},d.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||q(e,t,this.length);var s=this[e],r=1,a=0;while(++a<t&&(r*=256))s+=this[e+a]*r;return s},d.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||q(e,t,this.length);var s=this[e+--t],r=1;while(t>0&&(r*=256))s+=this[e+--t]*r;return s},d.prototype.readUInt8=function(e,t){return t||q(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||q(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||q(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||q(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||q(e,t,this.length);var s=this[e],r=1,a=0;while(++a<t&&(r*=256))s+=this[e+a]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*t)),s},d.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||q(e,t,this.length);var s=t,r=1,a=this[e+--s];while(s>0&&(r*=256))a+=this[e+--s]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},d.prototype.readInt8=function(e,t){return t||q(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||q(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt16BE=function(e,t){t||q(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt32LE=function(e,t){return t||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||q(e,4,this.length),r.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||q(e,4,this.length),r.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||q(e,8,this.length),r.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||q(e,8,this.length),r.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,i,s){if(e=+e,t|=0,i|=0,!s){var r=Math.pow(2,8*i)-1;j(this,e,t,i,r,0)}var a=1,n=0;this[t]=255&e;while(++n<i&&(a*=256))this[t+n]=e/a&255;return t+i},d.prototype.writeUIntBE=function(e,t,i,s){if(e=+e,t|=0,i|=0,!s){var r=Math.pow(2,8*i)-1;j(this,e,t,i,r,0)}var a=i-1,n=1;this[t+a]=255&e;while(--a>=0&&(n*=256))this[t+a]=e/n&255;return t+i},d.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):G(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):G(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,i,s){if(e=+e,t|=0,!s){var r=Math.pow(2,8*i-1);j(this,e,t,i,r-1,-r)}var a=0,n=1,o=0;this[t]=255&e;while(++a<i&&(n*=256))e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/n>>0)-o&255;return t+i},d.prototype.writeIntBE=function(e,t,i,s){if(e=+e,t|=0,!s){var r=Math.pow(2,8*i-1);j(this,e,t,i,r-1,-r)}var a=i-1,n=1,o=0;this[t+a]=255&e;while(--a>=0&&(n*=256))e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/n>>0)-o&255;return t+i},d.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):G(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):G(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,i){return H(this,e,t,!0,i)},d.prototype.writeFloatBE=function(e,t,i){return H(this,e,t,!1,i)},d.prototype.writeDoubleLE=function(e,t,i){return z(this,e,t,!0,i)},d.prototype.writeDoubleBE=function(e,t,i){return z(this,e,t,!1,i)},d.prototype.copy=function(e,t,i,s){if(i||(i=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<i&&(s=i),s===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-i&&(s=e.length-t+i);var r,a=s-i;if(this===e&&i<t&&t<s)for(r=a-1;r>=0;--r)e[r+t]=this[r+i];else if(a<1e3||!d.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},d.prototype.fill=function(e,t,i,s){if("string"===typeof e){if("string"===typeof t?(s=t,t=0,i=this.length):"string"===typeof i&&(s=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==s&&"string"!==typeof s)throw new TypeError("encoding must be a string");if("string"===typeof s&&!d.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(a=t;a<i;++a)this[a]=e;else{var n=d.isBuffer(e)?e:X(new d(e,s).toString()),o=n.length;for(a=0;a<i-t;++a)this[a+t]=n[a%o]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function W(e){if(e=$(e).replace(K,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function $(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var i;t=t||1/0;for(var s=e.length,r=null,a=[],n=0;n<s;++n){if(i=e.charCodeAt(n),i>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(n+1===s){(t-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function Z(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function Q(e,t){for(var i,s,r,a=[],n=0;n<e.length;++n){if((t-=2)<0)break;i=e.charCodeAt(n),s=i>>8,r=i%256,a.push(r),a.push(s)}return a}function J(e){return s.toByteArray(W(e))}function ee(e,t,i,s){for(var r=0;r<s;++r){if(r+i>=t.length||r>=e.length)break;t[r+i]=e[r]}return r}function te(e){return e!==e}}).call(this,i("c8ba"))},b640:function(e,t,i){"use strict";function s(e){if("object"===typeof e&&null!==e){if("function"===typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1}function r(e){return Array.isArray(e)?e:[e]}function a(e){return e[0]}function n(e){return new Promise((function(t){setTimeout(t,e)}))}function o(e){return function(t){return t[e]}}function c(e){return function(t){return t.map(e)}}function d(e){return function(t){return t.filter(e)}}function h(e,t){return t.reduce((function(t,i){return t[e(i)]=i,t}),{})}function u(e){return function(t){return e[t.type]&&"function"===typeof e[t.type]?e[t.type](t):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=t.switchTransactionByType=t.uniq=t.indexBy=t.filter=t.map=t.deepAssign=t.assign=t.values=t.entries=t.keys=t.prop=t.wait=t.head=t.toArray=t.isObject=void 0,t.isObject=s,t.toArray=r,t.head=a,t.wait=n,t.prop=o,t.keys=function(e){return Object.keys(e)},t.entries=function(e){return t.keys(e).map((function(t){return[t,e[t]]}))},t.values=function(e){return t.keys(e).map((function(t){return e[t]}))},t.assign=function(e,i){return t.entries(i).reduce((function(t,i){var s=i[0],r=i[1];return e[s]=r,e}),e)},t.deepAssign=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.reduce((function(e,i){return t.keys(i).forEach((function(r){Array.isArray(e[r])&&Array.isArray(i[r])?e[r]=Array.from(new Set(e[r].concat(i[r]))):s(e[r])&&s(i[r])?e[r]=t.deepAssign(e[r],i[r]):e[r]=i[r]})),e}),e[0]||{})},t.map=c,t.filter=d,t.indexBy=h,t.uniq=function(e){return t.keys(e.reduce((function(e,t){return null!=t&&(e[t]=t),e}),Object.create(null)))},t.switchTransactionByType=u,t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}},b64b:function(e,t,i){var s=i("23e7"),r=i("7b0b"),a=i("df75"),n=i("d039"),o=n((function(){a(1)}));s({target:"Object",stat:!0,forced:o},{keys:function(e){return a(r(e))}})},b64c:function(e,t,i){"use strict";const s=i("90db"),r=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182090-1e9e9080-c2ec-11ea-8e49-563db9a38f37.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetAllOrders","GetTradeHistorySummary","GetRecentTrades","GetFxRates","GetOrderMinimumVolumes","GetCryptoWithdrawalFees"]},private:{post:["GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetFiatBankAccounts","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","GetTrades","GetBrokerageFees","GetDigitalCurrencyWithdrawal","PlaceLimitOrder","PlaceMarketOrder","CancelOrder","SynchDigitalCurrencyDepositAddressWithBlockchain","RequestFiatWithdrawal","WithdrawFiatCurrency","WithdrawDigitalCurrency"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}},commonCurrencies:{PLA:"PlayChip"}})}async fetchMarkets(e={}){const t=await this.publicGetGetValidPrimaryCurrencyCodes(e),i=await this.publicGetGetValidSecondaryCurrencyCodes(e),s=await this.publicGetGetOrderMinimumVolumes(e),r=[];for(let a=0;a<t.length;a++){const e=t[a],n=this.safeCurrencyCode(e),o=this.safeNumber(s,e);for(let t=0;t<i.length;t++){const s=i[t],a=this.safeCurrencyCode(s),c=e+"/"+s,d=n+"/"+a;r.push({id:c,symbol:d,base:n,quote:a,baseId:e,quoteId:s,info:c,active:void 0,precision:this.precision,limits:{amount:{min:o,max:void 0}}})}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccounts(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"CurrencyCode"),a=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(e,"AvailableBalance"),n["total"]=this.safeString(e,"TotalBalance"),i[a]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={primaryCurrencyCode:s["baseId"],secondaryCurrencyCode:s["quoteId"]},a=await this.publicGetGetOrderBook(this.extend(r,i)),n=this.parse8601(this.safeString(a,"CreatedTimestampUtc"));return this.parseOrderBook(a,e,n,"BuyOrders","SellOrders","Price","Volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"CreatedTimestampUtc"));let s=void 0;t&&(s=t["symbol"]);const r=this.safeNumber(e,"LastPrice");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"DayHighestPrice"),low:this.safeNumber(e,"DayLowestPrice"),bid:this.safeNumber(e,"CurrentHighestBidPrice"),bidVolume:void 0,ask:this.safeNumber(e,"CurrentLowestOfferPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"DayAvgPrice"),baseVolume:this.safeNumber(e,"DayVolumeXbtInSecondaryCurrrency"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={primaryCurrencyCode:i["baseId"],secondaryCurrencyCode:i["quoteId"]},r=await this.publicGetGetMarketSummary(this.extend(s,t));return this.parseTicker(r,i)}parseOrder(e,t){let i=void 0;const s=this.safeString(e,"PrimaryCurrencyCode"),r=this.safeString(e,"SecondaryCurrencyCode");let a=void 0,n=void 0;void 0!==s&&void 0!==r?(a=this.safeCurrencyCode(s),n=this.safeCurrencyCode(r),i=a+"/"+n):void 0!==t&&(i=t["symbol"],a=t["base"],n=t["quote"]);let o=this.safeString2(e,"Type","OrderType"),c=void 0;o.indexOf("Bid")>=0?c="buy":o.indexOf("Offer")>=0&&(c="sell"),o.indexOf("Market")>=0?o="market":o.indexOf("Limit")>=0&&(o="limit");const d=this.parse8601(this.safeString(e,"CreatedTimestampUtc")),h=this.safeNumber2(e,"VolumeOrdered","Volume"),u=this.safeNumber(e,"VolumeFilled"),l=this.safeNumber(e,"Outstanding"),f=this.safeNumber(e,"FeePercent");let p=void 0;void 0!==f&&(p=f*u);const m={rate:f,cost:p,currency:a},g=this.safeString(e,"OrderGuid"),y=this.parseOrderStatus(this.safeString(e,"Status")),v=this.safeNumber(e,"Value"),b=this.safeNumber(e,"AvgPrice"),w=this.safeNumber(e,"Price");return this.safeOrder({info:e,id:g,clientOrderId:void 0,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:i,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:w,stopPrice:void 0,cost:v,average:b,amount:h,filled:u,remaining:l,status:y,fee:m,trades:void 0})}parseOrderStatus(e){const t={Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"};return this.safeString(t,e,e)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=await this.privatePostGetOrderDetails(this.extend({orderGuid:e},i));let r=void 0;return void 0!==t&&(r=this.market(t)),this.parseOrder(s,r)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r=this.ordered({});let a=void 0;void 0!==e&&(a=this.market(e),r["primaryCurrencyCode"]=a["baseId"],r["secondaryCurrencyCode"]=a["quoteId"]),void 0===i&&(i=50),r["pageIndex"]=1,r["pageSize"]=i;const n=await this.privatePostGetOpenOrders(this.extend(r,s)),o=this.safeValue(n,"Data",[]);return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r=this.ordered({});let a=void 0;void 0!==e&&(a=this.market(e),r["primaryCurrencyCode"]=a["baseId"],r["secondaryCurrencyCode"]=a["quoteId"]),void 0===i&&(i=50),r["pageIndex"]=1,r["pageSize"]=i;const n=await this.privatePostGetClosedOrders(this.extend(r,s)),o=this.safeValue(n,"Data",[]);return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i=50,s={}){await this.loadMarkets();const r=this.safeInteger(s,"pageIndex",1);void 0===i&&(i=50);const a=this.ordered({pageIndex:r,pageSize:i}),n=await this.privatePostGetTrades(this.extend(a,s));let o=void 0;return void 0!==e&&(o=this.market(e)),this.parseTrades(n["Data"],o,t,i)}parseTrade(e,t){const i=this.parse8601(e["TradeTimestampUtc"]),s=this.safeString(e,"TradeGuid"),a=this.safeString(e,"OrderGuid"),n=this.safeString2(e,"Price","SecondaryCurrencyTradePrice"),o=this.safeString2(e,"VolumeTraded","PrimaryCurrencyAmount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(r.stringMul(n,o)),u=this.safeString(e,"PrimaryCurrencyCode"),l=this.safeString(e,"SecondaryCurrencyCode");let f=void 0;void 0!==u&&void 0!==l&&(f=u+"/"+l);const p=this.safeSymbol(f,t,"/");let m=this.safeString(e,"OrderType");return void 0!==m&&(m.indexOf("Bid")>=0?m="buy":m.indexOf("Offer")>=0&&(m="sell")),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,order:a,type:void 0,side:m,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={primaryCurrencyCode:r["baseId"],secondaryCurrencyCode:r["quoteId"],numberOfRecentTradesToRetrieve:50},n=await this.publicGetGetRecentTrades(this.extend(a,s));return this.parseTrades(n["Trades"],r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=this.capitalize(t),c="privatePostPlace"+o+"Order";let d=o;d+="sell"===i?"Offer":"Bid";const h=this.ordered({primaryCurrencyCode:n["baseId"],secondaryCurrencyCode:n["quoteId"],orderType:d});"limit"===t&&(h["price"]=r),h["volume"]=s;const u=await this[c](this.extend(h,a));return{info:u,id:u["OrderGuid"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={orderGuid:e};return await this.privatePostCancelOrder(this.extend(s,i))}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+e;if("public"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{this.checkRequiredCredentials();const e=this.nonce(),t=[n,"apiKey="+this.apiKey,"nonce="+e.toString()],i=Object.keys(s);for(let r=0;r<i.length;r++){const e=i[r],a=s[e].toString();t.push(e+"="+a)}const o=t.join(","),c=this.hmac(this.encode(o),this.encode(this.secret)),d=this.ordered({});d["apiKey"]=this.apiKey,d["nonce"]=e,d["signature"]=c.toUpperCase();for(let r=0;r<i.length;r++){const e=i[r];d[e]=s[e]}a=this.json(d),r={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:r}}}},b680:function(e,t,i){"use strict";var s=i("23e7"),r=i("a691"),a=i("408a"),n=i("1148"),o=i("d039"),c=1..toFixed,d=Math.floor,h=function(e,t,i){return 0===t?i:t%2===1?h(e,t-1,i*e):h(e*e,t/2,i)},u=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},l=function(e,t,i){var s=-1,r=i;while(++s<6)r+=t*e[s],e[s]=r%1e7,r=d(r/1e7)},f=function(e,t){var i=6,s=0;while(--i>=0)s+=e[i],e[i]=d(s/t),s=s%t*1e7},p=function(e){var t=6,i="";while(--t>=0)if(""!==i||0===t||0!==e[t]){var s=String(e[t]);i=""===i?s:i+n.call("0",7-s.length)+s}return i},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));s({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,i,s,o,c=a(this),d=r(e),m=[0,0,0,0,0,0],g="",y="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(t=u(c*h(2,69,1))-69,i=t<0?c*h(2,-t,1):c/h(2,t,1),i*=4503599627370496,t=52-t,t>0){l(m,0,i),s=d;while(s>=7)l(m,1e7,0),s-=7;l(m,h(10,s,1),0),s=t-1;while(s>=23)f(m,1<<23),s-=23;f(m,1<<s),l(m,1,1),f(m,2),y=p(m)}else l(m,0,i),l(m,1<<-t,0),y=p(m)+n.call("0",d);return d>0?(o=y.length,y=g+(o<=d?"0."+n.call("0",d-o)+y:y.slice(0,o-d)+"."+y.slice(o-d))):y=g+y,y}})},b727:function(e,t,i){var s=i("0366"),r=i("44ad"),a=i("7b0b"),n=i("50c4"),o=i("65f0"),c=[].push,d=function(e){var t=1==e,i=2==e,d=3==e,h=4==e,u=6==e,l=7==e,f=5==e||u;return function(p,m,g,y){for(var v,b,w=a(p),k=r(w),S=s(m,g,3),_=n(k.length),O=0,T=y||o,C=t?T(p,_):i||l?T(p,0):void 0;_>O;O++)if((f||O in k)&&(v=k[O],b=S(v,O,w),e))if(t)C[O]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return O;case 2:c.call(C,v)}else switch(e){case 4:return!1;case 7:c.call(C,v)}return u?-1:d||h?h:C}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},b761:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a}=i("74b0"),n=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"btctradeua",name:"BTC Trade UA",countries:["UA"],rateLimit:3e3,has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,signIn:!0},urls:{referral:"https://btc-trade.com.ua/registration/22689",logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"dash",quoteId:"btc"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH",baseId:"dash",quoteId:"uah"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH",baseId:"doge",quoteId:"uah"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH",baseId:"iti",quoteId:"uah"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH",baseId:"krb",quoteId:"uah"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH",baseId:"ltc",quoteId:"uah"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC",baseId:"nvc",quoteId:"btc"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH",baseId:"nvc",quoteId:"uah"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC",baseId:"ppc",quoteId:"btc"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH",baseId:"sib",quoteId:"uah"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH",baseId:"xmr",quoteId:"uah"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH",baseId:"zec",quoteId:"uah"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}async signIn(e={}){return await this.privatePostAuth(e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},s=this.safeValue(t,"accounts");for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["total"]=this.safeString(e,"balance"),i[a]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]},a=await this.publicGetTradesBuySymbol(this.extend(r,i)),n=await this.publicGetTradesSellSymbol(this.extend(r,i)),o={bids:[],asks:[]};return a&&"list"in a&&(o["bids"]=a["list"]),n&&"list"in n&&(o["asks"]=n["list"]),this.parseOrderBook(o,e,void 0,"bids","asks","price","currency_trade")}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},s=await this.publicGetJapanStatHighSymbol(this.extend(i,t)),r=this.safeValue(s,"trades"),a=this.milliseconds(),n={symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:r},o=r.length;if(o>0){const e=Math.max(o-48,0);for(let i=e;i<r.length;i++){const e=r[i];void 0===n["open"]&&(n["open"]=e[1]),(void 0===n["high"]||n["high"]<e[2])&&(n["high"]=e[2]),(void 0===n["low"]||n["low"]>e[3])&&(n["low"]=e[3]),void 0===n["baseVolume"]?n["baseVolume"]=-e[5]:n["baseVolume"]-=e[5]}const t=o-1;n["last"]=r[t][4],n["close"]=n["last"],n["baseVolume"]=-1*n["baseVolume"]}return n}convertCyrillicMonthNameToString(e){const t={"":"01","":"02","":"03","":"04","":"05","":"06","":"07","":"08","":"09","":"10","":"11","":"12"};return this.safeString(t,e)}parseCyrillicDatetime(e){const t=e.split(" ");let i=t[0];const s=this.convertCyrillicMonthNameToString(t[1]);if(!s)throw new r(this.id+" parseTrade() undefined month name: "+e);const a=t[2];let n=t[4];const o=n.length;7===o&&(n="0"+n),1===i.length&&(i="0"+i);const c=[a,s,i].join("-"),d=c+"T"+n,h=this.parse8601(d);let u=[s,i].join("");return u=parseInt(u),u<325||u>1028?h-72e5:h-108e5}parseTrade(e,t){const i=this.parseCyrillicDatetime(this.safeString(e,"pub_date")),s=this.safeString(e,"id"),r="limit",a=this.safeString(e,"type"),o=this.safeString(e,"price"),c=this.safeString(e,"amnt_trade"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(n.stringMul(o,c));let l=void 0;return void 0!==t&&(l=t["symbol"]),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,type:r,side:a,order:void 0,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.publicGetDealsSymbol(this.extend(a,s)),o=[];for(let c=0;c<n.length;c++)n[c]["id"]%2&&o.push(n[c]);return this.parseTrades(o,r,t,i)}async createOrder(e,t,i,s,a,n={}){if("market"===t)throw new r(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i)+"Id",d={count:s,currency1:o["quoteId"],currency:o["baseId"],price:a};return this[c](this.extend(d,n))}async cancelOrder(e,t,i={}){const s={id:e};return await this.privatePostRemoveOrderId(this.extend(s,i))}parseOrder(e,t){const i=this.milliseconds();let s=void 0;return void 0!==t&&(s=t["symbol"]),{id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:"open",symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:this.safeNumber(e,"price"),stopPrice:void 0,amount:this.safeNumber(e,"amnt_trade"),filled:0,remaining:this.safeNumber(e,"amnt_trade"),trades:void 0,info:e,cost:void 0,average:void 0,fee:void 0}}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={symbol:r["id"]},o=await this.privatePostMyOrdersSymbol(this.extend(n,s)),c=this.safeValue(o,"your_open_orders");return this.parseOrders(c,r,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+=this.implodeParams(e,o));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({out_order_id:e,nonce:e},o));const t=a+this.secret;r={"public-key":this.apiKey,"api-sign":this.hash(this.encode(t),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:r}}}},b76b:function(e,t,i){var s=i("5259");i("fb3e"),i("deb0"),i("ca73"),i("66b0"),i("3b29"),i("da63"),i("1ae3"),i("4778"),i("6497"),i("9d8b");var r=s.asn1,a=e.exports=s.pki=s.pki||{};a.pemToDer=function(e){var t=s.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return s.util.createBuffer(t.body)},a.privateKeyFromPem=function(e){var t=s.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=t.type,i}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=r.fromDer(t.body);return a.privateKeyFromAsn1(n)},a.privateKeyToPem=function(e,t){var i={type:"RSA PRIVATE KEY",body:r.toDer(a.privateKeyToAsn1(e)).getBytes()};return s.pem.encode(i,{maxline:t})},a.privateKeyInfoToPem=function(e,t){var i={type:"PRIVATE KEY",body:r.toDer(e).getBytes()};return s.pem.encode(i,{maxline:t})}},b7d1:function(e,t,i){(function(t){function i(e,t){if(s("noDeprecation"))return e;var i=!1;function r(){if(!i){if(s("throwDeprecation"))throw new Error(t);s("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}return r}function s(e){try{if(!t.localStorage)return!1}catch(s){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(this,i("c8ba"))},b810:function(e,t,i){"use strict";var s=i("ce7e");t["a"]=s["a"]},b848:function(e,t,i){"use strict";var s=i("2909"),r=i("58df");function a(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];r.isActive&&r.isDependent?t.push(r):t.push.apply(t,Object(s["a"])(a(r.$children)))}return t}t["a"]=Object(r["a"])().extend({name:"dependent",data:function(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive:function(e){if(!e)for(var t=this.getOpenDependents(),i=0;i<t.length;i++)t[i].isActive=!1}},methods:{getOpenDependents:function(){return this.closeDependents?a(this.$children):[]},getOpenDependentElements:function(){for(var e=[],t=this.getOpenDependents(),i=0;i<t.length;i++)e.push.apply(e,Object(s["a"])(t[i].getClickableDependentElements()));return e},getClickableDependentElements:function(){var e=[this.$el];return this.$refs.content&&e.push(this.$refs.content),this.overlay&&e.push(this.overlay.$el),e.push.apply(e,Object(s["a"])(this.getOpenDependentElements())),e}}})},b85c:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");var s=i("06c5");function r(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=Object(s["a"])(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){c=!0,n=e},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(c)throw n}}}}},b8fe:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,ExchangeNotAvailable:n,InvalidNonce:o,InsufficientFunds:c,OrderNotFound:d,DDoSProtection:h,InvalidOrder:u,AuthenticationError:l,RateLimitExceeded:f}=i("74b0"),p=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"yobit",name:"YoBit",countries:["RU"],rateLimit:3e3,version:"3",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BITS:"Bitstar",BLN:"Bulleon",BNS:"Benefit Bonus Coin",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BST:"BitStone",BTS:"Bitshares2",CAT:"BitClave",CBC:"CryptoBossCoin",CMT:"CometCoin",COIN:"Coin.com",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CREDIT:"Creditbit",CS:"CryptoSpots",DCT:"Discount",DFT:"DraftCoin",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",DSH:"DASH",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUND:"FUNDChains",FUNK:"FUNKCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",GOT:"Giotto Coin",GSX:"GlowShares",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",JWL:"Jewels",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",LUNA:"Luna Coin",MASK:"Yobit MASK",MDT:"Midnight",MIS:"MIScoin",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",ONX:"Onix",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PutinCoin",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RAI:"RaiderCoin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",SBTC:"Super Bitcoin",TTC:"TittieCoin",UNI:"Universe",UST:"Uservice",VOL:"VolumeCoin",XIN:"XINCoin",XRA:"Ratecoin"},options:{fetchOrdersRequiresSymbol:!0,fetchTickersMaxLength:512},exceptions:{exact:{803:u,804:u,805:u,806:u,807:u,831:c,832:c,833:d},broad:{"Invalid pair name":r,"invalid api key":l,"invalid sign":l,"api key dont have trade permission":l,"invalid parameter":u,"invalid order":u,"The given order has already been cancelled":u,"Requests too often":h,"not available":n,"data unavailable":n,"external service unavailable":n,"Total transaction amount":u,"The given order has already been closed and cannot be cancelled":u,"Insufficient funds":c,"invalid key":l,"invalid nonce":o,"Total order amount is less than minimal amount":u,"Rate Limited":f}},orders:{}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),s=this.safeInteger(i,"server_time"),r={info:t,timestamp:s,datetime:this.iso8601(s)},a=this.safeValue(i,"funds",{}),n=this.safeValue(i,"funds_incl_orders",{}),o=Object.keys(this.extend(a,n));for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),i=this.account();i["free"]=this.safeString(a,e),i["total"]=this.safeString(n,e),r[t]=i}return this.parseBalance(r,!1)}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=this.safeValue(t,"pairs"),s=Object.keys(i),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=i[e],[n,o]=e.split("_");let c=n.toUpperCase(),d=o.toUpperCase();c=this.safeCurrencyCode(c),d=this.safeCurrencyCode(d);const h=c+"/"+d,u={amount:this.safeInteger(t,"decimal_places"),price:this.safeInteger(t,"decimal_places")},l={min:this.safeNumber(t,"min_amount"),max:this.safeNumber(t,"max_amount")},f={min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},m={min:this.safeNumber(t,"min_total")},g={amount:l,price:f,cost:m},y=this.safeInteger(t,"hidden"),v=0===y;let b=this.safeString(t,"fee");b=p.stringDiv(b,"100");const w=this.parseNumber(b),k=this.parseNumber(b);r.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:v,taker:w,maker:k,precision:u,limits:g,info:t})}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),a={pair:s["id"]};void 0!==t&&(a["limit"]=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o=s["id"]in n;if(!o)throw new r(this.id+" "+s["symbol"]+" order book is empty or not available");const c=n[s["id"]];return this.parseOrderBook(c,e)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let s=void 0;if(void 0===e){if(s=this.ids.join("-"),s.length>2048){const e=this.ids.length;throw new r(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else s=this.marketIds(e),s=s.join("-");const a={pair:s};void 0!==t&&(a["limit"]=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};s=Object.keys(n);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeSymbol(e);o[t]=this.parseOrderBook(n[e])}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol_cur"),quoteVolume:this.safeNumber(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;i=i.join("-");const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);if(i.length>this.options["fetchTickersMaxLength"])throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}else i=this.marketIds(e),i=i.join("-");const s={pair:i},r=await this.publicGetTickerPair(this.extend(s,t)),n={},o=Object.keys(r);for(let a=0;a<o.length;a++){const e=o[a],t=r[e],i=this.safeMarket(e),s=i["symbol"];n[s]=this.parseTicker(t,i)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return i[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let s=this.safeString(e,"type");"ask"===s?s="sell":"bid"===s&&(s="buy");const r=this.safeString2(e,"rate","price"),a=this.safeString2(e,"trade_id","tid"),n=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),d=this.safeString(e,"amount"),h=this.parseNumber(p.stringMul(r,d)),u=this.parseNumber(r),l=this.parseNumber(d),f="limit";let m=void 0;const g=this.safeNumber(e,"commission");if(void 0!==g){const t=this.safeString(e,"commissionCurrency"),i=this.safeCurrencyCode(t);m={cost:g,currency:i}}const y=this.safeValue(e,"is_your_order");return void 0!==y&&void 0===m&&(m=this.calculateFee(c,f,s,l,u,"taker")),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:c,type:f,side:s,takerOrMaker:void 0,price:u,amount:l,cost:h,fee:m,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetTradesPair(this.extend(a,s));if(Array.isArray(n)){const e=n.length;if(0===e)return[]}return this.parseTrades(n[r["id"]],r,t,i)}async createOrder(e,t,i,s,a,n={}){if("market"===t)throw new r(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,amount:this.amountToPrecision(e,s),rate:this.priceToPrecision(e,a)};a=parseFloat(a),s=parseFloat(s);const d=await this.privatePostTrade(this.extend(c,n));let h=void 0,u="open",l=0,f=s;"return"in d&&(h=this.safeString(d["return"],"order_id"),"0"===h&&(h=this.safeString(d["return"],"init_order_id"),u="closed"),l=this.safeNumber(d["return"],"received",0),f=this.safeNumber(d["return"],"remains",s));const p=this.milliseconds();return{id:h,timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,status:u,symbol:e,type:t,side:i,price:a,cost:a*l,amount:s,remaining:f,filled:l,fee:void 0,info:d,clientOrderId:void 0,average:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(s,i))}parseOrderStatus(e){const t={0:"open",1:"closed",2:"canceled",3:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeTimestamp(e,"timestamp_created"),a=this.safeString(e,"pair"),n=this.safeSymbol(a,t),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"start_amount"),d=this.safeNumber(e,"rate"),h=void 0,u="limit",l=this.safeString(e,"type");return this.safeOrder({info:e,id:i,clientOrderId:void 0,symbol:n,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,type:u,timeInForce:void 0,postOnly:void 0,side:l,price:d,stopPrice:void 0,cost:void 0,amount:c,remaining:o,filled:void 0,status:s,fee:h,average:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:parseInt(e)},r=await this.privatePostOrderInfo(this.extend(s,i));e=e.toString();const a=this.safeValue(r,"return",{});return this.parseOrder(this.extend({id:e},a[e]))}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r={},n=void 0;if(void 0!==e){const t=this.market(e);r["pair"]=t["id"]}const o=await this.privatePostActiveOrders(this.extend(r,s)),c=this.safeValue(o,"return",[]);return this.parseOrders(c,n,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),n={pair:r["id"]};void 0!==i&&(n["count"]=parseInt(i)),void 0!==t&&(n["since"]=parseInt(t/1e3));const o=await this.privatePostTradeHistory(this.extend(n,s)),c=this.safeValue(o,"return",{}),d=Object.keys(c),h=[];for(let a=0;a<d.length;a++){const e=d[a],t=this.parseTrade(this.extend(c[e],{trade_id:e}),r);h.push(t)}return this.filterBySymbolSinceLimit(h,e,t,i)}async createDepositAddress(e,t={}){const i={need_new:1},s=await this.fetchDepositAddress(e,this.extend(i,t)),r=this.safeString(s,"address");return this.checkAddress(r),{currency:e,address:r,tag:void 0,info:s["info"]}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={coinName:i["id"],need_new:0},r=await this.privatePostGetDepositAddress(this.extend(s,t)),a=this.safeString(r["return"],"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:r}}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o={coinName:n["id"],amount:t,address:i};if(void 0!==s)throw new r(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");const c=await this.privatePostWithdrawCoinsToAddress(this.extend(o,a));return{info:c,id:void 0}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t];const o=this.omit(s,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.version+"/"+this.implodeParams(e,s),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,s),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),r={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new r(i)}}}}},b92f:function(e,t,i){"use strict";var s,r=t,a=i("fee7"),n=a.utils.assert;function o(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var i=new o(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:i}),i}})}r.PresetCurve=o,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:"SHA256",gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:"SHA256",gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:"SHA256",gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:"SHA384",gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:"SHA512",gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=i("815d")}catch(d){s=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:"SHA256",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},b9b3:function(e,t,i){"use strict";var s=t,r=i("74d2");function a(e,t){var i=[],s=1<<t+1,r=e.clone();while(r.cmpn(1)>=0){var a;if(r.isOdd()){var n=r.andln(s-1);a=n>(s>>1)-1?(s>>1)-n:n,r.isubn(a)}else a=0;i.push(a);for(var o=0!==r.cmpn(0)&&0===r.andln(s-1)?t+1:1,c=1;c<o;c++)i.push(0);r.iushrn(o)}return i}function n(e,t){var i=[[],[]];e=e.clone(),t=t.clone();var s=0,r=0;while(e.cmpn(-s)>0||t.cmpn(-r)>0){var a,n,o=e.andln(3)+s&3,c=t.andln(3)+r&3;if(3===o&&(o=-1),3===c&&(c=-1),0===(1&o))a=0;else{var d=e.andln(7)+s&7;a=3!==d&&5!==d||2!==c?o:-o}if(i[0].push(a),0===(1&c))n=0;else{d=t.andln(7)+r&7;n=3!==d&&5!==d||2!==o?c:-c}i[1].push(n),2*s===a+1&&(s=1-s),2*r===n+1&&(r=1-r),e.iushrn(1),t.iushrn(1)}return i}function o(e,t,i){var s="_"+t;e.prototype[t]=function(){return void 0!==this[s]?this[s]:this[s]=i.call(this)}}function c(e){return"string"===typeof e?s.toArray(e,"hex"):e}function d(e){return new r(e,"hex","le")}function h(e,t){var i=[],s=255;return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&s),t>2&&i.push(e>>>8&s),t>3&&i.push(e&s),i}function u(e){let t=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");t=e.sigBytes,e=e.words;const i=[];let s=[],r=0;while(t>0)s=h(e[r],Math.min(4,t)),t-=s.length,i.push(s),r++;return[].concat.apply([],i)}function l(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!==typeof e){for(var s=0;s<e.length;s++)i[s]=0|e[s];return i}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(s=0;s<e.length;s+=2)i.push(parseInt(e[s]+e[s+1],16))}else for(s=0;s<e.length;s++){var r=e.charCodeAt(s),a=r>>8,n=255&r;a?i.push(a,n):i.push(n)}return i}function f(e){return 1===e.length?"0"+e:e}function p(e){for(var t="",i=0;i<e.length;i++)t+=f(e[i].toString(16));return t}s.assert=function(e,t){if(!e)throw new Error(t)},s.getNAF=a,s.getJSF=n,s.cachedProperty=o,s.parseBytes=c,s.intFromLE=d,s.wordArrayToBuffer=u,s.toArray=l,s.zero2=f,s.toHex=p,s.encode=function(e,t){return"hex"===t?p(e):e}},b9df:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InsufficientFunds:a,InvalidOrder:n,AuthenticationError:o,PermissionDenied:c,InvalidNonce:d,OrderNotFound:h,DDoSProtection:u}=i("74b0"),l=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"btcbox",name:"BtcBox",countries:["JP"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87327317-98c55400-c53c-11ea-9a11-81f7d951cc74.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://blog.btcbox.jp/en/archives/8762",fees:"https://support.btcbox.co.jp/hc/en-us/articles/360001235694-Fees-introduction"},api:{public:{get:["depth","orders","ticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"btc",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy",taker:5e-4,maker:5e-4},"ETH/JPY":{id:"eth",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy",taker:.001,maker:.001},"LTC/JPY":{id:"ltc",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy",taker:.001,maker:.001},"BCH/JPY":{id:"bch",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bch",quoteId:"jpy",taker:.001,maker:.001}},exceptions:{104:o,105:c,106:d,107:n,200:a,201:n,202:n,203:h,401:h,402:u}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},s=Object.keys(this.currencies);for(let r=0;r<s.length;r++){const e=s[r],a=this.currency(e),n=a["id"],o=n+"_balance";if(o in t){const s=this.account(),r=n+"_lock";s["free"]=this.safeString(t,o),s["used"]=this.safeString(t,r),i[e]=s}}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={},a=this.symbols.length;a>1&&(r["coin"]=s["baseId"]);const n=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(n,e)}parseTicker(e,t){const i=this.milliseconds();let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={},r=this.symbols.length;r>1&&(s["coin"]=i["baseId"]);const a=await this.publicGetTicker(this.extend(s,t));return this.parseTicker(a,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeString(e,"tid"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(l.stringMul(a,n)),h=void 0,u=this.safeString(e,"type");return{info:e,id:r,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:h,side:u,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={},n=this.symbols.length;n>1&&(a["coin"]=r["baseId"]);const o=await this.publicGetOrders(this.extend(a,s));return this.parseTrades(o,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={amount:s,price:r,type:i,coin:n["baseId"]},c=await this.privatePostTradeAdd(this.extend(o,a));return this.parseOrder(c,n)}async cancelOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const s=this.market(t),r={id:e,coin:s["baseId"]},a=await this.privatePostTradeCancel(this.extend(r,i));return this.parseOrder(a,s)}parseOrderStatus(e){const t={part:"open",all:"closed",cancelled:"canceled",closed:"closed",no:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"datetime");let r=void 0;void 0!==s&&(r=this.parse8601(e["datetime"]+"+09:00"));const a=this.safeNumber(e,"amount_original"),n=this.safeNumber(e,"amount_outstanding"),o=this.safeNumber(e,"price");let c=this.parseOrderStatus(this.safeString(e,"status"));void 0===c&&void 0!==n&&0===n&&(c="closed");const d=void 0;let h=void 0;void 0!==t&&(h=t["symbol"]);const u=this.safeString(e,"type");return this.safeOrder({id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,amount:a,remaining:n,filled:void 0,side:u,type:void 0,timeInForce:void 0,postOnly:void 0,status:c,symbol:h,price:o,stopPrice:void 0,cost:void 0,trades:d,fee:void 0,info:e,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const s=this.market(t),r=this.extend({id:e,coin:s["baseId"]},i),a=await this.privatePostTradeView(this.extend(r,i));return this.parseOrder(a,s)}async fetchOrdersByType(e,t,i,s,r={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const a=this.market(t),n={type:e,coin:a["baseId"]},o=await this.privatePostTradeList(this.extend(n,r)),c=this.parseOrders(o,a,i,s);if("open"===e)for(let d=0;d<c.length;d++)c[d]["status"]="open";return c}async fetchOrders(e,t,i,s={}){return await this.fetchOrdersByType("all",e,t,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByType("open",e,t,i,s)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.version+"/"+e;if("public"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.extend({key:this.apiKey,nonce:e},s),i=this.urlencode(t),n=this.hash(this.encode(this.secret));t["signature"]=this.hmac(this.encode(i),this.encode(n)),a=this.urlencode(t),r={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;if(e>=400)return;const h=this.safeValue(o,"result");if(void 0===h||!0===h)return;const u=this.safeValue(o,"code"),l=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,u,l),new r(l)}async request(e,t="public",i="GET",s={},a,n){let o=await this.fetch2(e,t,i,s,a,n);if("string"===typeof o){if(o=this.strip(o),!this.isJsonEncodedObject(o))throw new r(this.id+" "+o);o=JSON.parse(o)}return o}}},b9ff:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,OrderNotFound:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitflyer",name:"bitFlyer",countries:["JP"],version:"v1",rateLimit:1e3,hostname:"bitflyer.com",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:"emulated",fetchOrder:"emulated",fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.{hostname}",www:"https://bitflyer.com",doc:"https://lightning.bitflyer.com/docs?lang=en"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getbalancehistory","getcollateral","getcollateralhistory","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.002,taker:.002},"BTC/JPY":{maker:.0015,taker:.0015}}})}async fetchMarkets(e={}){const t=await this.publicGetGetmarkets(e),i=await this.publicGetGetmarketsUsa(e),s=await this.publicGetGetmarketsEu(e);let r=this.arrayConcat(t,i);r=this.arrayConcat(r,s);const a=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"product_code"),i=t.split("_");let s=void 0,o=void 0,c=void 0,d=void 0;const h=i.length;1===h?(s=t.slice(0,3),o=t.slice(3,6)):2===h?(s=i[0],o=i[1]):(s=i[1],o=i[2]),c=this.safeCurrencyCode(s),d=this.safeCurrencyCode(o);const u=2===h?c+"/"+d:t,l=this.safeValue(this.fees,u,this.fees["trading"]);let f=this.safeValue(l,"maker",this.fees["trading"]["maker"]),p=this.safeValue(l,"taker",this.fees["trading"]["taker"]),m=!0,g=!1,y="spot";("alias"in e||"FX"===i[0])&&(y="future",g=!0,m=!1,f=0,p=0),a.push({id:t,symbol:u,base:c,quote:d,baseId:s,quoteId:o,maker:f,taker:p,type:y,spot:m,future:g,info:e})}return a}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetbalance(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(r),n=this.account();n["total"]=this.safeString(e,"amount"),n["free"]=this.safeString(e,"available"),i[a]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={product_code:this.marketId(e)},r=await this.publicGetGetboard(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"bids","asks","price","size")}async fetchTicker(e,t={}){await this.loadMarkets();const i={product_code:this.marketId(e)},s=await this.publicGetGetticker(this.extend(i,t)),r=this.parse8601(this.safeString(s,"timestamp")),a=this.safeNumber(s,"ltp");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeNumber(s,"best_bid"),bidVolume:void 0,ask:this.safeNumber(s,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"volume_by_product"),quoteVolume:void 0,info:s}}parseTrade(e,t){let i=this.safeStringLower(e,"side");void 0!==i&&i.length<1&&(i=void 0);let s=void 0;if(void 0!==i){const t=i+"_child_order_acceptance_id";t in e&&(s=e[t])}void 0===s&&(s=this.safeString(e,"child_order_acceptance_id"));const r=this.parse8601(this.safeString(e,"exec_date")),a=this.safeString(e,"price"),n=this.safeString(e,"size"),c=this.parseNumber(a),d=this.parseNumber(n),h=this.parseNumber(o.stringMul(a,n)),u=this.safeString(e,"id");let l=void 0;return void 0!==t&&(l=t["symbol"]),{id:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,order:s,type:void 0,side:i,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={product_code:r["id"]},n=await this.publicGetGetexecutions(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={product_code:this.marketId(e),child_order_type:t.toUpperCase(),side:i.toUpperCase(),price:r,size:s},o=await this.privatePostSendchildorder(this.extend(n,a)),c=this.safeString(o,"child_order_acceptance_id");return{info:o,id:c}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a `symbol` argument");await this.loadMarkets();const s={product_code:this.marketId(t),child_order_acceptance_id:e};return await this.privatePostCancelchildorder(this.extend(s,i))}parseOrderStatus(e){const t={ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"child_order_date")),s=this.safeNumber(e,"size"),r=this.safeNumber(e,"outstanding_size"),a=this.safeNumber(e,"executed_size"),n=this.safeNumber(e,"price"),o=this.parseOrderStatus(this.safeString(e,"child_order_state")),c=this.safeStringLower(e,"child_order_type"),d=this.safeStringLower(e,"side"),h=this.safeString(e,"product_code"),u=this.safeSymbol(h,t);let l=void 0;const f=this.safeNumber(e,"total_commission");void 0!==f&&(l={cost:f,currency:void 0,rate:void 0});const p=this.safeString(e,"child_order_acceptance_id");return this.safeOrder({id:p,clientOrderId:void 0,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:o,symbol:u,type:c,timeInForce:void 0,postOnly:void 0,side:d,price:n,stopPrice:void 0,cost:void 0,amount:s,filled:a,remaining:r,fee:l,average:void 0,trades:void 0})}async fetchOrders(e,t,i=100,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),n={product_code:r["id"],count:i},o=await this.privateGetGetchildorders(this.extend(n,s));let c=this.parseOrders(o,r,t,i);return void 0!==e&&(c=this.filterBy(c,"symbol",e)),c}async fetchOpenOrders(e,t,i=100,s={}){const r={child_order_state:"ACTIVE"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i=100,s={}){const r={child_order_state:"COMPLETED"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a `symbol` argument");const s=await this.fetchOrders(t),r=this.indexBy(s,"id");if(e in r)return r[e];throw new n(this.id+" No order found with id "+e)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const r=this.market(e),n={product_code:r["id"]};void 0!==i&&(n["count"]=i);const o=await this.privateGetGetexecutions(this.extend(n,s));return this.parseTrades(o,r,t,i)}async fetchPositions(e,t={}){if(void 0===e)throw new a(this.id+" fetchPositions() requires a `symbols` argument, exactly one symbol in an array");await this.loadMarkets();const i={product_code:this.marketIds(e)},s=await this.privateGetpositions(this.extend(i,t));return s}async withdraw(e,t,i,s,a={}){if(this.checkAddress(i),await this.loadMarkets(),"JPY"!==e&&"USD"!==e&&"EUR"!==e)throw new r(this.id+" allows withdrawing JPY, USD, EUR only, "+e+" is not supported");const n=this.currency(e),o={currency_code:n["id"],amount:t},c=await this.privatePostWithdraw(this.extend(o,a)),d=this.safeString(c,"message_id");return{info:c,id:d}}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/";"private"===t&&(n+="me/"),n+=e,"GET"===i&&Object.keys(s).length&&(n+="?"+this.urlencode(s));const o=this.implodeHostname(this.urls["api"]),c=o+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,n].join("");Object.keys(s).length&&"GET"!==i&&(a=this.json(s),t+=a),r={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":e,"ACCESS-SIGN":this.hmac(this.encode(t),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}}},ba87:function(e,t,i){"use strict";var s=i("5530"),r=(i("a9e3"),i("1b2c"),i("a9ad")),a=i("7560"),n=i("58df"),o=i("80d2"),c=Object(n["a"])(a["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render:function(e,t){var i=t.children,n=t.listeners,c=t.props,d={staticClass:"v-label",class:Object(s["a"])({"v-label--active":c.value,"v-label--is-disabled":c.disabled},Object(a["b"])(t)),attrs:{for:c.for,"aria-hidden":!c.for},on:n,style:{left:Object(o["g"])(c.left),right:Object(o["g"])(c.right),position:c.absolute?"absolute":"relative"},ref:"label"};return e("label",r["a"].options.methods.setTextColor(c.focused&&c.color,d),i)}});t["a"]=c},bb2b:function(e,t,i){var s=i("5259");i("6497"),s.mgf=s.mgf||{};var r=e.exports=s.mgf.mgf1=s.mgf1=s.mgf1||{};r.create=function(e){var t={generate:function(t,i){for(var r=new s.util.ByteBuffer,a=Math.ceil(i/e.digestLength),n=0;n<a;n++){var o=new s.util.ByteBuffer;o.putInt32(n),e.start(),e.update(t+o.getBytes()),r.putBuffer(e.digest())}return r.truncate(r.length()-i),r.getBytes()}};return t}},bb2f:function(e,t,i){var s=i("d039");e.exports=!s((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bb3e:function(e,t,i){"use strict";(function(e){t.__esModule=!0;var i="Input must be an string, Buffer or Uint8Array";function s(t){var s;if(t instanceof Uint8Array)s=t;else if(t instanceof e)s=new Uint8Array(t);else{if("string"!==typeof t)throw new Error(i);s=new Uint8Array(e.from(t,"utf8"))}return s}function r(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")}function a(e,t,i){var s=e[t]+e[i],r=e[t+1]+e[i+1];s>=4294967296&&r++,e[t]=s,e[t+1]=r}function n(e,t,i,s){var r=e[t]+i;i<0&&(r+=4294967296);var a=e[t+1]+s;r>=4294967296&&a++,e[t]=r,e[t+1]=a}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function c(e,t,i,s,r,o){var c=f[r],d=f[r+1],h=f[o],u=f[o+1];a(l,e,t),n(l,e,c,d);var p=l[s]^l[e],m=l[s+1]^l[e+1];l[s]=m,l[s+1]=p,a(l,i,s),p=l[t]^l[i],m=l[t+1]^l[i+1],l[t]=p>>>24^m<<8,l[t+1]=m>>>24^p<<8,a(l,e,t),n(l,e,h,u),p=l[s]^l[e],m=l[s+1]^l[e+1],l[s]=p>>>16^m<<16,l[s+1]=m>>>16^p<<16,a(l,i,s),p=l[t]^l[i],m=l[t+1]^l[i+1],l[t]=m>>>31^p<<1,l[t+1]=p>>>31^m<<1}var d=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],u=new Uint8Array(h.map((function(e){return 2*e}))),l=new Uint32Array(32),f=new Uint32Array(32);function p(e,t){var i=0;for(i=0;i<16;i++)l[i]=e.h[i],l[i+16]=d[i];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),i=0;i<32;i++)f[i]=o(e.b,4*i);for(i=0;i<12;i++)c(0,8,16,24,u[16*i+0],u[16*i+1]),c(2,10,18,26,u[16*i+2],u[16*i+3]),c(4,12,20,28,u[16*i+4],u[16*i+5]),c(6,14,22,30,u[16*i+6],u[16*i+7]),c(0,10,20,30,u[16*i+8],u[16*i+9]),c(2,12,22,24,u[16*i+10],u[16*i+11]),c(4,14,16,26,u[16*i+12],u[16*i+13]),c(6,8,18,28,u[16*i+14],u[16*i+15]);for(i=0;i<16;i++)e.h[i]=e.h[i]^l[i]^l[i+16]}function m(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},s=0;s<16;s++)i.h[s]=d[s];var r=t?t.length:0;return i.h[0]^=16842752^r<<8^e,t&&(g(i,t),i.c=128),i}function g(e,t){for(var i=0;i<t.length;i++)128===e.c&&(e.t+=e.c,p(e,!1),e.c=0),e.b[e.c++]=t[i]}function y(e){e.t+=e.c;while(e.c<128)e.b[e.c++]=0;p(e,!0);for(var t=new Uint8Array(e.outlen),i=0;i<e.outlen;i++)t[i]=e.h[i>>2]>>8*(3&i);return t}function v(e,t,i){i=i||64,e=s(e);var r=m(i,t);return g(r,e),y(r)}function b(e,t,i){var s=v(e,t,i);return r(s)}t.blake2bInit=m,t.blake2bUpdate=g,t.blake2bFinal=y,t.blake2b=v,t.blake2bHex=b}).call(this,i("b639").Buffer)},bb89:function(e,t){},bc3a:function(e,t,i){e.exports=i("cee4")},bc95:function(e,t,i){"use strict";var s=i("2cdb"),r=i("5e0b"),a=i("9eef");e.exports={formats:a,parse:r,stringify:s}},bd0c:function(e,t,i){},bd90:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r}=i("74b0"),a=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0,fetchBalance:!0,fetchTicker:!0,fetchTrades:!0,fetchOrderBook:!0,createOrder:!0,cancelOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153930-f0f02200-c2c0-11ea-9c0a-40337375ae89.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",fees:"https://www.paymium.com/page/help/fees",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"],referral:"https://www.paymium.com/page/sign-up?referral=eDAzPoRQFMvaAB8sf-qj"},api:{public:{get:["countries","data/{currency}/ticker","data/{currency}/trades","data/{currency}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["user","user/addresses","user/addresses/{address}","user/orders","user/orders/{uuid}","user/price_alerts","merchant/get_payment/{uuid}"],post:["user/addresses","user/orders","user/withdrawals","user/email_transfers","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{uuid}","user/orders/{uuid}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur"}},fees:{trading:{maker:.002,taker:.002}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUser(e),i={info:t},s=Object.keys(this.currencies);for(let r=0;r<s.length;r++){const e=s[r],a=this.currencyId(e),n="balance_"+a;if(n in t){const s=this.account(),r="locked_"+a;s["free"]=this.safeString(t,n),s["used"]=this.safeString(t,r),i[e]=s}}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={currency:this.marketId(e)},r=await this.publicGetDataCurrencyDepth(this.extend(s,i));return this.parseOrderBook(r,e,void 0,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currency:this.marketId(e)},s=await this.publicGetDataCurrencyTicker(this.extend(i,t)),r=this.safeTimestamp(s,"at"),a=this.safeNumber(s,"vwap"),n=this.safeNumber(s,"volume");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(s,"price");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:a,open:this.safeNumber(s,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:this.safeNumber(s,"variation"),average:void 0,baseVolume:n,quoteVolume:o,info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at_int"),s=this.safeString(e,"uuid");let r=void 0;void 0!==t&&(r=t["symbol"]);const n=this.safeString(e,"side"),o=this.safeString(e,"price"),c="traded_"+t["base"].toLowerCase(),d=this.safeString(e,c),h=this.parseNumber(o),u=this.parseNumber(d),l=this.parseNumber(a.stringMul(o,d));return{info:e,id:s,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:n,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currency:r["id"]},n=await this.publicGetDataCurrencyTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={type:this.capitalize(t)+"Order",currency:this.marketId(e),direction:i,amount:s};"market"!==t&&(n["price"]=r);const o=await this.privatePostUserOrders(this.extend(n,a));return{info:o,id:o["uuid"]}}async cancelOrder(e,t,i={}){const s={uuid:e};return await this.privateDeleteUserOrdersUuidCancel(this.extend(s,i))}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t=e+n;if(r={"Api-Key":this.apiKey,"Api-Nonce":e},"POST"===i)Object.keys(o).length&&(a=this.json(o),t+=a,r["Content-Type"]="application/json");else if(Object.keys(o).length){const e=this.urlencode(o);t+=e,n+="?"+e}r["Api-Signature"]=this.hmac(this.encode(t),this.encode(this.secret))}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("errors"in o)throw new r(this.id+" "+this.json(o));return o}}},be02:function(e,t,i){"use strict";const s=i("90db"),{TICK_SIZE:r}=i("5ea4"),{ExchangeError:a,InvalidOrder:n,BadRequest:o,InsufficientFunds:c,OrderNotFound:d,AuthenticationError:h,RateLimitExceeded:u,ExchangeNotAvailable:l,CancelPending:f,ArgumentsRequired:p,PermissionDenied:m,BadSymbol:g,DuplicateOrderId:y}=i("74b0"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"ftx",name:"FTX",countries:["HK"],rateLimit:50,certified:!0,pro:!0,hostname:"ftx.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/67149189-df896480-f2b0-11e9-8816-41593e17f9ec.jpg",www:"https://ftx.com",api:{public:"https://{hostname}",private:"https://{hostname}"},doc:"https://github.com/ftexchange/ftx",fees:"https://ftexchange.zendesk.com/hc/en-us/articles/360024479432-Fees",referral:{url:"https://ftx.com/#a=ccxt",discount:.05}},has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchPositions:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"15s":"15","1m":"60","5m":"300","15m":"900","1h":"3600","4h":"14400","1d":"86400"},api:{public:{get:["coins","markets","markets/{market_name}","markets/{market_name}/orderbook","markets/{market_name}/trades","markets/{market_name}/candles","futures","futures/{future_name}","futures/{future_name}/stats","funding_rates","indexes/{index_name}/weights","expired_futures","indexes/{market_name}/candles","lt/tokens","lt/{token_name}","options/requests","options/trades","stats/24h_options_volume","options/historical_volumes/BTC","options/open_interest/BTC","options/historical_open_interest/BTC","spot_margin/history"]},private:{get:["account","positions","wallet/coins","wallet/balances","wallet/all_balances","wallet/deposit_address/{coin}","wallet/deposits","wallet/withdrawals","wallet/withdrawal_fee","wallet/airdrops","wallet/saved_addresses","orders","orders/history","orders/{order_id}","orders/by_client_id/{client_order_id}","conditional_orders","conditional_orders/{conditional_order_id}/triggers","conditional_orders/history","spot_margin/borrow_rates","spot_margin/lending_rates","spot_margin/borrow_summary","spot_margin/market_info","spot_margin/borrow_history","spot_margin/lending_history","spot_margin/offers","spot_margin/lending_info","fills","funding_payments","lt/balances","lt/creations","lt/redemptions","subaccounts","subaccounts/{nickname}/balances","otc/quotes/{quoteId}","options/my_requests","options/requests/{request_id}/quotes","options/my_quotes","options/account_info","options/positions","options/fills","staking/stakes","staking/unstake_requests","staking/balances","staking/staking_rewards"],post:["account/leverage","wallet/withdrawals","wallet/saved_addresses","orders","conditional_orders","orders/{order_id}/modify","orders/by_client_id/{client_order_id}/modify","conditional_orders/{order_id}/modify","spot_margin/offers","lt/{token_name}/create","lt/{token_name}/redeem","subaccounts","subaccounts/update_name","subaccounts/transfer","otc/quotes/{quote_id}/accept","otc/quotes","options/requests","options/requests/{request_id}/quotes","options/quotes/{quote_id}/accept","staking/unstake_requests","srm_stakes/stakes"],delete:["wallet/saved_addresses/{saved_address_id}","orders/{order_id}","orders/by_client_id/{client_order_id}","orders","conditional_orders/{order_id}","subaccounts","options/requests/{request_id}","options/quotes/{quote_id}","staking/unstake_requests/{request_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:2e-4,taker:.07/100,tiers:{taker:[[0,.07/100],[1e6,6e-4],[5e6,55e-5],[1e7,5e-4],[15e6,45e-5],[35e6,4e-4]],maker:[[0,2e-4],[1e6,2e-4],[5e6,15e-5],[1e7,15e-5],[15e6,1e-4],[35e6,1e-4]]}},funding:{withdraw:{}}},exceptions:{exact:{"Please slow down":u,"Size too small for provide":n,"Not logged in":h,"Not enough balances":c,InvalidPrice:n,"Size too small":n,"Size too large":n,"Missing parameter price":n,"Order not found":d,"Order already closed":n,"Trigger price too high":n,"Trigger price too low":n,"Order already queued for cancellation":f,"Duplicate client order ID":y,"Spot orders cannot be reduce-only":n,"Invalid reduce-only order":n},broad:{"Account does not have enough margin for order":c,"Invalid parameter":o,"The requested URL was not found on the server":o,"No such coin":o,"No such future":g,"No such market":g,"Do not send more than":u,"An unexpected error occurred":l,"Please retry request":l,"Please try again":l,"Try again":l,"Only have permissions for subaccount":m}},precisionMode:r,options:{cancelOrder:{method:"privateDeleteOrdersOrderId"},fetchOpenOrders:{method:"privateGetOrders"},fetchOrders:{method:"privateGetOrdersHistory"},sign:{"ftx.com":"FTX","ftx.us":"FTXUS"}}})}async fetchCurrencies(e={}){const t=await this.publicGetCoins(e),i=this.safeValue(t,"result",[]),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"id"),a=this.safeCurrencyCode(t),n=this.safeString(e,"name");s[a]={id:t,code:a,info:e,type:void 0,name:n,active:void 0,fee:void 0,precision:void 0,limits:{withdraw:{min:void 0,max:void 0},amount:{min:void 0,max:void 0}}}}return s}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[],s=this.safeValue(t,"result",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"name"),a=this.safeString2(e,"baseCurrency","underlying"),n=this.safeString(e,"quoteCurrency","USD"),o=this.safeString(e,"type"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(n),h="future"===o?this.safeString(e,"name"):c+"/"+d,u=this.safeValue(e,"enabled"),l=this.safeNumber(e,"sizeIncrement"),f=this.safeNumber(e,"priceIncrement"),p={amount:l,price:f};i.push({id:t,symbol:h,base:c,quote:d,baseId:a,quoteId:n,type:o,future:"future"===o,spot:"spot"===o,active:u,precision:p,limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:void 0,max:void 0}},info:e})}return i}parseTicker(e,t){let i=void 0;const s=this.safeString(e,"name");if(s in this.markets_by_id)t=this.markets_by_id[s];else{const t=this.safeString(e,"type");if("future"===t)i=s;else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),s=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));void 0!==t&&void 0!==s&&(i=t+"/"+s)}}void 0===i&&void 0!==t&&(i=t["symbol"]);const r=this.safeNumber(e,"last"),a=this.safeTimestamp(e,"time",this.milliseconds());return{symbol:i,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidSize"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askSize"),vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:this.safeNumber(e,"change24h"),average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"quoteVolume24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market_name:i["id"]},r=await this.publicGetMarketsMarketName(this.extend(s,t)),a=this.safeValue(r,"result",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),s=this.safeValue(i,"result",[]);return this.parseTickers(s,e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market_name:s["id"]};void 0!==t&&(r["depth"]=t);const a=await this.publicGetMarketsMarketNameOrderbook(this.extend(r,i)),n=this.safeValue(a,"result",{});return this.parseOrderBook(n,e)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}getMarketId(e,t,i={}){const s=this.getMarketParams(e,t,i);return this.safeString(s,1,e)}getMarketParams(e,t,i={}){let s=void 0,r=void 0;return e in this.markets?(s=this.market(e),r=s["id"]):r=this.safeString(i,t,e),[s,r]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const[a,n]=this.getMarketParams(e,"market_name",r),o={resolution:this.timeframes[t],market_name:n};s=void 0===s?1501:s,void 0===i?(o["end_time"]=this.seconds(),o["limit"]=s,o["start_time"]=o["end_time"]-s*this.parseTimeframe(t)):(o["start_time"]=parseInt(i/1e3),o["limit"]=s,o["end_time"]=this.sum(o["start_time"],s*this.parseTimeframe(t)));const c=await this.publicGetMarketsMarketNameCandles(this.extend(o,r)),d=this.safeValue(c,"result",[]);return this.parseOHLCVs(d,a,t,i,s)}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"liquidity"),r=this.safeString(e,"market");let a=void 0;if(r in this.markets_by_id)t=this.markets_by_id[r],a=t["symbol"];else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),i=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));a=void 0!==t&&void 0!==i?t+"/"+i:r}const n=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"price"),c=this.safeString(e,"size"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(v.stringMul(o,c));void 0===a&&void 0!==t&&(a=t["symbol"]);const l=this.safeString(e,"side");let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"feeCurrency"),i=this.safeCurrencyCode(t);f={cost:p,currency:i,rate:this.safeNumber(e,"feeRate")}}const m=this.safeString(e,"orderId");return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:a,id:i,order:m,type:void 0,takerOrMaker:s,side:l,price:d,amount:h,cost:u,fee:f}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const[r,a]=this.getMarketParams(e,"market_name",s),n={market_name:a};void 0!==t&&(n["start_time"]=parseInt(t/1e3),n["end_time"]=this.seconds()),void 0!==i&&(n["limit"]=i);const o=await this.publicGetMarketsMarketNameTrades(this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseTrades(c,r,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e),i=this.safeValue(t,"result",{});return{info:t,maker:this.safeNumber(i,"makerFee"),taker:this.safeNumber(i,"takerFee")}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i={info:t},s=this.safeValue(t,"result",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeCurrencyCode(this.safeString(e,"coin")),a=this.account();a["free"]=this.safeString(e,"free"),a["total"]=this.safeString(e,"total"),i[t]=a}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={new:"open",open:"open",closed:"closed",triggered:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"createdAt"));let r=this.parseOrderStatus(this.safeString(e,"status"));const a=this.safeNumber(e,"size"),n=this.safeNumber(e,"filledSize");let o=this.safeNumber(e,"remainingSize");0===o&&void 0!==a&&void 0!==n&&(o=Math.max(a-n,0),o>0&&(r="canceled"));let c=void 0;const d=this.safeString(e,"market");void 0!==d&&(d in this.markets_by_id?(t=this.markets_by_id[d],c=t["symbol"]):c=d),void 0===c&&void 0!==t&&(c=t["symbol"]);const h=this.safeString(e,"side"),u=this.safeString(e,"type"),l=this.safeNumber(e,"avgFillPrice"),f=this.safeNumber2(e,"price","triggerPrice",l);let p=void 0;void 0!==n&&void 0!==f&&(p=n*f);const m=this.parse8601(this.safeString(e,"triggeredAt")),g=this.safeString(e,"clientId"),y=this.safeNumber(e,"triggerPrice"),v=this.safeValue(e,"postOnly");return{info:e,id:i,clientOrderId:g,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:m,symbol:c,type:u,timeInForce:void 0,postOnly:v,side:h,price:f,stopPrice:y,amount:a,cost:p,average:l,filled:n,remaining:o,status:r,fee:void 0,trades:void 0}}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const o=this.market(e),c={market:o["id"],side:i,type:t,size:parseFloat(this.amountToPrecision(e,s))},d=this.safeString2(a,"clientId","clientOrderId");void 0!==d&&(c["clientId"]=d,a=this.omit(a,["clientId","clientOrderId"]));let h=void 0;if("limit"===t)h="privatePostOrders",c["price"]=parseFloat(this.priceToPrecision(e,r));else if("market"===t)h="privatePostOrders",c["price"]=null;else if("stop"===t||"takeProfit"===t){h="privatePostConditionalOrders";const i=this.safeNumber2(a,"stopPrice","triggerPrice");if(void 0===i)throw new p(this.id+" createOrder () requires a stopPrice parameter or a triggerPrice parameter for "+t+" orders");a=this.omit(a,["stopPrice","triggerPrice"]),c["triggerPrice"]=parseFloat(this.priceToPrecision(e,i)),void 0!==r&&(c["orderPrice"]=parseFloat(this.priceToPrecision(e,r)))}else{if("trailingStop"!==t)throw new n(this.id+" createOrder () does not support order type "+t+", only limit, market, stop, trailingStop, or takeProfit orders are supported");h="privatePostConditionalOrders",c["trailValue"]=parseFloat(this.priceToPrecision(e,r))}const u=await this[h](this.extend(c,a)),l=this.safeValue(u,"result",[]);return this.parseOrder(l,o)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o=this.market(t),c={};let d=void 0;const h=this.safeString2(n,"client_order_id","clientOrderId"),u=this.safeNumber(n,"triggerPrice"),l=this.safeNumber(n,"orderPrice"),f=this.safeNumber(n,"trailValue");n=this.omit(n,["client_order_id","clientOrderId","triggerPrice","orderPrice","trailValue"]);const p=void 0!==u,m=void 0!==l,g=void 0!==f;p||m||g?(d="privatePostConditionalOrdersOrderIdModify",c["order_id"]=e,p&&(c["triggerPrice"]=parseFloat(this.priceToPrecision(t,u))),m&&(c["orderPrice"]=parseFloat(this.priceToPrecision(t,l))),g&&(c["trailValue"]=parseFloat(this.priceToPrecision(t,f)))):(void 0===h?(d="privatePostOrdersOrderIdModify",c["order_id"]=e):(d="privatePostOrdersByClientIdClientOrderIdModify",c["client_order_id"]=h),void 0!==a&&(c["price"]=parseFloat(this.priceToPrecision(t,a)))),void 0!==r&&(c["size"]=parseFloat(this.amountToPrecision(t,r)));const y=await this[d](this.extend(c,n)),v=this.safeValue(y,"result",{});return this.parseOrder(v,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeValue(this.options,"cancelOrder",{}),a=this.safeString(r,"method","privateDeleteOrdersOrderId");let n=this.safeString(i,"method",a);const o=this.safeValue(i,"type"),c=this.safeValue2(i,"client_order_id","clientOrderId");void 0===c?(s["order_id"]=parseInt(e),"stop"!==o&&"trailingStop"!==o&&"takeProfit"!==o||(n="privateDeleteConditionalOrdersOrderId")):(s["client_order_id"]=c,n="privateDeleteOrdersByClientIdClientOrderId");const d=this.omit(i,["method","type","client_order_id","clientOrderId"]),h=await this[n](this.extend(s,d)),u=this.safeValue(h,"result",{});return u}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={},s=this.getMarketId(e,"market",t);void 0!==s&&(i["market"]=s);const r=await this.privateDeleteOrders(this.extend(i,t)),a=this.safeValue(r,"result",{});return a}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeValue2(i,"client_order_id","clientOrderId");let a="privateGetOrdersOrderId";void 0===r?s["order_id"]=e:(s["client_order_id"]=r,i=this.omit(i,["client_order_id","clientOrderId"]),a="privateGetOrdersByClientIdClientOrderId");const n=await this[a](this.extend(s,i)),o=this.safeValue(n,"result",{});return this.parseOrder(o)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={},[a,n]=this.getMarketParams(e,"market",s);void 0!==n&&(r["market"]=n);const o=this.safeValue(this.options,"fetchOpenOrders",{}),c=this.safeString(o,"method","privateGetOrders");let d=this.safeString(s,"method",c);const h=this.safeValue(s,"type");"stop"!==h&&"trailingStop"!==h&&"takeProfit"!==h||(d="privateGetConditionalOrders");const u=this.omit(s,["method","type"]),l=await this[d](this.extend(r,u)),f=this.safeValue(l,"result",[]);return this.parseOrders(f,a,t,i)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r={},[a,n]=this.getMarketParams(e,"market",s);void 0!==n&&(r["market"]=n),void 0!==i&&(r["limit"]=i),void 0!==t&&(r["start_time"]=parseInt(t/1e3));const o=this.safeValue(this.options,"fetchOrders",{}),c=this.safeString(o,"method","privateGetOrdersHistory");let d=this.safeString(s,"method",c);const h=this.safeValue(s,"type");"stop"!==h&&"trailingStop"!==h&&"takeProfit"!==h||(d="privateGetConditionalOrdersHistory");const u=this.omit(s,["method","type"]),l=await this[d](this.extend(r,u)),f=this.safeValue(l,"result",[]);return this.parseOrders(f,a,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const[r,a]=this.getMarketParams(e,"market",s),n={};void 0!==a&&(n["market"]=a),void 0!==t&&(n["start_time"]=parseInt(t/1e3),n["end_time"]=this.seconds());const o=await this.privateGetFills(this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseTrades(c,r,t,i)}async withdraw(e,t,i,s,r={}){await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={coin:a["id"],size:t,address:i};void 0!==this.password&&(n["password"]=this.password),void 0!==s&&(n["tag"]=s);const o=await this.privatePostWalletWithdrawals(this.extend(n,r)),c=this.safeValue(o,"result",{});return this.parseTransaction(c,a)}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetAccount(t),s=this.safeValue(i,"result",{});return this.safeValue(s,"positions",[])}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={coin:i["id"]},r=await this.privateGetWalletDepositAddressCoin(this.extend(s,t)),a=this.safeValue(r,"result",{}),n=this.safeString(a,"address"),o=this.safeString(a,"tag");return this.checkAddress(n),{currency:e,address:n,tag:o,info:r}}parseTransactionStatus(e){const t={confirmed:"ok",complete:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeCurrencyCode(this.safeString(e,"coin")),s=this.safeString(e,"id"),r=this.safeNumber(e,"size"),a=this.parseTransactionStatus(this.safeString(e,"status")),n=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"txid");let c=void 0,d=this.safeValue(e,"address");if("string"!==typeof d&&(c=this.safeString(d,"tag"),d=this.safeString(d,"address")),void 0===d){const t=this.safeString(e,"notes");void 0!==t&&t.indexOf("Transfer to")>=0&&(d=t.slice(12))}const h=this.safeNumber(e,"fee");return{info:e,id:s,txid:o,timestamp:n,datetime:this.iso8601(n),addressFrom:void 0,address:d,addressTo:d,tagFrom:void 0,tag:c,tagTo:c,type:void 0,amount:r,currency:i,status:a,updated:void 0,fee:{currency:i,cost:h,rate:void 0}}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r=await this.privateGetWalletDeposits(s),a=this.safeValue(r,"result",[]);let n=void 0;return void 0!==e&&(n=this.currency(e)),this.parseTransactions(a,n,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r=await this.privateGetWalletWithdrawals(s),a=this.safeValue(r,"result",[]);let n=void 0;return void 0!==e&&(n=this.currency(e)),this.parseTransactions(a,n,t,i,{type:"withdrawal"})}sign(e,t="public",i="GET",s={},r,a){let n="/api/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e)),c=this.implodeHostname(this.urls["api"][t]);let d=c+n;if("POST"!==i&&Object.keys(o).length){const e="?"+this.urlencode(o);d+=e,n+=e}if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+n;r={},"POST"!==i&&"DELETE"!==i||(a=this.json(o),t+=a,r["Content-Type"]="application/json");const s=this.hmac(this.encode(t),this.encode(this.secret),"sha256"),c=this.safeValue(this.options,"sign",{}),d=this.safeString(c,this.hostname,"FTX"),h=d+"-KEY",u=d+"-TS",l=d+"-SIGN";r[h]=this.apiKey,r[u]=e,r[l]=s}return{url:d,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"success");if(!h){const e=this.id+" "+n,t=this.safeString(o,"error");throw this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new a(e)}}}},be7f:function(e,t,i){"use strict";var s="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var i=t.shift();if(i){if("object"!==typeof i)throw new TypeError(i+"must be non-object");for(var s in i)r(i,s)&&(e[s]=i[s])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,s,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+s),r);else for(var a=0;a<s;a++)e[r+a]=t[i+a]},flattenChunks:function(e){var t,i,s,r,a,n;for(s=0,t=0,i=e.length;t<i;t++)s+=e[t].length;for(n=new Uint8Array(s),r=0,t=0,i=e.length;t<i;t++)a=e[t],n.set(a,r),r+=a.length;return n}},n={arraySet:function(e,t,i,s,r){for(var a=0;a<s;a++)e[r+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,n))},t.setTyped(s)},bee0:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InsufficientFunds:a,BadRequest:n,BadSymbol:o,InvalidOrder:c,AuthenticationError:d,ArgumentsRequired:h,OrderNotFound:u,ExchangeNotAvailable:l}=i("74b0"),{TICK_SIZE:f}=i("5ea4"),p=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"delta",name:"Delta Exchange",countries:["VC"],rateLimit:300,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchCurrencies:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","1d":"1d","7d":"7d","1w":"1w","2w":"2w","1M":"30d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/99450025-3be60a00-2931-11eb-9302-f4fd8d8589aa.jpg",test:{public:"https://testnet-api.delta.exchange",private:"https://testnet-api.delta.exchange"},api:{public:"https://api.delta.exchange",private:"https://api.delta.exchange"},www:"https://www.delta.exchange",doc:["https://docs.delta.exchange"],fees:"https://www.delta.exchange/fees",referral:"https://www.delta.exchange/app/signup/?code=IULYNB"},api:{public:{get:["assets","settings","indices","products","tickers","tickers/{symbol}","l2orderbook/{symbol}","trades/{symbol}","history/candles","history/sparklines"]},private:{get:["orders","orders/leverage","positions","positions/margined","orders/history","fills","fills/history/download/csv","wallet/balances","wallet/transactions","wallet/transactions/download","deposits/address"],post:["orders","orders/batch","orders/leverage","positions/change_margin"],put:["orders","orders/batch"],delete:["orders","orders/all","orders/batch"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}}},precisionMode:f,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{insufficient_margin:a,order_size_exceed_available:c,risk_limits_breached:n,invalid_contract:o,immediate_liquidation:c,out_of_bankruptcy:c,self_matching_disrupted_post_only:c,immediate_execution_post_only:c,bad_schema:n,invalid_api_key:d,invalid_signature:d,open_order_not_found:u,unavailable:l},broad:{}}})}async fetchTime(e={}){const t=await this.publicGetSettings(e),i=this.safeValue(t,"result",{});return this.safeIntegerProduct(i,"server_time",.001)}async fetchStatus(e={}){const t=await this.publicGetSettings(e),i=this.safeValue(t,"result",{}),s=this.safeValue(i,"under_maintenance"),r="true"===s?"maintenance":"ok",a=this.safeIntegerProduct(i,"server_time",.001);return this.status=this.extend(this.status,{status:r,updated:a}),this.status}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result",[]),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=this.safeInteger(e,"id"),n=this.safeCurrencyCode(t),o=this.safeString(e,"deposit_status"),c=this.safeString(e,"withdrawal_status"),d="enabled"===o,h="enabled"===c,u=d&&h,l=this.safeInteger(e,"precision");s[n]={id:t,numericId:a,code:n,name:this.safeString(e,"name"),info:e,active:u,fee:this.safeNumber(e,"base_withdrawal_fee"),precision:1/Math.pow(10,l),limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"min_withdrawal_amount"),max:void 0}}}}return s}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t),s=this.safeValue(this.options,"currenciesByNumericId");(void 0===s||e)&&(this.options["currenciesByNumericId"]=this.indexBy(this.currencies,"numericId"));const r=this.safeValue(this.options,"marketsByNumericId");return(void 0===r||e)&&(this.options["marketsByNumericId"]=this.indexBy(this.markets,"numericId")),i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=this.safeValue(t,"result",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r];let t=this.safeString(e,"contract_type");const a=this.safeValue(e,"quoting_asset",{}),n=this.safeValue(e,"underlying_asset",{}),o=this.safeString(n,"symbol"),c=this.safeString(a,"symbol"),d=this.safeString(e,"symbol"),h=this.safeInteger(e,"id"),u=this.safeCurrencyCode(o),l=this.safeCurrencyCode(c);let f=d,p=!1,m=!1,g=!1;"perpetual_futures"===t?(t="swap",p=!0,m=!1,g=!1,d.indexOf("_")<0&&(f=u+"/"+l)):"call_options"===t||"put_options"===t||"move_options"===t?(t="option",p=!1,g=!0,m=!1):"futures"===t&&(t="future",p=!1,g=!1,m=!0);const y={amount:1,price:this.safeNumber(e,"tick_size")},v={amount:{min:1,max:this.safeNumber(e,"position_size_limit")},price:{min:y["price"],max:void 0},cost:{min:this.safeNumber(e,"min_size"),max:void 0}},b=this.safeString(e,"state"),w="live"===b,k=this.safeNumber(e,"maker_commission_rate"),S=this.safeNumber(e,"taker_commission_rate");s.push({id:d,numericId:h,symbol:f,base:u,quote:l,baseId:o,quoteId:c,type:t,option:g,swap:p,future:m,maker:k,taker:S,precision:y,limits:v,info:e,active:w})}return s}parseTicker(e,t){const i=this.safeIntegerProduct(e,"timestamp",.001),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.safeNumber(e,"close"),n=this.safeNumber(e,"open");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(o=a-n,c=this.sum(a,n)/2,0!==n&&(d=o/n*100));const h=this.safeNumber(e,"volume"),u=this.safeNumber(e,"turnover"),l=this.vwap(h,u);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:l,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:d,average:c,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTickersSymbol(this.extend(s,t)),a=this.safeValue(r,"result",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s=this.safeValue(i,"result",[]),r={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==t&&(s["depth"]=t);const r=await this.publicGetL2orderbookSymbol(this.extend(s,i)),a=this.safeValue(r,"result",{});return this.parseOrderBook(a,e,void 0,"buy","sell","price","size")}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"order_id");let r=this.parse8601(this.safeString(e,"created_at"));r=this.safeIntegerProduct(e,"timestamp",.001,r);const a=this.safeString(e,"price"),n=this.safeString(e,"size"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(p.stringMul(a,n)),h=this.safeValue(e,"product",{}),u=this.safeString(h,"symbol"),l=this.safeSymbol(u,t),f=this.safeString(e,"seller_role");let m=this.safeString(e,"side");void 0===m&&("taker"===f?m="sell":"maker"===f&&(m="buy"));const g=this.safeString(e,"role"),y=this.safeValue(e,"meta_data",{});let v=this.safeString(y,"order_type");void 0!==v&&(v=v.replace("_order",""));const b=this.safeNumber(e,"commission");let w=void 0;if(void 0!==b){const e=this.safeValue(h,"settling_asset",{}),t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t);w={cost:b,currency:i}}return{id:i,order:s,timestamp:r,datetime:this.iso8601(r),symbol:l,type:v,side:m,price:o,amount:c,cost:d,takerOrMaker:g,fee:w,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.publicGetTradesSymbol(this.extend(a,s)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],resolution:this.timeframes[t]},o=this.parseTimeframe(t);if(s=s||2e3,void 0===i){const e=this.seconds();n["end"]=e,n["start"]=e-s*o}else{const e=parseInt(i/1e3);n["start"]=e,n["end"]=this.sum(e,s*o)}const c=await this.publicGetHistoryCandles(this.extend(n,r)),d=this.safeValue(c,"result",[]);return this.parseOHLCVs(d,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i=this.safeValue(t,"result",[]),s={info:t},r=this.safeValue(this.options,"currenciesByNumericId",{});for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString(e,"asset_id"),n=this.safeValue(r,t),o=void 0===n?t:n["code"],c=this.account();c["total"]=this.safeString(e,"balance"),c["free"]=this.safeString(e,"available_balance"),s[o]=c}return this.parseBalance(s,!1)}async fetchPosition(e,t){await this.loadMarkets();const i=this.market(e),s={product_id:i["numericId"]},r=await this.privateGetPositions(this.extend(s,t)),a=this.safeValue(r,"result",{});return a}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetPositionsMargined(t),s=this.safeValue(i,"result",[]);return s}parseOrderStatus(e){const t={open:"open",pending:"open",closed:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"client_order_id"),r=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"product_id"),n=this.safeValue(this.options,"marketsByNumericId",{});t=this.safeValue(n,a,t);const o=void 0===t?a:t["symbol"],c=this.parseOrderStatus(this.safeString(e,"state")),d=this.safeString(e,"side");let h=this.safeString(e,"order_type");h=h.replace("_order","");const u=this.safeNumber(e,"limit_price"),l=this.safeNumber(e,"size"),f=this.safeNumber(e,"unfilled_size"),p=this.safeNumber(e,"average_fill_price");let m=void 0;const g=this.safeNumber(e,"paid_commission");if(void 0!==g){let e=void 0;if(void 0!==t){const i=this.safeValue(t["info"],"settling_asset",{}),s=this.safeString(i,"symbol");e=this.safeCurrencyCode(s)}m={cost:g,currency:e}}return this.safeOrder({info:e,id:i,clientOrderId:s,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:o,type:h,side:d,price:u,amount:l,cost:void 0,average:p,filled:void 0,remaining:f,status:c,fee:m,trades:void 0})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=t+"_order",o=this.market(e),c={product_id:o["numericId"],size:this.amountToPrecision(e,s),side:i,order_type:n};"limit"===t&&(c["limit_price"]=this.priceToPrecision(e,r));const d=this.safeString2(a,"clientOrderId","client_order_id");a=this.omit(a,["clientOrderId","client_order_id"]),void 0!==d&&(c["client_order_id"]=d);const h=await this.privatePostOrders(this.extend(c,a)),u=this.safeValue(h,"result",{});return this.parseOrder(u,o)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o=this.market(t),c={id:parseInt(e),product_id:o["numericId"]};void 0!==r&&(c["size"]=parseInt(this.amountToPrecision(t,r))),void 0!==a&&(c["limit_price"]=this.priceToPrecision(t,a));const d=await this.privatePutOrders(this.extend(c,n)),h=this.safeValue(d,"result");return this.parseOrder(h,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={id:parseInt(e),product_id:s["numericId"]},a=await this.privateDeleteOrders(this.extend(r,i)),n=this.safeValue(a,"result");return this.parseOrder(n,s)}async cancelAllOrders(e,t={}){if(void 0===e)throw new h(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),s={product_id:i["numericId"]},r=this.privateDeleteOrdersAll(this.extend(s,t));return r}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("privateGetOrders",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("privateGetOrdersHistory",e,t,i,s)}async fetchOrdersWithMethod(e,t,i,s,r={}){await this.loadMarkets();const a={};let n=void 0;void 0!==t&&(n=this.market(t),a["product_ids"]=n["numericId"]),void 0!==i&&(a["start_time"]=i.toString()+"000"),void 0!==s&&(a["page_size"]=s);const o=await this[e](this.extend(a,r)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,n,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["product_ids"]=a["numericId"]),void 0!==t&&(r["start_time"]=t.toString()+"000"),void 0!==i&&(r["page_size"]=i);const n=await this.privateGetFills(this.extend(r,s)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,a,t,i)}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["asset_id"]=a["numericId"]),void 0!==i&&(r["page_size"]=i);const n=await this.privateGetWalletTransactions(this.extend(r,s)),o=this.safeValue(n,"result",[]);return this.parseLedger(o,a,t,i)}parseLedgerEntryType(e){const t={pnl:"pnl",deposit:"transaction",withdrawal:"transaction",commission:"fee",conversion:"trade",referral_bonus:"referral",commission_rebate:"rebate"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"uuid");let s=void 0;const r=void 0,a=this.safeValue(e,"meta_data",{}),n=this.safeString(a,"transaction_id"),o=void 0;let c=this.safeString(e,"transaction_type");"deposit"===c||"commission_rebate"===c||"referral_bonus"===c||"pnl"===c||"withdrawal_cancellation"===c||"promo_credit"===c?s="in":"withdrawal"!==c&&"commission"!==c&&"conversion"!==c&&"perpetual_futures_funding"!==c||(s="out"),c=this.parseLedgerEntryType(c);const d=this.safeInteger(e,"asset_id"),h=this.safeValue(this.options,"currenciesByNumericId");t=this.safeValue(h,d,t);const u=void 0===t?void 0:t["code"],l=this.safeNumber(e,"amount"),f=this.parse8601(this.safeString(e,"created_at")),p=this.safeNumber(e,"balance"),m=Math.max(0,p-l),g="ok";return{info:e,id:i,direction:s,account:r,referenceId:n,referenceAccount:o,type:c,currency:u,amount:l,before:m,after:p,status:g,timestamp:f,datetime:this.iso8601(f),fee:void 0}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={asset_symbol:i["id"]},r=await this.privateGetDepositsAddress(this.extend(s,t)),a=this.safeValue(r,"result",{}),n=this.safeString(a,"address");return this.checkAddress(n),{currency:e,address:n,tag:void 0,info:r}}sign(e,t="public",i="GET",s={},r,a){const n="/"+this.version+"/"+this.implodeParams(e,s);let o=this.urls["api"][t]+n;const c=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.seconds().toString();r={"api-key":this.apiKey,timestamp:e};let t=i+e+n;if("GET"===i||"DELETE"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);t+=e,o+=e}}else a=this.json(c),t+=a,r["Content-Type"]="application/json";const s=this.hmac(this.encode(t),this.encode(this.secret));r["signature"]=s}return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error",{}),u=this.safeString(h,"code");if(void 0!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new r(e)}}}},bf9c:function(e,t,i){(function(t){var s=i("cceb").Ber,r=i("4ab0")._,a=i("4ab0");const n="-----BEGIN RSA PRIVATE KEY-----",o="-----END RSA PRIVATE KEY-----",c="-----BEGIN RSA PUBLIC KEY-----",d="-----END RSA PUBLIC KEY-----";e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=e.d.toBuffer(),c=e.p.toBuffer(),d=e.q.toBuffer(),h=e.dmp1.toBuffer(),u=e.dmq1.toBuffer(),l=e.coeff.toBuffer(),f=i.length+r.length+c.length+d.length+h.length+u.length+l.length+512,p=new s.Writer({size:f});return p.startSequence(),p.writeInt(0),p.writeBuffer(i,2),p.writeInt(e.e),p.writeBuffer(r,2),p.writeBuffer(c,2),p.writeBuffer(d,2),p.writeBuffer(h,2),p.writeBuffer(u,2),p.writeBuffer(l,2),p.endSequence(),"der"===t.type?p.buffer:n+"\n"+a.linebrk(p.buffer.toString("base64"),64)+"\n"+o},privateImport:function(e,i,c){var d;if(c=c||{},"der"!==c.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),!r.isString(i))throw Error("Unsupported key format");var h=a.trimSurroundingText(i,n,o).replace(/\s+|\n\r|\n|\r$/gm,"");d=t.from(h,"base64")}else{if(!t.isBuffer(i))throw Error("Unsupported key format");d=i}var u=new s.Reader(d);u.readSequence(),u.readString(2,!0),e.setPrivate(u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=i.length+512,n=new s.Writer({size:r});return n.startSequence(),n.writeBuffer(i,2),n.writeInt(e.e),n.endSequence(),"der"===t.type?n.buffer:c+"\n"+a.linebrk(n.buffer.toString("base64"),64)+"\n"+d},publicImport:function(e,i,n){var o;if(n=n||{},"der"!==n.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),r.isString(i)){var h=a.trimSurroundingText(i,c,d).replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(h,"base64")}}else{if(!t.isBuffer(i))throw Error("Unsupported key format");o=i}var u=new s.Reader(o);u.readSequence(),e.setPublic(u.readString(2,!0),u.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}}).call(this,i("b639").Buffer)},bfa9:function(e,t,i){"use strict";var s=i("e54b"),r=i.n(s);let a;a=class{get length(){return Object.keys(this).length}key(e){return Object.keys(this)[e]}setItem(e,t){this[e]=t.toString()}getItem(e){return this[e]}removeItem(e){delete this[e]}clear(){for(let e of Object.keys(this))delete this[e]}};class n{constructor(){this._queue=[],this._flushing=!1}enqueue(e){return this._queue.push(e),this._flushing?Promise.resolve():this.flushQueue()}flushQueue(){this._flushing=!0;const e=()=>{const t=this._queue.shift();if(t)return t.then(e);this._flushing=!1};return Promise.resolve(e())}}const o={replaceArrays:{arrayMerge:(e,t,i)=>t},concatArrays:{arrayMerge:(e,t,i)=>e.concat(...t)}};function c(e,t,i){return r()(e,t,o[i])}let d=JSON;class h{constructor(e){this._mutex=new n,this.subscriber=e=>t=>e.subscribe(t),"undefined"===typeof e&&(e={}),this.key=null!=e.key?e.key:"vuex",this.subscribed=!1,this.supportCircular=e.supportCircular||!1,this.supportCircular&&(d=i("7503")),this.mergeOption=e.mergeOption||"replaceArrays";let t=!0;try{window.localStorage.getItem("")}catch(s){t=!1}if(e.storage)this.storage=e.storage;else if(t)this.storage=window.localStorage;else{if(!a)throw new Error("Neither 'window' is defined, nor 'MockStorage' is available");this.storage=new a}this.reducer=null!=e.reducer?e.reducer:null==e.modules?e=>e:t=>e.modules.reduce((e,i)=>c(e,{[i]:t[i]},this.mergeOption),{}),this.filter=e.filter||(e=>!0),this.strictMode=e.strictMode||!1,this.RESTORE_MUTATION=function(e,t){const i=c(e,t||{},this.mergeOption);for(const s of Object.keys(i))this._vm.$set(e,s,i[s])},this.asyncStorage=e.asyncStorage||!1,this.asyncStorage?(this.restoreState=null!=e.restoreState?e.restoreState:(e,t)=>t.getItem(e).then(e=>"string"===typeof e?this.supportCircular?d.parse(e||"{}"):JSON.parse(e||"{}"):e||{}),this.saveState=null!=e.saveState?e.saveState:(e,t,i)=>i.setItem(e,this.asyncStorage?c({},t||{},this.mergeOption):this.supportCircular?d.stringify(t):JSON.stringify(t)),this.plugin=e=>{e.restored=this.restoreState(this.key,this.storage).then(t=>{this.strictMode?e.commit("RESTORE_MUTATION",t):e.replaceState(c(e.state,t||{},this.mergeOption)),this.subscriber(e)((e,t)=>{this.filter(e)&&this._mutex.enqueue(this.saveState(this.key,this.reducer(t),this.storage))}),this.subscribed=!0})}):(this.restoreState=null!=e.restoreState?e.restoreState:(e,t)=>{const i=t.getItem(e);return"string"===typeof i?this.supportCircular?d.parse(i||"{}"):JSON.parse(i||"{}"):i||{}},this.saveState=null!=e.saveState?e.saveState:(e,t,i)=>i.setItem(e,this.supportCircular?d.stringify(t):JSON.stringify(t)),this.plugin=e=>{const t=this.restoreState(this.key,this.storage);this.strictMode?e.commit("RESTORE_MUTATION",t):e.replaceState(c(e.state,t||{},this.mergeOption)),this.subscriber(e)((e,t)=>{this.filter(e)&&this.saveState(this.key,this.reducer(t),this.storage)}),this.subscribed=!0})}}t["a"]=h},c04e:function(e,t,i){var s=i("861d");e.exports=function(e,t){if(!s(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!s(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!s(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!s(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c0b9:function(e,t,i){"use strict";const{isObject:s,isNumber:r,isDictionary:a,isArray:n}=i("57bb"),o=Object.keys,c=e=>n(e)?e:Object.values(e),d=e=>new Set(c(e)),h=(...e)=>Object.assign({},...e),u=e=>n(e)?Array.from(e):h(e);e.exports={keys:o,values:c,extend:h,clone:u,index:d,ordered:e=>e,unique:e=>Array.from(d(e)),arrayConcat:(e,t)=>e.concat(t),inArray(e,t){return t.includes(e)},toArray(e){return Object.values(e)},isEmpty(e){return!e||(Array.isArray(e)?e:Object.keys(e)).length<1},keysort(e,t={}){for(const i of o(e).sort())t[i]=e[i];return t},indexBy(e,t,i={}){for(const s of c(e))t in s&&(i[s[t]]=s);return i},groupBy(e,t,i={}){for(const s of c(e))if(t in s){const e=s[t];i[e]=i[e]||[],i[e].push(s)}return i},filterBy(e,t,i,s=[]){for(const r of c(e))r[t]===i&&s.push(r);return s},sortBy:(e,t,i=!1,s=(i?-1:1))=>e.sort((e,i)=>e[t]<i[t]?-s:e[t]>i[t]?s:0),flatten:function e(t,i=[]){for(const s of t)n(s)?e(s,i):i.push(s);return i},pluck:(e,t)=>c(e).filter(e=>t in e).map(e=>e[t]),omit(e,...t){if(!Array.isArray(e)){const i=u(e);for(const e of t)if(n(e))for(const t of e)delete i[t];else delete i[e];return i}return e},sum(...e){const t=e.filter(r);return t.length>0?t.reduce((e,t)=>e+t,0):void 0},deepExtend:function e(...t){let i=void 0;for(const s of t)if(a(s)){a(i)||(i={});for(const t in s)i[t]=e(i[t],s[t])}else i=s;return i}}},c101:function(e,t,i){var s=i("97bab"),r=i("2cf0"),a=i("f3f8");function n(e,t,i){var s=0,r=i.length;while(s<r){if(t=e["@@transducer/step"](t,i[s]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}s+=1}return e["@@transducer/result"](t)}function o(e,t,i){var s=i.next();while(!s.done){if(t=e["@@transducer/step"](t,s.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}s=i.next()}return e["@@transducer/result"](t)}function c(e,t,i,s){return e["@@transducer/result"](i[s](a(e["@@transducer/step"],e),t))}var d="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function h(e,t,i){if("function"===typeof e&&(e=r(e)),s(i))return n(e,t,i);if("function"===typeof i["fantasy-land/reduce"])return c(e,t,i,"fantasy-land/reduce");if(null!=i[d])return o(e,t,i[d]());if("function"===typeof i.next)return o(e,t,i);if("function"===typeof i.reduce)return c(e,t,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}e.exports=h},c11f:function(e,t,i){"use strict";const s=i("90db"),{AccountSuspended:r,BadRequest:a,BadResponse:n,NetworkError:o,DDoSProtection:c,AuthenticationError:d,PermissionDenied:h,ExchangeError:u,InsufficientFunds:l,InvalidOrder:f,InvalidNonce:p,OrderNotFound:m,InvalidAddress:g,RateLimitExceeded:y,BadSymbol:v}=i("74b0"),b=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"digifinex",name:"DigiFinex",countries:["SG"],version:"v3",rateLimit:900,has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D","1w":"1W"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443315-01283a00-c5fe-11ea-8628-c2a0feaf07ac.jpg",api:"https://openapi.digifinex.com",www:"https://www.digifinex.com",doc:["https://docs.digifinex.com"],fees:"https://digifinex.zendesk.com/hc/en-us/articles/360000328422-Fee-Structure-on-DigiFinex",referral:"https://www.digifinex.com/en-ww/from/DhOzBg?channelCode=ljaUPp"},api:{public:{get:["{market}/symbols","kline","margin/currencies","margin/symbols","markets","order_book","ping","spot/symbols","time","trades","trades/symbols","ticker","currencies"]},private:{get:["{market}/financelog","{market}/mytrades","{market}/order","{market}/order/detail","{market}/order/current","{market}/order/history","margin/assets","margin/financelog","margin/mytrades","margin/order","margin/order/current","margin/order/history","margin/positions","otc/financelog","spot/assets","spot/financelog","spot/mytrades","spot/order","spot/order/current","spot/order/history","deposit/address","deposit/history","withdraw/history"],post:["{market}/order/cancel","{market}/order/new","{market}/order/batch_new","margin/order/cancel","margin/order/new","margin/position/close","spot/order/cancel","spot/order/new","transfer","withdraw/new","withdraw/cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{10001:[a,"Wrong request method, please check it's a GET ot POST request"],10002:[d,"Invalid ApiKey"],10003:[d,"Sign doesn't match"],10004:[a,"Illegal request parameters"],10005:[c,"Request frequency exceeds the limit"],10006:[h,"Unauthorized to execute this request"],10007:[h,"IP address Unauthorized"],10008:[p,"Timestamp for this request is invalid, timestamp must within 1 minute"],10009:[o,"Unexist endpoint, please check endpoint URL"],10011:[r,"ApiKey expired. Please go to client side to re-create an ApiKey"],20001:[h,"Trade is not open for this trading pair"],20002:[h,"Trade of this trading pair is suspended"],20003:[f,"Invalid price or amount"],20007:[f,"Price precision error"],20008:[f,"Amount precision error"],20009:[f,"Amount is less than the minimum requirement"],20010:[f,"Cash Amount is less than the minimum requirement"],20011:[l,"Insufficient balance"],20012:[a,"Invalid trade type, valid value: buy/sell)"],20013:[f,"No order info found"],20014:[a,"Invalid date, Valid format: 2018-07-25)"],20015:[a,"Date exceeds the limit"],20018:[h,"Your trading rights have been banned by the system"],20019:[a,'Wrong trading pair symbol. Correct format:"usdt_btc". Quote asset is in the front'],20020:[c,"You have violated the API operation trading rules and temporarily forbid trading. At present, we have certain restrictions on the user's transaction rate and withdrawal rate."],5e4:[u,"Exception error"],20021:[a,"Invalid currency"],20022:[a,"The ending timestamp must be larger than the starting timestamp"],20023:[a,"Invalid transfer type"],20024:[a,"Invalid amount"],20025:[a,"This currency is not transferable at the moment"],20026:[l,"Transfer amount exceed your balance"],20027:[h,"Abnormal account status"],20028:[h,"Blacklist for transfer"],20029:[h,"Transfer amount exceed your daily limit"],20030:[a,"You have no position on this trading pair"],20032:[h,"Withdrawal limited"],20033:[a,"Wrong Withdrawal ID"],20034:[h,"Withdrawal service of this crypto has been closed"],20035:[h,"Withdrawal limit"],20036:[u,"Withdrawal cancellation failed"],20037:[g,"The withdrawal address, Tag or chain type is not included in the withdrawal management list"],20038:[g,"The withdrawal address is not on the white list"],20039:[u,"Can't be canceled in current status"],20040:[y,"Withdraw too frequently; limitation: 3 times a minute, 100 times a day"],20041:[h,"Beyond the daily withdrawal limit"],20042:[v,"Current trading pair does not support API trading"]},broad:{}},options:{defaultType:"spot",types:["spot","margin","otc"]},commonCurrencies:{BHT:"Black House Test",EPS:"Epanus",MBN:"Mobilian Coin",TEL:"TEL666"}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",[]),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.safeValue(e,"deposit_status",1),o=this.safeValue(e,"withdraw_status",1),c=n&&o,d=this.safeNumber(e,"withdraw_fee_rate");a in s?Array.isArray(s[a]["info"])?s[a]["info"].push(e):s[a]["info"]=[s[a]["info"],e]:s[a]={id:t,code:a,info:e,type:void 0,name:void 0,active:c,fee:d,precision:8,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"min_withdraw_amount"),max:void 0}}}}return s}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeString(t,"method","fetch_markets_v2");return await this[i](e)}async fetchMarketsV2(e={}){const t=await this.publicGetTradesSymbols(e),i=this.safeValue(t,"symbol_list",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),a=this.safeString(e,"base_asset"),n=this.safeString(e,"quote_asset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:this.safeInteger(e,"amount_precision"),price:this.safeInteger(e,"price_precision")},u={amount:{min:this.safeNumber(e,"minimum_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minimum_value"),max:void 0}},l=this.safeInteger(e,"is_allow",1),f=!!l,p="spot",m="spot"===p,g="margin"===p;s.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:f,type:p,spot:m,margin:g,precision:h,limits:u,info:e})}return s}async fetchMarketsV1(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"market"),[a,n]=t.split("_"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:this.safeInteger(e,"volume_precision"),price:this.safeInteger(e,"price_precision")},u={amount:{min:this.safeNumber(e,"min_volume"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"min_amount"),max:void 0}},l=void 0;s.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:l,precision:h,limits:u,info:e})}return s}async fetchBalance(e={}){const t=this.safeString(this.options,"defaultType","spot"),i=this.safeString(e,"type",t);e=this.omit(e,"type");const s="privateGet"+this.capitalize(i)+"Assets",r=await this[s](e),a=this.safeValue(r,"list",[]),n={info:r};for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),s=this.account();s["used"]=this.safeString(e,"frozen"),s["free"]=this.safeString(e,"free"),s["total"]=this.safeString(e,"total"),n[i]=s}return this.parseBalance(n,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderBook(this.extend(r,i)),n=this.safeTimestamp(a,"date");return this.parseOrderBook(a,e,n)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s={},r=this.safeValue(i,"ticker",[]),a=this.safeInteger(i,"date");for(let n=0;n<r.length;n++){const e=this.extend({date:a},r[n]),t=this.parseTicker(e),i=t["symbol"];s[i]=t}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetTicker(this.extend(s,t)),a=this.safeInteger(r,"date"),n=this.safeValue(r,"ticker",[]),o=this.safeValue(n,0,{}),c=this.extend({date:a},o);return this.parseTicker(c,i)}parseTicker(e,t){const i=this.safeStringUpper(e,"symbol"),s=this.safeSymbol(i,t,"_"),r=this.safeTimestamp(e,"date"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"change");return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"base_vol"),info:e}}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"order_id"),r=this.safeTimestamp2(e,"date","timestamp"),a=this.safeString2(e,"type","side"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(b.stringMul(n,o)),u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t,"_"),f=this.safeValue(e,"is_maker"),p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"fee_currency"),i=this.safeCurrencyCode(t);m={cost:p,currency:i}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:void 0,order:s,side:a,price:c,amount:d,cost:h,takerOrMaker:f,fee:m}}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeTimestamp(t,"server_time")}async fetchStatus(e={}){return await this.publicGetPing(e),this.status=this.extend(this.status,{status:"ok",updated:this.milliseconds()}),this.status}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,5),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,1)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],period:this.timeframes[t]};if(void 0!==i){const e=parseInt(i/1e3);if(n["start_time"]=e,void 0!==s){const i=this.parseTimeframe(t);n["end_time"]=this.sum(e,s*i)}}else if(void 0!==s){const e=this.seconds(),i=this.parseTimeframe(t);n["startTime"]=this.sum(e,-s*i)}const o=await this.publicGetKline(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeString(this.options,"defaultType","spot"),c=this.safeString(a,"type",o);a=this.omit(a,"type");const d={market:c,symbol:n["id"],amount:this.amountToPrecision(e,s)};let h="";"market"===t?h="_market":d["price"]=this.priceToPrecision(e,r),d["type"]=i+h;const u=await this.privatePostMarketOrderNew(this.extend(d,a)),l=this.parseOrder(u,n);return this.extend(l,{symbol:e,side:i,type:t,amount:s,price:r})}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.safeString(this.options,"defaultType","spot"),r=this.safeString(i,"type",s);i=this.omit(i,"type");const a={market:r,order_id:e},n=await this.privatePostMarketOrderCancel(this.extend(a,i)),o=this.safeValue(n,"success",[]),c=o.length;if(1!==c)throw new m(this.id+" cancelOrder "+e+" not found");return n}async cancelOrders(e,t,i={}){await this.loadMarkets();const s=this.safeString(this.options,"defaultType","spot"),r=this.safeString(i,"type",s);i=this.omit(i,"type");const a={market:r,order_id:e.join(",")},n=await this.privatePostCancelOrder(this.extend(a,i)),o=this.safeValue(n,"success",[]),c=o.length;if(c<1)throw new m(this.id+" cancelOrders error");return n}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),s=this.safeTimestamp(e,"created_date"),r=this.safeTimestamp(e,"finished_date");let a=this.safeString(e,"type"),n=void 0;if(void 0!==a){const e=a.split("_"),t=e.length;t>1?(a=e[0],n=e[1]):n="limit"}const o=this.parseOrderStatus(this.safeString(e,"status")),c=this.safeString(e,"symbol"),d=this.safeSymbol(c,t,"_"),h=this.safeNumber(e,"amount"),u=this.safeNumber(e,"executed_amount"),l=this.safeNumber(e,"price"),f=this.safeNumber(e,"avg_price");return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:r,symbol:d,type:n,timeInForce:void 0,postOnly:void 0,side:a,price:l,stopPrice:void 0,amount:h,filled:u,remaining:void 0,cost:void 0,average:f,status:o,fee:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,s={}){const r=this.safeString(this.options,"defaultType","spot"),a=this.safeString(s,"type",r);s=this.omit(s,"type"),await this.loadMarkets();let n=void 0;const o={market:a};void 0!==e&&(n=this.market(e),o["symbol"]=n["id"]);const c=await this.privateGetMarketOrderCurrent(this.extend(o,s)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,n,t,i)}async fetchOrders(e,t,i,s={}){const r=this.safeString(this.options,"defaultType","spot"),a=this.safeString(s,"type",r);s=this.omit(s,"type"),await this.loadMarkets();let n=void 0;const o={market:a};void 0!==e&&(n=this.market(e),o["symbol"]=n["id"]),void 0!==t&&(o["start_time"]=parseInt(t/1e3)),void 0!==i&&(o["limit"]=i);const c=await this.privateGetMarketOrderHistory(this.extend(o,s)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,n,t,i)}async fetchOrder(e,t,i={}){const s=this.safeString(this.options,"defaultType","spot"),r=this.safeString(i,"type",s);i=this.omit(i,"type"),await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={market:r,order_id:e},o=await this.privateGetMarketOrder(this.extend(n,i)),c=this.safeValue(o,"data",[]),d=this.safeValue(c,0);if(void 0===d)throw new m(this.id+" fetchOrder() order "+e+" not found");return this.parseOrder(d,a)}async fetchMyTrades(e,t,i,s={}){const r=this.safeString(this.options,"defaultType","spot"),a=this.safeString(s,"type",r);s=this.omit(s,"type"),await this.loadMarkets();let n=void 0;const o={market:a};void 0!==e&&(n=this.market(e),o["symbol"]=n["id"]),void 0!==t&&(o["start_time"]=parseInt(t/1e3)),void 0!==i&&(o["limit"]=i);const c=await this.privateGetMarketMytrades(this.extend(o,s)),d=this.safeValue(c,"list",[]);return this.parseTrades(d,n,t,i)}parseLedgerEntryType(e){const t={};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"num"),s=void 0,r=this.parseLedgerEntryType(this.safeString(e,"type")),a=this.safeCurrencyCode(this.safeString(e,"currency_mark"),t),n=this.safeTimestamp(e,"time"),o=void 0,c=this.safeNumber(e,"balance"),d="ok";return{info:e,id:i,direction:void 0,account:s,referenceId:void 0,referenceAccount:void 0,type:r,currency:a,amount:void 0,before:o,after:c,status:d,timestamp:n,datetime:this.iso8601(n),fee:void 0}}async fetchLedger(e,t,i,s={}){const r=this.safeString(this.options,"defaultType","spot"),a=this.safeString(s,"type",r);s=this.omit(s,"type"),await this.loadMarkets();const n={market:a};let o=void 0;void 0!==e&&(o=this.currency(e),n["currency_mark"]=o["id"]),void 0!==t&&(n["start_time"]=parseInt(t/1e3)),void 0!==i&&(n["limit"]=i);const c=await this.privateGetMarketFinancelog(this.extend(n,s)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"finance",[]);return this.parseLedger(h,o,t,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),s=this.safeString(e,"addressTag"),r=this.safeStringUpper(e,"currency"),a=this.safeCurrencyCode(r);return{info:e,code:a,address:i,tag:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetDepositAddress(this.extend(s,t)),a=this.safeValue(r,"data",[]),n=this.parseDepositAddresses(a),o=this.safeValue(n,e);if(void 0===o)throw new g(this.id+" fetchDepositAddress did not return an address for "+e+" - create the deposit address in the user settings on the exchange website first.");return o}async fetchTransactionsByType(e,t,i,s,r={}){await this.loadMarkets();let a=void 0;const n={};void 0!==t&&(a=this.currency(t),n["currency"]=a["id"]),void 0!==s&&(n["size"]=Math.min(500,s));const o="deposit"===e?"privateGetDepositHistory":"privateGetWithdrawHistory",c=await this[o](this.extend(n,r)),d=this.safeValue(c,"data",[]);return this.parseTransactions(d,a,i,s,{type:e})}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsByType("deposit",e,t,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsByType("withdrawal",e,t,i,s)}parseTransactionStatus(e){const t={0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","withdraw_id"),s=this.safeString(e,"address");let r=this.safeString(e,"memo");void 0!==r&&r.length<1&&(r=void 0);const a=this.safeString(e,"hash"),n=this.safeStringUpper(e,"currency"),o=this.safeCurrencyCode(n,t),c=this.parse8601(this.safeString(e,"created_date")),d=this.parse8601(this.safeString(e,"finished_date")),h=this.parseTransactionStatus(this.safeString(e,"state")),u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"fee");let f=void 0;return void 0!==l&&(f={currency:o,cost:l}),{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:s,addressTo:s,addressFrom:void 0,tag:r,tagTo:r,tagFrom:void 0,type:void 0,amount:u,currency:o,status:h,updated:d,fee:f}}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={address:i,amount:parseFloat(t),currency:a["id"]};void 0!==s&&(n["memo"]=s);const o=await this.privatePostWithdrawNew(this.extend(n,r));return this.parseTransaction(o,a)}sign(e,t="public",i="GET",s={},r,a){const n=this.version;let o=this.urls["api"]+"/"+n+"/"+this.implodeParams(e,s);const c=this.omit(s,this.extractParams(e)),d=this.urlencode(this.keysort(c));if("private"===t){const e=this.nonce().toString(),t=d,s=this.hmac(this.encode(t),this.encode(this.secret));"GET"===i?d&&(o+="?"+d):"POST"===i&&(r={"Content-Type":"application/x-www-form-urlencoded"},d&&(a=d)),r={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":s,"ACCESS-TIMESTAMP":e}}else d&&(o+="?"+d);return{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,o,c,d){if(!o)return;const h=this.safeString(o,"code");if("0"===h||"200"===h)return;const l=this.id+" "+a;if(void 0===h)throw new n(l);const f=[u,l],[p,m]=this.safeValue(this.exceptions["exact"],h,f);throw new p(m)}}},c260:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var s=i("53a4"),r=function(e){return e._handleError},a=function(e,t,i){var a=i.value;i.value=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=this.currentProvider;if(!n){var o=r(this),c=o(s["a"].ENSURE_PROVIDER,[t]);throw c}return a.apply(this,e)}},n=function(e,t,i){var a=i.value;i.value=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return a.apply(this,t).catch((function(t){if("Error: User rejection!"===t)return Promise.reject(t);if(t instanceof s["e"])return Promise.reject(t);var i=r(e),a=i(s["a"].PROVIDER_INTERNAL,[t.message]);return e._console.error(a),Promise.reject(t)}))}},o=function(e,t,i){var a=i.value;i.value=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(null==this.currentProvider.user){var n=r(this),o=n(s["a"].NOT_AUTHORIZED,[t]);throw o}return a.apply(this,e)}}},c2ae:function(e,t,i){e.exports=i("e372").PassThrough},c2f1:function(e,t){},c345:function(e,t,i){"use strict";var s=i("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,a,n={};return e?(s.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=s.trim(e.substr(0,a)).toLowerCase(),i=s.trim(e.substr(a+1)),t){if(n[t]&&r.indexOf(t)>=0)return;n[t]="set-cookie"===t?(n[t]?n[t]:[]).concat([i]):n[t]?n[t]+", "+i:i}})),n):n}},c37a:function(e,t,i){"use strict";var s=i("5530"),r=(i("a9e3"),i("4de4"),i("d81d"),i("ac1f"),i("1276"),i("99af"),i("d191"),i("9d26")),a=i("ba87"),n=(i("8ff2"),i("a9ad")),o=i("7560"),c=i("58df"),d=i("80d2"),h=Object(c["a"])(n["a"],o["a"]).extend({name:"v-messages",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage:function(e,t){return this.$createElement("div",{staticClass:"v-messages__message",key:t},Object(d["r"])(this,"default",{message:e,key:t})||[e])}},render:function(e){return e("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),u=h,l=i("7e2b"),f=i("38cb"),p=i("d9f7"),m=Object(c["a"])(l["a"],f["a"]),g=m.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data:function(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return Object(s["a"])({"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense},this.themeClasses)},computedId:function(){return this.id||"input-".concat(this._uid)},hasDetails:function(){return this.messagesToDisplay.length>0},hasHint:function(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return!(!this.$slots.label&&!this.label)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit(this.$_modelEvent,e)}},isDirty:function(){return!!this.lazyValue},isLabelActive:function(){return this.isDirty},messagesToDisplay:function(){var e=this;return this.hasHint?[this.hint]:this.hasMessages?this.validations.map((function(t){if("string"===typeof t)return t;var i=t(e.internalValue);return"string"===typeof i?i:""})).filter((function(e){return""!==e})):[]},showDetails:function(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value:function(e){this.lazyValue=e}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement("div",{staticClass:"v-input__control",attrs:{title:this.attrs$.title}},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(e,t){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this["".concat(e,"Icon")],n="click:".concat(Object(d["v"])(e)),o=!(!this.listeners$[n]&&!t),c=Object(p["a"])({attrs:{"aria-label":o?Object(d["v"])(e).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light},on:o?{click:function(e){e.preventDefault(),e.stopPropagation(),i.$emit(n,e),t&&t(e)},mouseup:function(e){e.preventDefault(),e.stopPropagation()}}:void 0},s);return this.$createElement("div",{staticClass:"v-input__icon",class:e?"v-input__icon--".concat(Object(d["v"])(e)):void 0},[this.$createElement(r["a"],c,a)])},genInputSlot:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(d["g"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(a["a"],{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){var e=this;return this.showDetails?this.$createElement(u,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:function(t){return Object(d["r"])(e,"message",t)}}}):null},genSlot:function(e,t,i){if(!i.length)return null;var s="".concat(e,"-").concat(t);return this.$createElement("div",{staticClass:"v-input__".concat(s),ref:s},i)},genPrependSlot:function(){var e=[];return this.$slots.prepend?e.push(this.$slots.prepend):this.prependIcon&&e.push(this.genIcon("prepend")),this.genSlot("prepend","outer",e)},genAppendSlot:function(){var e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","outer",e)},onClick:function(e){this.$emit("click",e)},onMouseDown:function(e){this.hasMouseDown=!0,this.$emit("mousedown",e)},onMouseUp:function(e){this.hasMouseDown=!1,this.$emit("mouseup",e)}},render:function(e){return e("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}});t["a"]=g},c3c4:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var s=i("fb58"),r=i("a1c6");class a{constructor(e){this._actions=[],this._maxLength=e}get length(){return this._actions.length+(null==this._active?0:1)}push(e){if(this._actions.length>=this._maxLength)throw new Error("Cant't push action! Queue is full!");return new Promise((t,i)=>{const s=()=>{this._active=void 0;const e=this._actions.map(e=>e.action).indexOf(r);-1!==e&&this._actions.splice(e,1),this.run()},r=()=>e().then(e=>{s(),t(e)},e=>{s(),i(e)});this._actions.push({action:r,reject:i}),1===this.length&&this.run()})}clear(e){e=e||new Error("Rejection with clear queue!");const t="string"===typeof e?new Error(e):e;this._actions.splice(0,this._actions.length).forEach(e=>e.reject(t)),this._active=void 0}canPush(){return this._actions.length<this._maxLength}run(){const e=this._actions.shift();null!=e&&(this._active=e.action())}}class n{constructor(e){this._events=[],this._toRunEvents=[],this._queue=new a(e)}dropConnection(){this._queue.clear(new Error("User rejection!")),this._events.forEach(e=>this._toRunEvents.push(e)),this._dropTransportConnect()}sendEvent(e){this._events.push(e),this._toRunEvents.push(e)}dialog(e){return this._runBeforeShow(),this._getBus().then(t=>{const i=this._wrapAction(()=>e(t));return this._runEvents(t),this._queue.canPush()?this._queue.push(i).then(e=>(this._runAfterShow(),e)).catch(e=>(this._runAfterShow(),Promise.reject(e))):Promise.reject(new Error("Queue is full!"))})}_runBeforeShow(){0===this._queue.length&&this._beforeShow()}_runAfterShow(){0===this._queue.length&&this._afterShow()}_runEvents(e){this._toRunEvents.splice(0,this._events.length).forEach(t=>t(e))}_wrapAction(e){return this._toRunEvents?()=>{const t=e();return t.catch(()=>{this._events.forEach(e=>this._toRunEvents.push(e))}),t}:e}}const o=class extends n{constructor(e,t){super(t),this._url=e,this._initIframe()}get(){return this._iframe||this._initIframe(),this._iframe}_dropTransportConnect(){null!=this._iframe&&(document.body.removeChild(this._iframe),this._initIframe()),this._bus&&(this._bus.destroy(),this._bus=void 0)}_getBus(){return this._bus?Promise.resolve(this._bus):s["WindowAdapter"].createSimpleWindowAdapter(this._iframe).then(e=>new Promise(t=>{this._bus=new s["Bus"](e,-1),this._bus.once("ready",()=>{t(this._bus)})}))}_beforeShow(){this._showIframe()}_afterShow(){this._hideIframe()}_initIframe(){this._iframe=this._createIframe(),this._addIframeToDom(this._iframe),this._listenFetchURLError(this._iframe),this._hideIframe()}_addIframeToDom(e){null!=document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(e)})}_createIframe(){const e=document.createElement("iframe");return e.style.transition="opacity .2s",e.style.position="absolute",e.style.opacity="0",e.style.width="100%",e.style.height="100%",e.style.left="0",e.style.top="0",e.style.border="none",e.style.position="fixed",e}_showIframe(){const e={width:"100%",height:"100%",left:"0",top:"0",border:"none",position:"fixed",display:"block",opacity:"0",zIndex:"99999999"};this._applyStyle(e),null!=o._timer&&clearTimeout(o._timer),o._timer=setTimeout(()=>{this._applyStyle({opacity:"1"})},0)}_hideIframe(){const e={opacity:"0"};this._applyStyle(e),null!=o._timer&&clearTimeout(o._timer),o._timer=setTimeout(()=>{this._applyStyle({width:"10px",height:"10px",left:"-100px",top:"-100px",position:"absolute",opacity:"0",zIndex:"0",display:"none"})},200)}_applyStyle(e){Object.entries(e).forEach(([e,t])=>{null!=t&&this._iframe&&(this._iframe.style[e]=t)})}_renderErrorPage(e,t,i){e.parentElement&&(e.parentElement.style.height="100%"),Object.assign(e.style,{position:"relative",boxSizing:"border-box",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0px"});const s=document.createElement("div");Object.assign(s.style,{position:"fixed",zIndex:"-1",height:"100%",width:"100%",overflow:"hidden",backgroundColor:"#000",opacity:"0.6"});const r=document.createElement("div");Object.assign(r.style,{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:"0",backgroundColor:"#292F3C",width:"520px",borderRadius:"6px",padding:"40px",boxSizing:"border-box"});const a=document.createElement("div");a.textContent=i,Object.assign(a.style,{fontSize:"15px",lineHeight:"20px",color:"#fff",marginBottom:"40px",fontFamily:"Roboto, sans-serif"});const n=document.createElement("button");n.textContent="OK",n.addEventListener("click",()=>t()),Object.assign(n.style,{width:"100%",fontSize:"15px",lineHeight:"48px",padding:" 0 40px",color:"#fff",backgroundColor:"#5A81EA",outline:"none",border:"none",cursor:"pointer",fontFamily:"Roboto, sans-serif",borderRadius:"4px"}),r.appendChild(a),r.appendChild(n),e.appendChild(s),e.appendChild(r)}_listenFetchURLError(e){fetch(this._url).catch(()=>{e.addEventListener("load",()=>{e.contentDocument&&(this._renderErrorPage(e.contentDocument.body,()=>this.dropConnection(),"The request could not be processed. To resume your further work, disable the installed plugins."),this._showIframe())})})}};let c=o;function d(){const e=navigator.userAgent.toLowerCase(),t=e.includes("safari")&&!e.includes("chrome"),i=null!=navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return i||t}c._timer=null;class h{constructor(e,t){this.user=null,this.emitter=new r["EventEmitter"],this._clientUrl=(e||"https://waves.exchange/signer/")+"?"+h._getCacheClean(),this._transport=new c(this._clientUrl,3),!0===t&&(s["config"].console.logLevel=s["config"].console.LOG_LEVEL.VERBOSE)}static _getCacheClean(){return String(Date.now()%6e4)}on(e,t){return this.emitter.on(e,t),this}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.once(e,t),this}connect(e){return Promise.resolve(this._transport.sendEvent(t=>t.dispatchEvent("connect",e)))}logout(){return this.user=null,Promise.resolve(this._transport.dropConnection())}login(){var e;if(this.user)return Promise.resolve(this.user);const t=this._transport.get();if(d()){const i=null==(e=t.contentWindow)?void 0:e.open(this._clientUrl);if(!i)throw new Error("Window was blocked")}return t.src=this._clientUrl,this._transport.dialog(e=>e.request("login").then(e=>(this.user=e,e)).catch(e=>(this._transport.dropConnection(),Promise.reject(e))))}signMessage(e){return this.login().then(()=>this._transport.dialog(t=>t.request("sign-message",e)))}signTypedData(e){return this.login().then(()=>this._transport.dialog(t=>t.request("sign-typed-data",e)))}sign(e){return this.login().then(()=>this._transport.dialog(t=>t.request("sign",e)))}}},c3f2:function(e,t,i){"use strict";var s=i("f0be"),r=i("74d2"),a=i("fee7").inherits,n=s.base,o=i("fee7"),c=o.utils;function d(e){n.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(e,t,i){n.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(d,n),e.exports=d,d.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),s=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),r=s.redSqrt();return 0===r.redSqr().cmp(s)},a(h,n.BasePoint),d.prototype.decodePoint=function(e,t){return this.point(c.toArray(e,t),1)},d.prototype.point=function(e,t){return new h(this,e,t)},d.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(e,t){return new h(e,t[0],t[1]||e.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),s=i.redSqr(),r=t.redSub(s),a=t.redMul(s),n=r.redMul(s.redAdd(this.curve.a24.redMul(r)));return this.curve.point(a,n)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),s=this.x.redSub(this.z),r=e.x.redAdd(e.z),a=e.x.redSub(e.z),n=a.redMul(i),o=r.redMul(s),c=t.z.redMul(n.redAdd(o).redSqr()),d=t.x.redMul(n.redISub(o).redSqr());return this.curve.point(c,d)},h.prototype.mul=function(e){for(var t=e.clone(),i=this,s=this.curve.point(null,null),r=this,a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var n=a.length-1;n>=0;n--)0===a[n]?(i=i.diffAdd(s,r),s=s.dbl()):(s=i.diffAdd(s,r),i=i.dbl());return s},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},c401:function(e,t,i){"use strict";var s=i("c532");e.exports=function(e,t,i){return s.forEach(i,(function(i){e=i(e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,i){"use strict";var s=i("1d2b"),r=Object.prototype.toString;function a(e){return"[object Array]"===r.call(e)}function n(e){return"undefined"===typeof e}function o(e){return null!==e&&!n(e)&&null!==e.constructor&&!n(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===r.call(e)}function d(e){return"undefined"!==typeof FormData&&e instanceof FormData}function h(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function u(e){return"string"===typeof e}function l(e){return"number"===typeof e}function f(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function m(e){return"[object Date]"===r.call(e)}function g(e){return"[object File]"===r.call(e)}function y(e){return"[object Blob]"===r.call(e)}function v(e){return"[object Function]"===r.call(e)}function b(e){return f(e)&&v(e.pipe)}function w(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function k(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function S(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function _(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function O(){var e={};function t(t,i){p(e[i])&&p(t)?e[i]=O(e[i],t):p(t)?e[i]=O({},t):a(t)?e[i]=t.slice():e[i]=t}for(var i=0,s=arguments.length;i<s;i++)_(arguments[i],t);return e}function T(e,t,i){return _(t,(function(t,r){e[r]=i&&"function"===typeof t?s(t,i):t})),e}function C(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:a,isArrayBuffer:c,isBuffer:o,isFormData:d,isArrayBufferView:h,isString:u,isNumber:l,isObject:f,isPlainObject:p,isUndefined:n,isDate:m,isFile:g,isBlob:y,isFunction:v,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:S,forEach:_,merge:O,extend:T,trim:k,stripBOM:C}},c6a7:function(e,t,i){"use strict";const s=i("90db"),{BadRequest:r,ExchangeError:a,ArgumentsRequired:n,AuthenticationError:o,InsufficientFunds:c,OrderNotFound:d,ExchangeNotAvailable:h,RateLimitExceeded:u,PermissionDenied:l,InvalidOrder:f,InvalidAddress:p,OnMaintenance:m,RequestTimeout:g,AccountSuspended:y}=i("74b0"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"zb",name:"ZB",countries:["CN"],rateLimit:100,version:"v1",certified:!0,pro:!0,has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDepositAddresses:!0,fetchDeposits:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchClosedOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{ws:{1001:a,1002:a,1003:o,1004:o,1005:o,1006:l,1007:a,1009:m,1010:h,1012:l,1013:a,1014:a,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2008:c,2009:c,3001:d,3002:f,3003:f,3004:o,3005:r,3006:l,3007:g,3008:a,3009:f,3010:l,3011:f,3012:f,4001:y,4002:u},exact:{1001:a,1002:a,1003:o,1004:o,1005:o,1006:o,1009:h,1010:h,1012:l,1013:a,1014:a,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2008:c,2009:c,3001:d,3002:f,3003:f,3004:o,3005:r,3006:o,3007:o,3008:d,3009:f,3010:l,3011:f,3012:f,4001:h,4002:u},broad:{"":p}},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"https://api.zb.today/data",private:"https://trade.zb.today/api",trade:"https://trade.zb.today/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate",referral:{url:"https://www.zbex.club/en/register?ref=4301lera",discount:.16}},api:{trade:{get:["getFeeInfo"]},public:{get:["markets","ticker","allTicker","depth","trades","kline","getGroupMarkets"]},private:{get:["order","orderMoreV2","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getFinishedAndPartialOrders","getAccountInfo","getUserAddress","getPayinAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","addSubUser","getSubUserList","doTransferFunds","createSubUserKey","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","autoBorrow","repay","doAllRepay","getRepayments","getFinanceRecords","changeInvestMark","changeLoop","getCrossAssets","getCrossBills","transferInCross","transferOutCross","doCrossLoan","doCrossRepay","getCrossRepayRecords"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ANG:"Anagram",ENT:"ENTCash"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),s=[];for(let r=0;r<i.length;r++){const e=i[r],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeString(a,"amountScale"),l=this.safeString(a,"priceScale"),f=this.parsePrecision(u),p=this.parsePrecision(l),m={amount:parseInt(u),price:parseInt(l)};s.push({id:e,symbol:h,baseId:n,quoteId:o,base:c,quote:d,active:!0,precision:m,limits:{amount:{min:this.parseNumber(f),max:void 0},price:{min:this.parseNumber(p),max:void 0},cost:{min:0,max:void 0}},info:a})}return s}async fetchCurrencies(e={}){const t=await this.tradeGetGetFeeInfo(e),i=this.safeValue(t,"result",{}),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeCurrencyCode(e),o=void 0;let c=!0,d=!0;const h={};for(let i=0;i<t.length;i++){const e=t[i],s=this.safeString(e,"chainName"),r=this.safeNumber(e,"fee"),a=this.safeValue(e,"canDeposit"),n=this.safeValue(e,"canWithdraw");d=d||a,c=c||n,h[s]=r}const u=c&&d;r[n]={id:e,name:void 0,code:n,precision:o,info:t,active:u,fee:void 0,fees:h,limits:this.limits}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetAccountInfo(e),i=this.safeValue(t["result"],"coins"),s={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<i.length;r++){const e=i[r],t=this.account(),a=this.safeString(e,"key"),n=this.safeCurrencyCode(a);t["free"]=this.safeString(e,"available"),t["used"]=this.safeString(e,"freez"),s[n]=t}return this.parseBalance(s,!1)}parseDepositAddress(e,t){let i=this.safeString2(e,"key","address"),s=void 0;const r=this.safeString(e,"memo");if(void 0!==r)s=r;else if(i.indexOf("_")>=0){const e=i.split("_");i=e[0],s=e[1]}const a=this.safeString(e,"blockChain"),n=this.safeCurrencyCode(a,t);return{currency:n,address:i,tag:s,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetGetPayinAddress(t),s=this.safeValue(i,"message",{}),r=this.safeValue(s,"datas",[]);return this.parseDepositAddresses(r,e)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetGetUserAddress(this.extend(s,t)),a=this.safeValue(r,"message",{}),n=this.safeValue(a,"datas",{});return this.parseDepositAddress(n,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]};void 0!==t&&(r["size"]=t);const a=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(a,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetAllTicker(t),s={},r={},a=Object.keys(this.markets_by_id);for(let o=0;o<a.length;o++){const e=a[o].replace("_","");r[e]=this.markets_by_id[a[o]]}const n=Object.keys(i);for(let o=0;o<n.length;o++){const e=r[n[o]];s[e["symbol"]]=this.parseTicker(i[n[o]],e)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetTicker(this.extend(s,t)),a=this.safeValue(r,"ticker",{});return a["date"]=this.safeValue(r,"date"),this.parseTicker(a,i)}parseTicker(e,t){const i=this.safeInteger(e,"date",this.milliseconds());let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e);void 0===s&&(s=1e3);const n={market:a["id"],type:this.timeframes[t],limit:s};void 0!==i&&(n["since"]=i);const o=await this.publicGetKline(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let s=this.safeString(e,"trade_type");s="bid"===s?"buy":"sell";const r=this.safeString(e,"tid"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=v.stringMul(a,n),c=this.parseNumber(a),d=this.parseNumber(n),h=this.parseNumber(o);let u=void 0;return void 0!==t&&(u=t["symbol"]),{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:u,type:void 0,side:s,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){if("limit"!==t)throw new f(this.id+" allows limit orders only");await this.loadMarkets();const n={price:this.priceToPrecision(e,r),amount:this.amountToPrecision(e,s),tradeType:"buy"===i?"1":"0",currency:this.marketId(e)},o=await this.privateGetOrder(this.extend(n,a));return{info:o,id:o["id"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e.toString(),currency:this.marketId(t)};return await this.privateGetCancelOrder(this.extend(s,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s={id:e.toString(),currency:this.marketId(t)},r=await this.privateGetGetOrder(this.extend(s,i));return this.parseOrder(r,void 0)}async fetchOrders(e,t,i=50,s={}){if(void 0===e)throw new n(this.id+"fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={currency:r["id"],pageIndex:1,pageSize:i};let o="privateGetGetOrdersIgnoreTradeType";"tradeType"in s&&(o="privateGetGetOrdersNew");let c=void 0;try{c=await this[o](this.extend(a,s))}catch(h){if(h instanceof d)return[];throw h}return this.parseOrders(c,r,t,i)}async fetchClosedOrders(e,t,i,s={}){if(void 0===e)throw new n(this.id+"fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={currency:r["id"],pageIndex:1,pageSize:10},o=await this.privateGetGetFinishedAndPartialOrders(this.extend(a,s));return this.parseOrders(o,r,t,i)}async fetchOpenOrders(e,t,i=10,s={}){if(void 0===e)throw new n(this.id+"fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),a={currency:r["id"],pageIndex:1,pageSize:i};let o="privateGetGetUnfinishedOrdersIgnoreTradeType";"tradeType"in s&&(o="privateGetGetOrdersNew");let c=void 0;try{c=await this[o](this.extend(a,s))}catch(h){if(h instanceof d)return[];throw h}return this.parseOrders(c,r,t,i)}parseOrder(e,t){let i=this.safeInteger(e,"type");i=1===i?"buy":"sell";const s="limit",r=this.safeInteger(e,"trade_date"),a=this.safeString(e,"currency"),n=this.safeSymbol(a,t,"_"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"trade_amount"),d=this.safeNumber(e,"total_amount"),h=this.safeNumber(e,"trade_money"),u=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeString(e,"id"),f=this.safeNumber(e,"fees");let p=void 0;if(void 0!==f){let s=void 0;const r=this.safeValue(e,"useZbFee");!0===r?s="ZB":void 0!==t&&(s="sell"===i?t["quote"]:t["base"]),p={cost:f,currency:s}}return this.safeOrder({info:e,id:l,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:s,timeInForce:void 0,postOnly:void 0,side:i,price:o,stopPrice:void 0,average:void 0,cost:h,amount:d,filled:c,remaining:void 0,status:u,fee:p,trades:void 0})}parseOrderStatus(e){const t={0:"open",1:"canceled",2:"closed",3:"open"};return this.safeString(t,e,e)}parseTransactionStatus(e){const t={0:"pending",1:"failed",2:"ok",3:"canceled",5:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"hash"),r=this.safeNumber(e,"amount");let a=this.parse8601(this.safeString(e,"submit_time"));a=this.safeInteger(e,"submitTime",a);let n=this.safeString2(e,"toAddress","address"),o=void 0;if(void 0!==n){const e=n.split("_");n=this.safeString(e,0),o=this.safeString(e,1)}const c=this.safeInteger(e,"confirmTimes"),d=this.safeInteger(e,"manageTime");let h=void 0;const u=this.safeString(e,"currency"),l=this.safeCurrencyCode(u,t);void 0!==n&&(h=void 0===c?"withdrawal":"deposit");const f=this.parseTransactionStatus(this.safeString(e,"status"));let p=void 0;const m=this.safeNumber(e,"fees");return void 0!==m&&(p={cost:m,currency:l}),{info:e,id:i,txid:s,timestamp:a,datetime:this.iso8601(a),addressFrom:void 0,address:n,addressTo:n,tagFrom:void 0,tag:o,tagTo:o,type:h,amount:r,currency:l,status:f,updated:d,fee:p}}async withdraw(e,t,i,s,r={}){const a=this.safeString(r,"safePwd",this.password);if(void 0===a)throw new n(this.id+" withdraw() requires exchange.password or a safePwd parameter");const o=this.safeNumber(r,"fees");if(void 0===o)throw new n(this.id+" withdraw() requires a fees parameter");this.checkAddress(i),await this.loadMarkets();const c=this.currency(e);void 0!==s&&(i+="_"+s);const d={amount:this.currencyToPrecision(e,t),currency:c["id"],fees:this.currencyToPrecision(e,o),method:"withdraw",receiveAddr:i,safePwd:a},h=await this.privateGetWithdraw(this.extend(d,r)),u=this.parseTransaction(h,c);return this.extend(u,{type:"withdrawal",address:i,addressTo:i,amount:t})}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["pageSize"]=i);const n=await this.privateGetGetWithdrawRecord(this.extend(r,s)),o=this.safeValue(n,"message",{}),c=this.safeValue(o,"datas",{}),d=this.safeValue(c,"list",[]);return this.parseTransactions(d,a,t,i)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["pageSize"]=i);const n=await this.privateGetGetChargeRecord(this.extend(r,s)),o=this.safeValue(n,"message",{}),c=this.safeValue(o,"datas",{}),d=this.safeValue(c,"list",[]);return this.parseTransactions(d,a,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t];if("public"===t)n+="/"+this.version+"/"+e,Object.keys(s).length&&(n+="?"+this.urlencode(s));else if("trade"===t)n+="/"+e,Object.keys(s).length&&(n+="?"+this.urlencode(s));else{let t=this.keysort(this.extend({method:e,accesskey:this.apiKey},s));const i=this.nonce();t=this.keysort(t);const r=this.rawencode(t),a=this.hash(this.encode(this.secret),"sha1"),o=this.hmac(this.encode(r),this.encode(a),"md5"),c="sign="+o+"&reqTime="+i.toString();n+="/"+e+"?"+r+"&"+c}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0!==o&&"{"===n[0]){const e=this.id+" "+n;if(this.throwBroadlyMatchedException(this.exceptions["broad"],n,e),"code"in o){const t=this.safeString(o,"code");if(this.throwExactlyMatchedException(this.exceptions["exact"],t,e),"1000"!==t)throw new a(e)}const t=this.safeValue(o,"result");if(void 0!==t&&!t){const t=this.safeString(o,"message");throw""===t?new h(e):new a(e)}}}}},c6b6:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},c6cd:function(e,t,i){var s=i("da84"),r=i("ce4e"),a="__core-js_shared__",n=s[a]||r(a,{});e.exports=n},c740:function(e,t,i){"use strict";var s=i("23e7"),r=i("b727").findIndex,a=i("44d2"),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),s({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(n)},c7cd:function(e,t,i){"use strict";var s=i("23e7"),r=i("857a"),a=i("af03");s({target:"String",proto:!0,forced:a("fixed")},{fixed:function(){return r(this,"tt","","")}})},c7e6:function(e,t,i){var s=i("5259");e.exports=s.md=s.md||{},s.md.algorithms=s.md.algorithms||{}},c813:function(e,t,i){var s=i("70ea"),r=s((function(e){return!e}));e.exports=r},c834:function(e,t,i){"use strict";function s(e,t,i,s){var r=65535&e|0,a=e>>>16&65535|0,n=0;while(0!==i){n=i>2e3?2e3:i,i-=n;do{r=r+t[s++]|0,a=a+r|0}while(--n);r%=65521,a%=65521}return r|a<<16|0}e.exports=s},c8af:function(e,t,i){"use strict";var s=i("c532");e.exports=function(e,t){s.forEach(e,(function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])}))}},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(s){"object"===typeof window&&(i=window)}e.exports=i},c8d2:function(e,t,i){var s=i("d039"),r=i("5899"),a="";e.exports=function(e){return s((function(){return!!r[e]()||a[e]()!=a||r[e].name!==e}))}},c90b:function(e,t,i){(function(e,s,r){var a=i("a9f1"),n=i("3fb5"),o=i("e372"),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d=t.IncomingMessage=function(t,i,n,c){var d=this;if(o.Readable.call(d),d._mode=n,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",(function(){e.nextTick((function(){d.emit("close")}))})),"fetch"===n){if(d._fetchResponse=i,d.url=i.url,d.statusCode=i.status,d.statusMessage=i.statusText,i.headers.forEach((function(e,t){d.headers[t.toLowerCase()]=e,d.rawHeaders.push(t,e)})),a.writableStream){var h=new WritableStream({write:function(e){return new Promise((function(t,i){d._destroyed?i():d.push(new s(e))?t():d._resumeFetch=t}))},close:function(){r.clearTimeout(c),d._destroyed||d.push(null)},abort:function(e){d._destroyed||d.emit("error",e)}});try{return void i.body.pipeTo(h).catch((function(e){r.clearTimeout(c),d._destroyed||d.emit("error",e)}))}catch(g){}}var u=i.body.getReader();function l(){u.read().then((function(e){if(!d._destroyed){if(e.done)return r.clearTimeout(c),void d.push(null);d.push(new s(e.value)),l()}})).catch((function(e){r.clearTimeout(c),d._destroyed||d.emit("error",e)}))}l()}else{d._xhr=t,d._pos=0,d.url=t.responseURL,d.statusCode=t.status,d.statusMessage=t.statusText;var f=t.getAllResponseHeaders().split(/\r?\n/);if(f.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===d.headers[i]&&(d.headers[i]=[]),d.headers[i].push(t[2])):void 0!==d.headers[i]?d.headers[i]+=", "+t[2]:d.headers[i]=t[2],d.rawHeaders.push(t[1],t[2])}})),d._charset="x-user-defined",!a.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var m=p.match(/;\s*charset=([^;])(;|$)/);m&&(d._charset=m[1].toLowerCase())}d._charset||(d._charset="utf-8")}}};n(d,o.Readable),d.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},d.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{i=new r.VBArray(t.responseBody).toArray()}catch(h){}if(null!==i){e.push(new s(i));break}case"text":try{i=t.responseText}catch(h){e._mode="text:vbarray";break}if(i.length>e._pos){var a=i.substr(e._pos);if("x-user-defined"===e._charset){for(var n=new s(a.length),o=0;o<a.length;o++)n[o]=255&a.charCodeAt(o);e.push(n)}else e.push(a,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;i=t.response,e.push(new s(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==c.LOADING||!i)break;e.push(new s(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==c.LOADING)break;var d=new r.MSStreamReader;d.onprogress=function(){d.result.byteLength>e._pos&&(e.push(new s(new Uint8Array(d.result.slice(e._pos)))),e._pos=d.result.byteLength)},d.onload=function(){e.push(null)},d.readAsArrayBuffer(i);break}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,i("4362"),i("b639").Buffer,i("c8ba"))},c96a:function(e,t,i){"use strict";var s=i("23e7"),r=i("857a"),a=i("af03");s({target:"String",proto:!0,forced:a("small")},{small:function(){return r(this,"small","","")}})},c995:function(e,t,i){"use strict";var s=i("ade3"),r=(i("a9e3"),i("2b0e"));t["a"]=r["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var e=this.computedElevation;return null==e||isNaN(parseInt(e))?{}:Object(s["a"])({},"elevation-".concat(this.elevation),!0)}}})},c9a9:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InsufficientFunds:a,OrderNotFound:n,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"tidebit",name:"TideBit",countries:["HK"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460811-1e690280-c616-11ea-8652-69f187305add.jpg",api:"https://www.tidebit.com",www:"https://www.tidebit.com",doc:["https://www.tidebit.com/documents/api/guide","https://www.tidebit.com/swagger/#/default"],referral:"http://bit.ly/2IX0LrM"},api:{public:{get:["markets","tickers","tickers/{market}","timestamp","trades","trades/{market}","order_book","order","k_with_pending_trades","k","depth"],post:[]},private:{get:["addresses/{address}","deposits/history","deposits/get_deposit","deposits/deposit_address","historys/orders","historys/vouchers","historys/accounts","historys/snapshots","linkage/get_status","members/me","order","orders","partners/orders/{id}/trades","referral_commissions/get_undeposited","referral_commissions/get_graph_data","trades/my","withdraws/bind_account_list","withdraws/get_withdraw_account","withdraws/fetch_bind_info"],post:["deposits/deposit_cash","favorite_markets/update","order/delete","orders","orders/multi","orders/clear","referral_commissions/deposit","withdraws/apply","withdraws/bind_bank","withdraws/bind_address"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.003,taker:.003},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:a,2003:n}})}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privateGetDepositAddress(this.extend(s,t));if("success"in r&&r["success"]){const t=this.safeString(r,"address"),i=this.safeString(r,"addressTag");return{currency:e,address:this.checkAddress(t),tag:i,info:r}}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"id"),a=this.safeString(e,"name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o);i.push({id:r,symbol:a,base:c,quote:d,baseId:n,quoteId:o,info:e,active:void 0,precision:this.precision,limits:this.limits})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),s={info:i};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"locked"),s[a]=n}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"]};void 0!==t&&(r["limit"]=t),r["market"]=s["id"];const a=await this.publicGetDepth(this.extend(r,i)),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");e=this.safeValue(e,"ticker",{});let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),ask:this.safeNumber(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),s=Object.keys(i),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeMarket(e),n=t["symbol"],o=i[e];r[n]=this.parseTicker(o,t)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetTickersMarket(this.extend(s,t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"id"),r=this.safeString(e,"price"),a=this.safeString(e,"volume"),n=this.parseNumber(r),o=this.parseNumber(a);let d=this.safeNumber(e,"funds");void 0===d&&(d=this.parseNumber(c.stringMul(r,a)));let h=void 0;return void 0!==t&&(h=t["symbol"]),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:n,amount:o,cost:d,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e);void 0===s&&(s=30);const n={market:a["id"],period:this.timeframes[t],limit:s};n["timestamp"]=void 0!==i?parseInt(i/1e3):18e5;const o=await this.publicGetK(this.extend(n,r));return"null"===o?[]:this.parseOHLCVs(o,a,t,i,s)}parseOrderStatus(e){const t={done:"closed",wait:"open",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t),r=this.parse8601(this.safeString(e,"created_at")),a=this.parseOrderStatus(this.safeString(e,"state")),n=this.safeString(e,"id"),o=this.safeString(e,"ord_type"),c=this.safeString(e,"side"),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"volume"),u=this.safeNumber(e,"executed_volume"),l=this.safeNumber(e,"remaining_volume"),f=this.safeNumber(e,"avg_price");return this.safeOrder({id:n,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:a,symbol:s,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:d,stopPrice:void 0,amount:h,filled:u,remaining:l,cost:void 0,trades:void 0,fee:void 0,info:e,average:f})}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={market:this.marketId(e),side:i,volume:s.toString(),ord_type:t};"limit"===t&&(n["price"]=r.toString());const o=await this.privatePostOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePostOrderDelete(this.extend(s,i)),a=this.parseOrder(r),o=this.safeString(a,"status");if("closed"===o||"canceled"===o)throw new n(this.id+" "+this.json(a));return a}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.safeString(r,"id");if(void 0===n)throw new o(this.id+" withdraw() requires an extra `id` param (withdraw account id according to withdraws/bind_account_list endpoint");const c={id:n,currency_type:"coin",currency:a["id"],body:t};void 0!==s&&(c["memo"]=s);const d=await this.privatePostWithdrawsApply(this.extend(c,r));return{info:d,id:void 0}}nonce(){return this.milliseconds()}encodeParams(e){return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",s={},r,a){const n="/api/"+this.version+"/"+this.implodeParams(e,s)+".json",o=this.omit(s,this.extractParams(e));let c=this.urls["api"]+n;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.keysort(this.extend({access_key:this.apiKey,tonce:e},s)),o=this.urlencode(t),d=i+"|"+n+"|"+o,h=this.hmac(this.encode(d),this.encode(this.secret)),u=o+"&signature="+h;"GET"===i?c+="?"+u:(a=u,r={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(400===e||void 0===o){const e=this.id+" "+n;if(void 0===o)throw new r(e);const t=this.safeValue(o,"error",{}),i=this.safeString(t,"code");this.throwExactlyMatchedException(this.exceptions,i,e)}}}},c9b5:function(e,t,i){"use strict";var s=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=i("aa3f"),n=i("fb58"),o=i("8e94"),c=i("d47d"),d={origins:[],availableChanelId:[]},h=function(e){function t(i,s,r){var a=e.call(this)||this;return a.id=n.uniqueId("wa"),a.callbacks=[],a.options=t.prepareOptions(r),a.listen=i,a.dispatch=s,a.listen.forEach((function(e){return e.on("message",a.onMessage,a)})),a}return s(t,e),t.prototype.addListener=function(e){return this.callbacks.push(e),n.console.info("WindowAdapter: Add iframe message listener"),this},t.prototype.send=function(e){var t=r({},e,{chanelId:this.options.chanelId});return this.dispatch.forEach((function(e){return e.dispatch(t)})),n.console.info("WindowAdapter: Send message",t),this},t.prototype.destroy=function(){this.listen.forEach((function(e){return e.destroy()})),this.dispatch.forEach((function(e){return e.destroy()})),n.console.info("WindowAdapter: Destroy")},t.prototype.onMessage=function(e){this.accessEvent(e)&&this.callbacks.forEach((function(t){try{t(e.data)}catch(i){n.console.warn("WindowAdapter: Unhandled exception!",i)}}))},t.prototype.accessEvent=function(e){if("object"!==typeof e.data||null==e.data.type)return n.console.info("WindowAdapter: Block event. Wrong event format!",e.data),!1;if(!this.options.origins.has("*")&&!this.options.origins.has(e.origin))return n.console.info('SimpleWindowAdapter: Block event by origin "'+e.origin+'"'),!1;if(!this.options.availableChanelId.size)return!0;var t=!(!e.data.chanelId||!this.options.availableChanelId.has(e.data.chanelId));return t||n.console.info('SimpleWindowAdapter: Block event by chanel id "'+e.data.chanelId+'"'),t},t.createSimpleWindowAdapter=function(e,i){var s=this,r=this.getContentOrigin(e),a=this.prepareOptions(i),n=[];r&&a.origins.add(r);var c=new o.WindowProtocol(window,o.WindowProtocol.PROTOCOL_TYPES.LISTEN),d=function(e){n.push(e)};return c.on("message",d),this.getIframeContent(e).then((function(e){var i=new o.WindowProtocol(e.win,o.WindowProtocol.PROTOCOL_TYPES.DISPATCH),r=new t([c],[i],s.unPrepareOptions(a));return n.forEach((function(e){r.onMessage(e)})),c.off("message",d),r}))},t.prepareOptions=function(e){void 0===e&&(e=d);var t=function(e){return function(t){return t.reduce((function(e,t){return e.add(t)}),e)}},i=function(e,i){return c.pipe(n.toArray,t(i))(e)},s=i(e.origins||[],new n.UniqPrimitiveCollection([window.location.origin])),a=i(e.availableChanelId||[],new n.UniqPrimitiveCollection);return r({},e,{origins:s,availableChanelId:a})},t.unPrepareOptions=function(e){return{origins:e.origins.toArray(),availableChanelId:e.availableChanelId.toArray(),chanelId:e.chanelId}},t.getIframeContent=function(e){return e?e instanceof HTMLIFrameElement?e.contentWindow?Promise.resolve({win:e.contentWindow}):new Promise((function(t,i){e.addEventListener("load",(function(){return t({win:e.contentWindow})}),!1),e.addEventListener("error",i,!1)})):Promise.resolve({win:e}):Promise.resolve({win:window.opener||window.parent})},t.getContentOrigin=function(e){if(!e)try{return new URL(document.referrer).origin}catch(t){return null}if(!(e instanceof HTMLIFrameElement))try{return window.top.origin}catch(t){return null}try{return new URL(e.src).origin||null}catch(t){return null}},t}(a.Adapter);t.WindowAdapter=h},c9bc:function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,AuthenticationError:a,ExchangeError:n,InsufficientFunds:o,OrderNotFound:c,PermissionDenied:d,BadRequest:h,BadSymbol:u,DDoSProtection:l}=i("74b0"),f=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"stex",name:"STEX",countries:["EE"],rateLimit:500,certified:!1,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},version:"v3",urls:{logo:"https://user-images.githubusercontent.com/1294454/69680782-03fd0b80-10bd-11ea-909e-7f603500e9cc.jpg",api:"https://api3.stex.com",www:"https://www.stex.com",doc:["https://help.stex.com/en/collections/1593608-api-v3-documentation"],fees:"https://app.stex.com/en/pairs-specification",referral:"https://app.stex.com?ref=36416021"},requiredCredentials:{apiKey:!1,secret:!1,token:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D"},api:{public:{get:["currencies","currencies/{currencyId}","markets","pairs-groups","currency_pairs/list/{code}","currency_pairs/group/{currencyPairGroupId}","currency_pairs/{currencyPairId}","ticker","ticker/{currencyPairId}","trades/{currencyPairId}","orderbook/{currencyPairId}","chart/{currencyPairId}/{candlesType}","deposit-statuses","deposit-statuses/{statusId}","withdrawal-statuses","withdrawal-statuses/{statusId}","ping","mobile-versions"]},trading:{get:["fees/{currencyPairId}","orders","orders/{currencyPairId}","order/{orderId}"],post:["orders/{currencyPairId}"],delete:["orders","orders/{currencyPairId}","order/{orderId}"]},reports:{get:["orders","orders/{orderId}","trades/{currencyPairId}","background/{listMode}","background/{id}","background/download/{id}"],post:["background/create"],delete:["background/{id}"]},profile:{get:["info","wallets","wallets/{walletId}","wallets/address/{walletId}","deposits","deposits/{id}","withdrawals","withdrawals/{id}","notifications","favorite/currency_pairs","token-scopes"],post:["wallets/burn/{walletId}","wallets/{currencyId}","wallets/address/{walletId}","withdraw","referral/program","referral/insert/{code}","referral/bonus_transfer/{currencyId}"],put:["profile/favorite/currency_pairs/set"],delete:["profile/withdraw/{withdrawalId}"]},verification:{get:["verification/countries","verification/stex"],post:["verification/stex"]},settings:{get:["notifications/{event}","notifications"],put:["notifications","notifications/set"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},commonCurrencies:{BC:"Bitcoin Confidential",BITS:"Bitcoinus",BITSW:"BITS",BHD:"Bithold",BTH:"Bithereum",MPH:"Chasyr Token",SBTC:"SBTCT"},options:{parseOrderToPrecision:!1},exceptions:{exact:{"Wrong parameters":h,"Unauthenticated.":a,"Server Error":n,"This feature is only enabled for users verifies by Cryptonomica":d,"Too Many Attempts.":l,"Selected Pair is disabled":u},broad:{"Not enough":o}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},s=this.safeValue(t,"data",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"id"),a=this.safeInteger(e,"id"),n=this.safeCurrencyCode(this.safeString(e,"code")),o=this.safeString(e,"precision"),c=this.parsePrecision(o),d=this.safeNumber(e,"withdrawal_fee_const"),h=this.safeValue(e,"active",!0);i[n]={id:t,numericId:a,code:n,info:e,type:void 0,name:this.safeString(e,"name"),active:h,fee:d,precision:parseInt(o),limits:{amount:{min:this.parseNumber(c),max:void 0},deposit:{min:this.safeNumber(e,"minimum_deposit_amount"),max:void 0},withdraw:{min:this.safeNumber(e,"minimum_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t={code:"ALL"},i=await this.publicGetCurrencyPairsListCode(this.extend(t,e)),s=[],r=this.safeValue(i,"data",[]);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"id"),i=this.safeInteger(e,"id"),n=this.safeString(e,"currency_id"),o=this.safeString(e,"market_currency_id"),c=this.safeInteger(e,"currency_id"),d=this.safeInteger(e,"market_currency_id"),h=this.safeCurrencyCode(this.safeString(e,"currency_code")),u=this.safeCurrencyCode(this.safeString(e,"market_code")),l=h+"/"+u,f={amount:this.safeInteger(e,"currency_precision"),price:this.safeInteger(e,"market_precision")},p=this.safeValue(e,"active"),m=this.safeNumber(e,"min_buy_price"),g=this.safeNumber(e,"min_sell_price"),y=Math.max(m,g),v=this.safeNumber(e,"buy_fee_percent")/100,b=this.safeNumber(e,"sell_fee_percent")/100,w=Math.max(v,b);s.push({id:t,numericId:i,symbol:l,base:h,quote:u,baseId:n,quoteId:o,baseNumericId:c,quoteNumericId:d,info:e,active:p,maker:w,taker:w,precision:f,limits:{amount:{min:this.safeNumber(e,"min_order_amount"),max:void 0},price:{min:y,max:void 0},cost:{min:void 0,max:void 0}}})}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={currencyPairId:i["id"]},r=await this.publicGetTickerCurrencyPairId(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchTime(e={}){const t=await this.publicGetPing(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"server_datetime",{});return this.parse8601(this.safeString(s,"date"))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={currencyPairId:s["id"]};void 0!==t&&(r["limit_bids"]=t,r["limit_asks"]=t);const a=await this.publicGetOrderbookCurrencyPairId(this.extend(r,i)),n=this.safeValue(a,"data",{});return this.parseOrderBook(n,e,void 0,"bid","ask","price","amount")}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),s=this.safeString2(e,"id","symbol"),r=this.safeSymbol(s,t,"_"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open");let o=void 0,c=void 0;return void 0!==a&&void 0!==n&&n>0&&(o=a-n,c=100/n*a-100),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:void 0,baseVolume:this.safeNumber(e,"volumeQuote"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),s=this.safeValue(i,"data",[]);return this.parseTickers(s,e)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1d",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={currencyPairId:a["id"],candlesType:this.timeframes[t]};void 0===s?s=100:n["limit"]=s;const o=this.parseTimeframe(t),c=s*o;void 0===i?(n["timeEnd"]=this.seconds(),n["timeStart"]=n["timeEnd"]-c):(n["timeStart"]=parseInt(i/1e3),n["timeEnd"]=this.sum(n["timeStart"],c));const d=await this.publicGetChartCurrencyPairIdCandlesType(this.extend(n,r)),h=this.safeValue(d,"data",[]);return this.parseOHLCVs(h,a,t,i,s)}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(r),o=this.parseNumber(a),c=this.parseNumber(f.stringMul(r,a));let d=void 0;void 0===d&&void 0!==t&&(d=t["symbol"]);const h=this.safeStringLower2(e,"type","trade_type");return{info:e,timestamp:s,datetime:this.iso8601(s),symbol:d,id:i,order:void 0,type:void 0,takerOrMaker:void 0,side:h,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={currencyPairId:r["id"]};void 0!==i&&(a["limit"]=i),void 0!==t&&(a["sort"]="ASC",a["from"]=parseInt(t/1e3));const n=await this.publicGetTradesCurrencyPairId(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.profileGetWallets(e),i={info:t,timestamp:void 0,datetime:void 0},s=this.safeValue(t,"data",[]);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeCurrencyCode(this.safeString(e,"currency_id")),a=this.account();a["free"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"frozen_balance"),i[t]=a}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={PROCESSING:"open",PENDING:"open",PARTIAL:"open",FINISHED:"closed",CANCELLED:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString2(e,"currency_pair_id","currency_pair_name"),a=this.safeSymbol(r,t,"_"),n=this.safeTimestamp(e,"timestamp"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"initial_amount"),d=this.safeNumber(e,"processed_amount");let h=void 0,u=void 0;void 0!==d&&(void 0!==c&&(h=c-d,this.options["parseOrderToPrecision"]&&(h=parseFloat(this.amountToPrecision(a,h))),h=Math.max(h,0)),void 0!==o&&void 0===u&&(u=o*d));let l=this.safeString(e,"original_type");"BUY"!==l&&"SELL"!==l||(l=void 0);const f=this.safeStringLower(e,"type"),p=this.safeValue(e,"trades");let m=void 0;void 0!==p&&(m=this.parseTrades(p,t,void 0,void 0,{symbol:a,order:i}));const g=this.safeNumber(e,"trigger_price"),y={info:e,id:i,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:a,type:l,timeInForce:void 0,postOnly:void 0,side:f,price:o,stopPrice:g,amount:c,cost:u,average:void 0,filled:d,remaining:h,status:s,trades:m},v=this.safeValue(e,"fees");if(void 0===v)y["fee"]=void 0;else{const e=v.length;if(e>0){y["fees"]=[];for(let e=0;e<v.length;e++){const t=this.safeNumber(v[e],"amount");if(void 0!==t){const i=this.safeString(v[e],"currency_id"),s=this.safeCurrencyCode(i);y["fees"].push({cost:t,currency:s})}}}else y["fee"]=void 0}return y}async createOrder(e,t,i,s,r,a={}){if("market"===t)throw new n(this.id+" createOrder allows limit orders only");await this.loadMarkets();const o=this.market(e);"limit"===t&&(t=i);const c={currencyPairId:o["id"],type:t.toUpperCase(),amount:parseFloat(this.amountToPrecision(e,s)),price:parseFloat(this.priceToPrecision(e,r))},d=await this.tradingPostOrdersCurrencyPairId(this.extend(c,a)),h=this.safeValue(d,"data",{});return this.parseOrder(h,o)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e},r=await this.tradingGetOrderOrderId(this.extend(s,i)),a=this.safeValue(r,"data",{});let n=void 0;return void 0!==t&&(n=this.market(t)),this.parseOrder(a,n)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e},r=await this.reportsGetOrdersOrderId(this.extend(s,i)),a=this.safeValue(r,"data",{});let n=void 0;return void 0!==t&&(n=this.market(t)),this.parseOrder(a,n)}async fetchOrderTrades(e,t,i,s,r={}){const a=await this.fetchClosedOrder(e,t,r);return a["trades"]}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0,a="tradingGetOrders";const n={};void 0!==e&&(a="tradingGetOrdersCurrencyPairId",r=this.market(e),n["currencyPairId"]=r["id"]),void 0!==i&&(n["limit"]=i);const o=await this[a](this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,r,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e},r=await this.tradingDeleteOrderOrderId(this.extend(s,i)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"put_into_processing_queue",[]),o=this.safeValue(a,"not_put_into_processing_queue",[]),d=n.length,h=o.length;if(d<1){if(h<1)throw new c(this.id+" cancelOrder received an empty response: "+this.json(r));return this.parseOrder(o[0])}if(h<1)return this.parseOrder(n[0]);throw new c(this.id+" cancelOrder received an empty response: "+this.json(r))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s="tradingDeleteOrders";if(void 0!==e){const t=this.market(e);i["currencyPairId"]=t["id"],s="tradingDeleteOrdersCurrencyPairId"}const r=await this[s](this.extend(i,t));return r}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new r(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={currencyPairId:a["id"]};void 0!==t&&(n["timeStart"]=this.iso8601(t)),void 0!==i&&(n["limit"]=i);const o=await this.reportsGetTradesCurrencyPairId(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currencyId:i["id"]},r=await this.profilePostWalletsCurrencyId(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeValue(a,"deposit_address",{}),o=this.safeString(n,"address"),c=this.safeString(n,"additional_address_parameter");return this.checkAddress(o),{currency:e,address:o,tag:c,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchBalance(),s=this.safeValue(i["info"],"data",[]),r=this.indexBy(s,"currency_id"),a=this.currency(e),o=this.safeValue(r,a["id"]);if(void 0===o)throw new n(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const c=this.safeInteger(o,"id");if(void 0===c)throw new n(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const d={walletId:c},h=await this.profileGetWalletsWalletId(this.extend(d,t)),u=this.safeValue(h,"data",[]),l=this.safeValue(u,"deposit_address",{}),f=this.safeString(l,"address"),p=this.safeString(l,"additional_address_parameter");return this.checkAddress(f),{currency:e,address:f,tag:p,info:h}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+t+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));return"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(this.checkRequiredCredentials(),r={Authorization:"Bearer "+this.token},"GET"===i||"DELETE"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(a=this.json(o),Object.keys(o).length&&(r["Content-Type"]="application/json"))),{url:n,method:i,body:a,headers:r}}parseTransactionStatus(e){const t={processing:"pending","checking by system":"pending",hodl:"pending","amount too low":"failed","not confirmed":"pending","cancelled by User":"canceled",approved:"pending",finished:"ok","withdrawal error":"failed","deposit error":"failed","cancelled by admin":"canceled",awaiting:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeValue(e,"withdrawal_address",{}),r=this.safeString(s,"address"),a=this.safeString(s,"additional_address_parameter"),n=this.safeString(e,"currency_id");let o=void 0;n in this.currencies_by_id?t=this.currencies_by_id[n]:o=this.commonCurrencyCode(this.safeString(e,"currency_code")),void 0===o&&void 0!==t&&(o=t["code"]);const c="deposit_status_id"in e?"deposit":"withdrawal",d=this.safeNumber(e,"amount"),h=this.parseTransactionStatus(this.safeStringLower(e,"status")),u=this.safeTimestamp2(e,"timestamp","created_ts"),l=this.safeTimestamp(e,"updated_ts"),f=this.safeString(e,"txid");let p=void 0;const m=this.safeNumber(e,"fee");if(void 0!==m){const t=this.safeString(e,"fee_currency_id","deposit_fee_currency_id"),i=this.safeCurrencyCode(t);p={cost:m,currency:i}}return{info:e,id:i,txid:f,timestamp:u,datetime:this.iso8601(u),addressFrom:void 0,address:r,addressTo:r,tagFrom:void 0,tag:a,tagTo:a,type:c,amount:d,currency:o,status:h,updated:l,fee:p}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["currencyId"]=r["id"]),void 0!==i&&(a["limit"]=i),void 0!==t&&(a["timeStart"]=t);const n=await this.profileGetDeposits(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["currencyId"]=r["id"]),void 0!==i&&(a["limit"]=i),void 0!==t&&(a["timeStart"]=t);const n=await this.profileGetWithdrawals(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency_id:a["id"],amount:parseFloat(this.currencyToPrecision(e,t)),address:i};void 0!==s&&(n["additional_address_parameter"]=s);const o=await this.profilePostWithdraw(this.extend(n,r)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}async fetchFundingFees(e,t={}){const i=await this.publicGetCurrencies(t),s=this.safeValue(i,"data",[]),r={},a={};for(let n=0;n<s.length;n++){const e=this.safeString(s[n],"id"),t=this.safeCurrencyCode(e);r[t]=this.safeNumber(s[n],"withdrawal_fee_const"),a[t]=this.safeNumber(s[n],"deposit_fee_const")}return{withdraw:r,deposit:a,info:i}}handleErrors(e,t,i,s,r,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"success",!1);if(!h){const e=this.safeString(o,"message"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new n(t)}}}},ca38:function(e,t,i){"use strict";const{ROUND_UP:s,ROUND_DOWN:r}=i("5ea4"),{NotSupported:a}=i("74b0"),n=e=>{const t=e.slice(0,-1),i=e.slice(-1);let s=void 0;if("y"===i)s=31536e3;else if("M"===i)s=2592e3;else if("w"===i)s=604800;else if("d"===i)s=86400;else if("h"===i)s=3600;else if("m"===i)s=60;else{if("s"!==i)throw new a("timeframe unit "+i+" is not supported");s=1}return t*s},o=(e,t,i=r)=>{const a=1e3*n(e),o=t%a;return t-o+(i===s?a:0)},c=(e,t="1m",i=-1/0,s=1/0)=>{const r=1e3*n(t),a=[],[o,,c,d,h,u,l]=[0,1,2,3,4,5,6],f=Math.min(e.length-1,s);for(let n=0;n<=f;n++){const t=e[n];if(t.timestamp<i)continue;const s=Math.floor(t.timestamp/r)*r,f=a.length-1;-1===f||s>=a[f][o]+r?a.push([s,t.price,t.price,t.price,t.price,t.amount,1]):(a[f][c]=Math.max(a[f][c],t.price),a[f][d]=Math.min(a[f][d],t.price),a[f][h]=t.price,a[f][u]+=t.amount,a[f][l]++)}return a},d=e=>{const t=/{([\w-]+)}/g,i=[];let s=t.exec(e);while(s)i.push(s[1]),s=t.exec(e);return i},h=(e,t)=>{if(!Array.isArray(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++){const r=i[s];Array.isArray(t[r])||(e=e.replace("{"+r+"}",t[r]))}}return e};function u(e,t){return void 0!==e&&void 0!==t&&e>0?t/e:void 0}e.exports={aggregate(e){const t={};for(let i=0;i<e.length;i++){const[s,r]=e[i];r>0&&(t[s]=(t[s]||0)+r)}return Object.keys(t).map(e=>[parseFloat(e),parseFloat(t[e])])},parseTimeframe:n,roundTimeframe:o,buildOHLCVC:c,ROUND_UP:s,ROUND_DOWN:r,implodeParams:h,extractParams:d,vwap:u}},ca73:function(e,t,i){var s=i("5259");if(i("f484"),i("fb3e"),i("ca87"),i("c7e6"),i("deb0"),i("3b29"),i("66b0"),i("3609"),i("eb99"),i("4778"),i("6497"),"undefined"===typeof r)var r=s.jsbn.BigInteger;var a=s.asn1,n=s.pki=s.pki||{};e.exports=n.pbe=s.pbe=s.pbe||{};var o=n.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},d={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};function u(e,t){return e.start().update(t).digest().getBytes()}function l(e){var t;if(e){if(t=n.oids[a.derToOid(e)],!t){var i=new Error("Unsupported PRF OID.");throw i.oid=e,i.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],i}}else t="hmacWithSHA1";return f(t)}function f(e){var t=s.md;switch(e){case"hmacWithSHA224":t=s.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var i=new Error("Unsupported PRF algorithm.");throw i.algorithm=e,i.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],i}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function p(e,t,i,r){var o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==r&&o.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s.util.hexToBytes(i.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(n.oids[r]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),o}n.encryptPrivateKeyInfo=function(e,t,i){i=i||{},i.saltSize=i.saltSize||8,i.count=i.count||2048,i.algorithm=i.algorithm||"aes128",i.prfAlgorithm=i.prfAlgorithm||"sha1";var r,c,d,h=s.random.getBytesSync(i.saltSize),u=i.count,l=a.integerToDer(u);if(0===i.algorithm.indexOf("aes")||"des"===i.algorithm){var m,g,y;switch(i.algorithm){case"aes128":r=16,m=16,g=o["aes128-CBC"],y=s.aes.createEncryptionCipher;break;case"aes192":r=24,m=16,g=o["aes192-CBC"],y=s.aes.createEncryptionCipher;break;case"aes256":r=32,m=16,g=o["aes256-CBC"],y=s.aes.createEncryptionCipher;break;case"des":r=8,m=8,g=o["desCBC"],y=s.des.createEncryptionCipher;break;default:var v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=i.algorithm,v}var b="hmacWith"+i.prfAlgorithm.toUpperCase(),w=f(b),k=s.pkcs5.pbkdf2(t,h,u,r,w),S=s.random.getBytesSync(m),_=y(k);_.start(S),_.update(a.toDer(e)),_.finish(),d=_.output.getBytes();var O=p(h,l,r,b);c=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o["pkcs5PBES2"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o["pkcs5PBKDF2"]).getBytes()),O]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(g).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,S)])])])}else{if("3des"!==i.algorithm){v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=i.algorithm,v}r=24;var T=new s.util.ByteBuffer(h);k=n.pbe.generatePkcs12Key(t,T,1,u,r),S=n.pbe.generatePkcs12Key(t,T,2,u,r),_=s.des.createEncryptionCipher(k);_.start(S),_.update(a.toDer(e)),_.finish(),d=_.output.getBytes(),c=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,h),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,l.getBytes())])])}var C=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[c,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,d)]);return C},n.decryptPrivateKeyInfo=function(e,t){var i=null,r={},o=[];if(!a.validate(e,c,r,o)){var d=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw d.errors=o,d}var h=a.derToOid(r.encryptionOid),u=n.pbe.getCipher(h,r.encryptionParams,t),l=s.util.createBuffer(r.encryptedData);return u.update(l),u.finish()&&(i=a.fromDer(u.output)),i},n.encryptedPrivateKeyToPem=function(e,t){var i={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(e).getBytes()};return s.pem.encode(i,{maxline:t})},n.encryptedPrivateKeyFromPem=function(e){var t=s.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var i=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw i.headerType=t.type,i}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(t.body)},n.encryptRsaPrivateKey=function(e,t,i){if(i=i||{},!i.legacy){var r=n.wrapRsaPrivateKey(n.privateKeyToAsn1(e));return r=n.encryptPrivateKeyInfo(r,t,i),n.encryptedPrivateKeyToPem(r)}var o,c,d,h;switch(i.algorithm){case"aes128":o="AES-128-CBC",d=16,c=s.random.getBytesSync(16),h=s.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",d=24,c=s.random.getBytesSync(16),h=s.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",d=32,c=s.random.getBytesSync(16),h=s.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",d=24,c=s.random.getBytesSync(8),h=s.des.createEncryptionCipher;break;case"des":o="DES-CBC",d=8,c=s.random.getBytesSync(8),h=s.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+i.algorithm+'".');throw u.algorithm=i.algorithm,u}var l=s.pbe.opensslDeriveBytes(t,c.substr(0,8),d),f=h(l);f.start(c),f.update(a.toDer(n.privateKeyToAsn1(e))),f.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:s.util.bytesToHex(c).toUpperCase()},body:f.output.getBytes()};return s.pem.encode(p)},n.decryptRsaPrivateKey=function(e,t){var i=null,r=s.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==r.type&&"PRIVATE KEY"!==r.type&&"RSA PRIVATE KEY"!==r.type){var o=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw o.headerType=o,o}if(r.procType&&"ENCRYPTED"===r.procType.type){var c,d;switch(r.dekInfo.algorithm){case"DES-CBC":c=8,d=s.des.createDecryptionCipher;break;case"DES-EDE3-CBC":c=24,d=s.des.createDecryptionCipher;break;case"AES-128-CBC":c=16,d=s.aes.createDecryptionCipher;break;case"AES-192-CBC":c=24,d=s.aes.createDecryptionCipher;break;case"AES-256-CBC":c=32,d=s.aes.createDecryptionCipher;break;case"RC2-40-CBC":c=5,d=function(e){return s.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":c=8,d=function(e){return s.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":c=16,d=function(e){return s.rc2.createDecryptionCipher(e,128)};break;default:o=new Error('Could not decrypt private key; unsupported encryption algorithm "'+r.dekInfo.algorithm+'".');throw o.algorithm=r.dekInfo.algorithm,o}var h=s.util.hexToBytes(r.dekInfo.parameters),u=s.pbe.opensslDeriveBytes(t,h.substr(0,8),c),l=d(u);if(l.start(h),l.update(s.util.createBuffer(r.body)),!l.finish())return i;i=l.output.getBytes()}else i=r.body;return i="ENCRYPTED PRIVATE KEY"===r.type?n.decryptPrivateKeyInfo(a.fromDer(i),t):a.fromDer(i),null!==i&&(i=n.privateKeyFromAsn1(i)),i},n.pbe.generatePkcs12Key=function(e,t,i,r,a,n){var o,c;if("undefined"===typeof n||null===n){if(!("sha1"in s.md))throw new Error('"sha1" hash algorithm unavailable.');n=s.md.sha1.create()}var d=n.digestLength,h=n.blockLength,u=new s.util.ByteBuffer,l=new s.util.ByteBuffer;if(null!==e&&void 0!==e){for(c=0;c<e.length;c++)l.putInt16(e.charCodeAt(c));l.putInt16(0)}var f=l.length(),p=t.length(),m=new s.util.ByteBuffer;m.fillWithByte(i,h);var g=h*Math.ceil(p/h),y=new s.util.ByteBuffer;for(c=0;c<g;c++)y.putByte(t.at(c%p));var v=h*Math.ceil(f/h),b=new s.util.ByteBuffer;for(c=0;c<v;c++)b.putByte(l.at(c%f));var w=y;w.putBuffer(b);for(var k=Math.ceil(a/d),S=1;S<=k;S++){var _=new s.util.ByteBuffer;_.putBytes(m.bytes()),_.putBytes(w.bytes());for(var O=0;O<r;O++)n.start(),n.update(_.getBytes()),_=n.digest();var T=new s.util.ByteBuffer;for(c=0;c<h;c++)T.putByte(_.at(c%d));var C=Math.ceil(p/h)+Math.ceil(f/h),x=new s.util.ByteBuffer;for(o=0;o<C;o++){var I=new s.util.ByteBuffer(w.getBytes(h)),E=511;for(c=T.length()-1;c>=0;c--)E>>=8,E+=T.at(c)+I.at(c),I.setAt(c,255&E);x.putBuffer(I)}w=x,u.putBuffer(_)}return u.truncate(u.length()-a),u},n.pbe.getCipher=function(e,t,i){switch(e){case n.oids["pkcs5PBES2"]:return n.pbe.getCipherForPBES2(e,t,i);case n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case n.oids["pbewithSHAAnd40BitRC2-CBC"]:return n.pbe.getCipherForPKCS12PBE(e,t,i);default:var s=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw s.oid=e,s.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],s}},n.pbe.getCipherForPBES2=function(e,t,i){var r={},o=[];if(!a.validate(t,d,r,o)){var c=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}if(e=a.derToOid(r.kdfOid),e!==n.oids["pkcs5PBKDF2"]){c=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw c.oid=e,c.supportedOids=["pkcs5PBKDF2"],c}if(e=a.derToOid(r.encOid),e!==n.oids["aes128-CBC"]&&e!==n.oids["aes192-CBC"]&&e!==n.oids["aes256-CBC"]&&e!==n.oids["des-EDE3-CBC"]&&e!==n.oids["desCBC"]){c=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw c.oid=e,c.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],c}var h,u,f=r.kdfSalt,p=s.util.createBuffer(r.kdfIterationCount);switch(p=p.getInt(p.length()<<3),n.oids[e]){case"aes128-CBC":h=16,u=s.aes.createDecryptionCipher;break;case"aes192-CBC":h=24,u=s.aes.createDecryptionCipher;break;case"aes256-CBC":h=32,u=s.aes.createDecryptionCipher;break;case"des-EDE3-CBC":h=24,u=s.des.createDecryptionCipher;break;case"desCBC":h=8,u=s.des.createDecryptionCipher;break}var m=l(r.prfOid),g=s.pkcs5.pbkdf2(i,f,p,h,m),y=r.encIv,v=u(g);return v.start(y),v},n.pbe.getCipherForPKCS12PBE=function(e,t,i){var r={},o=[];if(!a.validate(t,h,r,o)){var c=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}var d,u,f,p=s.util.createBuffer(r.salt),m=s.util.createBuffer(r.iterations);switch(m=m.getInt(m.length()<<3),e){case n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:d=24,u=8,f=s.des.startDecrypting;break;case n.oids["pbewithSHAAnd40BitRC2-CBC"]:d=5,u=8,f=function(e,t){var i=s.rc2.createDecryptionCipher(e,40);return i.start(t,null),i};break;default:c=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw c.oid=e,c}var g=l(r.prfOid),y=n.pbe.generatePkcs12Key(i,p,1,m,d,g);g.start();var v=n.pbe.generatePkcs12Key(i,p,2,m,u,g);return f(y,v)},n.pbe.opensslDeriveBytes=function(e,t,i,r){if("undefined"===typeof r||null===r){if(!("md5"in s.md))throw new Error('"md5" hash algorithm unavailable.');r=s.md.md5.create()}null===t&&(t="");for(var a=[u(r,e+t)],n=16,o=1;n<i;++o,n+=16)a.push(u(r,a[o-1]+e+t));return a.join("").substr(0,i)}},ca84:function(e,t,i){var s=i("5135"),r=i("fc6a"),a=i("4d64").indexOf,n=i("d012");e.exports=function(e,t){var i,o=r(e),c=0,d=[];for(i in o)!s(n,i)&&s(o,i)&&d.push(i);while(t.length>c)s(o,i=t[c++])&&(~a(d,i)||d.push(i));return d}},ca87:function(e,t,i){var s=i("5259");function r(e,t){var i=function(){return new s.des.Algorithm(e,t)};s.cipher.registerAlgorithm(e,i)}i("6040"),i("e21e"),i("6497"),e.exports=s.des=s.des||{},s.des.startEncrypting=function(e,t,i,s){var r=m({key:e,output:i,decrypt:!1,mode:s||(null===t?"ECB":"CBC")});return r.start(t),r},s.des.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},s.des.startDecrypting=function(e,t,i,s){var r=m({key:e,output:i,decrypt:!0,mode:s||(null===t?"ECB":"CBC")});return r.start(t),r},s.des.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},s.des.Algorithm=function(e,t){var i=this;i.name=e,i.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return p(i._keys,e,t,!1)},decrypt:function(e,t){return p(i._keys,e,t,!0)}}}),i._init=!1},s.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=s.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=f(t),this._init=!0}},r("DES-ECB",s.cipher.modes.ecb),r("DES-CBC",s.cipher.modes.cbc),r("DES-CFB",s.cipher.modes.cfb),r("DES-OFB",s.cipher.modes.ofb),r("DES-CTR",s.cipher.modes.ctr),r("3DES-ECB",s.cipher.modes.ecb),r("3DES-CBC",s.cipher.modes.cbc),r("3DES-CFB",s.cipher.modes.cfb),r("3DES-OFB",s.cipher.modes.ofb),r("3DES-CTR",s.cipher.modes.ctr);var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],n=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],d=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],u=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],l=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e){for(var t,i=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],s=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],r=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],n=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],d=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],h=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<g;w++){var k=e.getInt32(),S=e.getInt32();t=252645135&(k>>>4^S),S^=t,k^=t<<4,t=65535&(S>>>-16^k),k^=t,S^=t<<-16,t=858993459&(k>>>2^S),S^=t,k^=t<<2,t=65535&(S>>>-16^k),k^=t,S^=t<<-16,t=1431655765&(k>>>1^S),S^=t,k^=t<<1,t=16711935&(S>>>8^k),k^=t,S^=t<<8,t=1431655765&(k>>>1^S),S^=t,k^=t<<1,t=k<<8|S>>>20&240,k=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=t;for(var _=0;_<v.length;++_){v[_]?(k=k<<2|k>>>26,S=S<<2|S>>>26):(k=k<<1|k>>>27,S=S<<1|S>>>27),k&=-15,S&=-15;var O=i[k>>>28]|s[k>>>24&15]|r[k>>>20&15]|a[k>>>16&15]|n[k>>>12&15]|o[k>>>8&15]|c[k>>>4&15],T=d[S>>>28]|h[S>>>24&15]|u[S>>>20&15]|l[S>>>16&15]|f[S>>>12&15]|p[S>>>8&15]|m[S>>>4&15];t=65535&(T>>>16^O),y[b++]=O^t,y[b++]=T^t<<16}}return y}function p(e,t,i,s){var r,f,p=32===e.length?3:9;r=3===p?s?[30,-2,-2]:[0,32,2]:s?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],g=t[1];f=252645135&(m>>>4^g),g^=f,m^=f<<4,f=65535&(m>>>16^g),g^=f,m^=f<<16,f=858993459&(g>>>2^m),m^=f,g^=f<<2,f=16711935&(g>>>8^m),m^=f,g^=f<<8,f=1431655765&(m>>>1^g),g^=f,m^=f<<1,m=m<<1|m>>>31,g=g<<1|g>>>31;for(var y=0;y<p;y+=3){for(var v=r[y+1],b=r[y+2],w=r[y];w!=v;w+=b){var k=g^e[w],S=(g>>>4|g<<28)^e[w+1];f=m,m=g,g=f^(n[k>>>24&63]|c[k>>>16&63]|h[k>>>8&63]|l[63&k]|a[S>>>24&63]|o[S>>>16&63]|d[S>>>8&63]|u[63&S])}f=m,m=g,g=f}m=m>>>1|m<<31,g=g>>>1|g<<31,f=1431655765&(m>>>1^g),g^=f,m^=f<<1,f=16711935&(g>>>8^m),m^=f,g^=f<<8,f=858993459&(g>>>2^m),m^=f,g^=f<<2,f=65535&(m>>>16^g),g^=f,m^=f<<16,f=252645135&(m>>>4^g),g^=f,m^=f<<4,i[0]=m,i[1]=g}function m(e){e=e||{};var t,i=(e.mode||"CBC").toUpperCase(),r="DES-"+i;t=e.decrypt?s.cipher.createDecipher(r,e.key):s.cipher.createCipher(r,e.key);var a=t.start;return t.start=function(e,i){var r=null;i instanceof s.util.ByteBuffer&&(r=i,i={}),i=i||{},i.output=r,i.iv=e,a.call(t,i)},t}},caad:function(e,t,i){"use strict";var s=i("23e7"),r=i("4d64").includes,a=i("44d2");s({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(e,t,i){var s=i("23e7"),r=i("81d5"),a=i("44d2");s({target:"Array",proto:!0},{fill:r}),a("fill")},cc12:function(e,t,i){var s=i("da84"),r=i("861d"),a=s.document,n=r(a)&&r(a.createElement);e.exports=function(e){return n?a.createElement(e):{}}},cca6:function(e,t,i){var s=i("23e7"),r=i("60da");s({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cceb:function(e,t,i){var s=i("32f6");e.exports={Ber:s,BerReader:s.Reader}},ccf3:function(e,t,i){"use strict";const s=i("90db"),r=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:"https://bl3p.eu",doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR",maker:.0025,taker:.0025}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGENMKTMoneyInfo(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"wallets"),r={info:i},a=Object.keys(this.currencies);for(let n=0;n<a.length;n++){const e=a[n],t=this.currency(e),i=t["id"],o=this.safeValue(s,i,{}),c=this.safeValue(o,"available",{}),d=this.safeValue(o,"balance",{}),h=this.account();h["free"]=this.safeString(c,"value"),h["total"]=this.safeString(d,"value"),r[e]=h}return this.parseBalance(r,!1)}parseBidAsk(e,t=0,i=1){const s=this.safeNumber(e,t),r=this.safeNumber(e,i);return[s/1e5,r/1e8]}async fetchOrderBook(e,t,i={}){const s=this.market(e),r={market:s["id"]},a=await this.publicGetMarketOrderbook(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrderBook(n,e,void 0,"bids","asks","price_int","amount_int")}async fetchTicker(e,t={}){const i={market:this.marketId(e)},s=await this.publicGetMarketTicker(this.extend(i,t)),r=this.safeTimestamp(s,"timestamp"),a=this.safeNumber(s,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s["volume"],"24h"),quoteVolume:void 0,info:s}}parseTrade(e,t){const i=this.safeString(e,"trade_id"),s=this.safeInteger(e,"date");let a=this.safeString(e,"price_int");a=r.stringDiv(a,"100000");let n=this.safeString(e,"amount_int");n=r.stringDiv(n,"100000000");const o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(r.stringMul(a,n));let h=void 0;return void 0!==t&&(h=t["symbol"]),{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:h,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:void 0}}async fetchTrades(e,t,i,s={}){const r=this.market(e),a=await this.publicGetMarketTrades(this.extend({market:r["id"]},s)),n=this.parseTrades(a["data"]["trades"],r,t,i);return n}async createOrder(e,t,i,s,r,a={}){const n=this.market(e),o={market:n["id"],amount_int:parseInt(1e8*s),fee_currency:n["quote"],type:"buy"===i?"bid":"ask"};"limit"===t&&(o["price_int"]=parseInt(1e5*r));const c=await this.privatePostMarketMoneyOrderAdd(this.extend(o,a)),d=this.safeString(c["data"],"order_id");return{info:c,id:d}}async cancelOrder(e,t,i={}){const s={order_id:e};return await this.privatePostMarketMoneyOrderCancel(this.extend(s,i))}sign(e,t="public",i="GET",s={},r,a){const n=this.implodeParams(e,s);let o=this.urls["api"]+"/"+this.version+"/"+n;const c=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},c));const t=this.base64ToBinary(this.secret),i=n+"\0"+a,s=this.hmac(this.encode(i),t,"sha512","base64");r={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":s}}return{url:o,method:i,body:a,headers:r}}}},cdf9:function(e,t,i){var s=i("825a"),r=i("861d"),a=i("f069");e.exports=function(e,t){if(s(e),r(t)&&t.constructor===e)return t;var i=a.f(e),n=i.resolve;return n(t),i.promise}},ce02:function(e,t,i){var s=i("ce6e"),r=i("dafe"),a=i("fa07"),n=i("02ff"),o=i("3c78"),c=i("edee"),d=i("3fd9");function h(e,t,i,a){var n=s(e),o=s(t);function c(e,t){return u(e,t,i.slice(),a.slice())}return!r((function(e,t){return!r(c,t,e)}),o,n)}function u(e,t,i,s){if(o(e,t))return!0;var r=d(e);if(r!==d(t))return!1;if(null==e||null==t)return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===a(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!o(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!o(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break}var l=i.length-1;while(l>=0){if(i[l]===e)return s[l]===t;l-=1}switch(r){case"Map":return e.size===t.size&&h(e.entries(),t.entries(),i.concat([e]),s.concat([t]));case"Set":return e.size===t.size&&h(e.values(),t.values(),i.concat([e]),s.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=c(e);if(f.length!==c(t).length)return!1;var p=i.concat([e]),m=s.concat([t]);l=f.length-1;while(l>=0){var g=f[l];if(!n(g,t)||!u(t[g],e[g],p,m))return!1;l-=1}return!0}e.exports=u},ce4e:function(e,t,i){var s=i("da84"),r=i("9112");e.exports=function(e,t){try{r(s,e,t)}catch(i){s[e]=t}return t}},ce6e:function(e,t){function i(e){var t,i=[];while(!(t=e.next()).done)i.push(t.value);return i}e.exports=i},ce75:function(e,t,i){"use strict";var s=i("74d2"),r=i("fee7"),a=r.utils,n=a.getNAF,o=a.getJSF,c=a.assert;function d(e,t){this.type=e,this.p=new s(t.p,16),this.red=t.prime?s.red(t.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=t.n&&new s(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(e,t){c(e.precomputed);var i=e._getDoubles(),s=n(t,1),r=(1<<i.step+1)-(i.step%2===0?2:1);r/=3;for(var a=[],o=0;o<s.length;o+=i.step){var d=0;for(t=o+i.step-1;t>=o;t--)d=(d<<1)+s[t];a.push(d)}for(var h=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=r;l>0;l--){for(o=0;o<a.length;o++){d=a[o];d===l?u=u.mixedAdd(i.points[o]):d===-l&&(u=u.mixedAdd(i.points[o].neg()))}h=h.add(u)}return h.toP()},d.prototype._wnafMul=function(e,t){var i=4,s=e._getNAFPoints(i);i=s.wnd;for(var r=s.points,a=n(t,i),o=this.jpoint(null,null,null),d=a.length-1;d>=0;d--){for(t=0;d>=0&&0===a[d];d--)t++;if(d>=0&&t++,o=o.dblp(t),d<0)break;var h=a[d];c(0!==h),o="affine"===e.type?h>0?o.mixedAdd(r[h-1>>1]):o.mixedAdd(r[-h-1>>1].neg()):h>0?o.add(r[h-1>>1]):o.add(r[-h-1>>1].neg())}return"affine"===e.type?o.toP():o},d.prototype._wnafMulAdd=function(e,t,i,s,r){for(var a=this._wnafT1,c=this._wnafT2,d=this._wnafT3,h=0,u=0;u<s;u++){var l=t[u],f=l._getNAFPoints(e);a[u]=f.wnd,c[u]=f.points}for(u=s-1;u>=1;u-=2){var p=u-1,m=u;if(1===a[p]&&1===a[m]){var g=[t[p],null,null,t[m]];0===t[p].y.cmp(t[m].y)?(g[1]=t[p].add(t[m]),g[2]=t[p].toJ().mixedAdd(t[m].neg())):0===t[p].y.cmp(t[m].y.redNeg())?(g[1]=t[p].toJ().mixedAdd(t[m]),g[2]=t[p].add(t[m].neg())):(g[1]=t[p].toJ().mixedAdd(t[m]),g[2]=t[p].toJ().mixedAdd(t[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(i[p],i[m]);h=Math.max(v[0].length,h),d[p]=new Array(h),d[m]=new Array(h);for(var b=0;b<h;b++){var w=0|v[0][b],k=0|v[1][b];d[p][b]=y[3*(w+1)+(k+1)],d[m][b]=0,c[p]=g}}else d[p]=n(i[p],a[p]),d[m]=n(i[m],a[m]),h=Math.max(d[p].length,h),h=Math.max(d[m].length,h)}var S=this.jpoint(null,null,null),_=this._wnafT4;for(u=h;u>=0;u--){var O=0;while(u>=0){var T=!0;for(b=0;b<s;b++)_[b]=0|d[b][u],0!==_[b]&&(T=!1);if(!T)break;O++,u--}if(u>=0&&O++,S=S.dblp(O),u<0)break;for(b=0;b<s;b++){var C=_[b];0!==C&&(C>0?l=c[b][C-1>>1]:C<0&&(l=c[b][-C-1>>1].neg()),S="affine"===l.type?S.mixedAdd(l):S.add(l))}}for(u=0;u<s;u++)c[u]=null;return r?S:S.toP()},d.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*i){6===e[0]?c(e[e.length-1]%2===0):7===e[0]&&c(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return s}if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(e){return this.encode(e,!0)},h.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},h.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},h.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},h.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},h.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],s=this,r=0;r<t;r+=e){for(var a=0;a<e;a++)s=s.dbl();i.push(s)}return{step:e,points:i}},h.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,s=1===i?null:this.dbl(),r=1;r<i;r++)t[r]=t[r-1].add(s);return{wnd:e,points:t}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},ce7e:function(e,t,i){"use strict";var s=i("5530"),r=(i("8ce9"),i("7560"));t["a"]=r["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){var t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:Object(s["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(s["a"])({role:"separator","aria-orientation":t},this.$attrs),on:this.$listeners})}})},cee4:function(e,t,i){"use strict";var s=i("c532"),r=i("1d2b"),a=i("0a06"),n=i("4a7b"),o=i("2444");function c(e){var t=new a(e),i=r(a.prototype.request,t);return s.extend(i,a.prototype,t),s.extend(i,t),i}var d=c(o);d.Axios=a,d.create=function(e){return c(n(d.defaults,e))},d.Cancel=i("7a77"),d.CancelToken=i("8df4"),d.isCancel=i("2e67"),d.all=function(e){return Promise.all(e)},d.spread=i("0df6"),d.isAxiosError=i("5f02"),e.exports=d,e.exports.default=d},cf36:function(e,t,i){},d012:function(e,t){e.exports={}},d014:function(e,t,i){var s=i("d6ce");function r(e,t,i){var r,a;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){r=1/t;while(i<e.length){if(a=e[i],0===a&&1/a===r)return i;i+=1}return-1}if(t!==t){while(i<e.length){if(a=e[i],"number"===typeof a&&a!==a)return i;i+=1}return-1}return e.indexOf(t,i);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,i);case"object":if(null===t)return e.indexOf(t,i)}while(i<e.length){if(s(e[i],t))return i;i+=1}return-1}e.exports=r},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,i){var s=i("428f"),r=i("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(s[e])||a(r[e]):s[e]&&s[e][t]||r[e]&&r[e][t]}},d10f:function(e,t,i){"use strict";var s=i("2b0e");t["a"]=s["a"].extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var e=this;window.requestAnimationFrame((function(){e.$el.setAttribute("data-booted","true"),e.isBooted=!0}))}})},d17b:function(e,t,i){e.exports=i("e372").Transform},d191:function(e,t,i){},d1e7:function(e,t,i){"use strict";var s={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!s.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:s},d225:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r}=i("74b0"),a=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460810-1dd06c00-c616-11ea-9276-956f400d6ffa.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker/","trades/","depth/"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USDT":{id:"btc_usdt",symbol:"BTC/USDT",base:"BTC",quote:"USDT",baseId:"btc",quoteId:"usdt",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"lsk",quoteId:"btc",maker:.0015,taker:.0025},"BCH/USDT":{id:"bch_usdt",symbol:"BCH/USDT",base:"BCH",quote:"USDT",baseId:"bch",quoteId:"usdt",maker:.001,taker:.0015},"ETH/USDT":{id:"eth_usdt",symbol:"ETH/USDT",base:"ETH",quote:"USDT",baseId:"eth",quoteId:"usdt",maker:.001,taker:.0015}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostInfo(e),i=this.safeValue(t["result"],"wallet"),s={info:t},r=Object.keys(i);for(let a=0;a<r.length;a++){const e=r[a],t=this.safeCurrencyCode(e),n=this.safeValue(i,e,{}),o=this.account();o["free"]=this.safeString(n,"avail"),o["used"]=this.safeString(n,"lock"),s[t]=o}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={market:this.marketId(e)},r=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(r["result"],e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={market:this.marketId(e)},s=await this.publicGetTicker(this.extend(i,t)),r=this.safeValue(s,"result"),a=this.milliseconds(),n=this.safeNumber(r,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"buy"),bidVolume:void 0,ask:this.safeNumber(r,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r,"vol"),quoteVolume:void 0,info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let s=void 0;void 0!==t&&(s=t["symbol"]);const r=this.safeString(e,"id"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(a.stringMul(n,o));return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]},n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n["result"],r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={market:this.marketId(e),op:i,amount:s};"market"===t?(n["order_type"]=1,n["price"]=r):n["order_type"]=0;const o=await this.privatePostTrade(this.extend(n,a));return{info:o,id:o["result"]["id"].toString()}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e};return await this.privatePostCancel(this.extend(s,i))}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.version+"/"+e;if("public"===t)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},s)),r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.secret,"sha512")}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("status"in o&&200===o["status"])return o;throw new r(this.id+" "+this.json(o))}}},d28b:function(e,t,i){var s=i("746f");s("iterator")},d2bb:function(e,t,i){var s=i("825a"),r=i("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(i,[]),t=i instanceof Array}catch(a){}return function(i,a){return s(i),r(a),t?e.call(i,a):i.__proto__=a,i}}():void 0)},d312:function(e,t,i){"use strict";const s=i("90db"),{PAD_WITH_ZERO:r}=i("5ea4"),{InvalidOrder:a,InsufficientFunds:n,ExchangeError:o,ExchangeNotAvailable:c,DDoSProtection:d,BadRequest:h,NotSupported:u,InvalidAddress:l,AuthenticationError:f}=i("74b0"),p=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"idex",name:"IDEX",countries:["US"],rateLimit:1500,version:"v2",certified:!0,pro:!0,requiresWeb3:!0,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrders:!1,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","1d":"1d"},urls:{test:{public:"https://api-sandbox.idex.io",private:"https://api-sandbox.idex.io"},logo:"https://user-images.githubusercontent.com/51840849/94481303-2f222100-01e0-11eb-97dd-bc14c5943a86.jpg",api:{ETH:"https://api-eth.idex.io",BSC:"https://api-bsc.idex.io"},www:"https://idex.io",doc:["https://docs.idex.io/"]},api:{public:{get:["ping","time","exchange","assets","markets","tickers","candles","trades","orderbook","wsToken"]},private:{get:["user","wallets","balances","orders","fills","deposits","withdrawals"],post:["wallets","orders","orders/test","withdrawals"],delete:["orders"]}},options:{defaultTimeInForce:"gtc",defaultSelfTradePrevention:"cn",network:"ETH"},exceptions:{INVALID_ORDER_QUANTITY:a,INSUFFICIENT_FUNDS:n,SERVICE_UNAVAILABLE:c,EXCEEDED_RATE_LIMIT:d,INVALID_PARAMETER:h,WALLET_NOT_ASSOCIATED:l,INVALID_WALLET_SIGNATURE:f},requiredCredentials:{walletAddress:!0,privateKey:!0,apiKey:!0,secret:!0},paddingMode:r,commonCurrencies:{},requireCredentials:{privateKey:!0,apiKey:!0,secret:!0}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"market"),a=this.safeString(e,"baseAsset"),n=this.safeString(e,"quoteAsset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeString(e,"baseAssetPrecision"),u=this.safeString(e,"quoteAssetPrecision"),l=this.parsePrecision(h),f=this.parsePrecision(u),p=this.safeString(e,"status"),m="active"===p,g={amount:parseInt(h),price:parseInt(u)};i.push({symbol:d,id:r,base:o,quote:c,baseId:a,quoteId:n,active:m,info:e,precision:g,limits:{amount:{min:this.parseNumber(l),max:void 0},price:{min:this.parseNumber(f),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.publicGetTickers(this.extend(s,t)),a=this.safeValue(r,0);return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t);return this.parseTickers(i,e)}parseTicker(e,t){const i=this.safeString(e,"market"),s=this.safeSymbol(i,t,"-"),r=this.safeNumber(e,"baseVolume"),a=this.safeNumber(e,"quoteVolume"),n=this.safeInteger(e,"time"),o=this.safeNumber(e,"open"),c=this.safeNumber(e,"high"),d=this.safeNumber(e,"low"),h=this.safeNumber(e,"close"),u=this.safeNumber(e,"ask"),l=this.safeNumber(e,"bid");let f=this.safeNumber(e,"percentChange");void 0!==f&&(f=1+f/100);let p=void 0;return void 0!==h&&void 0!==o&&(p=h-o),{symbol:s,timestamp:n,datetime:this.iso8601(n),high:c,low:d,bid:l,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:o,close:h,last:h,previousClose:void 0,change:p,percentage:f,average:void 0,baseVolume:r,quoteVolume:a,info:e}}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={market:a["id"],interval:t};void 0!==i&&(n["start"]=i),void 0!==s&&(n["limit"]=s);const o=await this.publicGetCandles(this.extend(n,r));return Array.isArray(o)?this.parseOHLCVs(o,a,t,i,s):[]}parseOHLCV(e,t){const i=this.safeInteger(e,"start"),s=this.safeNumber(e,"open"),r=this.safeNumber(e,"high"),a=this.safeNumber(e,"low"),n=this.safeNumber(e,"close"),o=this.safeNumber(e,"volume");return[i,s,r,a,n,o]}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market:r["id"]};void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseTrade(e,t){const i=this.safeString(e,"fillId"),s=this.safeString(e,"price"),r=this.safeString(e,"quantity"),a=this.parseNumber(s),n=this.parseNumber(r);let o=this.safeNumber(e,"quoteQuantity");void 0===o&&(o=this.parseNumber(p.stringMul(s,r)));const c=this.safeInteger(e,"time"),d=this.safeString(e,"market"),h=this.safeSymbol(d,t,"-"),u=this.safeString(e,"makerSide"),l="buy"===u?"sell":"buy",f=this.safeString(e,"side",l),m=this.safeString(e,"liquidity","taker"),g=this.safeNumber(e,"fee");let y=void 0;if(void 0!==g){const t=this.safeString(e,"feeAsset");y={cost:g,currency:this.safeCurrencyCode(t)}}const v=this.safeString(e,"orderId");return{info:e,timestamp:c,datetime:this.iso8601(c),symbol:h,id:i,order:v,type:"limit",side:f,takerOrMaker:m,price:a,amount:n,cost:o,fee:y}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market:s["id"],level:2};void 0!==t&&(r["limit"]=t);const a=await this.publicGetOrderbook(this.extend(r,i)),n=this.safeInteger(a,"sequence");return{symbol:e,timestamp:void 0,datetime:void 0,nonce:n,bids:this.parseSide(a,"bids"),asks:this.parseSide(a,"asks")}}parseSide(e,t){const i=this.safeValue(e,t,[]),s=[];for(let a=0;a<i.length;a++){const e=i[a],t=this.safeNumber(e,0),r=this.safeNumber(e,1),n=this.safeInteger(e,2);s.push([t,r,n])}const r="bids"===t;return this.sortBy(s,0,r)}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"name"),a=this.safeString(e,"symbol"),n=this.safeString(e,"exchangeDecimals"),o=this.safeCurrencyCode(a),c=this.parsePrecision(n),d=this.parseNumber(c);i[o]={id:a,code:o,info:e,type:void 0,name:r,active:void 0,fee:void 0,precision:parseInt(n),limits:{amount:{min:d,max:void 0},withdraw:{min:d,max:void 0}}}}return i}async fetchBalance(e={}){this.checkRequiredCredentials(),await this.loadMarkets();const t=this.uuidv1(),i={nonce:t,wallet:this.walletAddress},s=this.extend(i,e);if(void 0===s["wallet"])throw new h(this.id+' wallet is undefined, set this.walletAddress or "address" in params');let r=void 0;try{r=await this.privateGetBalances(s)}catch(n){if(!(n instanceof l))throw n;{const e=s["wallet"];await this.associateWallet(e),r=await this.privateGetBalances(s)}}const a={info:r,timestamp:void 0,datetime:void 0};for(let o=0;o<r.length;o++){const e=r[o],t=this.safeString(e,"asset"),i=this.safeCurrencyCode(t),s=this.account();s["total"]=this.safeString(e,"quantity"),s["free"]=this.safeString(e,"availableForTrade"),s["used"]=this.safeString(e,"locked"),a[i]=s}return this.parseBalance(a,!1)}async fetchMyTrades(e,t,i,s={}){this.checkRequiredCredentials(),await this.loadMarkets();let r=void 0;const a={nonce:this.uuidv1(),wallet:this.walletAddress};void 0!==e&&(r=this.market(e),a["market"]=r["id"]),void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const n=this.extend(a,s);if(void 0===n["wallet"])throw new h(this.id+' walletAddress is undefined, set this.walletAddress or "address" in params');let o=void 0;try{o=await this.privateGetFills(n)}catch(c){if(!(c instanceof l))throw c;{const e=n["wallet"];await this.associateWallet(e),o=await this.privateGetFills(n)}}return this.parseTrades(o,r,t,i)}async fetchOrder(e,t,i={}){const s={orderId:e};return await this.fetchOrdersHelper(t,void 0,void 0,this.extend(s,i))}async fetchOpenOrders(e,t,i,s={}){const r={closed:!1};return await this.fetchOrdersHelper(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={closed:!0};return await this.fetchOrdersHelper(e,t,i,this.extend(r,s))}async fetchOrdersHelper(e,t,i,s={}){await this.loadMarkets();const r={nonce:this.uuidv1(),wallet:this.walletAddress};let a=void 0;void 0!==e&&(a=this.market(e),r["market"]=a["id"]),void 0!==t&&(r["start"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetOrders(this.extend(r,s));return Array.isArray(n)?this.parseOrders(n,a,t,i):this.parseOrder(n,a)}parseOrderStatus(e){const t={active:"open",partiallyFilled:"open",rejected:"canceled",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeInteger(e,"time"),s=this.safeValue(e,"fills",[]),r=this.safeString(e,"orderId"),a=this.safeString(e,"clientOrderId"),n=this.safeString(e,"market"),o=this.safeString(e,"side"),c=this.safeSymbol(n,t,"-"),d=this.parseTrades(s,t),h=this.safeString(e,"type"),u=this.safeNumber(e,"originalQuantity"),l=this.safeNumber(e,"executedQuantity"),f=this.safeNumber(e,"avgExecutionPrice"),p=this.safeNumber(e,"price"),m=this.safeString(e,"status"),g=this.parseOrderStatus(m);return this.safeOrder({info:e,id:r,clientOrderId:a,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:c,type:h,timeInForce:void 0,postOnly:void 0,side:o,price:p,stopPrice:void 0,amount:u,cost:void 0,average:f,filled:l,remaining:void 0,status:g,fee:void 0,trades:d})}async associateWallet(e,t={}){const i=this.uuidv1(),s=this.remove0xPrefix(e),r=[this.base16ToBinary(i),this.base16ToBinary(s)],a=this.binaryConcatArray(r),n=this.hash(a,"keccak","hex"),o=this.signMessageString(n,this.privateKey),c={parameters:{nonce:i,wallet:e},signature:o},d=await this.privatePostWallets(c);return d}async createOrder(e,t,i,s,r,a={}){this.checkRequiredCredentials(),await this.loadMarkets();const n=this.market(e),o=this.uuidv1();let c=void 0;const d={stopLoss:3,stopLossLimit:4,takeProfit:5,takeProfitLimit:6};let l=void 0;if("stopLossLimit"===t||"takeProfitLimit"===t||"stopPrice"in a){if(!("stopPrice"in a))throw new h(this.id+" stopPrice is a required parameter for "+t+"orders");l=this.priceToPrecision(e,a["stopPrice"])}const f={limit:1,limitMaker:2};let p=void 0;const m=t.toLowerCase(),g=m.indexOf("limit")>-1;if(t in f)c=f[t],p=this.priceToPrecision(e,r);else if(t in d)c=d[t],p=this.priceToPrecision(e,r);else{if("market"!==t)throw new h(this.id+" "+t+" is not a valid order type");c=0}let y=0;if("quoteOrderQuantity"in a){if("market"!==t)throw new u(this.id+" quoteOrderQuantity is not supported for "+t+" orders, only supported for market orders");y=1,s=this.safeNumber(a,"quoteOrderQuantity")}const v="buy"===i?0:1,b=this.remove0xPrefix(this.walletAddress),w=this.safeString(this.options,"network","ETH"),k="ETH"===w?1:2,S=this.amountToPrecision(e,s),_={gtc:0,ioc:2,fok:3},O=this.safeString(this.options,"defaultTimeInForce","gtc"),T=this.safeString(a,"timeInForce",O);let C=void 0;if(!(T in _)){const e=Object.keys(_),t=e.join(", ");throw new h(this.id+" "+T+" is not a valid timeInForce, please choose one of "+t)}C=_[T];const x={dc:0,co:1,cn:2,cb:3},I=this.safeString(this.options,"defaultSelfTradePrevention","cn"),E=this.safeString(a,"selfTradePrevention",I);let A=void 0;if(!(E in x)){const e=Object.keys(x),t=e.join(", ");throw new h(this.id+" "+E+" is not a valid selfTradePrevention, please choose one of "+t)}A=x[E];const N=[this.numberToBE(k,1),this.base16ToBinary(o),this.base16ToBinary(b),this.stringToBinary(this.encode(n["id"])),this.numberToBE(c,1),this.numberToBE(v,1),this.stringToBinary(this.encode(S)),this.numberToBE(y,1)];if(g){const e=this.stringToBinary(this.encode(p));N.push(e)}if(t in d){const e=this.stringToBinary(this.encode(l||p));N.push(e)}const M=this.safeString(a,"clientOrderId");void 0!==M&&N.push(this.stringToBinary(this.encode(M)));const P=[this.numberToBE(C,1),this.numberToBE(A,1),this.numberToBE(0,8)],B=this.arrayConcat(N,P),R=this.binaryConcatArray(B),L=this.hash(R,"keccak","hex"),V=this.signMessageString(L,this.privateKey),D={parameters:{nonce:o,market:n["id"],side:i,type:t,wallet:this.walletAddress,timeInForce:T,selfTradePrevention:E},signature:V};g&&(D["parameters"]["price"]=p),t in d&&(D["parameters"]["stopPrice"]=l||p),0===y?D["parameters"]["quantity"]=S:D["parameters"]["quoteOrderQuantity"]=S,void 0!==M&&(D["parameters"]["clientOrderId"]=M);const q=await this.privatePostOrders(D);return this.parseOrder(q,n)}async withdraw(e,t,i,s,r={}){this.checkRequiredCredentials(),await this.loadMarkets();const a=this.uuidv1(),n=this.currencyToPrecision(e,t),o=this.currency(e),c=this.remove0xPrefix(this.walletAddress),d=[this.base16ToBinary(a),this.base16ToBinary(c),this.stringToBinary(this.encode(o["id"])),this.stringToBinary(this.encode(n)),this.numberToBE(1,1)],h=this.binaryConcatArray(d),u=this.hash(h,"keccak","hex"),l=this.signMessageString(u,this.privateKey),f={parameters:{nonce:a,wallet:i,asset:o["id"],quantity:n},signature:l},p=await this.privatePostWithdrawals(f),m=this.safeString(p,"withdrawalId");return{info:p,id:m}}async cancelOrder(e,t,i={}){this.checkRequiredCredentials(),await this.loadMarkets();let s=void 0;void 0!==t&&(s=this.market(t));const r=this.uuidv1(),a=this.remove0xPrefix(this.walletAddress),n=[this.base16ToBinary(r),this.base16ToBinary(a),this.stringToBinary(this.encode(e))],o=this.binaryConcatArray(n),c=this.hash(o,"keccak","hex"),d=this.signMessageString(c,this.privateKey),h={parameters:{nonce:r,wallet:this.walletAddress,orderId:e},signature:d},u=await this.privateDeleteOrders(this.extend(h,i)),l=this.safeValue(u,0);return this.parseOrder(l,s)}handleErrors(e,t,i,s,r,a,n,c,d){const h=this.safeString(n,"code"),u=this.safeString(n,"message");if(h in this.exceptions){const e=this.exceptions[h];throw new e(this.id+" "+u)}if(void 0!==h)throw new o(this.id+" "+u)}async fetchDeposits(e,t,i,s={}){return s=this.extend({method:"privateGetDeposits"},s),this.fetchTransactionsHelper(e,t,i,s)}async fetchWithdrawals(e,t,i,s={}){return s=this.extend({method:"privateGetWithdrawals"},s),this.fetchTransactionsHelper(e,t,i,s)}async fetchTransactionsHelper(e,t,i,s={}){await this.loadMarkets();const r=this.uuidv1(),a={nonce:r,wallet:this.walletAddress};let n=void 0;void 0!==e&&(n=this.currency(e),a["asset"]=n["id"]),void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const o=s["method"];s=this.omit(s,"method");const c=await this[o](this.extend(a,s));return this.parseTransactions(c,n,t,i)}parseTransactionStatus(e){const t={mined:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0;"depositId"in e?i="deposit":"withdrawalId"in e&&(i="withdrawal");const s=this.safeString2(e,"depositId","withdrawId"),r=this.safeCurrencyCode(this.safeString(e,"asset"),t),a=this.safeNumber(e,"quantity"),n=this.safeString(e,"txId"),o=this.safeInteger(e,"txTime");let c=void 0;"fee"in e&&(c={cost:this.safeNumber(e,"fee"),currency:"ETH"});const d=this.safeString(e,"txStatus"),h=this.parseTransactionStatus(d),u=this.safeInteger(e,"confirmationTime");return{info:e,id:s,txid:n,timestamp:o,datetime:this.iso8601(o),address:void 0,tag:void 0,type:i,amount:a,currency:r,status:h,updated:u,fee:c}}sign(e,t="public",i="GET",s={},r,a){const n=this.safeString(this.options,"network","ETH"),o=this.safeString(this.options,"version","v1");let c=this.urls["api"][n]+"/"+o+"/"+e;const d=Object.keys(s),h=d.length;let u=void 0;if(h>0&&("GET"===i?(u=this.urlencode(s),c=c+"?"+u):a=this.json(s)),r={"Content-Type":"application/json"},void 0!==this.apiKey&&(r["IDEX-API-Key"]=this.apiKey),"private"===t){let e=void 0;e="GET"===i?u:a,r["IDEX-HMAC-Signature"]=this.hmac(this.encode(e),this.encode(this.secret),"sha256","hex")}return{url:c,method:i,body:a,headers:r}}}},d3b7:function(e,t,i){var s=i("00ee"),r=i("6eeb"),a=i("b041");s||r(Object.prototype,"toString",a,{unsafe:!0})},d3e8:function(e,t){function i(e,t){var i;e=e||[],t=t||[];var s=e.length,r=t.length,a=[];i=0;while(i<s)a[a.length]=e[i],i+=1;i=0;while(i<r)a[a.length]=t[i],i+=1;return a}e.exports=i},d436:function(e,t,i){var s=i("00b3"),r=i("e64b"),a=i("48af"),n=i("ae1c");function o(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return s(arguments[0].length,a(r,arguments[0],n(arguments)))}e.exports=o},d44e:function(e,t,i){var s=i("9bf2").f,r=i("5135"),a=i("b622"),n=a("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,n)&&s(e,n,{configurable:!0,value:t})}},d47d:function(e,t,i){"use strict";function s(e){return Object.keys(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=s;var r=Math.floor(Date.now()*Math.random()),a=0;function n(e){return e+"-"+r+"-"+a++}function o(e){return Array.isArray(e)?e:[e]}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.uniqueId=n,t.toArray=o,t.pipe=c},d485:function(e,t,i){e.exports=a;var s=i("faa1").EventEmitter,r=i("3fb5");function a(){s.call(this)}r(a,s),a.Readable=i("e372"),a.Writable=i("2c63"),a.Duplex=i("0960"),a.Transform=i("d17b"),a.PassThrough=i("c2ae"),a.Stream=a,a.prototype.pipe=function(e,t){var i=this;function r(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function a(){i.readable&&i.resume&&i.resume()}i.on("data",r),e.on("drain",a),e._isStdio||t&&!1===t.end||(i.on("end",o),i.on("close",c));var n=!1;function o(){n||(n=!0,e.end())}function c(){n||(n=!0,"function"===typeof e.destroy&&e.destroy())}function d(e){if(h(),0===s.listenerCount(this,"error"))throw e}function h(){i.removeListener("data",r),e.removeListener("drain",a),i.removeListener("end",o),i.removeListener("close",c),i.removeListener("error",d),e.removeListener("error",d),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("error",d),e.on("error",d),i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e}},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d6be:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,InvalidNonce:n,OrderNotFound:o,InvalidOrder:c,DDoSProtection:d,BadRequest:h,AuthenticationError:u}=i("74b0"),l=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"latoken",name:"Latoken",countries:["KY"],version:"v1",rateLimit:2e3,certified:!1,userAgent:this.userAgents["chrome"],has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelAllOrders:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrdersByStatus:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61511972-24c39f00-aa01-11e9-9f7c-471f1d6e5214.jpg",api:"https://api.latoken.com",www:"https://latoken.com",doc:["https://api.latoken.com"]},api:{public:{get:["ExchangeInfo/time","ExchangeInfo/limits","ExchangeInfo/pairs","ExchangeInfo/pairs/{currency}","ExchangeInfo/pair","ExchangeInfo/currencies","ExchangeInfo/currencies/{symbol}","MarketData/tickers","MarketData/ticker/{symbol}","MarketData/orderBook/{symbol}","MarketData/orderBook/{symbol}/{limit}","MarketData/trades/{symbol}","MarketData/trades/{symbol}/{limit}"]},private:{get:["Account/balances","Account/balances/{currency}","Order/status","Order/active","Order/get_order","Order/trades"],post:["Order/new","Order/test-order","Order/cancel","Order/cancel_all"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{MT:"Monarch",TSL:"Treasure SL"},options:{createOrderMethod:"private_post_order_new"},exceptions:{exact:{"Signature or ApiKey is not valid":u,"Request is out of time":n,"Symbol must be specified":h},broad:{"Request limit reached":d,Pair:h,"Price needs to be greater than":c,"Amount needs to be greater than":c,"The Symbol field is required":c,"OrderType is not valid":c,"Side is not valid":c,"Cancelable order whit":o,Order:o}}})}nonce(){return this.milliseconds()}async fetchTime(e={}){const t=await this.publicGetExchangeInfoTime(e);return this.safeInteger(t,"unixTimeMiliseconds")}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfoPairs(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quotedCurrency"),o=this.safeInteger(e,"pairId"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(n),h=c+"/"+d,u=this.safeString(e,"pricePrecision"),l=this.parsePrecision(u),f={price:parseInt(u),amount:this.safeInteger(e,"amountPrecision")},p={amount:{min:this.safeNumber(e,"minQty"),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:r,numericId:o,info:e,symbol:h,base:c,quote:d,baseId:a,quoteId:n,active:void 0,precision:f,limits:p})}return i}async fetchCurrencies(e={}){const t=await this.publicGetExchangeInfoCurrencies(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeInteger(e,"currencyId"),n=this.safeCurrencyCode(r),o=this.safeInteger(e,"precission"),c=this.safeNumber(e,"fee"),d=void 0;i[n]={id:r,numericId:a,code:n,info:e,name:n,active:d,fee:c,precision:o,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeCurrencyCode(r),n=this.safeString(e,"frozen"),o=this.safeString(e,"pending"),c=this.account();c["used"]=l.stringAdd(n,o),c["free"]=this.safeString(e,"available"),c["total"]=this.safeString(e,"amount"),i[a]=c}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"],limit:10};void 0!==t&&(r["limit"]=t);const a=await this.publicGetMarketDataOrderBookSymbolLimit(this.extend(r,i));return this.parseOrderBook(a,e,void 0,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),r=this.safeNumber(e,"open"),a=this.safeNumber(e,"close");let n=void 0;void 0!==r&&void 0!==a&&(n=a-r);const o=this.safeNumber(e,"priceChange"),c=this.nonce();return{symbol:s,timestamp:c,datetime:this.iso8601(c),low:this.safeNumber(e,"low"),high:this.safeNumber(e,"high"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:r,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetMarketDataTickerSymbol(this.extend(s,t));return this.parseTicker(r,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataTickers(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}parseTrade(e,t){const i=void 0;let s=this.safeInteger2(e,"timestamp","time");void 0!==s&&s<12309408e5&&(s*=1e3);const r=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(r),o=this.parseNumber(a),c=this.parseNumber(l.stringMul(r,a)),d=this.safeString(e,"side");let h=void 0;void 0!==t&&(h=t["symbol"]);const u=this.safeString(e,"id"),f=this.safeString(e,"orderId"),p=this.safeNumber(e,"commission");let m=void 0;return void 0!==p&&(m={cost:p,currency:void 0}),{info:e,timestamp:s,datetime:this.iso8601(s),symbol:h,id:u,order:f,type:i,takerOrMaker:void 0,side:d,price:n,amount:o,cost:c,fee:m}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetMarketDataTradesSymbol(this.extend(a,s)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={symbol:r["id"]},o=await this.privateGetOrderTrades(this.extend(n,s)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,r,t,i)}parseOrderStatus(e){const t={active:"open",partiallyFilled:"open",filled:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),s=this.safeTimestamp(e,"timeCreated"),r=this.safeString(e,"symbol"),a=this.safeSymbol(r,t),n=this.safeString(e,"side"),o=this.safeString(e,"orderType"),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"executedAmount"),u=this.parseOrderStatus(this.safeString(e,"orderStatus")),l=this.safeTimestamp(e,"timeFilled");let f=void 0;void 0!==l&&l>0&&(f=l);const p=this.safeString(e,"cliOrdId");return this.safeOrder({id:i,clientOrderId:p,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:f,status:u,symbol:a,type:o,timeInForce:void 0,postOnly:void 0,side:n,price:c,stopPrice:void 0,cost:void 0,amount:d,filled:h,average:void 0,remaining:void 0,fee:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,s={}){return this.fetchOrdersWithMethod("private_get_order_active",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return this.fetchOrdersByStatus("filled",e,t,i,s)}async fetchCanceledOrders(e,t,i,s={}){return this.fetchOrdersByStatus("cancelled",e,t,i,s)}async fetchOrdersByStatus(e,t,i,s,r={}){const a={status:e};return this.fetchOrdersWithMethod("private_get_order_status",t,i,s,this.extend(a,r))}async fetchOrdersWithMethod(e,t,i,s,r={}){if(void 0===t)throw new a(this.id+" fetchOrdersWithMethod() requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={symbol:n["id"]};void 0!==s&&(o["limit"]=s);const c=await this[e](this.extend(o,r));return this.parseOrders(c,n,i,s)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e},r=await this.privateGetOrderGetOrder(this.extend(s,i));return this.parseOrder(r)}async createOrder(e,t,i,s,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new r(this.id+" allows limit orders only");const o={symbol:this.marketId(e),side:i,price:this.priceToPrecision(e,a),amount:this.amountToPrecision(e,s),orderType:t},c=this.safeString(this.options,"createOrderMethod","private_post_order_new"),d=await this[c](this.extend(o,n));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={orderId:e},r=await this.privatePostOrderCancel(this.extend(s,i));return this.parseOrder(r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.marketId(e),s={symbol:i},r=await this.privatePostOrderCancelAll(this.extend(s,t)),n=[],o=this.safeValue(r,"cancelledOrders",[]);for(let a=0;a<o.length;a++){const e=this.parseOrder({symbol:i,orderId:o[a],orderStatus:"canceled"});n.push(e)}return n}sign(e,t="public",i="GET",s,r,a){let n="/api/"+this.version+"/"+this.implodeParams(e,s),o=this.omit(s,this.extractParams(e));if("private"===t){const e=this.nonce();o=this.extend({timestamp:e},o)}const c=this.urlencode(o);if(Object.keys(o).length&&(n+="?"+c),"private"===t){this.checkRequiredCredentials();const e=this.hmac(this.encode(n),this.encode(this.secret));r={"X-LA-KEY":this.apiKey,"X-LA-SIGNATURE":e},"POST"===i&&(r["Content-Type"]="application/x-www-form-urlencoded",a=c)}const d=this.urls["api"]+n;return{url:d,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(!o)return;const h=this.safeString(o,"message"),u=this.id+" "+n;void 0!==h&&(this.throwExactlyMatchedException(this.exceptions["exact"],h,u),this.throwBroadlyMatchedException(this.exceptions["broad"],h,u));const l=this.safeValue(o,"error",{}),f=this.safeString(l,"message");if(void 0!==f)throw this.throwExactlyMatchedException(this.exceptions["exact"],f,u),this.throwBroadlyMatchedException(this.exceptions["broad"],f,u),new r(u)}}},d6ce:function(e,t,i){var s=i("5a7c"),r=i("ce02"),a=s((function(e,t){return r(e,t,[],[])}));e.exports=a},d784:function(e,t,i){"use strict";i("ac1f");var s=i("6eeb"),r=i("9263"),a=i("d039"),n=i("b622"),o=i("9112"),c=n("species"),d=RegExp.prototype;e.exports=function(e,t,i,h){var u=n(e),l=!a((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),f=l&&!a((function(){var t=!1,i=/a/;return"split"===e&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[u]=/./[u]),i.exec=function(){return t=!0,null},i[u](""),!t}));if(!l||!f||i){var p=/./[u],m=t(u,""[e],(function(e,t,i,s,a){var n=t.exec;return n===r||n===d.exec?l&&!a?{done:!0,value:p.call(t,i,s)}:{done:!0,value:e.call(i,t,s)}:{done:!1}}));s(String.prototype,e,m[0]),s(d,u,m[1])}h&&o(d[u],"sham",!0)}},d81d:function(e,t,i){"use strict";var s=i("23e7"),r=i("b727").map,a=i("1dde"),n=a("map");s({target:"Array",proto:!0,forced:!n},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d8be:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,AuthenticationError:n,OrderNotFound:o,InsufficientFunds:c,PermissionDenied:d,BadRequest:h,RateLimitExceeded:u,InvalidOrder:l}=i("74b0"),f=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bigone",name:"BigONE",countries:["CN"],version:"v3",rateLimit:1200,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hour1","3h":"hour3","4h":"hour4","6h":"hour6","12h":"hour12","1d":"day1","1w":"week1","1M":"month1"},hostname:"big.one",urls:{logo:"https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg",api:{public:"https://{hostname}/api/v3",private:"https://{hostname}/api/v3/viewer"},www:"https://big.one",doc:"https://open.big.one/docs/api.html",fees:"https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy",referral:"https://b1.run/users/new?code=D3LLBVFT"},api:{public:{get:["ping","asset_pairs","asset_pairs/{asset_pair_name}/depth","asset_pairs/{asset_pair_name}/trades","asset_pairs/{asset_pair_name}/ticker","asset_pairs/{asset_pair_name}/candles","asset_pairs/tickers"]},private:{get:["accounts","fund/accounts","assets/{asset_symbol}/address","orders","orders/{id}","orders/multi","trades","withdrawals","deposits"],post:["orders","orders/{id}/cancel","orders/cancel","withdrawals","transfer"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,ETH:.005,EOS:.01,ZEC:.003,LTC:.01,QTUM:.01,ETC:.01,GAS:0,BTS:1,GXS:.1,BITCNY:19}}},exceptions:{exact:{10001:h,10005:r,"Amount's scale must greater than AssetPair's base scale":l,10007:h,10011:r,10013:o,10014:c,10403:d,10429:u,40004:n,40103:n,40104:n,40301:d,40302:r,40601:r,40602:r,40603:c,40120:l,40121:l},broad:{}},commonCurrencies:{MBN:"Mobilian Coin",ONE:"BigONE Token"}})}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"data",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"name"),a=this.safeString(e,"id"),n=this.safeValue(e,"base_asset",{}),o=this.safeValue(e,"quote_asset",{}),c=this.safeString(n,"symbol"),d=this.safeString(o,"symbol"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f=this.safeString(e,"base_scale"),p=this.safeString(e,"quote_scale"),m=this.parsePrecision(f),g=this.parsePrecision(p),y={amount:parseInt(f),price:parseInt(p)},v=this.safeInteger(e,"min_quote_value"),b={id:t,uuid:a,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:!0,precision:y,limits:{amount:{min:this.parseNumber(m),max:void 0},price:{min:this.parseNumber(g),max:void 0},cost:{min:v,max:void 0}},info:e};s.push(b)}return s}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t);let s=this.safeValue(this.options,"marketsByUuid");if(void 0===s||e){s={};for(let e=0;e<this.symbols.length;e++){const t=this.symbols[e],i=this.markets[t],r=this.safeString(i,"uuid");s[r]=i}this.options["marketsByUuid"]=s}return i}parseTicker(e,t){const i=this.safeString(e,"asset_pair_name"),s=this.safeSymbol(i,t,"-"),r=void 0,a=this.safeNumber(e,"close"),n=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(n,"price"),bidVolume:this.safeNumber(n,"quantity"),ask:this.safeNumber(o,"price"),askVolume:this.safeNumber(o,"quantity"),vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:a,previousClose:void 0,change:this.safeNumber(e,"daily_change"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={asset_pair_name:i["id"]},r=await this.publicGetAssetPairsAssetPairNameTicker(this.extend(s,t)),a=this.safeValue(r,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["pair_names"]=t.join(",")}const s=await this.publicGetAssetPairsTickers(this.extend(i,t)),r=this.safeValue(s,"data",[]),a={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];a[t]=e}return this.filterByArray(a,"symbol",e)}async fetchTime(e={}){const t=await this.publicGetPing(e),i=this.safeValue(t,"data",{}),s=this.safeInteger(i,"timestamp");return parseInt(s/1e6)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={asset_pair_name:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.publicGetAssetPairsAssetPairNameDepth(this.extend(r,i)),n=this.safeValue(a,"data",{});return this.parseOrderBook(n,e,void 0,"bids","asks","price","quantity")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"created_at","inserted_at")),s=this.safeString(e,"price"),r=this.safeString(e,"amount"),a=this.parseNumber(s),n=this.parseNumber(r),o=this.parseNumber(f.stringMul(s,r)),c=this.safeString(e,"asset_pair_name"),d=this.safeSymbol(c,t,"-");let h=this.safeString(e,"side");const u=this.safeString(e,"taker_side");let l=void 0;void 0!==u&&void 0!==h&&"SELF_TRADING"!==h&&(l=u===h?"taker":"maker"),void 0===h?h="ASK"===u?"sell":"buy":"BID"===h?h="buy":"ASK"===h&&(h="sell");const p=this.safeString(e,"maker_order_id"),m=this.safeString(e,"taker_order_id");let g=void 0;void 0!==p?g=void 0!==m?[p,m]:p:void 0!==m&&(g=m);const y=this.safeString(e,"id"),v={id:y,timestamp:i,datetime:this.iso8601(i),symbol:d,order:g,type:"limit",side:h,takerOrMaker:l,price:a,amount:n,cost:parseFloat(o),info:e};let b=void 0,w=void 0;void 0!==t&&void 0!==l?"buy"===h?"maker"===l?(b=t["base"],w=t["quote"]):(b=t["quote"],w=t["base"]):"maker"===l?(b=t["quote"],w=t["base"]):(b=t["base"],w=t["quote"]):"SELF_TRADING"===h&&("BID"===u?(b=t["quote"],w=t["base"]):"ASK"===u&&(b=t["base"],w=t["quote"]));const k=this.safeNumber(e,"maker_fee"),S=this.safeNumber(e,"taker_fee");return void 0!==k?void 0!==S?v["fees"]=[{cost:k,currency:b},{cost:S,currency:w}]:v["fee"]={cost:k,currency:b}:v["fee"]=void 0!==S?{cost:S,currency:w}:void 0,v}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={asset_pair_name:r["id"]},n=await this.publicGetAssetPairsAssetPairNameTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e);void 0===s&&(s=100);const n={asset_pair_name:a["id"],period:this.timeframes[t],limit:s};if(void 0!==i){const e=this.sum(i,s*this.parseTimeframe(t)*1e3);n["time"]=this.iso8601(e)}const o=await this.publicGetAssetPairsAssetPairNameCandles(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,s)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","");e=this.omit(e,"type");const i="privateGet"+this.capitalize(t)+"Accounts",s=await this[i](e),r={info:s,timestamp:void 0,datetime:void 0},a=this.safeValue(s,"data",[]);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeString(e,"asset_symbol"),i=this.safeCurrencyCode(t),s=this.account();s["total"]=this.safeString(e,"balance"),s["used"]=this.safeString(e,"locked_balance"),r[i]=s}return this.parseBalance(r,!1)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"asset_pair_name"),r=this.safeSymbol(s,t,"-"),a=this.parse8601(this.safeString(e,"created_at")),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"filled_amount"),d=this.parseOrderStatus(this.safeString(e,"state"));let h=this.safeString(e,"side");h="BID"===h?"buy":"sell";const u=this.parse8601(this.safeString(e,"updated_at")),l=this.safeNumber(e,"avg_deal_price");return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:u,symbol:r,type:void 0,timeInForce:void 0,postOnly:void 0,side:h,price:n,stopPrice:void 0,amount:o,cost:void 0,average:l,filled:c,remaining:void 0,status:d,fee:void 0,trades:void 0})}async createOrder(e,t,i,s,r,n={}){await this.loadMarkets();const o=this.market(e);i="buy"===i?"BID":"ASK";const c=t.toUpperCase(),d={asset_pair_name:o["id"],side:i,amount:this.amountToPrecision(e,s),type:c};if("LIMIT"===c)d["price"]=this.priceToPrecision(e,r);else{const t="STOP_LIMIT"===c,i="STOP_MARKET"===c;if(t||i){const t=this.safeNumber2(n,"stop_price","stopPrice");if(void 0===t)throw new a(this.id+" createOrder() requires a stop_price parameter");d["stop_price"]=this.priceToPrecision(e,t),n=this.omit(n,["stop_price","stopPrice"])}t&&(d["price"]=this.priceToPrecision(e,r))}const h=await this.privatePostOrders(this.extend(d,n)),u=this.safeValue(h,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privatePostOrdersIdCancel(this.extend(s,i)),a=this.safeValue(r,"data");return this.parseOrder(a)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i=this.market(e),s={asset_pair_name:i["id"]},r=await this.privatePostOrdersCancel(this.extend(s,t));return r}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrdersId(this.extend(s,i)),a=this.safeValue(r,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(e),n={asset_pair_name:r["id"]};void 0!==i&&(n["limit"]=i);const o=await this.privateGetOrders(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,r,t,i)}async fetchMyTrades(e,t,i,s={}){if(await this.loadMarkets(),void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");const r=this.market(e),n={asset_pair_name:r["id"]};void 0!==i&&(n["limit"]=i);const o=await this.privateGetTrades(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,r,t,i)}parseOrderStatus(e){const t={PENDING:"open",FILLED:"closed",CANCELLED:"canceled"};return this.safeString(t,e)}async fetchOpenOrders(e,t,i,s={}){const r={state:"PENDING"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={state:"FILLED"};return await this.fetchOrders(e,t,i,this.extend(r,s))}nonce(){return 1e3*this.microseconds()}sign(e,t="public",i="GET",s={},r,a){const n=this.omit(s,this.extractParams(e)),o=this.implodeHostname(this.urls["api"][t]);let c=o+"/"+this.implodeParams(e,s);if("public"===t)Object.keys(n).length&&(c+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t={type:"OpenAPIV2",sub:this.apiKey,nonce:e},s=this.jwt(t,this.encode(this.secret));r={Authorization:"Bearer "+s},"GET"===i?Object.keys(n).length&&(c+="?"+this.urlencode(n)):"POST"===i&&(r["Content-Type"]="application/json",a=this.json(n))}return{url:c,method:i,body:a,headers:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={asset_symbol:i["id"]},a=await this.privateGetAssetsAssetSymbolAddress(this.extend(s,t)),n=this.safeValue(a,"data",[]),o=n.length;if(o<1)throw new r(this.id+"fetchDepositAddress() returned empty address response");const c=n[0],d=this.safeString(c,"value"),h=this.safeString(c,"memo");return this.checkAddress(d),{currency:e,address:d,tag:h,info:a}}parseTransactionStatus(e){const t={WITHHOLD:"ok",UNCONFIRMED:"pending",CONFIRMED:"ok",COMPLETED:"ok",PENDING:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"asset_symbol"),s=this.safeCurrencyCode(i),r=this.safeInteger(e,"id"),a=this.safeNumber(e,"amount"),n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.parse8601(this.safeString(e,"inserted_at")),c=this.parse8601(this.safeString2(e,"updated_at","completed_at")),d=this.safeString(e,"txid"),h=this.safeString(e,"target_address"),u=this.safeString(e,"memo"),l="customer_id"in e?"deposit":"withdrawal";return{info:e,id:r,txid:d,timestamp:o,datetime:this.iso8601(o),addressFrom:void 0,address:void 0,addressTo:h,tagFrom:void 0,tag:u,tagTo:void 0,type:l,amount:a,currency:s,status:n,updated:c,fee:void 0}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["asset_symbol"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetDeposits(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["asset_symbol"]=a["id"]),void 0!==i&&(r["limit"]=i);const n=await this.privateGetWithdrawals(this.extend(r,s)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,s,r={}){await this.loadMarkets();const a=this.currency(e),n={symbol:a["id"],target_address:i,amount:this.currencyToPrecision(e,t)};void 0!==s&&(n["memo"]=s);const o=await this.privatePostWithdrawals(this.extend(n,r)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if("0"!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new r(e)}}}},d925:function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d938:function(e,t,i){var s=i("b639").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(s.isBuffer(e)){for(var t=new Uint8Array(e.length),i=e.length,r=0;r<i;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")}},d998:function(e,t,i){var s=i("342f");e.exports=/MSIE|Trident/.test(s)},d9bd:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return c})),i.d(t,"e",(function(){return d}));i("caad"),i("2532"),i("99af"),i("ac1f"),i("5319"),i("b0c0"),i("466d"),i("a15b"),i("d81d"),i("38cf");var s=i("f309");function r(e,t,i){if(!s["a"].config.silent){if(i&&(t={_isVue:!0,$parent:i,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return"[Vuetify] ".concat(e)+(t?f(t):"")}}function a(e,t,i){var s=r(e,t,i);null!=s&&console.warn(s)}function n(e,t,i){var s=r(e,t,i);null!=s&&console.error(s)}function o(e,t,i,s){a("[UPGRADE] '".concat(e,"' is deprecated, use '").concat(t,"' instead."),i,s)}function c(e,t,i,s){n("[BREAKING] '".concat(e,"' has been removed, use '").concat(t,"' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide"),i,s)}function d(e,t,i){a("[REMOVED] '".concat(e,"' has been removed. You can safely omit it."),t,i)}var h=/(?:^|[-_])(\w)/g,u=function(e){return e.replace(h,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")};function l(e,t){if(e.$root===e)return"<Root>";var i="function"===typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e||{},s=i.name||i._componentTag,r=i.__file;if(!s&&r){var a=r.match(/([^/\\]+)\.vue$/);s=a&&a[1]}return(s?"<".concat(u(s),">"):"<Anonymous>")+(r&&!1!==t?" at ".concat(r):"")}function f(e){if(e._isVue&&e.$parent){var t=[],i=0;while(e){if(t.length>0){var s=t[t.length-1];if(s.constructor===e.constructor){i++,e=e.$parent;continue}i>0&&(t[t.length-1]=[s,i],i=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map((function(e,t){return"".concat(0===t?"---\x3e ":" ".repeat(5+2*t)).concat(Array.isArray(e)?"".concat(l(e[0]),"... (").concat(e[1]," recursive calls)"):l(e))})).join("\n")}return"\n\n(found in ".concat(l(e),")")}},d9f7:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u}));var s=i("5530"),r=i("3835"),a=i("b85c"),n=(i("ac1f"),i("1276"),i("498a"),i("b64b"),i("99af"),i("80d2")),o={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function c(e){var t,i={},s=Object(a["a"])(e.split(o.styleList));try{for(s.s();!(t=s.n()).done;){var c=t.value,d=c.split(o.styleProp),h=Object(r["a"])(d,2),u=h[0],l=h[1];u=u.trim(),u&&("string"===typeof l&&(l=l.trim()),i[Object(n["c"])(u)]=l)}}catch(f){s.e(f)}finally{s.f()}return i}function d(){var e,t={},i=arguments.length;while(i--)for(var r=0,a=Object.keys(arguments[i]);r<a.length;r++)switch(e=a[r],e){case"class":case"directives":arguments[i][e]&&(t[e]=u(t[e],arguments[i][e]));break;case"style":arguments[i][e]&&(t[e]=h(t[e],arguments[i][e]));break;case"staticClass":if(!arguments[i][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[i][e].trim();break;case"on":case"nativeOn":arguments[i][e]&&(t[e]=l(t[e],arguments[i][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[i][e])break;t[e]||(t[e]={}),t[e]=Object(s["a"])(Object(s["a"])({},arguments[i][e]),t[e]);break;default:t[e]||(t[e]=arguments[i][e])}return t}function h(e,t){return e?t?(e=Object(n["E"])("string"===typeof e?c(e):e),e.concat("string"===typeof t?c(t):t)):e:t}function u(e,t){return t?e&&e?Object(n["E"])(e).concat(t):t:e}function l(){if(!(arguments.length<=0?void 0:arguments[0]))return arguments.length<=1?void 0:arguments[1];if(!(arguments.length<=1?void 0:arguments[1]))return arguments.length<=0?void 0:arguments[0];for(var e={},t=2;t--;){var i=t<0||arguments.length<=t?void 0:arguments[t];for(var s in i)i[s]&&(e[s]?e[s]=[].concat(i[s],e[s]):e[s]=i[s])}return e}},da63:function(e,t,i){var s=i("5259");i("fb3e"),i("fb58f"),i("deb0"),i("5876"),i("ca73"),i("3609"),i("4778"),i("de46"),i("6497"),i("9d8b");var r=s.asn1,a=s.pki,n=e.exports=s.pkcs12=s.pkcs12||{},o={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},d={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},h={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},u={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function l(e,t,i,s){for(var r=[],a=0;a<e.length;a++)for(var n=0;n<e[a].safeBags.length;n++){var o=e[a].safeBags[n];void 0!==s&&o.type!==s||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(i)>=0&&r.push(o):r.push(o))}return r}function f(e){if(e.composed||e.constructed){for(var t=s.util.createBuffer(),i=0;i<e.value.length;++i)t.putBytes(e.value[i].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function p(e,t,i,s){if(t=r.fromDer(t,i),t.tagClass!==r.Class.UNIVERSAL||t.type!==r.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var n=0;n<t.value.length;n++){var c=t.value[n],d={},h=[];if(!r.validate(c,o,d,h)){var u=new Error("Cannot read ContentInfo.");throw u.errors=h,u}var l={encrypted:!1},p=null,y=d.content.value[0];switch(r.derToOid(d.contentType)){case a.oids.data:if(y.tagClass!==r.Class.UNIVERSAL||y.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");p=f(y).value;break;case a.oids.encryptedData:p=m(y,s),l.encrypted=!0;break;default:u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=r.derToOid(d.contentType),u}l.safeBags=g(p,i,s),e.safeContents.push(l)}}function m(e,t){var i={},n=[];if(!r.validate(e,s.pkcs7.asn1.encryptedDataValidator,i,n)){var o=new Error("Cannot read EncryptedContentInfo.");throw o.errors=n,o}var c=r.derToOid(i.contentType);if(c!==a.oids.data){o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw o.oid=c,o}c=r.derToOid(i.encAlgorithm);var d=a.pbe.getCipher(c,i.encParameter,t),h=f(i.encryptedContentAsn1),u=s.util.createBuffer(h.value);if(d.update(u),!d.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return d.output.getBytes()}function g(e,t,i){if(!t&&0===e.length)return[];if(e=r.fromDer(e,t),e.tagClass!==r.Class.UNIVERSAL||e.type!==r.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var s=[],n=0;n<e.value.length;n++){var o=e.value[n],c={},h=[];if(!r.validate(o,d,c,h)){var l=new Error("Cannot read SafeBag.");throw l.errors=h,l}var f,p,m={type:r.derToOid(c.bagId),attributes:y(c.bagAttributes)};s.push(m);var g=c.bagValue.value[0];switch(m.type){case a.oids.pkcs8ShroudedKeyBag:if(g=a.decryptPrivateKeyInfo(g,i),null===g)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{m.key=a.privateKeyFromAsn1(g)}catch(v){m.key=null,m.asn1=g}continue;case a.oids.certBag:f=u,p=function(){if(r.derToOid(c.certId)!==a.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=r.derToOid(c.certId),e}var i=r.fromDer(c.cert,t);try{m.cert=a.certificateFromAsn1(i,!0)}catch(v){m.cert=null,m.asn1=i}};break;default:l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=m.type,l}if(void 0!==f&&!r.validate(g,f,c,h)){l=new Error("Cannot read PKCS#12 "+f.name);throw l.errors=h,l}p()}return s}function y(e){var t={};if(void 0!==e)for(var i=0;i<e.length;++i){var s={},n=[];if(!r.validate(e[i],h,s,n)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=n,o}var c=r.derToOid(s.oid);if(void 0!==a.oids[c]){t[a.oids[c]]=[];for(var d=0;d<s.values.length;++d)t[a.oids[c]].push(s.values[d].value)}}return t}n.pkcs12FromAsn1=function(e,t,i){"string"===typeof t?(i=t,t=!0):void 0===t&&(t=!0);var o={},d=[];if(!r.validate(e,c,o,d)){var h=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw h.errors=h,h}var u={version:o.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,i={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=s.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(i[e.bagType]=l(u.safeContents,null,null,e.bagType)),void 0!==t&&(i.localKeyId=l(u.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(i.friendlyName=l(u.safeContents,"friendlyName",e.friendlyName,e.bagType)),i},getBagsByFriendlyName:function(e,t){return l(u.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return l(u.safeContents,"localKeyId",e,t)}};if(3!==o.version.charCodeAt(0)){h=new Error("PKCS#12 PFX of version other than 3 not supported.");throw h.version=o.version.charCodeAt(0),h}if(r.derToOid(o.contentType)!==a.oids.data){h=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw h.oid=r.derToOid(o.contentType),h}var m=o.content.value[0];if(m.tagClass!==r.Class.UNIVERSAL||m.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=f(m),o.mac){var g=null,y=0,v=r.derToOid(o.macAlgorithm);switch(v){case a.oids.sha1:g=s.md.sha1.create(),y=20;break;case a.oids.sha256:g=s.md.sha256.create(),y=32;break;case a.oids.sha384:g=s.md.sha384.create(),y=48;break;case a.oids.sha512:g=s.md.sha512.create(),y=64;break;case a.oids.md5:g=s.md.md5.create(),y=16;break}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var b=new s.util.ByteBuffer(o.macSalt),w="macIterations"in o?parseInt(s.util.bytesToHex(o.macIterations),16):1,k=n.generateKey(i,b,3,w,y,g),S=s.hmac.create();S.start(g,k),S.update(m.value);var _=S.getMac();if(_.getBytes()!==o.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return p(u,m.value,t,i),u},n.toPkcs12Asn1=function(e,t,i,o){o=o||{},o.saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||o.encAlgorithm||"aes128","useMac"in o||(o.useMac=!0),"localKeyId"in o||(o.localKeyId=null),"generateLocalKeyId"in o||(o.generateLocalKeyId=!0);var c,d=o.localKeyId;if(null!==d)d=s.util.hexToBytes(d);else if(o.generateLocalKeyId)if(t){var h=s.util.isArray(t)?t[0]:t;"string"===typeof h&&(h=a.certificateFromPem(h));var u=s.md.sha1.create();u.update(r.toDer(a.certificateToAsn1(h)).getBytes()),d=u.digest().getBytes()}else d=s.random.getBytes(20);var l=[];null!==d&&l.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,d)])])),"friendlyName"in o&&l.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,o.friendlyName)])])),l.length>0&&(c=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,l));var f=[],p=[];null!==t&&(p=s.util.isArray(t)?t:[t]);for(var m=[],g=0;g<p.length;++g){t=p[g],"string"===typeof t&&(t=a.certificateFromPem(t));var y=0===g?c:void 0,v=a.certificateToAsn1(t),b=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(v).getBytes())])])]),y]);m.push(b)}if(m.length>0){var w=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,m),k=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(w).getBytes())])]);f.push(k)}var S=null;if(null!==e){var _=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));S=null===i?r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[_]),c]):r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(_,i,o)]),c]);var O=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[S]),T=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(O).getBytes())])]);f.push(T)}var C,x=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,f);if(o.useMac){u=s.md.sha1.create();var I=new s.util.ByteBuffer(s.random.getBytes(o.saltSize)),E=o.count,A=(e=n.generateKey(i,I,3,E,20),s.hmac.create());A.start(u,e),A.update(r.toDer(x).getBytes());var N=A.getMac();C=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,N.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,I.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(x).getBytes())])]),C])},n.generateKey=s.pbe.generatePkcs12Key},da84:function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},dae8:function(e,t,i){var s=i("d014");function r(e,t){return s(t,e,0)>=0}e.exports=r},daf3:function(e,t,i){"use strict";var s=i("74d2"),r=i("02a7"),a=i("fee7"),n=a.utils,o=n.assert,c=i("13b7"),d=i("7736");function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(o(a.curves.hasOwnProperty(e),"Unknown curve "+e),e=a.curves[e]),e instanceof a.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new c(this,e)},h.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||null,entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new s(2));do{var n=new s(t.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}while(1)},h.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,i,a){"object"===typeof i&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new s(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),h=new r({hash:this.hash,entropy:a["extraEntropy"]?o.concat(a["extraEntropy"]):o,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new s(1)),l=0;1;l++){var f=a.k?a.k(l):new s(h.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(y=y.umod(this.n),0!==y.cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return a.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new d({r:g,s:y,recoveryParam:v})}}}}}},h.prototype.verify=function(e,t,i,r){e=this._truncateToN(new s(e,16)),i=this.keyFromPublic(i,r),t=new d(t,"hex");var a=t.r,n=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var o=n.invm(this.n),c=o.mul(e).umod(this.n),h=o.mul(a).umod(this.n);if(!this.curve._maxwellTrick){var u=this.g.mulAdd(c,i.getPublic(),h);return!u.isInfinity()&&0===u.getX().umod(this.n).cmp(a)}u=this.g.jmulAdd(c,i.getPublic(),h);return!u.isInfinity()&&u.eqXToP(a)},h.prototype.recoverPubKey=function(e,t,i,r){o((3&i)===i,"The recovery param is more than two bits"),t=new d(t,r);var a=this.n,n=new s(e),c=t.r,h=t.s,u=1&i,l=i>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");c=l?this.curve.pointFromX(c.add(this.curve.n),u):this.curve.pointFromX(c,u);var f=t.r.invm(a),p=a.sub(n).mul(f).umod(a),m=h.mul(f).umod(a);return this.g.mulAdd(p,c,m)},h.prototype.getKeyRecoveryParam=function(e,t,i,s){if(t=new d(t,s),null!==t.recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var a;try{a=this.recoverPubKey(e,t,r)}catch(e){continue}if(a.eq(i))return r}throw new Error("Unable to find valid recovery factor")}},dafe:function(e,t){function i(e,t,i){var s=0,r=i.length;while(s<r){if(e(t,i[s]))return!0;s+=1}return!1}e.exports=i},db42:function(e,t,i){},dbb4:function(e,t,i){var s=i("23e7"),r=i("83ab"),a=i("56ef"),n=i("fc6a"),o=i("06cf"),c=i("8418");s({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,i,s=n(e),r=o.f,d=a(s),h={},u=0;while(d.length>u)i=r(s,t=d[u++]),void 0!==i&&c(h,t,i);return h}})},dbd3:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ExchangeNotAvailable:a,BadResponse:n,BadRequest:o,InvalidOrder:c,InsufficientFunds:d,AuthenticationError:h,ArgumentsRequired:u,InvalidAddress:l,RateLimitExceeded:f,DDoSProtection:p,BadSymbol:m}=i("74b0"),{TRUNCATE:g,TICK_SIZE:y}=i("5ea4"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"probit",name:"ProBit",countries:["SC","KR"],rateLimit:250,has:{CORS:!0,fetchTime:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchTickers:!0,fetchTicker:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTrades:!0,fetchBalance:!0,createOrder:!0,createMarketOrder:!0,cancelOrder:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0,signIn:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"1W","1M":"1M"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/79268032-c4379480-7ea2-11ea-80b3-dd96bb29fd0d.jpg",api:{accounts:"https://accounts.probit.com",public:"https://api.probit.com/api/exchange",private:"https://api.probit.com/api/exchange"},www:"https://www.probit.com",doc:["https://docs-en.probit.com","https://docs-ko.probit.com"],fees:"https://support.probit.com/hc/en-us/articles/360020968611-Trading-Fees",referral:"https://www.probit.com/r/34608773"},api:{public:{get:["market","currency","currency_with_platform","time","ticker","order_book","trade","candle"]},private:{post:["new_order","cancel_order","withdrawal"],get:["balance","order","open_order","order_history","trade_history","deposit_address"]},accounts:{post:["token"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{UNAUTHORIZED:h,INVALID_ARGUMENT:o,TRADING_UNAVAILABLE:a,NOT_ENOUGH_BALANCE:d,NOT_ALLOWED_COMBINATION:o,INVALID_ORDER:c,RATE_LIMIT_EXCEEDED:f,MARKET_UNAVAILABLE:a,INVALID_MARKET:m,MARKET_CLOSED:m,MARKET_NOT_FOUND:m,INVALID_CURRENCY:o,TOO_MANY_OPEN_ORDERS:p,DUPLICATE_ADDRESS:l}},requiredCredentials:{apiKey:!0,secret:!0},precisionMode:y,options:{createMarketBuyOrderRequiresPrice:!0,timeInForce:{limit:"gtc",market:"ioc"}},commonCurrencies:{AUTO:"Cube",BCC:"BCC",BTCBEAR:"BEAR",BTCBULL:"BULL",CBC:"CryptoBharatCoin",EPS:"Epanus",HBC:"Hybrid Bank Cash",ORC:"Oracle System",SOC:"Soda Coin",UNI:"UNICORN Token"}})}async fetchMarkets(e={}){const t=await this.publicGetMarket(e),i=this.safeValue(t,"data",[]),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"id"),a=this.safeString(e,"base_currency_id"),n=this.safeString(e,"quote_currency_id"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"closed",!1),u=!h,l=this.safeString(e,"quantity_precision"),f=this.safeString(e,"cost_precision"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:this.parseNumber(p),price:this.safeNumber(e,"price_increment"),cost:this.parseNumber(m)},y=this.safeString(e,"taker_fee_rate"),b=v.stringDiv(y,"100"),w=this.safeString(e,"maker_fee_rate"),k=v.stringDiv(w,"100");s.push({id:t,info:e,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:u,precision:g,taker:this.parseNumber(b),maker:this.parseNumber(k),limits:{amount:{min:this.safeNumber(e,"min_quantity"),max:this.safeNumber(e,"max_quantity")},price:{min:this.safeNumber(e,"min_price"),max:this.safeNumber(e,"max_price")},cost:{min:this.safeNumber(e,"min_cost"),max:this.safeNumber(e,"max_cost")}}})}return s}async fetchCurrencies(e={}){const t=await this.publicGetCurrencyWithPlatform(e),i=this.safeValue(t,"data"),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"id"),a=this.safeCurrencyCode(t),n=this.safeValue(e,"display_name"),o=this.safeString(n,"en-us"),c=this.safeValue(e,"platform",[]),d=this.sortBy(c,"priority"),h=this.safeValue(d,0,{}),u=this.safeInteger(h,"precision"),l=this.safeValue(h,"deposit_suspended"),f=this.safeValue(h,"withdrawal_suspended"),p=!(l&&f),m=this.safeValue(h,"withdrawal_fee",{}),g=[];for(let i=0;i<m.length;i++){const e=m[i],t=this.safeNumber(e,"amount"),s=this.safeInteger(e,"priority");void 0!==t&&void 0!==s&&g.push(e)}const y=this.sortBy(g,"priority"),v=this.safeValue(y,0,{}),b=this.safeNumber(v,"amount");s[a]={id:t,code:a,info:e,name:o,active:p,fee:b,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},deposit:{min:this.safeNumber(h,"min_deposit_amount"),max:void 0},withdraw:{min:this.safeNumber(h,"min_withdrawal_amount"),max:void 0}}}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t,timestamp:void 0,datetime:void 0},s=this.safeValue(t,"data");for(let r=0;r<s.length;r++){const e=s[r],t=this.safeString(e,"currency_id"),a=this.safeCurrencyCode(t),n=this.account();n["total"]=this.safeString(e,"total"),n["free"]=this.safeString(e,"available"),i[a]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={market_id:s["id"]},a=await this.publicGetOrderBook(this.extend(r,i)),n=this.safeValue(a,"data",[]),o=this.groupBy(n,"side");return this.parseOrderBook(o,e,void 0,"buy","sell","price","quantity")}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["market_ids"]=t.join(",")}const s=await this.publicGetTicker(this.extend(i,t)),r=this.safeValue(s,"data",[]);return this.parseTickers(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market_ids:i["id"]},r=await this.publicGetTicker(this.extend(s,t)),a=this.safeValue(r,"data",[]),o=this.safeValue(a,0);if(void 0===o)throw new n(this.id+" fetchTicker() returned an empty response");return this.parseTicker(o,i)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"time")),s=this.safeString(e,"market_id"),r=this.safeSymbol(s,t,"-"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"change");let o=void 0,c=void 0;void 0!==n&&void 0!==a&&(c=a-n,o=n/c*100);const d=this.safeNumber(e,"base_volume"),h=this.safeNumber(e,"quote_volume"),u=this.vwap(d,h);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:u,open:c,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:void 0,baseVolume:d,quoteVolume:h,info:e}}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={limit:100,start_time:this.iso8601(0),end_time:this.iso8601(this.milliseconds())};void 0!==e&&(r=this.market(e),a["market_id"]=r["id"]),void 0!==t&&(a["start_time"]=this.iso8601(t)),void 0!==i&&(a["limit"]=i);const n=await this.privateGetTradeHistory(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={market_id:r["id"],limit:100,start_time:"1970-01-01T00:00:00.000Z",end_time:this.iso8601(this.milliseconds())};void 0!==t&&(a["start_time"]=this.iso8601(t)),void 0!==i&&(a["limit"]=i);const n=await this.publicGetTrade(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"time")),s=this.safeString(e,"id");let r=void 0;if(void 0!==s){const e=s.split(":");r=this.safeString(e,0)}r=this.safeString(e,"market_id",r);const a=this.safeSymbol(r,t,"-"),n=this.safeString(e,"side"),o=this.safeString(e,"price"),c=this.safeString(e,"quantity"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(v.stringMul(o,c)),l=this.safeString(e,"order_id"),f=this.safeNumber(e,"fee_amount");let p=void 0;if(void 0!==f){const t=this.safeString(e,"fee_currency_id"),i=this.safeCurrencyCode(t);p={cost:f,currency:i}}return{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,order:l,type:void 0,side:n,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:p}}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.parse8601(this.safeString(t,"data"));return i}normalizeOHLCVTimestamp(e,t,i=!1){const s=this.parseTimeframe(t);if("1M"===t){const t=this.iso8601(e),s=t.split("-"),r=this.safeString(s,0);let a=this.safeInteger(s,1);return i&&(a=this.sum(a,1)),a=a<10?"0"+a.toString():a.toString(),r+"-"+a+"-01T00:00:00.000Z"}if("1w"===t){e=parseInt(e/1e3);const t=259200,r=e-t,a=Math.floor(r/s);let n=this.sum(t,a*s);return i&&(n=this.sum(n,s)),this.iso8601(1e3*n)}return e=parseInt(e/1e3),e=s*parseInt(e/s),i&&(e=this.sum(e,s)),this.iso8601(1e3*e)}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=this.timeframes[t];s=void 0===s?100:s;let o=this.sum(s,1);o=Math.min(1e3,o);const c={market_ids:a["id"],interval:n,sort:"asc",limit:o},d=this.milliseconds(),h=this.parseTimeframe(t);let l=i,f=d;if(void 0===i){if(void 0===s)throw new u(this.id+" fetchOHLCV() requires either a since argument or a limit argument");l=d-s*h*1e3}else f=void 0===s?d:this.sum(i,this.sum(s,1)*h*1e3);const p=this.normalizeOHLCVTimestamp(l,t),m=this.normalizeOHLCVTimestamp(f,t,!0);c["start_time"]=p,c["end_time"]=m;const g=await this.publicGetCandle(this.extend(c,r)),y=this.safeValue(g,"data",[]);return this.parseOHLCVs(y,a,t,i,s)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"start_time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"base_volume")]}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets(),t=this.parse8601(t);const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["market_id"]=a["id"]);const n=await this.privateGetOpenOrder(this.extend(r,s)),o=this.safeValue(n,"data");return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r={start_time:this.iso8601(0),end_time:this.iso8601(this.milliseconds()),limit:100};let a=void 0;void 0!==e&&(a=this.market(e),r["market_id"]=a["id"]),t&&(r["start_time"]=this.iso8601(t)),i&&(r["limit"]=i);const n=await this.privateGetOrderHistory(this.extend(r,s)),o=this.safeValue(n,"data");return this.parseOrders(o,a,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={market_id:s["id"]},a=this.safeString2(i,"clientOrderId","client_order_id");void 0!==a?r["client_order_id"]=a:r["order_id"]=e;const n=this.omit(i,["clientOrderId","client_order_id"]),o=await this.privateGetOrder(this.extend(r,n)),c=this.safeValue(o,"data",[]),d=this.safeValue(c,0);return this.parseOrder(d,s)}parseOrderStatus(e){const t={open:"open",cancelled:"canceled",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString(e,"id"),r=this.safeString(e,"type"),a=this.safeString(e,"side"),n=this.safeString(e,"market_id"),o=this.safeSymbol(n,t,"-"),c=this.parse8601(this.safeString(e,"time"));let d=this.safeNumber(e,"limit_price");const h=this.safeNumber(e,"filled_quantity");let u=this.safeNumber(e,"open_quantity");const l=this.safeNumber(e,"cancelled_quantity");void 0!==l&&(u=this.sum(u,l));const f=this.safeNumber(e,"quantity",this.sum(h,u)),p=this.safeNumber2(e,"filled_cost","cost");"market"===r&&(d=void 0);let m=this.safeString(e,"client_order_id");""===m&&(m=void 0);const g=this.safeStringUpper(e,"time_in_force");return this.safeOrder({id:s,info:e,clientOrderId:m,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:r,timeInForce:g,side:a,status:i,price:d,stopPrice:void 0,amount:f,filled:h,remaining:u,average:void 0,cost:p,fee:void 0,trades:void 0})}costToPrecision(e,t){return this.decimalToPrecision(t,g,this.markets[e]["precision"]["cost"],this.precisionMode)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeValue(this.options,"timeInForce"),d=this.safeValue(o,t),h=this.safeString2(a,"timeInForce","time_in_force",d),u={market_id:n["id"],type:t,side:i,time_in_force:h},l=this.safeString2(a,"clientOrderId","client_order_id");void 0!==l&&(u["client_order_id"]=l);let f=void 0;if("limit"===t)u["limit_price"]=this.priceToPrecision(e,r),u["quantity"]=this.amountToPrecision(e,s);else if("market"===t)if("buy"===i){let t=this.safeNumber(a,"cost");const i=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(i){if(void 0!==r)void 0===t&&(t=s*r);else if(void 0===t)throw new c(this.id+" createOrder() requires the price argument for market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'cost' extra parameter (the exchange-specific behaviour)")}else t=void 0===t?s:t;f=this.costToPrecision(e,t),u["cost"]=f}else u["quantity"]=this.amountToPrecision(e,s);const p=this.omit(a,["timeInForce","time_in_force","clientOrderId","client_order_id"]),m=await this.privatePostNewOrder(this.extend(u,p)),g=this.safeValue(m,"data"),y=this.parseOrder(g,n);return"market"===t&&"buy"===i&&(y["amount"]=void 0,y["cost"]=parseFloat(f),y["remaining"]=void 0),y}async cancelOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const s=this.market(t),r={market_id:s["id"],order_id:e},a=await this.privatePostCancelOrder(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),s=this.safeString(e,"destination_tag"),r=this.safeString(e,"currency_id"),a=this.safeCurrencyCode(r);return this.checkAddress(i),{currency:a,address:i,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={currency_id:i["id"]},r=await this.privateGetDepositAddress(this.extend(s,t)),a=this.safeValue(r,"data",[]),n=this.safeValue(a,0);if(void 0===n)throw new l(this.id+" fetchDepositAddress returned an empty response");return this.parseDepositAddress(n,i)}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i={};if(e){const t=[];for(let i=0;i<e.length;i++){const s=this.currency(e[i]);t.push(s["id"])}i["currency_id"]=e.join(",")}const s=await this.privateGetDepositAddress(this.extend(i,t)),r=this.safeValue(s,"data",[]);return this.parseDepositAddresses(r)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);void 0===s&&(s="");const n={currency_id:a["id"],address:i,destination_tag:s,amount:this.currencyToPrecision(e,t)},o=await this.privatePostWithdrawal(this.extend(n,r)),c=this.safeValue(o,"data");return this.parseTransaction(c,a)}parseTransaction(e,t){const i=this.safeString(e,"id"),s=this.safeNumber(e,"amount"),r=this.safeString(e,"address"),a=this.safeString(e,"destination_tag"),n=this.safeString(e,"hash"),o=this.parse8601(this.safeString(e,"time")),c=this.safeString(e,"type"),d=this.safeString(e,"currency_id"),h=this.safeCurrencyCode(d),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"fee");let f=void 0;return void 0!==l&&0!==l&&(f={currency:h,cost:l}),{id:i,currency:h,amount:s,addressFrom:void 0,address:r,addressTo:r,tagFrom:void 0,tag:a,tagTo:a,status:u,type:c,txid:n,timestamp:o,datetime:this.iso8601(o),fee:f,info:e}}parseTransactionStatus(e){const t={requested:"pending",pending:"pending",confirming:"pending",confirmed:"pending",applying:"pending",done:"ok",cancelled:"canceled",cancelling:"canceled"};return this.safeString(t,e,e)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/";const o=this.omit(s,this.extractParams(e));if("accounts"===t){this.checkRequiredCredentials(),n+=this.implodeParams(e,s);const t=this.apiKey+":"+this.secret,i=this.stringToBase64(t);r={Authorization:"Basic "+this.decode(i),"Content-Type":"application/json"},Object.keys(o).length&&(a=this.json(o))}else if(n+=this.version+"/","public"===t)n+=this.implodeParams(e,s),Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){const t=this.milliseconds();this.checkRequiredCredentials();const c=this.safeInteger(this.options,"expires");if(void 0===c||c<t)throw new h(this.id+" access token expired, call signIn() method");const d=this.safeString(this.options,"accessToken");r={Authorization:"Bearer "+d},n+=this.implodeParams(e,s),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),r["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:r}}async signIn(e={}){this.checkRequiredCredentials();const t={grant_type:"client_credentials"},i=await this.accountsPostToken(this.extend(t,e)),s=this.safeInteger(i,"expires_in"),r=this.safeString(i,"access_token");return this.options["accessToken"]=r,this.options["expires"]=this.sum(this.milliseconds(),1e3*s),i}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"errorCode"in o){const e=this.safeString(o,"errorCode"),t=this.safeString(o,"message");if(void 0!==e){const i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["exact"],e,i),new r(i)}}}}},dc14:function(e,t,i){"use strict";(function(t,s){var r=i("966d");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){L(t,e)}}e.exports=b;var n,o=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:r.nextTick;b.WritableState=v;var c=Object.create(i("3a7c"));c.inherits=i("3fb5");var d={deprecate:i("b7d1")},h=i("429b"),u=i("8707").Buffer,l=s.Uint8Array||function(){};function f(e){return u.from(e)}function p(e){return u.isBuffer(e)||e instanceof l}var m,g=i("4681");function y(){}function v(e,t){n=n||i("b19a"),e=e||{};var s=t instanceof n;this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,o=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:s&&(o||0===o)?o:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){x(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(n=n||i("b19a"),!m.call(b,this)&&!(this instanceof n))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),h.call(this)}function w(e,t){var i=new Error("write after end");e.emit("error",i),r.nextTick(t,i)}function k(e,t,i,s){var a=!0,n=!1;return null===i?n=new TypeError("May not write null values to stream"):"string"===typeof i||void 0===i||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n&&(e.emit("error",n),r.nextTick(s,n),a=!1),a}function S(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,i)),t}function _(e,t,i,s,r,a){if(!i){var n=S(t,s,r);s!==n&&(i=!0,r="buffer",s=n)}var o=t.objectMode?1:s.length;t.length+=o;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:s,encoding:r,isBuf:i,callback:a,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,o,s,r,a);return c}function O(e,t,i,s,r,a,n){t.writelen=s,t.writecb=n,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function T(e,t,i,s,a){--t.pendingcb,i?(r.nextTick(a,s),r.nextTick(B,e,t),e._writableState.errorEmitted=!0,e.emit("error",s)):(a(s),e._writableState.errorEmitted=!0,e.emit("error",s),B(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function x(e,t){var i=e._writableState,s=i.sync,r=i.writecb;if(C(i),t)T(e,i,s,t,r);else{var a=N(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||A(e,i),s?o(I,e,i,a,r):I(e,i,a,r)}}function I(e,t,i,s){i||E(e,t),t.pendingcb--,s(),B(e,t)}function E(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var s=t.bufferedRequestCount,r=new Array(s),n=t.corkedRequestsFree;n.entry=i;var o=0,c=!0;while(i)r[o]=i,i.isBuf||(c=!1),i=i.next,o+=1;r.allBuffers=c,O(e,t,!0,t.length,r,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{while(i){var d=i.chunk,h=i.encoding,u=i.callback,l=t.objectMode?1:d.length;if(O(e,t,!1,l,d,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),B(e,t)}))}function P(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(M,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function B(e,t){var i=N(t);return i&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}function R(e,t,i){t.ending=!0,B(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function L(e,t,i){var s=e.entry;e.entry=null;while(s){var r=s.callback;t.pendingcb--,r(i),s=s.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}c.inherits(b,h),v.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):m=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,i){var s=this._writableState,r=!1,a=!s.objectMode&&p(e);return a&&!u.isBuffer(e)&&(e=f(e)),"function"===typeof t&&(i=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!==typeof i&&(i=y),s.ended?w(this,i):(a||k(this,s,e,i))&&(s.pendingcb++,r=_(this,s,a,e,t,i)),r},b.prototype.cork=function(){var e=this._writableState;e.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,i){var s=this._writableState;"function"===typeof e?(i=e,e=null,t=null):"function"===typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||R(this,s,i)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i("4362"),i("c8ba"))},dc22:function(e,t,i){"use strict";function s(e,t){var i=t.value,s=t.options||{passive:!0};window.addEventListener("resize",i,s),e._onResize={callback:i,options:s},t.modifiers&&t.modifiers.quiet||i()}function r(e){if(e._onResize){var t=e._onResize,i=t.callback,s=t.options;window.removeEventListener("resize",i,s),delete e._onResize}}var a={inserted:s,unbind:r};t["a"]=a},dca8:function(e,t,i){var s=i("23e7"),r=i("bb2f"),a=i("d039"),n=i("861d"),o=i("f183").onFreeze,c=Object.freeze,d=a((function(){c(1)}));s({target:"Object",stat:!0,forced:d,sham:!r},{freeze:function(e){return c&&n(e)?c(o(e)):e}})},dd89:function(e,t,i){"use strict";function s(e){if("function"!==typeof e.getRootNode){while(e.parentNode)e=e.parentNode;return e!==document?null:document}var t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}i.d(t,"a",(function(){return s}))},ddb0:function(e,t,i){var s=i("da84"),r=i("fdbc"),a=i("e260"),n=i("9112"),o=i("b622"),c=o("iterator"),d=o("toStringTag"),h=a.values;for(var u in r){var l=s[u],f=l&&l.prototype;if(f){if(f[c]!==h)try{n(f,c,h)}catch(m){f[c]=h}if(f[d]||n(f,d,u),r[u])for(var p in a)if(f[p]!==a[p])try{n(f,p,a[p])}catch(m){f[p]=a[p]}}}},de46:function(e,t,i){var s=i("5259");i("c7e6"),i("6497");var r=e.exports=s.sha1=s.sha1||{};s.md.sha1=s.md.algorithms.sha1=r,r.create=function(){n||o();var e=null,t=s.util.createBuffer(),i=new Array(80),r={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){r.messageLength=0,r.fullMessageLength=r.messageLength64=[];for(var i=r.messageLengthSize/4,a=0;a<i;++a)r.fullMessageLength.push(0);return t=s.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},r}};return r.start(),r.update=function(a,n){"utf8"===n&&(a=s.util.encodeUtf8(a));var o=a.length;r.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var d=r.fullMessageLength.length-1;d>=0;--d)r.fullMessageLength[d]+=o[1],o[1]=o[0]+(r.fullMessageLength[d]/4294967296>>>0),r.fullMessageLength[d]=r.fullMessageLength[d]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(a),c(e,i,t),(t.read>2048||0===t.length())&&t.compact(),r},r.digest=function(){var n=s.util.createBuffer();n.putBytes(t.bytes());var o,d,h=r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize,u=h&r.blockLength-1;n.putBytes(a.substr(0,r.blockLength-u));for(var l=8*r.fullMessageLength[0],f=0;f<r.fullMessageLength.length-1;++f)o=8*r.fullMessageLength[f+1],d=o/4294967296>>>0,l+=d,n.putInt32(l>>>0),l=o>>>0;n.putInt32(l);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};c(p,i,n);var m=s.util.createBuffer();return m.putInt32(p.h0),m.putInt32(p.h1),m.putInt32(p.h2),m.putInt32(p.h3),m.putInt32(p.h4),m},r};var a=null,n=!1;function o(){a=String.fromCharCode(128),a+=s.util.fillString(String.fromCharCode(0),64),n=!0}function c(e,t,i){var s,r,a,n,o,c,d,h,u=i.length();while(u>=64){for(r=e.h0,a=e.h1,n=e.h2,o=e.h3,c=e.h4,h=0;h<16;++h)s=i.getInt32(),t[h]=s,d=o^a&(n^o),s=(r<<5|r>>>27)+d+c+1518500249+s,c=o,o=n,n=(a<<30|a>>>2)>>>0,a=r,r=s;for(;h<20;++h)s=t[h-3]^t[h-8]^t[h-14]^t[h-16],s=s<<1|s>>>31,t[h]=s,d=o^a&(n^o),s=(r<<5|r>>>27)+d+c+1518500249+s,c=o,o=n,n=(a<<30|a>>>2)>>>0,a=r,r=s;for(;h<32;++h)s=t[h-3]^t[h-8]^t[h-14]^t[h-16],s=s<<1|s>>>31,t[h]=s,d=a^n^o,s=(r<<5|r>>>27)+d+c+1859775393+s,c=o,o=n,n=(a<<30|a>>>2)>>>0,a=r,r=s;for(;h<40;++h)s=t[h-6]^t[h-16]^t[h-28]^t[h-32],s=s<<2|s>>>30,t[h]=s,d=a^n^o,s=(r<<5|r>>>27)+d+c+1859775393+s,c=o,o=n,n=(a<<30|a>>>2)>>>0,a=r,r=s;for(;h<60;++h)s=t[h-6]^t[h-16]^t[h-28]^t[h-32],s=s<<2|s>>>30,t[h]=s,d=a&n|o&(a^n),s=(r<<5|r>>>27)+d+c+2400959708+s,c=o,o=n,n=(a<<30|a>>>2)>>>0,a=r,r=s;for(;h<80;++h)s=t[h-6]^t[h-16]^t[h-28]^t[h-32],s=s<<2|s>>>30,t[h]=s,d=a^n^o,s=(r<<5|r>>>27)+d+c+3395469782+s,c=o,o=n,n=(a<<30|a>>>2)>>>0,a=r,r=s;e.h0=e.h0+r|0,e.h1=e.h1+a|0,e.h2=e.h2+n|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,u-=64}}},de89:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,ExchangeNotAvailable:n,PermissionDenied:o,InvalidOrder:c,AuthenticationError:d,InsufficientFunds:h,OrderNotFound:u,DDoSProtection:l,OnMaintenance:f,RateLimitExceeded:p}=i("74b0"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitz",name:"Bit-Z",countries:["HK"],rateLimit:2e3,version:"v2",userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,createMarketOrder:!1,fetchBalance:!0,fetchDeposits:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","5d":"5day","1w":"1week","1M":"1mon"},hostname:"apiv2.bitz.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87443304-fec5e000-c5fd-11ea-98f8-ba8e67f7eaff.jpg",api:{market:"https://{hostname}",trade:"https://{hostname}",assets:"https://{hostname}"},www:"https://www.bitz.com",doc:"https://apidocv2.bitz.plus/en/",fees:"https://www.bitz.com/fee?type=1",referral:"https://u.bitz.com/register?invite_code=1429193"},api:{market:{get:["ticker","depth","order","tickerall","kline","symbolList","getServerTime","currencyRate","currencyCoinRate","coinRate","getContractCoin","getContractKline","getContractOrderBook","getContractTradesHistory","getContractTickers"]},trade:{post:["addEntrustSheet","cancelEntrustSheet","cancelAllEntrustSheet","coinOut","getUserHistoryEntrustSheet","getUserNowEntrustSheet","getEntrustSheetInfo","depositOrWithdraw","getCoinAddress","getCoinAddressList","marketTrade","addEntrustSheetBatch"]},assets:{post:["getUserAssets"]},contract:{post:["addContractTrade","cancelContractTrade","getContractActivePositions","getContractAccountInfo","getContractMyPositions","getContractOrderResult","getContractTradeResult","getContractOrder","getContractMyHistoryTrade","getContractMyTrades"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{fetchOHLCVVolume:!0,fetchOHLCVWarning:!0,lastNonceTimestamp:0},commonCurrencies:{BOX:"BOX Token",LEO:"LeoCoin",XRB:"NANO",PXC:"Pixiecoin",VTC:"VoteCoin",TTC:"TimesChain"},exceptions:{"-102":r,"-103":d,"-104":n,"-105":d,"-106":n,"-109":d,"-110":l,"-111":o,"-112":f,"-114":p,"-117":d,"-100015":d,"-100044":r,"-100101":r,"-100201":r,"-100301":r,"-100401":r,"-100302":r,"-100303":r,"-200003":d,"-200005":o,"-200025":n,"-200027":c,"-200028":c,"-200029":c,"-200030":c,"-200031":h,"-200032":r,"-200033":r,"-200034":u,"-200035":u,"-200037":c,"-200038":r,"-200055":u,"-300069":d,"-300101":r,"-300102":c,"-300103":d,"-301001":n}})}async fetchMarkets(e={}){const t=await this.marketGetSymbolList(e),i=this.safeValue(t,"data"),s=Object.keys(i),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=i[e],n=this.safeString(t,"id"),o=this.safeString(t,"coinFrom"),c=this.safeString(t,"coinTo");let d=o.toUpperCase(),h=c.toUpperCase();d=this.safeCurrencyCode(d),h=this.safeCurrencyCode(h);const u=d+"/"+h,l=this.safeString(t,"priceFloat"),f=this.parsePrecision(l),p={amount:this.safeInteger(t,"numberFloat"),price:parseInt(l)},g=this.safeString(t,"minTrade");r.push({info:t,id:e,numericId:n,symbol:u,base:d,quote:h,baseId:o,quoteId:c,active:!0,precision:p,limits:{amount:{min:this.parseNumber(g),max:this.safeNumber(t,"maxTrade")},price:{min:this.parseNumber(f),max:void 0},cost:{min:this.parseNumber(m.stringMul(f,g)),max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.assetsPostGetUserAssets(e),i=this.safeValue(t["data"],"info"),s=this.parseMicrotime(this.safeString(t,"microtime")),r={info:t,timestamp:s,datetime:this.iso8601(s)};for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString(e,"name"),s=this.safeCurrencyCode(t),n=this.account();n["used"]=this.safeString(e,"lock"),n["total"]=this.safeString(e,"num"),n["free"]=this.safeString(e,"over"),r[s]=n}return this.parseBalance(r,!1)}parseTicker(e,t){const i=void 0,s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t,"_"),a=this.safeNumber(e,"now"),n=this.safeNumber(e,"open");let o=void 0,c=void 0;return void 0!==a&&void 0!==n&&(o=a-n,c=this.sum(a,n)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:this.safeNumber(e,"priceChange24h"),average:c,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}parseMicrotime(e){if(void 0===e)return e;const t=e.split(" "),i=parseFloat(t[0]),s=parseInt(t[1]),r=this.sum(s,i);return parseInt(1e3*r)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.marketGetTicker(this.extend(s,t)),a=this.parseTicker(r["data"],i),n=this.parseMicrotime(this.safeString(r,"microtime"));return this.extend(a,{timestamp:n,datetime:this.iso8601(n)})}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbols"]=t.join(",")}const s=await this.marketGetTickerall(this.extend(i,t)),r=this.safeValue(s,"data"),a=this.parseMicrotime(this.safeString(s,"microtime")),n={},o=Object.keys(r);for(let c=0;c<o.length;c++){const e=o[c];let t=r[e],i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e]),t=this.parseTicker(r[e],i);let s=t["symbol"];if(void 0===s)if(void 0!==i)s=i["symbol"];else{const[t,i]=e.split("_"),r=this.safeCurrencyCode(t),a=this.safeCurrencyCode(i);s=r+"/"+a}void 0!==s&&(n[s]=this.extend(t,{timestamp:a,datetime:this.iso8601(a)}))}return this.filterByArray(n,"symbol",e)}async fetchTime(e={}){const t=await this.marketGetGetServerTime(e);return this.safeTimestamp(t,"time")}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)},r=await this.marketGetDepth(this.extend(s,i)),a=this.safeValue(r,"data"),n=this.parseMicrotime(this.safeString(r,"microtime"));return this.parseOrderBook(a,e,n)}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeTimestamp(e,"T");let r=void 0;void 0!==t&&(r=t["symbol"]);const a=this.safeString(e,"p"),n=this.safeString(e,"n"),o=this.parseNumber(a),c=this.parseNumber(n),d=this.parseNumber(m.stringMul(a,n)),h=this.safeString(e,"s");return{timestamp:s,datetime:this.iso8601(s),symbol:r,id:i,order:void 0,type:"limit",side:h,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:void 0,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.marketGetOrder(this.extend(a,s));return this.parseTrades(n["data"],r,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const n=1e3*this.parseTimeframe(t),o=this.market(e),c={symbol:o["id"],resolution:this.timeframes[t]};if(void 0!==s)c["size"]=Math.min(s,300),void 0!==i&&(c["to"]=this.sum(i,s*n*1e3));else if(void 0!==i)throw new a(this.id+" fetchOHLCV() requires a limit argument if the since argument is specified");const d=await this.marketGetKline(this.extend(c,r)),h=this.safeValue(d,"data",{}),u=this.safeValue(h,"bars",[]);return this.parseOHLCVs(u,o,t,i,s)}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let s=void 0;if(void 0===t){const i=this.safeString(e,"coinFrom"),r=this.safeString(e,"coinTo");if(void 0!==i&&void 0!==r){const e=i+"_"+r;if(e in this.markets_by_id)t=this.safeValue(this.markets_by_id,e);else{const e=this.safeCurrencyCode(i),t=this.safeCurrencyCode(r);s=e+"/"+t}}}void 0!==t&&(s=t["symbol"]);let r=this.safeString(e,"flag");void 0!==r&&(r="sale"===r?"sell":"buy");const a=this.safeNumber(e,"price"),n=this.safeNumber(e,"number"),o=this.safeNumber(e,"numberOver"),c=this.safeNumber(e,"numberDeal");let d=this.safeInteger(e,"timestamp");void 0===d&&(d=this.safeTimestamp(e,"created"));const h=this.safeNumber(e,"orderTotalPrice"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(d),timestamp:d,lastTradeTimestamp:void 0,status:u,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:r,price:a,stopPrice:void 0,cost:h,amount:n,filled:c,remaining:o,trades:void 0,fee:void 0,info:e,average:void 0})}async createOrder(e,t,i,s,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new r(this.id+" createOrder allows limit orders only");const o=this.market(e),c="buy"===i?"1":"2";if(!this.password)throw new r(this.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');const d={symbol:o["id"],type:c,price:this.priceToPrecision(e,a),number:this.amountToPrecision(e,s),tradePwd:this.password},h=await this.tradePostAddEntrustSheet(this.extend(d,n)),u=this.parseMicrotime(this.safeString(h,"microtime")),l=this.extend({timestamp:u},h["data"]);return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={entrustSheetId:e},r=await this.tradePostCancelEntrustSheet(this.extend(s,i));return r}async cancelOrders(e,t,i={}){await this.loadMarkets();const s={ids:e.join(",")},r=await this.tradePostCancelEntrustSheet(this.extend(s,i));return r}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={entrustSheetId:e},r=await this.tradePostGetEntrustSheetInfo(this.extend(s,i));return this.parseOrder(r["data"])}async fetchOrdersWithMethod(e,t,i,s,r={}){if(void 0===t)throw new a(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={coinFrom:n["baseId"],coinTo:n["quoteId"]};void 0!==s&&(o["page"]=1,o["pageSize"]=s),void 0!==i&&(o["startTime"]=parseInt(i/1e3));const c=await this[e](this.extend(o,r)),d=this.safeValue(c["data"],"data",[]);return this.parseOrders(d,void 0,i,s)}async fetchOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("tradePostGetUserNowEntrustSheet",e,t,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,i,s)}parseTransactionStatus(e){const t={1:"pending",2:"pending",3:"pending",4:"ok",5:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=this.safeInteger(e,"updated");0===i&&(i=void 0);const s=this.safeString(e,"coin"),r=this.safeCurrencyCode(s,t),a=this.safeStringLower(e,"type"),n=this.parseTransactionStatus(this.safeString(e,"status"));let o=void 0;const c=this.safeNumber(e,"network_fee");return void 0!==c&&(o={cost:c,code:r}),{id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"wallet"),tag:this.safeString(e,"memo"),type:a,amount:this.safeNumber(e,"number"),currency:r,status:n,updated:i,fee:o,info:e}}parseTransactionsByType(e,t,i,s,r){const a=[];for(let n=0;n<t.length;n++){const i=this.parseTransaction(this.extend({type:e},t[n]));a.push(i)}return this.filterByCurrencySinceLimit(a,i,s,r)}parseTransactionType(e){const t={deposit:1,withdrawal:2};return this.safeInteger(t,e,e)}async fetchDeposits(e,t,i,s={}){return await this.fetchTransactionsForType("deposit",e,t,i,s)}async fetchWithdrawals(e,t,i,s={}){return await this.fetchTransactionsForType("withdrawal",e,t,i,s)}async fetchTransactionsForType(e,t,i,s,r={}){if(void 0===t)throw new a(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets();const n=this.currency(t),o={coin:n["id"],type:this.parseTransactionType(e)};void 0!==i&&(o["startTime"]=parseInt(i/1e3).toString()),void 0!==s&&(o["page"]=1,o["pageSize"]=s);const c=await this.tradePostDepositOrWithdraw(this.extend(o,r)),d=this.safeValue(c["data"],"data",[]);return this.parseTransactionsByType(e,d,t,i,s)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={coin:a["id"],number:this.currencyToPrecision(e,t),address:i};void 0!==s&&(n["memo"]=s);const o=await this.tradePostCoinOut(this.extend(n,r)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}nonce(){const e=this.seconds();return e>this.options["lastNonceTimestamp"]&&(this.options["lastNonceTimestamp"]=e,this.options["lastNonce"]=1e5),this.options["lastNonce"]=this.sum(this.options["lastNonce"],1),this.options["lastNonce"]}sign(e,t="market",i="GET",s={},r,a){const n=this.implodeHostname(this.urls["api"][t]);let o=n+"/"+this.capitalize(t)+"/"+e,c=void 0;return"market"===t?(c=this.urlencode(s),c.length&&(o+="?"+c)):(this.checkRequiredCredentials(),a=this.rawencode(this.keysort(this.extend({apiKey:this.apiKey,timeStamp:this.seconds(),nonce:this.nonce()},s))),a+="&sign="+this.hash(this.encode(a+this.secret)),r={"Content-type":"application/x-www-form-urlencoded"}),{url:o,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"status");if(void 0!==h){const e=this.id+" "+n;if("200"===h){const t=this.safeInteger(o,"data");if(void 0!==t)throw this.throwExactlyMatchedException(this.exceptions,t,e),new r(e);return}throw this.throwExactlyMatchedException(this.exceptions,h,e),new r(e)}}}},deb0:function(e,t,i){var s=i("5259");s.pki=s.pki||{};var r=e.exports=s.pki.oids=s.oids=s.oids||{};function a(e,t){r[e]=t,r[t]=e}function n(e,t){r[e]=t}a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.5","serialName"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.5.4.13","description"),a("2.16.840.1.113730.1.1","nsCertType"),a("2.16.840.1.113730.1.13","nsComment"),n("2.5.29.1","authorityKeyIdentifier"),n("2.5.29.2","keyAttributes"),n("2.5.29.3","certificatePolicies"),n("2.5.29.4","keyUsageRestriction"),n("2.5.29.5","policyMapping"),n("2.5.29.6","subtreesConstraint"),n("2.5.29.7","subjectAltName"),n("2.5.29.8","issuerAltName"),n("2.5.29.9","subjectDirectoryAttributes"),n("2.5.29.10","basicConstraints"),n("2.5.29.11","nameConstraints"),n("2.5.29.12","policyConstraints"),n("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),n("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),n("2.5.29.20","cRLNumber"),n("2.5.29.21","cRLReason"),n("2.5.29.22","expirationDate"),n("2.5.29.23","instructionCode"),n("2.5.29.24","invalidityDate"),n("2.5.29.25","cRLDistributionPoints"),n("2.5.29.26","issuingDistributionPoint"),n("2.5.29.27","deltaCRLIndicator"),n("2.5.29.28","issuingDistributionPoint"),n("2.5.29.29","certificateIssuer"),n("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),n("2.5.29.33","policyMappings"),n("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),n("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),n("2.5.29.46","freshestCRL"),n("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")},df75:function(e,t,i){var s=i("ca84"),r=i("7839");e.exports=Object.keys||function(e){return s(e,r)}},df7c:function(e,t,i){(function(e){function i(e,t){for(var i=0,s=e.length-1;s>=0;s--){var r=e[s];"."===r?e.splice(s,1):".."===r?(e.splice(s,1),i++):i&&(e.splice(s,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function s(e){"string"!==typeof e&&(e+="");var t,i=0,s=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){i=t+1;break}}else-1===s&&(r=!1,s=t+1);return-1===s?"":e.slice(i,s)}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],s=0;s<e.length;s++)t(e[s],s,e)&&i.push(e[s]);return i}t.resolve=function(){for(var t="",s=!1,a=arguments.length-1;a>=-1&&!s;a--){var n=a>=0?arguments[a]:e.cwd();if("string"!==typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,s="/"===n.charAt(0))}return t=i(r(t.split("/"),(function(e){return!!e})),!s).join("/"),(s?"/":"")+t||"."},t.normalize=function(e){var s=t.isAbsolute(e),n="/"===a(e,-1);return e=i(r(e.split("/"),(function(e){return!!e})),!s).join("/"),e||s||(e="."),e&&n&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function s(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var i=e.length-1;i>=0;i--)if(""!==e[i])break;return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=s(e.split("/")),a=s(i.split("/")),n=Math.min(r.length,a.length),o=n,c=0;c<n;c++)if(r[c]!==a[c]){o=c;break}var d=[];for(c=o;c<r.length;c++)d.push("..");return d=d.concat(a.slice(o)),d.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,s=-1,r=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!r){s=a;break}}else r=!1;return-1===s?i?"/":".":i&&1===s?"/":e.slice(0,s)},t.basename=function(e,t){var i=s(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,i=0,s=-1,r=!0,a=0,n=e.length-1;n>=0;--n){var o=e.charCodeAt(n);if(47!==o)-1===s&&(r=!1,s=n+1),46===o?-1===t?t=n:1!==a&&(a=1):-1!==t&&(a=-1);else if(!r){i=n+1;break}}return-1===t||-1===s||0===a||1===a&&t===s-1&&t===i+1?"":e.slice(t,s)};var a="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i("4362"))},df86:function(e,t,i){},e01a:function(e,t,i){"use strict";var s=i("23e7"),r=i("83ab"),a=i("da84"),n=i("5135"),o=i("861d"),c=i("9bf2").f,d=i("e893"),h=a.Symbol;if(r&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var u={},l=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof l?new h(e):void 0===e?h():h(e);return""===e&&(u[t]=!0),t};d(l,h);var f=l.prototype=h.prototype;f.constructor=l;var p=f.toString,m="Symbol(test)"==String(h("test")),g=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=p.call(e);if(n(u,e))return"";var i=m?t.slice(7,-1):t.replace(g,"$1");return""===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:l})}},e099:function(e,t,i){"use strict";var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,o){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"===typeof e?a(n(e),(function(n){var o=encodeURIComponent(s(n))+i;return r(e[n])?a(e[n],(function(e){return o+encodeURIComponent(s(e))})).join(t):o+encodeURIComponent(s(e[n]))})).join(t):o?encodeURIComponent(s(o))+i+encodeURIComponent(s(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var i=[],s=0;s<e.length;s++)i.push(t(e[s],s));return i}var n=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},e10d:function(e,t,i){var s=i("70ea"),r=s((function(e){return null==e}));e.exports=r},e163:function(e,t,i){var s=i("5135"),r=i("7b0b"),a=i("f772"),n=i("e177"),o=a("IE_PROTO"),c=Object.prototype;e.exports=n?Object.getPrototypeOf:function(e){return e=r(e),s(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,i){var s=i("d039");e.exports=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e21e:function(e,t,i){var s=i("5259");i("6497"),s.cipher=s.cipher||{};var r=e.exports=s.cipher.modes=s.cipher.modes||{};function a(e){if("string"===typeof e&&(e=s.util.createBuffer(e)),s.util.isArray(e)&&e.length>4){var t=e;e=s.util.createBuffer();for(var i=0;i<t.length;++i)e.putByte(t[i])}return s.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function n(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}r.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(e){},r.ecb.prototype.encrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(s=0;s<this._ints;++s)t.putInt32(this._outBlock[s])},r.ecb.prototype.decrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(s=0;s<this._ints;++s)t.putInt32(this._outBlock[s])},r.ecb.prototype.pad=function(e,t){var i=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(i,i),!0},r.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var i=e.length(),s=e.at(i-1);return!(s>this.blockSize<<2)&&(e.truncate(s),!0)},r.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._prev=this._iv.slice(0)}},r.cbc.prototype.encrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var s=0;s<this._ints;++s)this._inBlock[s]=this._prev[s]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(s=0;s<this._ints;++s)t.putInt32(this._prev[s]^this._outBlock[s]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(e,t){var i=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(i,i),!0},r.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var i=e.length(),s=e.at(i-1);return!(s>this.blockSize<<2)&&(e.truncate(s),!0)},r.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(e,t,i){var s=e.length();if(0===s)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&s>=this.blockSize)for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32()^this._outBlock[r],t.putInt32(this._inBlock[r]);else{var a=(this.blockSize-s)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialBlock[r]=e.getInt32()^this._outBlock[r],this._partialOutput.putInt32(this._partialBlock[r]);if(a>0)e.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._partialBlock[r];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!i)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=0}},r.cfb.prototype.decrypt=function(e,t,i){var s=e.length();if(0===s)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&s>=this.blockSize)for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32(),t.putInt32(this._inBlock[r]^this._outBlock[r]);else{var a=(this.blockSize-s)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialBlock[r]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[r]^this._outBlock[r]);if(a>0)e.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._partialBlock[r];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!i)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=0}},r.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(e,t,i){var s=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&s>=this.blockSize)for(var r=0;r<this._ints;++r)t.putInt32(e.getInt32()^this._outBlock[r]),this._inBlock[r]=this._outBlock[r];else{var a=(this.blockSize-s)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(e.getInt32()^this._outBlock[r]);if(a>0)e.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._outBlock[r];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!i)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=0}},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(e,t,i){var s=e.length();if(0===s)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&s>=this.blockSize)for(var r=0;r<this._ints;++r)t.putInt32(e.getInt32()^this._outBlock[r]);else{var a=(this.blockSize-s)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(e.getInt32()^this._outBlock[r]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!i)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=0}n(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,i=s.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?s.util.createBuffer(e.additionalData):s.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=s.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var r=i.length();if(12===r)this._j0=[i.getInt32(),i.getInt32(),i.getInt32(),1];else{this._j0=[0,0,0,0];while(i.length()>0)this._j0=this.ghash(this._hashSubkey,this._j0,[i.getInt32(),i.getInt32(),i.getInt32(),i.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*r)))}this._inBlock=this._j0.slice(0),n(this._inBlock),this._partialBytes=0,t=s.util.createBuffer(t),this._aDataLength=o(8*t.length());var a=t.length()%this.blockSize;a&&t.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];while(t.length()>0)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},r.gcm.prototype.encrypt=function(e,t,i){var s=e.length();if(0===s)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&s>=this.blockSize){for(var r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-s)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(e.getInt32()^this._outBlock[r]);if(a<=0||i){if(i){var o=s%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(r=0;r<this._ints;++r)this._outBlock[r]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!i)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),n(this._inBlock)},r.gcm.prototype.decrypt=function(e,t,i){var s=e.length();if(s<this.blockSize&&!(i&&s>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]^this._hashBlock[r]);s<this.blockSize?this._cipherLength+=s%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(e,t){var i=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=s.util.createBuffer();var r=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,r);var a=[];this.cipher.encrypt(this._j0,a);for(var n=0;n<this._ints;++n)this.tag.putInt32(this._s[n]^a[n]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(i=!1),i},r.gcm.prototype.multiply=function(e,t){for(var i=[0,0,0,0],s=t.slice(0),r=0;r<128;++r){var a=e[r/32|0]&1<<31-r%32;a&&(i[0]^=s[0],i[1]^=s[1],i[2]^=s[2],i[3]^=s[3]),this.pow(s,s)}return i},r.gcm.prototype.pow=function(e,t){for(var i=1&e[3],s=3;s>0;--s)t[s]=e[s]>>>1|(1&e[s-1])<<31;t[0]=e[0]>>>1,i&&(t[0]^=this._R)},r.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],i=0;i<32;++i){var s=i/8|0,r=e[s]>>>4*(7-i%8)&15,a=this._m[i][r];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t},r.gcm.prototype.ghash=function(e,t,i){return t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3],this.tableMultiply(t)},r.gcm.prototype.generateHashTable=function(e,t){for(var i=8/t,s=4*i,r=16*i,a=new Array(r),n=0;n<r;++n){var o=[0,0,0,0],c=n/s|0,d=(s-1-n%s)*t;o[c]=1<<t-1<<d,a[n]=this.generateSubHashTable(this.multiply(o,e),t)}return a},r.gcm.prototype.generateSubHashTable=function(e,t){var i=1<<t,s=i>>>1,r=new Array(i);r[s]=e.slice(0);var a=s>>>1;while(a>0)this.pow(r[2*a],r[a]=[]),a>>=1;a=2;while(a<s){for(var n=1;n<a;++n){var o=r[a],c=r[n];r[a+n]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}a*=2}for(r[0]=[0,0,0,0],a=s+1;a<i;++a){var d=r[a^s];r[a]=[e[0]^d[0],e[1]^d[1],e[2]^d[2],e[3]^d[3]]}return r}},e260:function(e,t,i){"use strict";var s=i("fc6a"),r=i("44d2"),a=i("3f8c"),n=i("69f3"),o=i("7dd0"),c="Array Iterator",d=n.set,h=n.getterFor(c);e.exports=o(Array,"Array",(function(e,t){d(this,{type:c,target:s(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,i=e.kind,s=e.index++;return!t||s>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:s,done:!1}:"values"==i?{value:t[s],done:!1}:{value:[s,t[s]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},e2cc:function(e,t,i){var s=i("6eeb");e.exports=function(e,t,i){for(var r in t)s(e,r,t[r],i);return e}},e372:function(e,t,i){t=e.exports=i("ad71"),t.Stream=t,t.Readable=t,t.Writable=i("dc14"),t.Duplex=i("b19a"),t.Transform=i("27bf"),t.PassThrough=i("780f")},e3db:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},e439:function(e,t,i){var s=i("23e7"),r=i("d039"),a=i("fc6a"),n=i("06cf").f,o=i("83ab"),c=r((function(){n(1)})),d=!o||c;s({target:"Object",stat:!0,forced:d,sham:!o},{getOwnPropertyDescriptor:function(e,t){return n(a(e),t)}})},e49b:function(e,t,i){"use strict";const s=i("90db"),{TICK_SIZE:r}=i("5ea4"),{AuthenticationError:a,BadRequest:n,DDoSProtection:o,ExchangeError:c,ExchangeNotAvailable:d,InsufficientFunds:h,InvalidOrder:u,OrderNotFound:l,PermissionDenied:f,ArgumentsRequired:p}=i("74b0"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitmex",name:"BitMEX",countries:["SC"],version:"v1",userAgent:void 0,rateLimit:2e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",withdraw:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:{public:"https://testnet.bitmex.com",private:"https://testnet.bitmex.com"},logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:{public:"https://www.bitmex.com",private:"https://www.bitmex.com"},www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees",referral:"https://www.bitmex.com/register/upZpOX"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/executionHistory","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{exact:{"Invalid API Key.":a,"This key is disabled.":f,"Access Denied":f,"Duplicate clOrdID":u,"orderQty is invalid":u,"Invalid price":u,"Invalid stopPx for ordType":u},broad:{"Signature not valid":a,overloaded:d,"Account has insufficient Available Balance":h,"Service unavailable":d,"Server Error":c,"Unable to cancel order due to existing state":u}},precisionMode:r,options:{"api-expires":5,fetchOHLCVOpenTimestamp:!0}})}async fetchMarkets(e={}){const t=await this.publicGetInstrumentActiveAndIndices(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r="Unlisted"!==e["state"],a=e["symbol"],n=e["underlying"],o=e["quoteCurrency"],c=n+o,d=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),u=a===c,l=this.safeString2(e,"positionCurrency","quoteCurrency");let f=void 0,p=!1,m=!1;const g=this.safeCurrencyCode(l);let y=a;u?(f="swap",y=d+"/"+h):a.indexOf("B_")>=0?(m=!0,f="prediction"):(p=!0,f="future");const v={amount:void 0,price:void 0},b=this.safeNumber(e,"lotSize"),w=this.safeNumber(e,"tickSize");void 0!==b&&(v["amount"]=b),void 0!==w&&(v["price"]=w);const k={amount:{min:void 0,max:void 0},price:{min:w,max:this.safeNumber(e,"maxPrice")},cost:{min:void 0,max:void 0}},S=g===h?"cost":"amount";k[S]={min:b,max:this.safeNumber(e,"maxOrderQty")},i.push({id:a,symbol:y,base:d,quote:h,baseId:n,quoteId:o,active:r,precision:v,limits:k,taker:this.safeNumber(e,"takerFee"),maker:this.safeNumber(e,"makerFee"),type:f,spot:!1,swap:u,future:p,prediction:m,info:e})}return i}parseBalanceResponse(e){const t={info:e};for(let i=0;i<e.length;i++){const s=e[i],r=this.safeString(s,"currency"),a=this.safeCurrencyCode(r),n=this.account();let o=this.safeString(s,"availableMargin"),c=this.safeString(s,"marginBalance");"BTC"===a&&(o=m.stringDiv(o,"1e8"),c=m.stringDiv(c,"1e8")),n["free"]=o,n["total"]=c,t[a]=n}return this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t={currency:"all"},i=await this.privateGetUserMargin(this.extend(t,e));return this.parseBalanceResponse(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};void 0!==t&&(r["depth"]=t);const a=await this.publicGetOrderBookL2(this.extend(r,i)),n={symbol:e,bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let o=0;o<a.length;o++){const e=a[o],t="Sell"===e["side"]?"asks":"bids",i=this.safeNumber(e,"size"),s=this.safeNumber(e,"price");void 0!==s&&n[t].push([s,i])}return n["bids"]=this.sortBy(n["bids"],0,!0),n["asks"]=this.sortBy(n["asks"],0),n}async fetchOrder(e,t,i={}){const s={filter:{orderID:e}},r=await this.fetchOrders(t,void 0,void 0,this.deepExtend(s,i)),a=r.length;if(1===a)return r[0];throw new l(this.id+": The order "+e+" not found.")}async fetchOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0,a={};void 0!==e&&(r=this.market(e),a["symbol"]=r["id"]),void 0!==t&&(a["startTime"]=this.iso8601(t)),void 0!==i&&(a["count"]=i),a=this.deepExtend(a,s),"filter"in a&&(a["filter"]=this.json(a["filter"]));const n=await this.privateGetOrder(a);return this.parseOrders(n,r,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={filter:{open:!0}};return await this.fetchOrders(e,t,i,this.deepExtend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r=await this.fetchOrders(e,t,i,s);return this.filterBy(r,"status","closed")}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0,a={};void 0!==e&&(r=this.market(e),a["symbol"]=r["id"]),void 0!==t&&(a["startTime"]=this.iso8601(t)),void 0!==i&&(a["count"]=i),a=this.deepExtend(a,s),"filter"in a&&(a["filter"]=this.json(a["filter"]));const n=await this.privateGetExecutionTradeHistory(a);return this.parseTrades(n,r,t,i)}parseLedgerEntryType(e){const t={Withdrawal:"transaction",RealisedPNL:"margin",UnrealisedPNL:"margin",Deposit:"transaction",Transfer:"transfer",AffiliatePayout:"referral"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"transactID"),s=this.safeString(e,"account"),r=this.safeString(e,"tx"),a=void 0,n=this.parseLedgerEntryType(this.safeString(e,"transactType")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t);let d=this.safeNumber(e,"amount");void 0!==d&&(d/=1e8);let h=this.parse8601(this.safeString(e,"transactTime"));void 0===h&&(h=0);let u=this.safeNumber(e,"fee",0);void 0!==u&&(u/=1e8);const l={cost:u,currency:c};let f=this.safeNumber(e,"walletBalance");void 0!==f&&(f/=1e8);const p=this.sum(f,-d);let m=void 0;d<0?(m="out",d=Math.abs(d)):m="in";const g=this.parseTransactionStatus(this.safeString(e,"transactStatus"));return{id:i,info:e,timestamp:h,datetime:this.iso8601(h),direction:m,account:s,referenceId:r,referenceAccount:a,type:n,currency:c,amount:d,before:p,after:f,status:g,fee:l}}async fetchLedger(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.currency(e));const a={};void 0!==i&&(a["count"]=i);const n=await this.privateGetUserWalletHistory(this.extend(a,s));return this.parseLedger(n,r,t,i)}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r={};void 0!==i&&(r["count"]=i);const a=await this.privateGetUserWalletHistory(this.extend(r,s)),n=this.filterByArray(a,"transactType",["Withdrawal","Deposit"],!1);let o=void 0;return void 0!==e&&(o=this.currency(e)),this.parseTransactions(n,o,t,i)}parseTransactionStatus(e){const t={Canceled:"canceled",Completed:"ok",Pending:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"transactID"),s=this.parse8601(this.safeString(e,"transactTime")),r=this.parse8601(this.safeString(e,"timestamp")),a=this.safeStringLower(e,"transactType");let n=void 0,o=void 0,c=void 0;"withdrawal"===a&&(n=this.safeString(e,"address"),o=this.safeString(e,"tx"),c=n);let d=this.safeInteger(e,"amount");void 0!==d&&(d=Math.abs(d)/1e7);let h=this.safeInteger(e,"fee");void 0!==h&&(h/=1e7);const u={cost:h,currency:"BTC"};let l=this.safeString(e,"transactStatus");return void 0!==l&&(l=this.parseTransactionStatus(l)),{info:e,id:i,txid:void 0,timestamp:s,datetime:this.iso8601(s),addressFrom:o,address:n,addressTo:c,tagFrom:void 0,tag:void 0,tagTo:void 0,type:a,amount:d,currency:"BTC",status:l,updated:r,comment:void 0,fee:u}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e);if(!i["active"])throw new c(this.id+": symbol "+e+" is delisted");const s=await this.fetchTickers([e],t),r=this.safeValue(s,e);if(void 0===r)throw new c(this.id+" ticker symbol "+e+" not found");return r}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetInstrumentActiveAndIndices(t),s={};for(let r=0;r<i.length;r++){const e=this.parseTicker(i[r]),t=this.safeString(e,"symbol");void 0!==t&&(s[t]=e)}return this.filterByArray(s,"symbol",e)}parseTicker(e,t){let i=void 0;const s=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,s,t),void 0!==t&&(i=t["symbol"]);const r=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"prevPrice24h"),n=this.safeNumber(e,"lastPrice");let o=void 0,c=void 0;return void 0!==n&&void 0!==a&&(o=n-a,a>0&&(c=o/a*100)),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:void 0,ask:this.safeNumber(e,"askPrice"),askVolume:void 0,vwap:this.safeNumber(e,"vwap"),open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:this.sum(a,n)/2,baseVolume:this.safeNumber(e,"homeNotional24h"),quoteVolume:this.safeNumber(e,"foreignNotional24h"),info:e}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],binSize:this.timeframes[t],partial:!0};void 0!==s&&(n["count"]=s);const o=1e3*this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCVOpenTimestamp",!0);if(void 0!==i){let e=i;c&&(e=this.sum(e,o));const t=this.ymdhms(e);n["startTime"]=t}else n["reverse"]=!0;const d=await this.publicGetTradeBucketed(this.extend(n,r)),h=this.parseOHLCVs(d,a,t,i,s);if(c)for(let u=0;u<h.length;u++)h[u][0]=h[u][0]-o;return h}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeNumber2(e,"avgPx","price"),r=this.safeNumber2(e,"size","lastQty"),a=this.safeString(e,"trdMatchID"),n=this.safeString(e,"orderID"),o=this.safeStringLower(e,"side");let c=this.safeNumber(e,"execCost");void 0!==c&&(c=Math.abs(c)/1e8);let d=void 0;if("execComm"in e){let t=this.safeNumber(e,"execComm");t/=1e8;const i=this.safeString(e,"settlCurrency"),s=this.safeCurrencyCode(i),r=this.safeNumber(e,"commission");d={cost:t,currency:s,rate:r}}let h=void 0;void 0!==d&&(h=d["cost"]<0?"maker":"taker");const u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t),f=this.safeStringLower(e,"ordType");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,id:a,order:n,type:f,takerOrMaker:h,side:o,price:s,cost:c,amount:r,fee:d}}parseOrderStatus(e){const t={New:"open",PartiallyFilled:"open",Filled:"closed",DoneForDay:"open",Canceled:"canceled",PendingCancel:"open",PendingNew:"open",Rejected:"rejected",Expired:"expired",Stopped:"open",Untriggered:"open",Triggered:"open"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={Day:"Day",GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"ordStatus")),s=this.safeString(e,"symbol"),r=this.safeSymbol(s,t),a=this.parse8601(this.safeString(e,"timestamp")),n=this.parse8601(this.safeString(e,"transactTime")),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"orderQty"),d=this.safeNumber(e,"cumQty",0),h=this.safeNumber(e,"avgPx"),u=this.safeString(e,"orderID"),l=this.safeStringLower(e,"ordType"),f=this.safeStringLower(e,"side"),p=this.safeString(e,"clOrdID"),m=this.parseTimeInForce(this.safeString(e,"timeInForce")),g=this.safeNumber(e,"stopPx"),y=this.safeString(e,"execInst"),v="ParticipateDoNotInitiate"===y;return this.safeOrder({info:e,id:u,clientOrderId:p,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:n,symbol:r,type:l,timeInForce:m,postOnly:v,side:f,price:o,stopPrice:g,amount:c,cost:void 0,average:h,filled:d,remaining:void 0,status:i,fee:void 0,trades:void 0})}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==t?a["startTime"]=this.iso8601(t):a["reverse"]=!0,void 0!==i&&(a["count"]=i);const n=await this.publicGetTrade(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o=this.capitalize(t),c={symbol:n["id"],side:this.capitalize(i),orderQty:parseFloat(this.amountToPrecision(e,s)),ordType:o};if("Stop"===o||"StopLimit"===o||"MarketIfTouched"===o||"LimitIfTouched"===o){const t=this.safeNumber2(a,"stopPx","stopPrice");if(void 0===t)throw new p(this.id+" createOrder() requires a stopPx or stopPrice parameter for the "+o+" order type");c["stopPx"]=parseFloat(this.priceToPrecision(e,t)),a=this.omit(a,["stopPx","stopPrice"])}"Limit"!==o&&"StopLimit"!==o&&"LimitIfTouched"!==o||(c["price"]=parseFloat(this.priceToPrecision(e,r)));const d=this.safeString2(a,"clOrdID","clientOrderId");void 0!==d&&(c["clOrdID"]=d,a=this.omit(a,["clOrdID","clientOrderId"]));const h=await this.privatePostOrder(this.extend(c,a));return this.parseOrder(h,n)}async editOrder(e,t,i,s,r,a,n={}){await this.loadMarkets();const o={},c=this.safeString2(n,"origClOrdID","clientOrderId");if(void 0!==c){o["origClOrdID"]=c;const e=this.safeString(n,"clOrdID","clientOrderId");void 0!==e&&(o["clOrdID"]=e),n=this.omit(n,["origClOrdID","clOrdID","clientOrderId"])}else o["orderID"]=e;void 0!==r&&(o["orderQty"]=r),void 0!==a&&(o["price"]=a);const d=await this.privatePutOrder(this.extend(o,n));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.safeString2(i,"clOrdID","clientOrderId"),r={};void 0===s?r["orderID"]=e:(r["clOrdID"]=s,i=this.omit(i,["clOrdID","clientOrderId"]));const a=await this.privateDeleteOrder(this.extend(r,i)),n=this.safeValue(a,0,{}),o=this.safeString(n,"error");if(void 0!==o&&o.indexOf("Unable to cancel order due to existing state")>=0)throw new l(this.id+" cancelOrder() failed: "+o);return this.parseOrder(n)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;void 0!==e&&(s=this.market(e),i["symbol"]=s["id"]);const r=await this.privateDeleteOrderAll(this.extend(i,t));return this.parseOrders(r,s)}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetPosition(t);return i}isFiat(e){return"EUR"===e||"PLN"===e}async withdraw(e,t,i,s,r={}){if(this.checkAddress(i),await this.loadMarkets(),"BTC"!==e)throw new c(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");const a={currency:"XBt",amount:t,address:i},n=await this.privatePostUserRequestWithdrawal(this.extend(a,r));return{info:n,id:this.safeString(n,"transactID")}}handleErrors(e,t,i,s,r,a,d,h,u){if(void 0!==d){if(429===e)throw new o(this.id+" "+a);if(e>=400){const t=this.safeValue(d,"error",{}),i=this.safeString(t,"message"),s=this.id+" "+a;if(this.throwExactlyMatchedException(this.exceptions["exact"],i,s),this.throwBroadlyMatchedException(this.exceptions["broad"],i,s),400===e)throw new n(s);throw new c(s)}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n="/api/"+this.version+"/"+e;if("GET"===i)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{const e=this.safeString(s,"_format");void 0!==e&&(n+="?"+this.urlencode({_format:e}),s=this.omit(s,"_format"))}const o=this.urls["api"][t]+n;if(this.apiKey&&this.secret){let e=i+n,t=this.safeInteger(this.options,"api-expires");r={"Content-Type":"application/json","api-key":this.apiKey},t=this.sum(this.seconds(),t),t=t.toString(),e+=t,r["api-expires"]=t,"POST"!==i&&"PUT"!==i&&"DELETE"!==i||Object.keys(s).length&&(a=this.json(s),e+=a),r["api-signature"]=this.hmac(this.encode(e),this.encode(this.secret))}return{url:o,method:i,body:a,headers:r}}}},e4d3:function(e,t,i){"use strict";var s=i("2b0e");t["a"]=s["a"].extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(e){e?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(e){var t=this;this.originalValue=e,setTimeout((function(){t.isActive=!1}))}}})},e538:function(e,t,i){var s=i("b622");t.f=s},e54b:function(e,t,i){"use strict";var s=function(e){return r(e)&&!a(e)};function r(e){return!!e&&"object"===typeof e}function a(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||c(e)}var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===o}function d(e){return Array.isArray(e)?[]:{}}function h(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v(d(e),e,t):e}function u(e,t,i){return e.concat(t).map((function(e){return h(e,i)}))}function l(e,t){if(!t.customMerge)return v;var i=t.customMerge(e);return"function"===typeof i?i:v}function f(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function p(e){return Object.keys(e).concat(f(e))}function m(e,t){try{return t in e}catch(i){return!1}}function g(e,t){return m(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function y(e,t,i){var s={};return i.isMergeableObject(e)&&p(e).forEach((function(t){s[t]=h(e[t],i)})),p(t).forEach((function(r){g(e,r)||(m(e,r)&&i.isMergeableObject(t[r])?s[r]=l(r,i)(e[r],t[r],i):s[r]=h(t[r],i))})),s}function v(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||u,i.isMergeableObject=i.isMergeableObject||s,i.cloneUnlessOtherwiseSpecified=h;var r=Array.isArray(t),a=Array.isArray(e),n=r===a;return n?r?i.arrayMerge(e,t,i):y(e,t,i):h(t,i)}v.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,i){return v(e,i,t)}),{})};var b=v;e.exports=b},e64b:function(e,t){function i(e,t){return function(){return t.call(this,e.apply(this,arguments))}}e.exports=i},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e683:function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,i){"use strict";var s,r,a,n,o=i("23e7"),c=i("c430"),d=i("da84"),h=i("d066"),u=i("fea9"),l=i("6eeb"),f=i("e2cc"),p=i("d2bb"),m=i("d44e"),g=i("2626"),y=i("861d"),v=i("1c0b"),b=i("19aa"),w=i("8925"),k=i("2266"),S=i("1c7e"),_=i("4840"),O=i("2cf4").set,T=i("b575"),C=i("cdf9"),x=i("44de"),I=i("f069"),E=i("e667"),A=i("69f3"),N=i("94ca"),M=i("b622"),P=i("6069"),B=i("605d"),R=i("2d00"),L=M("species"),V="Promise",D=A.get,q=A.set,j=A.getterFor(V),G=u&&u.prototype,U=u,F=G,H=d.TypeError,z=d.document,K=d.process,W=I.f,$=W,Y=!!(z&&z.createEvent&&d.dispatchEvent),X="function"==typeof PromiseRejectionEvent,Z="unhandledrejection",Q="rejectionhandled",J=0,ee=1,te=2,ie=1,se=2,re=!1,ae=N(V,(function(){var e=w(U),t=e!==String(U);if(!t&&66===R)return!0;if(c&&!F["finally"])return!0;if(R>=51&&/native code/.test(e))return!1;var i=new U((function(e){e(1)})),s=function(e){e((function(){}),(function(){}))},r=i.constructor={};return r[L]=s,re=i.then((function(){}))instanceof s,!re||!t&&P&&!X})),ne=ae||!S((function(e){U.all(e)["catch"]((function(){}))})),oe=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ce=function(e,t){if(!e.notified){e.notified=!0;var i=e.reactions;T((function(){var s=e.value,r=e.state==ee,a=0;while(i.length>a){var n,o,c,d=i[a++],h=r?d.ok:d.fail,u=d.resolve,l=d.reject,f=d.domain;try{h?(r||(e.rejection===se&&le(e),e.rejection=ie),!0===h?n=s:(f&&f.enter(),n=h(s),f&&(f.exit(),c=!0)),n===d.promise?l(H("Promise-chain cycle")):(o=oe(n))?o.call(n,u,l):u(n)):l(s)}catch(p){f&&!c&&f.exit(),l(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&he(e)}))}},de=function(e,t,i){var s,r;Y?(s=z.createEvent("Event"),s.promise=t,s.reason=i,s.initEvent(e,!1,!0),d.dispatchEvent(s)):s={promise:t,reason:i},!X&&(r=d["on"+e])?r(s):e===Z&&x("Unhandled promise rejection",i)},he=function(e){O.call(d,(function(){var t,i=e.facade,s=e.value,r=ue(e);if(r&&(t=E((function(){B?K.emit("unhandledRejection",s,i):de(Z,i,s)})),e.rejection=B||ue(e)?se:ie,t.error))throw t.value}))},ue=function(e){return e.rejection!==ie&&!e.parent},le=function(e){O.call(d,(function(){var t=e.facade;B?K.emit("rejectionHandled",t):de(Q,t,e.value)}))},fe=function(e,t,i){return function(s){e(t,s,i)}},pe=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=te,ce(e,!0))},me=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw H("Promise can't be resolved itself");var s=oe(t);s?T((function(){var i={done:!1};try{s.call(t,fe(me,i,e),fe(pe,i,e))}catch(r){pe(i,r,e)}})):(e.value=t,e.state=ee,ce(e,!1))}catch(r){pe({done:!1},r,e)}}};if(ae&&(U=function(e){b(this,U,V),v(e),s.call(this);var t=D(this);try{e(fe(me,t),fe(pe,t))}catch(i){pe(t,i)}},F=U.prototype,s=function(e){q(this,{type:V,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},s.prototype=f(F,{then:function(e,t){var i=j(this),s=W(_(this,U));return s.ok="function"!=typeof e||e,s.fail="function"==typeof t&&t,s.domain=B?K.domain:void 0,i.parent=!0,i.reactions.push(s),i.state!=J&&ce(i,!1),s.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new s,t=D(e);this.promise=e,this.resolve=fe(me,t),this.reject=fe(pe,t)},I.f=W=function(e){return e===U||e===a?new r(e):$(e)},!c&&"function"==typeof u&&G!==Object.prototype)){n=G.then,re||(l(G,"then",(function(e,t){var i=this;return new U((function(e,t){n.call(i,e,t)})).then(e,t)}),{unsafe:!0}),l(G,"catch",F["catch"],{unsafe:!0}));try{delete G.constructor}catch(ge){}p&&p(G,F)}o({global:!0,wrap:!0,forced:ae},{Promise:U}),m(U,V,!1,!0),g(V),a=h(V),o({target:V,stat:!0,forced:ae},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),o({target:V,stat:!0,forced:c||ae},{resolve:function(e){return C(c&&this===a?U:this,e)}}),o({target:V,stat:!0,forced:ne},{all:function(e){var t=this,i=W(t),s=i.resolve,r=i.reject,a=E((function(){var i=v(t.resolve),a=[],n=0,o=1;k(e,(function(e){var c=n++,d=!1;a.push(void 0),o++,i.call(t,e).then((function(e){d||(d=!0,a[c]=e,--o||s(a))}),r)})),--o||s(a)}));return a.error&&r(a.value),i.promise},race:function(e){var t=this,i=W(t),s=i.reject,r=E((function(){var r=v(t.resolve);k(e,(function(e){r.call(t,e).then(i.resolve,s)}))}));return r.error&&s(r.value),i.promise}})},e6f8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seedWordsList=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},e79f:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,DDoSProtection:d,InvalidOrder:h,AuthenticationError:u}=i("74b0"),l=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"tidex",name:"Tidex",countries:["UK"],rateLimit:2e3,version:"3",userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://gate.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",referral:"https://tidex.com/exchange/?ref=57f5638d9cd7",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]},public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfoExt","getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{DSH:"DASH",EMGO:"MGO",MGO:"WMGO"},exceptions:{exact:{803:h,804:h,805:h,806:h,807:h,831:o,832:o,833:c},broad:{"Invalid pair name":r,"invalid api key":u,"invalid sign":u,"api key dont have trade permission":u,"invalid parameter":h,"invalid order":h,"Requests too often":d,"not available":n,"data unavailable":n,"external service unavailable":n}},options:{fetchTickersMaxLength:2048},orders:{}})}async fetchCurrencies(e={}){const t=await this.webGetCurrency(e),i={};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"symbol"),a=this.safeInteger(e,"amountPoint"),n=this.safeCurrencyCode(r),o=this.safeValue(e,"visible");let c=!0===o;const d=this.safeValue(e,"withdrawEnable"),h=this.safeValue(e,"depositEnable"),u=!0===d,l=!0===h;u&&l||(c=!1);const f=this.safeString(e,"name"),p=this.safeNumber(e,"withdrawFee");i[n]={id:r,code:n,name:f,active:c,precision:a,funding:{withdraw:{active:u,fee:p},deposit:{active:l,fee:this.parseNumber("0")}},limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"withdrawMinAmount"),max:void 0},deposit:{min:this.safeNumber(e,"depositMinAmount"),max:void 0}},info:e}}return i}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=t["pairs"],s=Object.keys(i),r=[];for(let a=0;a<s.length;a++){const e=s[a],t=i[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(t,"decimal_places"),price:this.safeInteger(t,"decimal_places")},f={amount:{min:this.safeNumber(t,"min_amount"),max:this.safeNumber(t,"max_amount")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:this.safeNumber(t,"min_total")}},p=this.safeInteger(t,"hidden"),m=0===p;let g=this.safeString(t,"fee");g=l.stringDiv(g,"100");const y=this.parseNumber(g);r.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:m,taker:y,precision:u,limits:f,info:t})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfoExt(e),i=this.safeValue(t,"return"),s=this.safeTimestamp(i,"server_time"),r={info:t,timestamp:s,datetime:this.iso8601(s)},a=this.safeValue(i,"funds",{}),n=Object.keys(a);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeCurrencyCode(e),i=this.safeValue(a,e,{}),s=this.account();s["free"]=this.safeString(i,"value"),s["used"]=this.safeString(i,"inOrders"),r[t]=s}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),a={pair:s["id"]};void 0!==t&&(a["limit"]=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o=s["id"]in n;if(!o)throw new r(this.id+" "+s["symbol"]+" order book is empty or not available");const c=n[s["id"]];return this.parseOrderBook(c,e)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let s=void 0;if(void 0===e){if(s=this.ids.join("-"),s.length>2048){const e=this.ids.length;throw new r(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else s=this.marketIds(e),s=s.join("-");const a={pair:s};void 0!==t&&(a["limit"]=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};s=Object.keys(n);for(let r=0;r<s.length;r++){const e=s[r],t=this.safeSymbol(e);o[t]=this.parseOrderBook(n[e])}return o}parseTicker(e,t){let i=this.safeTimestamp(e,"updated"),s=void 0;void 0!==t&&(s=t["symbol"],t["active"]||(i=void 0));const r=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol_cur"),quoteVolume:this.safeNumber(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;if(i=i.join("-"),i.length>this.options["fetchTickersMaxLength"]){const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join("-");const s={pair:i},r=await this.publicGetTickerPair(this.extend(s,t)),n={},o=Object.keys(r);for(let a=0;a<o.length;a++){const e=o[a],t=this.safeMarket(e),i=t["symbol"];n[i]=this.parseTicker(r[e],t)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return i[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let s=this.safeString(e,"type");"ask"===s?s="sell":"bid"===s&&(s="buy");const r=this.safeString2(e,"rate","price"),a=this.safeString2(e,"trade_id","tid"),n=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),d=this.safeString(e,"amount"),h=this.parseNumber(r),u=this.parseNumber(d),f=this.parseNumber(l.stringMul(r,d)),p="limit";let m=void 0,g=void 0;const y=this.safeNumber(e,"commission");if(void 0!==y){const t=this.safeString(e,"commissionCurrency"),i=this.safeCurrencyCode(t);g={cost:y,currency:i}}const v=this.safeValue(e,"is_your_order");return void 0!==v&&(m="taker",v&&(m="maker"),void 0===g&&(g=this.calculateFee(c,p,s,u,h,m))),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:c,type:p,side:s,takerOrMaker:m,price:h,amount:u,cost:f,fee:g,info:e}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetTradesPair(this.extend(a,s));if(Array.isArray(n)){const e=n.length;if(0===e)return[]}return this.parseTrades(n[r["id"]],r,t,i)}async createOrder(e,t,i,s,a,n={}){if("market"===t)throw new r(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,amount:this.amountToPrecision(e,s),rate:this.priceToPrecision(e,a)};a=parseFloat(a),s=parseFloat(s);const d=await this.privatePostTrade(this.extend(c,n));let h=void 0,u="open",l=0,f=s;const p=this.safeValue(d,"return");void 0!==p&&(h=this.safeString(p,"order_id"),"0"===h&&(h=this.safeString(p,"init_order_id"),u="closed"),l=this.safeNumber(p,"received",l),f=this.safeNumber(p,"remains",s));const m=this.milliseconds();return this.safeOrder({id:h,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,status:u,symbol:e,type:t,side:i,price:a,cost:void 0,amount:s,remaining:f,filled:l,fee:void 0,info:d,clientOrderId:void 0,average:void 0,trades:void 0})}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={order_id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(s,i))}parseOrderStatus(e){const t={0:"open",1:"closed",2:"canceled",3:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeTimestamp(e,"timestamp_created"),a=this.safeString(e,"pair"),n=this.safeSymbol(a,t);let o=void 0,c=void 0;const d=this.safeNumber(e,"rate");"start_amount"in e?(c=this.safeNumber(e,"start_amount"),o=this.safeNumber(e,"amount")):o=this.safeNumber(e,"amount");const h=void 0;return this.safeOrder({info:e,id:i,clientOrderId:void 0,symbol:n,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,type:"limit",timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:d,stopPrice:void 0,cost:void 0,amount:c,remaining:o,filled:void 0,status:s,fee:h,average:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={order_id:parseInt(e)},r=await this.privatePostOrderInfo(this.extend(s,i));e=e.toString();const a=this.safeValue(r,"return",{}),n=this.safeValue(a,e);return this.parseOrder(this.extend({id:e},n))}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.market(e),r["pair"]=a["id"]);const n=await this.privatePostActiveOrders(this.extend(r,s)),o=this.safeValue(n,"return",[]);return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.market(e),a["pair"]=r["id"]),void 0!==i&&(a["count"]=parseInt(i)),void 0!==t&&(a["since"]=parseInt(t/1e3));const n=await this.privatePostTradeHistory(this.extend(a,s)),o=this.safeValue(n,"return",[]);return this.parseTrades(o,r,t,i)}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o={coinName:n["id"],amount:parseFloat(t),address:i};if(void 0!==s)throw new r(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");const c=await this.privatePostWithdrawCoin(this.extend(o,a));return{info:c,id:c["return"]["tId"]}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t];const o=this.omit(s,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");r={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.implodeParams(e,s),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,s),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),r={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new r(i)}}}}},e893:function(e,t,i){var s=i("5135"),r=i("56ef"),a=i("06cf"),n=i("9bf2");e.exports=function(e,t){for(var i=r(t),o=n.f,c=a.f,d=0;d<i.length;d++){var h=i[d];s(e,h)||o(e,h,c(t,h))}}},e8b5:function(e,t,i){var s=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},e95a:function(e,t,i){var s=i("b622"),r=i("3f8c"),a=s("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||n[a]===e)}},e9b1:function(e,t,i){},ea7c:function(e,t,i){var s=i("5a7c"),r=i("d6ce"),a=i("3e14"),n=s((function(e,t){return r(a(e.length,t),e)}));e.exports=n},eb99:function(e,t,i){var s=i("5259");i("6497");var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],n=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=s.rc2=s.rc2||{},s.rc2.expandKey=function(e,t){"string"===typeof e&&(e=s.util.createBuffer(e)),t=t||128;var i,a=e,n=e.length(),o=t,c=Math.ceil(o/8),d=255>>(7&o);for(i=n;i<128;i++)a.putByte(r[a.at(i-1)+a.at(i-n)&255]);for(a.setAt(128-c,r[a.at(128-c)&d]),i=127-c;i>=0;i--)a.setAt(i,r[a.at(i+1)^a.at(i+c)]);return a};var c=function(e,t,i){var r,c,d,h,u=!1,l=null,f=null,p=null,m=[];for(e=s.rc2.expandKey(e,t),d=0;d<64;d++)m.push(e.getInt16Le());i?(r=function(e){for(d=0;d<4;d++)e[d]+=m[h]+(e[(d+3)%4]&e[(d+2)%4])+(~e[(d+3)%4]&e[(d+1)%4]),e[d]=n(e[d],a[d]),h++},c=function(e){for(d=0;d<4;d++)e[d]+=m[63&e[(d+3)%4]]}):(r=function(e){for(d=3;d>=0;d--)e[d]=o(e[d],a[d]),e[d]-=m[h]+(e[(d+3)%4]&e[(d+2)%4])+(~e[(d+3)%4]&e[(d+1)%4]),h--},c=function(e){for(d=3;d>=0;d--)e[d]-=m[63&e[(d+3)%4]]});var g=function(e){var t=[];for(d=0;d<4;d++){var s=l.getInt16Le();null!==p&&(i?s^=p.getInt16Le():p.putInt16Le(s)),t.push(65535&s)}h=i?0:63;for(var r=0;r<e.length;r++)for(var a=0;a<e[r][0];a++)e[r][1](t);for(d=0;d<4;d++)null!==p&&(i?p.putInt16Le(t[d]):t[d]^=p.getInt16Le()),f.putInt16Le(t[d])},y=null;return y={start:function(e,t){e&&"string"===typeof e&&(e=s.util.createBuffer(e)),u=!1,l=s.util.createBuffer(),f=t||new s.util.createBuffer,p=e,y.output=f},update:function(e){u||l.putBuffer(e);while(l.length()>=8)g([[5,r],[1,c],[6,r],[1,c],[5,r]])},finish:function(e){var t=!0;if(i)if(e)t=e(8,l,!i);else{var s=8===l.length()?8:8-l.length();l.fillWithByte(s,s)}if(t&&(u=!0,y.update()),!i&&(t=0===l.length(),t))if(e)t=e(8,f,!i);else{var r=f.length(),a=f.at(r-1);a>r?t=!1:f.truncate(a)}return t}},y};s.rc2.startEncrypting=function(e,t,i){var r=s.rc2.createEncryptionCipher(e,128);return r.start(t,i),r},s.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},s.rc2.startDecrypting=function(e,t,i){var r=s.rc2.createDecryptionCipher(e,128);return r.start(t,i),r},s.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},edc5:function(e,t,i){"use strict";const s=i("90db"),{AuthenticationError:r,ExchangeError:a,OrderNotFound:n,ArgumentsRequired:o,BadSymbol:c,BadRequest:d,NullResponse:h,InvalidOrder:u,BadResponse:l,NotSupported:f,ExchangeNotAvailable:p,RequestTimeout:m,RateLimitExceeded:g,PermissionDenied:y,InsufficientFunds:v,InvalidAddress:b}=i("74b0"),{TICK_SIZE:w,TRUNCATE:k}=i("5ea4"),S=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"hbtc",name:"HBTC",countries:["CN"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchBidAsk:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/51840849/80134449-70663300-85a7-11ea-8942-e204cdeaab5d.jpg",api:{quote:"https://api.hbtc.com/openapi/quote",contract:"https://api.hbtc.com/openapi/contract",option:"https://api.hbtc.com/openapi/option",public:"https://api.hbtc.com/openapi",private:"https://api.hbtc.com/openapi",zendesk:"https://hbtc.zendesk.com/hc/en-us"},www:"https://www.hbtc.com",referral:"https://www.hbtc.com/register/O2S8NS",doc:"https://github.com/bhexopen/BHEX-OpenApi/tree/master/doc",fees:"https://hbtc.zendesk.com/hc/zh-cn/articles/360009274694"},api:{public:{get:["ping","time","brokerInfo","getOptions"]},quote:{get:["depth","depth/merged","trades","klines","ticker/24hr","ticker/price","ticker/bookTicker","contract/index","contract/depth","contract/depth/merged","contract/trades","contract/klines","contract/ticker/24hr","option/index","option/depth","option/depth/merged","option/trades","option/klines","option/ticker/24hr"]},contract:{get:["insurance","fundingRate","openOrders","historyOrders","getOrder","myTrades","positions","account"],post:["order","modifyMargin"],delete:["order/cancel","order/batchCancel"]},option:{get:["openOrders","positions","historyOrders","myTrades","settlements","account"],post:["order"],delete:["order/cancel"]},private:{get:["order","openOrders","historyOrders","account","myTrades","depositOrders","withdrawalOrders","withdraw/detail","balance_flow"],post:["order","order/test","userDataStream","subAccount/query","transfer","user/transfer","withdraw"],put:["userDataStream"],delete:["order","userDataStream"]}},precisionMode:w,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},exceptions:{exact:{"-1000":a,"-1001":a,"-1002":r,"-1003":g,"-1004":d,"-1005":y,"-1006":l,"-1007":m,"-1014":u,"-1015":g,"-1016":p,"-1020":f,"-1021":d,"-1022":r,"-1100":d,"-1101":d,"-1102":d,"-1103":d,"-1104":d,"-1105":d,"-1106":d,"-1111":d,"-1112":h,"-1114":u,"-1115":u,"-1116":u,"-1117":u,"-1118":u,"-1119":u,"-1120":d,"-1121":c,"-1125":r,"-1127":d,"-1128":d,"-1130":d,"-1131":v,"-1132":u,"-1133":u,"-1134":u,"-1135":u,"-1136":u,"-1137":u,"-1138":u,"-1139":u,"-1140":u,"-1141":u,"-1142":u,"-1143":n,"-1144":u,"-1145":u,"-1146":m,"-1147":m,"-1149":u,"-1187":b,"-2010":u,"-2011":u,"-2013":n,"-2014":r,"-2015":r,"-2016":a}},options:{fetchTickers:{method:"quoteGetTicker24hr"},accountsByType:{trade:1,trading:1,spot:1,option:2,options:2,futures:3,contract:3}},commonCurrencies:{MIS:"Themis Protocol"}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}parseMarket(e,t="spot"){const i=this.safeValue(e,"filters",[]),s=this.safeString(e,"symbol");let r=this.safeString(e,"baseAsset");const a=this.safeString(e,"quoteAsset");let n=this.safeCurrencyCode(r);const o=this.safeCurrencyCode(a);let c=n+"/"+o,d=!0,h=!1,u=!1,l=!1;"future"===t?(c=s,d=!1,h=!0,l=this.safeValue(e,"inverse",!1),r=this.safeString(e,"underlying"),n=this.safeCurrencyCode(r)):"option"===t&&(c=s,d=!1,u=!0);const f=this.safeValue(e,"allowMargin",void 0),p=this.safeValue(e,"isAggregate",void 0);let m=!0;!0===p&&(m=!1);let g=void 0,y=void 0,v=void 0,b=void 0,w=void 0,k=void 0;for(let O=0;O<i.length;O++){const e=i[O],t=this.safeString(e,"filterType");"LOT_SIZE"===t&&(g=this.safeNumber(e,"minQty"),k=this.safeNumber(e,"stepSize")),"PRICE_FILTER"===t&&(y=this.safeNumber(e,"minPrice"),v=this.safeNumber(e,"maxPrice"),w=this.safeNumber(e,"tickSize"))}void 0!==g&&void 0!==y&&(b=g*y);const S={price:w,amount:k,base:this.safeNumber(e,"baseAssetPrecision"),quote:this.safeNumber2(e,"quotePrecision","quoteAssetPrecision")},_={amount:{min:g,max:void 0},price:{min:y,max:v},cost:{min:b,max:void 0}};return{id:s,symbol:c,base:n,quote:o,baseId:r,quoteId:a,active:m,type:t,spot:d,future:h,option:u,margin:f,inverse:l,precision:S,limits:_,info:e}}async fetchMarkets(e={}){const t=await this.publicGetBrokerInfo(e),i=[],s=this.safeValue(t,"symbols",[]);for(let n=0;n<s.length;n++){const e=this.parseMarket(s[n],"spot");i.push(e)}const r=this.safeValue(t,"options",[]);for(let n=0;n<r.length;n++){const e=this.parseMarket(r[n],"option");i.push(e)}const a=this.safeValue(t,"contracts",[]);for(let n=0;n<a.length;n++){const e=this.parseMarket(a[n],"future");i.push(e)}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={symbol:s["id"]};void 0!==t&&(r["limit"]=t);const a=await this.quoteGetDepth(this.extend(r,i)),n=this.safeInteger(a,"time");return this.parseOrderBook(a,e,n)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.quoteGetTicker24hr(this.extend(s,t));return this.parseTicker(r,i)}async fetchBidAsk(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.quoteGetTickerBookTicker(this.extend(s,t));return this.parseTicker(r,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=await this.quoteGetTickerBookTicker(t);return this.parseTickers(i,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"fetchTickers",{}),s=this.safeString(i,"method","quoteGetTicker24hr"),r=this.safeString(i,"type","spot"),a=this.safeString(t,"type",r),n=this.omit(t,"type");let o=s;"future"===a?o="quoteGetContractTicker24hr":"option"===a&&(o="quoteGetOptionTicker24hr");const c=await this[o](n);return this.parseTickers(c,e)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeString(t,"type","spot"),s=this.safeString(e,"type",i),r=this.omit(e,"type");let a="privateGetAccount";"future"===s?a="contractGetAccount":"option"===s&&(a="optionGetAccount");const n=await this[a](r),o=this.safeValue(n,"balances"),c={info:n,timestamp:void 0,datetime:void 0};if(void 0!==o)for(let d=0;d<o.length;d++){const e=o[d],t=this.safeString2(e,"asset","tokenName"),i=this.safeCurrencyCode(t),s=this.account();s["free"]=this.safeString(e,"free"),s["used"]=this.safeString(e,"locked"),c[i]=s}else{const e=Object.keys(n);for(let t=0;t<e.length;t++){const i=e[t],s=this.safeCurrencyCode(i),r=n[i],a=this.account();a["free"]=this.safeString(r,"availableMargin"),a["total"]=this.safeString(r,"total"),c[s]=a}}return this.parseBalance(c,!1)}async fetchTrades(e,t,i=50,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.quoteGetTrades(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n={symbol:a["id"],interval:this.timeframes[t]};void 0!==i&&(n["startTime"]=i),void 0!==s&&(n["limit"]=s);const o=await this.quoteGetKlines(this.extend(n,r));return this.parseOHLCVs(o,a,t,i,s)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={},n=this.safeString(this.options,"type","spot"),c=this.safeValue(this.options,"fetchMyTrades",{}),d=this.safeString(c,"type",n);let h=this.safeString(s,"type",d);void 0!==e&&(r=this.market(e),a["symbol"]=r["id"],h=r["type"]);const u=this.omit(s,"type");void 0!==i&&(a["limit"]=i);let l="privateGetMyTrades";if("future"===h)l="contractGetMyTrades";else if("option"===h)l="optionGetMyTrades";else{if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a `symbol` argument for "+h+" markets");const i=this.market(e);a["symbol"]=i["id"],void 0!==t&&(a["startTime"]=t)}void 0!==t&&(a["startTime"]=t);const f=await this[l](this.extend(a,u));return this.parseTrades(f,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),c=i.toUpperCase(),d=t.toUpperCase(),h={symbol:n["id"],side:c};let l=a,p="privatePostOrder";if("future"===n["type"]){if("BUY_OPEN"!==c&&"SELL_OPEN"!==c&&"BUY_CLOSE"!==c&&"SELL_CLOSE"!==c)throw new f(this.id+" createOrder() does not support order side "+i+" for "+n["type"]+" markets, only BUY_OPEN, SELL_OPEN, BUY_CLOSE and SELL_CLOSE are supported");if("LIMIT"!==d&&"STOP"!==d)throw new f(this.id+" createOrder() does not support order type "+t+" for "+n["type"]+" markets, only LIMIT and STOP are supported");const u=this.safeValue(a,"clientOrderId");if(void 0===u)throw new o(this.id+" createOrder() requires a clientOrderId parameter for "+n["type"]+" markets, supply clientOrderId in the params argument");const l=this.safeValue(a,"leverage");if(void 0===l&&("BUY_OPEN"===c||"SELL_OPEN"===c))throw new f(this.id+" createOrder() requires a leverage parameter for "+n["type"]+" markets if orderSide is BUY_OPEN or SELL_OPEN");p="contractPostOrder";const m=this.safeString(a,"priceType");void 0===m?h["price"]=this.priceToPrecision(e,r):(h["priceType"]=m,"INPUT"===m&&(h["price"]=this.priceToPrecision(e,r))),h["orderType"]=t.toUpperCase(),h["quantity"]=this.amountToPrecision(e,s),h["leverage"]=l,h["clientOrderId"]=u}else{"option"===n["type"]&&(p="optionPostOrder");const o=this.safeValue2(a,"clientOrderId","newClientOrderId");if(void 0!==o&&(h["newClientOrderId"]=o),h["type"]=d,"limit"===t)h["price"]=this.priceToPrecision(e,r),h["quantity"]=this.amountToPrecision(e,s);else if("market"===t)if("buy"===i){const e=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(e){if(void 0===r)throw new u(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument (the exchange-specific behaviour)");s*=r}const t=n["precision"]["price"];h["quantity"]=this.decimalToPrecision(s,k,t,this.precisionMode)}else h["quantity"]=this.amountToPrecision(e,s)}l=this.omit(l,["clientOrderId","newClientOrderId"]);const m=await this[p](this.extend(h,l));return this.parseOrder(m,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const s=this.safeValue2(i,"origClientOrderId","clientOrderId"),r={},a=this.safeString(this.options,"type","spot"),n=this.safeValue(this.options,"cancelOrder",{}),c=this.safeString(n,"type",a);let d=this.safeString(i,"type",c),h=this.omit(i,"type");void 0!==s?(r["origClientOrderId"]=s,h=this.omit(h,["origClientOrderId","clientOrderId"])):r["orderId"]=e;let u="privateDeleteOrder";const l=this.safeString(h,"orderType");if(void 0!==l&&(d="future"),"future"===d){if(u="contractDeleteOrderCancel",void 0===l)throw new o(this.id+" cancelOrder() requires an orderType parameter, pass the { 'orderType': 'LIMIT' } or { 'orderType': 'STOP' } in params argument");r["orderType"]=l}else"option"===d&&(u="optionDeleteOrderCancel");const f=await this[u](this.extend(r,h));return this.parseOrder(f)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={},n=this.safeString(this.options,"type","spot"),o=this.safeValue(this.options,"fetchOpenOrders",{}),c=this.safeString(o,"type",n);let d=this.safeString(s,"type",c);void 0!==e&&(r=this.market(e),a["symbol"]=r["id"],d=r["type"]);const h=this.omit(s,"type");void 0!==i&&(a["limit"]=i);let u="privateGetOpenOrders";"future"===d?u="contractGetOpenOrders":"option"===d&&(u="optionGetOpenOrders");const l=await this[u](this.extend(a,h));return this.parseOrders(l,r,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={},n=this.safeString(this.options,"type","spot"),o=this.safeValue(this.options,"fetchClosedOrders",{}),c=this.safeString(o,"type",n);let d=this.safeString(s,"type",c);void 0!==e&&(r=this.market(e),a["symbol"]=r["id"],d=r["type"]);const h=this.omit(s,"type");void 0!==i&&(a["limit"]=i),void 0!==t&&(a["startTime"]=t);let u="privateGetHistoryOrders";"future"===d?u="contractGetHistoryOrders":"option"===d&&(u="optionGetHistoryOrders");const l=await this[u](this.extend(a,h));return this.parseOrders(l,r,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=this.safeValue2(i,"origClientOrderId","clientOrderId"),r={},a=this.safeString(this.options,"type","spot"),n=this.safeValue(this.options,"fetchOrder",{}),o=this.safeString(n,"type",a),c=this.safeString(i,"type",o);let d=this.omit(i,"type");void 0!==s?(r["origClientOrderId"]=s,d=this.omit(d,["origClientOrderId","clientOrderId"])):r["orderId"]=e;let h="privateGetOrder";"future"===c?h="contractGetGetOrder":"option"===c&&(h="optionGetGetOrder");const u=await this[h](this.extend(r,d));return this.parseOrder(u)}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e)),void 0!==t&&(a["startTime"]=t),void 0!==i&&(a["limit"]=i);const n=await this.privateGetDepositOrders(this.extend(a,s));return this.parseTransactions(n,r,t,i)}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==e&&(r=this.currency(e),a["token"]=r["id"]),void 0!==t&&(a["startTime"]=t),void 0!==i&&(a["limit"]=i);const n=await this.privateGetWithdrawalOrders(this.extend(a,s));return this.parseTransactions(n,r,t,i)}async withdraw(e,t,i,s,r={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.safeString(r,"clientOrderId",this.uuid()),o={clientOrderId:n,tokenId:a["id"],address:i,withdrawQuantity:t};void 0!==s&&(o["addressExt"]=s);const c=await this.privatePostWithdraw(this.extend(o,r));return{info:c,id:this.safeString(c,"orderId")}}async fetchAccounts(e={}){const t=await this.privatePostSubAccountQuery(e),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"accountId"),a=this.safeString(e,"accountType");let n=a;"1"===a?n="spot":"2"===a?n="option":"3"===a&&(n="future"),i.push({id:r,type:n,currency:void 0,info:e})}return i}async fetchLedger(e,t,i,s={}){await this.loadMarkets();const r={accountType:1,accountIndex:0,fromFlowId:"",endFlowId:"",endTime:1588450533040};let a=void 0;void 0!==e&&(a=this.currency(e),r["tokenId"]=a["id"]),void 0!==t&&(r["startTime"]=t),void 0!==i&&(r["limit"]=i);const n=await this.privateGetBalanceFlow(this.extend(r,s));return this.parseLedger(n,a,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"tokenId"),s=this.safeCurrencyCode(i,t),r=this.safeNumber(e,"change"),a=this.safeNumber(e,"total"),n=r<0?"out":"in";let o=void 0;if(void 0!==a&&void 0!==r){const e="out"===n?r:-r;o=this.sum(a,e)}const c=this.safeInteger(e,"created"),d=this.parseLedgerEntryType(this.safeString(e,"flowType")),h=this.safeString(e,"id"),u=this.safeString(e,"accountId");return{id:h,currency:s,account:u,referenceAccount:void 0,referenceId:void 0,status:void 0,amount:r,before:o,after:a,fee:void 0,direction:n,timestamp:c,datetime:this.iso8601(c),type:d,info:e}}parseLedgerEntryType(e){const t={TRADE:"trade",FEE:"fee",TRANSFER:"transfer",DEPOSIT:"transaction",MAKER_REWARD:"rebate",PNL:"pnl",SETTLEMENT:"settlement",LIQUIDATION:"liquidation",FUNDING_SETTLEMENT:"settlement",USER_ACCOUNT_TRANSFER:"transfer",OTC_BUY_COIN:"trade",OTC_SELL_COIN:"trade",OTC_FEE:"fee",OTC_TRADE:"trade",ACTIVITY_AWARD:"referral",INVITATION_REFERRAL_BONUS:"referral",REGISTER_BONUS:"referral",AIRDROP:"airdrop",MINE_REWARD:"reward"};return this.safeString(t,e,e)}parseTransactionStatus(e){const t={BROKER_AUDITING_STATUS:"pending",BROKER_REJECT_STATUS:"failed",AUDITING_STATUS:"pending",AUDIT_REJECT_STATUS:"failed",PROCESSING_STATUS:"pending",WITHDRAWAL_SUCCESS_STATUS:"ok",WITHDRAWAL_FAILURE_STATUS:"failed",BLOCK_MINING_STATUS:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"orderId"),s=this.safeString(e,"address");let r=this.safeString2(e,"addressExt","addressTag");void 0!==r&&r.length<1&&(r=void 0);const a=this.safeString(e,"fromAddress");let n=this.safeString(e,"fromAddressTag");void 0!==n&&n.length<1&&(n=void 0);const o=this.safeString(e,"tokenId"),c=this.safeCurrencyCode(o,t),d=this.safeInteger(e,"time");let h=this.safeString(e,"txid");""===h&&(h=void 0);let u=void 0,l=this.parseTransactionStatus(this.safeString(e,"statusCode"));void 0===l?(u="deposit",l="ok"):u="withdrawal";const f=this.safeNumber(e,"quantity"),p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"feeTokenId"),i=this.safeCurrencyCode(t);m={currency:i,cost:p}}return{info:e,id:i,txid:h,timestamp:d,datetime:this.iso8601(d),addressFrom:a,address:s,addressTo:s,tagFrom:n,tag:r,tagTo:r,type:u,amount:f,currency:c,status:l,updated:void 0,fee:m}}parseTicker(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t),r=this.safeInteger(e,"time"),a=this.safeNumber(e,"openPrice"),n=this.safeNumber(e,"lastPrice");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(o=n-a,d=this.sum(a,n)/2,void 0!==n&&n>0&&(c=o/a*100));const h=this.safeNumber(e,"quoteVolume"),u=this.safeNumber(e,"volume"),l=this.vwap(u,h);return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber2(e,"bestBidPrice","bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber2(e,"bestAskPrice","askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:l,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:u,quoteVolume:h,info:e}}parseTrade(e,t){const i=this.safeString(e,"id"),s=this.safeNumber(e,"time"),r=void 0,a=this.safeString(e,"orderId"),n=this.safeString(e,"price"),o=this.safeString(e,"qty"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(S.stringMul(n,o));let u=void 0,l=void 0;if("isBuyerMaker"in e)u=e["isBuyerMaker"]?"sell":"buy";else{const t=this.safeValue(e,"isMaker");void 0!==t&&(l=t?"maker":"taker");const i=this.safeValue(e,"isBuyer");u=i?"buy":"sell"}let f=void 0;const p=this.safeNumber(e,"commission");if(void 0!==p){const t=this.safeString(e,"commissionAsset"),i=this.safeCurrencyCode(t);f={cost:p,currency:i}}let m=void 0;return void 0===m&&void 0!==t&&(m=t["symbol"]),{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:m,type:r,order:a,side:u,takerOrMaker:l,price:c,amount:d,cost:h,fee:f}}parseOrder(e,t){const i=this.safeString(e,"orderId"),s=this.safeString(e,"clientOrderId");let r=this.safeInteger(e,"time");void 0===r&&(r=this.safeInteger(e,"transactTime"));const a=this.safeString(e,"symbol"),n=this.safeSymbol(a,t);let o=this.safeStringLower(e,"type");const c=this.safeStringLower(e,"side");let d=this.safeNumber(e,"price"),h=this.safeNumber(e,"avgPrice"),u=void 0,l=this.safeNumber(e,"cummulativeQuoteQty"),f=void 0,p=void 0;void 0===o?(o=this.safeStringLower(e,"orderType"),void 0!==t&&t["inverse"]&&(l=this.safeNumber(e,"executedQty"),u=void 0),0===l&&(f=0)):(u=this.safeNumber(e,"origQty"),"market"===o&&(d=void 0,"buy"===c&&(u=void 0)),f=this.safeNumber(e,"executedQty"),void 0!==f&&void 0!==u&&(p=u-f)),0===h&&(h=void 0);const m=this.parseOrderStatus(this.safeString(e,"status")),g=this.safeString(e,"timeInForce"),y=this.safeNumber(e,"stopPrice"),v={info:e,id:i,clientOrderId:s,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:o,timeInForce:g,side:c,price:d,stopPrice:y,average:h,cost:l,amount:u,filled:f,remaining:p,status:m,trades:void 0,fee:void 0,fees:void 0},b=this.safeValue(e,"fees",[]),w=b.length;if(w>0){v["fees"]=[];for(let e=0;e<b.length;e++){const t=this.safeNumber(b[e],"fee");if(void 0!==t){const i=this.safeString(b[e],"feeToken"),s=this.safeCurrencyCode(i);v["fees"].push({cost:t,currency:s})}}}return v}parseOrderStatus(e){const t={NEW:"open",CANCELED:"canceled",FILLED:"closed",PARTIALLY_FILLED:"open",PENDING_CANCEL:"canceled"};return this.safeString(t,e,e)}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e)),c="contract"===t&&("insurance"===e||"fundingRate"===e);if("public"===t||"quote"===t||c)Object.keys(s).length&&(n+="?"+this.urlencode(s));else{const e=this.milliseconds();this.checkRequiredCredentials();const t=this.extend({timestamp:e},o),s=this.urlencode(t),c=this.hmac(this.encode(s),this.encode(this.secret),"sha256");t["signature"]=c,r={"X-BH-APIKEY":this.apiKey},"POST"===i?(a=this.urlencode(t),r=this.extend({"Content-Type":"application/x-www-form-urlencoded"},r)):n+="?"+this.urlencode(t)}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0!==o&&"code"in o){const e=this.safeString(o,"code");if("0"!==e){const t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),new a(t)}}}}},edee:function(e,t,i){var s=i("70ea"),r=i("02ff"),a=i("97ba"),n=!{toString:null}.propertyIsEnumerable("toString"),o=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),d=function(e,t){var i=0;while(i<e.length){if(e[i]===t)return!0;i+=1}return!1},h="function"!==typeof Object.keys||c?s((function(e){if(Object(e)!==e)return[];var t,i,s=[],h=c&&a(e);for(t in e)!r(t,e)||h&&"length"===t||(s[s.length]=t);if(n){i=o.length-1;while(i>=0)t=o[i],r(t,e)&&!d(s,t)&&(s[s.length]=t),i-=1}return s})):s((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=h},ee6f:function(e,t,i){},eeda:function(e,t,i){"use strict";function s(){for(var e,t=[],i=0;i<256;i++){e=i;for(var s=0;s<8;s++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}var r=s();function a(e,t,i,s){var a=r,n=s+i;e^=-1;for(var o=s;o<n;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}e.exports=a},ef50:function(e,t,i){"use strict";const s=i("90db"),r=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"lykke",name:"Lykke",countries:["CH"],version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchTrades:!0,fetchMyTrades:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0},timeframes:{"1m":"Minute","5m":"Min5","15m":"Min15","30m":"Min30","1h":"Hour","4h":"Hour4","6h":"Hour6","12h":"Hour12","1d":"Day","1w":"Week","1M":"Month"},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api"},test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["AssetPairs/rate","AssetPairs/rate/{assetPairId}","AssetPairs/dictionary/{market}","Assets/dictionary","Candles/history/{market}/available","Candles/history/{market}/{assetPair}/{period}/{type}/{from}/{to}","Company/ownershipStructure","Company/registrationsCount","IsAlive","Market","Market/{market}","Market/capitalization/{market}","OrderBook","OrderBook/{assetPairId}","Trades/{AssetPairId}","Trades/Last/{assetPair}/{n}"],post:["AssetPairs/rate/history","AssetPairs/rate/history/{assetPairId}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets","History/trades"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel","Orders/v2/market","Orders/v2/limit","Orders/stoplimit","Orders/bulk"],delete:["Orders","Orders/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}},commonCurrencies:{CAN:"CanYaCoin",XPD:"Lykke XPD"}})}parseTrade(e,t){const i=this.safeString(e,"AssetPairId"),s=this.safeSymbol(i,t),a=this.safeString2(e,"id","Id"),n=this.safeString(e,"OrderId"),o=this.parse8601(this.safeString2(e,"dateTime","DateTime")),c=this.safeString2(e,"price","Price");let d=this.safeString2(e,"volume","Amount"),h=this.safeStringLower(e,"action");void 0===h&&(h="-"===d[0]?"sell":"buy"),d=r.stringAbs(d);const u=this.parseNumber(c),l=this.parseNumber(d),f=this.parseNumber(r.stringMul(c,d)),p={cost:0,currency:t["quote"]};return{id:a,info:e,timestamp:o,datetime:this.iso8601(o),symbol:s,type:void 0,order:n,side:h,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:p}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e);void 0===i&&(i=100);const a={AssetPairId:r["id"],skip:0,take:i},n=await this.mobileGetTradesAssetPairId(this.extend(a,s));return this.parseTrades(n,r,t,i)}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==i&&(r["take"]=i),void 0!==e&&(a=this.market(e),r["assetPairId"]=a["id"]);const n=await this.privateGetHistoryTrades(this.extend(r,s));return this.parseTrades(n,a,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"AssetId"),a=this.safeCurrencyCode(r),n=this.account();n["total"]=this.safeString(e,"Balance"),n["used"]=this.safeString(e,"Reserved"),i[a]=n}return this.parseBalance(i,!1)}async cancelOrder(e,t,i={}){const s={id:e};return await this.privateDeleteOrdersId(this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;return void 0!==e&&(s=this.market(e),i["assetPairId"]=s["id"]),await this.privateDeleteOrders(this.extend(i,t))}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.market(e),o={AssetPairId:n["id"],OrderAction:this.capitalize(i),Volume:s,Asset:n["baseId"]};"limit"===t&&(o["Price"]=r);const c="privatePostOrdersV2"+this.capitalize(t),d=await this[c](this.extend(o,a)),h=this.safeString(d,"Id");return r=this.safeNumber(d,"Price"),{id:h,info:d,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:r,amount:s,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=this.safeString(e,"Id"),a=this.safeString(e,"Name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeString(e,"Accuracy"),l=this.parsePrecision(u),f={price:parseInt(u),amount:this.safeInteger(e,"InvertedAccuracy")};i.push({id:r,symbol:h,base:c,quote:d,active:!0,info:e,precision:f,limits:{amount:{min:this.safeNumber(e,"MinVolume"),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:this.safeNumber(e,"MinInvertedVolume"),max:void 0}},baseId:void 0,quoteId:void 0})}return i}parseTicker(e,t){const i=this.milliseconds();let s=void 0;t&&(s=t["symbol"]);const r=this.safeNumber(e,"lastPrice");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume24H"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={market:i["id"]},r=await this.mobileGetMarketMarket(this.extend(s,t));return this.parseTicker(r,i)}parseOrderStatus(e){const t={Open:"open",Pending:"open",InOrderBook:"open",Processing:"open",Matched:"closed",Cancelled:"canceled",Rejected:"rejected",Replaced:"canceled",Placed:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"Status")),s=this.safeString(e,"AssetPairId"),r=this.safeSymbol(s,t),a=this.parse8601(this.safeString(e,"LastMatchTime"));let n=void 0;"Registered"in e&&e["Registered"]?n=this.parse8601(e["Registered"]):"CreatedAt"in e&&e["CreatedAt"]&&(n=this.parse8601(e["CreatedAt"]));const o=this.safeNumber(e,"Price");let c=void 0,d=this.safeNumber(e,"Volume");d<0?(c="sell",d=Math.abs(d)):c="buy";const h=Math.abs(this.safeNumber(e,"RemainingVolume")),u=this.safeString(e,"Id");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:a,symbol:r,type:void 0,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:void 0,cost:void 0,average:void 0,amount:d,filled:void 0,remaining:h,status:i,fee:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e},r=await this.privateGetOrdersId(this.extend(s,i));return this.parseOrder(r)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r=await this.privateGetOrders(s);let a=void 0;return void 0!==e&&(a=this.market(e)),this.parseOrders(r,a,t,i)}async fetchOpenOrders(e,t,i,s={}){const r={status:"InOrderBook"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"Matched"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=await this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(e)},i)),r={timestamp:void 0,bids:[],asks:[]};let a=void 0;for(let n=0;n<s.length;n++){const e=s[n];e["IsBuy"]?r["bids"]=this.arrayConcat(r["bids"],e["Prices"]):r["asks"]=this.arrayConcat(r["asks"],e["Prices"]);const t=this.parse8601(e["Timestamp"]);a=void 0===a?t:Math.max(a,t)}return this.parseOrderBook(r,e,a,"bids","asks","Price","Volume")}parseBidAsk(e,t=0,i=1){const s=this.safeNumber(e,t);let r=this.safeNumber(e,i);return r<0&&(r=-r),[s,r]}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"][t]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));return"mobile"===t||"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"private"===t&&("GET"!==i&&"DELETE"!==i||Object.keys(o).length&&(n+="?"+this.urlencode(o)),this.checkRequiredCredentials(),r={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===i&&Object.keys(s).length&&(a=this.json(s))),{url:n,method:i,body:a,headers:r}}}},efc3:function(e,t,i){"use strict";var s=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,a=i.call(e),n=[];try{while((void 0===t||t-- >0)&&!(s=a.next()).done)n.push(s.value)}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}return n},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=i("abf9");t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return Uint8Array.from(r(e,a._fromIn(t)))}),new Uint8Array(0))},t.split=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=t.reduce((function(e,t){return{arr:e.arr.slice(t),r:r(e.r,[e.arr.slice(0,t)])}}),{arr:a._fromIn(e),r:[]}),n=s.r,o=s.arr;return r(n,[o])}},f069:function(e,t,i){"use strict";var s=i("1c0b"),r=function(e){var t,i;this.promise=new e((function(e,s){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=s})),this.resolve=s(t),this.reject=s(i)};e.exports.f=function(e){return new r(e)}},f0be:function(e,t,i){"use strict";var s=t;s.base=i("ce75"),s.short=i("6405"),s.mont=i("c3f2"),s.edwards=i("8df3")},f183:function(e,t,i){var s=i("d012"),r=i("861d"),a=i("5135"),n=i("9bf2").f,o=i("90e3"),c=i("bb2f"),d=o("meta"),h=0,u=Object.isExtensible||function(){return!0},l=function(e){n(e,d,{value:{objectID:"O"+h++,weakData:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,d)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[d].objectID},p=function(e,t){if(!a(e,d)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[d].weakData},m=function(e){return c&&g.REQUIRED&&u(e)&&!a(e,d)&&l(e),e},g=e.exports={REQUIRED:!1,fastKey:f,getWeakData:p,onFreeze:m};s[d]=!0},f29a:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s,r=i("9ab4"),a=i("53a4"),n=(s={},s[a["a"].SIGNER_OPTIONS]=a["h"],s[a["a"].NETWORK_BYTE]=a["f"],s[a["a"].PROVIDER_INTERFACE]=a["j"],s[a["a"].API_ARGUMENTS]=a["b"],s[a["a"].PROVIDER_CONNECT]=a["i"],s[a["a"].ENSURE_PROVIDER]=a["d"],s[a["a"].PROVIDER_INTERNAL]=a["k"],s[a["a"].NOT_AUTHORIZED]=a["c"],s[a["a"].NETWORK_ERROR]=a["g"],s),o=function(e){return function(t,i){var s,a=new((s=n[t]).bind.apply(s,Object(r["f"])([void 0],i||[])));throw e.log(a.toString()),a}}},f2e7:function(e,t,i){"use strict";i.d(t,"b",(function(){return a}));var s=i("ade3"),r=i("2b0e");function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return r["a"].extend({name:"toggleable",model:{prop:t,event:i},props:Object(s["a"])({},t,{required:!1}),data:function(){return{isActive:!!this[t]}},watch:(e={},Object(s["a"])(e,t,(function(e){this.isActive=!!e})),Object(s["a"])(e,"isActive",(function(e){!!e!==this[t]&&this.$emit(i,e)})),e)})}var n=a();t["a"]=n},f2eb:function(e,t,i){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeStateUpdate=t.addStateUpdateField=void 0;var r=i("52e4"),a=i("3ee4");function n(e){if(e.type===a.TRANSACTION_TYPE.INVOKE_SCRIPT&&e.stateChanges.invokes&&e.stateChanges.invokes.length){var t=e.payment?e.payment.map((function(e){return{assetId:e.assetId,amount:e.amount}})):[];return Object.defineProperty(e,"stateUpdate",{get:function(){return o(e.stateChanges,t,e.dApp,e.sender)}})}return e}function o(e,t,i,a){var n=t.map((function(e){return{payment:e,dApp:i,sender:a}})),o=function(e,t){return e.map((function(e){var r;return s(s({},e),(r={},r[t]=i,r))}))},c=o(e.transfers,"sender"),d=o(e.leases,"sender"),h=o(e.issues,"address"),u=o(e.data,"address"),l=o(e.reissues,"address"),f=o(e.burns,"address"),p=o(e.sponsorFees,"address"),m=o(e.leaseCancels,"address"),g={payments:n,data:u,transfers:c,reissues:l,issues:h,burns:f,sponsorFees:p,leases:d,leaseCancels:m},y=function(e,t){e.invokes.length&&e.invokes.forEach((function(e){e.payment&&e.payment.forEach((function(i){var s=n.findIndex((function(s){return s.payment.assetId===i.assetId&&s.dApp===e.dApp&&t===e.dApp}));-1!==s?n[s].payment.amount=new r.BigNumber(n[s].payment.amount).add(i.amount).toNumber():n.push({payment:i,sender:t,dApp:e.dApp})})),e.stateChanges.data.forEach((function(t){var i=g.data.findIndex((function(e){return e.key===t.key}));-1!==i?g.data[i]=s(s({},t),{address:e.dApp}):g.data.push(s(s({},t),{address:e.dApp}))})),e.stateChanges.burns.forEach((function(t){var i=g.burns.findIndex((function(e){return e.assetId===t.assetId}));-1!==i?g.burns[i].quantity+=t.quantity:g.burns.push(s(s({},t),{address:e.dApp}))})),e.stateChanges.issues.forEach((function(t){return g.issues.push(s(s({},t),{address:e.dApp}))})),e.stateChanges.reissues.forEach((function(t){var i=g.reissues.findIndex((function(e){return e.assetId===t.assetId}));-1!==i?g.reissues[i].quantity+=t.quantity:g.reissues.push(s(s({},t),{address:e.dApp}))})),e.stateChanges.transfers.forEach((function(t){var i=g.transfers.findIndex((function(i){return i.asset===t.asset&&i.address===t.address&&e.dApp===i.sender}));-1!==i?g.transfers[i].amount=new r.BigNumber(g.transfers[i].amount).add(t.amount).toNumber():g.transfers.push(s(s({},t),{sender:e.dApp}))})),e.stateChanges.sponsorFees.forEach((function(t){var i=g.sponsorFees.findIndex((function(i){return i.assetId===t.assetId&&i.address===e.dApp}));-1!==i?g.sponsorFees[i]=s(s({},t),{address:e.dApp}):g.sponsorFees.push(s(s({},t),{address:e.dApp}))})),e.stateChanges.leases.forEach((function(t){return g.leases.push(s(s({},t),{sender:e.dApp}))})),e.stateChanges.leaseCancels.forEach((function(t){return g.leaseCancels.push(s(s({},t),{address:e.dApp}))})),y(e.stateChanges,e.dApp)}))};return y(e,a),g}t.addStateUpdateField=n,t.makeStateUpdate=o},f309:function(e,t,i){"use strict";i.d(t,"a",(function(){return Be}));var s={};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}i.r(s),i.d(s,"linear",(function(){return A})),i.d(s,"easeInQuad",(function(){return N})),i.d(s,"easeOutQuad",(function(){return M})),i.d(s,"easeInOutQuad",(function(){return P})),i.d(s,"easeInCubic",(function(){return B})),i.d(s,"easeOutCubic",(function(){return R})),i.d(s,"easeInOutCubic",(function(){return L})),i.d(s,"easeInQuart",(function(){return V})),i.d(s,"easeOutQuart",(function(){return D})),i.d(s,"easeInOutQuart",(function(){return q})),i.d(s,"easeInQuint",(function(){return j})),i.d(s,"easeOutQuint",(function(){return G})),i.d(s,"easeInOutQuint",(function(){return U}));i("159b"),i("caad"),i("2532");var o=i("2b0e"),c=i("d9bd");function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!d.installed){d.installed=!0,o["a"]!==e&&Object(c["b"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");var i=t.components||{},s=t.directives||{};for(var r in s){var a=s[r];e.directive(r,a)}(function t(i){if(i){for(var s in i){var r=i[s];r&&!t(r.$_vuetify_subcomponents)&&e.component(s,r)}return!0}return!1})(i),e.$_vuetify_installed||(e.$_vuetify_installed=!0,e.mixin({beforeCreate:function(){var t=this.$options;t.vuetify?(t.vuetify.init(this,this.$ssrContext),this.$vuetify=e.observable(t.vuetify.framework)):this.$vuetify=t.parent&&t.parent.$vuetify||this},beforeMount:function(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted:function(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}}var h=i("15fd");function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}i("4ae1"),i("3410");function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=i("7037"),g=i.n(m);function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!==g()(t)&&"function"!==typeof t?y(e):t}function b(e){var t=p();return function(){var i,s=f(e);if(t){var r=f(this).constructor;i=Reflect.construct(s,arguments,r)}else i=s.apply(this,arguments);return v(this,i)}}i("95ed");var w={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}},k={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:w},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}},S=i("80d2"),_=function(){function e(){r(this,e),this.framework={}}return n(e,[{key:"init",value:function(e,t){}}]),e}(),O=["preset"],T=function(e){l(i,e);var t=b(i);function i(e,s){var a;r(this,i),a=t.call(this);var n=Object(S["y"])({},k),o=s.userPreset,d=o.preset,u=void 0===d?{}:d,l=Object(h["a"])(o,O);return null!=u.preset&&Object(c["c"])("Global presets do not support the **preset** option, it can be safely omitted"),s.preset=Object(S["y"])(Object(S["y"])(n,u),l),a}return i}(_);T.property="presets";var C=i("ade3"),x=(i("07ac"),function(e){l(i,e);var t=b(i);function i(){var e;return r(this,i),e=t.apply(this,arguments),e.bar=0,e.top=0,e.left=0,e.insetFooter=0,e.right=0,e.bottom=0,e.footer=0,e.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}},e}return n(i,[{key:"register",value:function(e,t,i){this.application[t]=Object(C["a"])({},e,i),this.update(t)}},{key:"unregister",value:function(e,t){null!=this.application[t][e]&&(delete this.application[t][e],this.update(t))}},{key:"update",value:function(e){this[e]=Object.values(this.application[e]).reduce((function(e,t){return e+t}),0)}}]),i}(_));x.property="application";i("b0c0");var I=function(e){l(i,e);var t=b(i);function i(e){var s;r(this,i),s=t.call(this),s.xs=!1,s.sm=!1,s.md=!1,s.lg=!1,s.xl=!1,s.xsOnly=!1,s.smOnly=!1,s.smAndDown=!1,s.smAndUp=!1,s.mdOnly=!1,s.mdAndDown=!1,s.mdAndUp=!1,s.lgOnly=!1,s.lgAndDown=!1,s.lgAndUp=!1,s.xlOnly=!1,s.name="xs",s.height=0,s.width=0,s.mobile=!0,s.resizeTimeout=0;var a=e[i.property],n=a.mobileBreakpoint,o=a.scrollBarWidth,c=a.thresholds;return s.mobileBreakpoint=n,s.scrollBarWidth=o,s.thresholds=c,s}return n(i,[{key:"init",value:function(){this.update(),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?0:this.getClientHeight(),i=e?0:this.getClientWidth(),s=i<this.thresholds.xs,r=i<this.thresholds.sm&&!s,a=i<this.thresholds.md-this.scrollBarWidth&&!(r||s),n=i<this.thresholds.lg-this.scrollBarWidth&&!(a||r||s),o=i>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=t,this.width=i,this.xs=s,this.sm=r,this.md=a,this.lg=n,this.xl=o,this.xsOnly=s,this.smOnly=r,this.smAndDown=(s||r)&&!(a||n||o),this.smAndUp=!s&&(r||a||n||o),this.mdOnly=a,this.mdAndDown=(s||r||a)&&!(n||o),this.mdAndUp=!(s||r)&&(a||n||o),this.lgOnly=n,this.lgAndDown=(s||r||a||n)&&!o,this.lgAndUp=!(s||r||a)&&(n||o),this.xlOnly=o,!0){case s:this.name="xs";break;case r:this.name="sm";break;case a:this.name="md";break;case n:this.name="lg";break;default:this.name="xl";break}if("number"!==typeof this.mobileBreakpoint){var c={xs:0,sm:1,md:2,lg:3,xl:4},d=c[this.name],h=c[this.mobileBreakpoint];this.mobile=d<=h}else this.mobile=i<parseInt(this.mobileBreakpoint,10)}},{key:"onResize",value:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}},{key:"getClientWidth",value:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},{key:"getClientHeight",value:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}]),i}(_);I.property="breakpoint";var E=i("5530"),A=(i("d3b7"),function(e){return e}),N=function(e){return Math.pow(e,2)},M=function(e){return e*(2-e)},P=function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},B=function(e){return Math.pow(e,3)},R=function(e){return Math.pow(--e,3)+1},L=function(e){return e<.5?4*Math.pow(e,3):(e-1)*(2*e-2)*(2*e-2)+1},V=function(e){return Math.pow(e,4)},D=function(e){return 1-Math.pow(--e,4)},q=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},j=function(e){return Math.pow(e,5)},G=function(e){return 1+Math.pow(--e,5)},U=function(e){return e<.5?16*Math.pow(e,5):1+16*Math.pow(--e,5)};function F(e){if("number"===typeof e)return e;var t=K(e);if(!t)throw"string"===typeof e?new Error('Target element "'.concat(e,'" not found.')):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received ".concat(z(e)," instead."));var i=0;while(t)i+=t.offsetTop,t=t.offsetParent;return i}function H(e){var t=K(e);if(t)return t;throw"string"===typeof e?new Error('Container element "'.concat(e,'" not found.')):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received ".concat(z(e)," instead."))}function z(e){return null==e?e:e.constructor.name}function K(e){return"string"===typeof e?document.querySelector(e):e&&e._isVue?e.$el:e instanceof HTMLElement?e:null}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(E["a"])({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},t),r=H(i.container);if(i.appOffset&&W.framework.application){var a=r.classList.contains("v-navigation-drawer"),n=r.classList.contains("v-navigation-drawer--clipped"),o=W.framework.application,c=o.bar,d=o.top;i.offset+=c,a&&!n||(i.offset+=d)}var h,u=performance.now();h="number"===typeof e?F(e)-i.offset:F(e)-F(r)-i.offset;var l=r.scrollTop;if(h===l)return Promise.resolve(h);var f="function"===typeof i.easing?i.easing:s[i.easing];if(!f)throw new TypeError('Easing function "'.concat(i.easing,'" not found.'));return new Promise((function(e){return requestAnimationFrame((function t(s){var a=s-u,n=Math.abs(i.duration?Math.min(a/i.duration,1):1);r.scrollTop=Math.floor(l+(h-l)*f(n));var o=r===document.body?document.documentElement.clientHeight:r.clientHeight;if(1===n||o+r.scrollTop===r.scrollHeight)return e(h);requestAnimationFrame(t)}))}))}W.framework={},W.init=function(){};var $=function(e){l(i,e);var t=b(i);function i(){var e;return r(this,i),e=t.call(this),v(e,W)}return i}(_);$.property="goTo";i("ddb0"),i("dca8");var Y={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"},X=Y,Z={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"},Q=Z,J={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},ee=J,te={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"},ie=te,se={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"},re=se;i("ac1f"),i("1276");function ae(e,t){var i={};for(var s in t)i[s]={component:e,props:{icon:t[s].split(" fa-")}};return i}var ne=ae("font-awesome-icon",ie),oe=Object.freeze({mdiSvg:X,md:Q,mdi:ee,fa:ie,fa4:re,faSvg:ne}),ce=function(e){l(i,e);var t=b(i);function i(e){var s;r(this,i),s=t.call(this);var a=e[i.property],n=a.iconfont,o=a.values,c=a.component;return s.component=c,s.iconfont=n,s.values=Object(S["y"])(oe[n],o),s}return i}(_);ce.property="icons";i("a4d3"),i("e01a"),i("5319"),i("2ca0"),i("99af");var de="$vuetify.",he=Symbol("Lang fallback");function ue(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0,r=t.replace(de,""),a=Object(S["o"])(e,r,he);return a===he&&(i?(Object(c["b"])('Translation key "'.concat(r,'" not found in fallback')),a=t):(Object(c["c"])('Translation key "'.concat(r,'" not found, falling back to default')),a=ue(s,t,!0,s))),a}var le=function(e){l(i,e);var t=b(i);function i(e){var s;r(this,i),s=t.call(this),s.defaultLocale="en";var a=e[i.property],n=a.current,o=a.locales,c=a.t;return s.current=n,s.locales=o,s.translator=c||s.defaultTranslator,s}return n(i,[{key:"currentLocale",value:function(e){var t=this.locales[this.current],i=this.locales[this.defaultLocale];return ue(t,e,!1,i)}},{key:"t",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return e.startsWith(de)?this.translator.apply(this,[e].concat(i)):this.replace(e,i)}},{key:"defaultTranslator",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return this.replace(this.currentLocale(e),i)}},{key:"replace",value:function(e,t){return e.replace(/\{(\d+)\}/g,(function(e,i){return String(t[+i])}))}}]),i}(_);le.property="lang";i("7db0");var fe=i("3835"),pe=i("53ca"),me=(i("18a5"),i("b64b"),i("7bc6")),ge=i("8da5"),ye=(i("3ea3"),.20689655172413793),ve=function(e){return e>Math.pow(ye,3)?Math.cbrt(e):e/(3*Math.pow(ye,2))+4/29},be=function(e){return e>ye?Math.pow(e,3):3*Math.pow(ye,2)*(e-4/29)};function we(e){var t=ve,i=t(e[1]);return[116*i-16,500*(t(e[0]/.95047)-i),200*(i-t(e[2]/1.08883))]}function ke(e){var t=be,i=(e[0]+16)/116;return[.95047*t(i+e[1]/500),t(i),1.08883*t(i-e[2]/200)]}var Se=["anchor"],_e=["anchor"];function Oe(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e.anchor,r=Object(h["a"])(e,Se),a=Object.keys(r),n={},o=0;o<a.length;++o){var c=a[o],d=e[c];null!=d&&(i?t?("base"===c||c.startsWith("lighten")||c.startsWith("darken"))&&(n[c]=Object(me["a"])(d)):"object"===Object(pe["a"])(d)?n[c]=Oe(d,!0,i):n[c]=Ae(c,Object(me["b"])(d)):n[c]={base:Object(me["c"])(Object(me["b"])(d))})}return t||(n.anchor=s||n.base||n.primary.base),n}var Te=function(e,t){return"\n.v-application .".concat(e," {\n  background-color: ").concat(t," !important;\n  border-color: ").concat(t," !important;\n}\n.v-application .").concat(e,"--text {\n  color: ").concat(t," !important;\n  caret-color: ").concat(t," !important;\n}")},Ce=function(e,t,i){var s=t.split(/(\d)/,2),r=Object(fe["a"])(s,2),a=r[0],n=r[1];return"\n.v-application .".concat(e,".").concat(a,"-").concat(n," {\n  background-color: ").concat(i," !important;\n  border-color: ").concat(i," !important;\n}\n.v-application .").concat(e,"--text.text--").concat(a,"-").concat(n," {\n  color: ").concat(i," !important;\n  caret-color: ").concat(i," !important;\n}")},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"--v-".concat(e,"-").concat(t)},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"var(".concat(xe(e,t),")")};function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.anchor,s=Object(h["a"])(e,_e),r=Object.keys(s);if(!r.length)return"";var a="",n="",o=t?Ie("anchor"):i;n+=".v-application a { color: ".concat(o,"; }"),t&&(a+="  ".concat(xe("anchor"),": ").concat(i,";\n"));for(var c=0;c<r.length;++c){var d=r[c],u=e[d];n+=Te(d,t?Ie(d):u.base),t&&(a+="  ".concat(xe(d),": ").concat(u.base,";\n"));for(var l=Object(S["x"])(u),f=0;f<l.length;++f){var p=l[f],m=u[p];"base"!==p&&(n+=Ce(d,p,t?Ie(d,p):m),t&&(a+="  ".concat(xe(d,p),": ").concat(m,";\n")))}}return t&&(a=":root {\n".concat(a,"}\n\n")),a+n}function Ae(e,t){for(var i={base:Object(me["c"])(t)},s=5;s>0;--s)i["lighten".concat(s)]=Object(me["c"])(Ne(t,s));for(var r=1;r<=4;++r)i["darken".concat(r)]=Object(me["c"])(Me(t,r));return i}function Ne(e,t){var i=we(ge["b"](e));return i[0]=i[0]+10*t,ge["a"](ke(i))}function Me(e,t){var i=we(ge["b"](e));return i[0]=i[0]-10*t,ge["a"](ke(i))}var Pe=function(e){l(i,e);var t=b(i);function i(e){var s;r(this,i),s=t.call(this),s.disabled=!1,s.isDark=null,s.unwatch=null,s.vueMeta=null;var a=e[i.property],n=a.dark,o=a.disable,c=a.options,d=a.themes;return s.dark=Boolean(n),s.defaults=s.themes=d,s.options=c,o?(s.disabled=!0,v(s)):(s.themes={dark:s.fillVariant(d.dark,!0),light:s.fillVariant(d.light,!1)},s)}return n(i,[{key:"css",set:function(e){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=e)}},{key:"dark",get:function(){return Boolean(this.isDark)},set:function(e){var t=this.isDark;this.isDark=e,null!=t&&this.applyTheme()}},{key:"applyTheme",value:function(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}},{key:"clearCss",value:function(){this.css=""}},{key:"init",value:function(e,t){this.disabled||(e.$meta?this.initVueMeta(e):t&&this.initSSR(t),this.initTheme(e))}},{key:"setTheme",value:function(e,t){this.themes[e]=Object.assign(this.themes[e],t),this.applyTheme()}},{key:"resetThemes",value:function(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}},{key:"checkOrCreateStyleElement",value:function(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}},{key:"fillVariant",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=this.themes[t?"dark":"light"];return Object.assign({},i,e)}},{key:"genStyleElement",value:function(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}},{key:"initVueMeta",value:function(e){var t=this;if(this.vueMeta=e.$meta(),this.isVueMeta23)e.$nextTick((function(){t.applyVueMeta23()}));else{var i="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",s=e.$options[i]||{};e.$options[i]=function(){s.style=s.style||[];var e=s.style.find((function(e){return"vuetify-theme-stylesheet"===e.id}));return e?e.cssText=t.generatedStyles:s.style.push({cssText:t.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(t.options||{}).cspNonce}),s}}}},{key:"applyVueMeta23",value:function(){var e=this.vueMeta.addApp("vuetify"),t=e.set;t({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}},{key:"initSSR",value:function(e){var t=this.options.cspNonce?' nonce="'.concat(this.options.cspNonce,'"'):"";e.head=e.head||"",e.head+='<style type="text/css" id="vuetify-theme-stylesheet"'.concat(t,">").concat(this.generatedStyles,"</style>")}},{key:"initTheme",value:function(e){var t=this;"undefined"!==typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),e.$once("hook:created",(function(){var i=o["a"].observable({themes:t.themes});t.unwatch=e.$watch((function(){return i.themes}),(function(){return t.applyTheme()}),{deep:!0})})),this.applyTheme())}},{key:"currentTheme",get:function(){var e=this.dark?"dark":"light";return this.themes[e]}},{key:"generatedStyles",get:function(){var e,t=this.parsedTheme,i=this.options||{};return null!=i.themeCache&&(e=i.themeCache.get(t),null!=e)||(e=Ee(t,i.customProperties),null!=i.minifyTheme&&(e=i.minifyTheme(e)),null!=i.themeCache&&i.themeCache.set(t,e)),e}},{key:"parsedTheme",get:function(){return Oe(this.currentTheme||{},void 0,Object(S["n"])(this.options,["variations"],!0))}},{key:"isVueMeta23",get:function(){return"function"===typeof this.vueMeta.addApp}}]),i}(_);Pe.property="theme";var Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=t,this.use(T),this.use(x),this.use(I),this.use($),this.use(ce),this.use(le),this.use(Pe)}return n(e,[{key:"init",value:function(e,t){var i=this;this.installed.forEach((function(s){var r=i.framework[s];r.framework=i.framework,r.init(e,t)})),this.framework.rtl=Boolean(this.preset.rtl)}},{key:"use",value:function(e){var t=e.property;this.installed.includes(t)||(this.framework[t]=new e(this.preset,this),this.installed.push(t))}}]),e}();Be.install=d,Be.installed=!1,Be.version="2.5.6",Be.config={silent:!1}},f331:function(e,t,i){"use strict";const s=i("6299");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coinbaseprime",name:"Coinbase Prime",pro:!0,hostname:"exchange.coinbase.com",urls:{test:{public:"https://public.sandbox.exchange.coinbase.com",private:"https://public.sandbox.exchange.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/44539184-29f26e00-a70c-11e8-868f-e907fc236a7c.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://exchange.coinbase.com",doc:"https://docs.exchange.coinbase.com"}})}}},f3f8:function(e,t,i){var s=i("00b3"),r=i("5a7c"),a=r((function(e,t){return s(e.length,(function(){return e.apply(t,arguments)}))}));e.exports=a},f484:function(e,t,i){var s=i("5259");function r(e,t){var i=function(){return new s.aes.Algorithm(e,t)};s.cipher.registerAlgorithm(e,i)}i("6040"),i("e21e"),i("6497"),e.exports=s.aes=s.aes||{},s.aes.startEncrypting=function(e,t,i,s){var r=m({key:e,output:i,decrypt:!1,mode:s});return r.start(t),r},s.aes.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},s.aes.startDecrypting=function(e,t,i,s){var r=m({key:e,output:i,decrypt:!0,mode:s});return r.start(t),r},s.aes.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},s.aes.Algorithm=function(e,t){h||l();var i=this;i.name=e,i.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return p(i._w,e,t,!1)},decrypt:function(e,t){return p(i._w,e,t,!0)}}}),i._init=!1},s.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,i=e.key;if("string"!==typeof i||16!==i.length&&24!==i.length&&32!==i.length){if(s.util.isArray(i)&&(16===i.length||24===i.length||32===i.length)){t=i,i=s.util.createBuffer();for(var r=0;r<t.length;++r)i.putByte(t[r])}}else i=s.util.createBuffer(i);if(!s.util.isArray(i)){t=i,i=[];var a=t.length();if(16===a||24===a||32===a){a>>>=2;for(r=0;r<a;++r)i.push(t.getInt32())}}if(!s.util.isArray(i)||4!==i.length&&6!==i.length&&8!==i.length)throw new Error("Invalid key parameter.");var n=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(n);this._w=f(i,e.decrypt&&!o),this._init=!0}},s.aes._expandKey=function(e,t){return h||l(),f(e,t)},s.aes._updateBlock=p,r("AES-ECB",s.cipher.modes.ecb),r("AES-CBC",s.cipher.modes.cbc),r("AES-CFB",s.cipher.modes.cfb),r("AES-OFB",s.cipher.modes.ofb),r("AES-CTR",s.cipher.modes.ctr),r("AES-GCM",s.cipher.modes.gcm);var a,n,o,c,d,h=!1,u=4;function l(){h=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;a=new Array(256),n=new Array(256),c=new Array(4),d=new Array(4);for(t=0;t<4;++t)c[t]=new Array(256),d[t]=new Array(256);var i,s,r,u,l,f,p,m=0,g=0;for(t=0;t<256;++t){u=g^g<<1^g<<2^g<<3^g<<4,u=u>>8^255&u^99,a[m]=u,n[u]=m,l=e[u],i=e[m],s=e[i],r=e[s],f=l<<24^u<<16^u<<8^u^l,p=(i^s^r)<<24^(m^r)<<16^(m^s^r)<<8^m^i^r;for(var y=0;y<4;++y)c[y][m]=f,d[y][u]=p,f=f<<24|f>>>8,p=p<<24|p>>>8;0===m?m=g=1:(m=i^e[e[e[i^r]]],g^=e[e[g]])}}function f(e,t){for(var i,s=e.slice(0),r=1,n=s.length,c=n+6+1,h=u*c,l=n;l<h;++l)i=s[l-1],l%n===0?(i=a[i>>>16&255]<<24^a[i>>>8&255]<<16^a[255&i]<<8^a[i>>>24]^o[r]<<24,r++):n>6&&l%n===4&&(i=a[i>>>24]<<24^a[i>>>16&255]<<16^a[i>>>8&255]<<8^a[255&i]),s[l]=s[l-n]^i;if(t){var f,p=d[0],m=d[1],g=d[2],y=d[3],v=s.slice(0);h=s.length;l=0;for(var b=h-u;l<h;l+=u,b-=u)if(0===l||l===h-u)v[l]=s[b],v[l+1]=s[b+3],v[l+2]=s[b+2],v[l+3]=s[b+1];else for(var w=0;w<u;++w)f=s[b+w],v[l+(3&-w)]=p[a[f>>>24]]^m[a[f>>>16&255]]^g[a[f>>>8&255]]^y[a[255&f]];s=v}return s}function p(e,t,i,s){var r,o,h,u,l,f,p,m,g,y,v,b,w=e.length/4-1;s?(r=d[0],o=d[1],h=d[2],u=d[3],l=n):(r=c[0],o=c[1],h=c[2],u=c[3],l=a),f=t[0]^e[0],p=t[s?3:1]^e[1],m=t[2]^e[2],g=t[s?1:3]^e[3];for(var k=3,S=1;S<w;++S)y=r[f>>>24]^o[p>>>16&255]^h[m>>>8&255]^u[255&g]^e[++k],v=r[p>>>24]^o[m>>>16&255]^h[g>>>8&255]^u[255&f]^e[++k],b=r[m>>>24]^o[g>>>16&255]^h[f>>>8&255]^u[255&p]^e[++k],g=r[g>>>24]^o[f>>>16&255]^h[p>>>8&255]^u[255&m]^e[++k],f=y,p=v,m=b;i[0]=l[f>>>24]<<24^l[p>>>16&255]<<16^l[m>>>8&255]<<8^l[255&g]^e[++k],i[s?3:1]=l[p>>>24]<<24^l[m>>>16&255]<<16^l[g>>>8&255]<<8^l[255&f]^e[++k],i[2]=l[m>>>24]<<24^l[g>>>16&255]<<16^l[f>>>8&255]<<8^l[255&p]^e[++k],i[s?1:3]=l[g>>>24]<<24^l[f>>>16&255]<<16^l[p>>>8&255]<<8^l[255&m]^e[++k]}function m(e){e=e||{};var t,i=(e.mode||"CBC").toUpperCase(),r="AES-"+i;t=e.decrypt?s.cipher.createDecipher(r,e.key):s.cipher.createCipher(r,e.key);var a=t.start;return t.start=function(e,i){var r=null;i instanceof s.util.ByteBuffer&&(r=i,i={}),i=i||{},i.output=r,i.iv=e,a.call(t,i)},t}},f4c8:function(e,t,i){(function(t,i){e.exports=i()})(0,(function(){var e=e||function(e,t){var i=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),s={},r=s.lib={},a=r.Base=function(){return{extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),n=r.WordArray=a.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,s=this.sigBytes,r=e.sigBytes;if(this.clamp(),s%4)for(var a=0;a<r;a++){var n=i[a>>>2]>>>24-a%4*8&255;t[s+a>>>2]|=n<<24-(s+a)%4*8}else for(a=0;a<r;a+=4)t[s+a>>>2]=i[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i,s=[],r=function(t){t=t;var i=987654321,s=4294967295;return function(){i=36969*(65535&i)+(i>>16)&s,t=18e3*(65535&t)+(t>>16)&s;var r=(i<<16)+t&s;return r/=4294967296,r+=.5,r*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var o=r(4294967296*(i||e.random()));i=987654071*o(),s.push(4294967296*o()|0)}return new n.init(s,t)}}),o=s.enc={},c=o.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,s=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;s.push((a>>>4).toString(16)),s.push((15&a).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,i=[],s=0;s<t;s+=2)i[s>>>3]|=parseInt(e.substr(s,2),16)<<24-s%8*4;return new n.init(i,t/2)}},d=o.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,s=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;s.push(String.fromCharCode(a))}return s.join("")},parse:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new n.init(i,t)}},h=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,s=i.words,r=i.sigBytes,a=this.blockSize,o=4*a,c=r/o;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var d=c*a,h=e.min(4*d,r);if(d){for(var u=0;u<d;u+=a)this._doProcessBlock(s,u);var l=s.splice(0,d);i.sigBytes-=h}return new n.init(l,h)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(r.Hasher=u.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new l.HMAC.init(e,i).finalize(t)}}}),s.algo={});return s}(Math);return function(){var t=e,i=t.lib,s=i.WordArray,r=t.enc;r.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,s=this._map;e.clamp();for(var r=[],a=0;a<i;a+=3)for(var n=t[a>>>2]>>>24-a%4*8&255,o=t[a+1>>>2]>>>24-(a+1)%4*8&255,c=t[a+2>>>2]>>>24-(a+2)%4*8&255,d=n<<16|o<<8|c,h=0;h<4&&a+.75*h<i;h++)r.push(s.charAt(d>>>6*(3-h)&63));var u=s.charAt(64);if(u)while(r.length%4)r.push(u);return r.join("")},parse:function(e){var t=e.length,i=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var r=0;r<i.length;r++)s[i.charCodeAt(r)]=r}var n=i.charAt(64);if(n){var o=e.indexOf(n);-1!==o&&(t=o)}return a(e,t,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(e,t,i){for(var r=[],a=0,n=0;n<t;n++)if(n%4){var o=i[e.charCodeAt(n-1)]<<n%4*2,c=i[e.charCodeAt(n)]>>>6-n%4*2;r[a>>>2]|=(o|c)<<24-a%4*8,a++}return s.create(r,a)}}(),function(t){var i=e,s=i.lib,r=s.WordArray,a=s.Hasher,n=i.algo,o=[];(function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0})();var c=n.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var s=t+i,r=e[s];e[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,n=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],k=e[t+10],S=e[t+11],_=e[t+12],O=e[t+13],T=e[t+14],C=e[t+15],x=a[0],I=a[1],E=a[2],A=a[3];x=d(x,I,E,A,n,7,o[0]),A=d(A,x,I,E,c,12,o[1]),E=d(E,A,x,I,f,17,o[2]),I=d(I,E,A,x,p,22,o[3]),x=d(x,I,E,A,m,7,o[4]),A=d(A,x,I,E,g,12,o[5]),E=d(E,A,x,I,y,17,o[6]),I=d(I,E,A,x,v,22,o[7]),x=d(x,I,E,A,b,7,o[8]),A=d(A,x,I,E,w,12,o[9]),E=d(E,A,x,I,k,17,o[10]),I=d(I,E,A,x,S,22,o[11]),x=d(x,I,E,A,_,7,o[12]),A=d(A,x,I,E,O,12,o[13]),E=d(E,A,x,I,T,17,o[14]),I=d(I,E,A,x,C,22,o[15]),x=h(x,I,E,A,c,5,o[16]),A=h(A,x,I,E,y,9,o[17]),E=h(E,A,x,I,S,14,o[18]),I=h(I,E,A,x,n,20,o[19]),x=h(x,I,E,A,g,5,o[20]),A=h(A,x,I,E,k,9,o[21]),E=h(E,A,x,I,C,14,o[22]),I=h(I,E,A,x,m,20,o[23]),x=h(x,I,E,A,w,5,o[24]),A=h(A,x,I,E,T,9,o[25]),E=h(E,A,x,I,p,14,o[26]),I=h(I,E,A,x,b,20,o[27]),x=h(x,I,E,A,O,5,o[28]),A=h(A,x,I,E,f,9,o[29]),E=h(E,A,x,I,v,14,o[30]),I=h(I,E,A,x,_,20,o[31]),x=u(x,I,E,A,g,4,o[32]),A=u(A,x,I,E,b,11,o[33]),E=u(E,A,x,I,S,16,o[34]),I=u(I,E,A,x,T,23,o[35]),x=u(x,I,E,A,c,4,o[36]),A=u(A,x,I,E,m,11,o[37]),E=u(E,A,x,I,v,16,o[38]),I=u(I,E,A,x,k,23,o[39]),x=u(x,I,E,A,O,4,o[40]),A=u(A,x,I,E,n,11,o[41]),E=u(E,A,x,I,p,16,o[42]),I=u(I,E,A,x,y,23,o[43]),x=u(x,I,E,A,w,4,o[44]),A=u(A,x,I,E,_,11,o[45]),E=u(E,A,x,I,C,16,o[46]),I=u(I,E,A,x,f,23,o[47]),x=l(x,I,E,A,n,6,o[48]),A=l(A,x,I,E,v,10,o[49]),E=l(E,A,x,I,T,15,o[50]),I=l(I,E,A,x,g,21,o[51]),x=l(x,I,E,A,_,6,o[52]),A=l(A,x,I,E,p,10,o[53]),E=l(E,A,x,I,k,15,o[54]),I=l(I,E,A,x,c,21,o[55]),x=l(x,I,E,A,b,6,o[56]),A=l(A,x,I,E,C,10,o[57]),E=l(E,A,x,I,y,15,o[58]),I=l(I,E,A,x,O,21,o[59]),x=l(x,I,E,A,m,6,o[60]),A=l(A,x,I,E,S,10,o[61]),E=l(E,A,x,I,f,15,o[62]),I=l(I,E,A,x,w,21,o[63]),a[0]=a[0]+x|0,a[1]=a[1]+I|0,a[2]=a[2]+E|0,a[3]=a[3]+A|0},_doFinalize:function(){var e=this._data,i=e.words,s=8*this._nDataBytes,r=8*e.sigBytes;i[r>>>5]|=128<<24-r%32;var a=t.floor(s/4294967296),n=s;i[15+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,c=o.words,d=0;d<4;d++){var h=c[d];c[d]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return o},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,i,s,r,a,n){var o=e+(t&i|~t&s)+r+n;return(o<<a|o>>>32-a)+t}function h(e,t,i,s,r,a,n){var o=e+(t&s|i&~s)+r+n;return(o<<a|o>>>32-a)+t}function u(e,t,i,s,r,a,n){var o=e+(t^i^s)+r+n;return(o<<a|o>>>32-a)+t}function l(e,t,i,s,r,a,n){var o=e+(i^(t|~s))+r+n;return(o<<a|o>>>32-a)+t}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)}(Math),function(){var t=e,i=t.lib,s=i.WordArray,r=i.Hasher,a=t.algo,n=[],o=a.SHA1=r.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,s=i[0],r=i[1],a=i[2],o=i[3],c=i[4],d=0;d<80;d++){if(d<16)n[d]=0|e[t+d];else{var h=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=h<<1|h>>>31}var u=(s<<5|s>>>27)+c+n[d];u+=d<20?1518500249+(r&a|~r&o):d<40?1859775393+(r^a^o):d<60?(r&a|r&o|a&o)-1894007588:(r^a^o)-899497514,c=o,o=a,a=r<<30|r>>>2,r=s,s=u}i[0]=i[0]+s|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(s+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=r._createHelper(o),t.HmacSHA1=r._createHmacHelper(o)}(),function(t){var i=e,s=i.lib,r=s.WordArray,a=s.Hasher,n=i.algo,o=[],c=[];(function(){function e(e){for(var i=t.sqrt(e),s=2;s<=i;s++)if(!(e%s))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}var s=2,r=0;while(r<64)e(s)&&(r<8&&(o[r]=i(t.pow(s,.5))),c[r]=i(t.pow(s,1/3)),r++),s++})();var d=[],h=n.SHA256=a.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,s=i[0],r=i[1],a=i[2],n=i[3],o=i[4],h=i[5],u=i[6],l=i[7],f=0;f<64;f++){if(f<16)d[f]=0|e[t+f];else{var p=d[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=d[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;d[f]=m+d[f-7]+y+d[f-16]}var v=o&h^~o&u,b=s&r^s&a^r&a,w=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),k=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),S=l+k+v+c[f]+d[f],_=w+b;l=u,u=h,h=o,o=n+S|0,n=a,a=r,r=s,s=S+_|0}i[0]=i[0]+s|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+n|0,i[4]=i[4]+o|0,i[5]=i[5]+h|0,i[6]=i[6]+u|0,i[7]=i[7]+l|0},_doFinalize:function(){var e=this._data,i=e.words,s=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=t.floor(s/4294967296),i[15+(r+64>>>9<<4)]=s,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),function(){var t=e,i=t.lib,s=i.WordArray,r=t.enc;r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,s=[],r=0;r<i;r+=2){var a=t[r>>>2]>>>16-r%4*8&65535;s.push(String.fromCharCode(a))}return s.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return s.create(i,2*t)}};function a(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,s=[],r=0;r<i;r+=2){var n=a(t[r>>>2]>>>16-r%4*8&65535);s.push(String.fromCharCode(n))}return s.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>1]|=a(e.charCodeAt(r)<<16-r%2*16);return s.create(i,2*t)}}}(),function(){if("function"==typeof ArrayBuffer){var t=e,i=t.lib,s=i.WordArray,r=s.init,a=s.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,i=[],s=0;s<t;s++)i[s>>>2]|=e[s]<<24-s%4*8;r.call(this,i,t)}else r.apply(this,arguments)};a.prototype=s}}(),
/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var i=e,s=i.lib,r=s.WordArray,a=s.Hasher,n=i.algo,o=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),l=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=n.RIPEMD160=a.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var s=t+i,r=e[s];e[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a,n,f,w,k,S,_,O,T,C,x,I=this._hash.words,E=u.words,A=l.words,N=o.words,M=c.words,P=d.words,B=h.words;S=a=I[0],_=n=I[1],O=f=I[2],T=w=I[3],C=k=I[4];for(i=0;i<80;i+=1)x=a+e[t+N[i]]|0,x+=i<16?p(n,f,w)+E[0]:i<32?m(n,f,w)+E[1]:i<48?g(n,f,w)+E[2]:i<64?y(n,f,w)+E[3]:v(n,f,w)+E[4],x|=0,x=b(x,P[i]),x=x+k|0,a=k,k=w,w=b(f,10),f=n,n=x,x=S+e[t+M[i]]|0,x+=i<16?v(_,O,T)+A[0]:i<32?y(_,O,T)+A[1]:i<48?g(_,O,T)+A[2]:i<64?m(_,O,T)+A[3]:p(_,O,T)+A[4],x|=0,x=b(x,B[i]),x=x+C|0,S=C,C=T,T=b(O,10),O=_,_=x;x=I[1]+f+T|0,I[1]=I[2]+w+C|0,I[2]=I[3]+k+S|0,I[3]=I[4]+a+_|0,I[4]=I[0]+n+O|0,I[0]=x},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,a=r.words,n=0;n<5;n++){var o=a[n];a[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return r},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,i){return e^t^i}function m(e,t,i){return e&t|~e&i}function g(e,t,i){return(e|~t)^i}function y(e,t,i){return e&i|t&~i}function v(e,t,i){return e^(t|~i)}function b(e,t){return e<<t|e>>>32-t}i.RIPEMD160=a._createHelper(f),i.HmacRIPEMD160=a._createHmacHelper(f)}(Math),function(){var t=e,i=t.lib,s=i.Base,r=t.enc,a=r.Utf8,n=t.algo;n.HMAC=s.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var i=e.blockSize,s=4*i;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),n=this._iKey=t.clone(),o=r.words,c=n.words,d=0;d<i;d++)o[d]^=1549556828,c[d]^=909522486;r.sigBytes=n.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);t.reset();var s=t.finalize(this._oKey.clone().concat(i));return s}})}(),function(){var t=e,i=t.lib,s=i.Base,r=i.WordArray,a=t.algo,n=a.SHA1,o=a.HMAC,c=a.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var i=this.cfg,s=o.create(i.hasher,e),a=r.create(),n=r.create([1]),c=a.words,d=n.words,h=i.keySize,u=i.iterations;while(c.length<h){var l=s.update(t).finalize(n);s.reset();for(var f=l.words,p=f.length,m=l,g=1;g<u;g++){m=s.finalize(m),s.reset();for(var y=m.words,v=0;v<p;v++)f[v]^=y[v]}a.concat(l),d[0]++}return a.sigBytes=4*h,a}});t.PBKDF2=function(e,t,i){return c.create(i).compute(e,t)}}(),function(){var t=e,i=t.lib,s=i.Base,r=i.WordArray,a=t.algo,n=a.MD5,o=a.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var i=this.cfg,s=i.hasher.create(),a=r.create(),n=a.words,o=i.keySize,c=i.iterations;while(n.length<o){d&&s.update(d);var d=s.update(e).finalize(t);s.reset();for(var h=1;h<c;h++)d=s.finalize(d),s.reset();a.concat(d)}return a.sigBytes=4*o,a}});t.EvpKDF=function(e,t,i){return o.create(i).compute(e,t)}}(),function(){var t=e,i=t.lib,s=i.WordArray,r=t.algo,a=r.SHA256,n=r.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=a._createHelper(n),t.HmacSHA224=a._createHmacHelper(n)}(),function(t){var i=e,s=i.lib,r=s.Base,a=s.WordArray,n=i.x64={};n.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),n.WordArray=r.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],s=0;s<t;s++){var r=e[s];i.push(r.high),i.push(r.low)}return a.create(i,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),i=t.length,s=0;s<i;s++)t[s]=t[s].clone();return e}})}(),function(t){var i=e,s=i.lib,r=s.WordArray,a=s.Hasher,n=i.x64,o=n.Word,c=i.algo,d=[],h=[],u=[];(function(){for(var e=1,t=0,i=0;i<24;i++){d[e+5*t]=(i+1)*(i+2)/2%64;var s=t%5,r=(2*e+3*t)%5;e=s,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)h[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,n=0;n<24;n++){for(var c=0,l=0,f=0;f<7;f++){if(1&a){var p=(1<<f)-1;p<32?l^=1<<p:c^=1<<p-32}128&a?a=a<<1^113:a<<=1}u[n]=o.create(c,l)}})();var l=[];(function(){for(var e=0;e<25;e++)l[e]=o.create()})();var f=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,s=this.blockSize/2,r=0;r<s;r++){var a=e[t+2*r],n=e[t+2*r+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);var o=i[r];o.high^=n,o.low^=a}for(var c=0;c<24;c++){for(var f=0;f<5;f++){for(var p=0,m=0,g=0;g<5;g++){o=i[f+5*g];p^=o.high,m^=o.low}var y=l[f];y.high=p,y.low=m}for(f=0;f<5;f++){var v=l[(f+4)%5],b=l[(f+1)%5],w=b.high,k=b.low;for(p=v.high^(w<<1|k>>>31),m=v.low^(k<<1|w>>>31),g=0;g<5;g++){o=i[f+5*g];o.high^=p,o.low^=m}}for(var S=1;S<25;S++){o=i[S];var _=o.high,O=o.low,T=d[S];if(T<32)p=_<<T|O>>>32-T,m=O<<T|_>>>32-T;else p=O<<T-32|_>>>64-T,m=_<<T-32|O>>>64-T;var C=l[h[S]];C.high=p,C.low=m}var x=l[0],I=i[0];x.high=I.high,x.low=I.low;for(f=0;f<5;f++)for(g=0;g<5;g++){S=f+5*g,o=i[S];var E=l[S],A=l[(f+1)%5+5*g],N=l[(f+2)%5+5*g];o.high=E.high^~A.high&N.high,o.low=E.low^~A.low&N.low}o=i[0];var M=u[c];o.high^=M.high,o.low^=M.low}},_doFinalize:function(){var e=this._data,i=e.words,s=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize;i[s>>>5]|=1<<24-s%32,i[(t.ceil((s+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var n=this._state,o=this.cfg.outputLength/8,c=o/8,d=[],h=0;h<c;h++){var u=n[h],l=u.high,f=u.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d.push(f),d.push(l)}return new r.init(d,o)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});i.SHA3=a._createHelper(f),i.HmacSHA3=a._createHmacHelper(f)}(Math),function(){var t=e,i=t.lib,s=i.Hasher,r=t.x64,a=r.Word,n=r.WordArray,o=t.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],h=[];(function(){for(var e=0;e<80;e++)h[e]=c()})();var u=o.SHA512=s.extend({_doReset:function(){this._hash=new n.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,s=i[0],r=i[1],a=i[2],n=i[3],o=i[4],c=i[5],u=i[6],l=i[7],f=s.high,p=s.low,m=r.high,g=r.low,y=a.high,v=a.low,b=n.high,w=n.low,k=o.high,S=o.low,_=c.high,O=c.low,T=u.high,C=u.low,x=l.high,I=l.low,E=f,A=p,N=m,M=g,P=y,B=v,R=b,L=w,V=k,D=S,q=_,j=O,G=T,U=C,F=x,H=I,z=0;z<80;z++){var K=h[z];if(z<16)var W=K.high=0|e[t+2*z],$=K.low=0|e[t+2*z+1];else{var Y=h[z-15],X=Y.high,Z=Y.low,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^X>>>7,J=(Z>>>1|X<<31)^(Z>>>8|X<<24)^(Z>>>7|X<<25),ee=h[z-2],te=ee.high,ie=ee.low,se=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,re=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),ae=h[z-7],ne=ae.high,oe=ae.low,ce=h[z-16],de=ce.high,he=ce.low;$=J+oe,W=Q+ne+($>>>0<J>>>0?1:0),$=$+re,W=W+se+($>>>0<re>>>0?1:0),$=$+he,W=W+de+($>>>0<he>>>0?1:0);K.high=W,K.low=$}var ue=V&q^~V&G,le=D&j^~D&U,fe=E&N^E&P^N&P,pe=A&M^A&B^M&B,me=(E>>>28|A<<4)^(E<<30|A>>>2)^(E<<25|A>>>7),ge=(A>>>28|E<<4)^(A<<30|E>>>2)^(A<<25|E>>>7),ye=(V>>>14|D<<18)^(V>>>18|D<<14)^(V<<23|D>>>9),ve=(D>>>14|V<<18)^(D>>>18|V<<14)^(D<<23|V>>>9),be=d[z],we=be.high,ke=be.low,Se=H+ve,_e=F+ye+(Se>>>0<H>>>0?1:0),Oe=(Se=Se+le,_e=_e+ue+(Se>>>0<le>>>0?1:0),Se=Se+ke,_e=_e+we+(Se>>>0<ke>>>0?1:0),Se=Se+$,_e=_e+W+(Se>>>0<$>>>0?1:0),ge+pe),Te=me+fe+(Oe>>>0<ge>>>0?1:0);F=G,H=U,G=q,U=j,q=V,j=D,D=L+Se|0,V=R+_e+(D>>>0<L>>>0?1:0)|0,R=P,L=B,P=N,B=M,N=E,M=A,A=Se+Oe|0,E=_e+Te+(A>>>0<Se>>>0?1:0)|0}p=s.low=p+A,s.high=f+E+(p>>>0<A>>>0?1:0),g=r.low=g+M,r.high=m+N+(g>>>0<M>>>0?1:0),v=a.low=v+B,a.high=y+P+(v>>>0<B>>>0?1:0),w=n.low=w+L,n.high=b+R+(w>>>0<L>>>0?1:0),S=o.low=S+D,o.high=k+V+(S>>>0<D>>>0?1:0),O=c.low=O+j,c.high=_+q+(O>>>0<j>>>0?1:0),C=u.low=C+U,u.high=T+G+(C>>>0<U>>>0?1:0),I=l.low=I+H,l.high=x+F+(I>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;t[s>>>5]|=128<<24-s%32,t[30+(s+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(s+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process();var r=this._hash.toX32();return r},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=s._createHelper(u),t.HmacSHA512=s._createHmacHelper(u)}(),function(){var t=e,i=t.x64,s=i.Word,r=i.WordArray,a=t.algo,n=a.SHA512,o=a.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=n._createHelper(o),t.HmacSHA384=n._createHmacHelper(o)}(),e.lib.Cipher||function(t){var i=e,s=i.lib,r=s.Base,a=s.WordArray,n=s.BufferedBlockAlgorithm,o=i.enc,c=(o.Utf8,o.Base64),d=i.algo,h=d.EvpKDF,u=s.Cipher=n.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:w}return function(t){return{encrypt:function(i,s,r){return e(s).encrypt(t,i,s,r)},decrypt:function(i,s,r){return e(s).decrypt(t,i,s,r)}}}}()}),l=(s.StreamCipher=u.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),i.mode={}),f=s.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=l.CBC=function(){var e=f.extend();function i(e,i,s){var r=this._iv;if(r){var a=r;this._iv=t}else a=this._prevBlock;for(var n=0;n<s;n++)e[i+n]^=a[n]}return e.Encryptor=e.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize;i.call(this,e,t,r),s.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),e.Decryptor=e.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize,a=e.slice(t,t+r);s.decryptBlock(e,t),i.call(this,e,t,r),this._prevBlock=a}}),e}(),m=i.pad={},g=m.Pkcs7={pad:function(e,t){for(var i=4*t,s=i-e.sigBytes%i,r=s<<24|s<<16|s<<8|s,n=[],o=0;o<s;o+=4)n.push(r);var c=a.create(n,s);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(s.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:g}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,i=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var s=i.createEncryptor;else{s=i.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==s?this._mode.init(this,t&&t.words):(this._mode=s.call(i,this,t&&t.words),this._mode.__creator=s)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),s.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=i.format={},b=v.OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;if(i)var s=a.create([1398893684,1701076831]).concat(i).concat(t);else s=t;return s.toString(c)},parse:function(e){var t=c.parse(e),i=t.words;if(1398893684==i[0]&&1701076831==i[1]){var s=a.create(i.slice(2,4));i.splice(0,4),t.sigBytes-=16}return y.create({ciphertext:t,salt:s})}},w=s.SerializableCipher=r.extend({cfg:r.extend({format:b}),encrypt:function(e,t,i,s){s=this.cfg.extend(s);var r=e.createEncryptor(i,s),a=r.finalize(t),n=r.cfg;return y.create({ciphertext:a,key:i,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:s.format})},decrypt:function(e,t,i,s){s=this.cfg.extend(s),t=this._parse(t,s.format);var r=e.createDecryptor(i,s).finalize(t.ciphertext);return r},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),k=i.kdf={},S=k.OpenSSL={execute:function(e,t,i,s){s||(s=a.random(8));var r=h.create({keySize:t+i}).compute(e,s),n=a.create(r.words.slice(t),4*i);return r.sigBytes=4*t,y.create({key:r,iv:n,salt:s})}},_=s.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:S}),encrypt:function(e,t,i,s){s=this.cfg.extend(s);var r=s.kdf.execute(i,e.keySize,e.ivSize);s.iv=r.iv;var a=w.encrypt.call(this,e,t,r.key,s);return a.mixIn(r),a},decrypt:function(e,t,i,s){s=this.cfg.extend(s),t=this._parse(t,s.format);var r=s.kdf.execute(i,e.keySize,e.ivSize,t.salt);s.iv=r.iv;var a=w.decrypt.call(this,e,t,r.key,s);return a}})}(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function i(e,t,i,s){var r=this._iv;if(r){var a=r.slice(0);this._iv=void 0}else a=this._prevBlock;s.encryptBlock(a,0);for(var n=0;n<i;n++)e[t+n]^=a[n]}return t.Encryptor=t.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize;i.call(this,e,t,r,s),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var s=this._cipher,r=s.blockSize,a=e.slice(t,t+r);i.call(this,e,t,r,s),this._prevBlock=a}}),t}(),e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,s=4*t,r=s-i%s,a=i+r-1;e.clamp(),e.words[a>>>2]|=r<<24-a%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126={pad:function(t,i){var s=4*i,r=s-t.sigBytes%s;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso97971={pad:function(t,i){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,i)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,s=i.blockSize,r=this._iv,a=this._keystream;r&&(a=this._keystream=r.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var n=0;n<s;n++)e[t+n]^=a[n]}});return t.Decryptor=i,t}(),e.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var i=e,s=i.lib,r=s.CipherParams,a=i.enc,n=a.Hex,o=i.format;o.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}}}(),function(){var t=e,i=t.lib,s=i.BlockCipher,r=t.algo,a=[],n=[],o=[],c=[],d=[],h=[],u=[],l=[],f=[],p=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,s=0;for(t=0;t<256;t++){var r=s^s<<1^s<<2^s<<3^s<<4;r=r>>>8^255&r^99,a[i]=r,n[r]=i;var m=e[i],g=e[m],y=e[g],v=257*e[r]^16843008*r;o[i]=v<<24|v>>>8,c[i]=v<<16|v>>>16,d[i]=v<<8|v>>>24,h[i]=v;v=16843009*y^65537*g^257*m^16843008*i;u[r]=v<<24|v>>>8,l[r]=v<<16|v>>>16,f[r]=v<<8|v>>>24,p[r]=v,i?(i=m^e[e[e[y^m]]],s^=e[e[s]]):i=s=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=s.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,s=this._nRounds=i+6,r=4*(s+1),n=this._keySchedule=[],o=0;o<r;o++)if(o<i)n[o]=t[o];else{var c=n[o-1];o%i?i>6&&o%i==4&&(c=a[c>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c]):(c=c<<8|c>>>24,c=a[c>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c],c^=m[o/i|0]<<24),n[o]=n[o-i]^c}for(var d=this._invKeySchedule=[],h=0;h<r;h++){o=r-h;if(h%4)c=n[o];else c=n[o-4];d[h]=h<4||o<=4?c:u[a[c>>>24]]^l[a[c>>>16&255]]^f[a[c>>>8&255]]^p[a[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,c,d,h,a)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,l,f,p,n);i=e[t+1];e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,s,r,a,n,o){for(var c=this._nRounds,d=e[t]^i[0],h=e[t+1]^i[1],u=e[t+2]^i[2],l=e[t+3]^i[3],f=4,p=1;p<c;p++){var m=s[d>>>24]^r[h>>>16&255]^a[u>>>8&255]^n[255&l]^i[f++],g=s[h>>>24]^r[u>>>16&255]^a[l>>>8&255]^n[255&d]^i[f++],y=s[u>>>24]^r[l>>>16&255]^a[d>>>8&255]^n[255&h]^i[f++],v=s[l>>>24]^r[d>>>16&255]^a[h>>>8&255]^n[255&u]^i[f++];d=m,h=g,u=y,l=v}m=(o[d>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&l])^i[f++],g=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[l>>>8&255]<<8|o[255&d])^i[f++],y=(o[u>>>24]<<24|o[l>>>16&255]<<16|o[d>>>8&255]<<8|o[255&h])^i[f++],v=(o[l>>>24]<<24|o[d>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^i[f++];e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});t.AES=s._createHelper(g)}(),function(){var t=e,i=t.lib,s=i.WordArray,r=i.BlockCipher,a=t.algo,n=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=a.DES=r.extend({_doReset:function(){for(var e=this._key,t=e.words,i=[],s=0;s<56;s++){var r=n[s]-1;i[s]=t[r>>>5]>>>31-r%32&1}for(var a=this._subKeys=[],d=0;d<16;d++){var h=a[d]=[],u=c[d];for(s=0;s<24;s++)h[s/6|0]|=i[(o[s]-1+u)%28]<<31-s%6,h[4+(s/6|0)]|=i[28+(o[s+24]-1+u)%28]<<31-s%6;h[0]=h[0]<<1|h[0]>>>31;for(s=1;s<7;s++)h[s]=h[s]>>>4*(s-1)+3;h[7]=h[7]<<5|h[7]>>>27}var l=this._invSubKeys=[];for(s=0;s<16;s++)l[s]=a[15-s]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),l.call(this,1,1431655765);for(var s=0;s<16;s++){for(var r=i[s],a=this._lBlock,n=this._rBlock,o=0,c=0;c<8;c++)o|=d[c][((n^r[c])&h[c])>>>0];this._lBlock=n,this._rBlock=a^o}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,l.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function f(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}t.DES=r._createHelper(u);var p=a.TripleDES=r.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=u.createEncryptor(s.create(t.slice(0,2))),this._des2=u.createEncryptor(s.create(t.slice(2,4))),this._des3=u.createEncryptor(s.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(p)}(),function(){var t=e,i=t.lib,s=i.StreamCipher,r=t.algo,a=r.RC4=s.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,s=this._S=[],r=0;r<256;r++)s[r]=r;r=0;for(var a=0;r<256;r++){var n=r%i,o=t[n>>>2]>>>24-n%4*8&255;a=(a+s[r]+o)%256;var c=s[r];s[r]=s[a],s[a]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=n.call(this)},keySize:8,ivSize:0});function n(){for(var e=this._S,t=this._i,i=this._j,s=0,r=0;r<4;r++){t=(t+1)%256,i=(i+e[t])%256;var a=e[t];e[t]=e[i],e[i]=a,s|=e[(e[t]+e[i])%256]<<24-8*r}return this._i=t,this._j=i,s}t.RC4=s._createHelper(a);var o=r.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)n.call(this)}});t.RC4Drop=s._createHelper(o)}(),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function i(e){if(255===(e>>24&255)){var t=e>>16&255,i=e>>8&255,s=255&e;255===t?(t=0,255===i?(i=0,255===s?s=0:++s):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=s}else e+=1<<24;return e}function s(e){return 0===(e[0]=i(e[0]))&&(e[1]=i(e[1])),e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,a=this._iv,n=this._counter;a&&(n=this._counter=a.slice(0),this._iv=void 0),s(n);var o=n.slice(0);i.encryptBlock(o,0);for(var c=0;c<r;c++)e[t+c]^=o[c]}});return t.Decryptor=r,t}(),function(){var t=e,i=t.lib,s=i.StreamCipher,r=t.algo,a=[],n=[],o=[],c=r.Rabbit=s.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var s=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(i=0;i<4;i++)d.call(this);for(i=0;i<8;i++)r[i]^=s[i+4&7];if(t){var a=t.words,n=a[0],o=a[1],c=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),h=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=c>>>16|4294901760&h,l=h<<16|65535&c;r[0]^=c,r[1]^=u,r[2]^=h,r[3]^=l,r[4]^=c,r[5]^=u,r[6]^=h,r[7]^=l;for(i=0;i<4;i++)d.call(this)}},_doProcessBlock:function(e,t){var i=this._X;d.call(this),a[0]=i[0]^i[5]>>>16^i[3]<<16,a[1]=i[2]^i[7]>>>16^i[5]<<16,a[2]=i[4]^i[1]>>>16^i[7]<<16,a[3]=i[6]^i[3]>>>16^i[1]<<16;for(var s=0;s<4;s++)a[s]=16711935&(a[s]<<8|a[s]>>>24)|4278255360&(a[s]<<24|a[s]>>>8),e[t+s]^=a[s]},blockSize:4,ivSize:2});function d(){for(var e=this._X,t=this._C,i=0;i<8;i++)n[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0;for(i=0;i<8;i++){var s=e[i]+t[i],r=65535&s,a=s>>>16,c=((r*r>>>17)+r*a>>>15)+a*a,d=((4294901760&s)*s|0)+((65535&s)*s|0);o[i]=c^d}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=s._createHelper(c)}(),e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,s=i.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0);var n=a.slice(0);i.encryptBlock(n,0),a[s-1]=a[s-1]+1|0;for(var o=0;o<s;o++)e[t+o]^=n[o]}});return t.Decryptor=i,t}(),function(){var t=e,i=t.lib,s=i.StreamCipher,r=t.algo,a=[],n=[],o=[],c=r.RabbitLegacy=s.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)d.call(this);for(r=0;r<8;r++)s[r]^=i[r+4&7];if(t){var a=t.words,n=a[0],o=a[1],c=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),h=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=c>>>16|4294901760&h,l=h<<16|65535&c;s[0]^=c,s[1]^=u,s[2]^=h,s[3]^=l,s[4]^=c,s[5]^=u,s[6]^=h,s[7]^=l;for(r=0;r<4;r++)d.call(this)}},_doProcessBlock:function(e,t){var i=this._X;d.call(this),a[0]=i[0]^i[5]>>>16^i[3]<<16,a[1]=i[2]^i[7]>>>16^i[5]<<16,a[2]=i[4]^i[1]>>>16^i[7]<<16,a[3]=i[6]^i[3]>>>16^i[1]<<16;for(var s=0;s<4;s++)a[s]=16711935&(a[s]<<8|a[s]>>>24)|4278255360&(a[s]<<24|a[s]>>>8),e[t+s]^=a[s]},blockSize:4,ivSize:2});function d(){for(var e=this._X,t=this._C,i=0;i<8;i++)n[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0;for(i=0;i<8;i++){var s=e[i]+t[i],r=65535&s,a=s>>>16,c=((r*r>>>17)+r*a>>>15)+a*a,d=((4294901760&s)*s|0)+((65535&s)*s|0);o[i]=c^d}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=s._createHelper(c)}(),e.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){var t=e.words,i=e.sigBytes-1;while(!(t[i>>>2]>>>24-i%4*8&255))i--;e.sigBytes=i+1}},e}))},f59e:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,AuthenticationError:a,ArgumentsRequired:n}=i("74b0"),o=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"itbit",name:"itBit",countries:["US"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"XBT",quoteId:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",baseId:"XBT",quoteId:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR"},"ETH/SGD":{id:"ETHSGD",symbol:"ETH/SGD",base:"ETH",quote:"SGD",baseId:"ETH",quoteId:"SGD"},PAXGUSD:{id:"PAXGUSD",symbol:"PAXG/USD",base:"PAXG",quote:"USD",baseId:"PAXG",quoteId:"USD"},BCHUSD:{id:"BCHUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCH",quoteId:"USD"},LTCUSD:{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD"}},fees:{trading:{maker:-3e-4,taker:.35/100}},commonCurrencies:{XBT:"BTC"}})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={symbol:this.marketId(e)},r=await this.publicGetMarketsSymbolOrderBook(this.extend(s,i));return this.parseOrderBook(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},s=await this.publicGetMarketsSymbolTicker(this.extend(i,t)),a=this.safeString(s,"serverTimeUTC");if(!a)throw new r(this.id+" fetchTicker returned a bad response: "+this.json(s));const n=this.parse8601(a),o=this.safeNumber(s,"vwap24h"),c=this.safeNumber(s,"volume24h");let d=void 0;void 0!==c&&void 0!==o&&(d=c*o);const h=this.safeNumber(s,"lastPrice");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(s,"high24h"),low:this.safeNumber(s,"low24h"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:o,open:this.safeNumber(s,"openToday"),close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:d,info:s}}parseTrade(e,t){const i=this.safeString2(e,"executionId","matchNumber"),s=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"direction"),a=this.safeString(e,"orderId");let n=this.safeNumber(e,"commissionPaid");const c=this.safeString(e,"commissionCurrency"),d=this.safeCurrencyCode(c);let h=this.safeNumber(e,"rebatesApplied");void 0!==h&&(h=-h);const u=this.safeString(e,"rebateCurrency"),l=this.safeCurrencyCode(u),f=this.safeString2(e,"price","rate"),p=this.safeString2(e,"currency1Amount","amount"),m=this.parseNumber(f),g=this.parseNumber(p),y=this.parseNumber(o.stringMul(f,p));let v=void 0;const b=this.safeString(e,"instrument");if(void 0!==b)if(b in this.markets_by_id)t=this.markets_by_id[b];else{const t=this.safeString(e,"currency1"),i=this.safeString(e,"currency2"),s=this.safeCurrencyCode(t),r=this.safeCurrencyCode(i);v=s+"/"+r}void 0===v&&void 0!==t&&(v=t["symbol"]);const w={info:e,id:i,timestamp:s,datetime:this.iso8601(s),symbol:v,order:a,type:void 0,side:r,takerOrMaker:void 0,price:m,amount:g,cost:y,fee:void 0};return void 0!==n&&(void 0!==h?d===l?(n=this.sum(n,h),w["fee"]={cost:n,currency:d}):w["fees"]=[{cost:n,currency:d},{cost:h,currency:l}]:w["fee"]={cost:n,currency:d}),"fee"in w||"fees"in w||(w["fee"]=void 0),w}async fetchTransactions(e,t,i,s={}){await this.loadMarkets();const r=this.safeString(s,"walletId");if(void 0===r)throw new n(this.id+" fetchMyTrades() requires a walletId parameter");const a={walletId:r};void 0!==i&&(a["perPage"]=i);const o=await this.privateGetWalletsWalletIdFundingHistory(this.extend(a,s)),c=o["fundingHistory"],d=[];for(let n=0;n<c.length;n++){const e=c[n],t=this.safeString(e,"time"),i=this.parse8601(t),s=this.safeString(e,"currency"),r=this.safeString(e,"destinationAddress"),a=this.safeString(e,"txnHash"),o=this.safeStringLower(e,"transactionType"),h=this.safeString(e,"status"),u=this.parseTransferStatus(h);d.push({id:this.safeString(e,"withdrawalId"),timestamp:i,datetime:this.iso8601(i),currency:this.safeCurrencyCode(s),address:r,tag:void 0,txid:a,type:o,status:u,amount:this.safeNumber(e,"amount"),fee:void 0,info:e})}return d}parseTransferStatus(e){const t={cancelled:"canceled",completed:"ok"};return this.safeString(t,e,"pending")}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const a=this.safeString(s,"walletId");if(void 0===a)throw new r(this.id+" fetchMyTrades() requires a walletId parameter");const n={walletId:a};void 0!==t&&(n["rangeStart"]=this.ymdhms(t,"T")),void 0!==i&&(n["perPage"]=i);const o=await this.privateGetWalletsWalletIdTrades(this.extend(n,s)),c=this.safeValue(o,"tradingHistory",[]);let d=void 0;return void 0!==e&&(d=this.market(e)),this.parseTrades(c,d,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]},n=await this.publicGetMarketsSymbolTrades(this.extend(a,s)),o=this.safeValue(n,"recentTrades",[]);return this.parseTrades(o,r,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.fetchWallets(e),i=t[0]["balances"],s={info:t};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"availableBalance"),n["total"]=this.safeString(e,"totalBalance"),s[a]=n}return this.parseBalance(s,!1)}async fetchWallets(e={}){if(await this.loadMarkets(),!this.uid)throw new a(this.id+" fetchWallets() requires uid API credential");const t={userId:this.uid};return await this.privateGetWallets(this.extend(t,e))}async fetchWallet(e,t={}){await this.loadMarkets();const i={walletId:e};return await this.privateGetWalletsWalletId(this.extend(i,t))}async fetchOpenOrders(e,t,i,s={}){const r={status:"open"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchClosedOrders(e,t,i,s={}){const r={status:"filled"};return await this.fetchOrders(e,t,i,this.extend(r,s))}async fetchOrders(e,t,i,s={}){await this.loadMarkets();let a=void 0;void 0!==e&&(a=this.market(e));const n="walletId"in s;if(!n)throw new r(this.id+" fetchOrders() requires a walletId parameter");const o=s["walletId"],c={walletId:o},d=await this.privateGetWalletsWalletIdOrders(this.extend(c,s));return this.parseOrders(d,a,t,i)}parseOrderStatus(e){const t={submitted:"open",open:"open",filled:"closed",cancelled:"canceled",rejected:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"side"),s=this.safeString(e,"type"),r=this.markets_by_id[e["instrument"]]["symbol"],a=this.parse8601(e["createdTime"]),n=this.safeNumber(e,"amount"),o=this.safeNumber(e,"amountFilled"),c=void 0,d=this.safeNumber(e,"price"),h=this.safeNumber(e,"volumeWeightedAveragePrice"),u=this.safeString(e,"clientOrderIdentifier"),l=this.safeString(e,"id"),f=this.safeString(e,"postOnly"),p="True"===f;return this.safeOrder({id:l,clientOrderId:u,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:this.parseOrderStatus(this.safeString(e,"status")),symbol:r,type:s,timeInForce:void 0,postOnly:p,side:i,price:d,stopPrice:void 0,cost:void 0,average:h,amount:n,filled:o,remaining:void 0,fee:c,trades:void 0})}nonce(){return this.milliseconds()}async createOrder(e,t,i,s,a,n={}){if(await this.loadMarkets(),"market"===t)throw new r(this.id+" allows limit orders only");const o="walletId"in n;if(!o)throw new r(this.id+" createOrder() requires a walletId parameter");s=s.toString(),a=a.toString();const c=this.market(e),d={side:i,type:t,currency:c["id"].replace(c["quote"],""),amount:s,display:s,price:a,instrument:c["id"]},h=await this.privatePostWalletsWalletIdOrders(this.extend(d,n));return{info:h,id:h["id"]}}async fetchOrder(e,t,i={}){await this.loadMarkets();const s="walletId"in i;if(!s)throw new r(this.id+" fetchOrder() requires a walletId parameter");const a={id:e},n=await this.privateGetWalletsWalletIdOrdersId(this.extend(a,i));return this.parseOrder(n)}async cancelOrder(e,t,i={}){const s="walletId"in i;if(!s)throw new r(this.id+" cancelOrder() requires a walletId parameter");const a={id:e};return await this.privateDeleteWalletsWalletIdOrdersId(this.extend(a,i))}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),"POST"===i&&Object.keys(o).length&&(a=this.json(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=e,s="POST"===i?a:"",o=[i,n,s,e,t],c=e+this.json(o).replace("\\/","/"),d=this.hash(this.encode(c),"sha256","binary"),h=this.stringToBinary(this.encode(n)),u=this.binaryConcat(h,d),l=this.hmac(u,this.encode(this.secret),"sha512","base64");r={Authorization:this.apiKey+":"+l,"Content-Type":"application/json","X-Auth-Timestamp":t,"X-Auth-Nonce":e}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("code"in o)throw new r(this.id+" "+this.json(o));return o}}},f5df:function(e,t,i){var s=i("00ee"),r=i("c6b6"),a=i("b622"),n=a("toStringTag"),o="Arguments"==r(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(i){}};e.exports=s?r:function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=c(t=Object(e),n))?i:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},f601:function(e,t,i){var s=i("84eb"),r=i("fd6f");function a(e,t,i){return function(){if(0===arguments.length)return i();var a=Array.prototype.slice.call(arguments,0),n=a.pop();if(!s(n)){var o=0;while(o<e.length){if("function"===typeof n[e[o]])return n[e[o]].apply(n,a);o+=1}if(r(n)){var c=t.apply(null,a);return c(n)}}return i.apply(this,arguments)}}e.exports=a},f654:function(e,t,i){"use strict";(function(t){var s=i("320c");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var i=e.length,s=t.length,r=0,a=Math.min(i,s);r<a;++r)if(e[r]!==t[r]){i=e[r],s=t[r];break}return i<s?-1:s<i?1:0}function a(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var n=i("3022"),o=Object.prototype.hasOwnProperty,c=Array.prototype.slice,d=function(){return"foo"===function(){}.name}();function h(e){return Object.prototype.toString.call(e)}function u(e){return!a(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var l=e.exports=b,f=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(n.isFunction(e)){if(d)return e.name;var t=e.toString(),i=t.match(f);return i&&i[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(d||!n.isFunction(e))return n.inspect(e);var t=p(e),i=t?": "+t:"";return"[Function"+i+"]"}function y(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}function v(e,t,i,s,r){throw new l.AssertionError({message:i,actual:e,expected:t,operator:s,stackStartFunction:r})}function b(e,t){e||v(e,!0,t,"==",l.ok)}function w(e,t,i,s){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(n.isDate(e)&&n.isDate(t))return e.getTime()===t.getTime();if(n.isRegExp(e)&&n.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(u(e)&&u(t)&&h(e)===h(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;s=s||{actual:[],expected:[]};var o=s.actual.indexOf(e);return-1!==o&&o===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),S(e,t,i,s))}return i?e===t:e==t}function k(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function S(e,t,i,s){if(null===e||void 0===e||null===t||void 0===t)return!1;if(n.isPrimitive(e)||n.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=k(e),a=k(t);if(r&&!a||!r&&a)return!1;if(r)return e=c.call(e),t=c.call(t),w(e,t,i);var o,d,h=I(e),u=I(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),d=h.length-1;d>=0;d--)if(h[d]!==u[d])return!1;for(d=h.length-1;d>=0;d--)if(o=h[d],!w(e[o],t[o],i,s))return!1;return!0}function _(e,t,i){w(e,t,!0)&&v(e,t,i,"notDeepStrictEqual",_)}function O(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(i){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function T(e){var t;try{e()}catch(i){t=i}return t}function C(e,t,i,s){var r;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof i&&(s=i,i=null),r=T(t),s=(i&&i.name?" ("+i.name+").":".")+(s?" "+s:"."),e&&!r&&v(r,i,"Missing expected exception"+s);var a="string"===typeof s,o=!e&&n.isError(r),c=!e&&r&&!i;if((o&&a&&O(r,i)||c)&&v(r,i,"Got unwanted exception"+s),e&&r&&i&&!O(r,i)||!e&&r)throw r}function x(e,t){e||v(e,!0,t,"==",x)}l.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=y(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var s=i.stack,r=p(t),a=s.indexOf("\n"+r);if(a>=0){var n=s.indexOf("\n",a+1);s=s.substring(n+1)}this.stack=s}}},n.inherits(l.AssertionError,Error),l.fail=v,l.ok=b,l.equal=function(e,t,i){e!=t&&v(e,t,i,"==",l.equal)},l.notEqual=function(e,t,i){e==t&&v(e,t,i,"!=",l.notEqual)},l.deepEqual=function(e,t,i){w(e,t,!1)||v(e,t,i,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,i){w(e,t,!0)||v(e,t,i,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,i){w(e,t,!1)&&v(e,t,i,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=_,l.strictEqual=function(e,t,i){e!==t&&v(e,t,i,"===",l.strictEqual)},l.notStrictEqual=function(e,t,i){e===t&&v(e,t,i,"!==",l.notStrictEqual)},l.throws=function(e,t,i){C(!0,e,t,i)},l.doesNotThrow=function(e,t,i){C(!1,e,t,i)},l.ifError=function(e){if(e)throw e},l.strict=s(x,l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var I=Object.keys||function(e){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t}}).call(this,i("c8ba"))},f6b4:function(e,t,i){"use strict";var s=i("c532");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){s.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},f6c4:function(e,t,i){"use strict";i("bd0c");var s=i("d10f");t["a"]=s["a"].extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles:function(){var e=this.$vuetify.application,t=e.bar,i=e.top,s=e.right,r=e.footer,a=e.insetFooter,n=e.bottom,o=e.left;return{paddingTop:"".concat(i+t,"px"),paddingRight:"".concat(s,"px"),paddingBottom:"".concat(r+a+n,"px"),paddingLeft:"".concat(o,"px")}}},render:function(e){var t={staticClass:"v-main",style:this.styles,ref:"main"};return e(this.tag,t,[e("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},f6e8:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,AccountSuspended:h,InvalidNonce:u,NotSupported:l,BadRequest:f,AuthenticationError:p,BadSymbol:m,RateLimitExceeded:g,PermissionDenied:y}=i("74b0"),v=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"kucoin",name:"KuCoin",countries:["SC"],rateLimit:334,version:"v2",certified:!1,pro:!0,comment:"Platform 2.0",has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFee:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0,transfer:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295558-132aaf80-c50e-11ea-9801-a2fb0c57c799.jpg",referral:"https://www.kucoin.com/?rcode=E5wkqe",api:{public:"https://openapi-v2.kucoin.com",private:"https://openapi-v2.kucoin.com",futuresPrivate:"https://api-futures.kucoin.com",futuresPublic:"https://api-futures.kucoin.com"},test:{public:"https://openapi-sandbox.kucoin.com",private:"https://openapi-sandbox.kucoin.com",futuresPrivate:"https://api-sandbox-futures.kucoin.com",futuresPublic:"https://api-sandbox-futures.kucoin.com"},www:"https://www.kucoin.com",doc:["https://docs.kucoin.com"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["timestamp","status","symbols","markets","market/allTickers","market/orderbook/level{level}_{limit}","market/orderbook/level2_20","market/orderbook/level2_100","market/histories","market/candles","market/stats","currencies","currencies/{currency}","prices","mark-price/{symbol}/current","margin/config"],post:["bullet-public"]},private:{get:["market/orderbook/level{level}","market/orderbook/level2","market/orderbook/level3","accounts","accounts/{accountId}","accounts/{accountId}/ledgers","accounts/{accountId}/holds","accounts/transferable","sub/user","sub-accounts","sub-accounts/{subUserId}","deposit-addresses","deposits","hist-deposits","hist-orders","hist-withdrawals","withdrawals","withdrawals/quotas","orders","order/client-order/{clientOid}","orders/{orderId}","limit/orders","fills","limit/fills","margin/account","margin/borrow","margin/borrow/outstanding","margin/borrow/borrow/repaid","margin/lend/active","margin/lend/done","margin/lend/trade/unsettled","margin/lend/trade/settled","margin/lend/assets","margin/market","margin/trade/last","stop-order/{orderId}","stop-order","stop-order/queryOrderByClientOid"],post:["accounts","accounts/inner-transfer","accounts/sub-transfer","deposit-addresses","withdrawals","orders","orders/multi","margin/borrow","margin/order","margin/repay/all","margin/repay/single","margin/lend","margin/toggle-auto-lend","bullet-private","stop-order"],delete:["withdrawals/{withdrawalId}","orders","orders/client-order/{clientOid}","orders/{orderId}","margin/lend/{orderId}","stop-order/cancelOrderByClientOid","stop-order/{orderId}","stop-order/cancel"]},futuresPublic:{get:["contracts/active","contracts/{symbol}","ticker","level2/snapshot","level2/depth20","level2/depth100","level2/message/query","level3/message/query","level3/snapshot","trade/history","interest/query","index/query","mark-price/{symbol}/current","premium/query","funding-rate/{symbol}/current","timestamp","status","kline/query"],post:["bullet-public"]},futuresPrivate:{get:["account-overview","transaction-history","deposit-address","deposit-list","withdrawals/quotas","withdrawal-list","transfer-list","orders","stopOrders","recentDoneOrders","orders/{order-id}","orders/byClientOid","fills","recentFills","openOrderStatistics","position","positions","funding-history"],post:["withdrawals","transfer-out","orders","position/margin/auto-deposit-status","position/margin/deposit-margin","bullet-private"],delete:["withdrawals/{withdrawalId}","cancel/transfer-out","orders/{order-id}","orders","stopOrders"]}},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},exceptions:{exact:{"order not exist":c,"order not exist.":c,order_not_exist:c,order_not_exist_or_not_allow_to_cancel:d,"Order size below the minimum requirement.":d,"The withdrawal amount is below the minimum requirement.":r,"Unsuccessful! Exceeded the max. funds out-transfer limit":o,400:f,401:p,403:l,404:l,405:l,429:g,500:n,503:n,101030:y,200004:o,230003:o,260100:o,3e5:d,4e5:m,400001:p,400002:u,400003:p,400004:p,400005:p,400006:p,400007:p,400008:l,400100:f,411100:h,415e3:f,5e5:r},broad:{"Exceeded the access frequency":g,"require more permission":y}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{HOT:"HOTNOW",EDGE:"DADI",WAX:"WAXP",TRY:"Trias",VAI:"VAIOT"},options:{version:"v1",symbolSeparator:"-",fetchMyTradesMethod:"private_get_fills",fetchBalance:"trade",versions:{public:{GET:{status:"v1","market/orderbook/level2_20":"v1","market/orderbook/level2_100":"v1","market/orderbook/level{level}_{limit}":"v1"}},private:{GET:{"market/orderbook/level2":"v3","market/orderbook/level3":"v3","market/orderbook/level{level}":"v3"},POST:{"accounts/inner-transfer":"v2","accounts/sub-transfer":"v2"}},futuresPrivate:{GET:{"account-overview":"v1",positions:"v1"},POST:{"transfer-out":"v2"}},futuresPublic:{GET:{"level3/snapshot":"v2"}}},accountsByType:{trade:"trade",trading:"trade",spot:"trade",margin:"margin",main:"main",funding:"main",futures:"contract",contract:"contract",pool:"pool","pool-x":"pool"}}})}nonce(){return this.milliseconds()}async loadTimeDifference(e={}){const t=await this.publicGetTimestamp(e),i=this.milliseconds(),s=this.safeInteger(t,"data");return this.options["timeDifference"]=parseInt(i-s),this.options["timeDifference"]}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeInteger(t,"data")}async fetchStatus(e={}){const t=await this.publicGetStatus(e),i=this.safeValue(t,"data",{});let s=this.safeValue(i,"status");return void 0!==s&&(s="open"===s?"ok":"maintenance",this.status=this.extend(this.status,{status:s,updated:this.milliseconds()})),this.status}async fetchMarkets(e={}){const t=await this.publicGetSymbols(e),i=t["data"],s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"symbol"),[a,n]=t.split("-"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"enableTrading"),u=this.safeNumber(e,"baseMaxSize"),l=this.safeString(e,"baseMinSize"),f=this.safeString(e,"quoteMaxSize"),p=this.parseNumber(l),m=this.parseNumber(f),g=this.safeNumber(e,"quoteMinSize"),y={amount:this.precisionFromString(this.safeString(e,"baseIncrement")),price:this.precisionFromString(this.safeString(e,"priceIncrement"))},b={amount:{min:p,max:u},price:{min:this.safeNumber(e,"priceIncrement"),max:this.parseNumber(v.stringDiv(f,l))},cost:{min:g,max:m}};s.push({id:t,symbol:d,baseId:a,quoteId:n,base:o,quote:c,active:h,precision:y,limits:b,info:e})}return s}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",[]),s={};for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"currency"),a=this.safeString(e,"fullName"),n=this.safeCurrencyCode(t),o=this.safeInteger(e,"precision"),c=this.safeValue(e,"isWithdrawEnabled",!1),d=this.safeValue(e,"isDepositEnabled",!1),h=this.safeNumber(e,"withdrawalMinFee"),u=c&&d;s[n]={id:t,name:a,code:n,precision:o,info:e,active:u,fee:h,limits:this.limits}}return s}async fetchAccounts(e={}){const t=await this.privateGetAccounts(e),i=this.safeValue(t,"data"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"id"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a),o=this.safeString(e,"type");s.push({id:t,type:o,currency:n,info:e})}return s}async fetchFundingFee(e,t={}){const i=this.currencyId(e),s={currency:i},r=await this.privateGetWithdrawalsQuotas(this.extend(s,t)),a=r["data"],n={};return n[e]=this.safeNumber(a,"withdrawMinFee"),{info:r,withdraw:n,deposit:{}}}parseTicker(e,t){let i=this.safeNumber(e,"changeRate");void 0!==i&&(i*=100);const s=this.safeNumber2(e,"last","lastTradedPrice"),r=this.safeString(e,"symbol"),a=this.safeSymbol(r,t,"-"),n=this.safeNumber(e,"vol"),o=this.safeNumber(e,"volValue"),c=this.vwap(n,o),d=this.safeInteger2(e,"time","datetime");return{symbol:a,timestamp:d,datetime:this.iso8601(d),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:c,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:void 0,change:this.safeNumber(e,"changePrice"),percentage:i,average:this.safeNumber(e,"averagePrice"),baseVolume:n,quoteVolume:o,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketAllTickers(t),s=this.safeValue(i,"data",{}),r=this.safeValue(s,"ticker",[]),a={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=this.safeString(e,"symbol");void 0!==t&&(a[t]=e)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={symbol:i["id"]},r=await this.publicGetMarketStats(this.extend(s,t));return this.parseTicker(r["data"],i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="15m",i,s,r={}){await this.loadMarkets();const a=this.market(e),n=a["id"],o={symbol:n,type:this.timeframes[t]},c=1e3*this.parseTimeframe(t);let d=this.milliseconds();void 0!==i?(o["startAt"]=parseInt(Math.floor(i/1e3)),void 0===s&&(s=this.safeInteger(this.options,"fetchOHLCVLimit",1500)),d=this.sum(i,s*c)):void 0!==s&&(i=d-s*c,o["startAt"]=parseInt(Math.floor(i/1e3))),o["endAt"]=parseInt(Math.floor(d/1e3));const h=await this.publicGetMarketCandles(this.extend(o,r)),u=this.safeValue(h,"data",[]);return this.parseOHLCVs(u,a,t,i,s)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currencyId(e),s={currency:i},r=await this.privatePostDepositAddresses(this.extend(s,t)),a=this.safeValue(r,"data",{});let n=this.safeString(a,"address");void 0!==n&&(n=n.replace("bitcoincash:",""));const o=this.safeString(a,"memo");return"NIM"!==e&&this.checkAddress(n),{info:r,currency:e,address:n,tag:o}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currencyId(e),s={currency:i},r=await this.privateGetDepositAddresses(this.extend(s,t)),a=this.safeValue(r,"data",{}),n=this.safeString(a,"address"),o=this.safeString(a,"memo");return"NIM"!==e&&this.checkAddress(n),{info:r,currency:e,address:n,tag:o}}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,{level:3})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.marketId(e),a=this.safeInteger(i,"level",2),n={symbol:s,level:a};let o="privateGetMarketOrderbookLevelLevel";if(2===a&&void 0!==t){if(20!==t&&100!==t)throw new r(this.id+" fetchOrderBook limit argument must be undefined, 20 or 100");n["limit"]=t,o="publicGetMarketOrderbookLevelLevelLimit"}const c=await this[o](this.extend(n,i)),d=this.safeValue(c,"data",{}),h=this.safeInteger(d,"time"),u=this.parseOrderBook(d,e,h,"bids","asks",a-2,a-1);return u["nonce"]=this.safeInteger(d,"sequence"),u}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n=this.marketId(e),o=this.safeString2(a,"clientOid","clientOrderId",this.uuid());a=this.omit(a,["clientOid","clientOrderId"]);const c={clientOid:o,side:i,symbol:n,type:t},d=this.safeNumber2(a,"cost","funds");"market"===t?void 0!==d?(a=this.omit(a,["cost","funds"]),c["funds"]=this.amountToPrecision(e,d)):c["size"]=this.amountToPrecision(e,s):(c["price"]=this.priceToPrecision(e,r),c["size"]=this.amountToPrecision(e,s));const h=await this.privatePostOrders(this.extend(c,a)),u=this.safeValue(h,"data",{}),l=this.milliseconds(),f=this.safeString(u,"orderId"),p={id:f,clientOrderId:o,info:u,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:r,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0};return void 0===d?p["amount"]=s:p["cost"]=d,p}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeString2(i,"clientOid","clientOrderId");let a="privateDeleteOrdersOrderId";return void 0!==r?(s["clientOid"]=r,a="privateDeleteOrdersClientOrderClientOid"):s["orderId"]=e,i=this.omit(i,["clientOid","clientOrderId"]),await this[a](this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let s=void 0;return void 0!==e&&(s=this.market(e),i["symbol"]=s["id"]),await this.privateDeleteOrders(this.extend(i,t))}async fetchOrdersByStatus(e,t,i,s,r={}){await this.loadMarkets();const a={status:e};let n=void 0;void 0!==t&&(n=this.market(t),a["symbol"]=n["id"]),void 0!==i&&(a["startAt"]=i),void 0!==s&&(a["pageSize"]=s);const o=await this.privateGetOrders(this.extend(a,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"items",[]);return this.parseOrders(d,n,i,s)}async fetchClosedOrders(e,t,i,s={}){return await this.fetchOrdersByStatus("done",e,t,i,s)}async fetchOpenOrders(e,t,i,s={}){return await this.fetchOrdersByStatus("active",e,t,i,s)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={},r=this.safeString2(i,"clientOid","clientOrderId");let a="privateGetOrdersOrderId";if(void 0!==r)s["clientOid"]=r,a="privateGetOrdersClientOrderClientOid";else{if(void 0===e)throw new d(this.id+" fetchOrder() requires an order id");s["orderId"]=e}i=this.omit(i,["clientOid","clientOrderId"]);const n=await this[a](this.extend(s,i));let o=void 0;void 0!==t&&(o=this.market(t));const c=this.safeValue(n,"data");return this.parseOrder(c,o)}parseOrder(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t,"-"),r=this.safeString(e,"id"),a=this.safeString(e,"type"),n=this.safeInteger(e,"createdAt"),o=this.iso8601(n);let c=this.safeNumber(e,"price");0===c&&(c=void 0);const d=this.safeString(e,"side"),h=this.safeString(e,"feeCurrency"),u=this.safeCurrencyCode(h),l=this.safeNumber(e,"fee"),f=this.safeNumber(e,"size"),p=this.safeNumber(e,"dealSize"),m=this.safeNumber(e,"dealFunds"),g=this.safeValue(e,"isActive",!1),y=this.safeValue(e,"cancelExist",!1);let v=g?"open":"closed";v=y?"canceled":v;const b={currency:u,cost:l},w=this.safeString(e,"clientOid"),k=this.safeString(e,"timeInForce"),S=this.safeNumber(e,"stopPrice"),_=this.safeValue(e,"postOnly");return this.safeOrder({id:r,clientOrderId:w,symbol:s,type:a,timeInForce:k,postOnly:_,side:d,amount:f,price:c,stopPrice:S,cost:m,filled:p,remaining:void 0,timestamp:n,datetime:o,fee:b,status:v,info:e,lastTradeTimestamp:void 0,average:void 0,trades:void 0})}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const a={};let n=void 0;void 0!==e&&(n=this.market(e),a["symbol"]=n["id"]),void 0!==i&&(a["pageSize"]=i);const o=this.options["fetchMyTradesMethod"];let c=!1;if("private_get_fills"===o)void 0!==t&&(a["startAt"]=t);else if("private_get_limit_fills"===o)c=!0;else{if("private_get_hist_orders"!==o)throw new r(this.id+" invalid fetchClosedOrder method");void 0!==t&&(a["startAt"]=parseInt(t/1e3))}const d=await this[o](this.extend(a,s)),h=this.safeValue(d,"data",{});let u=void 0;return u=c?h:this.safeValue(h,"items",[]),this.parseTrades(u,n,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={symbol:r["id"]};void 0!==t&&(a["startAt"]=Math.floor(t/1e3)),void 0!==i&&(a["pageSize"]=i);const n=await this.publicGetMarketHistories(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}parseTrade(e,t){const i=this.safeString(e,"symbol"),s=this.safeSymbol(i,t,"-"),r=this.safeString2(e,"tradeId","id"),a=this.safeString(e,"orderId"),n=this.safeString(e,"liquidity");let o=this.safeInteger(e,"time");void 0!==o?o=parseInt(o/1e6):(o=this.safeInteger(e,"createdAt"),"dealValue"in e&&void 0!==o&&(o*=1e3));const c=this.safeString2(e,"price","dealPrice"),d=this.safeString2(e,"size","amount"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.safeString(e,"side");let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const i=this.safeString(e,"feeCurrency");let s=this.safeCurrencyCode(i);void 0===s&&void 0!==t&&(s="sell"===l?t["quote"]:t["base"]),f={cost:p,currency:s,rate:this.safeNumber(e,"feeRate")}}let m=this.safeString(e,"type");"match"===m&&(m=void 0);let g=this.safeNumber2(e,"funds","dealValue");return void 0===g&&(g=this.parseNumber(v.stringMul(c,d))),{info:e,id:r,order:a,timestamp:o,datetime:this.iso8601(o),symbol:s,type:m,takerOrMaker:n,side:l,price:h,amount:u,cost:g,fee:f}}async withdraw(e,t,i,s,r={}){await this.loadMarkets(),this.checkAddress(i);const a=this.currencyId(e),n={currency:a,address:i,amount:t};void 0!==s&&(n["memo"]=s);const o=await this.privatePostWithdrawals(this.extend(n,r)),c=this.safeValue(o,"data",{});return{id:this.safeString(c,"withdrawalId"),info:o}}parseTransactionStatus(e){const t={SUCCESS:"ok",PROCESSING:"ok",FAILURE:"failed"};return this.safeString(t,e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t);let r=this.safeString(e,"address");const a=this.safeNumber(e,"amount");let n=this.safeString(e,"walletTxId");if(void 0!==n){const e=n.split("@"),t=e.length;t>1&&void 0===r&&e[1].length>1&&(r=e[1]),n=e[0]}let o=void 0===n?"withdrawal":"deposit";const c=this.safeString(e,"status"),d=this.parseTransactionStatus(c);let h=void 0;const u=this.safeNumber(e,"fee");if(void 0!==u){let e=void 0;void 0!==a&&(e=u/a),h={cost:u,rate:e,currency:s}}const l=this.safeString(e,"memo");let f=this.safeInteger2(e,"createdAt","createAt");const p=this.safeString(e,"id");let m=this.safeInteger(e,"updatedAt");const g=!("createdAt"in e);g&&(o="address"in e?"withdrawal":"deposit",void 0!==f&&(f*=1e3),void 0!==m&&(m*=1e3));const y=this.safeString(e,"remark");return{id:p,info:e,timestamp:f,datetime:this.iso8601(f),address:r,addressTo:r,addressFrom:void 0,tag:l,tagTo:l,tagFrom:void 0,currency:s,amount:a,txid:n,type:o,status:d,comment:y,fee:h,updated:m}}async fetchDeposits(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["pageSize"]=i);let n="privateGetDeposits";void 0!==t&&(t<1550448e6?(r["startAt"]=parseInt(t/1e3),n="privateGetHistDeposits"):r["startAt"]=t);const o=await this[n](this.extend(r,s)),c=o["data"]["items"];return this.parseTransactions(c,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,s={}){await this.loadMarkets();const r={};let a=void 0;void 0!==e&&(a=this.currency(e),r["currency"]=a["id"]),void 0!==i&&(r["pageSize"]=i);let n="privateGetWithdrawals";void 0!==t&&(t<1550448e6?(r["startAt"]=parseInt(t/1e3),n="privateGetHistWithdrawals"):r["startAt"]=t);const o=await this[n](this.extend(r,s)),c=o["data"]["items"];return this.parseTransactions(c,a,t,i,{type:"withdrawal"})}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","trade"),i=this.safeString(e,"type",t),s=this.safeValue(this.options,"accountsByType"),a=this.safeString(s,i);if(void 0===a){const e=Object.keys(s);throw new r(this.id+" type must be one of "+e.join(", "))}if(e=this.omit(e,"type"),"contract"===a){const t=await this.futuresPrivateGetAccountOverview(e),i={info:t,timestamp:void 0,datetime:void 0},s=this.safeValue(t,"data"),r=this.safeString(s,"currency"),a=this.safeCurrencyCode(r),n=this.account();return n["free"]=this.safeString(s,"availableBalance"),n["total"]=this.safeString(s,"accountEquity"),i[a]=n,this.parseBalance(i,!1)}{const t={type:a},i=await this.privateGetAccounts(this.extend(t,e)),s=this.safeValue(i,"data",[]),r={info:i,timestamp:void 0,datetime:void 0};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"type");if(i===a){const e=this.safeString(t,"currency"),i=this.safeCurrencyCode(e),s=this.account();s["total"]=this.safeString(t,"balance"),s["free"]=this.safeString(t,"available"),s["used"]=this.safeString(t,"holds"),r[i]=s}}return this.parseBalance(r,!1)}}async transfer(e,t,i,s,a={}){await this.loadMarkets();const n=this.currency(e),o=this.currencyToPrecision(e,t),c=this.safeValue(this.options,"accountsByType",{}),d=this.safeString(c,i);if(void 0===d){const e=Object.keys(c);throw new r(this.id+" fromAccount must be one of "+e.join(", "))}const h=this.safeString(c,s);if(void 0===h){const e=Object.keys(c);throw new r(this.id+" toAccount must be one of "+e.join(", "))}if("contract"===d){if("main"!==h)throw new r(this.id+" only supports transferring from futures account to main account");const e={currency:n["id"],amount:o};"bizNo"in a||(e["bizNo"]=this.uuid22());const t=await this.futuresPrivatePostTransferOut(this.extend(e,a)),i=this.safeValue(t,"data"),s=this.safeInteger(i,"createdAt"),c=this.safeString(i,"applyId"),u=this.safeString(i,"currency"),l=this.safeCurrencyCode(u),f=this.safeNumber(i,"amount"),p=this.safeString(i,"status");let m=void 0;return"PROCESSING"===p&&(m="pending"),{info:t,currency:l,timestamp:s,datetime:this.iso8601(s),amount:f,fromAccount:d,toAccount:h,id:c,status:m}}{const t={currency:n["id"],from:d,to:h,amount:o};"clientOid"in a||(t["clientOid"]=this.uuid());const i=await this.privatePostAccountsInnerTransfer(this.extend(t,a)),s=this.safeValue(i,"data"),r=this.safeString(s,"orderId");return{info:i,id:r,timestamp:void 0,datetime:void 0,currency:e,amount:o,fromAccount:d,toAccount:h,status:void 0}}}async fetchLedger(e,t,i,s={}){if(void 0===e)throw new a(this.id+" fetchLedger() requires a code param");await this.loadMarkets(),await this.loadAccounts();const n=this.currency(e);let o=this.safeString(s,"accountId");if(void 0===o)for(let r=0;r<this.accounts.length;r++){const t=this.accounts[r];if(t["currency"]===e&&"main"===t["type"]){o=t["id"];break}}if(void 0===o)throw new r(this.id+" "+e+"main account is not loaded in loadAccounts");const c={accountId:o};void 0!==t&&(c["startAt"]=Math.floor(t/1e3));const d=await this.privateGetAccountsAccountIdLedgers(this.extend(c,s)),h=d["data"]["items"];return this.parseLedger(h,n,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"currency"),s=this.safeCurrencyCode(i,t),r={cost:this.safeNumber(e,"fee"),code:s},a=this.safeNumber(e,"amount"),n=this.safeNumber(e,"balance"),o=this.safeString(e,"direction");let c=void 0;if(void 0!==n&&void 0!==a){const e="out"===o?a:-a;c=this.sum(n,e)}const d=this.safeInteger(e,"createdAt"),h=this.parseLedgerEntryType(this.safeString(e,"bizType")),u=this.safeString(e,"context");let l=void 0,f=void 0;if(this.isJsonEncodedObject(u)){const e=this.parseJson(u);l=this.safeString(e,"orderId"),"trade"===h?f=this.safeString(e,"tradeId"):"transaction"===h&&(f=this.safeString(e,"txId"))}return{id:l,currency:s,account:void 0,referenceAccount:void 0,referenceId:f,status:void 0,amount:a,before:c,after:n,fee:r,direction:o,timestamp:d,datetime:this.iso8601(d),type:h,info:e}}parseLedgerEntryType(e){const t={Exchange:"trade",Withdrawal:"transaction",Deposit:"transaction",Transfer:"transfer"};return this.safeString(t,e,e)}async fetchPositions(e,t={}){const i=await this.futuresPrivateGetPositions(t);return this.safeValue(i,"data",i)}sign(e,t="public",i="GET",s={},r,a){const n=this.safeValue(this.options,"versions",{}),o=this.safeValue(n,t,{}),c=this.safeValue(o,i,{}),d=this.safeString(c,e,this.options["version"]),h=this.safeString(s,"version",d);s=this.omit(s,"version");let u="/api/"+h+"/"+this.implodeParams(e,s);const l=this.omit(s,this.extractParams(e));let f="";r=void 0!==r?r:{},Object.keys(l).length&&("GET"===i||"DELETE"===i?u+="?"+this.urlencode(l):(a=this.json(l),f=a,r["Content-Type"]="application/json"));const p=this.urls["api"][t]+u;if("private"===t||"futuresPrivate"===t){this.checkRequiredCredentials();const e=this.nonce().toString();r=this.extend({"KC-API-KEY-VERSION":"2","KC-API-KEY":this.apiKey,"KC-API-TIMESTAMP":e},r);const t=this.safeString(r,"KC-API-KEY-VERSION");if("2"===t){const e=this.hmac(this.encode(this.password),this.encode(this.secret),"sha256","base64");r["KC-API-PASSPHRASE"]=e}else r["KC-API-PASSPHRASE"]=this.password;const s=e+i+u+f,a=this.hmac(this.encode(s),this.encode(this.secret),"sha256","base64");r["KC-API-SIGN"]=a;const n=this.safeValue(this.options,"partner",{}),o=this.safeString(n,"id"),c=this.safeString(n,"secret");if(void 0!==o&&void 0!==c){const t=e+o+this.apiKey,i=this.hmac(this.encode(t),this.encode(c),"sha256","base64");r["KC-API-PARTNER-SIGN"]=i,r["KC-API-PARTNER"]=o}}return{url:p,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,a,n,o,c){if(!n)return void this.throwBroadlyMatchedException(this.exceptions["broad"],a,a);const d=this.safeString(n,"code"),h=this.safeString(n,"msg","");this.throwExactlyMatchedException(this.exceptions["exact"],h,this.id+" "+h),this.throwExactlyMatchedException(this.exceptions["exact"],d,this.id+" "+h)}}},f748:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},f772:function(e,t,i){var s=i("5692"),r=i("90e3"),a=s("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},f803:function(e,t,i){"use strict";const s=i("90db"),{ArgumentsRequired:r,ExchangeError:a,InvalidNonce:n,AuthenticationError:o,PermissionDenied:c}=i("74b0"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bit2c",name:"Bit2C",countries:["IL"],rateLimit:3e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",referral:"https://bit2c.co.il/Aff/63bfed10-e359-420c-ab5a-ad368dab0baf",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS",baseId:"Btc",quoteId:"Nis"},"ETH/NIS":{id:"EthNis",symbol:"ETH/NIS",base:"ETH",quote:"NIS",baseId:"Eth",quoteId:"Nis"},"BCH/NIS":{id:"BchabcNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS",baseId:"Bchabc",quoteId:"Nis"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS",baseId:"Ltc",quoteId:"Nis"},"ETC/NIS":{id:"EtcNis",symbol:"ETC/NIS",base:"ETC",quote:"NIS",baseId:"Etc",quoteId:"Nis"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS",baseId:"Btg",quoteId:"Nis"},"BSV/NIS":{id:"BchsvNis",symbol:"BSV/NIS",base:"BSV",quote:"NIS",baseId:"Bchsv",quoteId:"Nis"},"GRIN/NIS":{id:"GrinNis",symbol:"GRIN/NIS",base:"GRIN",quote:"NIS",baseId:"Grin",quoteId:"Nis"}},fees:{trading:{maker:.005,taker:.005}},options:{fetchTradesMethod:"public_get_exchanges_pair_trades"},exceptions:{exact:{"Please provide valid APIkey":o},broad:{"Please provide valid nonce":n,"please approve new terms of use on site":c}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalanceV2(e),i={info:t,timestamp:void 0,datetime:void 0},s=Object.keys(this.currencies);for(let r=0;r<s.length;r++){const e=s[r],a=this.account(),n=this.currencyId(e),o=n.toUpperCase();o in t&&(a["free"]=this.safeString(t,"AVAILABLE_"+o),a["total"]=this.safeString(t,o)),i[e]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)},r=await this.publicGetExchangesPairOrderbook(this.extend(s,i));return this.parseOrderBook(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},s=await this.publicGetExchangesPairTicker(this.extend(i,t)),r=this.milliseconds(),a=this.safeNumber(s,"av"),n=this.safeNumber(s,"a");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(s,"ll");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeNumber(s,"h"),bidVolume:void 0,ask:this.safeNumber(s,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:a,baseVolume:n,quoteVolume:o,info:s}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),n=this.options["fetchTradesMethod"],o={pair:r["id"]};void 0!==t&&(o["date"]=parseInt(t)),void 0!==i&&(o["limit"]=i);const c=await this[n](this.extend(o,s));if("string"===typeof c)throw new a(c);return this.parseTrades(c,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();let n="privatePostOrderAddOrder";const o={Amount:s,Pair:this.marketId(e)};"market"===t?n+="MarketPrice"+this.capitalize(i):(o["Price"]=r,o["Total"]=s*r,o["IsBid"]="buy"===i);const c=await this[n](this.extend(o,a));return{info:c,id:c["NewOrder"]["id"]}}async cancelOrder(e,t,i={}){const s={id:e};return await this.privatePostOrderCancelOrder(this.extend(s,i))}async fetchOpenOrders(e,t,i,s={}){if(void 0===e)throw new r(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={pair:a["id"]},o=await this.privateGetOrderMyOrders(this.extend(n,s)),c=this.safeValue(o,a["id"],{}),d=this.safeValue(c,"ask",[]),h=this.safeValue(c,"bid",[]);return this.parseOrders(this.arrayConcat(d,h),a,t,i)}parseOrder(e,t){const i=this.safeInteger(e,"created"),s=this.safeNumber(e,"price"),r=this.safeNumber(e,"amount");let a=void 0;void 0!==t&&(a=t["symbol"]);let n=this.safeValue(e,"type");0===n?n="buy":1===n&&(n="sell");const o=this.safeString(e,"id"),c=this.safeString(e,"status");return this.safeOrder({id:o,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:c,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:n,price:s,stopPrice:void 0,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();let r=void 0;const a={};void 0!==i&&(a["take"]=i),a["take"]=i,void 0!==t&&(a["toTime"]=this.ymd(this.milliseconds(),"."),a["fromTime"]=this.ymd(t,".")),void 0!==e&&(r=this.market(e),a["pair"]=r["id"]);const n=await this.privateGetOrderOrderHistory(this.extend(a,s));return this.parseTrades(n,r,t,i)}parseTrade(e,t){let i=void 0,s=void 0,r=void 0,a=void 0,n=void 0,o=void 0,c=void 0;const h=this.safeString(e,"reference");if(void 0!==h){i=this.safeTimestamp(e,"ticks"),r=this.safeString(e,"price"),a=this.safeString(e,"firstAmount");const d=h.split("|");if(void 0===t){const i=this.safeString(e,"pair");i in this.markets_by_id[i]?t=this.markets_by_id[i]:d[0]in this.markets_by_id&&(t=this.markets_by_id[d[0]])}n=d[1],s=d[2],c=this.safeInteger(e,"action"),0===c?c="buy":1===c&&(c="sell"),o=this.safeNumber(e,"feeAmount")}else i=this.safeTimestamp(e,"date"),s=this.safeString(e,"tid"),r=this.safeString(e,"price"),a=this.safeString(e,"amount"),c=this.safeValue(e,"isBid"),void 0!==c&&(c=c?"buy":"sell");let u=void 0;void 0!==t&&(u=t["symbol"]);const l=this.parseNumber(r),f=this.parseNumber(a),p=this.parseNumber(d.stringMul(r,a));return{info:e,id:s,timestamp:i,datetime:this.iso8601(i),symbol:u,order:n,type:void 0,side:c,takerOrMaker:void 0,price:l,amount:f,cost:p,fee:{cost:o,currency:"NIS",rate:void 0}}}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s);if("public"===t)n+=".json";else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({nonce:e},s),o=this.urlencode(t);"GET"===i?Object.keys(t).length&&(n+="?"+o):a=o;const c=this.hmac(this.encode(o),this.encode(this.secret),"sha512","base64");r={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:c}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,r,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],h,e),new a(e)}}}},f823:function(e,t,i){},f832:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,ArgumentsRequired:a,AuthenticationError:n,NullResponse:o,InvalidOrder:c,NotSupported:d,InsufficientFunds:h,InvalidNonce:u,OrderNotFound:l,RateLimitExceeded:f,DDoSProtection:p}=i("74b0"),m=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"],referral:"https://cex.io/r/0/up105393824/0/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_profile","currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/","raw_tx_history"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},exceptions:{exact:{},broad:{"Insufficient funds":h,"Nonce must be incremented":u,"Invalid Order":c,"Order not found":l,"limit exceeded":f,"Invalid API key":n,"There was an error while placing your order":c,"Sorry, too many clients already":p}},options:{fetchOHLCVWarning:!0,createMarketBuyOrderRequiresPrice:!0,order:{status:{c:"canceled",d:"closed",cd:"canceled",a:"open"}}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),s=this.safeInteger(t,"expires",1e3),r=this.milliseconds();if(void 0===i||r-i>s){const i=await this.publicGetCurrencyProfile(e);this.options["fetchCurrencies"]=this.extend(t,{response:i,timestamp:r})}return this.safeValue(this.options["fetchCurrencies"],"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options["currencies"]={timestamp:this.milliseconds(),response:t};const i=this.safeValue(t,"data",[]),s=this.safeValue(i,"symbols",[]),r={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"code"),i=this.safeCurrencyCode(t),n=this.safeInteger(e,"precision"),o=!0;r[i]={id:t,code:i,name:t,active:o,precision:n,fee:void 0,limits:{amount:{min:this.safeNumber(e,"minimumCurrencyAmount"),max:void 0},withdraw:{min:this.safeNumber(e,"minimalWithdrawalAmount"),max:void 0}},info:e}}return r}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"data",{}),s=this.safeValue(i,"symbols",[]),r=this.indexBy(s,"code"),a=this.safeValue(i,"pairs",[]),n=await this.publicGetCurrencyLimits(e),o=[],c=this.safeValue(n["data"],"pairs");for(let d=0;d<c.length;d++){const e=c[d],t=this.safeString(e,"symbol1"),i=this.safeString(e,"symbol2"),s=t+"/"+i,n=this.safeCurrencyCode(t),h=this.safeCurrencyCode(i),u=n+"/"+h,l=this.safeValue(r,t,{}),f=this.safeValue(r,i,{});let p=this.safeInteger(f,"precision",8);for(let r=0;r<a.length;r++){const e=a[r];e["symbol1"]===t&&e["symbol2"]===i&&(p=this.safeInteger(e,"pricePrecision",p))}const m=this.safeInteger(l,"precision",8),g=this.safeInteger(l,"scale",0),y=m-g,v={amount:y,price:p};o.push({id:s,info:e,symbol:u,base:n,quote:h,baseId:t,quoteId:i,precision:v,limits:{amount:{min:this.safeNumber(e,"minLotSize"),max:this.safeNumber(e,"maxLotSize")},price:{min:this.safeNumber(e,"minPrice"),max:this.safeNumber(e,"maxPrice")},cost:{min:this.safeNumber(e,"minLotSizeS2"),max:void 0}},active:void 0})}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},s=["username","timestamp"],r=this.omit(t,s),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeValue(r,e,{}),s=this.account();s["free"]=this.safeString(t,"available"),s["used"]=this.safeString(t,"orders","0");const o=this.safeCurrencyCode(e);i[o]=s}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={pair:this.marketId(e)};void 0!==t&&(s["depth"]=t);const r=await this.publicGetOrderBookPair(this.extend(s,i)),a=this.safeTimestamp(r,"timestamp");return this.parseOrderBook(r,e,a)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,s,a={}){await this.loadMarkets();const n=this.market(e);if(void 0===i)i=this.milliseconds()-864e5;else if(this.options["fetchOHLCVWarning"])throw new r(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");let c=this.ymd(i);c=c.split("-"),c=c.join("");const d={pair:n["id"],yyyymmdd:c};try{const e=await this.publicGetOhlcvHdYyyymmddPair(this.extend(d,a)),r="data"+this.timeframes[t],o=this.safeString(e,r),c=JSON.parse(o);return this.parseOHLCVs(c,n,t,i,s)}catch(h){if(h instanceof o)return[]}}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),s=this.safeNumber(e,"volume"),r=this.safeNumber(e,"high"),a=this.safeNumber(e,"low"),n=this.safeNumber(e,"bid"),o=this.safeNumber(e,"ask"),c=this.safeNumber(e,"last");let d=void 0;return t&&(d=t["symbol"]),{symbol:d,timestamp:i,datetime:this.iso8601(i),high:r,low:a,bid:n,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=Object.keys(this.currencies),s={currencies:i.join("/")},r=await this.publicGetTickersCurrencies(this.extend(s,t)),a=r["data"],n={};for(let o=0;o<a.length;o++){const e=a[o],t=e["pair"].replace(":","/"),i=this.markets[t];n[t]=this.parseTicker(e,i)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},r=await this.publicGetTickerPair(this.extend(s,t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),s=this.safeString(e,"tid"),r=void 0,a=this.safeString(e,"type"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(m.stringMul(n,o));let u=void 0;return void 0!==t&&(u=t["symbol"]),{info:e,id:s,timestamp:i,datetime:this.iso8601(i),symbol:u,type:r,side:a,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]},n=await this.publicGetTradeHistoryPair(this.extend(a,s));return this.parseTrades(n,r,t,i)}async createOrder(e,t,i,s,r,a={}){if("market"===t&&"buy"===i&&this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===r)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");s*=r}await this.loadMarkets();const n={pair:this.marketId(e),type:i,amount:s};"limit"===t?n["price"]=r:n["order_type"]=t;const o=await this.privatePostPlaceOrderPair(this.extend(n,a)),d=this.safeNumber(o,"amount"),h=this.safeNumber(o,"pending"),u=this.safeValue(o,"time"),l=this.safeValue(o,"complete"),f=l?"closed":"open";let p=void 0;return void 0!==d&&void 0!==h&&(p=Math.max(d-h,0)),{id:this.safeString(o,"id"),info:o,clientOrderId:void 0,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,type:t,side:this.safeString(o,"type"),symbol:e,status:f,price:this.safeNumber(o,"price"),amount:d,cost:void 0,average:void 0,remaining:h,filled:p,fee:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={id:e};return await this.privatePostCancelOrder(this.extend(s,i))}parseOrder(e,t){let i=this.safeValue(e,"time");i="string"===typeof i&&i.indexOf("T")>=0?this.parse8601(i):parseInt(i);let s=void 0;if(void 0===t){const i=this.safeString(e,"symbol1"),r=this.safeString(e,"symbol2"),a=this.safeCurrencyCode(i),n=this.safeCurrencyCode(r);s=a+"/"+n,s in this.markets&&(t=this.market(s))}const r=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeNumber(e,"price");let n=this.safeNumber(e,"amount");void 0!==n&&(n=Math.abs(n));const o=this.safeNumber2(e,"pending","remains"),c=n-o;let d=void 0,h=void 0;if(void 0!==t){s=t["symbol"];const i=this.safeNumber(e,"ta:"+t["quote"]),r=this.safeNumber(e,"tta:"+t["quote"]);h=this.sum(i,r);const a="fa:"+t["base"],n="tfa:"+t["base"],o="fa:"+t["quote"],c="tfa:"+t["quote"];let u=this.safeNumber(e,"tradingFeeMaker");if(u||(u=this.safeNumber(e,"tradingFeeTaker",u)),u&&(u/=100),a in e||n in e){const i=this.safeNumber2(e,a,n);d={currency:t["base"],rate:u,cost:i}}else if(o in e||c in e){const i=this.safeNumber2(e,o,c);d={currency:t["quote"],rate:u,cost:i}}}h||(h=a*c);const u=e["type"];let l=void 0;const f=e["id"];if("vtx"in e){l=[];for(let i=0;i<e["vtx"].length;i++){const r=e["vtx"][i],a=this.safeString(r,"type");if("cancel"===a)continue;const n=this.safeNumber(r,"price");if(void 0===n)continue;if("costsNothing"===a)continue;const o=this.parse8601(this.safeString(r,"time")),c=this.safeNumber(r,"amount"),d=this.safeNumber(r,"fee_amount");let h=c<0?-c:c,u=void 0;"sell"===a?(u=h,h=this.sum(d,u)/n):u=h*n,l.push({id:this.safeString(r,"id"),timestamp:o,datetime:this.iso8601(o),order:f,symbol:s,price:n,amount:h,cost:u,side:a,fee:{cost:d,currency:t["quote"]},info:r,type:void 0,takerOrMaker:void 0})}}return{id:f,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:r,symbol:s,type:void 0===a?"market":"limit",timeInForce:void 0,postOnly:void 0,side:u,price:a,stopPrice:void 0,cost:h,amount:n,filled:c,remaining:o,trades:l,fee:d,info:e,average:void 0}}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();const r={};let a="privatePostOpenOrders",n=void 0;void 0!==e&&(n=this.market(e),r["pair"]=n["id"],a+="Pair");const o=await this[a](this.extend(r,s));for(let c=0;c<o.length;c++)o[c]=this.extend(o[c],{status:"open"});return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,s={}){await this.loadMarkets();const r="privatePostArchivedOrdersPair";if(void 0===e)throw new a(this.id+" fetchClosedOrders() requires a symbol argument");const n=this.market(e),o={pair:n["id"]},c=await this[r](this.extend(o,s));return this.parseOrders(c,n,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const s={id:e.toString()},r=await this.privatePostGetOrderTx(this.extend(s,i)),a=this.safeValue(r,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={limit:i,pair:r["id"],dateFrom:t},n=await this.privatePostArchivedOrdersPair(this.extend(a,s)),o=[];for(let c=0;c<n.length;c++){const e=n[c],t=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeString(e,"symbol1"),s=this.safeString(e,"symbol2"),r=this.safeCurrencyCode(i),a=this.safeCurrencyCode(s),d=r+"/"+a,h=this.safeString(e,"type"),u=this.safeNumber(e,"a:"+i+":cds"),l=this.safeNumber(e,"a:"+s+":cds"),f=this.safeNumber(e,"f:"+s+":cds"),p=this.safeNumber(e,"amount"),m=this.safeNumber(e,"price"),g=this.safeNumber(e,"remains"),y=p-g;let v=void 0,b=void 0,w=void 0,k=void 0;if(m){const t=this.safeNumber(e,"ta:"+s,0),i=this.safeNumber(e,"tta:"+s,0),r=this.safeNumber(e,"fa:"+s,0),a=this.safeNumber(e,"tfa:"+s,0);b="sell"===h?this.sum(this.sum(t,i),this.sum(r,a)):this.sum(t,i)-this.sum(r,a),k="limit",v=p,w=b/y}else k="market",v=u,b=l,w=v/b;const S=this.safeString(e,"time"),_=this.safeString(e,"lastTxTime"),O=this.parse8601(S);o.push({id:this.safeString(e,"id"),timestamp:O,datetime:this.iso8601(O),lastUpdated:this.parse8601(_),status:t,symbol:d,side:h,price:m,amount:v,average:w,type:k,filled:y,cost:b,remaining:g,fee:{cost:f,currency:a},info:e})}return o}parseOrderStatus(e){return this.safeString(this.options["order"]["status"],e,e)}async editOrder(e,t,i,s,r,n,o={}){if(void 0===r)throw new a(this.id+" editOrder() requires a amount argument");if(void 0===n)throw new a(this.id+" editOrder() requires a price argument");await this.loadMarkets();const c=this.market(t),d={pair:c["id"],type:s,amount:r,price:n,order_id:e},h=await this.privatePostCancelReplaceOrderPair(this.extend(d,o));return this.parseOrder(h,c)}async fetchDepositAddress(e,t={}){if("XRP"===e||"XLM"===e)throw new d(this.id+" fetchDepositAddress does not support XRP and XLM addresses yet (awaiting docs from CEX.io)");await this.loadMarkets();const i=this.currency(e),s={currency:i["id"]},r=await this.privatePostGetAddress(this.extend(s,t)),a=this.safeString(r,"data");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:r}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.json(this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o)),r={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,c,d,h){if(Array.isArray(c))return c;if("true"!==n){if(void 0===c)throw new o(this.id+" returned "+this.json(c));if((!("e"in c)||!("ok"in c)||"ok"!==c["ok"])&&"error"in c){const e=this.safeString(c,"error"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new r(t)}}}}},f937:function(e,t,i){var s=i("5a7c"),r=s((function(e,t){return null==t||t!==t?e:t}));e.exports=r},f963:function(e,t,i){"use strict";function s(e,t){void 0===t&&(t=Object.create(null));var i=Object.keys(e).map((function(t){return[t,e[t]]})).map((function(e){var i=e[0],s=e[1];return[i,Object.prototype.hasOwnProperty.call(t,i)?t[i](s):s]})).filter((function(e){e[0];var t=e[1];return null!=t})).map((function(e){var t=e[0],i=e[1];return t+"="+i})).join("&");return i.length?"?"+i:""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},f9ee:function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=i("abf9"),a=i("56b8"),n=s(i("fb58f")),o=s(i("c7e6"));i("46e8");var c=s(i("bb3e")),d=i("fe34");t._hashChain=function(e){return r._fromIn(t.keccak(t.blake2b(r._fromIn(e))))},t.sha256=function(e){var t=o.algorithms.sha256.create();return t.update(d.bytesToString(e,"raw")),d.stringToBytes(t.digest().getBytes(),"raw")},t.blake2b=function(e){return c.blake2b(r._fromIn(e),null,32)},t.keccak=function(e){return r._fromIn(a.keccak256.array(r._fromIn(e)))},t.hmacSHA256=function(e,t){var i=n.create();return i.start("sha256",d.bytesToString(r._fromIn(t),"raw")),i.update(d.bytesToString(r._fromIn(e),"raw")),d.stringToBytes(i.digest().getBytes(),"raw")}},fa07:function(e,t){function i(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}e.exports=i},faa1:function(e,t,i){"use strict";var s,r="object"===typeof Reflect?Reflect:null,a=r&&"function"===typeof r.apply?r.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};function n(e){console&&console.warn&&console.warn(e)}s=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function h(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function l(e,t,i,s){var r,a,o;if(h(i),a=e._events,void 0===a?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]),void 0===o)o=a[t]=i,++e._eventsCount;else if("function"===typeof o?o=a[t]=s?[i,o]:[o,i]:s?o.unshift(i):o.push(i),r=u(e),r>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,n(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,i){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=f.bind(s);return r.listener=i,s.wrapFn=r,r}function m(e,t,i){var s=e._events;if(void 0===s)return[];var r=s[t];return void 0===r?[]:"function"===typeof r?i?[r.listener||r]:[r]:i?b(r):y(r,r.length)}function g(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function y(e,t){for(var i=new Array(t),s=0;s<t;++s)i[s]=e[s];return i}function v(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function w(e,t){return new Promise((function(i,s){function r(i){e.removeListener(t,a),s(i)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",r),i([].slice.call(arguments))}S(e,t,a,{once:!0}),"error"!==t&&k(e,r,{once:!0})}))}function k(e,t,i){"function"===typeof e.on&&S(e,"error",t,i)}function S(e,t,i,s){if("function"===typeof e.on)s.once?e.once(t,i):e.on(t,i);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(a){s.once&&e.removeEventListener(t,r),i(a)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var s="error"===e,r=this._events;if(void 0!==r)s=s&&void 0===r.error;else if(!s)return!1;if(s){var n;if(t.length>0&&(n=t[0]),n instanceof Error)throw n;var o=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw o.context=n,o}var c=r[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var d=c.length,h=y(c,d);for(i=0;i<d;++i)a(h[i],this,t)}return!0},c.prototype.addListener=function(e,t){return l(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return l(this,e,t,!0)},c.prototype.once=function(e,t){return h(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var i,s,r,a,n;if(h(t),s=this._events,void 0===s)return this;if(i=s[e],void 0===i)return this;if(i===t||i.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!==typeof i){for(r=-1,a=i.length-1;a>=0;a--)if(i[a]===t||i[a].listener===t){n=i[a].listener,r=a;break}if(r<0)return this;0===r?i.shift():v(i,r),1===i.length&&(s[e]=i[0]),void 0!==s.removeListener&&this.emit("removeListener",e,n||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,i,s;if(i=this._events,void 0===i)return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,a=Object.keys(i);for(s=0;s<a.length;++s)r=a[s],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},c.prototype.listeners=function(e){return m(this,e,!0)},c.prototype.rawListeners=function(e){return m(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},faff:function(e,t,i){var s=i("dae8"),r=i("5a7c"),a=r(s);e.exports=a},fb3e:function(e,t,i){var s=i("5259");i("6497"),i("deb0");var r=e.exports=s.asn1=s.asn1||{};function a(e,t,i){if(i>t){var s=new Error("Too few bytes to parse DER.");throw s.available=e.length(),s.remaining=t,s.requested=i,s}}r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(e,t,i,a,n){if(s.util.isArray(a)){for(var o=[],c=0;c<a.length;++c)void 0!==a[c]&&o.push(a[c]);a=o}var d={tagClass:e,type:t,constructed:i,composed:i||s.util.isArray(a),value:a};return n&&"bitStringContents"in n&&(d.bitStringContents=n.bitStringContents,d.original=r.copy(d)),d},r.copy=function(e,t){var i;if(s.util.isArray(e)){i=[];for(var a=0;a<e.length;++a)i.push(r.copy(e[a],t));return i}return"string"===typeof e?e:(i={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:r.copy(e.value,t)},t&&!t.excludeBitStringContents&&(i.bitStringContents=e.bitStringContents),i)},r.equals=function(e,t,i){if(s.util.isArray(e)){if(!s.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(!r.equals(e[a],t[a]))return!1;return!0}if(typeof e!==typeof t)return!1;if("string"===typeof e)return e===t;var n=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&r.equals(e.value,t.value);return i&&i.includeBitStringContents&&(n=n&&e.bitStringContents===t.bitStringContents),n},r.getBerValueLength=function(e){var t=e.getByte();if(128!==t){var i,s=128&t;return i=s?e.getInt((127&t)<<3):t,i}};var n=function(e,t){var i=e.getByte();if(t--,128!==i){var s,r=128&i;if(r){var n=127&i;a(e,t,n),s=e.getInt(n<<3)}else s=i;if(s<0)throw new Error("Negative length: "+s);return s}};function o(e,t,i,s){var c;a(e,t,2);var d=e.getByte();t--;var h=192&d,u=31&d;c=e.length();var l,f,p=n(e,t);if(t-=c-e.length(),void 0!==p&&p>t){if(s.strict){var m=new Error("Too few bytes to read ASN.1 value.");throw m.available=e.length(),m.remaining=t,m.requested=p,m}p=t}var g=32===(32&d);if(g)if(l=[],void 0===p)for(;;){if(a(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}c=e.length(),l.push(o(e,t,i+1,s)),t-=c-e.length()}else while(p>0)c=e.length(),l.push(o(e,p,i+1,s)),t-=c-e.length(),p-=c-e.length();if(void 0===l&&h===r.Class.UNIVERSAL&&u===r.Type.BITSTRING&&(f=e.bytes(p)),void 0===l&&s.decodeBitStrings&&h===r.Class.UNIVERSAL&&u===r.Type.BITSTRING&&p>1){var y=e.read,v=t,b=0;if(u===r.Type.BITSTRING&&(a(e,t,1),b=e.getByte(),t--),0===b)try{c=e.length();var w={verbose:s.verbose,strict:!0,decodeBitStrings:!0},k=o(e,t,i+1,w),S=c-e.length();t-=S,u==r.Type.BITSTRING&&S++;var _=k.tagClass;S!==p||_!==r.Class.UNIVERSAL&&_!==r.Class.CONTEXT_SPECIFIC||(l=[k])}catch(T){}void 0===l&&(e.read=y,t=v)}if(void 0===l){if(void 0===p){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=t}if(u===r.Type.BMPSTRING)for(l="";p>0;p-=2)a(e,t,2),l+=String.fromCharCode(e.getInt16()),t-=2;else l=e.getBytes(p)}var O=void 0===f?null:{bitStringContents:f};return r.create(h,u,g,l,O)}r.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"===typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"===typeof e&&(e=s.util.createBuffer(e)),o(e,e.length(),0,t)},r.toDer=function(e){var t=s.util.createBuffer(),i=e.tagClass|e.type,a=s.util.createBuffer(),n=!1;if("bitStringContents"in e&&(n=!0,e.original&&(n=r.equals(e,e.original))),n)a.putBytes(e.bitStringContents);else if(e.composed){e.constructed?i|=32:a.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&a.putBuffer(r.toDer(e.value[o]))}else if(e.type===r.Type.BMPSTRING)for(o=0;o<e.value.length;++o)a.putInt16(e.value.charCodeAt(o));else e.type===r.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0===(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128===(128&e.value.charCodeAt(1)))?a.putBytes(e.value.substr(1)):a.putBytes(e.value);if(t.putByte(i),a.length()<=127)t.putByte(127&a.length());else{var c=a.length(),d="";do{d+=String.fromCharCode(255&c),c>>>=8}while(c>0);t.putByte(128|d.length);for(o=d.length-1;o>=0;--o)t.putByte(d.charCodeAt(o))}return t.putBuffer(a),t},r.oidToDer=function(e){var t,i,r,a,n=e.split("."),o=s.util.createBuffer();o.putByte(40*parseInt(n[0],10)+parseInt(n[1],10));for(var c=2;c<n.length;++c){t=!0,i=[],r=parseInt(n[c],10);do{a=127&r,r>>>=7,t||(a|=128),i.push(a),t=!1}while(r>0);for(var d=i.length-1;d>=0;--d)o.putByte(i[d])}return o},r.derToOid=function(e){var t;"string"===typeof e&&(e=s.util.createBuffer(e));var i=e.getByte();t=Math.floor(i/40)+"."+i%40;var r=0;while(e.length()>0)i=e.getByte(),r<<=7,128&i?r+=127&i:(t+="."+(r+i),r=0);return t},r.utcTimeToDate=function(e){var t=new Date,i=parseInt(e.substr(0,2),10);i=i>=50?1900+i:2e3+i;var s=parseInt(e.substr(2,2),10)-1,r=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),n=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),d=10;"+"!==c&&"-"!==c&&(o=parseInt(e.substr(10,2),10),d+=2)}if(t.setUTCFullYear(i,s,r),t.setUTCHours(a,n,o,0),d&&(c=e.charAt(d),"+"===c||"-"===c)){var h=parseInt(e.substr(d+1,2),10),u=parseInt(e.substr(d+4,2),10),l=60*h+u;l*=6e4,"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t},r.generalizedTimeToDate=function(e){var t=new Date,i=parseInt(e.substr(0,4),10),s=parseInt(e.substr(4,2),10)-1,r=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),n=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,d=0,h=!1;"Z"===e.charAt(e.length-1)&&(h=!0);var u=e.length-5,l=e.charAt(u);if("+"===l||"-"===l){var f=parseInt(e.substr(u+1,2),10),p=parseInt(e.substr(u+4,2),10);d=60*f+p,d*=6e4,"+"===l&&(d*=-1),h=!0}return"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),h?(t.setUTCFullYear(i,s,r),t.setUTCHours(a,n,o,c),t.setTime(+t+d)):(t.setFullYear(i,s,r),t.setHours(a,n,o,c)),t},r.dateToUtcTime=function(e){if("string"===typeof e)return e;var t="",i=[];i.push((""+e.getUTCFullYear()).substr(2)),i.push(""+(e.getUTCMonth()+1)),i.push(""+e.getUTCDate()),i.push(""+e.getUTCHours()),i.push(""+e.getUTCMinutes()),i.push(""+e.getUTCSeconds());for(var s=0;s<i.length;++s)i[s].length<2&&(t+="0"),t+=i[s];return t+="Z",t},r.dateToGeneralizedTime=function(e){if("string"===typeof e)return e;var t="",i=[];i.push(""+e.getUTCFullYear()),i.push(""+(e.getUTCMonth()+1)),i.push(""+e.getUTCDate()),i.push(""+e.getUTCHours()),i.push(""+e.getUTCMinutes()),i.push(""+e.getUTCSeconds());for(var s=0;s<i.length;++s)i[s].length<2&&(t+="0"),t+=i[s];return t+="Z",t},r.integerToDer=function(e){var t=s.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var i=new Error("Integer too large; max is 32-bits.");throw i.integer=e,i},r.derToInteger=function(e){"string"===typeof e&&(e=s.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},r.validate=function(e,t,i,a){var n=!1;if(e.tagClass!==t.tagClass&&"undefined"!==typeof t.tagClass||e.type!==t.type&&"undefined"!==typeof t.type)a&&(e.tagClass!==t.tagClass&&a.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&a.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||"undefined"===typeof t.constructed){if(n=!0,t.value&&s.util.isArray(t.value))for(var o=0,c=0;n&&c<t.value.length;++c)n=t.value[c].optional||!1,e.value[o]&&(n=r.validate(e.value[o],t.value[c],i,a),n?++o:t.value[c].optional&&(n=!0)),!n&&a&&a.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(n&&i)if(t.capture&&(i[t.capture]=e.value),t.captureAsn1&&(i[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(i[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)i[t.captureBitStringValue]="";else{var d=e.bitStringContents.charCodeAt(0);if(0!==d)throw new Error("captureBitStringValue only supported for zero unused bits");i[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else a&&a.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return n};var c=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(e,t,i){var a="";t=t||0,i=i||2,t>0&&(a+="\n");for(var n="",o=0;o<t*i;++o)n+=" ";switch(a+=n+"Tag: ",e.tagClass){case r.Class.UNIVERSAL:a+="Universal:";break;case r.Class.APPLICATION:a+="Application:";break;case r.Class.CONTEXT_SPECIFIC:a+="Context-Specific:";break;case r.Class.PRIVATE:a+="Private:";break}if(e.tagClass===r.Class.UNIVERSAL)switch(a+=e.type,e.type){case r.Type.NONE:a+=" (None)";break;case r.Type.BOOLEAN:a+=" (Boolean)";break;case r.Type.INTEGER:a+=" (Integer)";break;case r.Type.BITSTRING:a+=" (Bit string)";break;case r.Type.OCTETSTRING:a+=" (Octet string)";break;case r.Type.NULL:a+=" (Null)";break;case r.Type.OID:a+=" (Object Identifier)";break;case r.Type.ODESC:a+=" (Object Descriptor)";break;case r.Type.EXTERNAL:a+=" (External or Instance of)";break;case r.Type.REAL:a+=" (Real)";break;case r.Type.ENUMERATED:a+=" (Enumerated)";break;case r.Type.EMBEDDED:a+=" (Embedded PDV)";break;case r.Type.UTF8:a+=" (UTF8)";break;case r.Type.ROID:a+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:a+=" (Sequence)";break;case r.Type.SET:a+=" (Set)";break;case r.Type.PRINTABLESTRING:a+=" (Printable String)";break;case r.Type.IA5String:a+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:a+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:a+=" (Generalized time)";break;case r.Type.BMPSTRING:a+=" (BMP String)";break}else a+=e.type;if(a+="\n",a+=n+"Constructed: "+e.constructed+"\n",e.composed){var d=0,h="";for(o=0;o<e.value.length;++o)void 0!==e.value[o]&&(d+=1,h+=r.prettyPrint(e.value[o],t+1,i),o+1<e.value.length&&(h+=","));a+=n+"Sub values: "+d+h}else{if(a+=n+"Value: ",e.type===r.Type.OID){var u=r.derToOid(e.value);a+=u,s.pki&&s.pki.oids&&u in s.pki.oids&&(a+=" ("+s.pki.oids[u]+") ")}if(e.type===r.Type.INTEGER)try{a+=r.derToInteger(e.value)}catch(f){a+="0x"+s.util.bytesToHex(e.value)}else if(e.type===r.Type.BITSTRING){if(e.value.length>1?a+="0x"+s.util.bytesToHex(e.value.slice(1)):a+="(none)",e.value.length>0){var l=e.value.charCodeAt(0);1==l?a+=" (1 unused bit shown)":l>1&&(a+=" ("+l+" unused bits shown)")}}else e.type===r.Type.OCTETSTRING?(c.test(e.value)||(a+="("+e.value+") "),a+="0x"+s.util.bytesToHex(e.value)):e.type===r.Type.UTF8?a+=s.util.decodeUtf8(e.value):e.type===r.Type.PRINTABLESTRING||e.type===r.Type.IA5String?a+=e.value:c.test(e.value)?a+="0x"+s.util.bytesToHex(e.value):0===e.value.length?a+="[null]":a+=e.value}return a}},fb58:function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i("b1a8")),s(i("aa3f")),s(i("c9b5")),s(i("8e94")),s(i("9c4b")),s(i("6783"))},fb58f:function(e,t,i){var s=i("5259");i("c7e6"),i("6497");var r=e.exports=s.hmac=s.hmac||{};r.create=function(){var e=null,t=null,i=null,r=null,a={start:function(a,n){if(null!==a)if("string"===typeof a){if(a=a.toLowerCase(),!(a in s.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');t=s.md.algorithms[a].create()}else t=a;if(null===n)n=e;else{if("string"===typeof n)n=s.util.createBuffer(n);else if(s.util.isArray(n)){var o=n;n=s.util.createBuffer();for(var c=0;c<o.length;++c)n.putByte(o[c])}var d=n.length();d>t.blockLength&&(t.start(),t.update(n.bytes()),n=t.digest()),i=s.util.createBuffer(),r=s.util.createBuffer(),d=n.length();for(c=0;c<d;++c){o=n.at(c);i.putByte(54^o),r.putByte(92^o)}if(d<t.blockLength)for(o=t.blockLength-d,c=0;c<o;++c)i.putByte(54),r.putByte(92);e=n,i=i.bytes(),r=r.bytes()}t.start(),t.update(i)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(r),t.update(e),t.digest()}};return a.digest=a.getMac,a}},fb6a:function(e,t,i){"use strict";var s=i("23e7"),r=i("861d"),a=i("e8b5"),n=i("23cb"),o=i("50c4"),c=i("fc6a"),d=i("8418"),h=i("b622"),u=i("1dde"),l=u("slice"),f=h("species"),p=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!l},{slice:function(e,t){var i,s,h,u=c(this),l=o(u.length),g=n(e,l),y=n(void 0===t?l:t,l);if(a(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return p.call(u,g,y);for(s=new(void 0===i?Array:i)(m(y-g,0)),h=0;g<y;g++,h++)g in u&&d(s,h,u[g]);return s.length=h,s}})},fc50:function(e,t,i){"use strict";(function(s,r){Object.defineProperty(t,"__esModule",{value:!0});const a=Symbol("buffer"),n=Symbol("type");class o{constructor(){this[n]="";const e=arguments[0],t=arguments[1],i=[];if(e){const t=e,r=Number(t.length);for(let e=0;e<r;e++){const r=t[e];let n;n=r instanceof s?r:ArrayBuffer.isView(r)?s.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?s.from(r):r instanceof o?r[a]:s.from("string"===typeof r?r:String(r)),i.push(n)}}this[a]=s.concat(i);let r=t&&void 0!==t.type&&String(t.type).toLowerCase();r&&!/[^\u0020-\u007E]/.test(r)&&(this[n]=r)}get size(){return this[a].length}get type(){return this[n]}slice(){const e=this.size,t=arguments[0],i=arguments[1];let s,r;s=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),r=void 0===i?e:i<0?Math.max(e+i,0):Math.min(i,e);const n=Math.max(r-s,0),c=this[a],d=c.slice(s,s+n),h=new o([],{type:arguments[2]});return h[a]=d,h}}function c(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="FetchError";const d=i("d485");var h=i("d485");const u=h.PassThrough,l=Symbol("Body internals");function f(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.size;let a=void 0===r?0:r;var n=i.timeout;let h=void 0===n?0:n;null==e?e=null:"string"===typeof e||g(e)||e instanceof o||s.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||e instanceof d||(e=String(e)),this[l]={body:e,disturbed:!1,error:null},this.size=a,this.timeout=h,e instanceof d&&e.on("error",(function(e){t[l].error=new c(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e)}))}function p(){var e=this;if(this[l].disturbed)return f.Promise.reject(new TypeError("body used already for: "+this.url));if(this[l].disturbed=!0,this[l].error)return f.Promise.reject(this[l].error);if(null===this.body)return f.Promise.resolve(s.alloc(0));if("string"===typeof this.body)return f.Promise.resolve(s.from(this.body));if(this.body instanceof o)return f.Promise.resolve(this.body[a]);if(s.isBuffer(this.body))return f.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return f.Promise.resolve(s.from(this.body));if(!(this.body instanceof d))return f.Promise.resolve(s.alloc(0));let t=[],i=0,r=!1;return new f.Promise((function(a,n){let o;e.timeout&&(o=setTimeout((function(){r=!0,n(new c(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),e.body.on("error",(function(t){n(new c(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),e.body.on("data",(function(s){if(!r&&null!==s){if(e.size&&i+s.length>e.size)return r=!0,void n(new c(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=s.length,t.push(s)}})),e.body.on("end",(function(){if(!r){clearTimeout(o);try{a(s.concat(t))}catch(i){n(new c(`Could not create Buffer from response body for ${e.url}: ${i.message}`,"system",i))}}}))}))}function m(e,t){if("function"!==typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");const i=t.get("content-type");let s,r,a="utf-8";return i&&(s=/charset=([^;]*)/i.exec(i)),r=e.slice(0,1024).toString(),!s&&r&&(s=/<meta.+?charset=(['"])(.+?)\1/i.exec(r)),!s&&r&&(s=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(r),s&&(s=/charset=(.*)/i.exec(s.pop()))),!s&&r&&(s=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(r)),s&&(a=s.pop(),"gb2312"!==a&&"gbk"!==a||(a="gb18030")),convert(e,"UTF-8",a).toString()}function g(e){return"object"===typeof e&&"function"===typeof e.append&&"function"===typeof e.delete&&"function"===typeof e.get&&"function"===typeof e.getAll&&"function"===typeof e.has&&"function"===typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"===typeof e.sort)}function y(e){let t,i,s=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof d&&"function"!==typeof s.getBoundary&&(t=new u,i=new u,s.pipe(t),s.pipe(i),e[l].body=t,s=i),s}function v(e){const t=e.body;return null===t?null:"string"===typeof t?"text/plain;charset=UTF-8":g(t)?"application/x-www-form-urlencoded;charset=UTF-8":t instanceof o?t.type||null:s.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:"function"===typeof t.getBoundary?"multipart/form-data;boundary="+t.getBoundary():null}function b(e){const t=e.body;return null===t?0:"string"===typeof t?s.byteLength(t):g(t)?s.byteLength(String(t)):t instanceof o?t.size:s.isBuffer(t)?t.length:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?t.byteLength:t&&"function"===typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function w(e,t){const i=t.body;null===i?e.end():"string"===typeof i?(e.write(i),e.end()):g(i)?(e.write(s.from(String(i))),e.end()):i instanceof o?(e.write(i[a]),e.end()):s.isBuffer(i)?(e.write(i),e.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(i)?(e.write(s.from(i)),e.end()):i.pipe(e)}f.prototype={get body(){return this[l].body},get bodyUsed(){return this[l].disturbed},arrayBuffer(){return p.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return p.call(this).then((function(t){return Object.assign(new o([],{type:e.toLowerCase()}),{[a]:t})}))},json(){var e=this;return p.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(i){return f.Promise.reject(new c(`invalid json response body at ${e.url} reason: ${i.message}`,"invalid-json"))}}))},text(){return p.call(this).then((function(e){return e.toString()}))},buffer(){return p.call(this)},textConverted(){var e=this;return p.call(this).then((function(t){return m(t,e.headers)}))}},Object.defineProperties(f.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),f.mixIn=function(e){for(const t of Object.getOwnPropertyNames(f.prototype))if(!(t in e)){const i=Object.getOwnPropertyDescriptor(f.prototype,t);Object.defineProperty(e,t,i)}},f.Promise=r.Promise;const k=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,S=/[^\t\x20-\x7e\x80-\xff]/;function _(e){if(e=""+e,k.test(e))throw new TypeError(e+" is not a legal HTTP header name")}function O(e){if(e=""+e,S.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function T(e,t){t=t.toLowerCase();for(const i in e)if(i.toLowerCase()===t)return i}const C=Symbol("map");class x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[C]=Object.create(null),e instanceof x){const t=e.raw(),i=Object.keys(t);for(const e of i)for(const i of t[e])this.append(e,i)}else if(null==e);else{if("object"!==typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!==typeof t)throw new TypeError("Header pairs must be iterable");const i=[];for(const t of e){if("object"!==typeof t||"function"!==typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(const e of i){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const i of Object.keys(e)){const t=e[i];this.append(i,t)}}}}get(e){e=""+e,_(e);const t=T(this[C],e);return void 0===t?null:this[C][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=I(this),s=0;while(s<i.length){var r=i[s];const a=r[0],n=r[1];e.call(t,n,a,this),i=I(this),s++}}set(e,t){e=""+e,t=""+t,_(e),O(t);const i=T(this[C],e);this[C][void 0!==i?i:e]=[t]}append(e,t){e=""+e,t=""+t,_(e),O(t);const i=T(this[C],e);void 0!==i?this[C][i].push(t):this[C][e]=[t]}has(e){return e=""+e,_(e),void 0!==T(this[C],e)}delete(e){e=""+e,_(e);const t=T(this[C],e);void 0!==t&&delete this[C][t]}raw(){return this[C]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const i=Object.keys(e[C]).sort();return i.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[C][t].join(", ")}:function(t){return[t.toLowerCase(),e[C][t].join(", ")]})}x.prototype.entries=x.prototype[Symbol.iterator],Object.defineProperty(x.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(x.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const E=Symbol("internal");function A(e,t){const i=Object.create(N);return i[E]={target:e,kind:t,index:0},i}const N=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==N)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[E];const t=e.target,i=e.kind,s=e.index,r=I(t,i),a=r.length;return s>=a?{value:void 0,done:!0}:(this[E].index=s+1,{value:r[s],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function M(e){const t=Object.assign({__proto__:null},e[C]),i=T(e[C],"Host");return void 0!==i&&(t[i]=t[i][0]),t}function P(e){const t=new x;for(const i of Object.keys(e))if(!k.test(i))if(Array.isArray(e[i]))for(const s of e[i])S.test(s)||(void 0===t[C][i]?t[C][i]=[s]:t[C][i].push(s));else S.test(e[i])||(t[C][i]=[e[i]]);return t}Object.defineProperty(N,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});var B=i("9490");const R=B.STATUS_CODES,L=Symbol("Response internals");class V{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.call(this,e,t);const i=t.status||200;this[L]={url:t.url,status:i,statusText:t.statusText||R[i],headers:new x(t.headers)}}get url(){return this[L].url}get status(){return this[L].status}get ok(){return this[L].status>=200&&this[L].status<300}get statusText(){return this[L].statusText}get headers(){return this[L].headers}clone(){return new V(y(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}f.mixIn(V.prototype),Object.defineProperties(V.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(V.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var D=i("0b16");const q=D.format,j=D.parse,G=Symbol("Request internals");function U(e){return"object"===typeof e&&"object"===typeof e[G]}class F{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(e)?t=j(e.url):(t=e&&e.href?j(e.href):j(""+e),e={});let s=i.method||e.method||"GET";if(s=s.toUpperCase(),(null!=i.body||U(e)&&null!==e.body)&&("GET"===s||"HEAD"===s))throw new TypeError("Request with GET/HEAD method cannot have body");let r=null!=i.body?i.body:U(e)&&null!==e.body?y(e):null;f.call(this,r,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});const a=new x(i.headers||e.headers||{});if(null!=i.body){const e=v(this);null===e||a.has("Content-Type")||a.append("Content-Type",e)}this[G]={method:s,redirect:i.redirect||e.redirect||"follow",headers:a,parsedURL:t},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[G].method}get url(){return q(this[G].parsedURL)}get headers(){return this[G].headers}get redirect(){return this[G].redirect}clone(){return new F(this)}}function H(e){const t=e[G].parsedURL,i=new x(e[G].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");let s=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(s="0"),null!=e.body){const t=b(e);"number"===typeof t&&(s=String(t))}return s&&i.set("Content-Length",s),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&i.set("Accept-Encoding","gzip,deflate"),i.has("Connection")||e.agent||i.set("Connection","close"),Object.assign({},t,{method:e.method,headers:M(i),agent:e.agent})}f.mixIn(F.prototype),Object.defineProperty(F.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(F.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});const z=i("9490"),K=i("24f8");var W=i("d485");const $=W.PassThrough;var Y=i("0b16");const X=Y.resolve,Z=i("470b");function Q(e,t){if(!Q.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return f.Promise=Q.Promise,new Q.Promise((function(i,s){const r=new F(e,t),a=H(r),n=("https:"===a.protocol?K:z).request,o=n(a);let d;function h(){o.abort(),clearTimeout(d)}r.timeout&&o.once("socket",(function(e){d=setTimeout((function(){s(new c("network timeout at: "+r.url,"request-timeout")),h()}),r.timeout)})),o.on("error",(function(e){s(new c(`request to ${r.url} failed, reason: ${e.message}`,"system",e)),h()})),o.on("response",(function(e){clearTimeout(d);const t=P(e.headers);if(Q.isRedirect(e.statusCode)){const a=t.get("Location"),n=null===a?null:X(r.url,a);switch(r.redirect){case"error":return s(new c("redirect mode is set to error: "+r.url,"no-redirect")),void h();case"manual":null!==n&&t.set("Location",n);break;case"follow":if(null===n)break;if(r.counter>=r.follow)return s(new c("maximum redirect reached at: "+r.url,"max-redirect")),void h();const a={headers:new x(r.headers),follow:r.follow,counter:r.counter+1,agent:r.agent,compress:r.compress,method:r.method,body:r.body};return 303!==e.statusCode&&r.body&&null===b(r)?(s(new c("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==r.method)||(a.method="GET",a.body=void 0,a.headers.delete("content-length")),i(Q(new F(n,a))),void h())}}let a=e.pipe(new $);const n={url:r.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:r.size,timeout:r.timeout},o=t.get("Content-Encoding");if(!r.compress||"HEAD"===r.method||null===o||204===e.statusCode||304===e.statusCode)return void i(new V(a,n));const u={flush:Z.Z_SYNC_FLUSH,finishFlush:Z.Z_SYNC_FLUSH};if("gzip"==o||"x-gzip"==o)return a=a.pipe(Z.createGunzip(u)),void i(new V(a,n));if("deflate"!=o&&"x-deflate"!=o)i(new V(a,n));else{const t=e.pipe(new $);t.once("data",(function(e){a=8===(15&e[0])?a.pipe(Z.createInflate()):a.pipe(Z.createInflateRaw()),i(new V(a,n))}))}})),w(o,r)}))}Q.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Q.default=Q,Q.Promise=r.Promise,Q.http=z,Q.https=K,e.exports=t=Q,t.Headers=x,t.Request=F,t.Response=V,t.FetchError=c}).call(this,i("b639").Buffer,i("c8ba"))},fc6a:function(e,t,i){var s=i("44ad"),r=i("1d80");e.exports=function(e){return s(r(e))}},fce3:function(e,t,i){var s=i("d039");e.exports=s((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fd46:function(e,t,i){var s=i("84eb");function r(e,t){return function(){var i=arguments.length;if(0===i)return t();var r=arguments[i-1];return s(r)||"function"!==typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,i-1))}}e.exports=r},fd6f:function(e,t){function i(e){return null!=e&&"function"===typeof e["@@transducer/step"]}e.exports=i},fd8c:function(e,t,i){"use strict";const s=i("90db"),{ExchangeError:r,InvalidNonce:a,AuthenticationError:n,OrderNotFound:o}=i("74b0"),{TICK_SIZE:c}=i("5ea4"),d=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"bitso",name:"Bitso",countries:["MX"],rateLimit:2e3,version:"v3",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295554-11f98280-c50e-11ea-80d6-15b3bafa8cbf.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees",referral:"https://bitso.com/?ref=itej"},precisionMode:c,options:{precision:{XRP:1e-6,MXN:.01,TUSD:.01},defaultPrecision:1e-8},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":n,104:a}})}async fetchMarkets(e={}){const t=await this.publicGetAvailableBooks(e),i=this.safeValue(t,"payload"),s=[];for(let r=0;r<i.length;r++){const e=i[r],t=this.safeString(e,"book"),[a,n]=t.split("_");let o=a.toUpperCase(),c=n.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const h=o+"/"+c,u={amount:{min:this.safeNumber(e,"minimum_amount"),max:this.safeNumber(e,"maximum_amount")},price:{min:this.safeNumber(e,"minimum_price"),max:this.safeNumber(e,"maximum_price")},cost:{min:this.safeNumber(e,"minimum_value"),max:this.safeNumber(e,"maximum_value")}},l=this.safeNumber(this.options["precision"],c,this.options["defaultPrecision"]),f=this.safeNumber(e,"tick_size",l),p={amount:this.safeNumber(this.options["precision"],o,this.options["defaultPrecision"]),price:f},m=this.safeValue(e,"fees",{}),g=this.safeValue(m,"flat_rate",{}),y=this.safeString(g,"maker"),v=this.safeString(g,"taker"),b=this.parseNumber(d.stringDiv(y,"100")),w=this.parseNumber(d.stringDiv(v,"100")),k=this.safeValue(m,"structure",[]),S={taker:w,maker:b,percentage:!0,tierBased:!0},_=[],O=[];for(let i=0;i<k.length;i++){const e=k[i],t=this.safeNumber(e,"volume"),s=this.safeNumber(e,"taker"),r=this.safeNumber(e,"maker");_.push([t,s]),O.push([t,r]),0===i&&(S["taker"]=s,S["maker"]=r)}const T={taker:_,maker:O};S["tiers"]=T,s.push(this.extend({id:t,symbol:h,base:o,quote:c,baseId:a,quoteId:n,info:e,limits:u,precision:p,active:void 0},S))}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"payload",{}),s=this.safeValue(i,"balances"),r={info:t,timestamp:void 0,datetime:void 0};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),n=this.account();n["free"]=this.safeString(e,"available"),n["used"]=this.safeString(e,"locked"),n["total"]=this.safeString(e,"total"),r[i]=n}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s={book:this.marketId(e)},r=await this.publicGetOrderBook(this.extend(s,i)),a=this.safeValue(r,"payload"),n=this.parse8601(this.safeString(a,"updated_at"));return this.parseOrderBook(a,e,n,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={book:this.marketId(e)},s=await this.publicGetTicker(this.extend(i,t)),r=this.safeValue(s,"payload"),a=this.parse8601(this.safeString(r,"created_at")),n=this.safeNumber(r,"vwap"),o=this.safeNumber(r,"volume");let c=void 0;void 0!==o&&void 0!==n&&(c=o*n);const d=this.safeNumber(r,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:n,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:r}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"book"),r=this.safeSymbol(s,t,"_"),a=this.safeString2(e,"side","maker_side");let n=this.safeNumber2(e,"amount","major");void 0!==n&&(n=Math.abs(n));let o=void 0;const c=this.safeNumber(e,"fees_amount");if(void 0!==c){const t=this.safeString(e,"fees_currency"),i=this.safeCurrencyCode(t);o={cost:c,currency:i}}let d=this.safeNumber(e,"minor");void 0!==d&&(d=Math.abs(d));const h=this.safeNumber(e,"price"),u=this.safeString(e,"oid"),l=this.safeString(e,"tid");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:u,type:void 0,side:a,takerOrMaker:void 0,price:h,amount:n,cost:d,fee:o}}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={book:r["id"]},n=await this.publicGetTrades(this.extend(a,s));return this.parseTrades(n["payload"],r,t,i)}async fetchMyTrades(e,t,i=25,s={}){await this.loadMarkets();const a=this.market(e),n="marker"in s;if(void 0!==t&&!n)throw new r(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");n&&(s=this.extend(s,{marker:parseInt(s["marker"])}));const o={book:a["id"],limit:i},c=await this.privateGetUserTrades(this.extend(o,s));return this.parseTrades(c["payload"],a,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={book:this.marketId(e),side:i,type:t,major:this.amountToPrecision(e,s)};"limit"===t&&(n["price"]=this.priceToPrecision(e,r));const o=await this.privatePostOrders(this.extend(n,a)),c=this.safeString(o["payload"],"oid");return{info:o,id:c}}async cancelOrder(e,t,i={}){await this.loadMarkets();const s={oid:e};return await this.privateDeleteOrdersOid(this.extend(s,i))}parseOrderStatus(e){const t={"partial-fill":"open",completed:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"oid"),s=this.safeString(e,"side"),r=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeString(e,"book"),n=this.safeSymbol(a,t,"_"),o=this.safeString(e,"type"),c=this.parse8601(this.safeString(e,"created_at")),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"original_amount"),u=this.safeNumber(e,"unfilled_amount"),l=this.safeString(e,"client_id");return this.safeOrder({info:e,id:i,clientOrderId:l,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:n,type:o,timeInForce:void 0,postOnly:void 0,side:s,price:d,stopPrice:void 0,amount:h,cost:void 0,remaining:u,filled:void 0,status:r,fee:void 0,average:void 0,trades:void 0})}async fetchOpenOrders(e,t,i=25,s={}){await this.loadMarkets();const a=this.market(e),n="marker"in s;if(void 0!==t&&!n)throw new r(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");n&&(s=this.extend(s,{marker:parseInt(s["marker"])}));const o={book:a["id"],limit:i},c=await this.privateGetOpenOrders(this.extend(o,s)),d=this.parseOrders(c["payload"],a,t,i);return d}async fetchOrder(e,t,i={}){await this.loadMarkets();const s=await this.privateGetOrdersOid({oid:e}),r=this.safeValue(s,"payload");if(Array.isArray(r)){const e=s["payload"].length;if(1===e)return this.parseOrder(r[0])}throw new o(this.id+": The order "+e+" not found.")}async fetchOrderTrades(e,t,i,s,r={}){await this.loadMarkets();const a=this.market(t),n={oid:e},o=await this.privateGetOrderTradesOid(this.extend(n,r));return this.parseTrades(o["payload"],a)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),s={fund_currency:i["id"]},r=await this.privateGetFundingDestination(this.extend(s,t));let a=this.safeString(r["payload"],"account_identifier"),n=void 0;if(a.indexOf("?dt=")>=0){const e=a.split("?dt=");a=this.safeString(e,0),n=this.safeString(e,1)}return this.checkAddress(a),{currency:e,address:a,tag:n,info:r}}async withdraw(e,t,i,s,a={}){this.checkAddress(i),await this.loadMarkets();const n={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"},o=e in n?n[e]:void 0;if(void 0===o)throw new r(this.id+" not valid withdraw coin: "+e);const c={amount:t,address:i,destination_tag:s},d="privatePost"+o+"Withdrawal",h=await this[d](this.extend(c,a));return{info:h,id:this.safeString(h["payload"],"wid")}}sign(e,t="public",i="GET",s={},r,a){let n="/"+this.version+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls["api"]+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,n].join("");"GET"!==i&&Object.keys(o).length&&(a=this.json(o),t+=a);const s=this.hmac(this.encode(t),this.encode(this.secret)),c=this.apiKey+":"+e+":"+s;r={Authorization:"Bitso "+c,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:r}}handleErrors(e,t,i,s,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.id+" "+this.json(o),t=this.safeValue(o,"error");if(void 0===t)throw new r(e);const i=this.safeString(t,"code");throw this.throwExactlyMatchedException(this.exceptions,i,e),new r(e)}}}async request(e,t="public",i="GET",s={},a,n){const o=await this.fetch2(e,t,i,s,a,n);if("success"in o&&o["success"])return o;throw new r(this.id+" "+this.json(o))}}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,i){var s=i("4930");e.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe34:function(e,t,i){"use strict";var s=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,a=i.call(e),n=[];try{while((void 0===t||t-- >0)&&!(s=a.next()).done)n.push(s.value)}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}return n},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=i("abf9"),n=i("5eec");t.stringToBytes=function(e,t){if(void 0===t&&(t="utf8"),"utf8"===t)return n.strToUtf8Array(e);if("raw"===t)return Uint8Array.from(r(e).map((function(e){return e.charCodeAt(0)})));throw new Error("Unsupported encoding "+t)},t.bytesToString=function(e,t){if(void 0===t&&(t="utf8"),"utf8"===t)return n.utf8ArrayToStr(Array.from(a._fromIn(e)));if("raw"===t)return Array.from(a._fromIn(e)).map((function(e){return String.fromCharCode(e)})).join("");throw new Error("Unsupported encoding "+t)},t.binaryStringToBytes=function(e){return Uint8Array.from(r(e).map((function(e){return e.charCodeAt(0)})))},t.bytesToBinaryString=function(e){return Array.from(a._fromIn(e)).map((function(e){return String.fromCharCode(e)})).join("")}},fe6c:function(e,t,i){"use strict";i.d(t,"b",(function(){return n}));var s=i("2b0e"),r=i("80d2"),a={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s["a"].extend({name:"positionable",props:e.length?Object(r["m"])(a,e):a})}t["a"]=n()},fe7e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=new RegExp('((?!\\\\)"\\w+"):\\s*(-?[\\d|\\.]{14,})',"g");function r(e){return JSON.parse(e.replace(s,'$1:"$2"'))}t.default=r},fea9:function(e,t,i){var s=i("da84");e.exports=s.Promise},fee7:function(e,t,i){"use strict";var s=t;function r(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}s.inherits=r,s.version="6.5.0",s.utils=i("b9b3"),s.curve=i("f0be"),s.curves=i("b92f"),s.ec=i("daf3"),s.eddsa=i("0697")},feef:function(e,t,i){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.broadcast=t.fetchStatus=t.fetchInfo=t.fetchUnconfirmedInfo=t.fetchTransactions=t.fetchUnconfirmed=t.fetchCalculateFee=t.fetchUnconfirmedSize=void 0;var a=i("ff3f"),n=i("5884"),o=r(i("85aa")),c=r(i("f963")),d=i("b640"),h=r(i("3bc7")),u=i("f2eb");function l(e){return o.default({base:e,url:"/transactions/unconfirmed/size"})}function f(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/calculateFee",options:d.deepAssign(s({},i),{method:"POST",body:h.default(t),headers:{"Content-Type":"application/json"}})})}function p(e,t){return void 0===t&&(t=Object.create(null)),o.default({base:e,url:"/transactions/unconfirmed",options:t})}function m(e,t,i,s,r,a){return void 0===a&&(a=Object.create(null)),o.default({base:e,url:"/transactions/address/"+t+"/limit/"+i+c.default({after:s}),options:a}).then((function(e){var t=e[0];return t.forEach((function(e){return u.addStateUpdateField(e)})),t}))}function g(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/unconfirmed/info/"+t,options:i})}function y(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/info/"+t,options:i}).then((function(e){return u.addStateUpdateField(e)}))}function v(e,t){var i={id:"",confirmations:-1,height:-1,inUTX:!1,status:a.TRANSACTION_STATUSES.NOT_FOUND},r=t.map((function(t){return g(e,t).then((function(){return s(s({},i),{id:t,status:a.TRANSACTION_STATUSES.UNCONFIRMED,inUTX:!0})})).catch((function(){return y(e,t).then((function(e){return s(s({},i),{id:t,status:a.TRANSACTION_STATUSES.IN_BLOCKCHAIN,height:e.height,applicationStatus:e.applicationStatus})}))})).catch((function(){return s(s({},i),{id:t})}))}));return Promise.all([n.fetchHeight(e),Promise.all(r)]).then((function(e){var t=e[0].height,i=e[1];return{height:t,statuses:i.map((function(e){return s(s({},e),{confirmations:e.status===a.TRANSACTION_STATUSES.IN_BLOCKCHAIN?t-e.height:e.confirmations})}))}}))}function b(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/broadcast",options:d.deepAssign(s({},i),{method:"POST",body:h.default(t),headers:{"Content-Type":"application/json"}})})}t.fetchUnconfirmedSize=l,t.fetchCalculateFee=f,t.fetchUnconfirmed=p,t.fetchTransactions=m,t.fetchUnconfirmedInfo=g,t.fetchInfo=y,t.fetchStatus=v,t.broadcast=b},ff3f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSACTION_STATUSES=t.NAME_MAP=t.TYPE_MAP=void 0,t.TYPE_MAP={3:"issue",4:"transfer",5:"reissue",6:"burn",7:"exchange",8:"lease",9:"cancelLease",10:"alias",11:"massTransfer",12:"data",13:"setScript",14:"sponsorship",15:"setAssetScript",16:"invoke",17:"updateAsset"},t.NAME_MAP={issue:3,transfer:4,reissue:5,burn:6,exchange:7,lease:8,cancelLease:9,alias:10,massTransfer:11,data:12,setScript:13,sponsorship:14,setAssetScript:15,invoke:16,updateAsset:17},t.TRANSACTION_STATUSES={IN_BLOCKCHAIN:"in_blockchain",UNCONFIRMED:"unconfirmed",NOT_FOUND:"not_found"}},ffca:function(e,t,i){"use strict";const s=i("90db"),{BadSymbol:r,ExchangeError:a}=i("74b0"),n=i("5524");e.exports=class extends s{describe(){return this.deepExtend(super.describe(),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182088-1d6d6380-c2ec-11ea-9c64-8ab9f9b289f5.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api",fees:["https://coincheck.com/exchange/fee","https://coincheck.com/info/fee"]},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"},"ETC/JPY":{id:"etc_jpy",symbol:"ETC/JPY",base:"ETC",quote:"JPY",baseId:"etc",quoteId:"jpy"},"FCT/JPY":{id:"fct_jpy",symbol:"FCT/JPY",base:"FCT",quote:"JPY",baseId:"fct",quoteId:"jpy"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"ETC/BTC":{id:"etc_btc",symbol:"ETC/BTC",base:"ETC",quote:"BTC",baseId:"etc",quoteId:"btc"}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsBalance(e),i={info:t},s=Object.keys(this.currencies);for(let r=0;r<s.length;r++){const e=s[r],a=this.currencyId(e);if(a in t){const s=this.account(),r=a+"_reserved";s["free"]=this.safeString(t,a),s["used"]=this.safeString(t,r),i[e]=s}}return this.parseBalance(i,!1)}async fetchOpenOrders(e,t,i,s={}){await this.loadMarkets();let r=void 0;void 0!==e&&(r=this.market(e));const a=await this.privateGetExchangeOrdersOpens(s),n=this.safeValue(a,"orders",[]),o=this.parseOrders(n,r,t,i),c=[];for(let d=0;d<o.length;d++)c.push(this.extend(o[d],{status:"open"}));return c}parseOrder(e,t){const i=this.safeString(e,"id"),s=this.safeString(e,"order_type"),r=this.parse8601(this.safeString(e,"created_at")),a=this.safeNumber(e,"pending_amount"),n=this.safeNumber(e,"pending_amount"),o=this.safeNumber(e,"rate"),c=void 0,d=this.safeString(e,"pair"),h=this.safeSymbol(d,t,"_");return this.safeOrder({id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,amount:a,remaining:n,filled:void 0,side:s,type:void 0,timeInForce:void 0,postOnly:void 0,status:c,symbol:h,price:o,stopPrice:void 0,cost:void 0,fee:void 0,info:e,average:void 0,trades:void 0})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const s=this.market(e),r={pair:s["id"]},a=await this.publicGetOrderBooks(this.extend(r,i));return this.parseOrderBook(a,e)}async fetchTicker(e,t={}){if("BTC/JPY"!==e)throw new r(this.id+" fetchTicker () supports BTC/JPY only");await this.loadMarkets();const i=this.market(e),s={pair:i["id"]},a=await this.publicGetTicker(this.extend(s,t)),n=this.safeTimestamp(a,"timestamp"),o=this.safeNumber(a,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(a,"high"),low:this.safeNumber(a,"low"),bid:this.safeNumber(a,"bid"),bidVolume:void 0,ask:this.safeNumber(a,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(a,"volume"),quoteVolume:void 0,info:a}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"id"),r=this.safeString(e,"rate"),a=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,a,t);let o=void 0,c=void 0,d=void 0;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a],c=t["baseId"],d=t["quoteId"],o=t["symbol"];else{const e=a.split("_");c=e[0],d=e[1];const t=this.safeCurrencyCode(c),i=this.safeCurrencyCode(d);o=t+"/"+i}void 0===o&&void 0!==t&&(o=t["symbol"]);let h=void 0,u=void 0,l=void 0,f=void 0,p=void 0,m=void 0;if("liquidity"in e){"T"===this.safeString(e,"liquidity")?h="taker":"M"===this.safeString(e,"liquidity")&&(h="maker");const t=this.safeValue(e,"funds",{});u=this.safeString(t,c),l=this.safeNumber(t,d),p={currency:this.safeString(e,"fee_currency"),cost:this.safeNumber(e,"fee")},f=this.safeString(e,"side"),m=this.safeString(e,"order_id")}else u=this.safeString(e,"amount"),f=this.safeString(e,"order_type");const g=this.parseNumber(r),y=this.parseNumber(u);return void 0===l&&(l=this.parseNumber(n.stringMul(r,u))),{id:s,info:e,datetime:this.iso8601(i),timestamp:i,symbol:o,type:void 0,side:f,order:m,takerOrMaker:h,price:g,amount:y,cost:l,fee:p}}async fetchMyTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a=await this.privateGetExchangeOrdersTransactions(this.extend({},s)),n=this.safeValue(a,"transactions",[]);return this.parseTrades(n,r,t,i)}async fetchTrades(e,t,i,s={}){await this.loadMarkets();const r=this.market(e),a={pair:r["id"]};void 0!==i&&(a["limit"]=i);const n=await this.publicGetTrades(this.extend(a,s)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,r,t,i)}async createOrder(e,t,i,s,r,a={}){await this.loadMarkets();const n={pair:this.marketId(e)};if("market"===t){const e=t+"_"+i;n["order_type"]=e;const r="buy"===i?e+"_":"";n[r+"amount"]=s}else n["order_type"]=i,n["rate"]=r,n["amount"]=s;const o=await this.privatePostExchangeOrders(this.extend(n,a)),c=this.safeString(o,"id");return{info:o,id:c}}async cancelOrder(e,t,i={}){const s={id:e};return await this.privateDeleteExchangeOrdersId(this.extend(s,i))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",s={},r,a){let n=this.urls["api"]+"/"+this.implodeParams(e,s);const o=this.omit(s,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(this.keysort(o))):Object.keys(o).length&&(a=this.urlencode(this.keysort(o)),t=a);const s=e+n+t;r={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":e,"ACCESS-SIGNATURE":this.hmac(this.encode(s),this.encode(this.secret))}}return{url:n,method:i,body:a,headers:r}}async request(e,t="public",i="GET",s={},r,n){const o=await this.fetch2(e,t,i,s,r,n);if("public"===t)return o;if("success"in o&&o["success"])return o;throw new a(this.id+" "+this.json(o))}}}}]);
//# sourceMappingURL=chunk-vendors.bf5a4047.js.map