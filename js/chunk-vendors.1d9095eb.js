(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"000b":function(e,t,i){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};function s(e,t,i,r){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function n(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}Object.create;Object.create;var a=i("cc84"),o=i("ffa6");var c=function(){return c=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},c.apply(this,arguments)};function d(e,t,i,r){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a}function f(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}Object.create;var p,m=i("a8e9"),g=i("9dbb"),y="@firebase/installations",v="0.4.30",b=1e4,w="w:"+v,S="FIS_v2",k="https://firebaseinstallations.googleapis.com/v1",_=36e5,O="installations",T="Installations",C=(p={},p["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',p["not-registered"]="Firebase Installation is not registered.",p["installation-not-found"]="Firebase Installation not found.",p["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',p["app-offline"]="Could not process request. Application offline.",p["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",p),I=new m["b"](O,T,C);function x(e){return e instanceof m["c"]&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e){var t=e.projectId;return k+"/projects/"+t+"/installations"}function A(e){return{token:e.token,requestStatus:2,expiresIn:R(e.expiresIn),creationTime:Date.now()}}function N(e,t){return d(this,void 0,void 0,(function(){var i,r;return h(this,(function(s){switch(s.label){case 0:return[4,t.json()];case 1:return i=s.sent(),r=i.error,[2,I.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function M(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P(e,t){var i=t.refreshToken,r=M(e);return r.append("Authorization",D(i)),r}function B(e){return d(this,void 0,void 0,(function(){var t;return h(this,(function(i){switch(i.label){case 0:return[4,e()];case 1:return t=i.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function R(e){return Number(e.replace("s","000"))}function D(e){return S+" "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t){var i=t.fid;return d(this,void 0,void 0,(function(){var t,r,s,n,a,o,c;return h(this,(function(d){switch(d.label){case 0:return t=E(e),r=M(e),s={fid:i,authVersion:S,appId:e.appId,sdkVersion:w},n={method:"POST",headers:r,body:JSON.stringify(s)},[4,B((function(){return fetch(t,n)}))];case 1:return a=d.sent(),a.ok?[4,a.json()]:[3,3];case 2:return o=d.sent(),c={fid:o.fid||i,registrationStatus:2,refreshToken:o.refreshToken,authToken:A(o.authToken)},[2,c];case 3:return[4,N("Create Installation",a)];case 4:throw d.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){var t=btoa(String.fromCharCode.apply(String,f([],l(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=/^[cdef][\w-]{21}$/,U="";function G(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var i=F(e);return q.test(i)?i:U}catch(r){return U}}function F(e){var t=j(e);return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=new Map;function K(e,t){var i=H(e);Y(i,t),X(i,t)}function W(e,t){Z();var i=H(e),r=z.get(i);r||(r=new Set,z.set(i,r)),r.add(t)}function $(e,t){var i=H(e),r=z.get(i);r&&(r.delete(t),0===r.size&&z.delete(i),J())}function Y(e,t){var i,r,s=z.get(e);if(s)try{for(var n=u(s),a=n.next();!a.done;a=n.next()){var o=a.value;o(t)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}}function X(e,t){var i=Z();i&&i.postMessage({key:e,fid:t}),J()}var Q=null;function Z(){return!Q&&"BroadcastChannel"in self&&(Q=new BroadcastChannel("[Firebase] FID Change"),Q.onmessage=function(e){Y(e.data.key,e.data.fid)}),Q}function J(){0===z.size&&Q&&(Q.close(),Q=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee="firebase-installations-database",te=1,ie="firebase-installations-store",re=null;function se(){return re||(re=Object(g["openDb"])(ee,te,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(ie)}}))),re}function ne(e,t){return d(this,void 0,void 0,(function(){var i,r,s,n,a;return h(this,(function(o){switch(o.label){case 0:return i=H(e),[4,se()];case 1:return r=o.sent(),s=r.transaction(ie,"readwrite"),n=s.objectStore(ie),[4,n.get(i)];case 2:return a=o.sent(),[4,n.put(t,i)];case 3:return o.sent(),[4,s.complete];case 4:return o.sent(),a&&a.fid===t.fid||K(e,t.fid),[2,t]}}))}))}function ae(e){return d(this,void 0,void 0,(function(){var t,i,r;return h(this,(function(s){switch(s.label){case 0:return t=H(e),[4,se()];case 1:return i=s.sent(),r=i.transaction(ie,"readwrite"),[4,r.objectStore(ie).delete(t)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}}))}))}function oe(e,t){return d(this,void 0,void 0,(function(){var i,r,s,n,a,o;return h(this,(function(c){switch(c.label){case 0:return i=H(e),[4,se()];case 1:return r=c.sent(),s=r.transaction(ie,"readwrite"),n=s.objectStore(ie),[4,n.get(i)];case 2:return a=c.sent(),o=t(a),void 0!==o?[3,4]:[4,n.delete(i)];case 3:return c.sent(),[3,6];case 4:return[4,n.put(o,i)];case 5:c.sent(),c.label=6;case 6:return[4,s.complete];case 7:return c.sent(),!o||a&&a.fid===o.fid||K(e,o.fid),[2,o]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e){return d(this,void 0,void 0,(function(){var t,i,r;return h(this,(function(s){switch(s.label){case 0:return[4,oe(e,(function(i){var r=de(i),s=he(e,r);return t=s.registrationPromise,s.installationEntry}))];case 1:return i=s.sent(),i.fid!==U?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=s.sent(),r)];case 3:return[2,{installationEntry:i,registrationPromise:t}]}}))}))}function de(e){var t=e||{fid:G(),registrationStatus:0};return pe(t)}function he(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var i=Promise.reject(I.create("app-offline"));return{installationEntry:t,registrationPromise:i}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=ue(e,r);return{installationEntry:r,registrationPromise:s}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:le(e)}:{installationEntry:t}}function ue(e,t){return d(this,void 0,void 0,(function(){var i,r;return h(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,L(e,t)];case 1:return i=s.sent(),[2,ne(e,i)];case 2:return r=s.sent(),x(r)&&409===r.customData.serverCode?[4,ae(e)]:[3,4];case 3:return s.sent(),[3,6];case 4:return[4,ne(e,{fid:t.fid,registrationStatus:0})];case 5:s.sent(),s.label=6;case 6:throw r;case 7:return[2]}}))}))}function le(e){return d(this,void 0,void 0,(function(){var t,i,r,s;return h(this,(function(n){switch(n.label){case 0:return[4,fe(e)];case 1:t=n.sent(),n.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,V(100)];case 3:return n.sent(),[4,fe(e)];case 4:return t=n.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ce(e)];case 6:return i=n.sent(),r=i.installationEntry,s=i.registrationPromise,s?[2,s]:[2,r];case 7:return[2,t]}}))}))}function fe(e){return oe(e,(function(e){if(!e)throw I.create("installation-not-found");return pe(e)}))}function pe(e){return me(e)?{fid:e.fid,registrationStatus:0}:e}function me(e){return 1===e.registrationStatus&&e.registrationTime+b<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e,t){var i=e.appConfig,r=e.platformLoggerProvider;return d(this,void 0,void 0,(function(){var e,s,n,a,o,c,d,u;return h(this,(function(h){switch(h.label){case 0:return e=ye(i,t),s=P(i,t),n=r.getImmediate({optional:!0}),n&&s.append("x-firebase-client",n.getPlatformInfoString()),a={installation:{sdkVersion:w}},o={method:"POST",headers:s,body:JSON.stringify(a)},[4,B((function(){return fetch(e,o)}))];case 1:return c=h.sent(),c.ok?[4,c.json()]:[3,3];case 2:return d=h.sent(),u=A(d),[2,u];case 3:return[4,N("Generate Auth Token",c)];case 4:throw h.sent()}}))}))}function ye(e,t){var i=t.fid;return E(e)+"/"+i+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e,t){return void 0===t&&(t=!1),d(this,void 0,void 0,(function(){var i,r,s,n;return h(this,(function(a){switch(a.label){case 0:return[4,oe(e.appConfig,(function(r){if(!ke(r))throw I.create("not-registered");var s=r.authToken;if(!t&&_e(s))return r;if(1===s.requestStatus)return i=be(e,t),r;if(!navigator.onLine)throw I.create("app-offline");var n=Te(r);return i=Se(e,n),n}))];case 1:return r=a.sent(),i?[4,i]:[3,3];case 2:return n=a.sent(),[3,4];case 3:n=r.authToken,a.label=4;case 4:return s=n,[2,s]}}))}))}function be(e,t){return d(this,void 0,void 0,(function(){var i,r;return h(this,(function(s){switch(s.label){case 0:return[4,we(e.appConfig)];case 1:i=s.sent(),s.label=2;case 2:return 1!==i.authToken.requestStatus?[3,5]:[4,V(100)];case 3:return s.sent(),[4,we(e.appConfig)];case 4:return i=s.sent(),[3,2];case 5:return r=i.authToken,0===r.requestStatus?[2,ve(e,t)]:[2,r]}}))}))}function we(e){return oe(e,(function(e){if(!ke(e))throw I.create("not-registered");var t=e.authToken;return Ce(t)?c(c({},e),{authToken:{requestStatus:0}}):e}))}function Se(e,t){return d(this,void 0,void 0,(function(){var i,r,s;return h(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,8]),[4,ge(e,t)];case 1:return i=n.sent(),s=c(c({},t),{authToken:i}),[4,ne(e.appConfig,s)];case 2:return n.sent(),[2,i];case 3:return r=n.sent(),!x(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ae(e.appConfig)];case 4:return n.sent(),[3,7];case 5:return s=c(c({},t),{authToken:{requestStatus:0}}),[4,ne(e.appConfig,s)];case 6:n.sent(),n.label=7;case 7:throw r;case 8:return[2]}}))}))}function ke(e){return void 0!==e&&2===e.registrationStatus}function _e(e){return 2===e.requestStatus&&!Oe(e)}function Oe(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_}function Te(e){var t={requestStatus:1,requestTime:Date.now()};return c(c({},e),{authToken:t})}function Ce(e){return 1===e.requestStatus&&e.requestTime+b<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){return d(this,void 0,void 0,(function(){var t,i,r;return h(this,(function(s){switch(s.label){case 0:return[4,ce(e.appConfig)];case 1:return t=s.sent(),i=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):ve(e).catch(console.error),[2,i.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e,t){return void 0===t&&(t=!1),d(this,void 0,void 0,(function(){var i;return h(this,(function(r){switch(r.label){case 0:return[4,Ee(e.appConfig)];case 1:return r.sent(),[4,ve(e,t)];case 2:return i=r.sent(),[2,i.token]}}))}))}function Ee(e){return d(this,void 0,void 0,(function(){var t;return h(this,(function(i){switch(i.label){case 0:return[4,ce(e)];case 1:return t=i.sent().registrationPromise,t?[4,t]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e,t){return d(this,void 0,void 0,(function(){var i,r,s,n;return h(this,(function(a){switch(a.label){case 0:return i=Ne(e,t),r=P(e,t),s={method:"DELETE",headers:r},[4,B((function(){return fetch(i,s)}))];case 1:return n=a.sent(),n.ok?[3,3]:[4,N("Delete Installation",n)];case 2:throw a.sent();case 3:return[2]}}))}))}function Ne(e,t){var i=t.fid;return E(e)+"/"+i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(e){return d(this,void 0,void 0,(function(){var t,i;return h(this,(function(r){switch(r.label){case 0:return t=e.appConfig,[4,oe(t,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(i=r.sent(),!i)return[3,6];if(1!==i.registrationStatus)return[3,2];throw I.create("delete-pending-registration");case 2:if(2!==i.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw I.create("app-offline");case 3:return[4,Ae(t,i)];case 4:return r.sent(),[4,ae(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e,t){var i=e.appConfig;return W(i,t),function(){$(i,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(e){var t,i;if(!e||!e.options)throw Re("App Configuration");if(!e.name)throw Re("App Name");var r=["projectId","apiKey","appId"];try{for(var s=u(r),n=s.next();!n.done;n=s.next()){var a=n.value;if(!e.options[a])throw Re(a)}}catch(o){t={error:o}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Re(e){return I.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(e){var t="installations";e.INTERNAL.registerComponent(new o["a"](t,(function(e){var t=e.getProvider("app").getImmediate(),i=Be(t),r=e.getProvider("platform-logger"),s={appConfig:i,platformLoggerProvider:r},n={app:t,getId:function(){return Ie(s)},getToken:function(e){return xe(s,e)},delete:function(){return Me(s)},onIdChange:function(e){return Pe(s,e)}};return n}),"PUBLIC")),e.registerVersion(y,v)}De(a["a"]);var Le,Ve,je=i("abfd"),qe="firebase_id",Ue="origin",Ge=6e4,Fe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",He="https://www.googletagmanager.com/gtag/js";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ze(e,t,i,a,o){return s(this,void 0,void 0,(function(){var s,c;return n(this,(function(n){switch(n.label){case 0:return o&&o.global?(e(Le.EVENT,i,a),[2]):[3,1];case 1:return[4,t];case 2:s=n.sent(),c=r(r({},a),{send_to:s}),e(Le.EVENT,i,c),n.label=3;case 3:return[2]}}))}))}function Ke(e,t,i,r){return s(this,void 0,void 0,(function(){var s;return n(this,(function(n){switch(n.label){case 0:return r&&r.global?(e(Le.SET,{screen_name:i}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:s=n.sent(),e(Le.CONFIG,s,{update:!0,screen_name:i}),n.label=3;case 3:return[2]}}))}))}function We(e,t,i,r){return s(this,void 0,void 0,(function(){var s;return n(this,(function(n){switch(n.label){case 0:return r&&r.global?(e(Le.SET,{user_id:i}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:s=n.sent(),e(Le.CONFIG,s,{update:!0,user_id:i}),n.label=3;case 3:return[2]}}))}))}function $e(e,t,i,r){return s(this,void 0,void 0,(function(){var s,a,o,c,d;return n(this,(function(n){switch(n.label){case 0:if(!r||!r.global)return[3,1];for(s={},a=0,o=Object.keys(i);a<o.length;a++)c=o[a],s["user_properties."+c]=i[c];return e(Le.SET,s),[2,Promise.resolve()];case 1:return[4,t];case 2:d=n.sent(),e(Le.CONFIG,d,{update:!0,user_properties:i}),n.label=3;case 3:return[2]}}))}))}function Ye(e,t){return s(this,void 0,void 0,(function(){var i;return n(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return i=r.sent(),window["ga-disable-"+i]=!t,[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e["EVENT"]="event",e["SET"]="set",e["CONFIG"]="config"})(Le||(Le={})),function(e){e["ADD_SHIPPING_INFO"]="add_shipping_info",e["ADD_PAYMENT_INFO"]="add_payment_info",e["ADD_TO_CART"]="add_to_cart",e["ADD_TO_WISHLIST"]="add_to_wishlist",e["BEGIN_CHECKOUT"]="begin_checkout",e["CHECKOUT_PROGRESS"]="checkout_progress",e["EXCEPTION"]="exception",e["GENERATE_LEAD"]="generate_lead",e["LOGIN"]="login",e["PAGE_VIEW"]="page_view",e["PURCHASE"]="purchase",e["REFUND"]="refund",e["REMOVE_FROM_CART"]="remove_from_cart",e["SCREEN_VIEW"]="screen_view",e["SEARCH"]="search",e["SELECT_CONTENT"]="select_content",e["SELECT_ITEM"]="select_item",e["SELECT_PROMOTION"]="select_promotion",e["SET_CHECKOUT_OPTION"]="set_checkout_option",e["SHARE"]="share",e["SIGN_UP"]="sign_up",e["TIMING_COMPLETE"]="timing_complete",e["VIEW_CART"]="view_cart",e["VIEW_ITEM"]="view_item",e["VIEW_ITEM_LIST"]="view_item_list",e["VIEW_PROMOTION"]="view_promotion",e["VIEW_SEARCH_RESULTS"]="view_search_results"}(Ve||(Ve={}));var Xe,Qe=new je["b"]("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e,t){var i=document.createElement("script");i.src=He+"?l="+e+"&id="+t,i.async=!0,document.head.appendChild(i)}function Je(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function et(e,t,i,r,a,o){return s(this,void 0,void 0,(function(){var s,c,d,h;return n(this,(function(n){switch(n.label){case 0:s=r[a],n.label=1;case 1:return n.trys.push([1,7,,8]),s?[4,t[s]]:[3,3];case 2:return n.sent(),[3,6];case 3:return[4,Promise.all(i)];case 4:return c=n.sent(),d=c.find((function(e){return e.measurementId===a})),d?[4,t[d.appId]]:[3,6];case 5:n.sent(),n.label=6;case 6:return[3,8];case 7:return h=n.sent(),Qe.error(h),[3,8];case 8:return e(Le.CONFIG,a,o),[2]}}))}))}function tt(e,t,i,r,a){return s(this,void 0,void 0,(function(){var s,o,c,d,h,u,l,f,p;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),s=[],a&&a["send_to"]?(o=a["send_to"],Array.isArray(o)||(o=[o]),[4,Promise.all(i)]):[3,2];case 1:for(c=n.sent(),d=function(e){var i=c.find((function(t){return t.measurementId===e})),r=i&&t[i.appId];if(!r)return s=[],"break";s.push(r)},h=0,u=o;h<u.length;h++)if(l=u[h],f=d(l),"break"===f)break;n.label=2;case 2:return 0===s.length&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return n.sent(),e(Le.EVENT,r,a||{}),[3,5];case 4:return p=n.sent(),Qe.error(p),[3,5];case 5:return[2]}}))}))}function it(e,t,i,r){function a(a,o,c){return s(this,void 0,void 0,(function(){var s;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),a!==Le.EVENT?[3,2]:[4,tt(e,t,i,o,c)];case 1:return n.sent(),[3,5];case 2:return a!==Le.CONFIG?[3,4]:[4,et(e,t,i,r,o,c)];case 3:return n.sent(),[3,5];case 4:e(Le.SET,o),n.label=5;case 5:return[3,7];case 6:return s=n.sent(),Qe.error(s),[3,7];case 7:return[2]}}))}))}return a}function rt(e,t,i,r,s){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(n=window[s]),window[s]=it(n,e,t,i),{gtagCore:n,wrappedGtag:window[s]}}function st(){for(var e=window.document.getElementsByTagName("script"),t=0,i=Object.values(e);t<i.length;t++){var r=i[t];if(r.src&&r.src.includes(He))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=(Xe={},Xe["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Xe["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Xe["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Xe["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Xe["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Xe["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Xe["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Xe["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Xe["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Xe),at=new m["b"]("analytics","Analytics",nt),ot=30,ct=1e3,dt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=ct),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}(),ht=new dt;function ut(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function lt(e){var t;return s(this,void 0,void 0,(function(){var i,r,s,a,o,c,d;return n(this,(function(n){switch(n.label){case 0:return i=e.appId,r=e.apiKey,s={method:"GET",headers:ut(r)},a=Fe.replace("{app-id}",i),[4,fetch(a,s)];case 1:if(o=n.sent(),200===o.status||304===o.status)return[3,6];c="",n.label=2;case 2:return n.trys.push([2,4,,5]),[4,o.json()];case 3:return d=n.sent(),(null===(t=d.error)||void 0===t?void 0:t.message)&&(c=d.error.message),[3,5];case 4:return n.sent(),[3,5];case 5:throw at.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c});case 6:return[2,o.json()]}}))}))}function ft(e,t,i){return void 0===t&&(t=ht),s(this,void 0,void 0,(function(){var r,a,o,c,d,h,u=this;return n(this,(function(l){if(r=e.options,a=r.appId,o=r.apiKey,c=r.measurementId,!a)throw at.create("no-app-id");if(!o){if(c)return[2,{measurementId:c,appId:a}];throw at.create("no-api-key")}return d=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new yt,setTimeout((function(){return s(u,void 0,void 0,(function(){return n(this,(function(e){return h.abort(),[2]}))}))}),void 0!==i?i:Ge),[2,pt({appId:a,apiKey:o,measurementId:c},d,h,t)]}))}))}function pt(e,t,i,r){var a=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=ht),s(this,void 0,void 0,(function(){var t,s,c,d,h,u,l;return n(this,(function(n){switch(n.label){case 0:t=e.appId,s=e.measurementId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,mt(i,a)];case 2:return n.sent(),[3,4];case 3:if(c=n.sent(),s)return Qe.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:s}];throw c;case 4:return n.trys.push([4,6,,7]),[4,lt(e)];case 5:return d=n.sent(),r.deleteThrottleMetadata(t),[2,d];case 6:if(h=n.sent(),!gt(h)){if(r.deleteThrottleMetadata(t),s)return Qe.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:t,measurementId:s}];throw h}return u=503===Number(h.customData.httpStatus)?Object(m["e"])(o,r.intervalMillis,ot):Object(m["e"])(o,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:o+1},r.setThrottleMetadata(t,l),Qe.debug("Calling attemptFetch again in "+u+" millis"),[2,pt(e,l,i,r)];case 7:return[2]}}))}))}function mt(e,t){return new Promise((function(i,r){var s=Math.max(t-Date.now(),0),n=setTimeout(i,s);e.addEventListener((function(){clearTimeout(n),r(at.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function gt(e){if(!(e instanceof m["c"])||!e.customData)return!1;var t=Number(e.customData["httpStatus"]);return 429===t||500===t||503===t||504===t}var yt=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return s(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return Object(m["q"])()?[3,1]:(Qe.warn(at.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(m["v"])()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Qe.warn(at.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}function bt(e,t,i,r,a,o){return s(this,void 0,void 0,(function(){var s,c,d,h,u,l,f;return n(this,(function(n){switch(n.label){case 0:return s=ft(e),s.then((function(t){i[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Qe.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Qe.error(e)})),t.push(s),c=vt().then((function(e){return e?r.getId():void 0})),[4,Promise.all([s,c])];case 1:return d=n.sent(),h=d[0],u=d[1],st()||Ze(o,h.measurementId),a("js",new Date),f={},f[Ue]="firebase",f.update=!0,l=f,null!=u&&(l[qe]=u),a(Le.CONFIG,h.measurementId,l),[2,h.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,St,kt={},_t=[],Ot={},Tt="dataLayer",Ct="gtag",It=!1;function xt(e){if(It)throw at.create("already-initialized");e.dataLayerName&&(Tt=e.dataLayerName),e.gtagName&&(Ct=e.gtagName)}function Et(){var e=[];if(Object(m["n"])()&&e.push("This is a browser extension environment."),Object(m["d"])()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),i=at.create("invalid-analytics-context",{errorInfo:t});Qe.warn(i.message)}}function At(e,t){Et();var i=e.options.appId;if(!i)throw at.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw at.create("no-api-key");Qe.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=kt[i])throw at.create("already-exists",{id:i});if(!It){Je(Tt);var r=rt(kt,_t,Ot,Tt,Ct),s=r.wrappedGtag,n=r.gtagCore;St=s,wt=n,It=!0}kt[i]=bt(e,_t,Ot,t,wt,Tt);var a={app:e,logEvent:function(e,t,r){ze(St,kt[i],e,t,r).catch((function(e){return Qe.error(e)}))},setCurrentScreen:function(e,t){Ke(St,kt[i],e,t).catch((function(e){return Qe.error(e)}))},setUserId:function(e,t){We(St,kt[i],e,t).catch((function(e){return Qe.error(e)}))},setUserProperties:function(e,t){$e(St,kt[i],e,t).catch((function(e){return Qe.error(e)}))},setAnalyticsCollectionEnabled:function(e){Ye(kt[i],e).catch((function(e){return Qe.error(e)}))},INTERNAL:{delete:function(){return delete kt[i],Promise.resolve()}}};return a}var Nt="@firebase/analytics",Mt="0.6.14",Pt="analytics";function Bt(e){function t(e){try{var t=e.getProvider(Pt).getImmediate();return{logEvent:t.logEvent}}catch(i){throw at.create("interop-component-reg-failed",{reason:i})}}e.INTERNAL.registerComponent(new o["a"](Pt,(function(e){var t=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();return At(t,i)}),"PUBLIC").setServiceProps({settings:xt,EventName:Ve,isSupported:Rt})),e.INTERNAL.registerComponent(new o["a"]("analytics-internal",t,"PRIVATE")),e.registerVersion(Nt,Mt)}function Rt(){return s(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:if(Object(m["n"])())return[2,!1];if(!Object(m["d"])())return[2,!1];if(!Object(m["q"])())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(m["v"])()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}Bt(a["a"])},"001c":function(e,t){function i(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}e.exports=i},"00b3":function(e,t){function i(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,i){return t.apply(this,arguments)};case 3:return function(e,i,r){return t.apply(this,arguments)};case 4:return function(e,i,r,s){return t.apply(this,arguments)};case 5:return function(e,i,r,s,n){return t.apply(this,arguments)};case 6:return function(e,i,r,s,n,a){return t.apply(this,arguments)};case 7:return function(e,i,r,s,n,a,o){return t.apply(this,arguments)};case 8:return function(e,i,r,s,n,a,o,c){return t.apply(this,arguments)};case 9:return function(e,i,r,s,n,a,o,c,d){return t.apply(this,arguments)};case 10:return function(e,i,r,s,n,a,o,c,d,h){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}e.exports=i},"00ee":function(e,t,i){var r=i("b622"),s=r("toStringTag"),n={};n[s]="z",e.exports="[object z]"===String(n)},"014f":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,InsufficientFunds:a,BadSymbol:o,OrderNotFound:c}=i("74b0"),{TICK_SIZE:d}=i("5ea4"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ndax",name:"NDAX",countries:["US"],rateLimit:1e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2419200","4M":"9676800"},urls:{logo:"https://user-images.githubusercontent.com/1294454/108623144-67a3ef00-744e-11eb-8140-75c6b851e945.jpg",test:{public:"https://ndaxmarginstaging.cdnhop.net:8443/AP",private:"https://ndaxmarginstaging.cdnhop.net:8443/AP"},api:{public:"https://api.ndax.io:8443/AP",private:"https://api.ndax.io:8443/AP"},www:"https://ndax.io",doc:["https://apidoc.ndax.io/"],fees:"https://ndax.io/fees",referral:"https://one.ndax.io/bfQiSL"},api:{public:{get:["Activate2FA","Authenticate2FA","AuthenticateUser","GetL2Snapshot","GetLevel1","GetValidate2FARequiredEndpoints","LogOut","GetTickerHistory","GetProduct","GetProducts","GetInstrument","GetInstruments","Ping","trades","GetLastTrades","SubscribeLevel1","SubscribeLevel2","SubscribeTicker","SubscribeTrades","SubscribeBlockTrades","UnsubscribeBlockTrades","UnsubscribeLevel1","UnsubscribeLevel2","UnsubscribeTicker","UnsubscribeTrades","Authenticate"]},private:{get:["GetUserAccountInfos","GetUserAccounts","GetUserAffiliateCount","GetUserAffiliateTag","GetUserConfig","GetAllUnredactedUserConfigsForUser","GetUnredactedUserConfigByKey","GetUserDevices","GetUserReportTickets","GetUserReportWriterResultRecords","GetAccountInfo","GetAccountPositions","GetAllAccountConfigs","GetTreasuryProductsForAccount","GetAccountTrades","GetAccountTransactions","GetOpenTradeReports","GetAllOpenTradeReports","GetTradesHistory","GetOpenOrders","GetOpenQuotes","GetOrderFee","GetOrderHistory","GetOrdersHistory","GetOrderStatus","GetOmsFeeTiers","GetAccountDepositTransactions","GetAccountWithdrawTransactions","GetAllDepositRequestInfoTemplates","GetDepositInfo","GetDepositRequestInfoTemplate","GetDeposits","GetDepositTicket","GetDepositTickets","GetOMSWithdrawFees","GetWithdrawFee","GetWithdraws","GetWithdrawTemplate","GetWithdrawTemplateTypes","GetWithdrawTicket","GetWithdrawTickets"],post:["AddUserAffiliateTag","CancelUserReport","RegisterNewDevice","SubscribeAccountEvents","UpdateUserAffiliateTag","GenerateTradeActivityReport","GenerateTransactionActivityReport","GenerateTreasuryActivityReport","ScheduleTradeActivityReport","ScheduleTransactionActivityReport","ScheduleTreasuryActivityReport","CancelAllOrders","CancelOrder","CancelQuote","CancelReplaceOrder","CreateQuote","ModifyOrder","SendOrder","SubmitBlockTrade","UpdateQuote","CancelWithdraw","CreateDepositTicket","CreateWithdrawTicket","SubmitDepositTicketComment","SubmitWithdrawTicketComment","GetOrderHistoryByOrderId"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.0025}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},precisionMode:d,exceptions:{exact:{Not_Enough_Funds:a,"Server Error":s,"Resource Not Found":c},broad:{"Invalid InstrumentId":o,"This endpoint requires 2FACode along with the payload":n}},options:{omsId:1,orderTypes:{Market:1,Limit:2,StopMarket:3,StopLimit:4,TrailingStopMarket:5,TrailingStopLimit:6,BlockTrade:7}}})}async fetchCurrencies(e={}){const t=this.safeInteger(this.options,"omsId",1),i={omsId:t},r=await this.publicGetGetProducts(this.extend(i,e)),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"ProductId"),i=this.safeString(e,"ProductFullName"),a=this.safeString(e,"ProductType"),o=this.safeCurrencyCode(this.safeString(e,"Product")),c=this.safeNumber(e,"TickSize"),d=this.safeValue(e,"IsDisabled"),h=!d;s[o]={id:t,name:i,code:o,type:a,precision:c,info:e,active:h,fee:void 0,limits:this.limits}}return s}async fetchMarkets(e={}){const t=this.safeInteger(this.options,"omsId",1),i={omsId:t},r=await this.publicGetGetInstruments(this.extend(i,e)),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"InstrumentId"),i=this.safeString(e,"Product1"),a=this.safeString(e,"Product2"),o=this.safeCurrencyCode(this.safeString(e,"Product1Symbol")),c=this.safeCurrencyCode(this.safeString(e,"Product2Symbol")),d=o+"/"+c,h={amount:this.safeNumber(e,"QuantityIncrement"),price:this.safeNumber(e,"PriceIncrement")},u=this.safeString(e,"SessionStatus"),l=this.safeValue(e,"IsDisable"),f="Running"===u,p=!(!f||l);s.push({id:t,symbol:d,base:o,quote:c,baseId:i,quoteId:a,info:e,active:p,precision:h,limits:{amount:{min:this.safeNumber(e,"MinimumQuantity"),max:void 0},price:{min:this.safeNumber(e,"MinimumPrice"),max:void 0},cost:{min:void 0,max:void 0}}})}return s}parseOrderBook(e,t,i,r="bids",s="asks",n=6,a=8){let o=void 0;const c={symbol:t,bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let d=0;d<e.length;d++){const t=e[d];if(void 0===i)i=this.safeInteger(t,2);else{const e=this.safeInteger(t,2);i=Math.max(i,e)}if(void 0===o)o=this.safeInteger(t,0);else{const e=this.safeInteger(t,0);o=Math.max(o,e)}const h=this.parseBidAsk(t,n,a),u=this.safeInteger(t,9),l=u?s:r;c[l].push(h)}return c["bids"]=this.sortBy(c["bids"],0,!0),c["asks"]=this.sortBy(c["asks"],0),c["timestamp"]=i,c["datetime"]=this.iso8601(i),c["nonce"]=o,c}async fetchOrderBook(e,t,i={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const s=this.market(e);t=void 0===t?100:t;const n={omsId:r,InstrumentId:s["id"],Depth:t},a=await this.publicGetGetL2Snapshot(this.extend(n,i));return this.parseOrderBook(a,e)}parseTicker(e,t){const i=this.safeInteger(e,"TimeStamp"),r=this.safeString(e,"InstrumentId"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"LastTradedPx"),a=this.safeNumber(e,"Rolling24HrPxChangePercent"),o=this.safeNumber(e,"Rolling24HrPxChange"),c=this.safeNumber(e,"SessionOpen");let d=void 0;void 0!==n&&void 0!==o&&(d=this.sum(n,c)/2);const h=this.safeNumber(e,"Rolling24HrVolume"),u=this.safeNumber(e,"Rolling24HrNotional"),l=this.vwap(h,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"SessionHigh"),low:this.safeNumber(e,"SessionLow"),bid:this.safeNumber(e,"BestBid"),bidVolume:void 0,ask:this.safeNumber(e,"BestOffer"),askVolume:void 0,vwap:l,open:c,close:n,last:n,previousClose:void 0,change:o,percentage:a,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const r=this.market(e),s={omsId:i,InstrumentId:r["id"]},n=await this.publicGetGetLevel1(this.extend(s,t));return this.parseTicker(n,r)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,3),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){const n=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const a=this.market(e),o={omsId:n,InstrumentId:a["id"],Interval:this.timeframes[t]},c=this.parseTimeframe(t),d=this.milliseconds();void 0===i?void 0!==r&&(o["FromDate"]=this.ymdhms(d-c*r*1e3),o["ToDate"]=this.ymdhms(d)):(o["FromDate"]=this.ymdhms(i),o["ToDate"]=void 0===r?this.ymdhms(d):this.ymdhms(this.sum(i,c*r*1e3)));const h=await this.publicGetGetTickerHistory(this.extend(o,s));return this.parseOHLCVs(h,a,t,i,r)}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,n=void 0,a=void 0,o=void 0,c=void 0,d=void 0,u=void 0,l=void 0,f=void 0;if(Array.isArray(e)){i=this.safeString(e,3),r=this.safeString(e,2),n=this.safeInteger(e,6),a=this.safeString(e,0),o=this.safeString(e,1);const t=this.safeValue(e,8);c=t?"sell":"buy",d=this.safeString(e,4)}else{n=this.safeInteger2(e,"TradeTimeMS","ReceiveTime"),a=this.safeString(e,"TradeId"),d=this.safeString2(e,"OrderId","OrigOrderId"),o=this.safeString2(e,"InstrumentId","Instrument"),i=this.safeString(e,"Price"),r=this.safeString(e,"Quantity"),s=this.safeNumber2(e,"Value","GrossValueExecuted"),u=this.safeStringLower(e,"MakerTaker"),c=this.safeStringLower(e,"Side"),f=this.safeStringLower(e,"OrderType");const t=this.safeNumber(e,"Fee");if(void 0!==t){const i=this.safeString(e,"FeeProductId"),r=this.safeCurrencyCode(i);l={cost:t,currency:r}}}const p=this.parseNumber(i),m=this.parseNumber(r);void 0===s&&(s=this.parseNumber(h.stringMul(i,r)));const g=this.safeSymbol(o,t);return{info:e,id:a,symbol:g,timestamp:n,datetime:this.iso8601(n),order:d,type:f,side:c,takerOrMaker:u,price:p,amount:m,cost:s,fee:l}}async fetchTrades(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const n=this.market(e),a={omsId:s,InstrumentId:n["id"]};void 0!==i&&(a["Count"]=i);const o=await this.publicGetGetLastTrades(this.extend(a,r));return this.parseTrades(o,n,t,i)}async fetchAccounts(e={}){const t=this.safeInteger(this.options,"omsId",1);this.checkRequiredCredentials();const i={omsId:t,UserId:this.uid,UserName:"igor@ccxt.trade"},r=await this.privateGetGetUserAccounts(this.extend(i,e)),s=[];for(let n=0;n<r.length;n++){const e=this.safeString(r,n);s.push({id:e,type:void 0,currency:void 0,info:e})}return s}async fetchBalance(e={}){const t=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const i=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),r=this.safeInteger2(e,"accountId","AccountId",i);e=this.omit(e,["accountId","AccountId"]);const s={omsId:t,AccountId:r},n=await this.privateGetGetAccountPositions(this.extend(s,e)),a={info:n,timestamp:void 0,datetime:void 0};for(let o=0;o<n.length;o++){const e=n[o],t=this.safeString(e,"ProductId"),i=this.safeCurrencyCode(t),r=this.account();r["total"]=this.safeString(e,"Amount"),r["used"]=this.safeString(e,"Hold"),a[i]=r}return this.parseBalance(a,!1)}parseLedgerEntryType(e){const t={Trade:"trade",Deposit:"transaction",Withdraw:"transaction",Transfer:"transfer",OrderHold:"trade",WithdrawHold:"transaction",DepositHold:"transaction",MarginHold:"trade",ManualHold:"trade",ManualEntry:"trade",MarginAcquisition:"trade",MarginRelinquish:"trade",MarginQuoteHold:"trade"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"TransactionId"),r=this.safeString(e,"AccountId"),s=this.safeString(e,"ReferenceId"),n=this.safeString(e,"Counterparty"),a=this.parseLedgerEntryType(this.safeString(e,"ReferenceType")),o=this.safeString(e,"ProductId"),c=this.safeCurrencyCode(o,t),d=this.safeNumber(e,"CR"),h=this.safeNumber(e,"DR");let u=void 0,l=void 0;d>0?(u=d,l="in"):h>0&&(u=h,l="out");const f=this.safeInteger(e,"TimeStamp");let p=void 0;const m=this.safeNumber(e,"Balance");"out"===l?p=this.sum(m,u):"in"===l&&(p=Math.max(0,m-u));const g="ok";return{info:e,id:i,direction:l,account:r,referenceId:s,referenceAccount:n,type:a,currency:c,amount:u,before:p,after:m,status:g,timestamp:f,datetime:this.iso8601(f),fee:void 0}}async fetchLedger(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const n=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(r,"accountId","AccountId",n);r=this.omit(r,["accountId","AccountId"]);const o={omsId:s,AccountId:a};void 0!==i&&(o["Depth"]=i);const c=await this.privateGetGetAccountTransactions(this.extend(o,r));let d=void 0;return void 0!==e&&(d=this.currency(e)),this.parseLedger(c,d,t,i)}parseOrderStatus(e){const t={Accepted:"open",Rejected:"rejected",Working:"open",Canceled:"canceled",Expired:"expired",FullyExecuted:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString2(e,"ReplacementOrderId","OrderId"),r=this.safeInteger(e,"ReceiveTime"),s=this.safeInteger(e,"LastUpdatedTime"),n=this.safeString(e,"Instrument"),a=this.safeSymbol(n,t),o=this.safeStringLower(e,"Side"),c=this.safeStringLower(e,"OrderType"),d=this.safeString2(e,"ReplacementClOrdId","ClientOrderId");let h=this.safeNumber(e,"Price",0);h=h>0?h:void 0;const u=this.safeNumber(e,"OrigQuantity"),l=this.safeNumber(e,"QuantityExecuted"),f=this.safeNumber(e,"GrossValueExecuted");let p=this.safeNumber(e,"AvgPrice",0);p=p>0?p:void 0;let m=this.safeNumber(e,"StopPrice",0);m=m>0?m:void 0;const g=void 0,y=this.parseOrderStatus(this.safeString(e,"OrderState")),v=void 0,b=void 0;return this.safeOrder({id:i,clientOrderId:d,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,status:y,symbol:a,type:c,timeInForce:g,postOnly:void 0,side:o,price:h,stopPrice:m,cost:f,amount:u,filled:l,average:p,remaining:void 0,fee:v,trades:b})}async createOrder(e,t,i,r,s,n={}){const a=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const o=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),c=this.safeInteger2(n,"accountId","AccountId",o),d=this.safeInteger2(n,"ClientOrderId","clientOrderId");n=this.omit(n,["accountId","AccountId","clientOrderId","ClientOrderId"]);const h=this.market(e),u="buy"===i?0:1,l={InstrumentId:parseInt(h["id"]),omsId:a,AccountId:c,TimeInForce:1,Side:u,Quantity:parseFloat(this.amountToPrecision(e,r)),OrderType:this.safeInteger(this.options["orderTypes"],this.capitalize(t))};void 0!==s&&(l["LimitPrice"]=parseFloat(this.priceToPrecision(e,s))),void 0!==d&&(l["ClientOrderId"]=d);const f=await this.privatePostSendOrder(this.extend(l,n));return this.parseOrder(f,h)}async editOrder(e,t,i,r,s,n,a={}){const o=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const c=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),d=this.safeInteger2(a,"accountId","AccountId",c),h=this.safeInteger2(a,"ClientOrderId","clientOrderId");a=this.omit(a,["accountId","AccountId","clientOrderId","ClientOrderId"]);const u=this.market(t),l="buy"===r?0:1,f={OrderIdToReplace:parseInt(e),InstrumentId:parseInt(u["id"]),omsId:o,AccountId:d,TimeInForce:1,Side:l,Quantity:parseFloat(this.amountToPrecision(t,s)),OrderType:this.safeInteger(this.options["orderTypes"],this.capitalize(i))};void 0!==n&&(f["LimitPrice"]=parseFloat(this.priceToPrecision(t,n))),void 0!==h&&(f["ClientOrderId"]=h);const p=await this.privatePostCancelReplaceOrder(this.extend(f,a));return this.parseOrder(p,u)}async fetchMyTrades(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const n=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(r,"accountId","AccountId",n);r=this.omit(r,["accountId","AccountId"]);const o={omsId:s,AccountId:a};let c=void 0;void 0!==e&&(c=this.market(e),o["InstrumentId"]=c["id"]),void 0!==t&&(o["StartTimeStamp"]=parseInt(t/1e3)),void 0!==i&&(o["Depth"]=i);const d=await this.privateGetGetTradesHistory(this.extend(o,r));return this.parseTrades(d,c,t,i)}async cancelAllOrders(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const r=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),s=this.safeInteger2(t,"accountId","AccountId",r);t=this.omit(t,["accountId","AccountId"]);const n={omsId:i,AccountId:s};if(void 0!==e){const t=this.market(e);n["IntrumentId"]=t["id"]}const a=await this.privatePostCancelAllOrders(this.extend(n,t));return a}async cancelOrder(e,t,i={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();let s=void 0;void 0!==t&&(s=this.market(t));const n={omsId:r},a=this.safeInteger2(i,"clientOrderId","ClOrderId");void 0!==a?n["ClOrderId"]=a:n["OrderId"]=parseInt(e),i=this.omit(i,["clientOrderId","ClOrderId"]);const o=await this.privatePostCancelOrder(this.extend(n,i)),c=this.parseOrder(o,s);return this.extend(c,{id:e,clientOrderId:a})}async fetchOpenOrders(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const n=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(r,"accountId","AccountId",n);r=this.omit(r,["accountId","AccountId"]);let o=void 0;void 0!==e&&(o=this.market(e));const c={omsId:s,AccountId:a},d=await this.privateGetGetOpenOrders(this.extend(c,r));return this.parseOrders(d,o,t,i)}async fetchOrders(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const n=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(r,"accountId","AccountId",n);r=this.omit(r,["accountId","AccountId"]);const o={omsId:s,AccountId:a};let c=void 0;void 0!==e&&(c=this.market(e),o["InstrumentId"]=c["id"]),void 0!==t&&(o["StartTimeStamp"]=parseInt(t/1e3)),void 0!==i&&(o["Depth"]=i);const d=await this.privateGetGetOrdersHistory(this.extend(o,r));return this.parseOrders(d,c,t,i)}async fetchOrder(e,t,i={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const s=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),n=this.safeInteger2(i,"accountId","AccountId",s);i=this.omit(i,["accountId","AccountId"]);let a=void 0;void 0!==t&&(a=this.market(t));const o={omsId:r,AccountId:n,OrderId:parseInt(e)},c=await this.privateGetGetOrderStatus(this.extend(o,i));return this.parseOrder(c,a)}async fetchOrderTrades(e,t,i,r,s={}){const n=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();let a=void 0;void 0!==t&&(a=this.market(t));const o={OMSId:parseInt(n),OrderId:parseInt(e)},c=await this.privatePostGetOrderHistoryByOrderId(this.extend(o,s)),d=this.groupBy(c,"ChangeReason"),h=this.safeValue(d,"Trade",[]);return this.parseTrades(h,a,i,r)}async fetchDepositAddress(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const r=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),s=this.safeInteger2(t,"accountId","AccountId",r);t=this.omit(t,["accountId","AccountId"]);const n=this.currency(e),a={omsId:i,AccountId:s,ProductId:n["id"],GenerateNewKey:!1},o=await this.privateGetGetDepositInfo(this.extend(a,t));return this.parseDepositAddress(o,n)}parseDepositAddress(e,t){const i=this.safeString(e,"DepositInfo"),r=JSON.parse(i),s=r.length,n=this.safeString(r,s-1),a=n.split("?memo="),o=this.safeString(a,0),c=this.safeString(a,1);let d=void 0;return void 0!==t&&(d=t["code"]),this.checkAddress(o),{currency:d,address:o,tag:c,info:e}}async createDepositAddress(e,t={}){const i={GenerateNewKey:!0};return await this.fetchDepositAddress(e,this.extend(i,t))}async fetchDeposits(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const n=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(r,"accountId","AccountId",n);r=this.omit(r,["accountId","AccountId"]);let o=void 0;void 0!==e&&(o=this.currency(e));const c={omsId:s,AccountId:a},d=await this.privateGetGetDeposits(this.extend(c,r));return this.parseTransactions(d,o,t,i)}async fetchWithdrawals(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const n=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),a=this.safeInteger2(r,"accountId","AccountId",n);r=this.omit(r,["accountId","AccountId"]);let o=void 0;void 0!==e&&(o=this.currency(e));const c={omsId:s,AccountId:a},d=await this.privateGetGetWithdraws(this.extend(c,r));return this.parseTransactions(d,o,t,i)}parseTransactionStatusByType(e,t){const i={deposit:{New:"pending",AdminProcessing:"pending",Accepted:"pending",Rejected:"rejected",SystemProcessing:"pending",FullyProcessed:"ok",Failed:"failed",Pending:"pending",Confirmed:"pending",AmlProcessing:"pending",AmlAccepted:"pending",AmlRejected:"rejected",AmlFailed:"failed",LimitsAccepted:"pending",LimitsRejected:"rejected"},withdrawal:{New:"pending",AdminProcessing:"pending",Accepted:"pending",Rejected:"rejected",SystemProcessing:"pending",FullyProcessed:"ok",Failed:"failed",Pending:"pending",Pending2Fa:"pending",AutoAccepted:"pending",Delayed:"pending",UserCanceled:"canceled",AdminCanceled:"canceled",AmlProcessing:"pending",AmlAccepted:"pending",AmlRejected:"rejected",AmlFailed:"failed",LimitsAccepted:"pending",LimitsRejected:"rejected",Submitted:"pending",Confirmed:"pending",ManuallyConfirmed:"pending",Confirmed2Fa:"pending"}},r=this.safeValue(i,t,{});return this.safeString(r,e,e)}parseTransaction(e,t){const i=this.safeString(e,"DepositId");let r=void 0;const s=this.safeString(e,"ProductId"),n=this.safeCurrencyCode(s,t);let a=void 0,o=void 0;"DepositId"in e?o="deposit":"WithdrawId"in e&&(o="withdrawal");const c=this.safeString(e,"TemplateForm");let d=void 0,h=this.safeInteger(e,"LastUpdateTimeStamp");if(void 0!==c){const e=JSON.parse(c);d=this.safeString(e,"ExternalAddress"),r=this.safeString(e,"TxId"),a=this.safeInteger(e,"TimeSubmitted"),h=this.safeInteger(e,"LastUpdated",h)}const u=d,l=this.parseTransactionStatusByType(this.safeString(e,"TicketStatus"),o),f=this.safeNumber(e,"Amount"),p=this.safeNumber(e,"FeeAmount");let m=void 0;return void 0!==p&&(m={currency:n,cost:p}),{info:e,id:i,txid:r,timestamp:a,datetime:this.iso8601(a),address:d,addressTo:u,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:o,amount:f,currency:n,status:l,updated:h,fee:m}}async withdraw(e,t,i,r,n={}){if(void 0===this.twofa)throw new s(this.id+" withdraw() requires exchange.twofa credential for OATH codes");this.checkAddress(i);const a=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const o=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0]["id"])),c=this.safeInteger2(n,"accountId","AccountId",o);n=this.omit(n,["accountId","AccountId"]);const d=this.currency(e),h={omsId:a,AccountId:c,ProductId:d["id"]},u=await this.privateGetGetWithdrawTemplateTypes(h),l=this.safeValue(u,"TemplateTypes",[]),f=this.safeValue(l,0);if(void 0===f)throw new s(this.id+" withdraw() could not find a withdraw template type for "+d["code"]);const p=this.safeString(f,"TemplateName"),m={omsId:a,AccountId:c,ProductId:d["id"],TemplateType:p,AccountProviderId:f["AccountProviderId"]},g=await this.privateGetGetWithdrawTemplate(m),y=this.safeString(g,"Template");if(void 0===y)throw new s(this.id+" withdraw() could not find a withdraw template for "+d["code"]);const v=JSON.parse(y);v["ExternalAddress"]=i,void 0!==r&&"Memo"in v&&(v["Memo"]=r);const b={omsId:a,AccountId:c,ProductId:d["id"],TemplateForm:this.json(v),TemplateType:p},w={TfaType:"Google",TFaCode:this.oath(),Payload:this.json(b)},S=await this.privatePostCreateWithdrawTicket(this.deepExtend(w,n));return{info:S,id:this.safeString(S,"Id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,r=this.hmac(this.encode(t),this.encode(this.secret));s={Nonce:e,APIKey:this.apiKey,Signature:r,UserId:this.uid},"POST"===i?(s["Content-Type"]="application/json",n=this.json(o)):Object.keys(o).length&&(a+="?"+this.urlencode(o))}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,a,o,c,d,h){if(404===e)throw new n(this.id+" "+o);if(void 0===c)return;const u=this.safeString(c,"errormsg");if(void 0!==u&&""!==u){const e=this.id+" "+o;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],o,e),new s(e)}}}},"01ab":function(e,t,i){"use strict";const r=i("90db"),{ExchangeNotAvailable:s,ExchangeError:n,DDoSProtection:a,BadSymbol:o}=i("74b0"),c=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"whitebit",name:"WhiteBit",version:"v2",countries:["EE"],rateLimit:500,has:{cancelOrder:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchBalance:!1,fetchBidsAsks:!1,fetchCurrencies:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,privateAPI:!1,publicAPI:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/66732963-8eb7dd00-ee66-11e9-849b-10d9282bb9e0.jpg",api:{web:"https://whitebit.com/",publicV2:"https://whitebit.com/api/v2/public",publicV1:"https://whitebit.com/api/v1/public"},www:"https://www.whitebit.com",doc:"https://documenter.getpostman.com/view/7473075/Szzj8dgv?version=latest",fees:"https://whitebit.com/fee-schedule",referral:"https://whitebit.com/referral/d9bdf40e-28f2-4b52-b2f9-cd1415d82963"},api:{web:{get:["v1/healthcheck"]},publicV1:{get:["markets","tickers","ticker","symbols","depth/result","history","kline"]},publicV2:{get:["markets","ticker","assets","fee","depth/{market}","trades/{market}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},options:{fetchTradesMethod:"fetchTradesV1"},exceptions:{exact:{503:s},broad:{"Market is not available":o}}})}async fetchMarkets(e={}){const t=await this.publicV2GetMarkets(e),i=this.safeValue(t,"result"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),n=this.safeString(e,"stock"),a=this.safeString(e,"money"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(e,"tradesEnabled"),u={id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,info:e,active:h,precision:{amount:this.safeInteger(e,"stockPrec"),price:this.safeInteger(e,"moneyPrec")},limits:{amount:{min:this.safeNumber(e,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minTotal"),max:void 0}}};r.push(u)}return r}async fetchCurrencies(e={}){const t=await this.publicV2GetAssets(e),i=this.safeValue(t,"result"),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeValue(t,"canDeposit",!0),o=this.safeValue(t,"canWithdraw",!0),c=a&&o,d=this.safeCurrencyCode(e);s[d]={id:e,code:d,info:t,name:void 0,active:c,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(t,"minWithdrawal"),max:this.safeNumber(t,"maxWithdrawal")}}}}return s}async fetchTradingFees(e={}){const t=await this.publicV2GetFee(e),i=this.safeValue(t,"result");return{maker:this.safeNumber(i,"makerFee"),taker:this.safeNumber(i,"takerFee")}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicV1GetTicker(this.extend(r,t)),n=this.safeValue(s,"result",{});return this.parseTicker(n,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"at",this.milliseconds());e=this.safeValue(e,"ticker",e);let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last"),n=this.safeNumber(e,"change");let a=void 0;return void 0!==n&&(a=this.numberToString(.01*n)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:void 0,change:a,percentage:n,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"deal"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicV1GetTickers(t),r=this.safeValue(i,"result"),s=Object.keys(r),n={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeMarket(e),i=this.parseTicker(r[e],t),o=i["symbol"];n[o]=i}return this.filterByArray(n,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicV2GetDepthMarket(this.extend(s,i)),a=this.safeValue(n,"result",{}),o=this.parse8601(this.safeString(a,"lastUpdateTimestamp"));return this.parseOrderBook(a,e,o)}async fetchTradesV1(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"],lastId:1};void 0!==i&&(n["limit"]=i);const a=await this.publicV1GetHistory(this.extend(n,r)),o=this.safeValue(a,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTradesV2(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicV2GetTradesMarket(this.extend(n,r)),o=this.safeValue(a,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){const s=this.safeString(this.options,"fetchTradesMethod","fetchTradesV2");return await this[s](e,t,i,r)}parseTrade(e,t){let i=this.safeValue(e,"time");i="string"===typeof i?this.parse8601(i):parseInt(1e3*i);const r=this.safeString(e,"price"),s=this.safeString2(e,"amount","volume"),n=this.parseNumber(c.stringMul(r,s)),a=this.parseNumber(r),o=this.parseNumber(s),d=this.safeString2(e,"id","tradeId");let h=this.safeString(e,"type");if(void 0===h){const t=this.safeValue(e,"isBuyerMaker");h=t?"buy":"sell"}let u=void 0;return void 0!==t&&(u=t["symbol"]),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:d,order:void 0,type:void 0,takerOrMaker:void 0,side:h,price:a,amount:o,cost:n,fee:void 0}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={market:n["id"],interval:this.timeframes[t]};if(void 0!==i){const e=1440;void 0===r&&(r=e),r=Math.min(r,e);const s=parseInt(i/1e3),n=this.parseTimeframe(t),o=this.sum(s,n*r);a["start"]=s,a["end"]=o}void 0!==r&&(a["limit"]=r);const o=await this.publicV1GetKline(this.extend(a,s)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,n,t,i,r)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchStatus(e={}){const t=await this.webGetV1Healthcheck(e),i=this.safeInteger(t,"status");let r="ok";return 503===i&&(r="maintenance"),this.status=this.extend(this.status,{status:r,updated:this.milliseconds()}),this.status}sign(e,t="publicV1",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e));let o=this.urls["api"][t]+"/"+this.implodeParams(e,r);return Object.keys(a).length&&(o+="?"+this.urlencode(a)),{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,o,c,d,h){if(418===e||429===e)throw new a(this.id+" "+e.toString()+" "+t+" "+o);if(404===e)throw new n(this.id+" "+e.toString()+" endpoint not found");if(void 0!==c){const e=this.safeValue(c,"success");if(!e){const e=this.id+" "+o,t=this.safeString(c,"status");throw"string"===typeof t&&this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],o,e),new n(e)}}}}},"01b4":function(e,t,i){"use strict";const r=i("90db"),{BadSymbol:s,PermissionDenied:n,ExchangeError:a,ExchangeNotAvailable:o,OrderNotFound:c,InsufficientFunds:d,InvalidOrder:h,RequestTimeout:u,AuthenticationError:l}=i("74b0"),{TRUNCATE:f,DECIMAL_PLACES:p,TICK_SIZE:m}=i("5ea4"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hitbtc",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"2",pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0,transfer:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",test:{public:"https://api.demo.hitbtc.com",private:"https://api.demo.hitbtc.com"},api:{public:"https://api.hitbtc.com",private:"https://api.hitbtc.com"},www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["currency","currency/{currency}","symbol","symbol/{symbol}","ticker","ticker/{symbol}","trades","trades/{symbol}","orderbook","orderbook/{symbol}","candles","candles/{symbol}"]},private:{get:["trading/balance","order","order/{clientOrderId}","trading/fee/all","trading/fee/{symbol}","margin/account","margin/account/{symbol}","margin/position","margin/position/{symbol}","margin/order","margin/order/{clientOrderId}","history/order","history/trades","history/order/{orderId}/trades","account/balance","account/crypto/address/{currency}","account/crypto/addresses/{currency}","account/crypto/used-addresses/{currency}","account/crypto/estimate-withdraw","account/crypto/is-mine/{address}","account/transactions","account/transactions/{id}","sub-acc","sub-acc/acl","sub-acc/balance/{subAccountUserID}","sub-acc/deposit-address/{subAccountUserId}/{currency}"],post:["order","margin/order","account/crypto/address/{currency}","account/crypto/withdraw","account/crypto/transfer-convert","account/transfer","account/transfer/internal","sub-acc/freeze","sub-acc/activate","sub-acc/transfer"],put:["order/{clientOrderId}","margin/account/{symbol}","margin/order/{clientOrderId}","account/crypto/withdraw/{id}","sub-acc/acl/{subAccountUserId}"],delete:["order","order/{clientOrderId}","margin/account","margin/account/{symbol}","margin/position","margin/position/{symbol}","margin/order","margin/order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},precisionMode:m,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002}},options:{defaultTimeInForce:"FOK",accountsByType:{bank:"bank",exchange:"exchange",main:"bank",trading:"exchange"},fetchBalanceMethod:{account:"account",main:"account",trading:"trading"}},commonCurrencies:{AUTO:"Cube",BCC:"BCC",BET:"DAO.Casino",BOX:"BOX Token",CPT:"Cryptaur",GET:"Themis",HSR:"HC",IQ:"IQ.Cash",LNC:"LinkerCoin",PLA:"PlayChip",PNT:"Penta",SBTC:"Super Bitcoin",STX:"Stox",TV:"Tokenville",USD:"USDT",XPNT:"PNT"},exceptions:{504:u,1002:l,1003:n,2010:h,2001:s,2011:h,2020:h,20002:c,20001:d}})}feeToPrecision(e,t){return this.decimalToPrecision(t,f,8,p)}async fetchMarkets(e={}){const t=await this.publicGetSymbol(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a);let d=o+"/"+c;s.indexOf("_")>=0&&(d=s);const h=this.safeString(e,"quantityIncrement"),u=this.safeString(e,"tickSize"),l=this.parseNumber(h),f=this.parseNumber(u),p={price:f,amount:l},m=this.safeNumber(e,"takeLiquidityRate"),y=this.safeNumber(e,"provideLiquidityRate"),v=this.safeString(e,"feeCurrency"),b=this.safeCurrencyCode(v);i.push(this.extend(this.fees["trading"],{info:e,id:s,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:!0,taker:m,maker:y,precision:p,feeCurrency:b,limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:this.parseNumber(g.stringMul(h,u)),max:void 0}}}))}return i}async transfer(e,t,i,r,s={}){await this.loadMarkets();const n=this.currency(e),o=this.currencyToPrecision(e,t),c={currency:n["id"],amount:o};let d=this.safeString(s,"type");if(void 0===d){const e=this.safeValue(this.options,"accountsByType",{}),t=this.safeString(e,i),s=this.safeString(e,r),n=Object.keys(e);if(void 0===t)throw new a(this.id+" fromAccount must be one of "+n.join(", ")+" instead of "+t);if(void 0===s)throw new a(this.id+" toAccount must be one of "+n.join(", ")+" instead of "+s);if(t===s)throw new a(this.id+" from and to cannot be the same account");d=t+"To"+this.capitalize(s)}c["type"]=d;const h=await this.privatePostAccountTransfer(this.extend(c,s)),u=this.safeString(h,"id");return{info:h,id:u,timestamp:void 0,datetime:void 0,amount:o,currency:e,fromAccount:i,toAccount:r,status:void 0}}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeInteger(e,"precisionTransfer",8),a=1/Math.pow(10,n),o=this.safeCurrencyCode(s),c=this.safeValue(e,"payinEnabled"),d=this.safeValue(e,"payoutEnabled"),h=this.safeValue(e,"transferEnabled");let u=c&&d&&h;"disabled"in e&&e["disabled"]&&(u=!1);let l="fiat";"crypto"in e&&e["crypto"]&&(l="crypto");const f=this.safeString(e,"fullName");i[o]={id:s,code:o,type:l,payin:c,payout:d,transfer:h,info:e,name:f,active:u,fee:this.safeNumber(e,"payoutFee"),precision:a,limits:{amount:{min:1/Math.pow(10,n),max:Math.pow(10,n)},withdraw:{min:void 0,max:Math.pow(10,a)}}}}return i}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.extend({symbol:i["id"]},this.omit(t,"symbol")),s=await this.privateGetTradingFeeSymbol(r);return{info:s,maker:this.safeNumber(s,"provideLiquidityRate"),taker:this.safeNumber(s,"takeLiquidityRate")}}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","trading"),i=this.safeValue(this.options,"fetchBalanceMethod",{}),r=this.safeString(i,t);if(void 0===r)throw new a(this.id+" fetchBalance account type must be either main or trading");const s="privateGet"+this.capitalize(r)+"Balance",n=this.omit(e,"type"),o=await this[s](n),c={info:o,timestamp:void 0,datetime:void 0};for(let a=0;a<o.length;a++){const e=o[a],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r["free"]=this.safeString(e,"available"),r["used"]=this.safeString(e,"reserved"),c[i]=r}return this.parseBalance(c,!1)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"max"),this.safeNumber(e,"min"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],period:this.timeframes[t]};void 0!==i&&(a["from"]=this.iso8601(i)),void 0!==r&&(a["limit"]=r);const o=await this.publicGetCandlesSymbol(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r["limit"]=t);const s=await this.publicGetOrderbookSymbol(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bid","ask","price","size")}parseTicker(e,t){const i=this.parse8601(e["timestamp"]);let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"volume"),n=this.safeNumber(e,"volumeQuote"),a=this.safeNumber(e,"open"),o=this.safeNumber(e,"last");let c=void 0,d=void 0,h=void 0;void 0!==o&&void 0!==a&&(c=o-a,h=this.sum(o,a)/2,a>0&&(d=c/a*100));const u=this.vwap(s,n);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:u,open:a,close:o,last:o,previousClose:void 0,change:c,percentage:d,average:h,baseVolume:s,quoteVolume:n,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=this.safeMarket(t),a=n["symbol"];r[a]=this.parseTicker(e,n)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTickerSymbol(this.extend(r,t));if("message"in s)throw new a(this.id+" "+s["message"]);return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(e["timestamp"]),r=this.safeString(e,"symbol");t=this.safeMarket(r,t);const s=t["symbol"];let n=void 0;const a=this.safeNumber(e,"fee");if(void 0!==a){const e=t?t["feeCurrency"]:void 0;n={cost:a,currency:e}}const o=this.safeString(e,"clientOrderId"),c=this.safeString(e,"price"),d=this.safeString(e,"quantity"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(g.stringMul(c,d)),f=this.safeString(e,"side"),p=this.safeString(e,"id");return{info:e,id:p,order:o,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:f,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:n}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["asset"]=s["id"]),void 0!==t&&(n["startTime"]=t);const a=await this.privateGetAccountTransactions(this.extend(n,r));return this.parseTransactions(a,s,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt")),s=this.parse8601(this.safeString(e,"updatedAt")),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n,t),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeNumber(e,"amount"),d=this.safeString(e,"address"),h=this.safeString(e,"hash");let u=void 0;const l=this.safeNumber(e,"fee");void 0!==l&&(u={cost:l,currency:a});const f=this.parseTransactionType(this.safeString(e,"type"));return{info:e,id:i,txid:h,timestamp:r,datetime:this.iso8601(r),address:d,tag:void 0,type:f,amount:c,currency:a,status:o,updated:s,fee:u}}parseTransactionStatus(e){const t={pending:"pending",failed:"failed",success:"ok"};return this.safeString(t,e,e)}parseTransactionType(e){const t={payin:"deposit",payout:"withdrawal",withdraw:"withdrawal"};return this.safeString(t,e,e)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit"]=i),void 0!==t&&(n["sort"]="ASC",n["from"]=this.iso8601(t));const a=await this.publicGetTradesSymbol(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=this.uuid(),c=o.split("-");let d=c.join("");d=d.slice(0,32),r=parseFloat(r);const u={clientOrderId:d,symbol:a["id"],side:i,quantity:this.amountToPrecision(e,r),type:t};"limit"===t?u["price"]=this.priceToPrecision(e,s):u["timeInForce"]=this.options["defaultTimeInForce"];const l=await this.privatePostOrder(this.extend(u,n)),f=this.parseOrder(l);if("rejected"===f["status"])throw new h(this.id+" order was rejected by the exchange "+this.json(f));return f}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o=this.uuid(),c=o.split("-");let d=c.join("");d=d.slice(0,32);const h={clientOrderId:e,requestClientId:d};void 0!==s&&(h["quantity"]=this.amountToPrecision(t,s)),void 0!==n&&(h["price"]=this.priceToPrecision(t,n));const u=await this.privatePatchOrderClientOrderId(this.extend(h,a));return this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateDeleteOrderClientOrderId(this.extend(r,i));return this.parseOrder(s)}parseOrderStatus(e){const t={new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"createdAt")),r=this.parse8601(this.safeString(e,"updatedAt")),s=this.safeString(e,"symbol");t=this.safeMarket(s,t);const n=t["symbol"],a=this.safeNumber(e,"quantity"),o=this.safeNumber(e,"cumQuantity"),c=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeString(e,"clientOrderId"),h=d,u=this.safeNumber(e,"price"),l=this.safeString(e,"type"),f=this.safeString(e,"side");let p=this.safeValue(e,"tradesReport");const m=void 0,g=this.safeNumber(e,"avgPrice");void 0!==p&&(p=this.parseTrades(p,t));const y=this.safeString(e,"timeInForce");return this.safeOrder({id:d,clientOrderId:h,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:r,status:c,symbol:n,type:l,timeInForce:y,side:f,price:u,stopPrice:void 0,average:g,amount:a,cost:void 0,filled:o,remaining:void 0,fee:m,trades:p,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateGetHistoryOrder(this.extend(r,i)),n=s.length;if(n>0)return this.parseOrder(s[0]);throw new c(this.id+" order "+e+" not found")}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateGetOrderClientOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["symbol"]=s["id"]);const a=await this.privateGetOrder(this.extend(n,r));return this.parseOrders(a,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["symbol"]=s["id"]),void 0!==i&&(n["limit"]=i),void 0!==t&&(n["from"]=this.iso8601(t));const a=await this.privateGetHistoryOrder(this.extend(n,r)),o=this.parseOrders(a,s),c=[];for(let d=0;d<o.length;d++){const e=o[d],t=e["status"];"closed"!==t&&"canceled"!==t||c.push(e)}return this.filterBySinceLimit(c,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["symbol"]=n["id"]),void 0!==t&&(s["from"]=this.iso8601(t)),void 0!==i&&(s["limit"]=i);const a=await this.privateGetHistoryTrades(this.extend(s,r));return this.parseTrades(a,n,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();let n=void 0;void 0!==t&&(n=this.market(t));const a={orderId:e},o=await this.privateGetHistoryOrderOrderIdTrades(this.extend(a,s)),d=o.length;if(d>0)return this.parseTrades(o,n,i,r);throw new c(this.id+" order "+e+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]')}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostAccountCryptoAddressCurrency(this.extend(r,t)),n=this.safeString(s,"address");this.checkAddress(n);const a=this.safeString(s,"paymentId");return{currency:i,address:n,tag:a,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetAccountCryptoAddressCurrency(this.extend(r,t)),n=this.safeString(s,"address");this.checkAddress(n);const a=this.safeString(s,"paymentId");return{currency:i["code"],address:n,tag:a,info:s}}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const n=this.currency(e),a={currency:n["id"],amount:parseFloat(t),address:i};r&&(a["paymentId"]=r);const o=await this.privatePostAccountCryptoWithdraw(this.extend(a,s));return{info:o,id:o["id"]}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/api/"+this.version+"/";const o=this.omit(r,this.extractParams(e));if("public"===t)a+=t+"/"+this.implodeParams(e,r),Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),a+=this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(n=this.json(o));const t=this.encode(this.apiKey+":"+this.secret),c=this.stringToBase64(t);s={Authorization:"Basic "+this.decode(c),"Content-Type":"application/json"}}return a=this.urls["api"][t]+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,c,d,u){if(void 0!==c&&e>=400){const t=this.id+" "+n;if(503===e||504===e)throw new o(t);if(429===e)return;if("{"===n[0]&&"error"in c){const e=this.safeString(c["error"],"code");this.throwExactlyMatchedException(this.exceptions,e,t);const i=this.safeString(c["error"],"message");if("Duplicate clientOrderId"===i)throw new h(t)}throw new a(t)}}}},"02a7":function(e,t,i){"use strict";var r=i("f4c8"),s=i("b9b3").assert,n=i("b9b3"),{byteArrayToWordArray:a}=i("39f1");const o=r.enc.Utf8.parse(""),c=r.enc.Utf8.parse("\0");function d(e){if(!(this instanceof d))return new d(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.slice(3,6),this.minEntropy=e.minEntropy||192,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=e.entropy,i=e.nonce,r=[];s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,r)}e.exports=d,d.prototype._init=function(e,t,i){var s=e.concat(t).concat(i);this.K=new r.lib.WordArray.init,this.V=new r.lib.WordArray.init;const n=16843009;this.V.words=Array(this.outLen/32).fill(n),this.V.sigBytes=32,this._update(s),this._reseed=1,this.reseedInterval=281474976710656},d.prototype._hmac=function(){return new r.lib.WordArray.init},d.prototype._update=function(e){var t=this._hmac();t.concat(this.V),t.concat(c),e&&t.concat(a(e)),this.K=r["Hmac"+this.hash](t,this.K),this.V=r["Hmac"+this.hash](this.V,this.K),e&&(t=this._hmac(),t.concat(this.V),t.concat(o),t.concat(a(e)),this.K=r["Hmac"+this.hash](t,this.K),this.V=r["Hmac"+this.hash](this.V,this.K))},d.prototype.reseed=function(e,t,i,r){"string"!==typeof t&&(i,i=t,t=null),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},d.prototype.generate=function(e,t,i,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(i,i=t,t=null),i&&(i=r.enc.Utf8.parse(i),this._update(i));var a=new r.lib.WordArray.init;while(a.sigBytes<e)this.V=r["Hmac"+this.hash](this.V,this.K),a.concat(this.V);return this._update(i),this._reseed++,n.wordArrayToBuffer(a)}},"02cf":function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i("896c"),n=i("7e63"),a=i("f9ee"),o=i("abf9"),c=i("efc3"),d=i("7d18"),h=r(i("a4b3"));t.seedWithNonce=function(e,t){return{seed:n.Seed.toBinary(e).seed,nonce:t}},t.buildAddress=function(e,t){void 0===t&&(t=s.MAIN_NET_CHAIN_ID);var i=[1,"string"===typeof t?t.charCodeAt(0):t],r=a._hashChain(e).slice(0,20),n=c.concat(i,r),o=a._hashChain(n).slice(0,4);return c.concat(n,o)};var u=function(e,t){var i=[0,0,0,0];if(t&&t>0)for(var r=t,s=3;s>=0;s--)i[3-s]=Math.floor(r/Math.pow(2,8*s)),r%=Math.pow(2,8*s);var n=c.concat(i,e),o=a._hashChain(n);return a.sha256(o)};t.keyPair=function(e){var t=n.Seed.toBinary(e),i=t.seed,r=t.nonce,s=u(i,r),a=h.default.generateKeyPair(s);return{privateKey:a.private,publicKey:a.public}},t.address=function(e,i){return void 0===i&&(i=s.MAIN_NET_CHAIN_ID),d.isPublicKey(e)?t.buildAddress(o._fromIn(e.publicKey),i):t.address(t.keyPair(e),i)},t.publicKey=function(e){return d.isPrivateKey(e)?h.default.generateKeyPair(o._fromIn(e.privateKey)).public:t.keyPair(e).publicKey},t.privateKey=function(e){return t.keyPair(e).privateKey}},"02ff":function(e,t){function i(e,t){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=i},"0366":function(e,t,i){var r=i("1c0b");e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,s){return e.call(t,i,r,s)}}return function(){return e.apply(t,arguments)}}},"0406":function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,PermissionDenied:a,ExchangeNotAvailable:o,OnMaintenance:c,InvalidOrder:d,OrderNotFound:h,InsufficientFunds:u,ArgumentsRequired:l,BadSymbol:f,BadRequest:p,RequestTimeout:m,NetworkError:g}=i("74b0"),{TRUNCATE:y}=i("5ea4"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobipro",name:"Huobi Pro",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents["chrome39"],version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{test:{market:"https://api.testnet.huobi.pro",public:"https://api.testnet.huobi.pro",private:"https://api.testnet.huobi.pro"},logo:"https://user-images.githubusercontent.com/1294454/76137448-22748a80-604e-11ea-8069-6e389271911d.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}",v2Public:"https://{hostname}",v2Private:"https://{hostname}"},www:"https://www.huobi.com",referral:"https://www.huobi.com/en-us/topic/invited/?invite_code=rwrd3",doc:["https://huobiapi.github.io/docs/spot/v1/cn/","https://huobiapi.github.io/docs/dm/v1/cn/","https://huobiapi.github.io/docs/coin_margined_swap/v1/cn/","https://huobiapi.github.io/docs/usdt_swap/v1/cn/","https://huobiapi.github.io/docs/option/v1/cn/"],fees:"https://www.huobi.com/about/fee/"},api:{v2Public:{get:["reference/currencies","market-status"]},v2Private:{get:["account/ledger","account/withdraw/quota","account/withdraw/address","account/deposit/address","account/repayment","reference/transact-fee-rate","account/asset-valuation","point/account","sub-user/user-list","sub-user/user-state","sub-user/account-list","sub-user/deposit-address","sub-user/query-deposit","user/api-key","user/uid","algo-orders/opening","algo-orders/history","algo-orders/specific","c2c/offers","c2c/offer","c2c/transactions","c2c/repayment","c2c/account","etp/reference","etp/transactions","etp/transaction","etp/rebalance","etp/limit"],post:["account/transfer","account/repayment","point/transfer","sub-user/management","sub-user/creation","sub-user/tradable-market","sub-user/transferability","sub-user/api-key-generation","sub-user/api-key-modification","sub-user/api-key-deletion","sub-user/deduct-mode","algo-orders","algo-orders/cancel-all-after","algo-orders/cancellation","c2c/offer","c2c/cancellation","c2c/cancel-all","c2c/repayment","c2c/transfer","etp/creation","etp/redemption","etp/{transactId}/cancel","etp/batch-cancel"]},market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail","tickers","etp"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","account/accounts/{sub-uid}","account/history","cross-margin/loan-info","margin/loan-info","fee/fee-rate/get","order/openOrders","order/orders","order/orders/{id}","order/orders/{id}/matchresults","order/orders/getClientOrder","order/history","order/matchresults","dw/withdraw-virtual/addresses","query/deposit-withdraw","margin/loan-info","margin/loan-orders","margin/accounts/balance","cross-margin/loan-orders","cross-margin/accounts/balance","points/actions","points/orders","subuser/aggregate-balance","stable-coin/exchange_rate","stable-coin/quote"],post:["account/transfer","futures/transfer","order/batch-orders","order/orders/place","order/orders/submitCancelClientOrder","order/orders/batchCancelOpenOrders","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay","cross-margin/transfer-in","cross-margin/transfer-out","cross-margin/orders","cross-margin/orders/{id}/repay","stable-coin/exchange","subuser/transfer"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{broad:{"contract is restricted of closing positions on API.  Please contact customer service":c,maintain:c},exact:{"bad-request":p,"base-date-limit-error":p,"api-not-support-temp-addr":a,timeout:m,"gateway-internal-error":o,"account-frozen-balance-insufficient-error":u,"invalid-amount":d,"order-limitorder-amount-min-error":d,"order-limitorder-amount-max-error":d,"order-marketorder-amount-min-error":d,"order-limitorder-price-min-error":d,"order-limitorder-price-max-error":d,"order-holding-limit-failed":d,"order-orderprice-precision-error":d,"order-etp-nav-price-max-error":d,"order-orderstate-error":h,"order-queryorder-invalid":h,"order-update-error":o,"api-signature-check-failed":s,"api-signature-not-valid":s,"base-record-invalid":h,"base-symbol-trade-disabled":f,"base-symbol-error":f,"system-maintenance":c,"invalid symbol":f,"symbol trade not open now":f}},options:{fetchOrdersByStatesMethod:"private_get_order_orders",fetchOpenOrdersMethod:"fetch_open_orders_v1",createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"},commonCurrencies:{GET:"Themis",GTC:"Game.com",HIT:"HitChain",HOT:"Hydro Protocol",PNT:"Penta",SBTC:"Super Bitcoin",BIFI:"Bitcoin File"}})}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let r=0;r<e.length;r++){const s=e[r];i[s]=await this.fetchTradingLimitsById(this.marketId(s),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},r=await this.publicGetCommonExchange(this.extend(i,t));return this.parseTradingLimits(this.safeValue(r,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,limits:{amount:{min:this.safeNumber(e,"limit-order-must-greater-than"),max:this.safeNumber(e,"limit-order-must-less-than")}}}}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e]["precision"]["cost"],this.precisionMode)}async fetchMarkets(e={}){const t=this.options["fetchMarketsMethod"],i=await this[t](e),r=this.safeValue(i,"data"),s=r.length;if(s<1)throw new g(this.id+" publicGetCommonSymbols returned empty response: "+this.json(r));const n=[];for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"base-currency"),i=this.safeString(e,"quote-currency"),s=t+i,o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(i),d=o+"/"+c,h={amount:this.safeInteger(e,"amount-precision"),price:this.safeInteger(e,"price-precision"),cost:this.safeInteger(e,"value-precision")},u="OMG"===o?0:.002,l="OMG"===o?0:.002,f=this.safeNumber(e,"min-order-amt",Math.pow(10,-h["amount"])),p=this.safeNumber(e,"max-order-amt"),m=this.safeNumber(e,"min-order-value",0),g=this.safeString(e,"state"),y="online"===g;n.push({id:s,symbol:d,base:o,quote:c,baseId:t,quoteId:i,active:y,precision:h,taker:l,maker:u,limits:{amount:{min:f,max:p},price:{min:Math.pow(10,-h["price"]),max:void 0},cost:{min:m,max:void 0}},info:e})}return n}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const r=this.safeInteger(e,"ts");let s=void 0,n=void 0,a=void 0,o=void 0;"bid"in e&&(Array.isArray(e["bid"])?(s=this.safeNumber(e["bid"],0),n=this.safeNumber(e["bid"],1)):(s=this.safeNumber(e,"bid"),n=this.safeValue(e,"bidSize"))),"ask"in e&&(Array.isArray(e["ask"])?(a=this.safeNumber(e["ask"],0),o=this.safeNumber(e["ask"],1)):(a=this.safeNumber(e,"ask"),o=this.safeValue(e,"askSize")));const c=this.safeNumber(e,"open"),d=this.safeNumber(e,"close");let h=void 0,u=void 0,l=void 0;void 0!==c&&void 0!==d&&(h=d-c,l=this.sum(c,d)/2,void 0!==d&&d>0&&(u=h/c*100));const f=this.safeNumber(e,"amount"),p=this.safeNumber(e,"vol"),m=this.vwap(f,p);return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:s,bidVolume:n,ask:a,askVolume:o,vwap:m,open:c,close:d,last:d,previousClose:void 0,change:h,percentage:u,average:l,baseVolume:f,quoteVolume:p,info:e}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"],type:"step0"},a=await this.marketGetDepth(this.extend(s,i));if("tick"in a){if(!a["tick"])throw new f(this.id+" fetchOrderBook() returned empty response: "+this.json(a));const t=this.safeValue(a,"tick"),i=this.safeInteger(t,"ts",this.safeInteger(a,"ts")),r=this.parseOrderBook(t,e,i);return r["nonce"]=this.safeInteger(t,"version"),r}throw new n(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(a))}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.marketGetDetailMerged(this.extend(r,t)),n=this.parseTicker(s["tick"],i),a=this.safeInteger(s,"ts");return n["timestamp"]=a,n["datetime"]=this.iso8601(a),n}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t),r=this.safeValue(i,"data"),s=this.safeInteger(i,"ts"),n={};for(let a=0;a<r.length;a++){const e=this.safeString(r[a],"symbol"),t=this.safeMarket(e),i=t["symbol"],o=this.parseTicker(r[a],t);o["timestamp"]=s,o["datetime"]=this.iso8601(s),n[i]=o}return this.filterByArray(n,"symbol",e)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeInteger2(e,"ts","created-at"),n=this.safeString(e,"order-id");let a=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){const e=o.split("-");a=e[0],o=e[1]}const c=this.safeString(e,"role"),d=this.safeString(e,"price"),h=this.safeString2(e,"filled-amount","amount"),u=this.parseNumber(d),l=this.parseNumber(h),f=this.parseNumber(v.stringMul(d,h));let p=void 0,m=this.safeNumber(e,"filled-fees"),g=this.safeCurrencyCode(this.safeString(e,"fee-currency"));const y=this.safeNumber(e,"filled-points");void 0!==y&&(void 0!==m&&0!==m||(m=y,g=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==m&&(p={cost:m,currency:g});const b=this.safeString2(e,"trade-id","tradeId"),w=this.safeString(e,"id",b);return{id:w,info:e,order:n,timestamp:s,datetime:this.iso8601(s),symbol:r,type:o,side:a,takerOrMaker:c,price:u,amount:l,cost:f,fee:p}}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n={id:e},a=await this.privateGetOrderOrdersIdMatchresults(this.extend(n,s));return this.parseTrades(a["data"],void 0,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["symbol"]=s["id"]),void 0!==i&&(n["size"]=i),void 0!==t&&(n["start-date"]=this.ymd(t),n["end-date"]=this.ymd(this.sum(t,864e5)));const a=await this.privateGetOrderMatchresults(this.extend(n,r));return this.parseTrades(a["data"],s,t,i)}async fetchTrades(e,t,i=1e3,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["size"]=i);const a=await this.marketGetHistoryTrade(this.extend(n,r)),o=this.safeValue(a,"data");let c=[];for(let d=0;d<o.length;d++){const e=this.safeValue(o[d],"data",[]);for(let t=0;t<e.length;t++){const i=this.parseTrade(e[t],s);c.push(i)}}return c=this.sortBy(c,"timestamp"),this.filterBySymbolSinceLimit(c,e,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],period:this.timeframes[t]};void 0!==r&&(a["size"]=r);const o=await this.marketGetHistoryKline(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchAccounts(e={}){await this.loadMarkets();const t=await this.privateGetAccountAccounts(e);return t["data"]}async fetchCurrencies(e={}){const t={language:this.options["language"]},i=await this.publicGetSettingsCurrencys(this.extend(t,e)),r=this.safeValue(i,"data"),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeValue(e,"name"),i=this.safeInteger(e,"withdraw-precision"),a=this.safeCurrencyCode(t),o=e["visible"]&&e["deposit-enabled"]&&e["withdraw-enabled"],c=this.safeString(e,"display-name");s[a]={id:t,code:a,type:"crypto",name:c,active:o,fee:void 0,precision:i,limits:{amount:{min:Math.pow(10,-i),max:Math.pow(10,i)},deposit:{min:this.safeNumber(e,"deposit-min-amount"),max:Math.pow(10,i)},withdraw:{min:this.safeNumber(e,"withdraw-min-amount"),max:Math.pow(10,i)}},info:e}}return s}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.options["fetchBalanceMethod"],i={id:this.accounts[0]["id"]},r=await this[t](this.extend(i,e)),s=this.safeValue(r["data"],"list",[]),n={info:r};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t);let r=void 0;r=i in n?n[i]:this.account(),"trade"===e["type"]&&(r["free"]=this.safeString(e,"balance")),"frozen"===e["type"]&&(r["used"]=this.safeString(e,"balance")),n[i]=r}return this.parseBalance(n,!1)}async fetchOrdersByStates(e,t,i,r,s={}){await this.loadMarkets();const n={states:e};let a=void 0;void 0!==t&&(a=this.market(t),n["symbol"]=a["id"]);const o=this.safeString(this.options,"fetchOrdersByStatesMethod","private_get_order_orders"),c=await this[o](this.extend(n,s));return this.parseOrders(c["data"],a,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderOrdersId(this.extend(r,i)),n=this.safeValue(s,"data");return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"fetchOpenOrdersMethod","fetch_open_orders_v1");return await this[s](e,t,i,r)}async fetchOpenOrdersV1(e,t,i,r={}){if(void 0===e)throw new l(this.id+" fetchOpenOrdersV1() requires a symbol argument");return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrdersV2(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new l(this.id+" fetchOpenOrders() requires a symbol argument");const s=this.market(e);let n=this.safeString(r,"account-id");if(void 0===n){await this.loadAccounts();for(let e=0;e<this.accounts.length;e++){const t=this.accounts[e];if("spot"===t["type"]&&(n=this.safeString(t,"id"),void 0!==n))break}}const a={symbol:s["id"],"account-id":n};void 0!==i&&(a["size"]=i);const o=this.omit(r,"account-id"),c=await this.privateGetOrderOpenOrders(this.extend(a,o)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,s,t,i)}parseOrderStatus(e){const t={"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0,s=void 0,n=void 0;if("type"in e){const t=e["type"].split("-");r=t[0],s=t[1],n=this.parseOrderStatus(this.safeString(e,"state"))}const a=this.safeString(e,"symbol"),o=this.safeSymbol(a,t),c=this.safeInteger(e,"created-at"),d=this.safeNumber(e,"amount"),h=this.safeNumber2(e,"filled-amount","field-amount");let u=this.safeNumber(e,"price");0===u&&(u=void 0);const l=this.safeNumber2(e,"filled-cash-amount","field-cash-amount"),f=this.safeNumber2(e,"filled-fees","field-fees");let p=void 0;if(void 0!==f){let e=void 0;void 0!==t&&(e="sell"===r?t["quote"]:t["base"]),p={cost:f,currency:e}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:u,stopPrice:void 0,average:void 0,cost:l,amount:d,filled:h,remaining:void 0,status:n,fee:p,trades:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets(),await this.loadAccounts();const a=this.market(e),o={"account-id":this.accounts[0]["id"],symbol:a["id"],type:i+"-"+t},c=this.safeString2(n,"clientOrderId","client-order-id");if(void 0!==c&&(o["client-order-id"]=c),n=this.omit(n,["clientOrderId","client-order-id"]),"market"===t&&"buy"===i)if(this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===s)throw new d(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");o["amount"]=this.costToPrecision(e,parseFloat(r)*parseFloat(s))}else o["amount"]=this.costToPrecision(e,r);else o["amount"]=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t&&"limit-maker"!==t||(o["price"]=this.priceToPrecision(e,s));const h=this.options["createOrderMethod"],u=await this[h](this.extend(o,n)),l=this.milliseconds(),f=this.safeString(u,"data");return{info:u,id:f,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){const r=await this.privatePostOrderOrdersIdSubmitcancel({id:e});return this.extend(this.parseOrder(r),{id:e,status:"canceled"})}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"clientOrderIds","client-order-ids");i=this.omit(i,["clientOrderIds","client-order-ids"]);const s={};void 0===r?s["order-ids"]=e:s["client-order-ids"]=r;const n=await this.privatePostOrderOrdersBatchcancel(this.extend(s,i));return n}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;void 0!==e&&(r=this.market(e),i["symbol"]=r["id"]);const s=await this.privatePostOrderOrdersBatchCancelOpenOrders(this.extend(i,t));return s}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e]["precision"])}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"addressTag"),s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:n,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.v2PrivateGetAccountDepositAddress(this.extend(r,t)),n=this.safeValue(s,"data",[]);return this.parseDepositAddress(this.safeValue(n,0,{}),i)}async fetchDeposits(e,t,i,r={}){(void 0===i||i>100)&&(i=100),await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n={type:"deposit",from:0};void 0!==s&&(n["currency"]=s["id"]),void 0!==i&&(n["size"]=i);const a=await this.privateGetQueryDepositWithdraw(this.extend(n,r));return this.parseTransactions(a["data"],s,t,i)}async fetchWithdrawals(e,t,i,r={}){(void 0===i||i>100)&&(i=100),await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n={type:"withdraw",from:0};void 0!==s&&(n["currency"]=s["id"]),void 0!==i&&(n["size"]=i);const a=await this.privateGetQueryDepositWithdraw(this.extend(n,r));return this.parseTransactions(a["data"],s,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"created-at"),r=this.safeInteger(e,"updated-at"),s=this.safeCurrencyCode(this.safeString(e,"currency"));let n=this.safeString(e,"type");"withdraw"===n&&(n="withdrawal");const a=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag");let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:o,type:n,amount:this.safeNumber(e,"amount"),currency:s,status:a,updated:r,fee:{currency:s,cost:c,rate:void 0}}}parseTransactionStatus(e){const t={unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"};return this.safeString(t,e,e)}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const n=this.currency(e),a={address:i,amount:t,currency:n["id"].toLowerCase()};void 0!==r&&(a["addr-tag"]=r);const o=await this.privatePostDwWithdrawApiCreate(this.extend(a,s)),c=this.safeString(o,"data");return{info:o,id:c}}sign(e,t="public",i="GET",r={},s,n){let a="/";"market"===t?a+=t:"public"===t||"private"===t?a+=this.version:"v2Public"!==t&&"v2Private"!==t||(a+="v2"),a+="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t||"v2Private"===t){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let r=this.urlencode(t);const c=[i,this.hostname,a,r].join("\n"),d=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");r+="&"+this.urlencode({Signature:d}),a+="?"+r,"POST"===i?(n=this.json(o),s={"Content-Type":"application/json"}):s={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(r).length&&(a+="?"+this.urlencode(r));return a=this.implodeParams(this.urls["api"][t],{hostname:this.hostname})+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o&&"status"in o){const e=this.safeString(o,"status");if("error"===e){const e=this.safeString(o,"err-code"),t=this.id+" "+a;this.throwBroadlyMatchedException(this.exceptions["broad"],a,t),this.throwExactlyMatchedException(this.exceptions["exact"],e,t);const i=this.safeString(o,"err-msg");throw this.throwExactlyMatchedException(this.exceptions["exact"],i,t),new n(t)}}}}},"0481":function(e,t,i){"use strict";var r=i("23e7"),s=i("a2bf"),n=i("7b0b"),a=i("50c4"),o=i("a691"),c=i("65f0");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=n(this),i=a(t.length),r=c(t,0);return r.length=s(r,t,t,i,0,void 0===e?1:o(e)),r}})},"04d1":function(e,t,i){var r=i("342f"),s=r.match(/firefox\/(\d+)/i);e.exports=!!s&&+s[1]},"0538":function(e,t,i){"use strict";var r=i("1c0b"),s=i("861d"),n=[].slice,a={},o=function(e,t,i){if(!(t in a)){for(var r=[],s=0;s<t;s++)r[s]="a["+s+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,i)};e.exports=Function.bind||function(e){var t=r(this),i=n.call(arguments,1),a=function(){var r=i.concat(n.call(arguments));return this instanceof a?o(t,r.length,r):t.apply(e,r)};return s(t.prototype)&&(a.prototype=t.prototype),a}},"057f":function(e,t,i){var r=i("fc6a"),s=i("241c").f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return s(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==n.call(e)?o(e):s(r(e))}},"0633":function(e,t,i){(function(t){var i={};e.exports=i;var r={};function s(e,t){var i=0,r=t.length,s=t.charAt(0),n=[0];for(i=0;i<e.length();++i){for(var a=0,o=e.at(i);a<n.length;++a)o+=n[a]<<8,n[a]=o%r,o=o/r|0;while(o>0)n.push(o%r),o=o/r|0}var c="";for(i=0;0===e.at(i)&&i<e.length()-1;++i)c+=s;for(i=n.length-1;i>=0;--i)c+=t[n[i]];return c}i.encode=function(e,t,i){if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==i&&"number"!==typeof i)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var n=0,a=t.length,o=t.charAt(0),c=[0];for(n=0;n<e.length;++n){for(var d=0,h=e[n];d<c.length;++d)h+=c[d]<<8,c[d]=h%a,h=h/a|0;while(h>0)c.push(h%a),h=h/a|0}for(n=0;0===e[n]&&n<e.length-1;++n)r+=o;for(n=c.length-1;n>=0;--n)r+=t[c[n]]}else r=s(e,t);if(i){var u=new RegExp(".{1,"+i+"}","g");r=r.match(u).join("\r\n")}return r},i.decode=function(e,i){if("string"!==typeof e)throw new TypeError('"input" must be a string.');if("string"!==typeof i)throw new TypeError('"alphabet" must be a string.');var s=r[i];if(!s){s=r[i]=[];for(var n=0;n<i.length;++n)s[i.charCodeAt(n)]=n}e=e.replace(/\s/g,"");var a=i.length,o=i.charAt(0),c=[0];for(n=0;n<e.length;n++){var d=s[e.charCodeAt(n)];if(void 0===d)return;for(var h=0,u=d;h<c.length;++h)u+=c[h]*a,c[h]=255&u,u>>=8;while(u>0)c.push(255&u),u>>=8}for(var l=0;e[l]===o&&l<e.length-1;++l)c.push(0);return"undefined"!==typeof t?t.from(c.reverse()):new Uint8Array(c.reverse())}}).call(this,i("b639").Buffer)},"0697":function(e,t,i){"use strict";var r=i("b92f"),s=i("b9b3"),n=s.assert,a=s.parseBytes,o=i("4001"),c=i("a7b5");const d=i("74d2"),{byteArrayToWordArray:h}=i("39f1"),u=i("f4c8");function l(e){if(n("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);var t=r[e].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8)}e.exports=l,l.prototype.sign=function(e,t){e=a(e);var i=this.keyFromSecret(t),r=this.hashInt(i.secret(),e),s=this.g.mul(r),n=this.encodePoint(s),o=this.hashInt(n,i.pubBytes(),e);o=o.mul(i.priv());var c=r.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:n})},l.prototype.signModified=function(e,t){e=a(e);var i=this.keyFromSecret(t);const r=new d(i.secret(),16,"le"),s=this.encodePoint(this.g.mul(r)),n=128&s[31];var o=this.hashInt(i.secret(),e),c=this.g.mul(o),h=this.encodePoint(c);let u=this.hashInt(h,s,e);u=u.mul(r);var l=o.add(u).umod(this.curve.n),f=l.toArray("le");return f[31]|=n,this.makeSignature({R:c,S:l,Rencoded:h,Sencoded:f})},l.prototype.verify=function(e,t,i){e=a(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),s=this.hashInt(t.Rencoded(),r.pubBytes(),e),n=this.g.mul(t.S()),o=t.R().add(r.pub().mul(s));return o.eq(n)},l.prototype.hashInt=function(){let e=Array.from(arguments).reduce((e,t)=>e.concat(t));e=h(e);const t=u["SHA512"](e).toString(u.enc.Hex);return s.intFromLE(t).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return o.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return o.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){e=s.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),n=s.intFromLE(i);return this.curve.pointFromY(n,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return s.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},"06c5":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("fb6a"),i("d3b7"),i("b0c0"),i("a630"),i("3ca3");var r=i("6b75");function s(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(r["a"])(e,t):void 0}}},"06cf":function(e,t,i){var r=i("83ab"),s=i("d1e7"),n=i("5c6c"),a=i("fc6a"),o=i("c04e"),c=i("5135"),d=i("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=o(t,!0),d)try{return h(e,t)}catch(i){}if(c(e,t))return n(!s.f.call(e,t),e[t])}},"0760":function(e,t,i){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}var s;Object.defineProperty(t,"__esModule",{value:!0});var n=i("a681"),a=i("e6f8");t.seedWordsList=a.seedWordsList;var o=i("2d6e");t.ChaidId=o.ChaidId;var c=i("7e63");t.Seed=c.Seed;var d=i("7d18");t.isPrivateKey=d.isPrivateKey,t.isPublicKey=d.isPublicKey;var h=i("a681");t.crypto=h.crypto,r(i("896c")),t.signBytes=(s=n.crypto({output:"Base58"}),s.signBytes),t.keyPair=s.keyPair,t.publicKey=s.publicKey,t.privateKey=s.privateKey,t.address=s.address,t.buildAddress=s.buildAddress,t.blake2b=s.blake2b,t.keccak=s.keccak,t.sha256=s.sha256,t.sharedKey=s.sharedKey,t.seedWithNonce=s.seedWithNonce,t.base64Encode=s.base64Encode,t.base64Decode=s.base64Decode,t.base58Encode=s.base58Encode,t.base58Decode=s.base58Decode,t.base16Encode=s.base16Encode,t.base16Decode=s.base16Decode,t.stringToBytes=s.stringToBytes,t.bytesToString=s.bytesToString,t.random=s.random,t.randomSeed=s.randomSeed,t.randomBytes=s.randomBytes,t.verifySignature=s.verifySignature,t.verifyPublicKey=s.verifyPublicKey,t.verifyAddress=s.verifyAddress,t.messageDecrypt=s.messageDecrypt,t.messageEncrypt=s.messageEncrypt,t.aesDecrypt=s.aesDecrypt,t.aesEncrypt=s.aesEncrypt,t.encryptSeed=s.encryptSeed,t.decryptSeed=s.decryptSeed,t.rsaKeyPair=s.rsaKeyPair,t.rsaKeyPairSync=s.rsaKeyPairSync,t.rsaSign=s.rsaSign,t.rsaVerify=s.rsaVerify,t.merkleVerify=s.merkleVerify,t.split=s.split,t.concat=s.concat},"0789":function(e,t,i){"use strict";i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return l})),i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return p}));i("99af");var r=i("d9f7");function s(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return(e=Array()).concat.apply(e,[t].concat(r))}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",i=arguments.length>2?arguments[2]:void 0;return{name:e,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:i},origin:{type:String,default:t}},render:function(t,i){var n="transition".concat(i.props.group?"-group":""),a={props:{name:e,mode:i.props.mode},on:{beforeEnter:function(e){e.style.transformOrigin=i.props.origin,e.style.webkitTransformOrigin=i.props.origin}}};return i.props.leaveAbsolute&&(a.on.leave=s(a.on.leave,(function(e){var t=e.offsetTop,i=e.offsetLeft,r=e.offsetWidth,s=e.offsetHeight;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=t+"px",e.style.left=i+"px",e.style.width=r+"px",e.style.height=s+"px"})),a.on.afterLeave=s(a.on.afterLeave,(function(e){if(e&&e._transitionInitialStyles){var t=e._transitionInitialStyles,i=t.position,r=t.top,s=t.left,n=t.width,a=t.height;delete e._transitionInitialStyles,e.style.position=i||"",e.style.top=r||"",e.style.left=s||"",e.style.width=n||"",e.style.height=a||""}}))),i.props.hideOnLeave&&(a.on.leave=s(a.on.leave,(function(e){e._initialDisplay=e.style.display,e.style.display="none"})),a.on.afterLeave=s(a.on.afterLeave,(function(e){e&&(e.style.display=e._initialDisplay||"")}))),t(n,Object(r["a"])(i.data,a),i.children)}}}function a(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return{name:e,functional:!0,props:{mode:{type:String,default:i}},render:function(i,s){return i("transition",Object(r["a"])(s.data,{props:{name:e},on:t}),s.children)}}}var o=i("ade3"),c=i("80d2"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?"width":"height",r="offset".concat(Object(c["F"])(i));return{beforeEnter:function(e){e._parent=e.parentNode,e._initialStyle=Object(o["a"])({transition:e.style.transition,overflow:e.style.overflow},i,e.style[i])},enter:function(t){var s=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";var n="".concat(t[r],"px");t.style[i]="0",t.offsetHeight,t.style.transition=s.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((function(){t.style[i]=n}))},afterEnter:n,enterCancelled:n,leave:function(e){e._initialStyle=Object(o["a"])({transition:"",overflow:e.style.overflow},i,e.style[i]),e.style.overflow="hidden",e.style[i]="".concat(e[r],"px"),e.offsetHeight,requestAnimationFrame((function(){return e.style[i]="0"}))},afterLeave:s,leaveCancelled:s};function s(t){e&&t._parent&&t._parent.classList.remove(e),n(t)}function n(e){var t=e._initialStyle[i];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[i]=t),delete e._initialStyle}},h=(n("carousel-transition"),n("carousel-reverse-transition"),n("tab-transition"),n("tab-reverse-transition"),n("menu-transition"),n("fab-transition","center center","out-in"),n("dialog-transition"),n("dialog-bottom-transition"),n("dialog-top-transition"),n("fade-transition")),u=n("scale-transition"),l=(n("scroll-x-transition"),n("scroll-x-reverse-transition"),n("scroll-y-transition"),n("scroll-y-reverse-transition"),n("slide-x-transition")),f=(n("slide-x-reverse-transition"),n("slide-y-transition"),n("slide-y-reverse-transition"),a("expand-transition",d())),p=a("expand-x-transition",d("",!0))},"0798":function(e,t,i){"use strict";var r=i("5530"),s=i("ade3"),n=(i("caad"),i("0c18"),i("10d2")),a=i("afdd"),o=i("9d26"),c=i("f2e7"),d=i("7560"),h=i("2b0e"),u=h["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),l=i("58df"),f=i("d9bd");t["a"]=Object(l["a"])(n["a"],c["a"],u).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(s["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(a["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(r["a"])(Object(r["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||d["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(f["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"07ac":function(e,t,i){var r=i("23e7"),s=i("6f53").values;r({target:"Object",stat:!0},{values:function(e){return s(e)}})},"07f4":function(e,t,i){"use strict";var r=i("be7f"),s=4,n=0,a=1,o=2;function c(e){var t=e.length;while(--t>=0)e[t]=0}var d=0,h=1,u=2,l=3,f=258,p=29,m=256,g=m+1+p,y=30,v=19,b=2*g+1,w=15,S=16,k=7,_=256,O=16,T=17,C=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=512,M=new Array(2*(g+2));c(M);var P=new Array(2*y);c(P);var B=new Array(N);c(B);var R=new Array(f-l+1);c(R);var D=new Array(p);c(D);var L,V,j,q=new Array(y);function U(e,t,i,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function G(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?B[e]:B[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,i){e.bi_valid>S-i?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>S-e.bi_valid,e.bi_valid+=i-S):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function K(e,t,i){z(e,i[2*t],i[2*t+1])}function W(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function $(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var i,r,s,n,a,o,c=t.dyn_tree,d=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(n=0;n<=w;n++)e.bl_count[n]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<b;i++)r=e.heap[i],n=c[2*c[2*r+1]+1]+1,n>p&&(n=p,m++),c[2*r+1]=n,r>d||(e.bl_count[n]++,a=0,r>=f&&(a=l[r-f]),o=c[2*r],e.opt_len+=o*(n+a),u&&(e.static_len+=o*(h[2*r+1]+a)));if(0!==m){do{n=p-1;while(0===e.bl_count[n])n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(n=p;0!==n;n--){r=e.bl_count[n];while(0!==r)s=e.heap[--i],s>d||(c[2*s+1]!==n&&(e.opt_len+=(n-c[2*s+1])*c[2*s],c[2*s+1]=n),r--)}}}function X(e,t,i){var r,s,n=new Array(w+1),a=0;for(r=1;r<=w;r++)n[r]=a=a+i[r-1]<<1;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=W(n[o]++,o))}}function Q(){var e,t,i,r,s,n=new Array(w+1);for(i=0,r=0;r<p-1;r++)for(D[r]=i,e=0;e<1<<I[r];e++)R[i++]=r;for(R[i-1]=r,s=0,r=0;r<16;r++)for(q[r]=s,e=0;e<1<<x[r];e++)B[s++]=r;for(s>>=7;r<y;r++)for(q[r]=s<<7,e=0;e<1<<x[r]-7;e++)B[256+s++]=r;for(t=0;t<=w;t++)n[t]=0;e=0;while(e<=143)M[2*e+1]=8,e++,n[8]++;while(e<=255)M[2*e+1]=9,e++,n[9]++;while(e<=279)M[2*e+1]=7,e++,n[7]++;while(e<=287)M[2*e+1]=8,e++,n[8]++;for(X(M,g+1,n),e=0;e<y;e++)P[2*e+1]=5,P[2*e]=W(e,5);L=new U(M,I,m+1,g,w),V=new U(P,x,0,y,w),j=new U(new Array(0),E,0,v,k)}function Z(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<y;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function J(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,i,s){J(e),s&&(H(e,i),H(e,~i)),r.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function te(e,t,i,r){var s=2*t,n=2*i;return e[s]<e[n]||e[s]===e[n]&&r[t]<=r[i]}function ie(e,t,i){var r=e.heap[i],s=i<<1;while(s<=e.heap_len){if(s<e.heap_len&&te(t,e.heap[s+1],e.heap[s],e.depth)&&s++,te(t,r,e.heap[s],e.depth))break;e.heap[i]=e.heap[s],i=s,s<<=1}e.heap[i]=r}function re(e,t,i){var r,s,n,a,o=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],s=e.pending_buf[e.l_buf+o],o++,0===r?K(e,s,t):(n=R[s],K(e,n+m+1,t),a=I[n],0!==a&&(s-=D[n],z(e,s,a)),r--,n=F(r),K(e,n,i),a=x[n],0!==a&&(r-=q[n],z(e,r,a)))}while(o<e.last_lit);K(e,_,t)}function se(e,t){var i,r,s,n=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=b,i=0;i<c;i++)0!==n[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):n[2*i+1]=0;while(e.heap_len<2)s=e.heap[++e.heap_len]=d<2?++d:0,n[2*s]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=a[2*s+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)ie(e,n,i);s=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ie(e,n,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,n[2*s]=n[2*i]+n[2*r],e.depth[s]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,n[2*i+1]=n[2*r+1]=s,e.heap[1]=s++,ie(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),X(n,d,e.bl_count)}function ne(e,t,i){var r,s,n=-1,a=t[1],o=0,c=7,d=4;for(0===a&&(c=138,d=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)s=a,a=t[2*(r+1)+1],++o<c&&s===a||(o<d?e.bl_tree[2*s]+=o:0!==s?(s!==n&&e.bl_tree[2*s]++,e.bl_tree[2*O]++):o<=10?e.bl_tree[2*T]++:e.bl_tree[2*C]++,o=0,n=s,0===a?(c=138,d=3):s===a?(c=6,d=3):(c=7,d=4))}function ae(e,t,i){var r,s,n=-1,a=t[1],o=0,c=7,d=4;for(0===a&&(c=138,d=3),r=0;r<=i;r++)if(s=a,a=t[2*(r+1)+1],!(++o<c&&s===a)){if(o<d)do{K(e,s,e.bl_tree)}while(0!==--o);else 0!==s?(s!==n&&(K(e,s,e.bl_tree),o--),K(e,O,e.bl_tree),z(e,o-3,2)):o<=10?(K(e,T,e.bl_tree),z(e,o-3,3)):(K(e,C,e.bl_tree),z(e,o-11,7));o=0,n=s,0===a?(c=138,d=3):s===a?(c=6,d=3):(c=7,d=4)}}function oe(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),se(e,e.bl_desc),t=v-1;t>=3;t--)if(0!==e.bl_tree[2*A[t]+1])break;return e.opt_len+=3*(t+1)+5+5+4,t}function ce(e,t,i,r){var s;for(z(e,t-257,5),z(e,i-1,5),z(e,r-4,4),s=0;s<r;s++)z(e,e.bl_tree[2*A[s]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,i-1)}function de(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return a;return n}c(q);var he=!1;function ue(e){he||(Q(),he=!0),e.l_desc=new G(e.dyn_ltree,L),e.d_desc=new G(e.dyn_dtree,V),e.bl_desc=new G(e.bl_tree,j),e.bi_buf=0,e.bi_valid=0,Z(e)}function le(e,t,i,r){z(e,(d<<1)+(r?1:0),3),ee(e,t,i,!0)}function fe(e){z(e,h<<1,3),K(e,_,M),$(e)}function pe(e,t,i,r){var n,a,c=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=de(e)),se(e,e.l_desc),se(e,e.d_desc),c=oe(e),n=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=n&&(n=a)):n=a=i+5,i+4<=n&&-1!==t?le(e,t,i,r):e.strategy===s||a===n?(z(e,(h<<1)+(r?1:0),3),re(e,M,P)):(z(e,(u<<1)+(r?1:0),3),ce(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),re(e,e.dyn_ltree,e.dyn_dtree)),Z(e),r&&J(e)}function me(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(R[i]+m+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1}t._tr_init=ue,t._tr_stored_block=le,t._tr_flush_block=pe,t._tr_tally=me,t._tr_align=fe},"0960":function(e,t,i){e.exports=i("b19a")},"0a06":function(e,t,i){"use strict";var r=i("c532"),s=i("30b5"),n=i("f6b4"),a=i("5270"),o=i("4a7b");function c(e){this.defaults=e,this.interceptors={request:new n,response:new n}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=o(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],i=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)i=i.then(t.shift(),t.shift());return i},c.prototype.getUri=function(e){return e=o(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,i){return this.request(o(i||{},{method:e,url:t,data:(i||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,i,r){return this.request(o(r||{},{method:e,url:t,data:i}))}})),e.exports=c},"0a57":function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,AuthenticationError:n,InsufficientFunds:a,InvalidOrder:o,AccountSuspended:c,ExchangeError:d,DuplicateOrderId:h,OrderNotFound:u,BadSymbol:l,ExchangeNotAvailable:f,BadRequest:p}=i("74b0"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"wavesexchange",name:"Waves.Exchange",countries:["CH"],rateLimit:500,certified:!0,pro:!1,has:{cancelOrder:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/84547058-5fb27d80-ad0b-11ea-8711-78ac8b3c7f31.jpg",api:{matcher:"http://matcher.waves.exchange",node:"https://nodes.waves.exchange",public:"https://api.wavesplatform.com/v0",private:"https://api.waves.exchange/v1",forward:"https://waves.exchange/api/v1/forward/matcher",market:"https://waves.exchange/api/v1/forward/marketdata/api/v1"},doc:"https://docs.waves.exchange",www:"https://waves.exchange"},api:{matcher:{get:["matcher","matcher/settings","matcher/settings/rates","matcher/balance/reserved/{publicKey}","matcher/debug/allSnashotOffsets","matcher/debug/currentOffset","matcher/debug/lastOffset","matcher/debug/oldestSnapshotOffset","matcher/orderbook","matcher/orderbook/{amountAsset}/{priceAsset}","matcher/orderbook/{baseId}/{quoteId}/publicKey/{publicKey}","matcher/orderbook/{baseId}/{quoteId}/{orderId}","matcher/orderbook/{baseId}/{quoteId}/info","matcher/orderbook/{baseId}/{quoteId}/status","matcher/orderbook/{baseId}/{quoteId}/tradeableBalance/{address}","matcher/orderbook/{publicKey}","matcher/orderbook/{publicKey}/{orderId}","matcher/orders/{address}","matcher/orders/{address}/{orderId}","matcher/transactions/{orderId}"],post:["matcher/orderbook","matcher/orderbook/market","matcher/orderbook/cancel","matcher/orderbook/{baseId}/{quoteId}/cancel","matcher/debug/saveSnapshots","matcher/orders/{address}/cancel","matcher/orders/cancel/{orderId}"],delete:["matcher/orderbook/{baseId}/{quoteId}","matcher/settings/rates/{assetId}"],put:["matcher/settings/rates/{assetId}"]},node:{get:["addresses","addresses/balance/{address}","addresses/balance/{address}/{confirmations}","addresses/balance/details/{address}","addresses/data/{address}","addresses/data/{address}/{key}","addresses/effectiveBalance/{address}","addresses/effectiveBalance/{address}/{confirmations}","addresses/publicKey/{publicKey}","addresses/scriptInfo/{address}","addresses/scriptInfo/{address}/meta","addresses/seed/{address}","addresses/seq/{from}/{to}","addresses/validate/{address}","alias/by-address/{address}","alias/by-alias/{alias}","assets/{assetId}/distribution/{height}/{limit}","assets/balance/{address}","assets/balance/{address}/{assetId}","assets/details/{assetId}","assets/nft/{address}/limit/{limit}","blockchain/rewards","blockchain/rewards/height","blocks/address/{address}/{from}/{to}/","blocks/at/{height}","blocks/delay/{signature}/{blockNum}","blocks/first","blocks/headers/last","blocks/headers/seq/{from}/{to}","blocks/height","blocks/height/{signature}","blocks/last","blocks/seq/{from}/{to}","blocks/signature/{signature}","consensus/algo","consensus/basetarget","consensus/basetarget/{blockId}","consensus/{generatingbalance}/address","consensus/generationsignature","consensus/generationsignature/{blockId}","debug/balances/history/{address}","debug/blocks/{howMany}","debug/configInfo","debug/historyInfo","debug/info","debug/minerInfo","debug/portfolios/{address}","debug/state","debug/stateChanges/address/{address}","debug/stateChanges/info/{id}","debug/stateWaves/{height}","leasing/active/{address}","node/state","node/version","peers/all","peers/blacklisted","peers/connected","peers/suspended","transactions/address/{address}/limit/{limit}","transactions/info/{id}","transactions/status","transactions/unconfirmed","transactions/unconfirmed/info/{id}","transactions/unconfirmed/size","utils/seed","utils/seed/{length}","utils/time","wallet/seed"],post:["addresses","addresses/data/{address}","addresses/sign/{address}","addresses/signText/{address}","addresses/verify/{address}","addresses/verifyText/{address}","debug/blacklist","debug/print","debug/rollback","debug/validate","node/stop","peers/clearblacklist","peers/connect","transactions/broadcast","transactions/calculateFee","tranasctions/sign","transactions/sign/{signerAddress}","tranasctions/status","utils/hash/fast","utils/hash/secure","utils/script/compileCode","utils/script/compileWithImports","utils/script/decompile","utils/script/estimate","utils/sign/{privateKey}","utils/transactionsSerialize"],delete:["addresses/{address}","debug/rollback-to/{signature}"]},public:{get:["pairs","candles/{baseId}/{quoteId}","transactions/exchange"]},private:{get:["deposit/addresses/{code}","deposit/currencies","withdraw/currencies","withdraw/addresses/{currency}/{address}"],post:["oauth2/token"]},forward:{get:["matcher/orders/{address}","matcher/orders/{address}/{orderId}"],post:["matcher/orders/{wavesAddress}/cancel"]},market:{get:["tickers"]}},options:{allowedCandles:1440,accessToken:void 0,matcherPublicKey:void 0,quotes:void 0,createOrderDefaultExpiry:24192e5,wavesAddress:void 0,withdrawFeeUSDN:7420,withdrawFeeWAVES:1e5,wavesPrecision:8},requiresEddsa:!0,exceptions:{3147270:a,112:a,4:d,13:f,14:f,3145733:c,3148040:h,3148801:n,9440512:n,9440771:l,9441026:o,9441282:o,9441286:o,9441295:o,9441540:o,9441542:o,106954752:n,106954769:n,106957828:n,106960131:n,106981137:n,9437193:u,1048577:p,1051904:n}})}async getQuotes(){let e=this.safeValue(this.options,"quotes");if(e)return e;{const t=await this.matcherGetMatcherSettings();e={};const i=this.safeValue(t,"priceAssets");for(let r=0;r<i.length;r++)e[i[r]]=!0;return this.options["quotes"]=e,e}}async fetchMarkets(e={}){const t=await this.marketGetTickers(),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"amountAssetID"),n=this.safeString(e,"priceAssetID"),a=s+"/"+n,o=this.safeString(e,"symbol"),[c,d]=o.split("/"),h=this.safeCurrencyCode(c)+"/"+this.safeCurrencyCode(d),u={amount:this.safeInteger(e,"amountAssetDecimals"),price:this.safeInteger(e,"priceAssetDecimals")};i.push({symbol:h,id:a,base:c,quote:d,baseId:s,quoteId:n,info:e,precision:u})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s=this.extend({amountAsset:r["baseId"],priceAsset:r["quoteId"]},i),n=await this.matcherGetMatcherOrderbookAmountAssetPriceAsset(s),a=this.safeInteger(n,"timestamp"),o=this.parseOrderBookSide(this.safeValue(n,"bids"),r,t),c=this.parseOrderBookSide(this.safeValue(n,"asks"),r,t);return{symbol:e,bids:o,asks:c,timestamp:a,datetime:this.iso8601(a),nonce:void 0}}parseOrderBookSide(e,t,i){const r=t["precision"],s=this.safeInteger(this.options,"wavesPrecision",8),n=Math.pow(10,r["amount"]),a=r["amount"]-r["price"],o=Math.pow(10,s-a),c=[];for(let d=0;d<e.length;d++){const t=e[d],r=this.safeInteger(t,"price",0)/o,s=this.safeInteger(t,"amount",0)/n;if(void 0!==i&&d>i)break;c.push([r,s])}return c}checkRequiredKeys(){if(void 0===this.apiKey)throw new n(this.id+" requires apiKey credential");if(void 0===this.secret)throw new n(this.id+" requires secret credential");let e=void 0,t=void 0;try{e=this.base58ToBinary(this.apiKey)}catch(s){throw new n(this.id+" apiKey must be a base58 encoded public key")}try{t=this.base58ToBinary(this.secret)}catch(s){throw new n(this.id+" secret must be a base58 encoded private key")}const i=this.binaryToBase16(e),r=this.binaryToBase16(t);if(64!==i.length)throw new n(this.id+" apiKey must be a base58 encoded public key");if(64!==r.length)throw new n(this.id+" secret must be a base58 encoded private key")}sign(e,t="public",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e)),o="matcher/orders/{wavesAddress}/cancel"===e;e=this.implodeParams(e,r);let c=this.urls["api"][t]+"/"+e,d=this.urlencode(a);if("private"===t||"forward"===t){s={Accept:"application/json"};const e=this.safeString(this.options,"accessToken");e&&(s["Authorization"]="Bearer "+e),s["content-type"]="POST"===i?"application/json":"application/x-www-form-urlencoded",o&&(n=this.json([a["orderId"]]),d=""),d.length>0&&(c+="?"+d)}else"matcher"===t?"POST"===i?(s={"content-type":"application/json"},n=this.json(a)):s=a:"POST"===i?(s={"content-type":"application/json"},n=this.json(a)):(s={"content-type":"application/x-www-form-urlencoded"},d.length>0&&(c+="?"+d));return{url:c,method:i,body:n,headers:s}}async getAccessToken(){if(!this.safeString(this.options,"accessToken")){const e="ffffff01",t=604800;let i=this.sum(this.seconds(),t);i=i.toString();const r="waves.exchange",s="W:"+r+":"+i,n=this.binaryToBase16(this.stringToBinary(this.encode(s))),a=e+n,o=this.binaryToBase16(this.base58ToBinary(this.secret)),c=this.eddsa(a,o,"ed25519"),d={grant_type:"password",scope:"general",username:this.apiKey,password:i+":"+c,client_id:r},h=await this.privatePostOauth2Token(d);return this.options["accessToken"]=this.safeString(h,"access_token"),this.options["accessToken"]}}parseTicker(e,t){const i=void 0,r=this.safeString(e,"amountAsset"),s=this.safeString(e,"priceAsset");let n=void 0;if(void 0!==r&&void 0!==s){const e=r+"/"+s;if(e in this.markets_by_id)t=this.markets_by_id[e];else{const e=this.safeCurrencyCode(r),t=this.safeCurrencyCode(s);n=e+"/"+t}}void 0===n&&void 0!==t&&(n=t["symbol"]);const a=this.safeValue(e,"data",{}),o=this.safeNumber(a,"lastPrice"),c=this.safeNumber(a,"low"),d=this.safeNumber(a,"high"),h=this.safeNumber(a,"weightedAveragePrice"),u=this.safeNumber(a,"volume"),l=this.safeNumber(a,"quoteVolume"),f=this.safeNumber(a,"firstPrice");let p=void 0,m=void 0,g=void 0;return void 0!==o&&void 0!==f&&(p=o-f,m=this.sum(o,f)/2,f>0&&(g=p/f*100)),{symbol:n,timestamp:i,datetime:this.iso8601(i),high:d,low:c,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:h,open:f,close:o,last:o,previousClose:void 0,change:p,percentage:g,average:m,baseVolume:u,quoteVolume:l,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pairs:i["id"]},s=await this.publicGetPairs(this.extend(r,t)),n=this.safeValue(s,"data",[]),a=this.safeValue(n,0,{});return this.parseTicker(a,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={baseId:n["baseId"],quoteId:n["quoteId"],interval:this.timeframes[t]};if(void 0!==i)a["timeStart"]=i.toString();else{const e=this.safeInteger(this.options,"allowedCandles",1440),i=1e3*this.parseTimeframe(t),r=Math.floor(this.milliseconds()/i)*i,s=(e-1)*i,n=r-s;a["timeStart"]=n.toString()}const o=await this.publicGetCandlesBaseIdQuoteId(this.extend(a,s)),c=this.safeValue(o,"data",[]),d=this.parseOHLCVs(c,n,t,i,r);let h=void 0;const u=d.length;for(let l=0;l<d.length;l++){const e=u-l-1,t=d[e],i=t[1];void 0===i&&(t[1]=h,t[2]=h,t[3]=h,t[4]=h,d[e]=t),h=t[4]}return d}parseOHLCV(e,t){const i=this.safeValue(e,"data",{});return[this.parse8601(this.safeString(i,"time")),this.safeNumber(i,"open"),this.safeNumber(i,"high"),this.safeNumber(i,"low"),this.safeNumber(i,"close"),this.safeNumber(i,"volume",0)]}async fetchDepositAddress(e,t={}){await this.getAccessToken();const i=await this.privateGetDepositCurrencies(),r={},s=this.safeValue(i,"items",[]);for(let d=0;d<s.length;d++){const e=s[d],t=this.safeString(e,"id");r[t]=!0}if(!(e in r)){const t=Object.keys(r);throw new d(this.id+" fetch "+e+" deposit address not supported. Currency code must be one of "+t.toString())}const n=this.extend({code:e},t),a=await this.privateGetDepositAddressesCode(n),o=this.safeValue(a,"deposit_addresses"),c=this.safeString(o,0);return{address:c,code:e,tag:void 0,info:a}}async getMatcherPublicKey(){const e=this.safeString(this.options,"matcherPublicKey");if(e)return e;{const e=await this.matcherGetMatcher();return this.options["matcherPublicKey"]=e.slice(1,e.length-1),this.options["matcherPublicKey"]}}getAssetBytes(e){return"WAVES"===e?this.numberToBE(0,1):this.binaryConcat(this.numberToBE(1,1),this.base58ToBinary(e))}getAssetId(e){return"WAVES"===e?"":e}priceToPrecision(e,t){const i=this.markets[e],r=this.safeInteger(this.options,"wavesPrecision",8),s=i["precision"]["amount"]-i["precision"]["price"];return parseInt(parseFloat(this.toPrecision(t,r-s)))}amountToPrecision(e,t){return parseInt(parseFloat(this.toPrecision(t,this.markets[e]["precision"]["amount"])))}currencyToPrecision(e,t){return parseInt(parseFloat(this.toPrecision(t,this.currencies[e]["precision"])))}fromPrecision(e,t){if(void 0===e)return;const i=new m(e);return i.decimals=i.decimals+t,i.reduce(),i.toString()}toPrecision(e,t){const i=e.toString(),r=new m(i);return r.decimals=r.decimals-t,r.reduce(),r.toString()}currencyFromPrecision(e,t){const i=this.currencies[e]["precision"];return this.fromPrecision(t,i)}priceFromPrecision(e,t){const i=this.markets[e],r=this.safeInteger(this.options,"wavesPrecision",8),s=r-i["precision"]["amount"]+i["precision"]["price"];return this.fromPrecision(t,s)}async createOrder(e,t,i,r,s,n={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.loadMarkets();const o=this.market(e),c=await this.getMatcherPublicKey(),d=this.getAssetId(o["baseId"]),h=this.getAssetId(o["quoteId"]);r=this.amountToPrecision(e,r),s=this.priceToPrecision(e,s);const u="buy"===i?0:1,l=this.milliseconds(),f=this.safeInteger(this.options,"createOrderDefaultExpiry",24192e5),p=this.sum(l,f),g=await this.matcherGetMatcherSettings(),y=this.safeValue(g,"orderFee"),v=this.safeValue(y,"dynamic"),b=this.safeString(v,"baseFee"),w=this.currencyFromPrecision("WAVES",b),S=this.safeValue(v,"rates"),k=Object.keys(S);let _=void 0,O=void 0;if("feeAssetId"in n)_=n["feeAssetId"];else if("feeAssetId"in this.options)_=this.options["feeAssetId"];else{const e=await this.fetchBalance();if(e["WAVES"]["free"]>w)_="WAVES",O=b;else for(let t=0;t<k.length;t++){const i=k[t],r=this.safeCurrencyCode(i),s=this.safeValue(this.safeValue(e,r,{}),"free"),n=m.stringMul(S[i],w);if(void 0!==s&&s>n){_=i;break}}}if(void 0===_)throw a(this.id+" not enough funds to cover the fee, specify feeAssetId in params or options, or buy some WAVES");if(void 0===O){const e=this.safeInteger(this.options,"wavesPrecision",8),t=this.safeString(S,_),i=this.safeCurrencyCode(_),r=this.currency(i),s=e-r["precision"];O=this.fromPrecision(m.stringMul(t,b),s),O=m.stringDiv(m.stringAdd(O,"1"),"1",0)}const T=[this.numberToBE(3,1),this.base58ToBinary(this.apiKey),this.base58ToBinary(c),this.getAssetBytes(o["baseId"]),this.getAssetBytes(o["quoteId"]),this.numberToBE(u,1),this.numberToBE(s,8),this.numberToBE(r,8),this.numberToBE(l,8),this.numberToBE(p,8),this.numberToBE(O,8),this.getAssetBytes(_)],C=this.binaryConcatArray(T),I=this.eddsa(this.binaryToBase16(C),this.binaryToBase16(this.base58ToBinary(this.secret)),"ed25519"),x={amountAsset:d,priceAsset:h},E={senderPublicKey:this.apiKey,matcherPublicKey:c,assetPair:x,orderType:i,price:s,amount:r,timestamp:l,expiration:p,matcherFee:parseInt(O),signature:I,version:3};"WAVES"!==_&&(E["matcherFeeAssetId"]=_);const A=await this.matcherPostMatcherOrderbook(E),N=this.safeValue(A,"message");return this.parseOrder(N,o)}async cancelOrder(e,t,i={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.getAccessToken();const r=await this.getWavesAddress(),s=await this.forwardPostMatcherOrdersWavesAddressCancel({wavesAddress:r,orderId:e}),n=this.safeValue(s,"message"),a=this.safeValue(n,0),o=this.safeValue(a,0),c=this.safeString(o,"orderId");return{info:s,id:c,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:t,type:void 0,side:void 0,price:void 0,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async fetchOrders(e,t,i,r={}){if(this.checkRequiredDependencies(),this.checkRequiredKeys(),void 0===e)throw new s(this.id+" fetchOrders() requires symbol argument");await this.loadMarkets();const n=this.market(e),a=this.milliseconds(),o=[this.base58ToBinary(this.apiKey),this.numberToBE(a,8)],c=this.binaryConcatArray(o),d=this.binaryToBase16(this.base58ToBinary(this.secret)),h=this.eddsa(this.binaryToBase16(c),d,"ed25519"),u={Accept:"application/json",Timestamp:a.toString(),Signature:h,publicKey:this.apiKey,baseId:n["baseId"],quoteId:n["quoteId"]},l=await this.matcherGetMatcherOrderbookBaseIdQuoteIdPublicKeyPublicKey(this.extend(u,r));return this.parseOrders(l,n,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),await this.getAccessToken();let s=void 0;void 0!==e&&(s=this.market(e));const n=await this.getWavesAddress(),a={address:n,activeOnly:!0},o=await this.forwardGetMatcherOrdersAddress(a);return this.parseOrders(o,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets(),await this.getAccessToken();let s=void 0;void 0!==e&&(s=this.market(e));const n=await this.getWavesAddress(),a={address:n,closedOnly:!0},o=await this.forwardGetMatcherOrdersAddress(a);return this.parseOrders(o,s,t,i)}parseOrderStatus(e){const t={Cancelled:"canceled",Accepted:"open",Filled:"closed",PartiallyFilled:"open"};return this.safeString(t,e,e)}getSymbolFromAssetPair(e){const t=this.safeString(e,"amountAsset","WAVES"),i=this.safeString(e,"priceAsset","WAVES");return this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}parseOrder(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString2(e,"type","orderType");let s="limit";"type"in e&&(s=this.safeString(e,"orderType",s));const n=this.safeString(e,"id"),a=this.safeString(e,"filled"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.safeValue(e,"assetPair");let h=void 0;void 0!==d?h=this.getSymbolFromAssetPair(d):void 0!==t&&(h=t["symbol"]);const u=this.safeCurrencyCode(this.safeString(d,"amountAsset","WAVES")),l=this.parseNumber(this.priceFromPrecision(h,o)),f=this.parseNumber(this.currencyFromPrecision(u,c)),p=this.parseNumber(this.currencyFromPrecision(u,a)),m=this.parseNumber(this.priceFromPrecision(h,this.safeString(e,"avgWeighedPrice"))),g=this.parseOrderStatus(this.safeString(e,"status"));let y=void 0;if("type"in e){const t=this.safeCurrencyCode(this.safeString(e,"feeAsset"));y={currency:t,fee:this.parseNumber(this.currencyFromPrecision(t,this.safeString(e,"filledFee")))}}else{const t=this.safeCurrencyCode(this.safeString(e,"matcherFeeAssetId","WAVES"));y={currency:t,fee:this.parseNumber(this.currencyFromPrecision(t,this.safeString(e,"matcherFee")))}}return this.safeOrder({info:e,id:n,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:h,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:void 0,amount:f,cost:void 0,average:m,filled:p,remaining:void 0,status:g,fee:y,trades:void 0})}async getWavesAddress(){const e=this.safeString(this.options,"wavesAddress");if(void 0===e){const e={publicKey:this.apiKey},t=await this.nodeGetAddressesPublicKeyPublicKey(e);return this.options["wavesAddress"]=this.safeString(t,"address"),this.options["wavesAddress"]}return e}async fetchBalance(e={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.loadMarkets();const t=await this.getWavesAddress(),i={address:t},r=await this.nodeGetAssetsBalanceAddress(i),s=this.safeValue(r,"balances"),n={};let a=void 0;for(let v=0;v<s.length;v++){const e=s[v],t=this.safeInteger(e,"timestamp");a=void 0===a?t:Math.max(a,t);const i=this.safeValue(e,"issueTransaction"),r=this.safeInteger(i,"decimals"),o=this.safeString(e,"assetId"),c=this.safeString(e,"balance");let d=void 0;o in this.currencies_by_id&&(d=this.safeCurrencyCode(o),n[d]=this.account(),n[d]["total"]=this.fromPrecision(c,r))}const o=this.milliseconds(),c=[this.base58ToBinary(this.apiKey),this.numberToBE(o,8)],d=this.binaryConcatArray(c),h=this.binaryToBase16(this.base58ToBinary(this.secret)),u=this.eddsa(this.binaryToBase16(d),h,"ed25519"),l={publicKey:this.apiKey,signature:u,timestamp:o.toString()},f=await this.matcherGetMatcherBalanceReservedPublicKey(l),p=Object.keys(f);for(let v=0;v<p.length;v++){const e=p[v],t=this.safeCurrencyCode(e);t in n||(n[t]=this.account());const i=this.safeString(f,e);n[t]["used"]=this.currencyFromPrecision(t,i)}const m={address:t},g=await this.nodeGetAddressesBalanceAddress(m);n["WAVES"]=this.safeValue(n,"WAVES",{}),n["WAVES"]["total"]=this.currencyFromPrecision("WAVES",this.safeString(g,"balance"));const y=Object.keys(n);for(let v=0;v<y.length;v++){const e=y[v];void 0===this.safeValue(n[e],"used")&&(n[e]["used"]="0")}return n["timestamp"]=a,n["datetime"]=this.iso8601(a),this.parseBalance(n,!1)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=await this.getWavesAddress(),a={sender:n,amountAsset:s["baseId"],priceAsset:s["quoteId"]},o=await this.publicGetTransactionsExchange(a),c=this.safeValue(o,"data");return this.parseTrades(c,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={amountAsset:s["baseId"],priceAsset:s["quoteId"]};void 0!==i&&(n["limit"]=i),void 0!==t&&(n["timeStart"]=t);const a=await this.publicGetTransactionsExchange(n),o=this.safeValue(a,"data");return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeValue(e,"data"),r=this.safeString(i,"timestamp"),s=this.parse8601(r),n=this.safeString(i,"id"),a=this.safeString(i,"price"),o=this.safeString(i,"amount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(m.stringMul(a,o)),u=this.safeValue(i,"order1"),l=this.safeValue(i,"order2");let f=void 0;f=this.safeString(u,"senderPublicKey")===this.apiKey?u:l;let p=void 0;const g=this.safeValue(f,"assetPair");void 0!==g?p=this.getSymbolFromAssetPair(g):void 0!==t&&(p=t["symbol"]);const y=this.safeString(f,"orderType"),v=this.safeString(f,"id"),b={cost:this.safeNumber(f,"matcherFee"),currency:this.safeCurrencyCode(this.safeString(f,"matcherFeeAssetId","WAVES"))};return{info:e,timestamp:s,datetime:r,symbol:p,id:n,order:v,type:void 0,side:y,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:b}}handleErrors(e,t,i,r,s,n,a,o,c){const h=this.safeString(a,"error"),u=this.safeValue(a,"success",!0),l=this.safeValue(this.exceptions,h);if(void 0!==l){const e=this.safeString(a,"message");throw new l(this.id+" "+e)}const f=this.safeString(a,"message");if("Validation Error"===f)throw new p(this.id+" "+n);if(!u)throw new d(this.id+" "+n)}async withdraw(e,t,i,r,s={}){if("WAVES"!==e){const t=await this.privateGetWithdrawCurrencies(),i={},r=this.safeValue(t,"items",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"id");i[s]=!0}if(!(e in i)){const t=Object.keys(i);throw new d(this.id+" fetch "+e+" withdrawals are not supported. Currency code must be one of "+t.toString())}}await this.loadMarkets();const n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],a={};for(let d=0;d<n.length;d++){const e=n[d];a[e]=!0}let o=!0;const c=this.remove0xPrefix(i),h=c.toLowerCase();for(let d=0;d<h.length;d++){const e=h[d];if(!(e in a)){o=!1;break}}await this.getAccessToken();let u=void 0;if("WAVES"!==e||o){const r={address:i,currency:e},s=await this.privateGetWithdrawAddressesCurrencyAddress(r),n=this.safeValue(s,"currency"),a=this.safeValue(n,"allowed_amount"),o=this.safeNumber(a,"min");if(t<=o)throw new p(this.id+" "+e+" withdraw failed, amount "+t.toString()+" must be greater than the minimum allowed amount of "+o.toString());const c=this.safeValue(s,"proxy_addresses",[]);u=this.safeString(c,0)}else u=i;const l=this.safeInteger(this.options,"withdrawFeeWAVES",1e5),f="WAVES",m=4,g=2,y=this.currencyToPrecision(e,t),v=this.currency(e),b=this.milliseconds(),w=[this.numberToBE(4,1),this.numberToBE(2,1),this.base58ToBinary(this.apiKey),this.getAssetBytes(v["id"]),this.getAssetBytes(f),this.numberToBE(b,8),this.numberToBE(y,8),this.numberToBE(l,8),this.base58ToBinary(u),this.numberToBE(0,2)],S=this.binaryConcatArray(w),k=this.binaryToBase16(this.base58ToBinary(this.secret)),_=this.eddsa(this.binaryToBase16(S),k,"ed25519"),O={senderPublicKey:this.apiKey,amount:y,fee:l,type:m,version:g,attachment:"",feeAssetId:this.getAssetId(f),proofs:[_],assetId:this.getAssetId(v["id"]),recipient:u,timestamp:b,signature:_};return await this.nodePostTransactionsBroadcast(O)}}},"0b16":function(e,t,i){"use strict";var r=i("1985"),s=i("35e8");function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=S,t.resolve=_,t.resolveObject=O,t.format=k,t.Url=n;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(d),u=["'"].concat(h),l=["%","/","?",";","#"].concat(u),f=["/","?","#"],p=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=i("b383");function S(e,t,i){if(e&&s.isObject(e)&&e instanceof n)return e;var r=new n;return r.parse(e,t,i),r}function k(e){return s.isString(e)&&(e=S(e)),e instanceof n?e.format():n.prototype.format.call(e)}function _(e,t){return S(e,!1,!0).resolve(t)}function O(e,t){return e?S(e,!1,!0).resolveObject(t):t}n.prototype.parse=function(e,t,i){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",d=e.split(o),h=/\\/g;d[0]=d[0].replace(h,"/"),e=d.join(o);var S=e;if(S=S.trim(),!i&&1===e.split("#").length){var k=c.exec(S);if(k)return this.path=S,this.href=S,this.pathname=k[1],k[2]?(this.search=k[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(S);if(_){_=_[0];var O=_.toLowerCase();this.protocol=O,S=S.substr(_.length)}if(i||_||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===S.substr(0,2);!T||_&&v[_]||(S=S.substr(2),this.slashes=!0)}if(!v[_]&&(T||_&&!b[_])){for(var C,I,x=-1,E=0;E<f.length;E++){var A=S.indexOf(f[E]);-1!==A&&(-1===x||A<x)&&(x=A)}I=-1===x?S.lastIndexOf("@"):S.lastIndexOf("@",x),-1!==I&&(C=S.slice(0,I),S=S.slice(I+1),this.auth=decodeURIComponent(C)),x=-1;for(E=0;E<l.length;E++){A=S.indexOf(l[E]);-1!==A&&(-1===x||A<x)&&(x=A)}-1===x&&(x=S.length),this.host=S.slice(0,x),S=S.slice(x),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var M=this.hostname.split(/\./),P=(E=0,M.length);E<P;E++){var B=M[E];if(B&&!B.match(m)){for(var R="",D=0,L=B.length;D<L;D++)B.charCodeAt(D)>127?R+="x":R+=B[D];if(!R.match(m)){var V=M.slice(0,E),j=M.slice(E+1),q=B.match(g);q&&(V.push(q[1]),j.unshift(q[2])),j.length&&(S="/"+j.join(".")+S),this.hostname=V.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==S[0]&&(S="/"+S))}if(!y[O])for(E=0,P=u.length;E<P;E++){var F=u[E];if(-1!==S.indexOf(F)){var H=encodeURIComponent(F);H===F&&(H=escape(F)),S=S.split(F).join(H)}}var z=S.indexOf("#");-1!==z&&(this.hash=S.substr(z),S=S.slice(0,z));var K=S.indexOf("?");if(-1!==K?(this.search=S.substr(K),this.query=S.substr(K+1),t&&(this.query=w.parse(this.query)),S=S.slice(0,K)):t&&(this.search="",this.query={}),S&&(this.pathname=S),b[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var W=this.search||"";this.path=U+W}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,a="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(a=w.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),o=o.replace("#","%23"),t+n+i+o+r},n.prototype.resolve=function(e){return this.resolveObject(S(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(s.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var i=new n,r=Object.keys(this),a=0;a<r.length;a++){var o=r[a];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),d=0;d<c.length;d++){var h=c[d];"protocol"!==h&&(i[h]=e[h])}return b[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!b[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];i[f]=e[f]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||v[e.protocol])i.pathname=e.pathname;else{var p=(e.pathname||"").split("/");while(p.length&&!(e.host=p.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",g=i.search||"";i.path=m+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||y||i.host&&e.pathname,k=S,_=i.pathname&&i.pathname.split("/")||[],O=(p=e.pathname&&e.pathname.split("/")||[],i.protocol&&!b[i.protocol]);if(O&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),S=S&&(""===p[0]||""===_[0])),w)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),i.search=e.search,i.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(O){i.hostname=i.host=_.shift();var T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");T&&(i.auth=T.shift(),i.host=i.hostname=T.shift())}return i.search=e.search,i.query=e.query,s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var C=_.slice(-1)[0],I=(i.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,x=0,E=_.length;E>=0;E--)C=_[E],"."===C?_.splice(E,1):".."===C?(_.splice(E,1),x++):x&&(_.splice(E,1),x--);if(!S&&!k)for(;x--;x)_.unshift("..");!S||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),I&&"/"!==_.join("/").substr(-1)&&_.push("");var A=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(O){i.hostname=i.host=A?"":_.length?_.shift():"";T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");T&&(i.auth=T.shift(),i.host=i.hostname=T.shift())}return S=S||i.host&&_.length,S&&!A&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"0bc6":function(e,t,i){},"0c18":function(e,t,i){},"0cb2":function(e,t,i){var r=i("7b0b"),s=Math.floor,n="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,c,d,h){var u=i+e.length,l=c.length,f=o;return void 0!==d&&(d=r(d),f=a),n.call(h,f,(function(r,n){var a;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(u);case"<":a=d[n.slice(1,-1)];break;default:var o=+n;if(0===o)return r;if(o>l){var h=s(o/10);return 0===h?r:h<=l?void 0===c[h-1]?n.charAt(1):c[h-1]+n.charAt(1):r}a=c[o-1]}return void 0===a?"":a}))}},"0cfb":function(e,t,i){var r=i("83ab"),s=i("d039"),n=i("cc12");e.exports=!r&&!s((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e30":function(e,t,i){var r=i("70ea"),s=i("5a7c"),n=i("001c");function a(e){return function t(i,a,o){switch(arguments.length){case 0:return t;case 1:return n(i)?t:s((function(t,r){return e(i,t,r)}));case 2:return n(i)&&n(a)?t:n(i)?s((function(t,i){return e(t,a,i)})):n(a)?s((function(t,r){return e(i,t,r)})):r((function(t){return e(i,a,t)}));default:return n(i)&&n(a)&&n(o)?t:n(i)&&n(a)?s((function(t,i){return e(t,i,o)})):n(i)&&n(o)?s((function(t,i){return e(t,a,i)})):n(a)&&n(o)?s((function(t,r){return e(i,t,r)})):n(i)?r((function(t){return e(t,a,o)})):n(a)?r((function(t){return e(i,t,o)})):n(o)?r((function(t){return e(i,a,t)})):e(i,a,o)}}}e.exports=a},"0eb2":function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeNotAvailable:n,AccountSuspended:a,PermissionDenied:o,RateLimitExceeded:c,InvalidNonce:d,InvalidAddress:h,ArgumentsRequired:u,ExchangeError:l,InvalidOrder:f,InsufficientFunds:p,BadRequest:m,OrderNotFound:g,BadSymbol:y,NotSupported:v}=i("74b0"),{ROUND:b,TICK_SIZE:w,TRUNCATE:S}=i("5ea4");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmart",name:"BitMart",countries:["US","CN","HK","KR"],rateLimit:1e3,version:"v1",has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchStatus:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},hostname:"bitmart.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/61835713-a2662f80-ae85-11e9-9d00-6442919701fd.jpg",api:"https://api-cloud.{hostname}",www:"https://www.bitmart.com/",doc:"https://developer-pro.bitmart.com/",referral:"http://www.bitmart.com/?r=rQCFLh",fees:"https://www.bitmart.com/fee/en"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{system:{get:["time","service"]},account:{get:["currencies"]},spot:{get:["currencies","symbols","symbols/details","ticker","steps","symbols/kline","symbols/book","symbols/trades"]},contract:{get:["contracts","pnls","indexes","tickers","quote","indexquote","trades","depth","fundingrate"]}},private:{account:{get:["wallet","deposit/address","withdraw/charge","deposit-withdraw/history","deposit-withdraw/detail"],post:["withdraw/apply"]},spot:{get:["wallet","order_detail","orders","trades"],post:["submit_order","cancel_order","cancel_orders"]},contract:{get:["userOrders","userOrderInfo","userTrades","orderTrades","accounts","userPositions","userLiqRecords","positionFee"],post:["batchOrders","submitOrder","cancelOrders","marginOper"]}}},timeframes:{"1m":1,"3m":3,"5m":5,"15m":15,"30m":30,"45m":45,"1h":60,"2h":120,"3h":180,"4h":240,"1d":1440,"1w":10080,"1M":43200},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.0025,tiers:{taker:[[0,.002],[10,.0018],[50,.0016],[250,.14/100],[1e3,.0012],[5e3,.001],[25e3,8e-4],[5e4,6e-4]],maker:[[0,.001],[10,9e-4],[50,8e-4],[250,.07/100],[1e3,6e-4],[5e3,5e-4],[25e3,4e-4],[5e4,3e-4]]}}},precisionMode:w,exceptions:{exact:{3e4:l,30001:s,30002:s,30003:a,30004:s,30005:s,30006:s,30007:s,30008:s,30010:o,30011:s,30012:s,30013:c,30014:n,6e4:m,60001:m,60002:m,60003:l,60004:l,60005:l,60006:l,60007:h,60008:p,60009:l,60010:l,60011:h,60012:l,60020:o,60021:o,60022:o,60030:m,60031:m,60050:l,60051:l,5e4:m,50001:y,50002:m,50003:m,50004:m,50005:g,50006:f,50007:f,50008:f,50009:f,50010:f,50011:f,50012:f,50013:f,50014:m,50015:m,50016:m,50017:m,50018:m,50019:m,50020:p,50021:m,50022:n,50023:y,53e3:a,57001:m,58001:m,59001:l,59002:l,40001:l,40002:l,40003:l,40004:l,40005:l,40006:o,40007:m,40008:d,40009:m,40010:m,40011:m,40012:l,40013:l,40014:y,40015:y,40016:f,40017:f,40018:f,40019:l,40020:f,40021:l,40022:l,40023:l,40024:l,40025:l,40026:l,40027:p,40028:o,40029:f,40030:f,40031:f,40032:f,40033:f,40034:y},broad:{}},commonCurrencies:{COT:"Community Coin",CPC:"CPCoin",ONE:"Menlo One",PLA:"Plair"},options:{defaultType:"spot",fetchBalance:{type:"spot"},createMarketBuyOrderRequiresPrice:!0}})}async fetchTime(e={}){const t=await this.publicSystemGetTime(e),i=this.safeValue(t,"data",{});return this.safeInteger(i,"server_time")}async fetchStatus(e={}){const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeString(this.options,"defaultType");let r=this.safeString(t,"type",i);r=this.safeString(e,"type",r),e=this.omit(e,"type");const s=await this.publicSystemGetService(e),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"service",[]),o=this.indexBy(a,"service_type");"swap"!==r&&"future"!==r||(r="contract");const c=this.safeValue(o,r);let d=void 0,h=void 0;if(void 0!==c){const e=this.safeInteger(c,"status");2===e?d="ok":(d="maintenance",h=this.safeInteger(c,"end_time"))}return this.status=this.extend(this.status,{status:d,updated:this.milliseconds(),eta:h}),this.status}async fetchSpotMarkets(e={}){const t=await this.publicSpotGetSymbolsDetails(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"symbols",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"symbol"),i=this.safeInteger(e,"symbol_id"),a=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeInteger(e,"price_max_precision"),l={amount:this.safeNumber(e,"base_min_size"),price:parseFloat(this.decimalToPrecision(Math.pow(10,-u),b,10))},f=this.safeNumber(e,"min_buy_amount"),p=this.safeNumber(e,"min_sell_amount"),m=Math.max(f,p),g={amount:{min:this.safeNumber(e,"base_min_size"),max:this.safeNumber(e,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:m,max:void 0}};s.push({id:t,numericId:i,symbol:h,base:c,quote:d,baseId:a,quoteId:o,type:"spot",spot:!0,future:!1,swap:!1,precision:l,limits:g,info:e,active:void 0})}return s}async fetchContractMarkets(e={}){const t=await this.publicContractGetContracts(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"contracts",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeValue(e,"contract",{}),i=this.safeString(t,"contract_id"),a=this.safeInteger(t,"contract_id"),o=this.safeString(t,"base_coin"),c=this.safeString(t,"quote_coin"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=this.safeString(t,"name"),l=this.safeNumber(t,"vol_unit"),f=this.safeNumber(t,"price_unit"),p={amount:l,price:f},m={amount:{min:this.safeNumber(t,"min_vol"),max:this.safeNumber(t,"max_vol")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},g=this.safeValue(t,"contract_type");let y=!1,v=!1,b="contract";1===g?(b="swap",v=!0):2===g&&(b="future",y=!0);const w=this.safeValue(e,"fee_config",{}),S=this.safeNumber(w,"maker_fee"),k=this.safeNumber(w,"taker_fee");s.push({id:i,numericId:a,symbol:u,base:d,quote:h,baseId:o,quoteId:c,maker:S,taker:k,type:b,spot:!1,future:y,swap:v,precision:p,limits:m,info:e,active:void 0})}return s}async fetchMarkets(e={}){return await this.fetchSpotMarkets()}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp",this.milliseconds()),r=this.safeString2(e,"symbol","contract_id"),s=this.safeSymbol(r,t,"_"),n=this.safeNumber2(e,"close_24h","last_price");let a=this.safeNumber(e,"fluctuation","rise_fall_rate");void 0!==a&&(a*=100);const o=this.safeNumber2(e,"base_volume_24h","base_coin_volume"),c=this.safeNumber2(e,"quote_volume_24h","quote_coin_volume"),d=this.vwap(o,c),h=this.safeNumber2(e,"open_24h","open");let u=void 0;void 0!==n&&void 0!==h&&(u=this.sum(n,h)/2),u=this.safeNumber(e,"avg_price",u);const l=this.safeValue(e,"depth_price",e);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high_24h"),low:this.safeNumber2(e,"low","low_24h"),bid:this.safeNumber(l,"best_bid","bid_price"),bidVolume:this.safeNumber(e,"best_bid_size"),ask:this.safeNumber(l,"best_ask","ask_price"),askVolume:this.safeNumber(e,"best_ask_size"),vwap:d,open:this.safeNumber(e,"open_24h"),close:n,last:n,previousClose:void 0,change:void 0,percentage:a,average:u,baseVolume:o,quoteVolume:c,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={};let s=void 0;i["swap"]||i["future"]?(s="publicContractGetTickers",r["contractID"]=i["id"]):i["spot"]&&(s="publicSpotGetTicker",r["symbol"]=i["id"]);const n=await this[s](this.extend(r,t)),a=this.safeValue(n,"data",{}),o=this.safeValue(a,"tickers",[]),c=this.indexBy(o,"symbol"),d=this.safeValue(c,i["id"]);return this.parseTicker(d,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options,"defaultType","spot"),r=this.safeString(t,"type",i);t=this.omit(t,"type");let s=void 0;"swap"===r||"future"===r?s="publicContractGetTickers":"spot"===r&&(s="publicSpotGetTicker");const n=await this[s](t),a=this.safeValue(n,"data",{}),o=this.safeValue(a,"tickers",[]),c={};for(let d=0;d<o.length;d++){const e=this.parseTicker(o[d]),t=e["symbol"];c[t]=e}return this.filterByArray(c,"symbol",e)}async fetchCurrencies(e={}){const t=await this.publicAccountGetCurrencies(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"currencies",[]),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),a=this.safeString(e,"name"),o=this.safeValue(e,"withdraw_enabled"),c=this.safeValue(e,"deposit_enabled"),d=o&&c;s[i]={id:t,code:i,name:a,info:e,active:d,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={};let n=void 0;r["spot"]?(n="publicSpotGetSymbolsBook",s["symbol"]=r["id"]):(r["swap"]||r["future"])&&(n="publicContractGetDepth",s["contractID"]=r["id"],void 0!==t&&(s["count"]=t));const a=await this[n](this.extend(s,i)),o=this.safeValue(a,"data",{});return r["spot"]?this.parseOrderBook(o,e,void 0,"buys","sells","price","amount"):r["swap"]||r["future"]?this.parseOrderBook(o,e,void 0,"buys","sells","price","vol"):void 0}parseTrade(e,t){const i=this.safeString2(e,"trade_id","detail_id");let r=this.safeInteger2(e,"order_time","create_time");void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));const s=void 0,n=this.safeInteger(e,"way");let a=this.safeStringLower2(e,"type","side");void 0===a&&void 0!==n&&(a=n<5?"buy":"sell");let o=void 0;const c=this.safeString(e,"exec_type");void 0!==c&&(o="M"===c?"maker":"taker");let d=this.safeNumber2(e,"price","deal_price");d=this.safeNumber(e,"price_avg",d);let h=this.safeNumber2(e,"amount","deal_vol");h=this.safeNumber(e,"size",h);let u=this.safeNumber2(e,"count","notional");void 0===u&&void 0!==d&&void 0!==h&&(u=h*d);const l=this.safeInteger(e,"order_id"),f=this.safeString2(e,"contract_id","symbol"),p=this.safeSymbol(f,t,"_"),m=this.safeNumber(e,"fees");let g=void 0;if(void 0!==m){const i=this.safeString(e,"fee_coin_name");let r=this.safeCurrencyCode(i);void 0===r&&void 0!==t&&(r="buy"===a?t["base"]:t["quote"]),g={cost:m,currency:r}}return{info:e,id:i,order:l,timestamp:r,datetime:this.iso8601(r),symbol:p,type:s,side:a,price:d,amount:h,cost:u,takerOrMaker:o,fee:g}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};let a=void 0;s["spot"]?(n["symbol"]=s["id"],a="publicSpotGetSymbolsTrades"):(s["swap"]||s["future"])&&(a="publicContractGetTrades",n["contractID"]=s["id"]);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=n["type"];let o=void 0;const c={},d=this.parseTimeframe(t);if("spot"===a){o="publicSpotGetSymbolsKline",c["symbol"]=n["id"],c["step"]=this.timeframes[t];const e=500;if(void 0===r&&(r=e),r=Math.min(e,r),void 0===i){const e=parseInt(this.milliseconds()/1e3),t=e-r*d;c["from"]=t,c["to"]=e}else{const e=parseInt(i/1e3),t=this.sum(e,r*d);c["from"]=e,c["to"]=t}}else if("swap"===a||"future"===a){o="publicContractGetQuote",c["contractID"]=n["id"];const e=500;if(void 0===r&&(r=e),void 0===i){const e=parseInt(this.milliseconds()/1e3),t=e-r*d;c["startTime"]=t,c["endTime"]=e}else{const e=parseInt(i/1e3),t=this.sum(e,r*d);c["startTime"]=e,c["endTime"]=t}c["unit"]=this.timeframes[t],c["resolution"]="M"}const h=await this[o](this.extend(c,s)),u=this.safeValue(h,"data",{});if(Array.isArray(u))return this.parseOHLCVs(u,n,t,i,r);{const e=this.safeValue(u,"klines",[]);return this.parseOHLCVs(e,n,t,i,r)}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new u(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e);let n=void 0;const a={};s["spot"]?(a["symbol"]=s["id"],a["offset"]=1,void 0===i&&(i=100),a["limit"]=i,n="privateSpotGetTrades"):(s["swap"]||s["future"])&&(a["contractID"]=s["id"],void 0!==i&&(a["size"]=i),n="privateContractGetUserTrades");const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new u(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(t);let a=void 0;const o={};n["spot"]?(o["symbol"]=n["id"],o["order_id"]=e,a="privateSpotGetTrades"):(n["swap"]||n["future"])&&(o["contractID"]=n["id"],o["orderID"]=e,a="privateContractGetOrderTrades");const c=await this[a](this.extend(o,s)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"trades",[]);return this.parseTrades(h,n,i,r)}async fetchBalance(e={}){await this.loadMarkets();let t=void 0;const i=this.safeValue(this.options,"fetchBalance",{}),r=this.safeString(this.options,"defaultType","spot");let s=this.safeString(i,"type",r);s=this.safeString(e,"type",s),e=this.omit(e,"type"),"spot"===s?t="privateSpotGetWallet":"account"===s?t="privateAccountGetWallet":"swap"!==s&&"future"!==s&&"contract"!==s||(t="privateContractGetAccounts");const n=await this[t](e),a=this.safeValue(n,"data",{}),o=this.safeValue2(a,"wallet","accounts",[]),c={info:n};for(let d=0;d<o.length;d++){const e=o[d];let t=this.safeString2(e,"id","currency");t=this.safeString(e,"coin_code",t);const i=this.safeCurrencyCode(t),r=this.account();r["free"]=this.safeString2(e,"available","available_vol"),r["used"]=this.safeString2(e,"frozen","freeze_vol"),c[i]=r}return this.parseBalance(c,!1)}parseOrder(e,t){let i=void 0;"string"===typeof e&&(i=e,e={}),i=this.safeString(e,"order_id",i);let r=this.parse8601(this.safeString(e,"created_at"));r=this.safeInteger(e,"create_time",r);const s=this.safeString2(e,"symbol","contract_id"),n=this.safeSymbol(s,t,"_");let a=void 0;void 0!==t&&(a=this.parseOrderStatusByType(t["type"],this.safeString(e,"status")));let o=this.safeNumber(e,"price"),c=this.safeNumber2(e,"price_avg","done_avg_price");const d=this.safeNumber2(e,"size","vol"),h=this.safeNumber2(e,"filled_size","done_vol");let u=this.safeString(e,"side");u=this.safeString(e,"way",u);const l=this.safeInteger(e,"category");let f=this.safeString(e,"type");return 1===l?f="limit":2===l&&(f="market"),"market"===f&&(0===o&&(o=void 0),0===c&&(c=void 0)),this.safeOrder({id:i,clientOrderId:void 0,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:f,timeInForce:void 0,postOnly:void 0,side:u,price:o,stopPrice:void 0,amount:d,cost:void 0,average:c,filled:h,remaining:void 0,status:a,fee:void 0,trades:void 0})}parseOrderStatusByType(e,t){const i={spot:{1:"failed",2:"open",3:"failed",4:"open",5:"open",6:"closed",7:"canceling",8:"canceled"},swap:{1:"open",2:"open",4:"closed"}},r=this.safeValue(i,e,{});return this.safeString(r,t,t)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={};let c=void 0;if(a["spot"]){if(o["symbol"]=a["id"],o["side"]=i,o["type"]=t,c="privateSpotPostSubmitOrder","limit"===t)o["size"]=this.amountToPrecision(e,r),o["price"]=this.priceToPrecision(e,s);else if("market"===t)if("buy"===i){let e=this.safeNumber(n,"notional");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new f(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const i=a["precision"]["price"];o["notional"]=this.decimalToPrecision(e,S,i,this.precisionMode)}else"sell"===i&&(o["size"]=this.amountToPrecision(e,r))}else(a["swap"]||a["future"])&&(c="privateContractPostSubmitOrder",o["contractID"]=a["id"],"limit"===t?o["category"]=1:"market"===t&&(o["category"]=2),o["way"]=i,o["custom_id"]=this.nonce(),o["open_type"]=1,o["leverage"]=1,o["price"]=this.priceToPrecision(e,s),o["vol"]=this.amountToPrecision(e,r));const d=await this[c](this.extend(o,n)),h=this.safeValue(d,"data",{});return this.parseOrder(h,a)}async cancelOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={};let n=void 0;r["spot"]?(n="privateSpotPostCancelOrder",s["order_id"]=parseInt(e),s["symbol"]=r["id"]):(r["swap"]||r["future"])&&(n="privateContractPostCancelOrders",s["contractID"]=r["id"],s["orders"]=[parseInt(e)]);const a=await this[n](this.extend(s,i)),o=this.safeValue(a,"data");if(!0===o)return this.parseOrder(e,r);const c=this.safeValue(o,"succeed");if(void 0!==c){if(e=this.safeString(c,0),void 0===e)throw new f(this.id+" cancelOrder() failed to cancel "+t+" order id "+e)}else{const i=this.safeValue(o,"result");if(!i)throw new f(this.id+" cancelOrder() "+t+" order id "+e+" is filled or canceled")}const d=this.parseOrder(e,r);return this.extend(d,{id:e})}async cancelAllOrders(e,t={}){if(void 0===e)throw new u(this.id+" cancelAllOrders() requires a symbol argument");const i=this.safeString(t,"side");if(void 0===i)throw new u(this.id+" cancelAllOrders() requires a `side` parameter ('buy' or 'sell')");await this.loadMarkets();const r=this.market(e);if(!r["spot"])throw new v(this.id+" cancelAllOrders() does not support "+r["type"]+" orders, only spot orders are accepted");const s={symbol:r["id"],side:i},n=await this.privateSpotPostCancelOrders(this.extend(s,t));return n}async cancelOrders(e,t,i={}){if(void 0===t)throw new u(this.id+" canelOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(t);if(!r["spot"])throw new v(this.id+" cancelOrders() does not support "+r["type"]+" orders, only contract orders are accepted");const s=[];for(let o=0;o<e.length;o++)s.push(parseInt(e[o]));const n={orders:s},a=await this.privateContractPostCancelOrders(this.extend(n,i));return a}async fetchOrdersByStatus(e,t,i,r,s={}){if(void 0===t)throw new u(this.id+" fetchOrdersByStatus() requires a symbol argument");await this.loadMarkets();const n=this.market(t),a={};let o=void 0;n["spot"]?(o="privateSpotGetOrders",a["symbol"]=n["id"],a["offset"]=1,a["limit"]=100,a["status"]="open"===e?9:"closed"===e?6:e):(n["swap"]||n["future"])&&(o="privateContractGetUserOrders",a["contractID"]=n["id"],void 0!==r&&(a["size"]=r),a["status"]="open"===e?3:"closed"===e?4:e);const c=await this[o](this.extend(a,s)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"orders",[]);return this.parseOrders(h,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("open",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("closed",e,t,i,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new u(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e);if(!s["swap"]&&!s["future"])throw new v(this.id+" fetchOrders does not support "+s["type"]+" markets, only contracts are supported");return await this.fetchOrdersByStatus(0,e,t,i,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r={},s=this.market(t);let n=void 0;"string"!==typeof e&&(e=e.toString()),s["spot"]?(r["symbol"]=s["id"],r["order_id"]=e,n="privateSpotGetOrderDetail"):(s["swap"]||s["future"])&&(r["contractID"]=s["id"],r["orderID"]=e,n="privateContractGetUserOrderInfo");const a=await this[n](this.extend(r,i)),o=this.safeValue(a,"data");if("orders"in o){const i=this.safeValue(o,"orders",[]),r=this.safeValue(i,0);if(void 0===r)throw new g(this.id+" fetchOrder() could not find "+t+" order id "+e);return this.parseOrder(r,s)}return this.parseOrder(o,s)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateAccountGetDepositAddress(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeString(n,"address"),o=this.safeString(n,"address_memo");return this.checkAddress(a),{currency:e,address:a,tag:o,info:s}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],amount:t,destination:"To Digital Address",address:i};void 0!==r&&(a["address_memo"]=r);const o=await this.privateAccountPostWithdrawApply(this.extend(a,s)),c=this.safeValue(o,"data"),d=this.parseTransaction(c,n);return this.extend(d,{code:e,address:i,tag:r})}async fetchTransactionsByType(e,t,i,r,s={}){await this.loadMarkets(),void 0===r&&(r=50);const n={operation_type:e,offset:1,limit:r};let a=void 0;void 0!==t&&(a=this.currenc(t),n["currency"]=a["id"]);const o=await this.privateAccountGetDepositWithdrawHistory(this.extend(n,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"records",[]);return this.parseTransactions(d,a,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdraw",e,t,i,r)}parseTransactionStatus(e){const t={0:"pending",1:"pending",2:"pending",3:"ok",4:"canceled",5:"failed"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0;const r=this.safeString(e,"withdraw_id"),s=this.safeString(e,"deposit_id");let n=void 0;void 0!==r&&""!==r?(n="withdraw",i=r):void 0!==s&&""!==s&&(n="deposit",i=s);const a=this.safeNumber(e,"arrival_amount"),o=this.safeInteger(e,"apply_time"),c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c,t),h=this.parseTransactionStatus(this.safeString(e,"status")),u=this.safeNumber(e,"fee");let l=void 0;void 0!==u&&(l={cost:u,currency:d});let f=this.safeString(e,"tx_id");""===f&&(f=void 0);const p=this.safeString(e,"address"),m=this.safeString(e,"address_memo");return{info:e,id:i,currency:d,amount:a,address:p,addressFrom:void 0,addressTo:void 0,tag:m,tagFrom:void 0,tagTo:void 0,status:h,type:n,updated:void 0,txid:f,timestamp:o,datetime:this.iso8601(o),fee:l}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){const a=this.implodeHostname(this.urls["api"]),o=this.safeString(t,0),c=this.safeString(t,1);let d=a+"/"+c;"system"!==c&&(d+="/"+this.version),"contract"===c&&(d+="/ifcontract"),d+="/"+this.implodeParams(e,r);const h=this.omit(r,this.extractParams(e));if("system"===c)Object.keys(h).length&&(d+="?"+this.urlencode(h));else if("public"===o)Object.keys(h).length&&(d+="?"+this.urlencode(h));else if("private"===o){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t="";s={"X-BM-KEY":this.apiKey,"X-BM-TIMESTAMP":e},"POST"===i||"PUT"===i?(s["Content-Type"]="application/json",n=this.json(h),t=n):Object.keys(h).length&&(t=this.urlencode(h),d+="?"+t);const r=e+"#"+this.uid+"#"+t,a=this.hmac(this.encode(r),this.encode(this.secret));s["X-BM-SIGN"]=a}return{url:d,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,c){if(void 0===a)return;const d=this.safeString(a,"message"),h=this.safeString(a,"code");if(void 0!==h&&"1000"!==h||void 0!==d&&"OK"!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],d,e),this.throwBroadlyMatchedException(this.exceptions["broad"],d,e),new l(e)}}}},"0fc2":function(e,t,i){"use strict";const r=i("90db"),{TICK_SIZE:s}=i("5ea4"),{AuthenticationError:n,ExchangeError:a,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:d,OrderNotFound:h,InsufficientFunds:u,BadRequest:l,RateLimitExceeded:f,InvalidNonce:p}=i("74b0"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bybit",name:"Bybit",countries:["VG"],version:"v2",userAgent:void 0,rateLimit:100,hostname:"bybit.com",has:{cancelOrder:!0,CORS:!0,cancelAllOrders:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,fetchPositions:!0},timeframes:{"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"D","1w":"W","1M":"M","1y":"Y"},urls:{test:{futures:"https://api-testnet.{hostname}",v2:"https://api-testnet.{hostname}",public:"https://api-testnet.{hostname}",private:"https://api-testnet.{hostname}"},logo:"https://user-images.githubusercontent.com/51840849/76547799-daff5b80-649e-11ea-87fb-3be9bac08954.jpg",api:{futures:"https://api.{hostname}",v2:"https://api.{hostname}",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.bybit.com",doc:["https://bybit-exchange.github.io/docs/inverse/","https://bybit-exchange.github.io/docs/linear/","https://github.com/bybit-exchange"],fees:"https://help.bybit.com/hc/en-us/articles/360039261154",referral:"https://www.bybit.com/app/register?ref=X7Prm"},api:{futures:{private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save","position/switch-mode","position/switch-isolated","position/risk-limit"]}},v2:{public:{get:["orderBook/L2","kline/list","tickers","trading-records","symbols","liq-records","mark-price-kline","index-price-kline","premium-index-kline","open-interest","big-deal","account-ratio","time","announcement","funding/prev-funding-rate","risk-limit/list"]},private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list","funding/prev-funding-rate","funding/prev-funding","funding/predicted-funding","account/api-key","account/lcp","wallet/balance","wallet/fund/records","wallet/withdraw/list","exchange-order/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save","position/switch-mode","position/switch-isolated","position/risk-limit"]}},public:{linear:{get:["kline","recent-trading-records","funding/prev-funding-rate","mark-price-kline","index-price-kline","premium-index-kline","risk-limit"]}},private:{linear:{get:["order/list","order/search","stop-order/list","stop-order/search","position/list","trade/execution/list","trade/closed-pnl/list","funding/predicted-funding","funding/prev-funding"],post:["order/create","order/cancel","order/cancel-all","order/replace","stop-order/create","stop-order/cancel","stop-order/cancel-all","stop-order/replace","position/set-auto-add-margin","position/switch-isolated","tpsl/switch-mode","position/add-margin","position/set-leverage","position/trading-stop","position/set-risk"]}}},httpExceptions:{403:f},exceptions:{exact:{10001:l,10002:p,10003:n,10004:n,10005:c,10006:f,10007:n,10010:c,10017:l,10018:f,20001:h,20003:d,20004:d,20005:d,20006:d,20007:d,20008:d,20009:d,20010:d,20011:d,20012:d,20013:d,20014:d,20015:d,20016:d,20017:d,20018:d,20019:d,20020:d,20021:d,20022:l,20023:l,20031:l,20070:l,20071:l,20084:l,30001:l,30003:d,30004:d,30005:d,30007:d,30008:d,30009:a,30010:u,30011:c,30012:c,30013:c,30014:d,30015:d,30016:a,30017:d,30018:d,30019:d,30020:d,30021:d,30022:d,30023:d,30024:d,30025:d,30026:d,30027:d,30028:d,30029:d,30030:d,30031:u,30032:d,30033:f,30034:h,30035:f,30036:a,30037:d,30041:a,30042:u,30043:d,30044:d,30045:d,30049:u,30050:a,30051:a,30052:a,30054:a,30057:a,30063:a,30067:u,30068:a,30074:d,30075:d,33004:n,34026:a},broad:{"unknown orderInfo":h,"invalid api_key":n}},precisionMode:s,options:{marketTypes:{"BTC/USDT":"linear","BCH/USDT":"linear","ETH/USDT":"linear","LTC/USDT":"linear","XTZ/USDT":"linear","LINK/USDT":"linear","ADA/USDT":"linear","DOT/USDT":"linear","UNI/USDT":"linear","AAVE/USDT":"linear","SUSHI/USDT":"linear","XRP/USDT":"linear","XEM/USDT":"linear","BTC/USD":"inverse","ETH/USD":"inverse","EOS/USD":"inverse","XRP/USD":"inverse"},defaultType:"linear",code:"BTC",cancelAllOrders:{},recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:75e-5,maker:-25e-5},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}}})}nonce(){return this.milliseconds()-this.options["timeDifference"]}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options["timeDifference"]=i-t,this.options["timeDifference"]}async fetchTime(e={}){const t=await this.v2PublicGetTime(e);return this.safeTimestamp(t,"time_now")}async fetchMarkets(e={}){this.options["adjustForTimeDifference"]&&await this.loadTimeDifference();const t=await this.v2PublicGetSymbols(e),i=this.safeValue(t,"result",[]),r=this.safeValue(this.options,"fetchMarkets",{}),s=this.safeValue(r,"linear",{USDT:!0}),n=[];for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString2(e,"name","symbol"),r=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(r),d=this.safeCurrencyCode(o),h=d in s,u=!h;let l=c+"/"+d;const f=c+d;let p="swap";f!==t&&(l=t,p="futures");const m=this.safeValue(e,"lot_size_filter",{}),g=this.safeValue(e,"price_filter",{}),y={amount:this.safeNumber(m,"qty_step"),price:this.safeNumber(g,"tick_size")},v=this.safeString(e,"status");let b=void 0;void 0!==v&&(b="Trading"===v);const w="spot"===p,S="swap"===p,k="futures"===p,_="option"===p;n.push({id:t,symbol:l,base:c,quote:d,active:b,precision:y,taker:this.safeNumber(e,"taker_fee"),maker:this.safeNumber(e,"maker_fee"),type:p,spot:w,swap:S,futures:k,option:_,linear:h,inverse:u,limits:{amount:{min:this.safeNumber(m,"min_trading_qty"),max:this.safeNumber(m,"max_trading_qty")},price:{min:this.safeNumber(g,"min_price"),max:this.safeNumber(g,"max_price")},cost:{min:void 0,max:void 0}},info:e})}return n}parseTicker(e,t){const i=void 0,r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"last_price"),a=this.safeNumber(e,"prev_price_24h");let o=this.safeNumber(e,"price_24h_pcnt");void 0!==o&&(o*=100);let c=void 0,d=void 0;void 0!==n&&void 0!==a&&(c=n-a,d=this.sum(a,n)/2);const h=this.safeNumber(e,"turnover_24h"),u=this.safeNumber(e,"volume_24h"),l=this.vwap(h,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_price_24h"),low:this.safeNumber(e,"low_price_24h"),bid:this.safeNumber(e,"bid_price"),bidVolume:void 0,ask:this.safeNumber(e,"ask_price"),askVolume:void 0,vwap:l,open:a,close:n,last:n,previousClose:void 0,change:c,percentage:o,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.v2PublicGetTickers(this.extend(r,t)),n=this.safeValue(s,"result",[]),a=this.safeValue(n,0),o=this.safeTimestamp(s,"time_now"),c=this.parseTicker(a,i);return c["timestamp"]=o,c["datetime"]=this.iso8601(o),c}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.v2PublicGetTickers(t),r=this.safeValue(i,"result",[]),s={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}parseOHLCV(e,t){return[this.safeTimestamp2(e,"open_time","start_at"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber2(e,"turnover","volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],interval:this.timeframes[t]},c=this.parseTimeframe(t),d=this.seconds();if(void 0===i){if(void 0===r)throw new o(this.id+" fetchOHLCV() requires a since argument or a limit argument");a["from"]=d-r*c}else a["from"]=parseInt(i/1e3);void 0!==r&&(a["limit"]=r);const h=n["linear"]?"publicLinearGetKline":"v2PublicGetKlineList",u=await this[h](this.extend(a,s)),l=this.safeValue(u,"result",{});return this.parseOHLCVs(l,n,t,i,r)}parseTrade(e,t){const i=this.safeString2(e,"id","exec_id"),r=this.safeString(e,"symbol");t=this.safeMarket(r,t);const s=t["symbol"],n=this.safeString2(e,"qty","exec_qty"),a=this.safeString2(e,"exec_price","price");let o=this.safeNumber(e,"exec_value");const c=this.parseNumber(n),d=this.parseNumber(a);void 0===o&&(o=this.parseNumber(m.stringMul(a,n)));let h=this.parse8601(this.safeString(e,"time"));void 0===h&&(h=this.safeInteger(e,"trade_time_ms"));const u=this.safeStringLower(e,"side"),l=this.safeString(e,"last_liquidity_ind"),f="AddedLiquidity"===l?"maker":"taker",p=this.safeNumber(e,"exec_fee");let g=void 0;if(void 0!==p){const i=t["inverse"]?t["base"]:t["quote"];g={cost:p,currency:i,rate:this.safeNumber(e,"fee_rate")}}return{id:i,info:e,timestamp:h,datetime:this.iso8601(h),symbol:s,order:this.safeString(e,"order_id"),type:this.safeStringLower(e,"order_type"),side:u,takerOrMaker:f,price:d,amount:c,cost:o,fee:g}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["count"]=i);const a=s["linear"]?"publicLinearGetRecentTradingRecords":"v2PublicGetTradingRecords",o=await this[a](this.extend(n,r)),c=this.safeValue(o,"result",{});return this.parseTrades(c,s,t,i)}parseOrderBook(e,t,i,r="Buy",s="Sell",n="price",o="size"){const c=[],d=[];for(let h=0;h<e.length;h++){const t=e[h],i=this.safeString(t,"side");if("Buy"===i)c.push(this.parseBidAsk(t,n,o));else{if("Sell"!==i)throw new a(this.id+" parseOrderBook encountered an unrecognized bidask format: "+this.json(t));d.push(this.parseBidAsk(t,n,o))}}return{symbol:t,bids:this.sortBy(c,0,!0),asks:this.sortBy(d,0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]},n=await this.v2PublicGetOrderBookL2(this.extend(s,i)),a=this.safeValue(n,"result",[]),o=this.safeTimestamp(n,"time_now");return this.parseOrderBook(a,e,o,"Buy","Sell","price","size")}async fetchBalance(e={}){await this.loadMarkets();const t={},i=this.safeString(e,"coin"),r=this.safeString(e,"code");if(void 0!==i)t["coin"]=i;else if(void 0!==r){const e=this.currency(r);t["coin"]=e["id"]}const s=await this.v2PrivateGetWalletBalance(this.extend(t,e)),n={info:s},a=this.safeValue(s,"result",{}),o=Object.keys(a);for(let c=0;c<o.length;c++){const e=o[c],t=a[e],i=this.safeCurrencyCode(e),r=this.account();r["free"]=this.safeString(t,"available_balance"),r["used"]=this.safeString(t,"used_margin"),r["total"]=this.safeString(t,"equity"),n[i]=r}return this.parseBalance(n,!1)}parseOrderStatus(e){const t={Created:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Cancelled:"canceled",PendingCancel:"canceling",Active:"open",Untriggered:"open",Triggered:"closed",Deactivated:"canceled"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK",PostOnly:"PO"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const r=t["symbol"];let s=void 0;const n=this.parse8601(this.safeString(e,"created_at")),a=this.safeString2(e,"order_id","stop_order_id"),o=this.safeStringLower(e,"order_type");let c=this.safeNumber(e,"price");0===c&&(c=void 0);const d=this.safeNumber(e,"average_price"),h=this.safeNumber(e,"qty"),u=this.safeNumber(e,"cum_exec_value"),l=this.safeNumber(e,"cum_exec_qty"),f=this.safeNumber(e,"leaves_qty"),p=this.safeValue(this.options,"marketTypes",{}),m=this.safeString(p,r);void 0!==t&&(s="linear"===m?t["quote"]:t["base"]);let g=this.safeTimestamp(e,"last_exec_time");0===g&&(g=void 0);const y=this.parseOrderStatus(this.safeString2(e,"order_status","stop_order_status")),v=this.safeStringLower(e,"side");let b=this.safeNumber(e,"cum_exec_fee"),w=void 0;void 0!==b&&(b=Math.abs(b),w={cost:b,currency:s});let S=this.safeString(e,"order_link_id");void 0!==S&&S.length<1&&(S=void 0);const k=this.parseTimeInForce(this.safeString(e,"time_in_force")),_=this.safeNumber2(e,"trigger_price","stop_px"),O="PO"===k;return this.safeOrder({info:e,id:a,clientOrderId:S,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:g,symbol:r,type:o,timeInForce:k,postOnly:O,side:v,price:c,stopPrice:_,amount:h,cost:u,average:d,filled:l,remaining:f,status:y,fee:w,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r["id"]};let n=void 0;r["swap"]?r["linear"]?n="privateLinearGetOrderSearch":r["inverse"]&&(n="v2PrivateGetOrder"):r["futures"]&&(n="futuresPrivateGetOrder");const a=this.safeString(i,"stop_order_id");if(void 0===a){const t=this.safeString(i,"order_link_id");void 0===t&&(s["order_id"]=e)}else r["swap"]?r["linear"]?n="privateLinearGetStopOrderSearch":r["inverse"]&&(n="v2PrivateGetStopOrder"):r["futures"]&&(n="futuresPrivateGetStopOrder");const c=await this[n](this.extend(s,i)),d=this.safeValue(c,"result");return this.parseOrder(d,r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e);let c=this.amountToPrecision(e,r);c=a["inverse"]?parseInt(c):parseFloat(c);const d={side:this.capitalize(i),symbol:a["id"],order_type:this.capitalize(t),qty:c,time_in_force:"GoodTillCancel"};let h=!1;if("limit"===t&&(h=!0),h){if(void 0===s)throw new o(this.id+" createOrder() requires a price argument for a "+t+" order");d["price"]=parseFloat(this.priceToPrecision(e,s))}const u=this.safeString2(n,"order_link_id","clientOrderId");void 0!==u&&(d["order_link_id"]=u,n=this.omit(n,["order_link_id","clientOrderId"]));const l=this.safeValue2(n,"stop_px","stopPrice"),f=this.safeValue(n,"base_price");let p=void 0;if(a["swap"]?a["linear"]?(p="privateLinearPostOrderCreate",d["reduce_only"]=!1,d["close_on_trigger"]=!1):a["inverse"]&&(p="v2PrivatePostOrderCreate"):a["futures"]&&(p="futuresPrivatePostOrderCreate"),void 0!==l){if(void 0===f)throw new o(this.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");a["swap"]?a["linear"]?p="privateLinearPostStopOrderCreate":a["inverse"]&&(p="v2PrivatePostStopOrderCreate"):a["futures"]&&(p="futuresPrivatePostStopOrderCreate"),d["stop_px"]=parseFloat(this.priceToPrecision(e,l)),d["base_price"]=parseFloat(this.priceToPrecision(e,f)),n=this.omit(n,["stop_px","stopPrice","base_price"])}else if(void 0!==f)throw new o(this.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");const m=await this[p](this.extend(d,n)),g=this.safeValue(m,"result");return this.parseOrder(g,a)}async editOrder(e,t,i,r,s,n,a={}){if(void 0===t)throw new o(this.id+" editOrder() requires an symbol argument");await this.loadMarkets();const c=this.market(t),d={symbol:c["id"]};let h=void 0;c["swap"]?c["linear"]?h="privateLinearPostOrderReplace":c["inverse"]&&(h="v2PrivatePostOrderReplace"):c["futures"]&&(h="futuresPrivatePostOrderReplace");const u=this.safeString(a,"stop_order_id");if(void 0!==u?(c["swap"]?c["linear"]?h="privateLinearPostStopOrderReplace":c["inverse"]&&(h="v2PrivatePostStopOrderReplace"):c["futures"]&&(h="futuresPrivatePostStopOrderReplace"),d["stop_order_id"]=u,a=this.omit(a,["stop_order_id"])):d["order_id"]=e,void 0!==s){let e=this.amountToPrecision(t,s);e=c["inverse"]?parseInt(e):parseFloat(e),d["p_r_qty"]=e}void 0!==n&&(d["p_r_price"]=parseFloat(this.priceToPrecision(t,n)));const l=await this[h](this.extend(d,a)),f=this.safeValue(l,"result",{});return{info:l,id:this.safeString2(f,"order_id","stop_order_id"),order_id:this.safeString(f,"order_id"),stop_order_id:this.safeString(f,"stop_order_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r["id"]};let n=void 0;r["swap"]?r["linear"]?n="privateLinearPostOrderCancel":r["inverse"]&&(n="v2PrivatePostOrderCancel"):r["futures"]&&(n="futuresPrivatePostOrderCancel");const a=this.safeString(i,"stop_order_id");if(void 0===a){const t=this.safeString(i,"order_link_id");void 0===t&&(s["order_id"]=e)}else r["swap"]?r["linear"]?n="privateLinearPostStopOrderCancel":r["inverse"]&&(n="v2PrivatePostStopOrderCancel"):r["futures"]&&(n="futuresPrivatePostStopOrderCancel");const c=await this[n](this.extend(s,i)),d=this.safeValue(c,"result",{});return this.parseOrder(d,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new o(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=this.safeValue(this.options,"cancelAllOrders",{});let n=void 0;i["swap"]?i["linear"]?n="privateLinearPostOrderCancelAll":i["inverse"]&&(n="v2PrivatePostOrderCancelAll"):i["futures"]&&(n="futuresPrivatePostOrderCancelAll");const a=this.safeString(s,"method",n),c=await this[a](this.extend(r,t)),d=this.safeValue(c,"result",[]);return this.parseOrders(d,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["symbol"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=this.safeValue(this.options,"fetchOrders",{}),o=this.safeString(this.options,"defaultType","linear"),c=this.safeValue(this.options,"marketTypes",{}),d=this.safeString(c,e,o);let h=void 0;const u=void 0!==n,l=u&&n["linear"]||"linear"===d,f=u&&n["swap"]&&n["inverse"]||"inverse"===d,p=u&&n["futures"]||"futures"===d;l?h="privateLinearGetOrderList":f?h="v2PrivateGetOrderList":p&&(h="futuresPrivateGetOrderList");let m=r;if("stop_order_id"in r||"stop_order_status"in r){let e=this.safeValue(r,"stop_order_status");void 0!==e&&(Array.isArray(e)&&(e=e.join(",")),s["stop_order_status"]=e,m=this.omit(r,"stop_order_status")),l?h="privateLinearGetStopOrderList":f?h="v2PrivateGetStopOrderList":p&&(h="futuresPrivateGetStopOrderList")}const g=this.safeString(a,"method",h),y=await this[g](this.extend(s,m)),v=this.safeValue(y,"result",{}),b=this.safeValue(v,"data",[]);return this.parseOrders(b,n,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=["Rejected","Filled","Cancelled"],n=this.safeValue(this.options,"fetchClosedOrders",{});let a=this.safeValue(n,"order_status",s);Array.isArray(a)&&(a=a.join(","));const o={},c=this.safeValue(r,"stop_order_status");return void 0===c?o["order_status"]=a:o["stop_order_status"]=c,await this.fetchOrders(e,t,i,this.extend(o,r))}async fetchOpenOrders(e,t,i,r={}){const s=["Created","New","PartiallyFilled","PendingCancel"],n=this.safeValue(this.options,"fetchOpenOrders",{});let a=this.safeValue(n,"order_status",s);Array.isArray(a)&&(a=a.join(","));const o={},c=this.safeValue(r,"stop_order_status");return void 0===c?o["order_status"]=a:o["stop_order_status"]=c,await this.fetchOrders(e,t,i,this.extend(o,r))}async fetchOrderTrades(e,t,i,r,s={}){const n={order_id:e};return await this.fetchMyTrades(t,i,r,this.extend(n,s))}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;if(void 0===e){const e=this.safeString(r,"order_id");if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument or an order_id param");s["order_id"]=e,r=this.omit(r,"order_id")}else n=this.market(e),s["symbol"]=n["id"];void 0!==t&&(s["start_time"]=t),void 0!==i&&(s["limit"]=i);const a=this.safeString(this.options,"defaultType","linear"),c=this.safeValue(this.options,"marketTypes",{}),d=this.safeString(c,e,a),h=void 0!==n,u=h&&n["linear"]||"linear"===d,l=h&&n["swap"]&&n["inverse"]||"inverse"===d,f=h&&n["futures"]||"futures"===d;let p=void 0;u?p="privateLinearGetTradeExecutionList":l?p="v2PrivateGetExecutionList":f&&(p="futuresPrivateGetExecutionList");const m=await this[p](this.extend(s,r)),g=this.safeValue(m,"result",{}),y=this.safeValue2(g,"trade_list","data",[]);return this.parseTrades(y,n,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={wallet_fund_type:"Deposit"};let n=void 0;void 0!==e&&(n=this.currency(e),s["coin"]=n["id"]),void 0!==t&&(s["start_date"]=this.ymd(t)),void 0!==i&&(s["limit"]=i);const a=await this.v2PrivateGetWalletFundRecords(this.extend(s,r)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,n,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["coin"]=n["id"]),void 0!==t&&(s["start_date"]=this.ymd(t)),void 0!==i&&(s["limit"]=i);const a=await this.v2PrivateGetWalletWithdrawList(this.extend(s,r)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,n,t,i,{type:"withdrawal"})}parseTransactionStatus(e){const t={ToBeConfirmed:"pending",UnderReview:"pending",Pending:"pending",Success:"ok",CancelByUser:"canceled",Reject:"rejected",Expire:"expired"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"coin"),r=this.safeCurrencyCode(i,t),s=this.parse8601(this.safeString2(e,"submited_at","exec_time")),n=this.parse8601(this.safeString(e,"updated_at")),a=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeString(e,"address"),c=this.safeNumber(e,"fee"),d=this.safeStringLower(e,"type");let h=void 0;return void 0!==c&&(h={cost:c,currency:r}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx_id"),timestamp:s,datetime:this.iso8601(s),address:o,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:d,amount:this.safeNumber(e,"amount"),currency:r,status:a,updated:n,fee:h}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["coin"]=n["id"]),void 0!==t&&(s["start_date"]=this.ymd(t)),void 0!==i&&(s["limit"]=i);const a=await this.v2PrivateGetWalletFundRecords(this.extend(s,r)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"data",[]);return this.parseLedger(c,n,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"coin"),r=this.safeCurrencyCode(i,t),s=this.safeNumber(e,"amount"),n=this.safeNumber(e,"wallet_balance"),a=s<0?"out":"in";let o=void 0;if(void 0!==n&&void 0!==s){const e="out"===a?s:-s;o=this.sum(n,e)}const c=this.parse8601(this.safeString(e,"exec_time")),d=this.parseLedgerEntryType(this.safeString(e,"type")),h=this.safeString(e,"id"),u=this.safeString(e,"tx_id");return{id:h,currency:r,account:this.safeString(e,"wallet_id"),referenceAccount:void 0,referenceId:u,status:void 0,amount:s,before:o,after:n,fee:void 0,direction:a,timestamp:c,datetime:this.iso8601(c),type:d,info:e}}parseLedgerEntryType(e){const t={Deposit:"transaction",Withdraw:"transaction",RealisedPNL:"trade",Commission:"fee",Refund:"cashback",Prize:"prize",ExchangeOrderWithdraw:"transaction",ExchangeOrderDeposit:"transaction"};return this.safeString(t,e,e)}async fetchPositions(e,t={}){await this.loadMarkets();const i={};if(Array.isArray(e)){const t=e.length;if(1!==t)throw new o(this.id+" fetchPositions takes exactly one symbol");i["symbol"]=this.marketId(e[0])}const r=this.safeString(this.options,"defaultType","linear"),s=this.safeString(t,"type",r);t=this.omit(t,"type");let n=void 0;return"linear"===s?n=await this.privateLinearGetPositionList(this.extend(i,t)):"inverse"===s?n=await this.v2PrivateGetPositionList(this.extend(i,t)):"inverseFuture"===s&&(n=await this.futuresPrivateGetPositionList(this.extend(i,t))),this.safeValue(n,"result")}sign(e,t="public",i="GET",r={},s,n){const a=this.safeString(t,0),o=this.safeString(t,1);let c=this.implodeHostname(this.urls["api"][a]),d="/"+a+"/"+o+"/"+e;if("public"===o)Object.keys(r).length&&(d+="?"+this.rawencode(r));else if("public"===a)Object.keys(r).length&&(d+="?"+this.rawencode(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend(r,{api_key:this.apiKey,recv_window:this.options["recvWindow"],timestamp:e}),a=this.keysort(t),o=this.rawencode(a),c=this.hmac(this.encode(o),this.encode(this.secret));"POST"===i?(n=this.json(this.extend(t,{sign:c})),s={"Content-Type":"application/json"}):d+="?"+this.urlencode(a)+"&sign="+c}return c+=d,{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(!o)return;const h=this.safeString(o,"ret_code");if("0"!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],n,e),new a(e)}}}},"0fd9":function(e,t,i){"use strict";var r=i("ade3"),s=i("5530"),n=(i("caad"),i("2532"),i("99af"),i("b64b"),i("ac1f"),i("5319"),i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("159b"),i("4b85"),i("2b0e")),a=i("d9f7"),o=i("80d2"),c=["sm","md","lg","xl"],d=["start","end","center"];function h(e,t){return c.reduce((function(i,r){return i[e+Object(o["F"])(r)]=t(),i}),{})}var u=function(e){return[].concat(d,["baseline","stretch"]).includes(e)},l=h("align",(function(){return{type:String,default:null,validator:u}})),f=function(e){return[].concat(d,["space-between","space-around"]).includes(e)},p=h("justify",(function(){return{type:String,default:null,validator:f}})),m=function(e){return[].concat(d,["space-between","space-around","stretch"]).includes(e)},g=h("alignContent",(function(){return{type:String,default:null,validator:m}})),y={align:Object.keys(l),justify:Object.keys(p),alignContent:Object.keys(g)},v={align:"align",justify:"justify",alignContent:"align-content"};function b(e,t,i){var r=v[e];if(null!=i){if(t){var s=t.replace(e,"");r+="-".concat(s)}return r+="-".concat(i),r.toLowerCase()}}var w=new Map;t["a"]=n["a"].extend({name:"v-row",functional:!0,props:Object(s["a"])(Object(s["a"])(Object(s["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u}},l),{},{justify:{type:String,default:null,validator:f}},p),{},{alignContent:{type:String,default:null,validator:m}},g),render:function(e,t){var i=t.props,s=t.data,n=t.children,o="";for(var c in i)o+=String(i[c]);var d=w.get(o);return d||function(){var e,t;for(t in d=[],y)y[t].forEach((function(e){var r=i[e],s=b(t,e,r);s&&d.push(s)}));d.push((e={"no-gutters":i.noGutters,"row--dense":i.dense},Object(r["a"])(e,"align-".concat(i.align),i.align),Object(r["a"])(e,"justify-".concat(i.justify),i.justify),Object(r["a"])(e,"align-content-".concat(i.alignContent),i.alignContent),e)),w.set(o,d)}(),e(i.tag,Object(a["a"])(s,{staticClass:"row",class:d}),n)}})},"107c":function(e,t,i){var r=i("d039");e.exports=r((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1087:function(e,t,i){"use strict";const r=i("2aa1");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okcoin",name:"OKCoin",countries:["CN","US"],hostname:"okcoin.com",pro:!0,urls:{logo:"https://user-images.githubusercontent.com/51840849/87295551-102fbf00-c50e-11ea-90a9-462eebba5829.jpg",www:"https://www.okcoin.com",doc:"https://www.okcoin.com/docs/en/",fees:"https://www.okcoin.com/coin-fees",referral:"https://www.okcoin.com/account/register?flag=activity&channelId=600001513"},fees:{trading:{taker:.002,maker:.001}},options:{fetchMarkets:["spot"]}})}}},"10d2":function(e,t,i){"use strict";var r=i("8dd9");t["a"]=r["a"]},"113d":function(e,t,i){"use strict";const{unCamelCase:r}=i("a9b0"),s=e=>{for(const t in e)e[r(t)]=e[t];return e};e.exports=s(Object.assign({},i("2018"),i("c0b9"),i("a9b0"),i("57bb"),i("5ea4"),i("39f1"),i("66cb"),i("aef9"),i("66c7"),i("ca38")))},1148:function(e,t,i){"use strict";var r=i("a691"),s=i("1d80");e.exports=function(e){var t=String(s(this)),i="",n=r(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},"11ca":function(e,t,i){(function(t){var r=i("1ea0"),s=i("f4c8"),n={RSA_NO_PADDING:3};i("7ab5");var a={md2:t.from("3020300c06082a864886f70d020205000410","hex"),md5:t.from("3020300c06082a864886f70d020505000410","hex"),sha1:t.from("3021300906052b0e03021a05000414","hex"),sha224:t.from("302d300d06096086480165030402040500041c","hex"),sha256:t.from("3031300d060960864801650304020105000420","hex"),sha384:t.from("3041300d060960864801650304020205000430","hex"),sha512:t.from("3051300d060960864801650304020305000440","hex"),ripemd160:t.from("3021300906052b2403020105000414","hex"),rmd160:t.from("3021300906052b2403020105000414","hex")},o={ripemd160:"rmd160"},c="sha256";function d(e,t){var i=[],r=255;return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&r),t>2&&i.push(e>>>8&r),t>3&&i.push(e&r),i}function h(e){let i=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");i=e.sigBytes,e=e.words;const r=[];let s=[],n=0;while(i>0)s=d(e[n],Math.min(4,i)),i-=s.length,r.push(s),n++;return new t.from([].concat.apply([],r),"hex")}e.exports={isEncryption:!0,isSignature:!0},e.exports.makeScheme=function(e,i){function d(e,t){this.key=e,this.options=t}return d.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==n.RSA_NO_PADDING?this.key.encryptedDataLength:this.key.encryptedDataLength-11},d.prototype.encUnPad=function(e,t){t=t||{};var i,r=0;if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==n.RSA_NO_PADDING)return i="function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length),i;if(e.length<4)return null;if(1===t.type){if(0!==e[0]&&1!==e[1])return null;r=3;while(0!==e[r])if(255!=e[r]||++r>=e.length)return null}else{if(0!==e[0]&&2!==e[1])return null;r=3;while(0!==e[r])if(++r>=e.length)return null}return e.slice(r+1,e.length)},d.prototype.sign=function(e){var t=this.options.signingSchemeOptions.hash||c;if("browser"===this.options.environment){t=o[t]||t;var i=s[t.toUpperCase()](e.toString()),n=h(i),a=this.pkcs1pad(n,t),d=this.key.$doPrivate(new r(a)).toBuffer(this.key.encryptedDataLength);return d}throw new Error("CCXT only supports browser mode :P")},d.prototype.pkcs1pad=function(e,i){var r=a[i];if(!r)throw Error("Unsupported hash algorithm");var s=t.concat([r,e]);if(s.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+i+")");var n=t.alloc(this.key.encryptedDataLength-s.length-1);n.fill(255,0,n.length-1),n[0]=1,n[n.length-1]=0;var o=t.concat([n,s]);return o},new d(e,i)}}).call(this,i("b639").Buffer)},1237:function(e,t,i){"use strict";const r=i("56af"),{ExchangeError:s,InvalidAddress:n,ArgumentsRequired:a,InsufficientFunds:o,AuthenticationError:c,OrderNotFound:d,InvalidOrder:h,BadRequest:u,InvalidNonce:l,BadSymbol:f,OnMaintenance:p,NotSupported:m,PermissionDenied:g}=i("74b0"),y=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitfinex2",name:"Bitfinex",countries:["VG"],version:"v2",certified:!1,pro:!1,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchClosedOrder:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrderTrades:!0,fetchStatus:!0,fetchTickers:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v1:"https://api.bitfinex.com",public:"https://api-pub.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",doc:["https://docs.bitfinex.com/v2/docs/","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["conf/{config}","conf/pub:{action}:{object}","conf/pub:{action}:{object}:{detail}","conf/pub:map:{object}","conf/pub:map:{object}:{detail}","conf/pub:map:currency:{detail}","conf/pub:map:currency:sym","conf/pub:map:currency:label","conf/pub:map:currency:unit","conf/pub:map:currency:undl","conf/pub:map:currency:pool","conf/pub:map:currency:explorer","conf/pub:map:currency:tx:fee","conf/pub:map:tx:method","conf/pub:list:{object}","conf/pub:list:{object}:{detail}","conf/pub:list:currency","conf/pub:list:pair:exchange","conf/pub:list:pair:margin","conf/pub:list:pair:futures","conf/pub:list:competitions","conf/pub:info:{object}","conf/pub:info:{object}:{detail}","conf/pub:info:pair","conf/pub:info:tx:status","conf/pub:fees","platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}:{side}/last","stats1/{key}:{size}:{symbol}:{side}/hist","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}/last","stats1/{key}:{size}:{symbol}/hist","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}:{period}/{section}","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist","status/{type}","status/deriv","liquidations/hist","rankings/{key}:{timeframe}:{symbol}/{section}","rankings/{key}:{timeframe}:{symbol}/hist"],post:["calc/trade/avg","calc/fx"]},private:{post:["auth/r/wallets","auth/r/wallets/hist","auth/r/orders","auth/r/orders/{symbol}","auth/w/order/submit","auth/w/order/update","auth/w/order/cancel","auth/w/order/multi","auth/w/order/cancel/multi","auth/r/orders/{symbol}/hist","auth/r/orders/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/{symbol}/hist","auth/r/trades/hist","auth/r/ledgers/{currency}/hist","auth/r/ledgers/hist","auth/r/info/margin/{key}","auth/r/info/margin/base","auth/r/info/margin/sym_all","auth/r/positions","auth/w/position/claim","auth/r/positions/hist","auth/r/positions/audit","auth/r/positions/snap","auth/w/deriv/collateral/set","auth/w/deriv/collateral/limits","auth/r/funding/offers","auth/r/funding/offers/{symbol}","auth/w/funding/offer/submit","auth/w/funding/offer/cancel","auth/w/funding/offer/cancel/all","auth/w/funding/close","auth/w/funding/auto","auth/w/funding/keep","auth/r/funding/offers/{symbol}/hist","auth/r/funding/offers/hist","auth/r/funding/loans","auth/r/funding/loans/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits","auth/r/funding/credits/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/funding/trades/hist","auth/r/info/funding/{key}","auth/r/info/user","auth/r/logins/hist","auth/w/transfer","auth/w/deposit/address","auth/w/deposit/invoice","auth/w/withdraw","auth/r/movements/{currency}/hist","auth/r/movements/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/price:{symbol}:{price}/del","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/w/settings/set","auth/r/settings","auth/w/settings/del"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:4e-4,BCH:1e-4,ETH:.00135,EOS:0,LTC:.001,OMG:.15097,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:1e-4,QTM:.01,EDO:.23687,DAT:9.8858,AVT:1.1251,SAN:.35977,USDT:5,SPK:16.971,BAT:1.1209,GNT:2.8789,SNT:9.0848,QASH:1.726,YYW:7.9464}}},options:{precision:"R0",exchangeTypes:{"EXCHANGE MARKET":"market","EXCHANGE LIMIT":"limit"},orderTypes:{market:"EXCHANGE MARKET",limit:"EXCHANGE LIMIT"},fiat:{USD:"USD",EUR:"EUR",JPY:"JPY",GBP:"GBP"},v2AccountsByType:{spot:"exchange",exchange:"exchange",funding:"funding",margin:"margin",derivatives:"margin"}},exceptions:{exact:{10001:g,10020:u,10100:c,10114:l,20060:p},broad:{address:n,"available balance is only":o,"not enough exchange balance":o,"Order not found":d,"symbol: invalid":f,"Invalid order":h}}})}isFiat(e){return e in this.options["fiat"]}getCurrencyId(e){return"f"+e}async fetchStatus(e={}){const t=await this.publicGetPlatformStatus(e),i=this.safeInteger(t,0),r=1===i?"ok":"maintenance";return this.status=this.extend(this.status,{status:r,updated:this.milliseconds()}),this.status}async fetchMarkets(e={}){const t=await this.publicGetConfPubListPairFutures(e),i=await this.v1GetSymbolsDetails(e),r=this.safeValue(t,0,[]),s=[];for(let n=0;n<i.length;n++){const e=i[n];let t=this.safeStringUpper(e,"pair"),a=!0;this.inArray(t,r)&&(a=!1);const o=!a,c=a?"spot":"futures";let d=void 0,h=void 0;if(t.indexOf(":")>=0){const e=t.split(":");d=e[0],h=e[1]}else d=t.slice(0,3),h=t.slice(3,6);const u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),f=u+"/"+l;t="t"+t,d=this.getCurrencyId(d),h=this.getCurrencyId(h);const p={price:this.safeInteger(e,"price_precision"),amount:8},m=this.safeString(e,"minimum_order_size"),g=this.safeString(e,"maximum_order_size"),y={amount:{min:this.parseNumber(m),max:this.parseNumber(g)},price:{min:this.parseNumber("1e-8"),max:void 0},cost:{min:void 0,max:void 0}},v=this.safeValue(e,"margin");s.push({id:t,symbol:f,base:u,quote:l,baseId:d,quoteId:h,active:!0,precision:p,limits:y,info:e,type:c,swap:!1,spot:a,margin:v,futures:o})}return s}async fetchCurrencies(e={}){const t=["pub:list:currency","pub:map:currency:sym","pub:map:currency:label","pub:map:currency:unit","pub:map:currency:undl","pub:map:currency:pool","pub:map:currency:explorer","pub:map:currency:tx:fee"],i=t.join(","),r={config:i},s=await this.publicGetConfConfig(this.extend(r,e)),n={sym:this.indexBy(this.safeValue(s,1,[]),0),label:this.indexBy(this.safeValue(s,2,[]),0),unit:this.indexBy(this.safeValue(s,3,[]),0),undl:this.indexBy(this.safeValue(s,4,[]),0),pool:this.indexBy(this.safeValue(s,5,[]),0),explorer:this.indexBy(this.safeValue(s,6,[]),0),fees:this.indexBy(this.safeValue(s,7,[]),0)},a=this.safeValue(s,0,[]),o={};for(let c=0;c<a.length;c++){const e=a[c],t=this.safeCurrencyCode(e),i=this.safeValue(n["label"],e,[]),r=this.safeString(i,1),s=this.safeValue(n["pool"],e,[]),d=this.safeString(s,1),h=this.safeValue(n["fees"],e,[]),u=this.safeValue(h,1,[]),l=this.safeNumber(u,1),f=this.safeValue(n["undl"],e,[]),p=8,m="f"+e;o[t]={id:m,code:t,info:[e,i,s,h,f],type:d,name:r,active:!0,fee:l,precision:p,limits:{amount:{min:1/Math.pow(10,p),max:void 0},withdraw:{min:l,max:void 0}}}}return o}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"v2AccountsByType",{}),i=this.safeString(e,"type","exchange"),r=this.safeString(t,i);if(void 0===r){const e=Object.keys(t);throw new s(this.id+" fetchBalance type parameter must be one of "+e.join(", "))}const n="derivatives"===i,a=this.omit(e,"type"),o=await this.privatePostAuthRWallets(a),c={info:o};for(let s=0;s<o.length;s++){const e=o[s],t=this.safeString(e,0),i=this.safeStringLower(e,1,""),a=i.length-2,d="f0"===i.slice(a),h=!n||d;if(r===t&&h){const t=this.safeCurrencyCode(i),r=this.account();r["total"]=this.safeString(e,2),r["free"]=this.safeString(e,4),c[t]=r}}return this.parseBalance(c,!1)}async transfer(e,t,i,r,n={}){await this.loadMarkets();const a=this.safeValue(this.options,"v2AccountsByType",{}),o=this.safeString(a,i);if(void 0===o){const e=Object.keys(a);throw new s(this.id+" transfer fromAccount must be one of "+e.join(", "))}const c=this.safeString(a,r);if(void 0===c){const e=Object.keys(a);throw new s(this.id+" transfer toAccount must be one of "+e.join(", "))}const d=this.currency(e),h=this.convertDerivativesId(d,i),u=this.convertDerivativesId(d,r),l=this.currencyToPrecision(e,t),f={amount:l,currency:h,currency_to:u,from:o,to:c},p=await this.privatePostAuthWTransfer(this.extend(f,n)),m=this.safeInteger(p,0),g=this.safeString(p,0);if("error"===g){const e=this.safeString(p,2,"");throw this.throwExactlyMatchedException(this.exceptions["exact"],e,this.id+" "+e),new s(this.id+" "+e)}const y=this.safeValue(p,4),v=this.safeString(y,1),b=this.safeString(y,2),w=this.safeCurrencyCode(this.safeString(y,5)),S=this.safeString(p,6),k="SUCCESS"===S?"ok":void 0;return{info:p,timestamp:m,datetime:this.iso8601(m),status:k,amount:l,code:w,fromAccount:v,toAccount:b}}convertDerivativesId(e,t){const i=this.safeValue(e,"info"),r=this.safeString(i,0),s=this.safeValue(i,4,[]);let n=void 0;if("derivatives"===t){n=this.safeString(s,0,r);const e=n.length-2,t="F0"===n.slice(e);t||(n+="F0")}else n="margin"!==t?this.safeString(s,1,r):r;return n}async fetchOrder(e,t,i={}){throw new m(this.id+" fetchOrder is not implemented yet")}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.safeValue(this.options,"precision","R0"),s={symbol:this.marketId(e),precision:r};void 0!==t&&(s["len"]=t);const n=this.extend(s,i),a=await this.publicGetBookSymbolPrecision(n),o=this.milliseconds(),c={symbol:e,bids:[],asks:[],timestamp:o,datetime:this.iso8601(o),nonce:void 0},d="R0"===n["precision"]?1:0;for(let h=0;h<a.length;h++){const e=a[h],t=this.safeNumber(e,d),i=this.safeNumber(e,2),r=Math.abs(i),s=i>0?"bids":"asks";c[s].push([t,r])}return c["bids"]=this.sortBy(c["bids"],0,!0),c["asks"]=this.sortBy(c["asks"],0),c}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t["symbol"]);const s=e.length,n=this.safeNumber(e,s-4);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,s-2),low:this.safeNumber(e,s-1),bid:this.safeNumber(e,s-10),bidVolume:void 0,ask:this.safeNumber(e,s-8),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeNumber(e,s-6),percentage:100*this.safeNumber(e,s-5),average:void 0,baseVolume:this.safeNumber(e,s-3),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbols"]=t.join(",")}else i["symbols"]="ALL";const r=await this.publicGetTickers(this.extend(i,t)),s={};for(let n=0;n<r.length;n++){const e=r[n],t=e[0];if(t in this.markets_by_id){const i=this.markets_by_id[t],r=i["symbol"];s[r]=this.parseTicker(e,i)}}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseSymbol(e){if(void 0===e)return e;e=e.replace("t","");let t=void 0,i=void 0;if(e.indexOf(":")>=0){const r=e.split(":");t=r[0],i=r[1]}else t=e.slice(0,3),i=e.slice(3,6);const r=this.safeCurrencyCode(t),s=this.safeCurrencyCode(i);return r+"/"+s}parseTrade(e,t){const i=e.length,r=i>5,s=this.safeString(e,0),n=r?4:2;let a=void 0,o=this.safeString(e,n);const c=r?5:3,d=this.safeString(e,c);"-"===o[0]?(a="sell",o=o.slice(1)):a="buy";const h=this.parseNumber(o),u=this.parseNumber(d),l=this.parseNumber(y.stringMul(d,o));let f=void 0,p=void 0,m=void 0,g=void 0,v=void 0;const b=r?2:1,w=this.safeInteger(e,b);if(r){const i=e[1];i in this.markets_by_id?(t=this.markets_by_id[i],v=t["symbol"]):v=this.parseSymbol(i),f=this.safeString(e,3);const r=this.safeInteger(e,8);p=1===r?"maker":"taker";let s=this.safeString(e,9);s=y.stringNeg(s);const n=this.parseNumber(s),a=this.safeString(e,10),o=this.safeCurrencyCode(a);g={cost:n,currency:o};const c=e[6];m=this.safeString(this.options["exchangeTypes"],c)}return void 0===v&&void 0!==t&&(v=t["symbol"]),{id:s,timestamp:w,datetime:this.iso8601(w),symbol:v,order:f,side:a,type:m,takerOrMaker:p,price:u,amount:h,cost:l,fee:g,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let n="-1";const a={symbol:s["id"]};void 0!==t&&(a["start"]=t,n="1"),void 0!==i&&(a["limit"]=i),a["sort"]=n;const o=await this.publicGetTradesSymbolHist(this.extend(a,r)),c=this.sortBy(o,1);return this.parseTrades(c,s,void 0,i)}async fetchOHLCV(e,t="1m",i,r=100,s={}){await this.loadMarkets();const n=this.market(e);void 0===r&&(r=100),void 0===i&&(i=this.milliseconds()-this.parseTimeframe(t)*r*1e3);const a={symbol:n["id"],timeframe:this.timeframes[t],sort:1,start:i,limit:r},o=await this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}parseOrderStatus(e){if(void 0===e)return e;const t=e.split(" "),i=this.safeString(t,0),r={ACTIVE:"open",PARTIALLY:"open",EXECUTED:"closed",CANCELED:"canceled",INSUFFICIENT:"canceled",RSN_DUST:"rejected",RSN_PAUSE:"rejected"};return this.safeString(r,i,e)}parseOrder(e,t){const i=this.safeString(e,0);let r=void 0;const s=this.safeString(e,3);s in this.markets_by_id?t=this.markets_by_id[s]:r=this.parseSymbol(s),void 0===r&&void 0!==t&&(r=t["symbol"]);const n=this.safeInteger(e,5),a=Math.abs(this.safeNumber(e,6)),o=this.safeNumber(e,7),c=Math.abs(o),d=o<0?"sell":"buy",h=this.safeString(e,8),u=this.safeString(this.safeValue(this.options,"exchangeTypes"),h);let l=void 0;const f=this.safeString(e,13);if(void 0!==f){const e=f.split(" @ ");l=this.parseOrderStatus(this.safeString(e,0))}const p=this.safeNumber(e,16),m=this.safeNumber(e,17),g=this.safeString(e,2);return this.safeOrder({info:e,id:i,clientOrderId:g,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:r,type:u,timeInForce:void 0,postOnly:void 0,side:d,price:p,stopPrice:void 0,amount:c,cost:void 0,average:m,filled:void 0,remaining:a,status:l,fee:void 0,trades:void 0})}async createOrder(e,t,i,r,n,o={}){await this.loadMarkets();const c=this.market(e),d=this.safeValue(this.options,"orderTypes",{}),h=this.safeStringUpper(d,t,t);r="sell"===i?-r:r;const u={symbol:c["id"],type:h,amount:this.numberToString(r)};if("LIMIT"===h||"EXCHANGE LIMIT"===h)u["price"]=this.numberToString(n);else if("STOP"===h||"EXCHANGE STOP"===h){const e=this.safeNumber(o,"stopPrice",n);u["price"]=this.numberToString(e)}else if("STOP LIMIT"===h||"EXCHANGE STOP LIMIT"===h){const e=this.safeNumber(o,"price_aux_limit");let t=this.safeNumber(o,"stopPrice");if(void 0===e){if(void 0===t)throw new a(this.id+" createOrder() requires a stopPrice parameter or a price_aux_limit parameter for a "+h+" order");u["price_aux_limit"]=this.numberToString(n)}else u["price_aux_limit"]=this.numberToString(e),void 0===t&&(t=n);u["price"]=this.numberToString(t)}else if("TRAILING STOP"===h||"EXCHANGE TRAILING STOP"===h){const e=this.safeNumber(o,"price_trailing");u["price_trailing"]=this.numberToString(e);const t=this.safeNumber(o,"stopPrice",n);u["price"]=this.numberToString(t)}else"FOK"!==h&&"EXCHANGE FOK"!==h&&"IOC"!==h&&"EXCHANGE IOC"!==h||(u["price"]=this.numberToString(n));o=this.omit(o,["stopPrice","price_aux_limit","price_trailing"]);const l=this.safeValue2(o,"cid","clientOrderId");void 0!==l&&(u["cid"]=l,o=this.omit(o,["cid","clientOrderId"]));const f=await this.privatePostAuthWOrderSubmit(this.extend(u,o)),p=this.safeString(f,6);if("SUCCESS"!==p){const e=f[5],t=f[7];throw new s(this.id+" "+f[6]+": "+t+" (#"+e+")")}const m=this.safeValue(f,4,[]),g=this.safeValue(m,0);return this.parseOrder(g,c)}async cancelAllOrders(e,t={}){const i={all:1},r=await this.privatePostAuthWOrderCancelMulti(this.extend(i,t)),s=this.safeValue(r,4,[]);return this.parseOrders(s)}async cancelOrder(e,t,i={}){const r=this.safeValue2(i,"cid","clientOrderId");let s=void 0;if(void 0!==r){const e=this.safeValue(i,"cidDate");if(void 0===e)throw new h(this.id+" canceling an order by clientOrderId ('cid') requires both 'cid' and 'cid_date' ('YYYY-MM-DD')");s={cid:r,cid_date:e},i=this.omit(i,["cid","clientOrderId"])}else s={id:parseInt(e)};const n=await this.privatePostAuthWOrderCancel(this.extend(s,i)),a=this.safeValue(n,4);return this.parseOrder(a)}async fetchOpenOrder(e,t,i={}){const r={id:[parseInt(e)]},s=await this.fetchOpenOrders(t,void 0,void 0,this.extend(r,i)),n=this.safeValue(s,0);if(void 0===n)throw new d(this.id+" order "+e+" not found");return n}async fetchClosedOrder(e,t,i={}){const r={id:[parseInt(e)]},s=await this.fetchClosedOrders(t,void 0,void 0,this.extend(r,i)),n=this.safeValue(s,0);if(void 0===n)throw new d(this.id+" order "+e+" not found");return n}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0,a=void 0;return void 0===e?a=await this.privatePostAuthROrders(this.extend(s,r)):(n=this.market(e),s["symbol"]=n["id"],a=await this.privatePostAuthROrdersSymbol(this.extend(s,r))),this.parseOrders(a,n,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0,a=void 0;return void 0===e?a=await this.privatePostAuthROrdersHist(this.extend(s,r)):(n=this.market(e),s["symbol"]=n["id"],a=await this.privatePostAuthROrdersSymbolHist(this.extend(s,r))),void 0!==t&&(s["start"]=t),void 0!==i&&(s["limit"]=i),this.parseOrders(a,n,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(t),o=parseInt(e),c={id:o,symbol:n["id"]},d=await this.privatePostAuthROrderSymbolIdTrades(this.extend(c,s));return this.parseTrades(d,n,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={end:this.milliseconds()};void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);let a="privatePostAuthRTradesHist";void 0!==e&&(s=this.market(e),n["symbol"]=s["id"],a="privatePostAuthRTradesSymbolHist");const o=await this[a](this.extend(n,r));return this.parseTrades(o,s,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={op_renew:1},r=await this.fetchDepositAddress(e,this.extend(i,t));return r}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.getCurrencyName(e),r={method:i,wallet:"exchange",op_renew:0},s=await this.privatePostAuthWDepositAddress(this.extend(r,t)),n=this.safeValue(s,4,[]),a=this.safeString(n,5),o=void 0===a?this.safeString(n,4):a,c=void 0===a?void 0:this.safeString(n,4);return this.checkAddress(o),{currency:e,address:o,tag:c,info:s}}parseTransactionStatus(e){const t={SUCCESS:"ok",ERROR:"failed",FAILURE:"failed",CANCELED:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=e.length;let r=void 0,s=void 0,n=void 0,a=void 0,o=void 0,c=void 0,d=void 0,h=void 0,u=void 0,l=void 0,f=void 0;if(i<9){const i=this.safeValue(e,4,[]);r=this.safeInteger(e,0),void 0!==t&&(n=t["code"]),u=this.safeNumber(i,8),void 0!==u&&(u=-u),a=this.safeNumber(i,5),o=this.safeValue(i,0),c="ok",0===o&&(o=void 0,c="failed"),d=this.safeString(i,3),h="withdrawal"}else o=this.safeString(e,0),r=this.safeInteger(e,5),s=this.safeInteger(e,6),c=this.parseTransactionStatus(this.safeString(e,9)),a=this.safeNumber(e,12),void 0!==a&&(h=a<0?"withdrawal":"deposit"),u=this.safeNumber(e,13),void 0!==u&&(u=-u),f=this.safeString(e,16),l=this.safeString(e,20);return{info:e,id:o,txid:l,timestamp:r,datetime:this.iso8601(r),addressFrom:void 0,address:f,addressTo:f,tagFrom:void 0,tag:d,tagTo:d,type:h,amount:a,currency:n,status:c,updated:s,fee:{currency:n,cost:u,rate:void 0}}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};let a="privatePostAuthRMovementsHist";void 0!==e&&(s=this.currency(e),n["currency"]=s["id"],a="privatePostAuthRMovementsCurrencyHist"),void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const o=await this[a](this.extend(n,r));return this.parseTransactions(o,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a=this.getCurrencyName(e),o={method:a,wallet:"exchange",amount:this.numberToString(t),address:i};void 0!==r&&(o["payment_id"]=r);const c=await this.privatePostAuthWWithdraw(this.extend(o,s)),d=this.safeString(c,7);"success"!==d&&this.throwBroadlyMatchedException(this.exceptions["broad"],d,d);const h=this.parseTransaction(c,n);return this.extend(h,{address:i})}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privatePostPositions(t);return i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));a="v1"===t?t+a:this.version+a;let c=this.urls["api"][t]+"/"+a;if("public"===t&&Object.keys(o).length&&(c+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();n=this.json(o);const t="/api/"+a+e+n,i=this.hmac(this.encode(t),this.encode(this.secret),"sha384");s={"bfx-nonce":e,"bfx-apikey":this.apiKey,"bfx-signature":i,"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const c=await this.fetch2(e,t,i,r,n,a);if(c){if("message"in c){if(c["message"].indexOf("not enough exchange balance")>=0)throw new o(this.id+" "+this.json(c));throw new s(this.id+" "+this.json(c))}return c}if(""===c)throw new s(this.id+" returned empty response");return c}handleErrors(e,t,i,r,n,a,o,c,d){if(500===e){const e=this.numberToString(o[1]),t=o[2],i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new s(this.id+" "+t+" (#"+e+")")}}}},"123c":function(e,t,i){"use strict";const r=i("01b4");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitcoincom",name:"bitcoin.com",countries:["KN"],urls:{logo:"https://user-images.githubusercontent.com/1294454/97296144-514fa300-1861-11eb-952b-3d55d492200b.jpg",api:{public:"https://api.exchange.bitcoin.com",private:"https://api.exchange.bitcoin.com"},www:"https://exchange.bitcoin.com",doc:"https://api.exchange.bitcoin.com/api/2/explore",fees:"https://exchange.bitcoin.com/fees-and-limits",referral:"https://exchange.bitcoin.com/referral/da948b21d6c92d69"},fees:{trading:{maker:.0015,taker:.002}}})}}},1276:function(e,t,i){"use strict";var r=i("d784"),s=i("44e7"),n=i("825a"),a=i("1d80"),o=i("4840"),c=i("8aa5"),d=i("50c4"),h=i("14c3"),u=i("9263"),l=i("9f7f"),f=i("d039"),p=l.UNSUPPORTED_Y,m=[].push,g=Math.min,y=4294967295,v=!f((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));r("split",(function(e,t,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var r=String(a(this)),n=void 0===i?y:i>>>0;if(0===n)return[];if(void 0===e)return[r];if(!s(e))return t.call(r,e,n);var o,c,d,h=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=new RegExp(e.source,l+"g");while(o=u.call(p,r)){if(c=p.lastIndex,c>f&&(h.push(r.slice(f,o.index)),o.length>1&&o.index<r.length&&m.apply(h,o.slice(1)),d=o[0].length,f=c,h.length>=n))break;p.lastIndex===o.index&&p.lastIndex++}return f===r.length?!d&&p.test("")||h.push(""):h.push(r.slice(f)),h.length>n?h.slice(0,n):h}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var s=a(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,s,i):r.call(String(s),t,i)},function(e,s){var a=i(r,this,e,s,r!==t);if(a.done)return a.value;var u=n(this),l=String(e),f=o(u,RegExp),m=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"g":"y"),b=new f(p?"^(?:"+u.source+")":u,v),w=void 0===s?y:s>>>0;if(0===w)return[];if(0===l.length)return null===h(b,l)?[l]:[];var S=0,k=0,_=[];while(k<l.length){b.lastIndex=p?0:k;var O,T=h(b,p?l.slice(k):l);if(null===T||(O=g(d(b.lastIndex+(p?k:0)),l.length))===S)k=c(l,k,m);else{if(_.push(l.slice(S,k)),_.length===w)return _;for(var C=1;C<=T.length-1;C++)if(_.push(T[C]),_.length===w)return _;k=S=O}}return _.push(l.slice(S)),_}]}),!v,p)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"132d":function(e,t,i){"use strict";var r,s=i("5530"),n=(i("c96a"),i("caad"),i("2532"),i("a9e3"),i("498a"),i("7db0"),i("fb6a"),i("4804"),i("7e2b")),a=i("a9ad"),o=i("af2b"),c=i("7560"),d=i("80d2"),h=i("2b0e"),u=i("58df");function l(e){return["fas","far","fal","fab","fad","fak"].some((function(t){return e.includes(t)}))}function f(e){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4}(function(e){e["xSmall"]="12px",e["small"]="16px",e["default"]="24px",e["medium"]="28px",e["large"]="36px",e["xLarge"]="40px"})(r||(r={}));var p=Object(u["a"])(n["a"],a["a"],o["a"],c["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1},hasClickListener:function(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon:function(){var e="";return this.$slots.default&&(e=this.$slots.default[0].text.trim()),Object(d["C"])(this,e)},getSize:function(){var e={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},t=Object(d["y"])(e).find((function(t){return e[t]}));return t&&r[t]||Object(d["g"])(this.size)},getDefaultData:function(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:Object(s["a"])({"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0},this.attrs$),on:this.listeners$}},getSvgWrapperData:function(){var e=this.getSize(),t=Object(s["a"])(Object(s["a"])({},this.getDefaultData()),{},{style:e?{fontSize:e,height:e,width:e}:void 0});return this.applyColors(t),t},applyColors:function(e){e.class=Object(s["a"])(Object(s["a"])({},e.class),this.themeClasses),this.setTextColor(this.color,e)},renderFontIcon:function(e,t){var i=[],r=this.getDefaultData(),s="material-icons",n=e.indexOf("-"),a=n<=-1;a?i.push(e):(s=e.slice(0,n),l(s)&&(s="")),r.class[s]=!0,r.class[e]=!a;var o=this.getSize();return o&&(r.style={fontSize:o}),this.applyColors(r),t(this.hasClickListener?"button":this.tag,r,i)},renderSvgIcon:function(e,t){var i={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},r=this.getSize();return r&&(i.style={fontSize:r,height:r,width:r}),t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t("svg",i,[t("path",{attrs:{d:e}})])])},renderSvgIconComponent:function(e,t){var i={class:{"v-icon__component":!0}},r=this.getSize();r&&(i.style={fontSize:r,height:r,width:r}),this.applyColors(i);var s=e.component;return i.props=e.props,i.nativeOn=i.on,t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t(s,i)])}},render:function(e){var t=this.getIcon();return"string"===typeof t?f(t)?this.renderSvgIcon(t,e):this.renderFontIcon(t,e):this.renderSvgIconComponent(t,e)}});t["a"]=h["a"].extend({name:"v-icon",$_wrapperFor:p,functional:!0,render:function(e,t){var i=t.data,r=t.children,s="";return i.domProps&&(s=i.domProps.textContent||i.domProps.innerHTML||s,delete i.domProps.textContent,delete i.domProps.innerHTML),e(p,i,s?[s]:r)}})},"13ab":function(e,t,i){"use strict";const r=i("90db"),{InvalidNonce:s,InsufficientFunds:n,AuthenticationError:a,InvalidOrder:o,ExchangeError:c,OrderNotFound:d,AccountSuspended:h,BadSymbol:u,OrderImmediatelyFillable:l,RateLimitExceeded:f,OnMaintenance:p,PermissionDenied:m}=i("74b0"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","3d":"259200","1w":"604800"},hostname:"bitbay.net",urls:{referral:"https://auth.bitbay.net/ref/jHlbB4mIkdS1",logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://{hostname}/API/Public",private:"https://{hostname}/API/Trading/tradingApi.php",v1_01Public:"https://api.{hostname}/rest",v1_01Private:"https://api.{hostname}/rest"},doc:["https://bitbay.net/public-api","https://bitbay.net/en/private-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API","https://docs.bitbay.net/v1.0.1-en/reference"],support:"https://support.bitbay.net",fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]},v1_01Public:{get:["trading/ticker","trading/ticker/{symbol}","trading/stats","trading/orderbook/{symbol}","trading/transactions/{symbol}","trading/candle/history/{symbol}/{resolution}"]},v1_01Private:{get:["payments/withdrawal/{detailId}","payments/deposit/{detailId}","trading/offer","trading/config/{symbol}","trading/history/transactions","balances/BITBAY/history","balances/BITBAY/balance","fiat_cantor/rate/{baseId}/{quoteId}","fiat_cantor/history"],post:["trading/offer/{symbol}","trading/config/{symbol}","balances/BITBAY/balance","balances/BITBAY/balance/transfer/{source}/{destination}","fiat_cantor/exchange"],delete:["trading/offer/{symbol}/{id}/{side}/{price}"],put:["balances/BITBAY/balance/{id}"]}},fees:{trading:{maker:0,taker:.001,percentage:!0,tierBased:!1},fiat:{maker:.003,taker:.0043,percentage:!0,tierBased:!0,tiers:{taker:[[.0043,0],[.0042,1250],[.0041,3750],[.004,7500],[.0039,1e4],[.0038,15e3],[.0037,2e4],[.0036,25e3],[.0035,37500],[.0034,5e4],[.0033,75e3],[.0032,1e5],[.0031,15e4],[.003,2e5],[.0029,25e4],[.0028,375e3],[.0027,5e5],[.0026,625e3],[.0025,875e3]],maker:[[.003,0],[.0029,1250],[.0028,3750],[.0028,7500],[.0027,1e4],[.0026,15e3],[.0025,2e4],[.0025,25e3],[.0024,37500],[.0023,5e4],[.0023,75e3],[.0022,1e5],[.0021,15e4],[.0021,2e5],[.002,25e4],[.0019,375e3],[.0018,5e5],[.0018,625e3],[.0017,875e3]]}},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},options:{fiatCurrencies:["EUR","USD","GBP","PLN"]},exceptions:{400:c,401:o,402:o,403:o,404:o,405:o,406:n,408:o,501:a,502:a,503:s,504:c,505:a,506:h,509:c,510:u,FUNDS_NOT_SUFFICIENT:n,OFFER_FUNDS_NOT_EXCEEDING_MINIMUMS:o,OFFER_NOT_FOUND:d,OFFER_WOULD_HAVE_BEEN_PARTIALLY_FILLED:l,ACTION_LIMIT_EXCEEDED:f,UNDER_MAINTENANCE:p,REQUEST_TIMESTAMP_TOO_OLD:s,PERMISSIONS_NOT_SUFFICIENT:m},commonCurrencies:{GGC:"Global Game Coin"}})}async fetchMarkets(e={}){const t=await this.v1_01PublicGetTradingTicker(e),i=this.safeValue(this.options,"fiatCurrencies",[]),r=[],s=this.safeValue(t,"items"),n=Object.keys(s);for(let a=0;a<n.length;a++){const e=n[a],t=s[e],o=this.safeValue(t,"market",{}),c=this.safeValue(o,"first",{}),d=this.safeValue(o,"second",{}),h=this.safeString(c,"currency"),u=this.safeString(d,"currency"),l=h+u,f=this.safeCurrencyCode(h),p=this.safeCurrencyCode(u),m=f+"/"+p,g={amount:this.safeInteger(c,"scale"),price:this.safeInteger(d,"scale")};let y=this.safeValue(this.fees,"trading",{});(this.inArray(f,i)||this.inArray(p,i))&&(y=this.safeValue(this.fees,"fiat",{}));const v=this.safeNumber(y,"maker"),b=this.safeNumber(y,"taker");r.push({id:l,symbol:m,base:f,quote:p,baseId:h,quoteId:u,precision:g,active:void 0,maker:v,taker:b,limits:{amount:{min:this.safeNumber(c,"minOffer"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(d,"minOffer"),max:void 0}},info:t})}return r}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={},n=await this.v1_01PrivateGetTradingOffer(this.extend(s,r)),a=this.safeValue(n,"items",[]);return this.parseOrders(a,void 0,t,i,{status:"open"})}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.safeInteger(e,"time"),n=this.safeNumber(e,"startAmount"),a=this.safeNumber(e,"currentAmount"),o=this.safeValue(e,"postOnly");return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:void 0,symbol:r,type:this.safeString(e,"mode"),timeInForce:void 0,postOnly:o,side:this.safeStringLower(e,"offerType"),price:this.safeNumber(e,"rate"),stopPrice:void 0,amount:n,cost:void 0,filled:void 0,remaining:a,average:void 0,fee:void 0,trades:void 0})}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};if(e){const t=[this.marketId(e)];s["markets"]=t}const n={query:this.json(this.extend(s,r))},a=await this.v1_01PrivateGetTradingHistoryTransactions(n),o=this.safeValue(a,"items"),c=this.parseTrades(o,void 0,t,i);return void 0===e?c:this.filterBySymbol(c,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1_01PrivateGetBalancesBITBAYBalance(e),i=this.safeValue(t,"balances");if(void 0===i)throw new c(this.id+" empty balance response "+this.json(t));const r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["used"]=this.safeString(e,"lockedFunds"),a["free"]=this.safeString(e,"availableFunds"),r[n]=a}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetIdOrderbook(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={id:this.marketId(e)},r=await this.publicGetIdTicker(this.extend(i,t)),s=this.milliseconds(),n=this.safeNumber(r,"volume"),a=this.safeNumber(r,"vwap");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"max"),low:this.safeNumber(r,"min"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:a,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(r,"average"),baseVolume:n,quoteVolume:o,info:r}}async fetchLedger(e,t,i,r={}){const s=[];if(void 0!==e){const t=this.currency(e);s.push(t["id"])}let n={balanceCurrencies:s};void 0!==t&&(n["fromTime"]=t),void 0!==i&&(n["limit"]=i),n=this.extend(n,r);const a=await this.v1_01PrivateGetBalancesBITBAYHistory({query:this.json(n)}),o=a["items"];return this.parseLedger(o,void 0,t,i)}parseLedgerEntry(e,t){const i=this.safeInteger(e,"time"),r=this.safeValue(e,"balance",{}),s=this.safeString(r,"currency"),n=this.safeCurrencyCode(s),a=this.safeValue(e,"change",{});let o=this.safeNumber(a,"total"),c="in";o<0&&(c="out",o=-o);const d=this.safeString(e,"historyId"),h=this.safeString(e,"detailId"),u=this.parseLedgerEntryType(this.safeString(e,"type")),l=this.safeValue(e,"fundsBefore",{}),f=this.safeNumber(l,"total"),p=this.safeValue(e,"fundsAfter",{}),m=this.safeNumber(p,"total");return{info:e,id:d,direction:c,account:void 0,referenceId:h,referenceAccount:void 0,type:u,currency:n,amount:o,before:f,after:m,status:"ok",timestamp:i,datetime:this.iso8601(i),fee:void 0}}parseLedgerEntryType(e){const t={ADD_FUNDS:"transaction",BITCOIN_GOLD_FORK:"transaction",CREATE_BALANCE:"transaction",FUNDS_MIGRATION:"transaction",WITHDRAWAL_LOCK_FUNDS:"transaction",WITHDRAWAL_SUBTRACT_FUNDS:"transaction",WITHDRAWAL_UNLOCK_FUNDS:"transaction",TRANSACTION_COMMISSION_OUTCOME:"fee",TRANSACTION_COMMISSION_RETURN:"fee",TRANSACTION_OFFER_ABORTED_RETURN:"trade",TRANSACTION_OFFER_COMPLETED_RETURN:"trade",TRANSACTION_POST_INCOME:"trade",TRANSACTION_POST_OUTCOME:"trade",TRANSACTION_PRE_LOCKING:"trade"};return this.safeString(t,e,e)}parseOHLCV(e,t){const i=this.safeValue(e,1,{});return[this.safeInteger(e,0),this.safeNumber(i,"o"),this.safeNumber(i,"h"),this.safeNumber(i,"l"),this.safeNumber(i,"c"),this.safeNumber(i,"v")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=n["baseId"]+"-"+n["quoteId"],o={symbol:a,resolution:this.timeframes[t]};void 0===r&&(r=100);const c=this.parseTimeframe(t),d=r*c*1e3;void 0===i?(o["to"]=this.milliseconds(),o["from"]=o["to"]-d):(o["from"]=parseInt(i),o["to"]=this.sum(o["from"],d));const h=await this.v1_01PublicGetTradingCandleHistorySymbolResolution(this.extend(o,s)),u=this.safeValue(h,"items",[]);return this.parseOHLCVs(u,n,t,i,r)}parseTrade(e,t){const i=this.safeInteger2(e,"time","t"),r=this.safeString(e,"userAction"),s="Buy"===r?"buy":"sell",n=this.safeValue(e,"wasTaker");let a=void 0;void 0!==n&&(a=n?"taker":"maker");const o=this.safeString2(e,"rate","r"),c=this.safeString2(e,"amount","a"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(g.stringMul(o,c)),l=this.safeNumber(e,"commissionValue"),f=this.safeString(e,"market");t=this.safeMarket(f,t,"-");const p=t["symbol"];let m=void 0;if(void 0!==l){const e="buy"===s?t["base"]:t["quote"];m={currency:e,cost:l}}const y=this.safeString(e,"offerId");let v=void 0;return void 0!==y&&(v=y?"limit":"market"),{id:this.safeString(e,"id"),order:y,timestamp:i,datetime:this.iso8601(i),symbol:p,type:v,side:s,price:d,amount:h,cost:u,takerOrMaker:a,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=s["baseId"]+"-"+s["quoteId"],a={symbol:n};void 0!==t&&(a["fromTime"]=t-1),void 0!==i&&(a["limit"]=i);const o=await this.v1_01PublicGetTradingTransactionsSymbol(this.extend(a,r)),c=this.safeValue(o,"items");return this.parseTrades(c,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=a["baseId"]+"-"+a["quoteId"],c={symbol:o,offerType:i,amount:r,mode:t};"limit"===t&&(c["rate"]=s,s=parseFloat(s)),r=parseFloat(r);const d=await this.v1_01PrivatePostTradingOfferSymbol(this.extend(c,n)),h=this.milliseconds(),u=this.safeString(d,"offerId"),l=this.safeValue(d,"completed",!1),f=l?"closed":"open";let p=0,m=void 0;const g=this.safeValue(d,"transactions");let y=void 0;if(void 0!==g){y=this.parseTrades(g,a,void 0,void 0,{timestamp:h,datetime:this.iso8601(h),symbol:e,side:i,type:t,orderId:u}),m=0;for(let e=0;e<y.length;e++)p=this.sum(p,y[e]["amount"]),m=this.sum(m,y[e]["cost"])}const v=r-p;return{id:u,info:d,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:f,symbol:e,type:t,side:i,price:s,amount:r,cost:m,filled:p,remaining:v,average:void 0,fee:void 0,trades:y,clientOrderId:void 0}}async cancelOrder(e,t,i={}){const r=this.safeString(i,"side");if(void 0===r)throw new c(this.id+' cancelOrder() requires a `side` parameter ("buy" or "sell")');const s=this.safeValue(i,"price");if(void 0===s)throw new c(this.id+" cancelOrder() requires a `price` parameter (float or string)");await this.loadMarkets();const n=this.market(t),a=n["baseId"]+"-"+n["quoteId"],o={symbol:a,id:e,side:r,price:s};return this.v1_01PrivateDeleteTradingOfferSymbolIdSidePrice(this.extend(o,i))}isFiat(e){const t={USD:!0,EUR:!0,PLN:!0};return this.safeValue(t,e,!1)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();let n=void 0;const a=this.currency(e),o={currency:a["id"],quantity:t};this.isFiat(e)?n="privatePostWithdraw":(n="privatePostTransfer",void 0!==r&&(i+="?dt="+r.toString()),o["address"]=i);const c=await this[n](this.extend(o,s));return{info:c,id:void 0}}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeHostname(this.urls["api"][t]);if("public"===t){const t=this.omit(r,this.extractParams(e));a+="/"+this.implodeParams(e,r)+".json",Object.keys(t).length&&(a+="?"+this.urlencode(t))}else if("v1_01Public"===t){const t=this.omit(r,this.extractParams(e));a+="/"+this.implodeParams(e,r),Object.keys(t).length&&(a+="?"+this.urlencode(t))}else if("v1_01Private"===t){this.checkRequiredCredentials();const t=this.omit(r,this.extractParams(e));a+="/"+this.implodeParams(e,r);const o=this.milliseconds().toString();let c=void 0;"POST"!==i?(Object.keys(t).length&&(a+="?"+this.urlencode(t)),c=this.apiKey+o):void 0===n&&(n=this.json(t),c=this.apiKey+o+n),s={"Request-Timestamp":o,"Operation-Id":this.uuid(),"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(c),this.encode(this.secret),"sha512"),"Content-Type":"application/json"}}else this.checkRequiredCredentials(),n=this.urlencode(this.extend({method:e,moment:this.nonce()},r)),s={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(n),this.encode(this.secret),"sha512")};return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,d){if(void 0!==a){if("code"in a){const e=this.safeString(a,"code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new c(t)}if("status"in a){const e=this.safeString(a,"status");if("Fail"===e){const e=this.safeValue(a,"errors"),t=this.id+" "+n;for(let i=0;i<e.length;i++){const r=e[i];this.throwExactlyMatchedException(this.exceptions,r,t)}throw new c(t)}}}}}},"13b7":function(e,t,i){"use strict";var r=i("74d2"),s=i("fee7"),n=s.utils,a=n.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,i){return t instanceof o?t:new o(e,{pub:t,pubEnc:i})},o.fromPrivate=function(e,t,i){return t instanceof o?t:new o(e,{priv:t,privEnc:i})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},"14c3":function(e,t,i){var r=i("c6b6"),s=i("9263");e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var n=i.call(e,t);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},"159b":function(e,t,i){var r=i("da84"),s=i("fdbc"),n=i("17c2"),a=i("9112");for(var o in s){var c=r[o],d=c&&c.prototype;if(d&&d.forEach!==n)try{a(d,"forEach",n)}catch(h){d.forEach=n}}},"15b4":function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty,s=Array.isArray,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){while(e.length>1){var t=e.pop(),i=t.obj[t.prop];if(s(i)){for(var r=[],n=0;n<i.length;++n)"undefined"!==typeof i[n]&&r.push(i[n]);t.obj[t.prop]=r}}},o=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(i[r]=e[r]);return i},c=function e(t,i,n){if(!i)return t;if("object"!==typeof i){if(s(t))t.push(i);else{if(!t||"object"!==typeof t)return[t,i];(n&&(n.plainObjects||n.allowPrototypes)||!r.call(Object.prototype,i))&&(t[i]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(i);var a=t;return s(t)&&!s(i)&&(a=o(t,n)),s(t)&&s(i)?(i.forEach((function(i,s){if(r.call(t,s)){var a=t[s];a&&"object"===typeof a&&i&&"object"===typeof i?t[s]=e(a,i,n):t.push(i)}else t[s]=i})),t):Object.keys(i).reduce((function(t,s){var a=i[s];return r.call(t,s)?t[s]=e(t[s],a,n):t[s]=a,t}),a)},d=function(e,t){return Object.keys(t).reduce((function(e,i){return e[i]=t[i],e}),e)},h=function(e,t,i){var r=e.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(s){return r}},u=function(e,t,i){if(0===e.length)return e;var r="string"===typeof e?e:String(e);if("iso-8859-1"===i)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",a=0;a<r.length;++a){var o=r.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?s+=r.charAt(a):o<128?s+=n[o]:o<2048?s+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?s+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&r.charCodeAt(a)),s+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return s},l=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],r=0;r<t.length;++r)for(var s=t[r],n=s.obj[s.prop],o=Object.keys(n),c=0;c<o.length;++c){var d=o[c],h=n[d];"object"===typeof h&&null!==h&&-1===i.indexOf(h)&&(t.push({obj:n,prop:d}),i.push(h))}return a(t),e},f=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:o,assign:d,combine:m,compact:l,decode:h,encode:u,isBuffer:p,isRegExp:f,merge:c}},"15fd":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("a4d3"),i("b64b");function r(e,t){if(null==e)return{};var i,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}function s(e,t){if(null==e)return{};var i,s,n=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}},"166a":function(e,t,i){},"169a":function(e,t,i){"use strict";var r=i("5530"),s=i("2909"),n=i("ade3"),a=(i("a9e3"),i("498a"),i("caad"),i("2532"),i("7db0"),i("368e"),i("480e")),o=i("4ad4"),c=i("b848"),d=i("75eb"),h=(i("3c93"),i("a9ad")),u=i("7560"),l=i("f2e7"),f=i("58df"),p=Object(f["a"])(h["a"],u["a"],l["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes:function(){return Object(r["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(e){var t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},t)}}),m=p,g=i("80d2"),y=i("2b0e"),v=y["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{animationFrame:0,overlay:null}},watch:{hideOverlay:function(e){this.isActive&&(e?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var e=new m({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});e.$mount();var t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");t&&t.insertBefore(e.$el,t.firstChild),this.overlay=e},genOverlay:function(){var e=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((function(){e.overlay&&(void 0!==e.activeZIndex?e.overlay.zIndex=String(e.activeZIndex-1):e.$el&&(e.overlay.zIndex=Object(g["u"])(e.$el)),e.overlay.value=!0)})),!0},removeOverlay:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(g["a"])(this.overlay.$el,"transitionend",(function(){e.overlay&&e.overlay.$el&&e.overlay.$el.parentNode&&!e.overlay.value&&(e.overlay.$el.parentNode.removeChild(e.overlay.$el),e.overlay.$destroy(),e.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),t&&this.showScroll()},scrollListener:function(e){if("keydown"===e.type){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;var t=[g["x"].up,g["x"].pageup],i=[g["x"].down,g["x"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!i.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar:function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},shouldScroll:function(e,t){return 0===e.scrollTop&&t<0||e.scrollTop+e.clientHeight===e.scrollHeight&&t>0},isInside:function(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath:function(e){var t=e.path||this.composedPath(e),i=e.deltaY;if("keydown"===e.type&&t[0]===document.body){var r=this.$refs.dialog,s=window.getSelection().anchorNode;return!(r&&this.hasScrollbar(r)&&this.isInside(s,r))||this.shouldScroll(r,i)}for(var n=0;n<t.length;n++){var a=t[n];if(a===document)return!0;if(a===document.documentElement)return!0;if(a===this.$refs.content)return!0;if(this.hasScrollbar(a))return this.shouldScroll(a,i)}return!0},composedPath:function(e){if(e.composedPath)return e.composedPath();var t=[],i=e.target;while(i){if(t.push(i),"HTML"===i.tagName)return t.push(document),t.push(window),t;i=i.parentElement}return t},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(g["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),b=i("e4d3"),w=i("21be"),S=i("a293"),k=i("d9bd"),_=Object(f["a"])(o["a"],c["a"],d["a"],v,b["a"],w["a"],l["a"]);t["a"]=_.extend({name:"v-dialog",directives:{ClickOutside:S["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var e;return e={},Object(n["a"])(e,"v-dialog ".concat(this.contentClass).trim(),!0),Object(n["a"])(e,"v-dialog--active",this.isActive),Object(n["a"])(e,"v-dialog--persistent",this.persistent),Object(n["a"])(e,"v-dialog--fullscreen",this.fullscreen),Object(n["a"])(e,"v-dialog--scrollable",this.scrollable),Object(n["a"])(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(t=this.previousActiveElement)||t.focus())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(k["e"])("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):v.options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$nextTick((function(){e.previousActiveElement=document.activeElement,e.$refs.content.focus(),e.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(e){if(e.keyCode===g["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=Object(s["a"])(i).find((function(e){return!e.hasAttribute("disabled")}));r&&r.focus()}}},genContent:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement(a["a"],{props:{root:!0,light:e.light,dark:e.dark}},[e.$createElement("div",{class:e.contentClasses,attrs:Object(r["a"])({role:"document",tabindex:e.isActive?0:void 0},e.getScopeIdAttrs()),on:{keydown:e.onKeydown},style:{zIndex:e.activeZIndex},ref:"content"},[e.genTransition()])])]}))},genTransition:function(){var e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent:function(){var e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style=Object(r["a"])(Object(r["a"])({},e.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(g["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(g["g"])(this.width)})),this.$createElement("div",e,this.getContentSlot())}},render:function(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"16b7":function(e,t,i){"use strict";i("a9e3");var r=i("2b0e");t["a"]=r["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(e,t){var i=this;this.clearDelay();var r=parseInt(this["".concat(e,"Delay")],10);this["".concat(e,"Timeout")]=setTimeout(t||function(){i.isActive={open:!0,close:!1}[e]},r)}}})},1772:function(e,t){function i(e){return"[object String]"===Object.prototype.toString.call(e)}e.exports=i},"17c2":function(e,t,i){"use strict";var r=i("b727").forEach,s=i("a640"),n=s("forEach");e.exports=n?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"18a5":function(e,t,i){"use strict";var r=i("23e7"),s=i("857a"),n=i("af03");r({target:"String",proto:!0,forced:n("anchor")},{anchor:function(e){return s(this,"a","name",e)}})},1985:function(e,t,i){(function(e,r){var s;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(n){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var o,c=2147483647,d=36,h=1,u=26,l=38,f=700,p=72,m=128,g="-",y=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=d-h,k=Math.floor,_=String.fromCharCode;function O(e){throw new RangeError(w[e])}function T(e,t){var i=e.length,r=[];while(i--)r[i]=t(e[i]);return r}function C(e,t){var i=e.split("@"),r="";i.length>1&&(r=i[0]+"@",e=i[1]),e=e.replace(b,".");var s=e.split("."),n=T(s,t).join(".");return r+n}function I(e){var t,i,r=[],s=0,n=e.length;while(s<n)t=e.charCodeAt(s++),t>=55296&&t<=56319&&s<n?(i=e.charCodeAt(s++),56320==(64512&i)?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),s--)):r.push(t);return r}function x(e){return T(e,(function(e){var t="";return e>65535&&(e-=65536,t+=_(e>>>10&1023|55296),e=56320|1023&e),t+=_(e),t})).join("")}function E(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,i){var r=0;for(e=i?k(e/f):e>>1,e+=k(e/t);e>S*u>>1;r+=d)e=k(e/S);return k(r+(S+1)*e/(e+l))}function M(e){var t,i,r,s,n,a,o,l,f,y,v=[],b=e.length,w=0,S=m,_=p;for(i=e.lastIndexOf(g),i<0&&(i=0),r=0;r<i;++r)e.charCodeAt(r)>=128&&O("not-basic"),v.push(e.charCodeAt(r));for(s=i>0?i+1:0;s<b;){for(n=w,a=1,o=d;;o+=d){if(s>=b&&O("invalid-input"),l=E(e.charCodeAt(s++)),(l>=d||l>k((c-w)/a))&&O("overflow"),w+=l*a,f=o<=_?h:o>=_+u?u:o-_,l<f)break;y=d-f,a>k(c/y)&&O("overflow"),a*=y}t=v.length+1,_=N(w-n,t,0==n),k(w/t)>c-S&&O("overflow"),S+=k(w/t),w%=t,v.splice(w++,0,S)}return x(v)}function P(e){var t,i,r,s,n,a,o,l,f,y,v,b,w,S,T,C=[];for(e=I(e),b=e.length,t=m,i=0,n=p,a=0;a<b;++a)v=e[a],v<128&&C.push(_(v));r=s=C.length,s&&C.push(g);while(r<b){for(o=c,a=0;a<b;++a)v=e[a],v>=t&&v<o&&(o=v);for(w=r+1,o-t>k((c-i)/w)&&O("overflow"),i+=(o-t)*w,t=o,a=0;a<b;++a)if(v=e[a],v<t&&++i>c&&O("overflow"),v==t){for(l=i,f=d;;f+=d){if(y=f<=n?h:f>=n+u?u:f-n,l<y)break;T=l-y,S=d-y,C.push(_(A(y+T%S,0))),l=k(T/S)}C.push(_(A(l,0))),n=N(i,w,r==s),i=0,++r}++i,++t}return C.join("")}function B(e){return C(e,(function(e){return y.test(e)?M(e.slice(4).toLowerCase()):e}))}function R(e){return C(e,(function(e){return v.test(e)?"xn--"+P(e):e}))}o={version:"1.4.1",ucs2:{decode:I,encode:x},decode:M,encode:P,toASCII:R,toUnicode:B},s=function(){return o}.call(t,i,t,e),void 0===s||(e.exports=s)})()}).call(this,i("62e4")(e),i("c8ba"))},"19aa":function(e,t){e.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}},"19e9":function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,AuthenticationError:n,ExchangeError:a,ExchangeNotAvailable:o,OrderNotFound:c,InvalidOrder:d,CancelPending:h,RateLimitExceeded:u,InsufficientFunds:l,BadRequest:f,BadSymbol:p,PermissionDenied:m}=i("74b0"),{TICK_SIZE:g}=i("5ea4"),y=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"aax",name:"AAX",countries:["MT"],enableRateLimit:!0,rateLimit:500,version:"v2",hostname:"aaxpro.com",certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","12h":"12h","1d":"1d","3d":"3d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/104140087-a27f2580-53c0-11eb-87c1-5d9e81208fe9.jpg",test:{v1:"https://api.testnet.{hostname}/marketdata/v1",public:"https://api.testnet.{hostname}",private:"https://api.testnet.{hostname}"},api:{v1:"https://api.{hostname}/marketdata/v1",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.aaxpro.com",doc:"https://www.aaxpro.com/apidoc/index.html",fees:"https://www.aaxpro.com/en-US/fees/",referral:"https://www.aaxpro.com/invite/sign-up?inviteCode=JXGm5Fy7R2MB"},api:{v1:{get:["getHistMarketData"]},public:{get:["currencies","announcement/maintenance","instruments","market/orderbook","futures/position/openInterest","market/tickers","market/candles","market/history/candles","market/trades","market/markPrice","futures/funding/predictedFunding/{symbol}","futures/funding/prevFundingRate/{symbol}","market/candles/index"]},private:{get:["user/info","account/balances","account/deposit/address","spot/trades","spot/openOrders","spot/orders","futures/position","futures/position/closed","futures/trades","futures/openOrders","futures/orders","futures/funding/predictedFundingFee/{symbol}"],post:["account/transfer","spot/orders","spot/orders/cancelAllOnTimeout","futures/orders","futures/orders/cancelAllOnTimeout","futures/position/sltp","futures/position/close","futures/position/leverage","futures/position/margin"],put:["spot/orders","futures/orders"],delete:["spot/orders/cancel/{orderID}","spot/orders/cancel/all","futures/orders/cancel/{orderID}","futures/orders/cancel/all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:6e-4,taker:.001},funding:{tierBased:!1,percentage:!0,withdraw:{}}},commonCurrencies:{XBT:"XBT"},exceptions:{exact:{2002:l,2003:c,10003:f,10006:n,10007:n,11007:n,20001:l,20009:d,3e4:c,30001:d,30004:d,30005:d,30006:d,30007:d,30008:d,30009:d,30010:d,30011:h,30012:f,30013:p,30014:c,30015:d,30016:a,30017:d,30018:d,30019:d,30020:d,30021:d,30022:d,30023:d,30024:d,30025:d,30026:d,30027:d,30028:p,30029:d,30030:d,30031:d,30032:d,30033:d,30034:u,30035:u,30036:o,30037:d,30038:a,30039:l,30040:d,30041:d,30042:d,30043:d,30044:f,30045:d,30046:d,30047:d,30048:d,30049:d,30050:d,40004:f,40009:u,40102:n,40103:n,40303:m,41001:f,41002:f,42001:o,50001:a,50002:a},broad:{}},precisionMode:g,options:{defaultType:"spot",types:{spot:"SPTP",future:"FUTP",otc:"F2CP",saving:"VLTP"},accounts:{SPTP:"spot",FUTP:"future",F2CP:"otc",VLTP:"saving"}}})}async fetchStatus(e={}){const t=await this.publicGetAnnouncementMaintenance(e),i=this.safeValue(t,"data",{}),r=this.milliseconds(),s=this.parse8601(this.safeString(i,"startTime")),n=this.parse8601(this.safeString(i,"endTime")),a={updated:this.safeInteger(t,"ts",r)};if(void 0!==n){const e=void 0===s||r<s,t=r>n||e;a["eta"]=n,a["status"]=t?"ok":"maintenance"}return this.status=this.extend(this.status,a),this.status}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=this.safeString(e,"base"),a=this.safeString(e,"quote"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=this.safeString(e,"status"),h="enable"===d,u=this.safeNumber(e,"takerFee"),l=this.safeNumber(e,"makerFee"),f=this.safeString(e,"type");let p=void 0,m=void 0,g=void 0;const y="spot"===f,v="futures"===f,b=this.safeStringLower(e,"settleType");void 0!==b&&(p="inverse"===b,m="vanilla"===b,g="quanto"===b);let w=t;"spot"===f&&(w=o+"/"+c);const S={amount:this.safeNumber(e,"lotSize"),price:this.safeNumber(e,"tickSize")};r.push({id:t,symbol:w,base:o,quote:c,baseId:n,quoteId:a,type:f,spot:y,futures:v,inverse:p,linear:m,quanto:g,precision:S,info:e,active:h,taker:u,maker:l,percentage:!1,tierBased:!0,limits:{amount:{min:this.safeString(e,"minQuantity"),max:this.safeString(e,"maxQuantity")},price:{min:this.safeString(e,"minPrice"),max:this.safeString(e,"maxPrice")},cost:{min:void 0,max:void 0}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"chain"),n=this.safeString(e,"displayName"),a=this.safeCurrencyCode(t),o=this.safeNumber(e,"withdrawPrecision"),c=this.safeValue(e,"enableWithdraw"),d=this.safeValue(e,"enableDeposit"),h=this.safeNumber(e,"withdrawFee"),u=this.safeValue(e,"visible"),l=c&&d&&u,f=this.safeString(e,"network");i[a]={id:t,name:n,code:a,precision:o,info:e,active:l,fee:h,network:f,limits:{deposit:{min:this.safeNumber(e,"depositMin"),max:void 0},withdraw:{min:this.safeNumber(e,"withdrawMin"),max:void 0}}}}return i}parseTicker(e,t){const i=this.safeInteger(e,"t"),r=this.safeString(e,"s"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"c"),a=this.safeNumber(e,"o");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(o=n-a,a>0&&(c=o/a*100),d=this.sum(n,a)/2);const h=this.safeNumber(e,"v");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"h"),low:this.safeNumber(e,"l"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:void 0,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),r=this.safeValue(i,"tickers",[]),s=[],n=this.safeInteger(i,"t");for(let a=0;a<r.length;a++){const e=this.parseTicker(this.extend(r[a],{t:n}));s.push(e)}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);if(void 0===t)t=20;else if(20!==t&&50!==t)throw new f(this.id+" fetchOrderBook() limit argument must be undefined, 20 or 50");const s={symbol:r["id"],level:t},n=await this.publicGetMarketOrderbook(this.extend(s,i)),a=this.safeInteger(n,"t");return this.parseOrderBook(n,e,a)}parseTrade(e,t){let i=this.safeInteger(e,"t");void 0===i&&(i=this.parse8601(this.safeString(e,"createTime")));const r=this.safeString2(e,"tid","tradeID");let s=void 0;const n=this.safeString(e,"symbol");t=this.safeMarket(n,t),void 0!==t&&(s=t["symbol"]);let a=this.safeString2(e,"p","filledPrice");const o=this.safeString2(e,"q","filledQty"),c=this.safeString(e,"orderID"),d=this.safeValue(e,"taker");let h=void 0;void 0!==d&&(h=d?"taker":"maker");let u=this.safeString(e,"side");"1"===u?u="buy":"2"===u&&(u="sell"),void 0===u&&(u="-"===a[0]?"sell":"buy"),a=y.stringAbs(a);const l=this.parseNumber(a),f=this.parseNumber(o),p=this.parseNumber(y.stringMul(a,o)),m=this.parseOrderType(this.safeString(e,"orderType"));let g=void 0;const v=this.safeNumber(e,"commission");if(void 0!==v){let e=void 0;void 0!==t&&("buy"===u?e=t["base"]:"sell"===u&&(e=t["quote"])),g={currency:e,cost:v}}return{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:s,type:m,side:u,order:c,takerOrMaker:h,price:l,amount:f,cost:p,fee:g}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);i=void 0===i?2e3:i,i=Math.min(i,2e3);const n={symbol:s["id"],limit:i},a=await this.publicGetMarketTrades(n),o=this.safeValue(a,"trades",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,5),this.safeNumber(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4)]}async fetchOHLCV(e,t="1h",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],timeFrame:this.timeframes[t]};r=void 0===r?500:r;const o=this.parseTimeframe(t);if(void 0===i){const e=this.seconds();a["start"]=e-o*r,a["end"]=e}else{const e=parseInt(i/1e3);a["start"]=e,a["end"]=this.sum(e,o*r)}const c=await this.publicGetMarketHistoryCandles(this.extend(a,s)),d=this.safeValue(c,"data",[]);return this.parseOHLCVs(d,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t),r=this.safeValue(this.options,"types",{}),s=this.safeString(r,i,i),n={purseType:s};e=this.omit(e,"type");const a=await this.privateGetAccountBalances(this.extend(n,e)),o=this.safeValue(a,"data"),c=this.safeInteger(a,"ts"),d={info:a,timestamp:c,datetime:this.iso8601(c)};for(let h=0;h<o.length;h++){const e=o[h],t=this.safeString(e,"purseType");if(t===s){const t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r["free"]=this.safeString(e,"available"),r["used"]=this.safeString(e,"unavailable"),d[i]=r}}return this.parseBalance(d,!1)}async createOrder(e,t,i,r,n,a={}){let o=t.toUpperCase();const c=i.toUpperCase();await this.loadMarkets();const d=this.market(e),h={symbol:d["id"],orderQty:this.amountToPrecision(e,r),side:c},u=this.safeString(a,"timeInForce");void 0!==u&&(h["timeInForce"]=u,a=this.omit(a,"timeInForce"));const l=this.safeString2(a,"clOrdID","clientOrderId");void 0!==l&&(h["clOrdID"]=l,a=this.omit(a,["clOrdID","clientOrderId"]));const f=this.safeNumber(a,"stopPrice");if(void 0===f){if("STOP-LIMIT"===o||"STOP"===o)throw new s(this.id+" createOrder() requires a stopPrice parameter for "+o+" orders")}else"LIMIT"===o?o="STOP-LIMIT":"MARKET"===o&&(o="STOP"),h["stopPrice"]=this.priceToPrecision(e,f),a=this.omit(a,"stopPrice");"LIMIT"!==o&&"STOP-LIMIT"!==o||(h["price"]=this.priceToPrecision(e,n)),h["orderType"]=o;let p=void 0;d["spot"]?p="privatePostSpotOrders":d["futures"]&&(p="privatePostFuturesOrders");const m=await this[p](this.extend(h,a)),g=this.safeValue(m,"data",{});return this.parseOrder(g,d)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o=this.market(t),c={orderID:e},d=this.safeNumber(a,"stopPrice");void 0!==d&&(c["stopPrice"]=this.priceToPrecision(t,d),a=this.omit(a,"stopPrice")),void 0!==n&&(c["price"]=this.priceToPrecision(t,n)),void 0!==s&&(c["orderQty"]=this.amountToPrecision(t,s));let h=void 0;o["spot"]?h="privatePutSpotOrders":o["futures"]&&(h="privatePutFuturesOrders");const u=await this[h](this.extend(c,a)),l=this.safeValue(u,"data",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderID:e};let s=void 0;const n=this.safeString2(this.options,"cancelOrder","defaultType","spot");let a=this.safeString(i,"type",n);i=this.omit(i,"type");let o=void 0;void 0!==t&&(o=this.market(t),a=o["type"]),"spot"===a?s="privateDeleteSpotOrdersCancelOrderID":"futures"===a&&(s="privateDeleteFuturesOrdersCancelOrderID");const c=await this[s](this.extend(r,i)),d=this.safeValue(c,"data",{});return this.parseOrder(d,o)}async cancelAllOrders(e,t={}){if(void 0===e)throw new s(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]};let n=void 0;i["spot"]?n="privateDeleteSpotOrdersCancelAll":i["futures"]&&(n="privateDeleteFuturesOrdersCancelAll");const a=await this[n](this.extend(r,t));return a}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString2(this.options,"fetchOrder","defaultType","spot");i["type"]=this.safeString(i,"type",r);const s={},n=this.safeString2(i,"clOrdID","clientOrderId");void 0===n?s["orderID"]=e:(s["clOrdID"]=n,i=this.omit(i,["clOrdID","clientOrderId"]));const a=await this.fetchOrders(t,void 0,void 0,this.extend(s,i)),o=this.safeValue(a,0);if(void 0===o)throw new c(void 0===n?this.id+" fetchOrder() could not find order id "+e:this.id+" fetchOrder() could not find order clientOrderID "+n);return o}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={},n=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");let a=this.safeString(r,"type",n);r=this.omit(r,"type");let o=void 0;void 0!==e&&(o=this.market(e),s["symbol"]=o["id"],a=o["type"]);const c=this.safeString2(r,"clOrdID","clientOrderId");void 0!==c&&(s["clOrdID"]=c,r=this.omit(r,["clOrdID","clientOrderId"]));let d=void 0;"spot"===a?d="privateGetSpotOpenOrders":"futures"===a&&(d="privateGetFuturesOpenOrders"),void 0!==i&&(s["pageSize"]=i);const h=await this[d](this.extend(s,r)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"list",[]);return this.parseOrders(l,o,t,i)}async fetchClosedOrders(e,t,i,r={}){const s={orderStatus:"2"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchCanceledOrders(e,t,i,r={}){const s={orderStatus:"3"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;const a=this.safeString2(this.options,"fetchOrders","defaultType","spot");let o=this.safeString(r,"type",a);r=this.omit(r,"type");let c=void 0;void 0!==e&&(c=this.market(e),s["symbol"]=c["id"],o=c["type"]),"spot"===o?n="privateGetSpotOrders":"futures"===o&&(n="privateGetFuturesOrders");const d=this.safeString2(r,"clOrdID","clientOrderId");void 0!==d&&(s["clOrdID"]=d,r=this.omit(r,["clOrdID","clientOrderId"])),void 0!==i&&(s["pageSize"]=i),void 0!==t&&(s["startDate"]=this.ymd(t));const h=await this[n](this.extend(s,r)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"list",[]);return this.parseOrders(l,c,t,i)}parseOrderStatus(e){const t={0:"open",1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"rejected",10:"expired",11:"rejected"};return this.safeString(t,e,e)}parseOrderType(e){const t={1:"market",2:"limit",3:"stop",4:"stop-limit",7:"stop-loss",8:"take-profit"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={1:"GTC",3:"IOC",4:"FOK"};return this.safeString(t,e,e)}parseOrder(e,t){let i=this.safeValue(e,"createTime");"string"===typeof i&&(i=this.parse8601(i));const r=this.parseOrderStatus(this.safeString(e,"orderStatus")),s=this.parseOrderType(this.safeString(e,"orderType"));let n=this.safeString(e,"side");"1"===n?n="buy":"2"===n&&(n="sell");const a=this.safeString(e,"orderID"),o=this.safeString(e,"clOrdID"),c=this.safeString(e,"symbol");t=this.safeMarket(c,t);const d=t["symbol"],h=this.safeNumber(e,"price"),u=this.safeNumber(e,"stopPrice"),l=this.parseTimeInForce(this.safeString(e,"timeInForce")),f=this.safeString(e,"execInst"),p="Post-Only"===f,m=this.safeNumber(e,"avgPrice"),g=this.safeNumber(e,"orderQty"),y=this.safeNumber(e,"cumQty");let v=this.safeNumber(e,"leavesQty");0===y&&0===v&&(v=void 0);let b=this.safeValue(e,"transactTime");"string"===typeof b&&(b=this.parse8601(b));let w=void 0;const S=this.safeNumber(e,"commission");if(void 0!==S){let e=void 0;void 0!==t&&("buy"===n?e=t["base"]:"sell"===n&&(e=t["quote"])),w={currency:e,cost:S}}return this.safeOrder({id:a,info:e,clientOrderId:o,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:b,status:r,symbol:d,type:s,timeInForce:l,postOnly:p,side:n,price:h,stopPrice:u,average:m,amount:g,filled:y,remaining:v,cost:void 0,trades:void 0,fee:w})}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;const a=this.safeString2(this.options,"fetchMyTrades","defaultType","spot");let o=this.safeString(r,"type",a);r=this.omit(r,"type");let c=void 0;void 0!==e&&(c=this.market(e),s["symbol"]=c["id"],o=c["type"]),"spot"===o?n="privateGetSpotTrades":"futures"===o&&(n="privateGetFuturesTrades"),void 0!==i&&(s["pageSize"]=i),void 0!==t&&(s["startDate"]=this.ymd(t));const d=await this[n](this.extend(s,r)),h=this.safeValue(d,"data",{}),u=this.safeValue(h,"list",[]);return this.parseTrades(u,c,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetAccountDepositAddress(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseDepositAddress(n,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"tag"),s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s);return{info:e,code:n,address:i,tag:r}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("v1"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if(a="/"+this.version+a,"public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();s={"X-ACCESS-KEY":this.apiKey,"X-ACCESS-NONCE":e};let t=e+":"+i;"GET"===i?(Object.keys(o).length&&(a+="?"+this.urlencode(o)),t+=a):(s["Content-Type"]="application/json",n=this.json(o),t+=a+n);const r=this.hmac(this.encode(t),this.encode(this.secret));s["X-ACCESS-SIGN"]=r}return a=this.implodeHostname(this.urls["api"][t])+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,c){if(void 0===a)return;const d=this.safeString(a,"code");if(void 0!==d&&"1"!==d){const e=this.id+" "+this.json(a);this.throwExactlyMatchedException(this.exceptions["exact"],d,e),this.throwBroadlyMatchedException(this.exceptions["broad"],n,e)}}}},"1ae3":function(e,t,i){var r=i("5259");i("3609"),i("6497");var s=e.exports=r.pss=r.pss||{};s.create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,i=e.md,s=e.mgf,n=i.digestLength,a=e.salt||null;if("string"===typeof a&&(a=r.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||r.random,c={encode:function(e,c){var d,h,u=c-1,l=Math.ceil(u/8),f=e.digest().getBytes();if(l<n+t+2)throw new Error("Message is too long to encrypt.");h=null===a?o.getBytesSync(t):a.bytes();var p=new r.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(f),p.putBytes(h),i.start(),i.update(p.getBytes());var m=i.digest().getBytes(),g=new r.util.ByteBuffer;g.fillWithByte(0,l-t-n-2),g.putByte(1),g.putBytes(h);var y=g.getBytes(),v=l-n-1,b=s.generate(m,v),w="";for(d=0;d<v;d++)w+=String.fromCharCode(y.charCodeAt(d)^b.charCodeAt(d));var S=65280>>8*l-u&255;return w=String.fromCharCode(w.charCodeAt(0)&~S)+w.substr(1),w+m+String.fromCharCode(188)},verify:function(e,a,o){var c,d=o-1,h=Math.ceil(d/8);if(a=a.substr(-h),h<n+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(h-1))throw new Error("Encoded message does not end in 0xBC.");var u=h-n-1,l=a.substr(0,u),f=a.substr(u,n),p=65280>>8*h-d&255;if(0!==(l.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var m=s.generate(f,u),g="";for(c=0;c<u;c++)g+=String.fromCharCode(l.charCodeAt(c)^m.charCodeAt(c));g=String.fromCharCode(g.charCodeAt(0)&~p)+g.substr(1);var y=h-n-t-2;for(c=0;c<y;c++)if(0!==g.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-t),b=new r.util.ByteBuffer;b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),i.start(),i.update(b.getBytes());var w=i.digest().getBytes();return f===w}};return c}},"1b2c":function(e,t,i){},"1be4":function(e,t,i){var r=i("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c55":function(e,t,i){(function(r,s){var n;
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(){"use strict";var a="input is invalid type",o="finalize already called",c="object"===typeof window,d=c?window:{};d.JS_SHA3_NO_WINDOW&&(c=!1);var h=!c&&"object"===typeof self,u=!d.JS_SHA3_NO_NODE_JS&&"object"===typeof r&&r.versions&&r.versions.node;u?d=s:h&&(d=self);var l=!d.JS_SHA3_NO_COMMON_JS&&"object"===typeof e&&e.exports,f=i("3c35"),p=!d.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,m="0123456789abcdef".split(""),g=[31,7936,2031616,520093696],y=[4,1024,262144,67108864],v=[1,256,65536,16777216],b=[6,1536,393216,100663296],w=[0,8,16,24],S=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],_=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],T={128:168,256:136};!d.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!p||!d.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var C=function(e,t,i){return function(r){return new H(e,t,e).update(r)[i]()}},I=function(e,t,i){return function(r,s){return new H(e,t,s).update(r)[i]()}},x=function(e,t,i){return function(t,r,s,n){return D["cshake"+e].update(t,r,s,n)[i]()}},E=function(e,t,i){return function(t,r,s,n){return D["kmac"+e].update(t,r,s,n)[i]()}},A=function(e,t,i,r){for(var s=0;s<O.length;++s){var n=O[s];e[n]=t(i,r,n)}return e},N=function(e,t){var i=C(e,t,"hex");return i.create=function(){return new H(e,t,e)},i.update=function(e){return i.create().update(e)},A(i,C,e,t)},M=function(e,t){var i=I(e,t,"hex");return i.create=function(i){return new H(e,t,i)},i.update=function(e,t){return i.create(t).update(e)},A(i,I,e,t)},P=function(e,t){var i=T[e],r=x(e,t,"hex");return r.create=function(r,s,n){return s||n?new H(e,t,r).bytepad([s,n],i):D["shake"+e].create(r)},r.update=function(e,t,i,s){return r.create(t,i,s).update(e)},A(r,x,e,t)},B=function(e,t){var i=T[e],r=E(e,t,"hex");return r.create=function(r,s,n){return new z(e,t,s).bytepad(["KMAC",n],i).bytepad([r],i)},r.update=function(e,t,i,s){return r.create(e,i,s).update(t)},A(r,E,e,t)},R=[{name:"keccak",padding:v,bits:k,createMethod:N},{name:"sha3",padding:b,bits:k,createMethod:N},{name:"shake",padding:g,bits:_,createMethod:M},{name:"cshake",padding:y,bits:_,createMethod:P},{name:"kmac",padding:y,bits:_,createMethod:B}],D={},L=[],V=0;V<R.length;++V)for(var j=R[V],q=j.bits,U=0;U<q.length;++U){var G=j.name+"_"+q[U];if(L.push(G),D[G]=j.createMethod(q[U],j.padding),"sha3"!==j.name){var F=j.name+q[U];L.push(F),D[F]=D[G]}}function H(e,t,i){this.blocks=[],this.s=[],this.padding=t,this.outputBits=i,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var r=0;r<50;++r)this.s[r]=0}function z(e,t,i){H.call(this,e,t,i)}H.prototype.update=function(e){if(this.finalized)throw new Error(o);var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(a);if(null===e)throw new Error(a);if(p&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!p||!ArrayBuffer.isView(e)))throw new Error(a);t=!0}var r,s,n=this.blocks,c=this.byteCount,d=e.length,h=this.blockCount,u=0,l=this.s;while(u<d){if(this.reset)for(this.reset=!1,n[0]=this.block,r=1;r<h+1;++r)n[r]=0;if(t)for(r=this.start;u<d&&r<c;++u)n[r>>2]|=e[u]<<w[3&r++];else for(r=this.start;u<d&&r<c;++u)s=e.charCodeAt(u),s<128?n[r>>2]|=s<<w[3&r++]:s<2048?(n[r>>2]|=(192|s>>6)<<w[3&r++],n[r>>2]|=(128|63&s)<<w[3&r++]):s<55296||s>=57344?(n[r>>2]|=(224|s>>12)<<w[3&r++],n[r>>2]|=(128|s>>6&63)<<w[3&r++],n[r>>2]|=(128|63&s)<<w[3&r++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++u)),n[r>>2]|=(240|s>>18)<<w[3&r++],n[r>>2]|=(128|s>>12&63)<<w[3&r++],n[r>>2]|=(128|s>>6&63)<<w[3&r++],n[r>>2]|=(128|63&s)<<w[3&r++]);if(this.lastByteIndex=r,r>=c){for(this.start=r-c,this.block=n[h],r=0;r<h;++r)l[r]^=n[r];K(l),this.reset=!0}else this.start=r}return this},H.prototype.encode=function(e,t){var i=255&e,r=1,s=[i];e>>=8,i=255&e;while(i>0)s.unshift(i),e>>=8,i=255&e,++r;return t?s.push(r):s.unshift(r),this.update(s),s.length},H.prototype.encodeString=function(e){var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(a);if(null===e)throw new Error(a);if(p&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!p||!ArrayBuffer.isView(e)))throw new Error(a);t=!0}var r=0,s=e.length;if(t)r=s;else for(var n=0;n<e.length;++n){var o=e.charCodeAt(n);o<128?r+=1:o<2048?r+=2:o<55296||o>=57344?r+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),r+=4)}return r+=this.encode(8*r),this.update(e),r},H.prototype.bytepad=function(e,t){for(var i=this.encode(t),r=0;r<e.length;++r)i+=this.encodeString(e[r]);var s=t-i%t,n=[];return n.length=s,this.update(n),this},H.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[i],t=1;t<i+1;++t)e[t]=0;for(e[i-1]|=2147483648,t=0;t<i;++t)r[t]^=e[t];K(r)}},H.prototype.toString=H.prototype.hex=function(){this.finalize();var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,n=0,a=0,o="";while(a<r){for(n=0;n<t&&a<r;++n,++a)e=i[n],o+=m[e>>4&15]+m[15&e]+m[e>>12&15]+m[e>>8&15]+m[e>>20&15]+m[e>>16&15]+m[e>>28&15]+m[e>>24&15];a%t===0&&(K(i),n=0)}return s&&(e=i[n],o+=m[e>>4&15]+m[15&e],s>1&&(o+=m[e>>12&15]+m[e>>8&15]),s>2&&(o+=m[e>>20&15]+m[e>>16&15])),o},H.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,n=0,a=0,o=this.outputBits>>3;e=s?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);var c=new Uint32Array(e);while(a<r){for(n=0;n<t&&a<r;++n,++a)c[a]=i[n];a%t===0&&K(i)}return s&&(c[n]=i[n],e=e.slice(0,o)),e},H.prototype.buffer=H.prototype.arrayBuffer,H.prototype.digest=H.prototype.array=function(){this.finalize();var e,t,i=this.blockCount,r=this.s,s=this.outputBlocks,n=this.extraBytes,a=0,o=0,c=[];while(o<s){for(a=0;a<i&&o<s;++a,++o)e=o<<2,t=r[a],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%i===0&&K(r)}return n&&(e=o<<2,t=r[a],c[e]=255&t,n>1&&(c[e+1]=t>>8&255),n>2&&(c[e+2]=t>>16&255)),c},z.prototype=new H,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),H.prototype.finalize.call(this)};var K=function(e){var t,i,r,s,n,a,o,c,d,h,u,l,f,p,m,g,y,v,b,w,k,_,O,T,C,I,x,E,A,N,M,P,B,R,D,L,V,j,q,U,G,F,H,z,K,W,$,Y,X,Q,Z,J,ee,te,ie,re,se,ne,ae,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],t=l^(a<<1|o>>>31),i=f^(o<<1|a>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(c<<1|d>>>31),i=n^(d<<1|c>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=a^(h<<1|u>>>31),i=o^(u<<1|h>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=c^(l<<1|f>>>31),i=d^(f<<1|l>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=h^(s<<1|n>>>31),i=u^(n<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,p=e[0],m=e[1],W=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,V=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,C=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,j=e[26]<<25|e[27]>>>7,q=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,k=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,ne=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,O=e[49]<<14|e[48]>>>18,e[0]=p^~g&v,e[1]=m^~y&b,e[10]=T^~I&E,e[11]=C^~x&A,e[20]=R^~L&j,e[21]=D^~V&q,e[30]=z^~W&Y,e[31]=K^~$&X,e[40]=te^~re&ne,e[41]=ie^~se&ae,e[2]=g^~v&w,e[3]=y^~b&k,e[12]=I^~E&N,e[13]=x^~A&M,e[22]=L^~j&U,e[23]=V^~q&G,e[32]=W^~Y&Q,e[33]=$^~X&Z,e[42]=re^~ne&oe,e[43]=se^~ae&ce,e[4]=v^~w&_,e[5]=b^~k&O,e[14]=E^~N&P,e[15]=A^~M&B,e[24]=j^~U&F,e[25]=q^~G&H,e[34]=Y^~Q&J,e[35]=X^~Z&ee,e[44]=ne^~oe&de,e[45]=ae^~ce&he,e[6]=w^~_&p,e[7]=k^~O&m,e[16]=N^~P&T,e[17]=M^~B&C,e[26]=U^~F&R,e[27]=G^~H&D,e[36]=Q^~J&z,e[37]=Z^~ee&K,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=_^~p&g,e[9]=O^~m&y,e[18]=P^~T&I,e[19]=B^~C&x,e[28]=F^~R&L,e[29]=H^~D&V,e[38]=J^~z&W,e[39]=ee^~K&$,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=S[r],e[1]^=S[r+1]};if(l)e.exports=D;else{for(V=0;V<L.length;++V)d[L[V]]=D[L[V]];f&&(n=function(){return D}.call(t,i,t,e),void 0===n||(e.exports=n))}})()}).call(this,i("4362"),i("c8ba"))},"1c7e":function(e,t,i){var r=i("b622"),s=r("iterator"),n=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){n=!0}};o[s]=function(){return this},Array.from(o,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!n)return!1;var i=!1;try{var r={};r[s]=function(){return{next:function(){return{done:i=!0}}}},e(r)}catch(c){}return i}},"1c87":function(e,t,i){"use strict";var r=i("ade3"),s=i("5530"),n=(i("9911"),i("498a"),i("99af"),i("ac1f"),i("5319"),i("2b0e")),a=i("5607"),o=i("80d2");t["a"]=n["a"].extend({name:"routable",directives:{Ripple:a["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:function(){return{isActive:!1,proxyClass:""}},computed:{classes:function(){var e={};return this.to||(this.activeClass&&(e[this.activeClass]=this.isActive),this.proxyClass&&(e[this.proxyClass]=this.isActive)),e},computedRipple:function(){var e;return null!=(e=this.ripple)?e:!this.disabled&&this.isClickable},isClickable:function(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink:function(){return this.to||this.href||this.link},styles:function(){return{}}},watch:{$route:"onRouteChange"},methods:{click:function(e){this.$emit("click",e)},generateRouteLink:function(){var e,t,i=this.exact,n=(e={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}]},Object(r["a"])(e,this.to?"nativeOn":"on",Object(s["a"])(Object(s["a"])({},this.$listeners),{},{click:this.click})),Object(r["a"])(e,"ref","link"),e);if("undefined"===typeof this.exact&&(i="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var a=this.activeClass,o=this.exactActiveClass||a;this.proxyClass&&(a="".concat(a," ").concat(this.proxyClass).trim(),o="".concat(o," ").concat(this.proxyClass).trim()),t=this.nuxt?"nuxt-link":"router-link",Object.assign(n.props,{to:this.to,exact:i,exactPath:this.exactPath,activeClass:a,exactActiveClass:o,append:this.append,replace:this.replace})}else t=(this.href?"a":this.tag)||"div","a"===t&&this.href&&(n.attrs.href=this.href);return this.target&&(n.attrs.target=this.target),{tag:t,data:n}},onRouteChange:function(){var e=this;if(this.to&&this.$refs.link&&this.$route){var t="".concat(this.activeClass," ").concat(this.proxyClass||"").trim(),i="_vnode.data.class.".concat(t);this.$nextTick((function(){Object(o["p"])(e.$refs.link,i)&&e.toggle()}))}},toggle:function(){}}})},"1cdc":function(e,t,i){var r=i("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},"1d2b":function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return e.apply(t,i)}}},"1d47":function(e,t,i){(function(t){var r=i("cceb").Ber,s=i("4ab0")._,n="1.2.840.113549.1.1.1",a=i("4ab0");const o="-----BEGIN PRIVATE KEY-----",c="-----END PRIVATE KEY-----",d="-----BEGIN PUBLIC KEY-----",h="-----END PUBLIC KEY-----";e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=e.d.toBuffer(),d=e.p.toBuffer(),h=e.q.toBuffer(),u=e.dmp1.toBuffer(),l=e.dmq1.toBuffer(),f=e.coeff.toBuffer(),p=i.length+s.length+d.length+h.length+u.length+l.length+f.length+512,m=new r.Writer({size:p});m.startSequence(),m.writeInt(0),m.writeBuffer(i,2),m.writeInt(e.e),m.writeBuffer(s,2),m.writeBuffer(d,2),m.writeBuffer(h,2),m.writeBuffer(u,2),m.writeBuffer(l,2),m.writeBuffer(f,2),m.endSequence();var g=new r.Writer({size:p});return g.startSequence(),g.writeInt(0),g.startSequence(),g.writeOID(n),g.writeNull(),g.endSequence(),g.writeBuffer(m.buffer,4),g.endSequence(),"der"===t.type?g.buffer:o+"\n"+a.linebrk(g.buffer.toString("base64"),64)+"\n"+c},privateImport:function(e,i,d){var h;if(d=d||{},"der"!==d.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),!s.isString(i))throw Error("Unsupported key format");var u=a.trimSurroundingText(i,o,c).replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");h=t.from(u,"base64")}else{if(!t.isBuffer(i))throw Error("Unsupported key format");h=i}var l=new r.Reader(h);l.readSequence(),l.readInt(0);var f=new r.Reader(l.readString(48,!0));if(f.readOID(6,!0)!==n)throw Error("Invalid Public key format");var p=new r.Reader(l.readString(4,!0));p.readSequence(),p.readString(2,!0),e.setPrivate(p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=i.length+512,o=new r.Writer({size:s});o.writeByte(0),o.startSequence(),o.writeBuffer(i,2),o.writeInt(e.e),o.endSequence();var c=new r.Writer({size:s});return c.startSequence(),c.startSequence(),c.writeOID(n),c.writeNull(),c.endSequence(),c.writeBuffer(o.buffer,3),c.endSequence(),"der"===t.type?c.buffer:d+"\n"+a.linebrk(c.buffer.toString("base64"),64)+"\n"+h},publicImport:function(e,i,o){var c;if(o=o||{},"der"!==o.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),s.isString(i)){var u=a.trimSurroundingText(i,d,h).replace(/\s+|\n\r|\n|\r$/gm,"");c=t.from(u,"base64")}}else{if(!t.isBuffer(i))throw Error("Unsupported key format");c=i}var l=new r.Reader(c);l.readSequence();var f=new r.Reader(l.readString(48,!0));if(f.readOID(6,!0)!==n)throw Error("Invalid Public key format");var p=new r.Reader(l.readString(3,!0));p.readByte(),p.readSequence(),e.setPublic(p.readString(2,!0),p.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}}).call(this,i("b639").Buffer)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("d3b7");function r(e,t,i,r,s,n,a){try{var o=e[n](a),c=o.value}catch(d){return void i(d)}o.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,i=arguments;return new Promise((function(s,n){var a=e.apply(t,i);function o(e){r(a,s,n,o,c,"next",e)}function c(e){r(a,s,n,o,c,"throw",e)}o(void 0)}))}}},"1dde":function(e,t,i){var r=i("d039"),s=i("b622"),n=i("2d00"),a=s("species");e.exports=function(e){return n>=51||!r((function(){var t=[],i=t.constructor={};return i[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1ea0":function(e,t,i){(function(t){var r,s=i("4ab0")._;function n(e,i){null!=e&&("number"==typeof e?this.fromNumber(e,i):t.isBuffer(e)?this.fromBuffer(e):null==i&&"string"!=typeof e?this.fromByteArray(e):this.fromString(e,i))}function a(){return new n(null)}function o(e,t,i,r,s,n){var a=16383&t,o=t>>14;while(--n>=0){var c=16383&this[e],d=this[e++]>>14,h=o*c+d*a;c=a*c+((16383&h)<<14)+i[r]+s,s=(c>>28)+(h>>14)+o*d,i[r++]=268435455&c}return s}n.prototype.am=o,r=28,n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r;var c=52;n.prototype.FV=Math.pow(2,c),n.prototype.F1=c-r,n.prototype.F2=2*r-c;var d,h,u="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array;for(d="0".charCodeAt(0),h=0;h<=9;++h)l[d++]=h;for(d="a".charCodeAt(0),h=10;h<36;++h)l[d++]=h;for(d="A".charCodeAt(0),h=10;h<36;++h)l[d++]=h;function f(e){return u.charAt(e)}function p(e,t){var i=l[e.charCodeAt(t)];return null==i?-1:i}function m(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function g(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function y(e){var t=a();return t.fromInt(e),t}function v(e,t,i){var r;switch(t){case 2:r=1;break;case 4:r=2;break;case 8:r=3;break;case 16:r=4;break;case 32:r=5;break;case 256:r=8;break;default:return void this.fromRadix(e,t)}this.t=0,this.s=0;var s=e.length,a=!1,o=0;while(--s>=0){var c=8==r?255&e[s]:p(e,s);c<0?"-"==e.charAt(s)&&(a=!0):(a=!1,0===o?this[this.t++]=c:o+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,o+=r,o>=this.DB&&(o-=this.DB))}i||8!=r||0==(128&e[0])||(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&n.ZERO.subTo(this,this)}function b(e,t){this.fromString(e,256,t)}function w(e){this.fromString(e,256,!0)}function S(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t}function k(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,r=(1<<t)-1,s=!1,n="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0){o<this.DB&&(i=this[a]>>o)>0&&(s=!0,n=f(i));while(a>=0)o<t?(i=(this[a]&(1<<o)-1)<<t-o,i|=this[--a]>>(o+=this.DB-t)):(i=this[a]>>(o-=t)&r,o<=0&&(o+=this.DB,--a)),i>0&&(s=!0),s&&(n+=f(i))}return s?n:"0"}function _(){var e=a();return n.ZERO.subTo(this,e),e}function O(){return this.s<0?this.negate():this}function T(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;while(--i>=0)if(0!=(t=this[i]-e[i]))return t;return 0}function C(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function I(){return this.t<=0?0:this.DB*(this.t-1)+C(this[this.t-1]^this.s&this.DM)}function x(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function E(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function A(e,t){var i,r=e%this.DB,s=this.DB-r,n=(1<<s)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)t[i+a+1]=this[i]>>s|o,o=(this[i]&n)<<r;for(i=a-1;i>=0;--i)t[i]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()}function N(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var r=e%this.DB,s=this.DB-r,n=(1<<r)-1;t[0]=this[i]>>r;for(var a=i+1;a<this.t;++a)t[a-i-1]|=(this[a]&n)<<s,t[a-i]=this[a]>>r;r>0&&(t[this.t-i-1]|=(this.s&n)<<s),t.t=this.t-i,t.clamp()}}function M(e,t){var i=0,r=0,s=Math.min(e.t,this.t);while(i<s)r+=this[i]-e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r-=e.s;while(i<this.t)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(i<e.t)r-=e[i],t[i++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[i++]=this.DV+r:r>0&&(t[i++]=r),t.t=i,t.clamp()}function P(e,t){var i=this.abs(),r=e.abs(),s=i.t;t.t=s+r.t;while(--s>=0)t[s]=0;for(s=0;s<r.t;++s)t[s+i.t]=i.am(0,r[s],t,s,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)}function B(e){var t=this.abs(),i=e.t=2*t.t;while(--i>=0)e[i]=0;for(i=0;i<t.t-1;++i){var r=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,r,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function R(e,t,i){var r=e.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=a());var o=a(),c=this.s,d=e.s,h=this.DB-C(r[r.t-1]);h>0?(r.lShiftTo(h,o),s.lShiftTo(h,i)):(r.copyTo(o),s.copyTo(i));var u=o.t,l=o[u-1];if(0!==l){var f=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),p=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,y=i.t,v=y-u,b=null==t?a():t;o.dlShiftTo(v,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),n.ONE.dlShiftTo(u,b),b.subTo(o,o);while(o.t<u)o[o.t++]=0;while(--v>=0){var w=i[--y]==l?this.DM:Math.floor(i[y]*p+(i[y-1]+g)*m);if((i[y]+=o.am(0,w,i,v,0,u))<w){o.dlShiftTo(v,b),i.subTo(b,i);while(i[y]<--w)i.subTo(b,i)}}null!=t&&(i.drShiftTo(u,t),c!=d&&n.ZERO.subTo(t,t)),i.t=u,i.clamp(),h>0&&i.rShiftTo(h,i),c<0&&n.ZERO.subTo(i,i)}}}function D(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t}function L(e){this.m=e}function V(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function j(e){return e}function q(e){e.divRemTo(this.m,null,e)}function U(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function G(e,t){e.squareTo(t),this.reduce(t)}function F(){if(this.t<1)return 0;var e=this[0];if(0===(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function H(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function z(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t}function K(e){var t=a();return e.copyTo(t),this.reduce(t),t}function W(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],r=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;i=t+this.m.t,e[i]+=this.m.am(0,r,e,t,0,this.m.t);while(e[i]>=e.DV)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function $(e,t){e.squareTo(t),this.reduce(t)}function Y(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function X(){return 0===(this.t>0?1&this[0]:this.s)}function Q(e,t){if(e>4294967295||e<1)return n.ONE;var i=a(),r=a(),s=t.convert(this),o=C(e)-1;s.copyTo(i);while(--o>=0)if(t.sqrTo(i,r),(e&1<<o)>0)t.mulTo(r,s,i);else{var c=i;i=r,r=c}return t.revert(i)}function Z(){var e=a();return this.copyTo(e),e}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ee(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function te(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ie(e){if(null==e&&(e=10),0===this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),r=y(i),s=a(),n=a(),o="";this.divRemTo(r,s,n);while(s.signum()>0)o=(i+n.intValue()).toString(e).substr(1)+o,s.divRemTo(r,s,n);return n.intValue().toString(e)+o}function re(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),r=Math.pow(t,i),s=!1,a=0,o=0,c=0;c<e.length;++c){var d=p(e,c);d<0?"-"==e.charAt(c)&&0===this.signum()&&(s=!0):(o=t*o+d,++a>=i&&(this.dMultiply(r),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),s&&n.ZERO.subTo(this,this)}function se(){var e=this.t,t=new Array;t[0]=this.s;var i,r=this.DB-e*this.DB%8,s=0;if(e-- >0){r<this.DB&&(i=this[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=i|this.s<<this.DB-r);while(e>=0)r<8?(i=(this[e]&(1<<r)-1)<<8-r,i|=this[--e]>>(r+=this.DB-8)):(i=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&i)&&(i|=-256),0===s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(t[s++]=i)}return t}function ne(e){var i=t.from(this.toByteArray());if(!0===e&&0===i[0])i=i.slice(1);else if(s.isNumber(e)){if(i.length>e){for(var r=0;r<i.length-e;r++)if(0!==i[r])return null;return i.slice(i.length-e)}if(i.length<e){var n=t.alloc(e);return n.fill(0,0,e-i.length),i.copy(n,e-i.length),n}}return i}function ae(e){return 0==this.compareTo(e)}function oe(e){return this.compareTo(e)<0?this:e}function ce(e){return this.compareTo(e)>0?this:e}function de(e,t,i){var r,s,n=Math.min(e.t,this.t);for(r=0;r<n;++r)i[r]=t(this[r],e[r]);if(e.t<this.t){for(s=e.s&this.DM,r=n;r<this.t;++r)i[r]=t(this[r],s);i.t=this.t}else{for(s=this.s&this.DM,r=n;r<e.t;++r)i[r]=t(s,e[r]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function he(e,t){return e&t}function ue(e){var t=a();return this.bitwiseTo(e,he,t),t}function le(e,t){return e|t}function fe(e){var t=a();return this.bitwiseTo(e,le,t),t}function pe(e,t){return e^t}function me(e){var t=a();return this.bitwiseTo(e,pe,t),t}function ge(){for(var e=a(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function ye(e){if(0===e)return-1;var t=0;return 0===(65535&e)&&(e>>=16,t+=16),0===(255&e)&&(e>>=8,t+=8),0===(15&e)&&(e>>=4,t+=4),0===(3&e)&&(e>>=2,t+=2),0===(1&e)&&++t,t}function ve(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ye(this[e]);return this.s<0?this.t*this.DB:-1}function be(e,t){var i=0,r=0,s=Math.min(e.t,this.t);while(i<s)r+=this[i]+e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r+=e.s;while(i<this.t)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(i<e.t)r+=e[i],t[i++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[i++]=r:r<-1&&(t[i++]=this.DV+r),t.t=i,t.clamp()}function we(e){var t=a();return this.addTo(e,t),t}function Se(e){var t=a();return this.subTo(e,t),t}function ke(e){var t=a();return this.multiplyTo(e,t),t}function _e(){var e=a();return this.squareTo(e),e}function Oe(e){var t=a();return this.divRemTo(e,t,null),t}function Te(e){var t=a();return this.divRemTo(e,null,t),t}function Ce(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Ie(e,t){if(0!==e){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function xe(){}function Ee(e){return e}function Ae(e,t,i){e.multiplyTo(t,i)}function Ne(e,t){e.squareTo(t)}function Me(e){return this.exp(e,new xe)}function Pe(e,t,i){var r,s=Math.min(this.t+e.t,t);i.s=0,i.t=s;while(s>0)i[--s]=0;for(r=i.t-this.t;s<r;++s)i[s+this.t]=this.am(0,e[s],i,s,0,this.t);for(r=Math.min(e.t,t);s<r;++s)this.am(0,e[s],i,s,0,t-s);i.clamp()}function Be(e,t,i){--t;var r=i.t=this.t+e.t-t;i.s=0;while(--r>=0)i[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)i[this.t+r-t]=this.am(t-r,e[r],i,0,0,this.t+r-t);i.clamp(),i.drShiftTo(1,i)}function Re(e){this.r2=a(),this.q3=a(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function De(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t}function Le(e){return e}function Ve(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function je(e,t){e.squareTo(t),this.reduce(t)}function qe(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function Ue(e,t){var i,r,s=e.bitLength(),n=y(1);if(s<=0)return n;i=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new L(t):t.isEven()?new Re(t):new H(t);var o=new Array,c=3,d=i-1,h=(1<<i)-1;if(o[1]=r.convert(this),i>1){var u=a();r.sqrTo(o[1],u);while(c<=h)o[c]=a(),r.mulTo(u,o[c-2],o[c]),c+=2}var l,f,p=e.t-1,m=!0,g=a();s=C(e[p])-1;while(p>=0){s>=d?l=e[p]>>s-d&h:(l=(e[p]&(1<<s+1)-1)<<d-s,p>0&&(l|=e[p-1]>>this.DB+s-d)),c=i;while(0===(1&l))l>>=1,--c;if((s-=c)<0&&(s+=this.DB,--p),m)o[l].copyTo(n),m=!1;else{while(c>1)r.sqrTo(n,g),r.sqrTo(g,n),c-=2;c>0?r.sqrTo(n,g):(f=n,n=g,g=f),r.mulTo(g,o[l],n)}while(p>=0&&0===(e[p]&1<<s))r.sqrTo(n,g),f=n,n=g,g=f,--s<0&&(s=this.DB-1,--p)}return r.revert(n)}function Ge(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var r=t;t=i,i=r}var s=t.getLowestSetBit(),n=i.getLowestSetBit();if(n<0)return t;s<n&&(n=s),n>0&&(t.rShiftTo(n,t),i.rShiftTo(n,i));while(t.signum()>0)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return n>0&&i.lShiftTo(n,i),i}L.prototype.convert=V,L.prototype.revert=j,L.prototype.reduce=q,L.prototype.mulTo=U,L.prototype.sqrTo=G,H.prototype.convert=z,H.prototype.revert=K,H.prototype.reduce=W,H.prototype.mulTo=Y,H.prototype.sqrTo=$,xe.prototype.convert=Ee,xe.prototype.revert=Ee,xe.prototype.mulTo=Ae,xe.prototype.sqrTo=Ne,Re.prototype.convert=De,Re.prototype.revert=Le,Re.prototype.reduce=Ve,Re.prototype.mulTo=qe,Re.prototype.sqrTo=je,n.prototype.copyTo=m,n.prototype.fromInt=g,n.prototype.fromString=v,n.prototype.fromByteArray=b,n.prototype.fromBuffer=w,n.prototype.clamp=S,n.prototype.dlShiftTo=x,n.prototype.drShiftTo=E,n.prototype.lShiftTo=A,n.prototype.rShiftTo=N,n.prototype.subTo=M,n.prototype.multiplyTo=P,n.prototype.squareTo=B,n.prototype.divRemTo=R,n.prototype.invDigit=F,n.prototype.isEven=X,n.prototype.exp=Q,n.prototype.chunkSize=ee,n.prototype.toRadix=ie,n.prototype.fromRadix=re,n.prototype.bitwiseTo=de,n.prototype.addTo=be,n.prototype.dMultiply=Ce,n.prototype.dAddOffset=Ie,n.prototype.multiplyLowerTo=Pe,n.prototype.multiplyUpperTo=Be,n.prototype.toString=k,n.prototype.negate=_,n.prototype.abs=O,n.prototype.compareTo=T,n.prototype.bitLength=I,n.prototype.mod=D,n.prototype.clone=Z,n.prototype.intValue=J,n.prototype.signum=te,n.prototype.toByteArray=se,n.prototype.toBuffer=ne,n.prototype.equals=ae,n.prototype.min=oe,n.prototype.max=ce,n.prototype.and=ue,n.prototype.or=fe,n.prototype.xor=me,n.prototype.not=ge,n.prototype.getLowestSetBit=ve,n.prototype.add=we,n.prototype.subtract=Se,n.prototype.multiply=ke,n.prototype.divide=Oe,n.prototype.remainder=Te,n.prototype.modPow=Ue,n.prototype.pow=Me,n.prototype.gcd=Ge,n.int2char=f,n.ZERO=y(0),n.ONE=y(1),n.prototype.square=_e,e.exports=n}).call(this,i("b639").Buffer)},"1ee7":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,BadSymbol:n,AuthenticationError:a,InsufficientFunds:o,InvalidOrder:c,ArgumentsRequired:d,OrderNotFound:h,BadRequest:u,PermissionDenied:l,AccountSuspended:f,CancelPending:p,DDoSProtection:m,DuplicateOrderId:g,NotSupported:y}=i("74b0"),{TICK_SIZE:v}=i("5ea4"),b=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"phemex",name:"Phemex",countries:["CN"],rateLimit:100,version:"v1",certified:!1,pro:!0,hostname:"api.phemex.com",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/85225056-221eb600-b3d7-11ea-930d-564d2690e3f6.jpg",test:{v1:"https://testnet-api.phemex.com/v1",public:"https://testnet-api.phemex.com/exchange/public",private:"https://testnet-api.phemex.com"},api:{v1:"https://{hostname}/v1",public:"https://{hostname}/exchange/public",private:"https://{hostname}"},www:"https://phemex.com",doc:"https://github.com/phemex/phemex-api-docs",fees:"https://phemex.com/fees-conditions",referral:"https://phemex.com/register?referralCode=EDNVJ"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","3h":"10800","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2592000"},api:{public:{get:["cfg/v2/products","products","nomics/trades","md/kline"]},v1:{get:["md/orderbook","md/trade","md/ticker/24hr","md/ticker/24hr/all","md/spot/ticker/24hr","md/spot/ticker/24hr/all","exchange/public/products"]},private:{get:["spot/orders/active","spot/orders","spot/wallets","exchange/spot/order","exchange/spot/order/trades","accounts/accountPositions","accounts/positions","orders/activeList","exchange/order/list","exchange/order","exchange/order/trade","phemex-user/users/children","phemex-user/wallets/v2/depositAddress","exchange/margins/transfer","exchange/wallets/confirm/withdraw","exchange/wallets/withdrawList","exchange/wallets/depositList","exchange/wallets/v2/depositAddress"],post:["spot/orders","orders","positions/assign","exchange/wallets/transferOut","exchange/wallets/transferIn","exchange/margins","exchange/wallets/createWithdraw","exchange/wallets/cancelWithdraw","exchange/wallets/createWithdrawAddress"],put:["spot/orders","orders/replace","positions/leverage","positions/riskLimit"],delete:["spot/orders","orders/cancel","orders","orders/all"]}},precisionMode:v,fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{412:u,6001:u,19999:u,10001:g,10002:h,10003:p,10004:p,10005:p,11001:o,11002:c,11003:o,11004:c,11005:o,11006:s,11007:s,11008:s,11009:s,11010:o,11011:c,11012:c,11013:c,11014:c,11015:c,11016:u,11017:s,11018:s,11019:s,11020:s,11021:s,11022:f,11023:s,11024:s,11025:u,11026:s,11027:n,11028:n,11029:s,11030:s,11031:m,11032:m,11033:g,11034:c,11035:c,11036:c,11037:c,11038:c,11039:c,11040:c,11041:c,11042:c,11043:c,11044:c,11045:c,11046:c,11047:c,11048:c,11049:c,11050:c,11051:c,11052:c,11053:c,11054:c,11055:c,11056:c,11057:c,11058:c,11059:c,11060:c,11061:p,11062:c,11063:c,11064:c,11065:c,11066:c,11067:c,11068:c,11069:s,11070:n,11071:c,11072:c,11073:c,11074:c,11075:c,11076:c,11077:c,11078:c,11079:c,11080:c,11081:c,11082:o,11083:c,11084:c,11085:g,11086:c,11087:c,11088:c,11089:c,11090:c,11091:c,11092:c,11093:c,11094:c,11095:c,11096:c,11097:u,11098:u,11099:s,11100:o,11101:o,11102:u,11103:u,11104:u,11105:o,11106:o,11107:s,11108:c,11109:c,11110:c,11111:c,11112:c,11113:u,11114:c,11115:c,30018:u,39996:l},broad:{"Failed to find api-key":a,"Missing required parameter":u,"API Signature verification failed":a}},options:{"x-phemex-request-expiry":60,createOrderByQuoteRequiresPrice:!0}})}parseSafeNumber(e){if(void 0===e)return e;e=e.replace(",","");const t=e.split(" ");return this.safeNumber(t,0)}parseSwapMarket(e){const t=this.safeString(e,"symbol"),i=this.safeString2(e,"baseCurrency","contractUnderlyingAssets"),r=this.safeString(e,"quoteCurrency"),s=this.safeCurrencyCode(i),n=this.safeCurrencyCode(r),a=s+"/"+n,o=this.safeStringLower(e,"type");let c=!1;const d=!1,h=!0,u=this.safeString(e,"settlementCurrency");u!==r&&(c=!0);const l=!c,f={amount:this.safeNumber(e,"lotSize"),price:this.safeNumber(e,"tickSize")},p=this.safeInteger(e,"priceScale"),m=this.safeInteger(e,"ratioScale"),g=this.safeInteger(e,"valueScale"),y=this.safeString(e,"minPriceEp"),v=this.safeString(e,"maxPriceEp"),b=this.safeString(e,"makerFeeRateEr"),w=this.safeString(e,"takerFeeRateEr"),S=this.parseNumber(this.fromEn(b,m)),k=this.parseNumber(this.fromEn(w,m)),_={amount:{min:f["amount"],max:void 0},price:{min:this.parseNumber(this.fromEn(y,p)),max:this.parseNumber(this.fromEn(v,p))},cost:{min:void 0,max:this.parseNumber(this.safeString(e,"maxOrderQty"))}},O=this.safeString(e,"status"),T="Listed"===O;return{id:t,symbol:a,base:s,quote:n,baseId:i,quoteId:r,info:e,type:o,spot:d,swap:h,linear:l,inverse:c,active:T,taker:k,maker:S,priceScale:p,valueScale:g,ratioScale:m,precision:f,limits:_}}parseSpotMarket(e){const t=this.safeStringLower(e,"type"),i=this.safeString(e,"symbol"),r=this.safeString(e,"quoteCurrency"),s=this.safeString(e,"baseCurrency"),n=void 0,a=void 0,o=!0,c=!1,d=this.safeNumber(e,"defaultTakerFee"),h=this.safeNumber(e,"defaultMakerFee"),u={amount:this.parseSafeNumber(this.safeString(e,"baseTickSize")),price:this.parseSafeNumber(this.safeString(e,"quoteTickSize"))},l={amount:{min:u["amount"],max:this.parseSafeNumber(this.safeString(e,"maxBaseOrderSize"))},price:{min:u["price"],max:void 0},cost:{min:this.parseSafeNumber(this.safeString(e,"minOrderValue")),max:this.parseSafeNumber(this.safeString(e,"maxOrderValue"))}},f=this.safeCurrencyCode(s),p=this.safeCurrencyCode(r),m=f+"/"+p,g=this.safeString(e,"status"),y="Listed"===g;return{id:i,symbol:m,base:f,quote:p,baseId:s,quoteId:r,info:e,type:t,spot:o,swap:c,linear:n,inverse:a,active:y,taker:d,maker:h,precision:u,priceScale:8,valueScale:8,ratioScale:8,limits:l}}async fetchMarkets(e={}){const t=await this.publicGetCfgV2Products(e),i=await this.v1GetExchangePublicProducts(e),r=this.safeValue(i,"data",[]),s=this.safeValue(t,"data",{}),n=this.safeValue(s,"products",[]),a=this.safeValue(s,"riskLimits",[]),o=this.indexBy(a,"symbol"),c=this.indexBy(r,"symbol"),d=[];for(let h=0;h<n.length;h++){let e=n[h];const t=this.safeStringLower(e,"type");if("perpetual"===t){const t=this.safeString(e,"symbol"),i=this.safeValue(o,t,{});e=this.extend(e,i);const r=this.safeValue(c,t,{});e=this.extend(e,r),e=this.parseSwapMarket(e)}else e=this.parseSpotMarket(e);d.push(e)}return d}async fetchCurrencies(e={}){const t=await this.publicGetCfgV2Products(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"currencies",[]),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),i=this.safeString(e,"name"),a=this.safeCurrencyCode(t),o=this.safeString(e,"valueScale"),c=parseInt(o),d=this.safeString(e,"minValueEv"),h=this.safeString(e,"maxValueEv");let u=void 0,l=void 0,f=void 0;if(void 0!==c){const e=this.parsePrecision(o);f=this.parseNumber(e),u=this.parseNumber(b.stringMul(d,e)),l=this.parseNumber(b.stringMul(h,e))}s[a]={id:t,info:e,code:a,name:i,active:void 0,fee:void 0,precision:f,limits:{amount:{min:u,max:l},withdraw:{min:void 0,max:void 0}},valueScale:c}}return s}parseBidAsk(e,t=0,i=1,r){if(void 0===r)throw new d(this.id+" parseBidAsk() requires a market argument");let s=this.safeString(e,i);return r["spot"]&&(s=this.fromEv(s,r)),[this.parseNumber(this.fromEp(this.safeString(e,t),r)),this.parseNumber(s)]}parseOrderBook(e,t,i,r="bids",s="asks",n=0,a=1,o){const c={symbol:t,timestamp:i,datetime:this.iso8601(i),nonce:void 0},d=[r,s];for(let h=0;h<d.length;h++){const t=d[h],i=[],r=this.safeValue(e,t);for(let e=0;e<r.length;e++)i.push(this.parseBidAsk(r[e],n,a,o));c[t]=i}return c[r]=this.sortBy(c[r],0,!0),c[s]=this.sortBy(c[s],0),c}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]},n=await this.v1GetMdOrderbook(this.extend(s,i)),a=this.safeValue(n,"result",{}),o=this.safeValue(a,"book",{}),c=this.safeIntegerProduct(a,"timestamp",1e-6),d=this.parseOrderBook(o,e,c,"bids","asks",0,1,r);return d["nonce"]=this.safeInteger(a,"sequence"),d}toEn(e,t){const i=e.toString(),r=new b(i);r.decimals=r.decimals-t,r.reduce();const s=r.toString();return parseInt(parseFloat(s))}toEv(e,t){return void 0===e||void 0===t?e:this.toEn(e,t["valueScale"])}toEp(e,t){return void 0===e||void 0===t?e:this.toEn(e,t["priceScale"])}fromEn(e,t){if(void 0===e)return;const i=new b(e);return i.decimals=this.sum(i.decimals,t),i.reduce(),i.toString()}fromEp(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"priceScale"))}fromEv(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"valueScale"))}fromEr(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"ratioScale"))}parseOHLCV(e,t){let i=void 0;return i=void 0!==t&&t["spot"]?this.parseNumber(this.fromEv(this.safeString(e,7),t)):this.safeNumber(e,7),[this.safeTimestamp(e,0),this.parseNumber(this.fromEp(this.safeString(e,3),t)),this.parseNumber(this.fromEp(this.safeString(e,4),t)),this.parseNumber(this.fromEp(this.safeString(e,5),t)),this.parseNumber(this.fromEp(this.safeString(e,6),t)),i]}async fetchOHLCV(e,t="1m",i,r,s={}){const n={resolution:this.timeframes[t]},a=this.parseTimeframe(t),o=this.seconds();if(void 0!==i)void 0===r&&(r=2e3),i=parseInt(i/1e3),n["from"]=i,n["to"]=Math.min(o,this.sum(i,a*r));else{if(void 0===r)throw new d(this.id+" fetchOHLCV() requires a since argument, or a limit argument, or both");r=Math.min(r,2e3),n["from"]=o-a*this.sum(r,1),n["to"]=o}await this.loadMarkets();const c=this.market(e);n["symbol"]=c["id"];const h=await this.publicGetMdKline(this.extend(n,s)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"rows",[]);return this.parseOHLCVs(l,c,t,i,r)}parseTicker(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const r=t["symbol"],s=this.safeIntegerProduct(e,"timestamp",1e-6),n=this.fromEp(this.safeString(e,"lastEp"),t),a=this.parseNumber(n),o=this.parseNumber(this.fromEv(this.safeString(e,"turnoverEv"),t));let c=this.safeNumber(e,"volume");void 0===c&&(c=this.parseNumber(this.fromEv(this.safeString(e,"volumeEv"),t)));let d=void 0;void 0!==t&&t["spot"]&&(d=this.vwap(c,o));let h=void 0,u=void 0,l=void 0;const f=this.fromEp(this.safeString(e,"openEp"),t),p=this.parseNumber(f);void 0!==f&&void 0!==n&&(h=this.parseNumber(b.stringSub(n,f)),l=this.parseNumber(b.stringDiv(b.stringAdd(n,f),"2")),u=this.parseNumber(b.stringMul(b.stringSub(b.stringDiv(n,f),"1"),"100")));const m={symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.parseNumber(this.fromEp(this.safeString(e,"highEp"),t)),low:this.parseNumber(this.fromEp(this.safeString(e,"lowEp"),t)),bid:this.parseNumber(this.fromEp(this.safeString(e,"bidEp"),t)),bidVolume:void 0,ask:this.parseNumber(this.fromEp(this.safeString(e,"askEp"),t)),askVolume:void 0,vwap:d,open:p,close:a,last:a,previousClose:void 0,change:h,percentage:u,average:l,baseVolume:c,quoteVolume:o,info:e};return m}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=i["spot"]?"v1GetMdSpotTicker24hr":"v1GetMdTicker24hr",n=await this[s](this.extend(r,t)),a=this.safeValue(n,"result",{});return this.parseTicker(a,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.v1GetMdTrade(this.extend(n,r)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,n=void 0,a=void 0,o=void 0,c=void 0,d=void 0;const h=this.safeString(e,"symbol");t=this.safeMarket(h,t);const u=t["symbol"];let l=void 0,f=void 0;if(Array.isArray(e)){const o=e.length;s=this.safeIntegerProduct(e,0,1e-6),o>4&&(n=this.safeString(e,o-4)),a=this.safeStringLower(e,o-3),i=this.fromEp(this.safeString(e,o-2),t),r=this.fromEv(this.safeString(e,o-1),t)}else{s=this.safeIntegerProduct(e,"transactTimeNs",1e-6),n=this.safeString2(e,"execId","execID"),l=this.safeString(e,"orderID"),a=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"ordType"));const h=this.safeString(e,"execStatus");"MakerFill"===h&&(f="maker"),i=this.fromEp(this.safeString(e,"execPriceEp"),t),r=this.fromEv(this.safeString(e,"execBaseQtyEv"),t),r=this.safeString(e,"execQty",r),o=this.fromEv(this.safeString2(e,"execQuoteQtyEv","execValueEv"),t);const u=this.fromEv(this.safeString(e,"execFeeEv"),t);if(void 0!==u){const i=this.fromEr(this.safeString(e,"feeRateEr"),t);let r=void 0;if(t["spot"])r="buy"===a?t["base"]:t["quote"];else{const e=this.safeValue(t,"info");if(void 0!==e){const t=this.safeString(e,"settlementCurrency");r=this.safeCurrencyCode(t)}}d={cost:this.parseNumber(u),rate:this.parseNumber(i),currency:r}}}const p=this.parseNumber(i),m=this.parseNumber(r);void 0===o&&(o=b.stringMul(i,r));const g=this.parseNumber(o);return{info:e,id:n,symbol:u,timestamp:s,datetime:this.iso8601(s),order:l,type:c,side:a,takerOrMaker:f,price:p,amount:m,cost:g,fee:d}}parseSpotBalance(e){let t=void 0;const i={info:e},r=this.safeValue(e,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n),o=this.safeValue(this.currencies,a,{}),c=this.safeInteger(o,"valueScale",8),d=this.account(),h=this.safeString(e,"balanceEv"),u=this.safeString(e,"lockedTradingBalanceEv"),l=this.safeString(e,"lockedWithdrawEv"),f=this.fromEn(h,c),p=this.fromEn(u,c),m=this.fromEn(l,c),g=b.stringAdd(p,m),y=this.safeIntegerProduct(e,"lastUpdateTimeNs",1e-6);t=void 0===t?y:Math.max(t,y),d["total"]=f,d["used"]=g,i[a]=d}return i["timestamp"]=t,i["datetime"]=this.iso8601(t),this.parseBalance(i,!1)}parseSwapBalance(e){const t={info:e},i=this.safeValue(e,"data",{}),r=this.safeValue(i,"account",{}),s=this.safeString(r,"currency"),n=this.safeCurrencyCode(s),a=this.currency(n),o=this.account(),c=this.safeString(r,"accountBalanceEv"),d=this.safeString(r,"totalUsedBalanceEv"),h=this.safeInteger(a,"valueScale",8);return o["total"]=this.fromEn(c,h),o["used"]=this.fromEn(d,h),t[n]=o,this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"defaultType","fetchBalance","spot"),i=this.safeString(e,"type",t);let r="privateGetSpotWallets";const s={};if("swap"===i){const t=this.safeString(e,"code");if(void 0!==t){const i=this.currency(t);s["currency"]=i["id"],e=this.omit(e,"code")}else{const t=this.safeString(e,"currency");if(void 0===t)throw new d(this.id+" fetchBalance() requires a code parameter or a currency parameter for "+i+" type")}r="privateGetAccountsAccountPositions"}e=this.omit(e,"type");const n=await this[r](this.extend(s,e)),a="swap"===i?this.parseSwapBalance(n):this.parseSpotBalance(n);return a}parseOrderStatus(e){const t={Created:"open",Untriggered:"open",Deactivated:"closed",Triggered:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled"};return this.safeString(t,e,e)}parseOrderType(e){const t={Limit:"limit",Market:"market"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={GoodTillCancel:"GTC",PostOnly:"PO",ImmediateOrCancel:"IOC",FillOrKill:"FOK"};return this.safeString(t,e,e)}parseSpotOrder(e,t){const i=this.safeString(e,"orderID");let r=this.safeString(e,"clOrdID");void 0!==r&&r.length<1&&(r=void 0);const s=this.safeString(e,"symbol"),n=this.safeSymbol(s,t),a=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"priceEp"),t))),o=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"baseQtyEv"),t))),c=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"leavesBaseQtyEv"),t))),d=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"cumBaseQtyEv"),t))),h=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"quoteQtyEv"),t))),u=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"avgPriceEp"),t))),l=this.parseOrderStatus(this.safeString(e,"ordStatus")),f=this.safeStringLower(e,"side"),p=this.parseOrderType(this.safeString(e,"ordType")),m=this.safeIntegerProduct2(e,"actionTimeNs","createTimeNs",1e-6);let g=void 0;const y=this.parseNumber(this.fromEv(this.safeString(e,"cumFeeEv"),t));void 0!==y&&(g={cost:y,currency:void 0});const v=this.parseTimeInForce(this.safeString(e,"timeInForce")),b=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"stopPxEp",t)))),w="PO"===v;return this.safeOrder({info:e,id:i,clientOrderId:r,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,symbol:n,type:p,timeInForce:v,postOnly:w,side:f,price:a,stopPrice:b,amount:o,cost:h,average:u,filled:d,remaining:c,status:l,fee:g,trades:void 0})}parseSwapOrder(e,t){const i=this.safeString(e,"orderID");let r=this.safeString(e,"clOrdID");void 0!==r&&r.length<1&&(r=void 0);const s=this.safeString(e,"symbol"),n=this.safeSymbol(s,t),a=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"orderType")),d=this.parseNumber(this.fromEp(this.safeString(e,"priceEp"),t)),h=this.safeNumber(e,"orderQty"),u=this.safeNumber(e,"cumQty"),l=this.safeNumber(e,"leavesQty"),f=this.safeIntegerProduct(e,"actionTimeNs",1e-6),p=this.safeNumber(e,"cumValue");let m=this.safeIntegerProduct(e,"transactTimeNs",1e-6);0===m&&(m=void 0);const g=this.parseTimeInForce(this.safeString(e,"timeInForce")),y=this.safeNumber(e,"stopPx"),v="PO"===g;return{info:e,id:i,clientOrderId:r,datetime:this.iso8601(f),timestamp:f,lastTradeTimestamp:m,symbol:n,type:c,timeInForce:g,postOnly:v,side:o,price:d,stopPrice:y,amount:h,filled:u,remaining:l,cost:p,average:void 0,status:a,fee:void 0,trades:void 0}}parseOrder(e,t){return"closedPnl"in e?this.parseSwapOrder(e,t):this.parseSpotOrder(e,t)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e);i=this.capitalize(i),t=this.capitalize(t);const o={symbol:a["id"],side:i,ordType:t};if(a["spot"]){let e=this.safeValue(n,"qtyType","ByBase");if("Market"!==t&&"Stop"!==t&&"MarketIfTouched"!==t||void 0!==s&&(e="ByQuote"),o["qtyType"]=e,"ByQuote"===e){let t=this.safeNumber(n,"cost");if(n=this.omit(n,"cost"),this.options["createOrderByQuoteRequiresPrice"])if(void 0!==s)t=r*s;else if(void 0===t)throw new d(this.id+" createOrder() "+e+" requires a price argument or a cost parameter");t=void 0===t?r:t;const i=t.toString();o["quoteQtyEv"]=this.toEv(i,a)}else{const e=r.toString();o["baseQtyEv"]=this.toEv(e,a)}}else a["swap"]&&(o["orderQty"]=parseInt(r));if("Limit"===t){const e=s.toString();o["priceEp"]=this.toEp(e,a)}const c=this.safeString2(n,"stopPx","stopPrice");void 0!==c&&(o["stopPxEp"]=this.toEp(c,a)),n=this.omit(n,["stopPx","stopPrice"]);const h=a["spot"]?"privatePostSpotOrders":"privatePostOrders",u=await this[h](this.extend(o,n)),l=this.safeValue(u,"data",{});return this.parseOrder(l,a)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r["id"]},n=this.safeString2(i,"clientOrderId","clOrdID");i=this.omit(i,["clientOrderId","clOrdID"]),void 0!==n?s["clOrdID"]=n:s["orderID"]=e;const a=r["spot"]?"privateDeleteSpotOrders":"privateDeleteOrdersCancel",o=await this[a](this.extend(s,i)),c=this.safeValue(o,"data",{});return this.parseOrder(c,r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;if(void 0!==e){if(r=this.market(e),!r["swap"])throw new y(this.id+" cancelAllOrders() supports swap market type orders only");i["symbol"]=r["id"]}return await this.privateDeleteOrdersAll(this.extend(i,t))}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r["spot"]?"privateGetSpotOrdersActive":"privateGetExchangeOrder",n={symbol:r["id"]},a=this.safeString2(i,"clientOrderId","clOrdID");i=this.omit(i,["clientOrderId","clOrdID"]),void 0!==a?n["clOrdID"]=a:n["orderID"]=e;const o=await this[s](this.extend(n,i)),c=this.safeValue(o,"data",{});let u=c;if(Array.isArray(c)){const i=c.length;if(i<1)throw new h(void 0!==a?this.id+" fetchOrder "+t+" order with clientOrderId "+a+" not found":this.id+" fetchOrder "+t+" order with id "+e+" not found");u=this.safeValue(c,0,{})}return this.parseOrder(u,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=s["spot"]?"privateGetSpotOrders":"privateGetExchangeOrderList",a={symbol:s["id"]};void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"rows",[]);return this.parseOrders(h,s,t,i)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=s["spot"]?"privateGetSpotOrders":"privateGetOrdersActiveList",a={symbol:s["id"]},o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",{});if(Array.isArray(c))return this.parseOrders(c,s,t,i);{const e=this.safeValue(c,"rows",[]);return this.parseOrders(e,s,t,i)}}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=s["spot"]?"privateGetExchangeSpotOrder":"privateGetExchangeOrderList",a={symbol:s["id"]};void 0!==t&&(a["start"]=t),void 0!==i&&(a["limit"]=i);const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",{});if(Array.isArray(c))return this.parseOrders(c,s,t,i);{const e=this.safeValue(c,"rows",[]);return this.parseOrders(e,s,t,i)}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=s["spot"]?"privateGetExchangeSpotOrderTrades":"privateGetExchangeOrderTrade",a={symbol:s["id"]};void 0!==t&&(a["start"]=t),s["swap"]&&void 0!==i&&(a["limit"]=i);const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"rows",[]);return this.parseTrades(h,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetPhemexUserWalletsV2DepositAddress(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeString(n,"address"),o=this.safeString(n,"tag");return this.checkAddress(a),{currency:e,address:a,tag:o,info:s}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n=await this.privateGetExchangeWalletsDepositList(r),a=this.safeValue(n,"data",{});return this.parseTransactions(a,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n=await this.privateGetExchangeWalletsWithdrawList(r),a=this.safeValue(n,"data",{});return this.parseTransactions(a,s,t,i)}parseTransactionStatus(e){const t={Success:"ok",Succeed:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=void 0,n=this.safeString(e,"txHash"),a=this.safeString(e,"currency");t=this.safeCurrency(a,t);const o=t["code"],c=this.safeInteger2(e,"createdAt","submitedAt");let d=this.safeStringLower(e,"type");const h=this.parseNumber(this.fromEn(this.safeString(e,"feeEv"),t["valueScale"]));let u=void 0;void 0!==h&&(d="withdrawal",u={cost:h,currency:o});const l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.parseNumber(this.fromEn(this.safeString(e,"amountEv"),t["valueScale"]));return{info:e,id:i,txid:n,timestamp:c,datetime:this.iso8601(c),address:r,addressTo:r,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,type:d,amount:f,currency:o,status:l,updated:void 0,fee:u}}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString(t,"code"),r={};if(void 0===i){const e=this.safeString(t,"currency");if(void 0===e)throw new d(this.id+" fetchPositions() requires a currency parameter or a code parameter")}else{const e=this.currency(i);t=this.omit(t,"code"),r["currency"]=e["id"]}const s=await this.privateGetAccountsAccountPositions(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"positions",[]);return a}sign(e,t="public",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e)),o="/"+this.implodeParams(e,r);let c=o,d="";if("GET"!==i&&"DELETE"!==i&&"PUT"!==i||Object.keys(a).length&&(d=this.urlencodeWithArrayRepeat(a),c+="?"+d),"private"===t){this.checkRequiredCredentials();const e=this.seconds(),t=this.safeInteger(this.options,"x-phemex-request-expiry",60),a=this.sum(e,t),c=a.toString();s={"x-phemex-access-token":this.apiKey,"x-phemex-request-expiry":c};let h="";"POST"===i&&(h=this.json(r),n=h,s["Content-Type"]="application/json");const u=o+d+c+h;s["x-phemex-request-signature"]=this.hmac(this.encode(u),this.encode(this.secret))}return c=this.implodeHostname(this.urls["api"][t])+c,{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error",o),u=this.safeString(h,"code"),l=this.safeString(h,"msg");if(void 0!==u&&"0"!==u){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],l,e),new s(e)}}}},"1f5d":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InvalidOrder:n,InsufficientFunds:a,AuthenticationError:o,RateLimitExceeded:c,BadSymbol:d}=i("74b0"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"qtrade",name:"qTrade",countries:["US"],rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/80491487-74a99c00-896b-11ea-821e-d307e832f13e.jpg",api:"https://api.qtrade.io",www:"https://qtrade.io",doc:"https://qtrade-exchange.github.io/qtrade-docs",referral:"https://qtrade.io/?ref=BKOQWVFGRH2C"},has:{CORS:!1,fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchBalance:!0,fetchOrderBook:!0,fetchOrder:!0,fetchOrders:!0,fetchMyTrades:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,createOrder:!0,cancelOrder:!0,createMarketOrder:!1,withdraw:!0,fetchDepositAddress:!0,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchDeposit:!0,fetchWithdrawal:!0},timeframes:{"5m":"fivemin","15m":"fifteenmin","30m":"thirtymin","1h":"onehour","2h":"twohour","4h":"fourhour","1d":"oneday"},api:{public:{get:["ticker/{market_string}","tickers","currency/{code}","currencies","common","market/{market_string}","markets","market/{market_string}/trades","orderbook/{market_string}","market/{market_string}/ohlcv/{interval}"]},private:{get:["me","balances","balances_all","market/{market_string}","orders","order/{order_id}","trades","withdraw/{withdraw_id}","withdraws","deposit/{deposit_id}","deposits","transfers"],post:["cancel_order","withdraw","deposit_address/{currency}","sell_limit","buy_limit"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:0},funding:{withdraw:{}}},exceptions:{exact:{invalid_auth:o,insuff_funds:a,market_not_found:d,too_small:n,limit_exceeded:c}}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"markets",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"market_string"),i=this.safeInteger(e,"id"),a=this.safeString(e,"market_currency"),o=this.safeString(e,"base_currency"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(e,"market_precision"),price:this.safeInteger(e,"base_precision")},l=this.safeValue(e,"can_view",!1),f=this.safeValue(e,"can_trade",!1),p=f&&l;s.push({symbol:h,id:t,numericId:i,baseId:a,quoteId:o,base:c,quote:d,active:p,precision:u,taker:this.safeNumber(e,"taker_fee"),maker:this.safeNumber(e,"maker_fee"),limits:{amount:{min:this.safeNumber(e,"minimum_sell_value"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minimum_buy_value"),max:void 0}},info:e})}return s}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"currencies",[]),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"code"),i=this.safeCurrencyCode(t),a=this.safeString(e,"long_name"),o=this.safeString(e,"type"),c=this.safeValue(e,"can_withdraw",!0),d=this.safeValue(e,"deposit_disabled",!1),h=this.safeValue(e,"config",{}),u=this.safeString(e,"status"),l=c&&"ok"===u&&!d;s[i]={id:t,code:i,info:e,type:o,name:a,fee:this.safeNumber(h,"withdraw_fee"),precision:this.safeInteger(e,"precision"),active:l,limits:{amount:{min:this.safeNumber(e,"minimum_order"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return s}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"market_volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={market_string:n["id"],interval:this.timeframes[t]},o=await this.publicGetMarketMarketStringOhlcvInterval(this.extend(a,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"slices",[]);return this.parseOHLCVs(d,n,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.marketId(e),s={market_string:r},n=await this.publicGetOrderbookMarketString(this.extend(s,i)),a=this.safeValue(n,"data",{}),o={},c={buy:"bids",sell:"asks"},d=Object.keys(c);for(let u=0;u<d.length;u++){const e=d[u],t=c[e],i=this.safeValue(a,e,{}),r=Object.keys(i),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeNumber(r,n),a=this.safeNumber(i,e);s.push([t,a])}o[t]=s}const h=this.safeIntegerProduct(a,"last_change",.001);return this.parseOrderBook(o,e,h)}parseTicker(e,t){const i=this.safeString(e,"id_hr"),r=this.safeSymbol(i,t,"_"),s=this.safeIntegerProduct(e,"last_change",.001),n=this.safeNumber(e,"day_open"),a=this.safeNumber(e,"last"),o=this.safeNumber(e,"day_change");let c=void 0,d=void 0,h=this.safeNumber(e,"day_avg_price");void 0!==o&&(c=100*o,void 0!==n&&(d=o*n)),void 0===h&&void 0!==a&&void 0!==n&&(h=this.sum(a,n)/2);const u=this.safeNumber(e,"day_volume_market"),l=this.safeNumber(e,"day_volume_base"),f=this.vwap(u,l);return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"day_high"),low:this.safeNumber(e,"day_low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:f,open:n,close:a,last:a,previousClose:void 0,change:d,percentage:c,average:h,baseVolume:u,quoteVolume:l,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.safeValue(i,"data",{}),s=this.safeValue(r,"markets",[]),n={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];n[t]=e}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_string:i["id"]},s=await this.publicGetTickerMarketString(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market_string:s["id"]},a=await this.publicGetMarketMarketStringTrades(this.extend(n,r)),o=this.safeValue(a,"data",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={desc:!0};let n=void 0;const a=this.safeValue(r,"market_id");void 0!==a?s["market_id"]=a:void 0!==e&&(n=this.market(e),s["market_string"]=n["id"]);const o=await this.privateGetTrades(this.extend(s,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,n,t,i)}parseTrade(e,t){const i=this.safeString(e,"id");let r=this.safeIntegerProduct(e,"created_at_ts",.001);void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));const s=this.safeString(e,"side"),n=this.safeString(e,"market_string"),a=this.safeSymbol(n,t,"_");let o=this.safeNumber2(e,"base_volume","base_amount");const c=this.safeString(e,"price"),d=this.safeString2(e,"market_amount","amount"),u=this.parseNumber(c),l=this.parseNumber(d);void 0===o&&(o=this.parseNumber(h.stringMul(c,d)));let f=void 0;const p=this.safeNumber(e,"base_fee");if(void 0!==p){const e=void 0===t?void 0:t["quote"];f={currency:e,cost:p}}const m=this.safeValue(e,"taker",!0),g=m?"taker":"maker",y=this.safeString(e,"order_id"),v={id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,order:y,type:void 0,side:s,takerOrMaker:g,price:u,amount:l,cost:o,fee:f};return v}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalancesAll(e),i=this.safeValue(t,"data",{});let r=this.safeValue(i,"balances",[]);const s={info:t,timestamp:void 0,datetime:void 0};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),a=i in s?s[i]:this.account();a["free"]=this.safeString(e,"balance"),a["used"]="0",s[i]=a}r=this.safeValue(i,"order_balances",[]);for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),a=i in s?s[i]:this.account();a["used"]=this.safeString(e,"balance"),s[i]=a}return this.parseBalance(s,!1)}async createOrder(e,t,i,r,s,a={}){if("limit"!==t)throw new n(this.id+" createOrder() allows limit orders only");await this.loadMarkets();const o=this.market(e),c={amount:this.amountToPrecision(e,r),market_id:o["numericId"],price:this.priceToPrecision(e,s)},d="sell"===i?"privatePostSellLimit":"privatePostBuyLimit",h=await this[d](this.extend(c,a)),u=this.safeValue(h,"data",{}),l=this.safeValue(u,"order",{});return this.parseOrder(l,o)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"order_type");let n=void 0,a=void 0;if(void 0!==s){const e=s.split("_");a=this.safeString(e,0),n=this.safeString(e,1)}const o=this.safeNumber(e,"price"),c=this.safeNumber(e,"market_amount"),d=this.safeNumber(e,"market_amount_remaining"),h=this.safeValue(e,"open",!1),u=this.safeString(e,"close_reason");let l=void 0;l=h?"open":"canceled"===u?"canceled":"closed";const f=this.safeString(e,"market_string");t=this.safeMarket(f,t,"_");const p=t["symbol"],m=this.safeValue(e,"trades",[]),g=this.parseTrades(m,t,void 0,void 0,{order:i,side:a,type:n});return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:p,type:n,timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:void 0,average:void 0,amount:c,remaining:d,filled:void 0,status:l,fee:void 0,fees:void 0,cost:void 0,trades:g})}async cancelOrder(e,t,i={}){const r={id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrderOrderId(this.extend(r,i)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"order",{});return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;const a=this.safeValue(r,"market_id");void 0!==a?s["market_id"]=a:void 0!==e&&(n=this.market(e),s["market_string"]=n["id"]);const o=await this.privateGetOrders(this.extend(s,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,n,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={open:!0};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={open:!1};return await this.fetchOrders(e,t,i,this.extend(s,r))}parseDepositAddress(e,t){const i=void 0===t?void 0:t["code"];let r=this.safeString(e,"address"),s=void 0;if(void 0!==r){const e=r.split(":");r=this.safeString(e,0),s=this.safeString(e,1)}return this.checkAddress(r),{currency:i,address:r,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostDepositAddressCurrency(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseDepositAddress(n,i)}async fetchDeposit(e,t,i={}){await this.loadMarkets();const r={deposit_id:e},s=await this.privateGetDepositDepositId(this.extend(r,i)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"deposit",{});return this.parseTransaction(a)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n=await this.privateGetDeposits(r),a=this.safeValue(n,"data",{}),o=this.safeValue(a,"deposits",[]);return this.parseTransactions(o,s,t,i)}async fetchWithdrawal(e,t,i={}){await this.loadMarkets();const r={withdraw_id:e},s=await this.privateGetWithdrawWithdrawId(this.extend(r,i)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"withdraw",{});return this.parseTransaction(a)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n=await this.privateGetWithdraws(r),a=this.safeValue(n,"data",{}),o=this.safeValue(a,"withdraws",[]);return this.parseTransactions(o,s,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeValue(e,"network_data",{}),n=this.safeValue(s,"unsigned_tx",{}),a=this.safeString(n,"from"),o=this.safeString(s,"txid");let c=this.safeString(e,"address"),d=void 0;if(void 0!==c){const e=c.split(":"),t=e.length;t>1&&(c=this.safeString(e,0),d=this.safeString(e,1))}const h=c,u=void 0,l=d,f=this.safeValue(e,"cancel_requested"),p=void 0===f?"deposit":"withdrawal",m=this.safeNumber(e,"amount"),g=this.safeString(e,"currency"),y=this.safeCurrencyCode(g);let v=this.parseTransactionStatus(this.safeString(e,"status"));const b=this.safeString(e,"code");f?v="canceled":void 0===v&&(v=this.parseTransactionStatus(b));const w=void 0;return{info:e,id:r,txid:o,timestamp:i,datetime:this.iso8601(i),addressFrom:a,addressTo:h,address:c,tagFrom:u,tagTo:l,tag:d,type:p,amount:m,currency:y,status:v,updated:void 0,fee:w}}parseTransactionStatus(e){const t={initiated:"pending",needs_create:"pending",credited:"ok",confirmed:"ok"};return this.safeString(t,e,e)}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const n=this.currency(e),a={address:i,amount:t,currency:n["id"]};void 0!==r&&(a["address"]+=":"+r);const o=await this.privatePostWithdraw(this.extend(a,s)),c=this.safeValue(o,"data",{}),d=this.parseTransaction(c);return this.extend(d,{currency:e,address:i,addressTo:i,tag:r,tagTo:r,amount:t})}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/";"private"===t&&(a+="user/"),a+=this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("POST"===i?n=this.json(o):Object.keys(o).length&&(a+="?"+this.urlencode(o)),"private"===t){const e=this.milliseconds().toString(),t="POST"===i?n:"",r=[i,a,e,t,this.secret].join("\n"),o=this.hash(this.encode(r),"sha256","base64");let c=this.apiKey;"string"!==typeof c&&(c=c.toString());const d="HMAC-SHA256 "+c+":"+o;s={Authorization:d,"HMAC-Timestamp":e},"POST"===i&&(s["Content-Type"]="application/json")}return a=this.urls["api"]+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"errors",[]),u=h.length;if(u<1)return;const l=this.id+" "+a;for(let s=0;s<h.length;s++){const e=h[s],t=this.safeString(e,"code");this.throwExactlyMatchedException(this.exceptions["exact"],t,l)}throw new s(l)}}},"1f96":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,InvalidOrder:a,OrderNotFound:o,RateLimitExceeded:c,InsufficientFunds:d}=i("74b0"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460806-1c9f3f00-c616-11ea-8c46-a77018a8f3f4.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",fees:"https://coinmate.io/fees",doc:["https://coinmate.docs.apiary.io","https://coinmate.io/developers"],referral:"https://coinmate.io?referral=YTFkM1RsOWFObVpmY1ZjMGREQmpTRnBsWjJJNVp3PT0"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions","tradingPairs"]},private:{post:["balances","bitcoinCashWithdrawal","bitcoinCashDepositAddresses","bitcoinDepositAddresses","bitcoinWithdrawal","bitcoinWithdrawalFees","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","dashDepositAddresses","dashWithdrawal","ethereumWithdrawal","ethereumDepositAddresses","litecoinWithdrawal","litecoinDepositAddresses","openOrders","order","orderHistory","orderById","pusherAuth","redeemVoucher","replaceByBuyLimit","replaceByBuyInstant","replaceBySellLimit","replaceBySellInstant","rippleDepositAddresses","rippleWithdrawal","sellInstant","sellLimit","transactionHistory","traderFees","tradeHistory","transfer","transferHistory","unconfirmedBitcoinDeposits","unconfirmedBitcoinCashDeposits","unconfirmedDashDeposits","unconfirmedEthereumDeposits","unconfirmedLitecoinDeposits","unconfirmedRippleDeposits"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0012,taker:.0025,tiers:{taker:[[0,.0025],[1e4,.0023],[1e5,.0021],[25e4,.002],[5e5,.0015],[1e6,.0013],[3e6,.001],[15e6,5e-4]],maker:[[0,.0012],[1e4,.0011],[1e6,.001],[25e4,8e-4],[5e5,5e-4],[1e6,3e-4],[3e6,2e-4],[15e6,0]]}},promotional:{trading:{maker:5e-4,taker:.0015,tiers:{taker:[[0,.0015],[1e4,.14/100],[1e5,.0013],[25e4,.0012],[5e5,.0011],[1e6,.001],[3e6,8e-4],[15e6,5e-4]],maker:[[0,5e-4],[1e4,4e-4],[1e6,3e-4],[25e4,2e-4],[5e5,0],[1e6,0],[3e6,0],[15e6,0]]}}}},options:{promotionalMarkets:["ETH/EUR","ETH/CZK","ETH/BTC","XRP/EUR","XRP/CZK","XRP/BTC","DASH/EUR","DASH/CZK","DASH/BTC","BCH/EUR","BCH/CZK","BCH/BTC"]},exceptions:{exact:{"No order with given ID":o},broad:{"Not enough account balance available":d,"Incorrect order ID":a,"Minimum Order Size ":a,"TOO MANY REQUESTS":c}}})}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),n=this.safeString(e,"firstCurrency"),a=this.safeString(e,"secondCurrency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(this.options,"promotionalMarkets",[]);let u=this.safeValue(this.fees,"trading");if(this.inArray(d,h)){const e=this.safeValue(this.fees,"promotional",{});u=this.safeValue(e,"trading",u)}r.push({id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:void 0,maker:u["maker"],taker:u["taker"],info:e,precision:{price:this.safeInteger(e,"priceDecimals"),amount:this.safeInteger(e,"lotDecimals")},limits:{amount:{min:this.safeNumber(e,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i=this.safeValue(t,"data"),r={info:t},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),a=this.safeValue(i,e),o=this.account();o["free"]=this.safeString(a,"available"),o["used"]=this.safeString(a,"reserved"),o["total"]=this.safeString(a,"balance"),r[t]=o}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e),groupByPriceLimit:"False"},s=await this.publicGetOrderBook(this.extend(r,i)),n=s["data"],a=this.safeTimestamp(n,"timestamp");return this.parseOrderBook(n,e,a,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currencyPair:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data"),n=this.safeTimestamp(s,"timestamp"),a=this.safeNumber(s,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"amount"),quoteVolume:void 0,info:s}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={limit:1e3};void 0!==i&&(s["limit"]=i),void 0!==t&&(s["timestampFrom"]=t),void 0!==e&&(s["currency"]=this.currencyId(e));const n=await this.privatePostTransferHistory(this.extend(s,r)),a=n["data"];return this.parseTransactions(a,void 0,t,i)}parseTransactionStatus(e){const t={COMPLETED:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeNumber(e,"amount"),s=this.safeNumber(e,"fee"),n=this.safeString(e,"txid"),a=this.safeString(e,"destination"),o=this.safeString(e,"destinationTag"),c=this.safeString(e,"amountCurrency"),d=this.safeCurrencyCode(c,t),h=this.safeStringLower(e,"transferType"),u=this.parseTransactionStatus(this.safeString(e,"transferStatus")),l=this.safeString(e,"transactionId");return{id:l,timestamp:i,datetime:this.iso8601(i),currency:d,amount:r,type:h,txid:n,address:a,tag:o,status:u,fee:{cost:s,currency:d},info:e}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=1e3);const s={limit:i};if(void 0!==e){const t=this.market(e);s["currencyPair"]=t["id"]}void 0!==t&&(s["timestampFrom"]=t);const n=await this.privatePostTradeHistory(this.extend(s,r)),a=n["data"];return this.parseTrades(a,void 0,t,i)}parseTrade(e,t){const i=this.safeString(e,"currencyPair");t=this.safeMarket(i,t,"_");const r=this.safeString(e,"price"),s=this.safeString(e,"amount"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(h.stringMul(r,s)),c=this.safeStringLower2(e,"type","tradeType"),d=this.safeStringLower(e,"orderType"),u=this.safeString(e,"orderId"),l=this.safeString(e,"transactionId"),f=this.safeInteger2(e,"timestamp","createdTimestamp");let p=void 0;const m=this.safeNumber(e,"fee");void 0!==m&&(p={cost:m,currency:t["quote"]});let g=this.safeString(e,"feeType");return g="MAKER"===g?"maker":"taker",{id:l,info:e,timestamp:f,datetime:this.iso8601(f),symbol:t["symbol"],type:d,side:c,order:u,takerOrMaker:g,price:n,amount:a,cost:o,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currencyPair:s["id"],minutesIntoHistory:10},a=await this.publicGetTransactions(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s=await this.privatePostOpenOrders(this.extend({},r)),n={status:"open"};return this.parseOrders(s["data"],void 0,t,i,n)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={currencyPair:s["id"]};void 0!==i&&(a["limit"]=i);const o=await this.privatePostOrderHistory(this.extend(a,r));return this.parseOrders(o["data"],s,t,i)}parseOrderStatus(e){const t={FILLED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED:"open",OPEN:"open"};return this.safeString(t,e,e)}parseOrderType(e){const t={LIMIT:"limit",MARKET:"market"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"timestamp"),s=this.safeStringLower(e,"type"),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"originalAmount");let o=this.safeNumber(e,"remainingAmount");void 0===o&&(o=this.safeNumber(e,"amount"));const c=this.parseOrderStatus(this.safeString(e,"status")),d=this.parseOrderType(this.safeString(e,"orderTradeType")),h=this.safeNumber(e,"avgPrice"),u=this.safeString(e,"currencyPair"),l=this.safeSymbol(u,t,"_"),f=this.safeString(e,"clientOrderId"),p=this.safeNumber(e,"stopPrice");return this.safeOrder({id:i,clientOrderId:f,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:l,type:d,timeInForce:void 0,postOnly:void 0,side:s,price:n,stopPrice:p,amount:a,cost:void 0,average:h,filled:void 0,remaining:o,status:c,trades:void 0,info:e,fee:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();let a="privatePost"+this.capitalize(i);const o={currencyPair:this.marketId(e)};"market"===t?("buy"===i?o["total"]=this.amountToPrecision(e,r):o["amount"]=this.amountToPrecision(e,r),a+="Instant"):(o["amount"]=this.amountToPrecision(e,r),o["price"]=this.priceToPrecision(e,s),a+=this.capitalize(t));const c=await this[a](this.extend(o,n)),d=this.safeString(c,"data");return{info:c,id:d}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};let s=void 0;t&&(s=this.market(t));const n=await this.privatePostOrderById(this.extend(r,i)),a=this.safeValue(n,"data");return this.parseOrder(a,s)}async cancelOrder(e,t,i={}){const r={orderId:e},s=await this.privatePostCancelOrderWithInfo(this.extend(r,i));return{info:s}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+e;if("public"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));n=this.urlencode(this.extend({clientId:this.uid,nonce:e,publicKey:this.apiKey,signature:i.toUpperCase()},r)),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"error"in o&&o["error"]){const e=this.safeString(o,"errorMessage"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new s(this.id+" "+this.json(o))}if(e>400){if(a){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],a,e),this.throwBroadlyMatchedException(this.exceptions["broad"],a,e),new s(e)}throw new s(this.id+" "+a)}}}},"1fb5":function(e,t,i){"use strict";t.byteLength=h,t.toByteArray=l,t.fromByteArray=m;for(var r=[],s=[],n="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=a.length;o<c;++o)r[o]=a[o],s[a.charCodeAt(o)]=o;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var r=i===t?0:4-i%4;return[i,r]}function h(e){var t=d(e),i=t[0],r=t[1];return 3*(i+r)/4-r}function u(e,t,i){return 3*(t+i)/4-i}function l(e){var t,i,r=d(e),a=r[0],o=r[1],c=new n(u(e,a,o)),h=0,l=o>0?a-4:a;for(i=0;i<l;i+=4)t=s[e.charCodeAt(i)]<<18|s[e.charCodeAt(i+1)]<<12|s[e.charCodeAt(i+2)]<<6|s[e.charCodeAt(i+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;return 2===o&&(t=s[e.charCodeAt(i)]<<2|s[e.charCodeAt(i+1)]>>4,c[h++]=255&t),1===o&&(t=s[e.charCodeAt(i)]<<10|s[e.charCodeAt(i+1)]<<4|s[e.charCodeAt(i+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t),c}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,i){for(var r,s=[],n=t;n<i;n+=3)r=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]),s.push(f(r));return s.join("")}function m(e){for(var t,i=e.length,s=i%3,n=[],a=16383,o=0,c=i-s;o<c;o+=a)n.push(p(e,o,o+a>c?c:o+a));return 1===s?(t=e[i-1],n.push(r[t>>2]+r[t<<4&63]+"==")):2===s&&(t=(e[i-2]<<8)+e[i-1],n.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),n.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},2018:function(e,t,i){"use strict";(function(t){const r="undefined"!==typeof window,s="undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.electron,n="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,a="undefined"!==typeof t&&"win32"===t.platform,o=!(r||n),c="undefined"===typeof fetch?i("7e8f")().fetch:fetch;e.exports={isBrowser:r,isElectron:s,isWebWorker:n,isNode:o,isWindows:a,defaultFetch:c}}).call(this,i("4362"))},2021:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,PermissionDenied:n,ExchangeNotAvailable:a,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,RateLimitExceeded:h,NotSupported:u,BadRequest:l,AuthenticationError:f}=i("74b0"),p=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"timex",name:"TimeX",countries:["AU"],version:"v1",rateLimit:1500,has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"I1","5m":"I5","15m":"I15","30m":"I30","1h":"H1","2h":"H2","4h":"H4","6h":"H6","12h":"H12","1d":"D1","1w":"W1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/70423869-6839ab00-1a7f-11ea-8f94-13ae72c31115.jpg",api:"https://plasma-relay-backend.timex.io",www:"https://timex.io",doc:"https://docs.timex.io",referral:"https://timex.io/?refcode=1x27vNkTbP1uwkCck"},api:{custody:{get:["credentials","credentials/h/{hash}","credentials/k/{key}","credentials/me/address","deposit-addresses","deposit-addresses/h/{hash}"]},history:{get:["orders","orders/details","orders/export/csv","trades","trades/export/csv"]},currencies:{get:["a/{address}","i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},markets:{get:["i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},public:{get:["candles","currencies","markets","orderbook","orderbook/raw","orderbook/v2","tickers","trades"]},statistics:{get:["address"]},trading:{get:["balances","fees","orders"],post:["orders","orders/json"],put:["orders","orders/json"],delete:["orders","orders/json"]},tradingview:{get:["config","history","symbol_info","time"]}},exceptions:{exact:{0:s,1:u,4e3:l,4001:l,4002:o,4003:f,4004:f,4005:l,4006:l,4007:l,4300:n,4100:f,4400:c,5001:d,5002:s,400:l,401:f,403:n,404:c,429:h,500:s,503:a},broad:{Insufficient:o}},options:{fetchTickers:{period:"1d"},fetchTrades:{sort:"timestamp,asc"},fetchMyTrades:{sort:"timestamp,asc"},fetchOpenOrders:{sort:"createdAt,asc"},fetchClosedOrders:{sort:"createdAt,asc"},defaultSort:"timestamp,asc",defaultSortOrders:"createdAt,asc"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++)i.push(this.parseMarket(t[r]));return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=[];for(let r=0;r<t.length;r++){const e=t[r];i.push(this.parseCurrency(e))}return this.indexBy(i,"code")}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options["fetchTickers"],"period","1d"),r={period:this.timeframes[i]},s=await this.publicGetTickers(this.extend(r,t));return this.parseTickers(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.safeString(this.options["fetchTickers"],"period","1d"),s={market:i["id"],period:this.timeframes[r]},n=await this.publicGetTickers(this.extend(s,t)),a=this.safeValue(n,0);return this.parseTicker(a,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderbookV2(this.extend(s,i)),a=this.parse8601(this.safeString(n,"timestamp"));return this.parseOrderBook(n,e,a,"bid","ask","price","baseTokenAmount")}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=this.safeValue(this.options,"fetchTrades",{}),a=this.safeValue(n,"sort","timestamp,asc"),o=this.safeString(r,"sort",a),c=this.omit(r,"sort"),d={market:s["id"],sort:o};void 0!==t&&(d["from"]=this.iso8601(t)),void 0!==i&&(d["size"]=i);const h=await this.publicGetTrades(this.extend(d,c));return this.parseTrades(h,s,t,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={market:n["id"],period:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0!==i)a["from"]=this.iso8601(i),void 0!==r&&(a["till"]=this.iso8601(this.sum(i,this.sum(r,1)*o*1e3)));else if(void 0!==r){const e=this.milliseconds();a["till"]=this.iso8601(e),a["from"]=this.iso8601(e-r*o*1e3-1)}else a["till"]=this.iso8601(this.milliseconds());const c=await this.publicGetCandles(this.extend(a,s));return this.parseOHLCVs(c,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.tradingGetBalances(e),i={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=this.account();a["total"]=this.safeString(e,"totalBalance"),a["used"]=this.safeString(e,"lockedBalance"),i[n]=a}return this.parseBalance(i,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=i.toUpperCase(),c=t.toUpperCase(),h={symbol:a["id"],quantity:this.amountToPrecision(e,r),side:o,orderTypes:c};let u=n;if("LIMIT"===c){h["price"]=this.priceToPrecision(e,s);const i=this.safeInteger(this.options,"expireIn"),r=this.safeValue(n,"expireTime"),a=this.safeValue(n,"expireIn",i);if(void 0!==r)h["expireTime"]=r;else{if(void 0===a)throw new d(this.id+" createOrder() method requires a expireTime or expireIn param for a "+t+" order, you can also set the expireIn exchange-wide option");h["expireIn"]=a}u=this.omit(n,["expireTime","expireIn"])}else h["price"]=0;const l=await this.tradingPostOrders(this.extend(h,u)),f=this.safeValue(l,"orders",[]),p=this.safeValue(f,0,{});return this.parseOrder(p,a)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o=this.market(t),c={id:e};void 0!==s&&(c["quantity"]=this.amountToPrecision(t,s)),void 0!==n&&(c["price"]=this.priceToPrecision(t,n));const d=await this.tradingPutOrders(this.extend(c,a));if("unchangedOrders"in d){const e=this.safeValue(d,"unchangedOrders",[]),t=this.safeString(e,0);return{id:t,info:d}}const h=this.safeValue(d,"changedOrders",[]),u=this.safeValue(h,0,{}),l=this.safeValue(u,"newOrder",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.cancelOrders([e],t,i)}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.tradingDeleteOrders(this.extend(r,i));return s}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderHash:e},s=await this.historyGetOrdersDetails(r),n=this.safeValue(s,"order",{}),a=this.safeValue(s,"trades",[]);return this.parseOrder(this.extend(n,{trades:a}))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchOpenOrders",{}),n=this.safeValue(s,"sort","createdAt,asc"),a=this.safeString(r,"sort",n),o=this.omit(r,"sort"),c={sort:a};let d=void 0;void 0!==e&&(d=this.market(e),c["symbol"]=d["id"]),void 0!==i&&(c["size"]=i);const h=await this.tradingGetOrders(this.extend(c,o)),u=this.safeValue(h,"orders",[]);return this.parseOrders(u,d,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchClosedOrders",{}),n=this.safeValue(s,"sort","createdAt,asc"),a=this.safeString(r,"sort",n),o=this.omit(r,"sort"),c={sort:a,side:"BUY"};let d=void 0;void 0!==e&&(d=this.market(e),c["symbol"]=d["id"]),void 0!==t&&(c["from"]=this.iso8601(t)),void 0!==i&&(c["size"]=i);const h=await this.historyGetOrders(this.extend(c,o)),u=this.safeValue(h,"orders",[]);return this.parseOrders(u,d,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchMyTrades",{}),n=this.safeValue(s,"sort","timestamp,asc"),a=this.safeString(r,"sort",n),o=this.omit(r,"sort"),c={sort:a};let d=void 0;void 0!==e&&(d=this.market(e),c["symbol"]=d["id"]),void 0!==t&&(c["from"]=this.iso8601(t)),void 0!==i&&(c["size"]=i);const h=await this.historyGetTrades(this.extend(c,o)),u=this.safeValue(h,"trades",[]);return this.parseTrades(u,d,t,i)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={markets:i["id"]},s=await this.tradingGetFees(this.extend(r,t)),n=this.safeValue(s,0,{});return{info:s,maker:this.safeNumber(n,"fee"),taker:void 0}}parseMarket(e){const t=this.safeValue(e,"locked"),i=!t,r=this.safeString(e,"symbol"),s=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),a=this.safeCurrencyCode(s),o=this.safeCurrencyCode(n),c=a+"/"+o,d={amount:this.precisionFromString(this.safeString(e,"quantityIncrement")),price:this.precisionFromString(this.safeString(e,"tickSize"))},h=this.safeNumber(e,"quantityIncrement"),u=this.safeNumber(e,"baseMinSize"),l=Math.max(h,u),f=this.safeNumber(e,"tickSize"),p=this.safeNumber(e,"quoteMinSize"),m={amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:Math.max(p,l*f),max:void 0}},g=this.safeNumber(e,"takerFee"),y=this.safeNumber(e,"makerFee");return{id:r,symbol:c,base:a,quote:o,baseId:s,quoteId:n,type:"spot",active:i,precision:d,limits:m,taker:g,maker:y,info:e}}parseCurrency(e){const t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t),r=this.safeString(e,"name"),s=this.safeInteger(e,"decimals"),n=this.safeValue(e,"active"),a=this.safeString(e,"withdrawalFee"),o=this.safeInteger(e,"tradeDecimals");let c=void 0;if(void 0!==a&&void 0!==o){const e=a.length,t=e-o;if(t>0){const e=a.slice(0,t),i=a.slice(-t);c=parseFloat(e+"."+i)}else{let e=".";for(let i=0;i<-t;i++)e+="0";c=parseFloat(e+a)}}return{id:i,code:i,info:e,type:void 0,name:r,active:n,fee:c,precision:s,limits:{withdraw:{min:c,max:void 0},amount:{min:void 0,max:void 0}}}}parseTicker(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"/"),s=this.parse8601(this.safeString(e,"timestamp")),n=this.safeNumber(e,"last"),a=this.safeNumber(e,"open");let o=void 0,c=void 0;void 0!==n&&void 0!==a&&(o=n-a,c=this.sum(n,a)/2);let d=void 0;return void 0!==o&&a&&(d=o/a*100),{symbol:r,info:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:d,average:c,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"volumeQuote")}}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"timestamp")),n=this.safeString(e,"price"),a=this.safeString(e,"quantity"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(p.stringMul(n,a)),h=this.safeString(e,"id"),u=this.safeStringLower2(e,"direction","side"),l=this.safeStringLower(e,"makerOrTaker");let f=void 0;void 0!==l&&(f=this.safeString(e,l+"OrderId"));let m=void 0;const g=this.safeNumber(e,"fee"),y=this.safeCurrencyCode(this.safeString(e,"feeToken"));return void 0!==g&&(m={cost:g,currency:y}),{info:e,id:h,timestamp:s,datetime:this.iso8601(s),symbol:r,order:f,type:void 0,side:u,price:o,amount:c,cost:d,takerOrMaker:l,fee:m}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeStringLower(e,"type"),s=this.safeStringLower(e,"side"),n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t),o=this.parse8601(this.safeString(e,"createdAt")),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"quantity"),h=this.safeNumber(e,"filledQuantity"),u=this.safeNumber(e,"cancelledQuantity");let l=void 0;void 0!==d&&void 0!==h&&(l=h>=d?"closed":void 0!==u&&u>0?"canceled":"open");const f=this.safeValue(e,"trades",[]),p=this.parseTrades(f,t,void 0,void 0,{order:i,type:r}),m=this.safeString(e,"clientOrderId");return this.safeOrder({info:e,id:i,clientOrderId:m,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:a,type:r,timeInForce:void 0,postOnly:void 0,side:s,price:c,stopPrice:void 0,amount:d,cost:void 0,average:void 0,filled:h,remaining:void 0,status:l,fee:void 0,trades:p})}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+t+"/"+e;if(Object.keys(r).length&&(a+="?"+this.urlencodeWithArrayRepeat(r)),"public"!==t){this.checkRequiredCredentials();const e=this.stringToBase64(this.apiKey+":"+this.secret),t="Basic "+this.decode(e);s={authorization:t}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&e>=400){const e=this.id+" "+a;let t=this.safeValue(o,"error");void 0===t&&(t=o);const i=this.safeString2(t,"code","status"),r=this.safeString2(t,"message","debugMessage");throw this.throwBroadlyMatchedException(this.exceptions["broad"],r,e),this.throwExactlyMatchedException(this.exceptions["exact"],i,e),this.throwExactlyMatchedException(this.exceptions["exact"],r,e),new s(e)}}}},"20e7":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,AuthenticationError:a,RateLimitExceeded:o,InvalidNonce:c}=i("74b0"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbase",name:"Coinbase",countries:["US"],rateLimit:400,version:"v2",userAgent:this.userAgents["chrome"],headers:{"CB-VERSION":"2018-05-30"},has:{CORS:!0,cancelOrder:!1,createDepositAddress:!0,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchLedger:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchMySells:!0,fetchMyBuys:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees",referral:"https://www.coinbase.com/join/58cbe25a355148797479dbd2"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{exact:{two_factor_required:a,param_required:s,validation_error:s,invalid_request:s,personal_details_required:a,identity_verification_required:a,jumio_verification_required:a,jumio_face_match_verification_required:a,unverified_email:a,authentication_error:a,invalid_token:a,revoked_token:a,expired_token:a,invalid_scope:a,not_found:s,rate_limit_exceeded:o,internal_server_error:s},broad:{"request timestamp expired":c}},commonCurrencies:{CGLD:"CELO"},options:{fetchCurrencies:{expires:5e3},accounts:["wallet","fiat"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"data",{});return this.safeTimestamp(i,"epoch")}async fetchAccounts(e={}){await this.loadMarkets();const t={limit:100},i=await this.privateGetAccounts(this.extend(t,e)),r=this.safeValue(i,"data",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeValue(e,"currency",{}),i=this.safeString(t,"code"),a=this.safeCurrencyCode(i);s.push({id:this.safeString(e,"id"),type:this.safeString(e,"type"),code:a,info:e})}return s}async createDepositAddress(e,t={}){let i=this.safeString(t,"account_id");if(t=this.omit(t,"account_id"),void 0===i){await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const r=this.accounts[t];if(r["code"]===e&&"wallet"===r["type"]){i=r["id"];break}}}if(void 0===i)throw new s(this.id+" createDepositAddress could not find the account with matching currency code, specify an `account_id` extra param");const r={account_id:i},n=await this.privatePostAccountsAccountIdAddresses(this.extend(r,t)),a=this.safeValue(n,"data",{}),o=this.safeString(a,"destination_tag"),c=this.safeString(a,"address");return{currency:e,tag:o,address:c,info:n}}async fetchMySells(e,t,i,r={}){const s=await this.prepareAccountRequest(i,r);await this.loadMarkets();const n=this.omit(r,["account_id","accountId"]),a=await this.privateGetAccountsAccountIdSells(this.extend(s,n));return this.parseTrades(a["data"],void 0,t,i)}async fetchMyBuys(e,t,i,r={}){const s=await this.prepareAccountRequest(i,r);await this.loadMarkets();const n=this.omit(r,["account_id","accountId"]),a=await this.privateGetAccountsAccountIdBuys(this.extend(s,n));return this.parseTrades(a["data"],void 0,t,i)}async fetchTransactionsWithMethod(e,t,i,r,s={}){const n=await this.prepareAccountRequestWithCurrencyCode(t,r,s);await this.loadMarkets();const a=this.omit(s,["account_id","accountId"]),o=await this[e](this.extend(n,a));return this.parseTransactions(o["data"],void 0,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdWithdrawals",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdDeposits",e,t,i,r)}parseTransactionStatus(e){const t={created:"pending",completed:"ok",canceled:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeValue(e,"subtotal",{}),r=this.safeValue(e,"fee",{}),s=this.safeString(e,"id"),n=this.parse8601(this.safeValue(e,"created_at")),a=this.parse8601(this.safeValue(e,"updated_at")),o=this.safeString(e,"resource"),c=this.safeNumber(i,"amount"),d=this.safeString(i,"currency"),h=this.safeCurrencyCode(d),u=this.safeNumber(r,"amount"),l=this.safeString(r,"currency"),f=this.safeCurrencyCode(l),p={cost:u,currency:f};let m=this.parseTransactionStatus(this.safeString(e,"status"));if(void 0===m){const t=this.safeValue(e,"committed");m=t?"ok":"pending"}return{info:e,id:s,txid:s,timestamp:n,datetime:this.iso8601(n),address:void 0,tag:void 0,type:o,amount:c,currency:h,status:m,updated:a,fee:p}}parseTrade(e,t){let i=void 0;const r=this.safeValue(e,"total",{}),s=this.safeValue(e,"amount",{}),n=this.safeValue(e,"subtotal",{}),a=this.safeValue(e,"fee",{}),o=this.safeString(e,"id"),c=this.parse8601(this.safeValue(e,"created_at"));if(void 0===t){const e=this.safeString(s,"currency"),t=this.safeString(r,"currency");if(void 0!==e&&void 0!==t){const r=this.safeCurrencyCode(e),s=this.safeCurrencyCode(t);i=r+"/"+s}}const h=void 0,u=this.safeString(e,"resource"),l=void 0,f=this.safeString(n,"amount"),p=this.safeString(s,"amount"),m=this.parseNumber(f),g=this.parseNumber(p),y=this.parseNumber(d.stringDiv(f,p)),v=this.safeNumber(a,"amount"),b=this.safeString(a,"currency"),w=this.safeCurrencyCode(b),S={cost:v,currency:w};return{info:e,id:o,order:h,timestamp:c,datetime:this.iso8601(c),symbol:i,type:l,side:u,takerOrMaker:void 0,price:y,amount:g,cost:m,fee:S}}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),r=this.safeValue(t,"exchangeRates",{}),s=this.safeValue(i,"data",[]),n=this.indexBy(s,"id"),a=this.safeValue(this.safeValue(r,"data",{}),"rates",{}),o=Object.keys(a),c=[];for(let d=0;d<o.length;d++){const e=o[d],t=this.safeCurrencyCode(e),i=e in n?"fiat":"crypto";if("crypto"===i)for(let r=0;r<s.length;r++){const i=s[r],n=this.safeString(i,"id"),a=this.safeCurrencyCode(n),o=t+"/"+a,d=e+"-"+n;c.push({id:d,symbol:o,base:t,quote:a,baseId:e,quoteId:n,active:void 0,info:i,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(i,"min_size"),max:void 0}}})}}return c}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencies(e),r=await this.publicGetExchangeRates(e);this.options["fetchCurrencies"]=this.extend(t,{currencies:i,exchangeRates:r,timestamp:s})}return this.safeValue(this.options,"fetchCurrencies",{})}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),r=this.safeValue(t,"exchangeRates",{}),s=this.safeValue(i,"data",[]),n=this.indexBy(s,"id"),a=this.safeValue(this.safeValue(r,"data",{}),"rates",{}),o=Object.keys(a),c={};for(let d=0;d<o.length;d++){const e=o[d],t=e in n?"fiat":"crypto",i=this.safeValue(n,e,{}),r=this.safeString(i,"id",e),s=this.safeString(i,"name"),a=this.safeCurrencyCode(r);c[a]={id:r,code:a,info:i,type:t,name:s,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:this.safeNumber(i,"min_size"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return c}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.seconds(),r=this.market(e),s=this.extend({symbol:r["id"]},t),n=await this.publicGetPricesSymbolBuy(s),a=await this.publicGetPricesSymbolSell(s),o=await this.publicGetPricesSymbolSpot(s),c=this.safeNumber(n["data"],"amount"),d=this.safeNumber(a["data"],"amount"),h=this.safeNumber(o["data"],"amount");return{symbol:e,timestamp:i,datetime:this.iso8601(i),bid:d,ask:c,last:h,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:{buy:n,sell:a,spot:o}}}async fetchBalance(e={}){await this.loadMarkets();const t={limit:100},i=await this.privateGetAccounts(this.extend(t,e)),r=this.safeValue(i,"data"),s=this.safeValue(e,"type",this.options["accounts"]),n={info:i};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"type");if(this.inArray(t,s)){const t=this.safeValue(e,"balance");if(void 0!==t){const e=this.safeString(t,"currency"),i=this.safeCurrencyCode(e),r=this.safeString(t,"amount"),s=r;let a=this.safeValue(n,i);void 0===a?(a=this.account(),a["free"]=s,a["total"]=r):(a["free"]=d.stringAdd(a["free"],r),a["total"]=d.stringAdd(a["total"],r)),n[i]=a}}}return this.parseBalance(n,!1)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n=await this.prepareAccountRequestWithCurrencyCode(e,i,r),a=this.omit(r,["account_id","accountId"]),o=await this.privateGetAccountsAccountIdTransactions(this.extend(n,a));return this.parseLedger(o["data"],s,t,i)}parseLedgerEntryStatus(e){const t={completed:"ok"};return this.safeString(t,e,e)}parseLedgerEntryType(e){const t={buy:"trade",sell:"trade",fiat_deposit:"transaction",fiat_withdrawal:"transaction",exchange_deposit:"transaction",exchange_withdrawal:"transaction",send:"transaction",pro_deposit:"transaction",pro_withdrawal:"transaction"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeValue(e,"amount",{});let r=this.safeNumber(i,"amount"),s=void 0;r<0?(s="out",r=-r):s="in";const n=this.safeString(i,"currency"),a=this.safeCurrencyCode(n,t);let o=void 0;const c=this.safeValue(e,"network",{}),d=this.safeValue(c,"transaction_fee");if(void 0!==d){const e=this.safeString(d,"currency"),i=this.safeCurrencyCode(e,t),r=this.safeNumber(d,"amount");o={cost:r,currency:i}}const h=this.parse8601(this.safeValue(e,"created_at")),u=this.safeString(e,"id"),l=this.parseLedgerEntryType(this.safeString(e,"type")),f=this.parseLedgerEntryStatus(this.safeString(e,"status")),p=this.safeString(e,"resource_path");let m=void 0;if(void 0!==p){const e=p.split("/"),t=e.length;t>3&&(m=e[3])}return{info:e,id:u,timestamp:h,datetime:this.iso8601(h),direction:s,account:m,referenceId:void 0,referenceAccount:void 0,type:l,currency:a,amount:r,before:void 0,after:void 0,status:f,fee:o}}async findAccountId(e){await this.loadMarkets(),await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const i=this.accounts[t];if(i["code"]===e)return i["id"]}}prepareAccountRequest(e,t={}){const i=this.safeString2(t,"account_id","accountId");if(void 0===i)throw new n(this.id+" method requires an account_id (or accountId) parameter");const r={account_id:i};return void 0!==e&&(r["limit"]=e),r}async prepareAccountRequestWithCurrencyCode(e,t,i={}){let r=this.safeString2(i,"account_id","accountId");if(void 0===r){if(void 0===e)throw new n(this.id+" method requires an account_id (or accountId) parameter OR a currency code argument");if(r=await this.findAccountId(e),void 0===r)throw new s(this.id+" could not find account id for "+e)}const a={account_id:r};return void 0!==t&&(a["limit"]=t),a}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(a+="?"+this.urlencode(o));const c=this.urls["api"]+a;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(n=this.json(o),t=n);const r=e+i+a+t,c=this.hmac(this.encode(r),this.encode(this.secret));s={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":c,"CB-ACCESS-TIMESTAMP":e,"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.id+" "+a;let u=this.safeString(o,"error");if(void 0!==u){const e=this.safeString(o,"error_description");throw this.throwExactlyMatchedException(this.exceptions["exact"],u,h),this.throwBroadlyMatchedException(this.exceptions["broad"],e,h),new s(h)}const l=this.safeValue(o,"errors");if(void 0!==l&&Array.isArray(l)){const e=l.length;if(e>0){u=this.safeString(l[0],"id");const e=this.safeString(l[0],"message");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions["exact"],u,h),this.throwBroadlyMatchedException(this.exceptions["broad"],e,h),new s(h)}}const f=this.safeValue(o,"data");if(void 0===f)throw new s(this.id+" failed due to a malformed response "+this.json(o))}}},"20f6":function(e,t,i){},"21be":function(e,t,i){"use strict";var r=i("2909"),s=(i("99af"),i("caad"),i("2532"),i("2b0e")),n=i("80d2");t["a"]=s["a"].extend().extend({name:"stackable",data:function(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var e=this.stackElement||this.$refs.content,t=this.isActive?this.getMaxZIndex(this.stackExclude||[e])+2:Object(n["u"])(e);return null==t?t:parseInt(t)}},methods:{getMaxZIndex:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.$el,i=[this.stackMinZIndex,Object(n["u"])(t)],s=[].concat(Object(r["a"])(document.getElementsByClassName("v-menu__content--active")),Object(r["a"])(document.getElementsByClassName("v-dialog__content--active"))),a=0;a<s.length;a++)e.includes(s[a])||i.push(Object(n["u"])(s[a]));return Math.max.apply(Math,i)}}})},2266:function(e,t,i){var r=i("825a"),s=i("e95a"),n=i("50c4"),a=i("0366"),o=i("35a1"),c=i("2a62"),d=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,i){var h,u,l,f,p,m,g,y=i&&i.that,v=!(!i||!i.AS_ENTRIES),b=!(!i||!i.IS_ITERATOR),w=!(!i||!i.INTERRUPTED),S=a(t,y,1+v+w),k=function(e){return h&&c(h),new d(!0,e)},_=function(e){return v?(r(e),w?S(e[0],e[1],k):S(e[0],e[1])):w?S(e,k):S(e)};if(b)h=e;else{if(u=o(e),"function"!=typeof u)throw TypeError("Target is not iterable");if(s(u)){for(l=0,f=n(e.length);f>l;l++)if(p=_(e[l]),p&&p instanceof d)return p;return new d(!1)}h=u.call(e)}m=h.next;while(!(g=m.call(h)).done){try{p=_(g.value)}catch(O){throw c(h),O}if("object"==typeof p&&p&&p instanceof d)return p}return new d(!1)}},"23cb":function(e,t,i){var r=i("a691"),s=Math.max,n=Math.min;e.exports=function(e,t){var i=r(e);return i<0?s(i+t,0):n(i,t)}},"23e7":function(e,t,i){var r=i("da84"),s=i("06cf").f,n=i("9112"),a=i("6eeb"),o=i("ce4e"),c=i("e893"),d=i("94ca");e.exports=function(e,t){var i,h,u,l,f,p,m=e.target,g=e.global,y=e.stat;if(h=g?r:y?r[m]||o(m,{}):(r[m]||{}).prototype,h)for(u in t){if(f=t[u],e.noTargetGet?(p=s(h,u),l=p&&p.value):l=h[u],i=d(g?u:m+(y?".":"#")+u,e.forced),!i&&void 0!==l){if(typeof f===typeof l)continue;c(f,l)}(e.sham||l&&l.sham)&&n(f,"sham",!0),a(h,u,f,e)}}},2410:function(e,t,i){"use strict";const r=i("90db"),{InsufficientFunds:s,ExchangeError:n,InvalidNonce:a,InvalidOrder:o,ArgumentsRequired:c}=i("74b0"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:["UK"],has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153925-ef265e80-c2c0-11ea-91b5-020c804b90e0.jpg",api:"https://webapi.coinfloor.co.uk/v2/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{symbol}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",baseId:"XBT",quoteId:"GBP",precision:{price:0,amount:4}},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR",precision:{price:0,amount:4}}},exceptions:{exact:{"You have insufficient funds.":s,"Tonce is out of sequence.":a}}})}async fetchBalance(e={}){await this.loadMarkets();let t=void 0,i=e;const r=this.safeString(e,"symbol");void 0!==r&&(t=this.market(e["symbol"]),i=this.omit(e,"symbol"));const s=this.safeString(e,"id");if(s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0===t)throw new c(this.id+" fetchBalance() requires a symbol param");const n={id:t["id"]},a=await this.privatePostIdBalance(this.extend(n,i)),o={info:a},d=t["base"],h=t["quote"],u=this.safeStringLower(t,"baseId"),l=this.safeStringLower(t,"quoteId");return o[d]={free:this.safeString(a,u+"_available"),used:this.safeString(a,u+"_reserved"),total:this.safeString(a,u+"_balance")},o[h]={free:this.safeString(a,l+"_available"),used:this.safeString(a,l+"_reserved"),total:this.safeString(a,l+"_balance")},this.parseBalance(o,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetIdOrderBook(this.extend(r,i));return this.parseOrderBook(s,e)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"vwap"),n=this.safeNumber(e,"volume");let a=void 0;void 0!==s&&(a=n*s);const o=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:s,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:a,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i["id"]},s=await this.publicGetIdTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeString(e,"price"),n=this.safeString(e,"amount"),a=this.parseNumber(s),o=this.parseNumber(n),c=this.parseNumber(d.stringMul(s,n));let h=void 0;return void 0!==t&&(h=t["symbol"]),{info:e,id:r,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:h,type:void 0,side:void 0,takerOrMaker:void 0,price:a,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={id:s["id"]},a=await this.publicGetIdTransactions(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();let s=void 0;if(void 0!==e&&(s=this.market(e),void 0===s))throw new c(this.id+" fetchTransactions() requires a code argument (a market symbol)");const n={id:s["id"],limit:i},a=await this.privatePostIdUserTransactions(this.extend(n,r));return this.parseLedger(a,void 0,t,void 0)}parseLedgerEntryStatus(e){const t={completed:"ok"};return this.safeString(t,e,e)}parseLedgerEntryType(e){const t={0:"transaction",1:"transaction",2:"trade"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=Object.keys(e);let r=void 0,s=void 0,n=void 0,a=void 0;for(let m=0;m<i.length;m++){const t=i[m];if(t.indexOf("_")>0){const i=t.split("_"),o=i.length;if(2===o){const t=this.safeNumber(e,i[0]),o=this.safeNumber(e,i[1]);void 0!==t&&void 0!==o&&(r=i[0],s=i[1],n=t,a=o)}}}const o=this.safeCurrencyCode(r),c=this.safeCurrencyCode(s),d=this.parseLedgerEntryType(this.safeString(e,"type")),h=this.safeString(e,"id"),u=this.parse8601(this.safeString(e,"datetime"));let l=void 0;const f=this.safeNumber(e,"fee"),p={id:void 0,timestamp:u,datetime:this.iso8601(u),amount:void 0,direction:void 0,currency:void 0,type:d,referenceId:h,referenceAccount:void 0,before:void 0,after:void 0,status:"ok",fee:l,info:e};if("trade"===d)return void 0!==f&&(l={cost:f,currency:c}),[this.extend(p,{currency:o,amount:Math.abs(n),direction:n>0?"in":"out"}),this.extend(p,{currency:c,amount:Math.abs(a),direction:a>0?"in":"out",fee:l})];{const e=0===n?a:n,t=0===n?c:o,i=e>0?"in":"out";return void 0!==f&&(l={cost:f,currency:t}),this.extend(p,{currency:t,amount:Math.abs(e),direction:i,fee:l})}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={id:this.marketId(e)};let o="privatePostId"+this.capitalize(i);"market"===t?(a["quantity"]=r,o+="Market"):(a["price"]=s,a["amount"]=r);const c=await this[o](this.extend(a,n)),d=this.parse8601(this.safeString(c,"datetime"));return{id:this.safeString(c,"id"),clientOrderId:void 0,datetime:this.iso8601(d),timestamp:d,type:t,price:this.safeNumber(c,"price"),remaining:this.safeNumber(c,"amount"),info:c}}async cancelOrder(e,t,i={}){if(void 0===t)throw new c(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r["id"],id:e},n=await this.privatePostSymbolCancelOrder(s);if("false"===n)throw new o(this.id+" cancel was rejected");return n}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"datetime")),r=this.safeNumber(e,"price"),s=this.safeNumber(e,"amount");let n=void 0;const a=this.safeString(e,"status"),o=this.safeString(e,"type");"0"===o?n="buy":"1"===o&&(n="sell");let c=void 0;void 0!==t&&(c=t["symbol"]);const d=this.safeString(e,"id");return this.safeOrder({info:e,id:d,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:a,symbol:c,type:"limit",timeInForce:void 0,postOnly:void 0,side:n,price:r,stopPrice:void 0,amount:void 0,filled:void 0,remaining:s,cost:void 0,fee:void 0,average:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchOpenOrders() requires a symbol param");await this.loadMarkets();const s=this.market(e),n={id:s["id"]},a=await this.privatePostIdOpenOrders(this.extend(n,r));return this.parseOrders(a,s,t,i,{status:"open"})}handleErrors(e,t,i,r,s,a,o,c,d){if(e<400)return;if(void 0===o)return;const h=this.safeString(o,"error_msg"),u=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,u),new n(u)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();n=this.urlencode(this.extend({nonce:e},o));const t=this.uid+"/"+this.apiKey+":"+this.password,i=this.decode(this.stringToBase64(t));s={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+i}}return{url:a,method:i,body:n,headers:s}}}},"241c":function(e,t,i){var r=i("ca84"),s=i("7839"),n=s.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},2444:function(e,t,i){"use strict";(function(t){var r=i("c532"),s=i("c8af"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=i("b50d")),e}var c={adapter:o(),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(n)})),e.exports=c}).call(this,i("4362"))},"24b2":function(e,t,i){"use strict";i("a9e3");var r=i("80d2"),s=i("2b0e");t["a"]=s["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var e={},t=Object(r["g"])(this.height),i=Object(r["g"])(this.minHeight),s=Object(r["g"])(this.minWidth),n=Object(r["g"])(this.maxHeight),a=Object(r["g"])(this.maxWidth),o=Object(r["g"])(this.width);return t&&(e.height=t),i&&(e.minHeight=i),s&&(e.minWidth=s),n&&(e.maxHeight=n),a&&(e.maxWidth=a),o&&(e.width=o),e}}})},"24e2":function(e,t,i){"use strict";var r=i("e0c7");t["a"]=r["a"]},"24f8":function(e,t,i){var r=i("9490"),s=i("0b16"),n=e.exports;for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a]);function o(e){if("string"===typeof e&&(e=s.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}n.request=function(e,t){return e=o(e),r.request.call(this,e,t)},n.get=function(e,t){return e=o(e),r.get.call(this,e,t)}},2532:function(e,t,i){"use strict";var r=i("23e7"),s=i("5a34"),n=i("1d80"),a=i("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(n(this)).indexOf(s(e),arguments.length>1?arguments[1]:void 0)}})},"25a8":function(e,t,i){},"25f0":function(e,t,i){"use strict";var r=i("6eeb"),s=i("825a"),n=i("d039"),a=i("ad6d"),o="toString",c=RegExp.prototype,d=c[o],h=n((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),u=d.name!=o;(h||u)&&r(RegExp.prototype,o,(function(){var e=s(this),t=String(e.source),i=e.flags,r=String(void 0===i&&e instanceof RegExp&&!("flags"in c)?a.call(e):i);return"/"+t+"/"+r}),{unsafe:!0})},"260b":function(e,t,i){"use strict";var r=i("cc84");i.d(t,"a",(function(){return r["a"]}));var s="firebase",n="8.7.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["a"].registerVersion(s,n,"app"),r["a"].SDK_VERSION=n},2626:function(e,t,i){"use strict";var r=i("d066"),s=i("9bf2"),n=i("b622"),a=i("83ab"),o=n("species");e.exports=function(e){var t=r(e),i=s.f;a&&t&&!t[o]&&i(t,o,{configurable:!0,get:function(){return this}})}},"276e":function(e,t,i){"use strict";const r=i("90db"),{BadSymbol:s,ExchangeNotAvailable:n,ArgumentsRequired:a,PermissionDenied:o,AuthenticationError:c,ExchangeError:d,OrderNotFound:h,DDoSProtection:u,InvalidNonce:l,InsufficientFunds:f,CancelPending:p,InvalidOrder:m,InvalidAddress:g,RateLimitExceeded:y}=i("74b0"),{TRUNCATE:v,DECIMAL_PLACES:b}=i("5ea4"),w=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kraken",name:"Kraken",countries:["US"],version:"0",rateLimit:3e3,certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchLedgerEntry:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:"emulated",fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},marketsByAltname:{},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"4h":240,"1d":1440,"1w":10080,"2w":21600},urls:{logo:"https://user-images.githubusercontent.com/51840849/76173629-fc67fb00-61b1-11ea-84fe-f2de582f58a3.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://kraken.zendesk.com/api/v2/help_center/en-us/articles"},www:"https://www.kraken.com",doc:"https://www.kraken.com/features/api",fees:"https://www.kraken.com/en-us/features/fee-schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,XTZ:.05,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,XTZ:.05,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["360000292886","201893608"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","AddExport","Balance","CancelAll","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","ExportStatus","GetWebSocketsToken","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","RetrieveExport","RemoveExport","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},commonCurrencies:{XBT:"BTC","XBT.M":"BTC.M",XDG:"DOGE",REPV2:"REP",REP:"REPV1"},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{},delistedMarketsById:{},inactiveCurrencies:["CAD","USD","JPY","GBP"]},exceptions:{"EQuery:Invalid asset pair":s,"EAPI:Invalid key":c,"EFunding:Unknown withdraw key":d,"EFunding:Invalid amount":f,"EService:Unavailable":n,"EDatabase:Internal error":n,"EService:Busy":n,"EQuery:Unknown asset":d,"EAPI:Rate limit exceeded":u,"EOrder:Rate limit exceeded":u,"EGeneral:Internal error":n,"EGeneral:Temporary lockout":u,"EGeneral:Permission denied":o,"EOrder:Unknown order":m,"EOrder:Order minimum not met":m}})}costToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e]["precision"]["price"],b)}feeToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e]["precision"]["amount"],b)}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"result",{}),r=Object.keys(i);let s=[];for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeString(t,"base"),o=this.safeString(t,"quote"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=e.indexOf(".d")>=0,u=this.safeString(t,"altname"),l=h?u:c+"/"+d,f=this.safeValue(t,"fees_maker",[]),p=this.safeValue(f,0,[]),m=this.safeNumber(p,1);let g=void 0;void 0!==m&&(g=parseFloat(m)/100);const y=this.safeValue(t,"fees",[]),v=this.safeValue(y,0,[]),b=this.safeNumber(v,1);let w=void 0;void 0!==b&&(w=parseFloat(b)/100);const S={amount:this.safeInteger(t,"lot_decimals"),price:this.safeInteger(t,"pair_decimals")},k=this.safeNumber(t,"ordermin");s.push({id:e,symbol:l,base:c,quote:d,baseId:a,quoteId:o,darkpool:h,info:t,altname:t["altname"],maker:g,taker:w,active:!0,precision:S,limits:{amount:{min:k,max:Math.pow(10,S["amount"])},price:{min:Math.pow(10,-S["price"]),max:void 0},cost:{min:0,max:void 0}}})}return s=this.appendInactiveMarkets(s),this.marketsByAltname=this.indexBy(s,"altname"),s}safeCurrency(e,t){if(e.length>3&&(0===e.indexOf("X")||0===e.indexOf("Z"))){if(e.indexOf(".")>0)return super.safeCurrency(e,t);e=e.slice(1)}return super.safeCurrency(e,t)}appendInactiveMarkets(e){const t={amount:8,price:8},i={min:0,max:void 0},r={min:Math.pow(10,-t["price"]),max:void 0},s={min:Math.pow(10,-t["amount"]),max:Math.pow(10,t["amount"])},n={amount:s,price:r,cost:i},a={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:n},o=[];for(let c=0;c<o.length;c++)e.push(this.extend(a,o[c]));return e}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result"),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeCurrencyCode(this.safeString(t,"altname")),o=this.safeInteger(t,"decimals"),c=!this.inArray(a,this.options["inactiveCurrencies"]);s[a]={id:e,code:a,info:t,name:a,active:c,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return s}async fetchTradingFees(e={}){await this.loadMarkets(),this.checkRequiredCredentials();const t=await this.privatePostTradeVolume(e),i=this.safeNumber(t["result"],"volume"),r=this.fees["trading"]["tiers"];let s=r["taker"][1],n=r["maker"][1];for(let a=0;a<r["taker"].length;a++)i>=r["taker"][a][0]&&(s=r["taker"][a][1]);for(let a=0;a<r["maker"].length;a++)i>=r["maker"][a][0]&&(n=r["maker"][a][1]);return{info:t,maker:n,taker:s}}parseBidAsk(e,t=0,i=1){const r=this.safeNumber(e,t),s=this.safeNumber(e,i),n=this.safeInteger(e,2);return[r,s,n]}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);if(r["darkpool"])throw new d(this.id+" does not provide an order book for darkpool symbol "+e);const s={pair:r["id"]};void 0!==t&&(s["count"]=t);const n=await this.publicGetDepth(this.extend(s,i)),a=this.safeValue(n,"result",{});let o=this.safeValue(a,r["id"]);const c=this.safeValue(r,"info",{}),h=this.safeValue(c,"wsname");return void 0!==h&&(o=this.safeValue(a,h,o)),this.parseOrderBook(o,e)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t["symbol"]);const s=parseFloat(e["v"][1]),n=parseFloat(e["p"][1]);let a=void 0;void 0!==s&&void 0!==n&&(a=s*n);const o=parseFloat(e["c"][0]);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:parseFloat(e["h"][1]),low:parseFloat(e["l"][1]),bid:parseFloat(e["b"][0]),bidVolume:void 0,ask:parseFloat(e["a"][0]),askVolume:void 0,vwap:n,open:this.safeNumber(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:a,info:e}}async fetchTickers(e,t={}){await this.loadMarkets(),e=void 0===e?this.symbols:e;const i=[];for(let c=0;c<e.length;c++){const t=e[c],r=this.markets[t];r["active"]&&!r["darkpool"]&&i.push(r["id"])}const r={pair:i.join(",")},s=await this.publicGetTicker(this.extend(r,t)),n=s["result"],a=Object.keys(n),o={};for(let c=0;c<a.length;c++){const e=a[c],t=this.markets_by_id[e],i=t["symbol"],r=n[e];o[i]=this.parseTicker(r,t)}return this.filterByArray(o,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=e.indexOf(".d")>=0;if(i)throw new d(this.id+" does not provide a ticker for darkpool symbol "+e);const r=this.market(e),s={pair:r["id"]},n=await this.publicGetTicker(this.extend(s,t)),a=n["result"][r["id"]];return this.parseTicker(a,r)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,6)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={pair:n["id"],interval:this.timeframes[t]};void 0!==i&&(a["since"]=parseInt((i-1)/1e3));const o=await this.publicGetOHLC(this.extend(a,s)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,n["id"],[]);return this.parseOHLCVs(d,n,t,i,r)}parseLedgerEntryType(e){const t={trade:"trade",withdrawal:"transaction",deposit:"transaction",transfer:"transfer",margin:"margin"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r=void 0;const s=void 0,n=this.safeString(e,"refid"),a=void 0,o=this.parseLedgerEntryType(this.safeString(e,"type")),c=this.safeCurrencyCode(this.safeString(e,"asset"),t);let d=this.safeNumber(e,"amount");d<0?(r="out",d=Math.abs(d)):r="in";const h=this.safeNumber(e,"time");let u=void 0;void 0!==h&&(u=parseInt(1e3*h));const l={cost:this.safeNumber(e,"fee"),currency:c},f=void 0,p=this.safeNumber(e,"balance"),m="ok";return{info:e,id:i,direction:r,account:s,referenceId:n,referenceAccount:a,type:o,currency:c,amount:d,before:f,after:p,status:m,timestamp:u,datetime:this.iso8601(u),fee:l}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["asset"]=n["id"]),void 0!==t&&(s["start"]=parseInt(t/1e3));const a=await this.privatePostLedgers(this.extend(s,r)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"ledger",{}),d=Object.keys(c),h=[];for(let u=0;u<d.length;u++){const e=d[u],t=c[e];t["id"]=e,h.push(t)}return this.parseLedger(h,n,t,i)}async fetchLedgerEntriesByIds(e,t,i={}){await this.loadMarkets(),e=e.join(",");const r=this.extend({id:e},i),s=await this.privatePostQueryLedgers(r),n=s["result"],a=Object.keys(n),o=[];for(let c=0;c<a.length;c++){const e=a[c],t=n[e];t["id"]=e,o.push(t)}return this.parseLedger(o)}async fetchLedgerEntry(e,t,i={}){const r=await this.fetchLedgerEntriesByIds([e],t,i);return r[0]}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,n=void 0,a=void 0,o=void 0,c=void 0,d=void 0,h=void 0;if(Array.isArray(e)){i=this.safeTimestamp(e,2),r="s"===e[3]?"sell":"buy",s="l"===e[4]?"limit":"market",n=this.safeString(e,0),a=this.safeString(e,1);const t=e.length;t>6&&(o=this.safeString(e,6))}else if("string"===typeof e)o=e;else if("ordertxid"in e){const h=this.safeString(e,"pair"),u=this.findMarketByAltnameOrId(h);if(void 0!==u?t=u:void 0!==h&&(t=this.getDelistedMarketById(h)),c=this.safeString(e,"ordertxid"),o=this.safeString2(e,"id","postxid"),i=this.safeTimestamp(e,"time"),r=this.safeString(e,"type"),s=this.safeString(e,"ordertype"),n=this.safeString(e,"price"),a=this.safeString(e,"vol"),"fee"in e){let i=void 0;void 0!==t&&(i=t["quote"]),d={cost:this.safeNumber(e,"fee"),currency:i}}}void 0!==t&&(h=t["symbol"]);const u=this.parseNumber(n),l=this.parseNumber(a),f=this.parseNumber(w.stringMul(n,a));return{id:o,order:c,info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,type:s,side:r,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:d}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=s["id"],a={pair:n};if(void 0!==t&&(a["since"]=1e6*t,a["since"]=t.toString()+"000000"),void 0!==i&&1e3!==i){const e=this.safeValue(this.options,"fetchTradesWarning",!0);if(e)throw new d(this.id+" fetchTrades() cannot serve "+i.toString()+" trades without breaking the pagination, see https://github.com/ccxt/ccxt/issues/5698 for more details. Set exchange.options['fetchTradesWarning'] to acknowledge this warning and silence it.")}const o=await this.publicGetTrades(this.extend(a,r)),c=o["result"],h=c[n],u=h.length;if(u<=0)return[];const l=h[u-1],f=this.safeString(c,"last");return l.push(f),this.parseTrades(h,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i=this.safeValue(t,"result",{}),r={info:t,timestamp:void 0,datetime:void 0},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),a=this.account();a["total"]=this.safeString(i,e),r[t]=a}return this.parseBalance(r,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,ordertype:t,volume:this.amountToPrecision(e,r)},d=this.safeString2(n,"userref","clientOrderId");if(n=this.omit(n,["userref","clientOrderId"]),void 0!==d&&(c["userref"]=d),"limit"===t)c["price"]=this.priceToPrecision(e,s);else if("stop-loss"===t||"take-profit"===t){const i=this.safeNumber2(n,"price","stopPrice",s);if(void 0===i)throw new a(this.id+" createOrder() requires a price argument or a price/stopPrice parameter for a "+t+" order");c["price"]=this.priceToPrecision(e,i)}else if("stop-loss-limit"===t||"take-profit-limit"===t){const i=this.safeNumber2(n,"price","stopPrice"),r=this.safeNumber(n,"price2"),o=void 0!==i,d=void 0!==r;if(o&&d)c["price"]=this.priceToPrecision(e,i),c["price2"]=this.priceToPrecision(e,r);else{if(void 0===s||!o&&!d)throw new a(this.id+" createOrder() requires a price argument and/or price/stopPrice/price2 parameters for a "+t+" order");o?(c["price"]=this.priceToPrecision(e,i),c["price2"]=this.priceToPrecision(e,s)):d&&(c["price"]=this.priceToPrecision(e,s),c["price2"]=this.priceToPrecision(e,r))}}n=this.omit(n,["price","stopPrice","price2"]);const h=await this.privatePostAddOrder(this.extend(c,n)),u=this.safeValue(h,"result");return this.parseOrder(u)}findMarketByAltnameOrId(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}getDelistedMarketById(e){if(void 0===e)return e;let t=this.safeValue(this.options["delistedMarketsById"],e);if(void 0!==t)return t;const i=0;let r=3,s=3,n=6;8===e.length?(r=4,s=4,n=8):7===e.length&&(r=4,s=4,n=7);const a=e.slice(i,r),o=e.slice(s,n),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d;return t={symbol:h,base:c,quote:d,baseId:a,quoteId:o},this.options["delistedMarketsById"][e]=t,t}parseOrderStatus(e){const t={pending:"open",open:"open",closed:"closed",canceled:"canceled",expired:"expired"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeValue(e,"descr",{}),r=this.safeString(i,"order");let s=void 0,n=void 0,a=void 0,o=void 0,c=void 0;if(void 0!==r){const e=r.split(" ");s=this.safeString(e,0),c=this.safeNumber(e,1),a=this.safeString(e,2),n=this.safeString(e,4),o=this.safeNumber(e,5)}s=this.safeString(i,"type",s),n=this.safeString(i,"ordertype",n),a=this.safeString(i,"pair",a);const d=this.findMarketByAltnameOrId(a);let h=void 0;void 0!==d?t=d:void 0!==a&&(t=this.getDelistedMarketById(a));const u=this.safeTimestamp(e,"opentm");c=this.safeNumber(e,"vol",c);const l=this.safeNumber(e,"vol_exec");let f=void 0;const p=this.safeNumber(e,"cost");o=this.safeNumber(i,"price",o),void 0!==o&&0!==o||(o=this.safeNumber(i,"price2")),void 0!==o&&0!==o||(o=this.safeNumber(e,"price",o));const m=this.safeNumber(e,"price");if(void 0!==t&&(h=t["symbol"],"fee"in e)){const i=e["oflags"],r=this.safeNumber(e,"fee");f={cost:r,rate:void 0},i.indexOf("fciq")>=0?f["currency"]=t["quote"]:i.indexOf("fcib")>=0&&(f["currency"]=t["base"])}const g=this.parseOrderStatus(this.safeString(e,"status"));let y=this.safeString(e,"id");if(void 0===y){const t=this.safeValue(e,"txid");y=this.safeString(t,0)}const v=this.safeString(e,"userref"),b=this.safeValue(e,"trades");let w=void 0;void 0!==b&&(w=this.parseTrades(b,t,void 0,void 0,{order:y}));const S=this.safeNumber(e,"stopprice");return this.safeOrder({id:y,clientOrderId:v,info:e,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:g,symbol:h,type:n,timeInForce:void 0,postOnly:void 0,side:s,price:o,stopPrice:S,cost:p,amount:c,filled:l,average:m,remaining:void 0,fee:f,trades:w})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"userref","clientOrderId"),s={trades:!0};let n=i;void 0!==r?(s["userref"]=r,n=this.omit(i,["userref","clientOrderId"])):s["txid"]=e;const a=await this.privatePostQueryOrders(this.extend(s,n)),o=this.safeValue(a,"result",[]);if(!(e in o))throw new h(this.id+" fetchOrder() could not find order id "+e);const c=this.parseOrder(this.extend({id:e},o[e]));return this.extend({info:a},c)}async fetchOrderTrades(e,t,i,r,s={}){const n=this.safeValue(s,"trades"),o=[];if(void 0===n)throw new a(this.id+" fetchOrderTrades() requires a unified order structure in the params argument or a 'trades' param (an array of trade id strings)");for(let a=0;a<n.length;a++){const e=n[a];"string"===typeof e?o.push(e):o.push(e["id"])}await this.loadMarkets();const c=this.safeValue(this.options,"fetchOrderTrades",{}),d=this.safeInteger(c,"batchSize",20);let h=parseInt(o/d);h=this.sum(h,1);const u=o.length;let l=[];for(let a=0;a<h;a++){const e=[];for(let t=0;t<d;t++){const i=this.sum(a*d,t);i<u&&e.push(o[i])}const s={txid:e.join(",")},n=await this.privatePostQueryTrades(s),c=this.safeValue(n,"result"),h=Object.keys(c);for(let t=0;t<h.length;t++)c[h[t]]["id"]=h[t];const f=this.parseTrades(c,void 0,i,r),p=this.filterBySymbol(f,t);l=this.arrayConcat(l,p)}return l}async fetchOrdersByIds(e,t,i={}){await this.loadMarkets();const r=await this.privatePostQueryOrders(this.extend({trades:!0,txid:e.join(",")},i)),s=this.safeValue(r,"result",{}),n=[],a=Object.keys(s);for(let o=0;o<a.length;o++){const e=a[o],t=s[e],i=this.parseOrder(this.extend({id:e},t));n.push(i)}return n}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s["start"]=parseInt(t/1e3));const n=await this.privatePostTradesHistory(this.extend(s,r)),a=n["result"]["trades"],o=Object.keys(a);for(let d=0;d<o.length;d++)a[o[d]]["id"]=o[d];let c=void 0;return void 0!==e&&(c=this.market(e)),this.parseTrades(a,c,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();let r=void 0;try{r=await this.privatePostCancelOrder(this.extend({txid:e},i))}catch(s){if(this.last_http_response&&this.last_http_response.indexOf("EOrder:Unknown order")>=0)throw new h(this.id+" cancelOrder() error "+this.last_http_response);throw s}return r}async cancelAllOrders(e,t={}){return await this.loadMarkets(),await this.privatePostCancelAll(t)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s["start"]=parseInt(t/1e3));const n=await this.privatePostOpenOrders(this.extend(s,r));let a=void 0;void 0!==e&&(a=this.market(e));const o=this.safeValue(n,"result",{}),c=this.safeValue(o,"open",[]);return this.parseOrders(c,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s["start"]=parseInt(t/1e3));const n=await this.privatePostClosedOrders(this.extend(s,r));let a=void 0;void 0!==e&&(a=this.market(e));const o=this.safeValue(n,"result",{}),c=this.safeValue(o,"closed",[]);return this.parseOrders(c,a,t,i)}async fetchDepositMethods(e,t={}){await this.loadMarkets();const i=this.currency(e),r={asset:i["id"]},s=await this.privatePostDepositMethods(this.extend(r,t));return this.safeValue(s,"result")}parseTransactionStatus(e){const t={Initial:"pending",Pending:"pending",Success:"ok",Settled:"pending",Failure:"failed",Partial:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"refid"),r=this.safeString(e,"txid"),s=this.safeTimestamp(e,"time"),n=this.safeString(e,"asset"),a=this.safeCurrencyCode(n,t),o=this.safeString(e,"info"),c=this.safeNumber(e,"amount"),d=this.parseTransactionStatus(this.safeString(e,"status")),h=this.safeString(e,"type");let u=this.safeNumber(e,"fee");return void 0===u&&"deposit"===h&&(u=0),{info:e,id:i,currency:a,amount:c,address:o,tag:void 0,status:d,type:h,updated:void 0,txid:r,timestamp:s,datetime:this.iso8601(s),fee:{currency:a,cost:u}}}parseTransactionsByType(e,t,i,r,s){const n=[];for(let a=0;a<t.length;a++){const i=this.parseTransaction(this.extend({type:e},t[a]));n.push(i)}return this.filterByCurrencySinceLimit(n,i,r,s)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={asset:s["id"]},o=await this.privatePostDepositStatus(this.extend(n,r));return this.parseTransactionsByType("deposit",o["result"],e,t,i)}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"result",{});return this.safeTimestamp(i,"unixtime")}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={asset:s["id"]},o=await this.privatePostWithdrawStatus(this.extend(n,r));return this.parseTransactionsByType("withdrawal",o["result"],e,t,i)}async createDepositAddress(e,t={}){const i={new:"true"},r=await this.fetchDepositAddress(e,this.extend(i,t)),s=this.safeString(r,"address");return this.checkAddress(s),{currency:e,address:s,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeString(t,"method");if(void 0===r){if(!this.options["cacheDepositMethodsOnFetchDepositAddress"])throw new a(this.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+e+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');e in this.options["depositMethods"]||(this.options["depositMethods"][e]=await this.fetchDepositMethods(e)),r=this.options["depositMethods"][e][0]["method"]}const s={asset:i["id"],method:r},n=await this.privatePostDepositAddresses(this.extend(s,t)),o=n["result"],c=o.length;if(c<1)throw new g(this.id+" privatePostDepositAddresses() returned no addresses");const d=this.safeString(o[0],"address"),h=this.safeString2(o[0],"tag","memo");return this.checkAddress(d),{currency:e,address:d,tag:h,info:n}}async withdraw(e,t,i,r,s={}){if(this.checkAddress(i),"key"in s){await this.loadMarkets();const i=this.currency(e),r={asset:i["id"],amount:t},n=await this.privatePostWithdraw(this.extend(r,s));return{info:n,id:n["result"]}}throw new d(this.id+" withdraw() requires a 'key' parameter (withdrawal key name, as set up on your account)")}async fetchPositions(e,t={}){await this.loadMarkets();const i={},r=await this.privatePostOpenPositions(this.extend(i,t)),s=this.safeValue(r,"result");return s}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();n=this.urlencode(this.extend({nonce:e},r));const t=this.encode(e+n),i=this.hash(t,"sha256","binary"),o=this.stringToBinary(this.encode(a)),c=this.binaryConcat(o,i),d=this.base64ToBinary(this.secret),h=this.hmac(c,d,"sha512","base64");s={"API-Key":this.apiKey,"API-Sign":h,"Content-Type":"application/x-www-form-urlencoded"}}else a="/"+e;return a=this.urls["api"][t]+a,{url:a,method:i,body:n,headers:s}}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,s,a,o,c,h){if(520===e)throw new n(this.id+" "+e.toString()+" "+t);if(a.indexOf("Invalid order")>=0)throw new m(this.id+" "+a);if(a.indexOf("Invalid nonce")>=0)throw new l(this.id+" "+a);if(a.indexOf("Insufficient funds")>=0)throw new f(this.id+" "+a);if(a.indexOf("Cancel pending")>=0)throw new p(this.id+" "+a);if(a.indexOf("Invalid arguments:volume")>=0)throw new m(this.id+" "+a);if(a.indexOf("Rate limit exceeded")>=0)throw new y(this.id+" "+a);if(void 0!==o&&"{"===a[0]&&"string"!==typeof o&&"error"in o){const e=o["error"].length;if(e){const e=this.id+" "+a;for(let t=0;t<o["error"].length;t++){const i=o["error"][t];this.throwExactlyMatchedException(this.exceptions,i,e)}throw new d(e)}}}}},"27b6":function(e,t,i){"use strict";const r=i("4a34");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binanceus",name:"Binance US",countries:["US"],certified:!1,pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/65177307-217b7c80-da5f-11e9-876e-0b748ba0a358.jpg",api:{web:"https://www.binance.us",sapi:"https://api.binance.us/sapi/v1",wapi:"https://api.binance.us/wapi/v3",public:"https://api.binance.us/api/v1",private:"https://api.binance.us/api/v3",v3:"https://api.binance.us/api/v3",v1:"https://api.binance.us/api/v1"},www:"https://www.binance.us",referral:"https://www.binance.us/?ref=35005074",doc:"https://github.com/binance-us/binance-official-api-docs",fees:"https://www.binance.us/en/fee/schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001}},options:{quoteOrderQty:!1}})}async fetchCurrencies(e={}){}}},"27bf":function(e,t,i){"use strict";e.exports=a;var r=i("b19a"),s=Object.create(i("3a7c"));function n(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush((function(t,i){c(e,t,i)})):c(this,null,null)}function c(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}s.inherits=i("3fb5"),s.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var s=this._readableState;(r.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var i=this;r.prototype._destroy.call(this,e,(function(e){t(e),i.emit("close")}))}},2877:function(e,t,i){"use strict";function r(e,t,i,r,s,n,a,o){var c,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),r&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=o?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(d.functional){d._injectStyles=c;var h=d.render;d.render=function(e,t){return c.call(t),h(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:d}}i.d(t,"a",(function(){return r}))},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},2909:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i("6b75");function s(e){if(Array.isArray(e))return Object(r["a"])(e)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var a=i("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return s(e)||n(e)||Object(a["a"])(e)||o()}},"297c":function(e,t,i){"use strict";i("a9e3");var r=i("2b0e"),s=i("5530"),n=i("ade3"),a=(i("c7cd"),i("6ece"),i("0789")),o=i("90a2"),c=i("a9ad"),d=i("fe6c"),h=i("a452"),u=i("7560"),l=i("80d2"),f=i("58df"),p=Object(f["a"])(c["a"],Object(d["b"])(["absolute","fixed","top","bottom"]),h["a"],u["a"]),m=p.extend({name:"v-progress-linear",directives:{intersect:o["a"]},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(l["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(l["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e,t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return e={opacity:t},Object(n["a"])(e,this.isReversed?"right":"left",Object(l["g"])(this.normalizedValue,"%")),Object(n["a"])(e,"width",Object(l["g"])(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")),e},classes:function(){return Object(s["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible},this.themeClasses)},computedTransition:function(){return this.indeterminate?a["c"]:a["e"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(l["g"])(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var e=Object(l["s"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(n["a"])({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect(),i=t.width;this.internalValue=e.offsetX/i*100}},onObserve:function(e,t,i){this.isVisible=i},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){var t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?Object(l["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),g=m;t["a"]=r["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(g,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"29b2":function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(i("6040")),o=s(i("6497")),c=i("7be7"),d=i("abf9"),h=i("f9ee"),u=i("efc3"),l=n(i("a4b3")),f=i("fe34");t.aesEncrypt=function(e,t,i,r){void 0===i&&(i="CBC");var s=a.createCipher("AES-"+i,f.bytesToString(d._fromIn(t),"raw"));return s.start({iv:r&&o.createBuffer(f.bytesToString(d._fromIn(r),"raw"))}),s.update(o.createBuffer(f.bytesToString(e,"raw"))),s.finish(),f.stringToBytes(s.output.getBytes(),"raw")},t.aesDecrypt=function(e,t,i,r){void 0===i&&(i="CBC");var s=a.createDecipher("AES-"+i,f.bytesToString(d._fromIn(t),"raw"));s.start({iv:r&&o.createBuffer(f.bytesToString(d._fromIn(r),"raw"))});var n=o.createBuffer(f.bytesToString(d._fromIn(e),"raw"));if(s.update(n),!s.finish())throw new Error("Failed to decrypt data with provided key");return f.stringToBytes(s.output.getBytes(),"raw")},t.messageEncrypt=function(e,i){var r=Uint8Array.from([1]),s=c.randomBytes(32),n=c.randomBytes(16),a=f.stringToBytes(i),o=t.aesEncrypt(a,s,"CTR",n),d=t.aesEncrypt(s,e,"ECB"),l=h.hmacSHA256(a,s),p=h.hmacSHA256(u.concat(s,n),e),m=u.concat(r,d,p,l,n,o);return m},t.messageDecrypt=function(e,i){var s=r(u.split(i,1,48,32,32,16),6),n=(s[0],s[1]),a=s[2],o=s[3],c=s[4],l=s[5],p=t.aesDecrypt(n,e,"ECB"),m=d._fromIn(h.hmacSHA256(u.concat(p,c),d._fromIn(e))),g=m.every((function(e,t){return e===a[t]}));if(!g)throw new Error("Invalid key");var y=t.aesDecrypt(l,p,"CTR",c),v=d._fromIn(h.hmacSHA256(y,p)),b=v.every((function(e,t){return e===o[t]}));if(!b)throw new Error("Invalid message");return f.bytesToString(y)},t.sharedKey=function(e,t,i){var r=l.default.sharedKey(d._fromIn(e),d._fromIn(t)),s=h.sha256(d._fromRawIn(i));return h.hmacSHA256(r,s)}},"2a62":function(e,t,i){var r=i("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2a7f":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("71d9"),s=i("80d2"),n=Object(s["i"])("v-toolbar__title"),a=Object(s["i"])("v-toolbar__items");r["a"]},"2a83":function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,PermissionDenied:a,BadRequest:o,ArgumentsRequired:c,OrderNotFound:d,InsufficientFunds:h,ExchangeNotAvailable:u,DDoSProtection:l,InvalidAddress:f,InvalidOrder:p}=i("74b0");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitpanda",name:"Bitpanda Pro",countries:["AT"],rateLimit:300,version:"v1",has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:!0,fetchTicker:!0,fetchTickers:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1/MINUTES","5m":"5/MINUTES","15m":"15/MINUTES","30m":"30/MINUTES","1h":"1/HOURS","4h":"4/HOURS","1d":"1/DAYS","1w":"1/WEEKS","1M":"1/MONTHS"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87591171-9a377d80-c6f0-11ea-94ac-97a126eac3bc.jpg",api:{public:"https://api.exchange.bitpanda.com/public",private:"https://api.exchange.bitpanda.com/public"},www:"https://www.bitpanda.com/en/pro",doc:["https://developers.bitpanda.com/exchange/"],fees:"https://www.bitpanda.com/en/pro/fees"},api:{public:{get:["currencies","candlesticks/{instrument_code}","fees","instruments","order-book/{instrument_code}","market-ticker","market-ticker/{instrument_code}","price-ticks/{instrument_code}","time"]},private:{get:["account/balances","account/deposit/crypto/{currency_code}","account/deposit/fiat/EUR","account/deposits","account/deposits/bitpanda","account/withdrawals","account/withdrawals/bitpanda","account/fees","account/orders","account/orders/{order_id}","account/orders/{order_id}/trades","account/trades","account/trades/{trade_id}","account/trading-volume"],post:["account/deposit/crypto","account/withdraw/crypto","account/withdraw/fiat","account/fees","account/orders"],delete:["account/orders","account/orders/{order_id}","account/orders/client/{client_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:[{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}]}},requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{INVALID_CLIENT_UUID:p,ORDER_NOT_FOUND:d,ONLY_ONE_ERC20_ADDRESS_ALLOWED:f,DEPOSIT_ADDRESS_NOT_USED:f,INVALID_CREDENTIALS:s,MISSING_CREDENTIALS:s,INVALID_APIKEY:s,INVALID_SCOPES:s,INVALID_SUBJECT:s,INVALID_ISSUER:s,INVALID_AUDIENCE:s,INVALID_DEVICE_ID:s,INVALID_IP_RESTRICTION:s,APIKEY_REVOKED:s,APIKEY_EXPIRED:s,SYNCHRONIZER_TOKEN_MISMATCH:s,SESSION_EXPIRED:s,INTERNAL_ERROR:s,CLIENT_IP_BLOCKED:a,MISSING_PERMISSION:a,ILLEGAL_CHARS:o,UNSUPPORTED_MEDIA_TYPE:o,ACCOUNT_HISTORY_TIME_RANGE_TOO_BIG:o,CANDLESTICKS_TIME_RANGE_TOO_BIG:o,INVALID_INSTRUMENT_CODE:o,INVALID_ORDER_TYPE:o,INVALID_UNIT:o,INVALID_PERIOD:o,INVALID_TIME:o,INVALID_DATE:o,INVALID_CURRENCY:o,INVALID_AMOUNT:o,INVALID_PRICE:o,INVALID_LIMIT:o,INVALID_QUERY:o,INVALID_CURSOR:o,INVALID_ACCOUNT_ID:o,INVALID_SIDE:p,INVALID_ACCOUNT_HISTORY_FROM_TIME:o,INVALID_ACCOUNT_HISTORY_MAX_PAGE_SIZE:o,INVALID_ACCOUNT_HISTORY_TIME_PERIOD:o,INVALID_ACCOUNT_HISTORY_TO_TIME:o,INVALID_CANDLESTICKS_GRANULARITY:o,INVALID_CANDLESTICKS_UNIT:o,INVALID_ORDER_BOOK_DEPTH:o,INVALID_ORDER_BOOK_LEVEL:o,INVALID_PAGE_CURSOR:o,INVALID_TIME_RANGE:o,INVALID_TRADE_ID:o,INVALID_UI_ACCOUNT_SETTINGS:o,NEGATIVE_AMOUNT:p,NEGATIVE_PRICE:p,MIN_SIZE_NOT_SATISFIED:p,BAD_AMOUNT_PRECISION:p,BAD_PRICE_PRECISION:p,BAD_TRIGGER_PRICE_PRECISION:p,MAX_OPEN_ORDERS_EXCEEDED:o,MISSING_PRICE:p,MISSING_ORDER_TYPE:p,MISSING_SIDE:p,MISSING_CANDLESTICKS_PERIOD_PARAM:c,MISSING_CANDLESTICKS_UNIT_PARAM:c,MISSING_FROM_PARAM:c,MISSING_INSTRUMENT_CODE:c,MISSING_ORDER_ID:p,MISSING_TO_PARAM:c,MISSING_TRADE_ID:c,INVALID_ORDER_ID:d,NOT_FOUND:d,INSUFFICIENT_LIQUIDITY:h,INSUFFICIENT_FUNDS:h,NO_TRADING:u,SERVICE_UNAVAILABLE:u,GATEWAY_TIMEOUT:u,RATELIMIT:l,CF_RATELIMIT:l,INTERNAL_SERVER_ERROR:n},broad:{}},commonCurrencies:{MIOTA:"IOTA"},options:{fetchTradingFees:{method:"fetchPrivateTradingFees"},fiat:["EUR","CHF"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"epoch_millis")}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"code"),n=this.safeCurrencyCode(s);i[n]={id:s,code:n,name:void 0,info:e,active:void 0,fee:void 0,precision:this.safeInteger(e,"precision"),limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeValue(e,"base",{}),n=this.safeValue(e,"quote",{}),a=this.safeString(s,"code"),o=this.safeString(n,"code"),c=a+"_"+o,d=this.safeCurrencyCode(a),h=this.safeCurrencyCode(o),u=d+"/"+h,l={amount:this.safeInteger(e,"amount_precision"),price:this.safeInteger(e,"market_precision")},f={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"min_size"),max:void 0}},p=this.safeString(e,"state"),m="ACTIVE"===p;i.push({id:c,symbol:u,base:d,quote:h,baseId:a,quoteId:o,precision:l,limits:f,info:e,active:m})}return i}async fetchTradingFees(e={}){let t=this.safeString(e,"method");if(e=this.omit(e,"method"),void 0===t){const e=this.safeValue(this.options,"fetchTradingFees",{});t=this.safeString(e,"method","fetchPrivateTradingFees")}return await this[t](e)}async fetchPublicTradingFees(e={}){await this.loadMarkets();const t=await this.publicGetFees(e),i=this.indexBy(t,"fee_group_id"),r=this.safeValue(this.options,"fee_group_id","default"),s=this.safeValue(i,r,{}),n=this.safeValue(s,"fee_tiers"),a={};for(let o=0;o<this.symbols.length;o++){const e=this.symbols[o],t={info:s,symbol:e,maker:void 0,taker:void 0,percentage:!0,tierBased:!0},i=[],r=[];for(let s=0;s<n.length;s++){const e=n[s],a=this.safeNumber(e,"volume");let o=this.safeNumber(e,"taker_fee"),c=this.safeNumber(e,"maker_fee");o/=100,c/=100,i.push([a,o]),r.push([a,c]),0===s&&(t["taker"]=o,t["maker"]=c)}const c={taker:i,maker:r};t["tiers"]=c,a[e]=t}return a}async fetchPrivateTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccountFees(e),i=this.safeValue(t,"active_fee_tier",{}),r={info:t,maker:this.safeNumber(i,"maker_fee"),taker:this.safeNumber(i,"taker_fee"),percentage:!0,tierBased:!0},s=this.safeValue(t,"fee_tiers"),n=[],a=[];for(let c=0;c<s.length;c++){const e=s[c],t=this.safeNumber(e,"volume");let i=this.safeNumber(e,"taker_fee"),r=this.safeNumber(e,"maker_fee");i/=100,r/=100,n.push([t,i]),a.push([t,r])}const o={taker:n,maker:a};return r["tiers"]=o,r}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeString(e,"instrument_code"),s=this.safeSymbol(r,t,"_"),n=this.safeNumber(e,"last_price"),a=this.safeNumber(e,"price_change_percentage"),o=this.safeNumber(e,"price_change");let c=void 0,d=void 0;void 0!==n&&void 0!==o&&(c=n-o,d=this.sum(n,c)/2);const h=this.safeNumber(e,"base_volume"),u=this.safeNumber(e,"quote_volume"),l=this.vwap(h,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"best_bid"),bidVolume:void 0,ask:this.safeNumber(e,"best_ask"),askVolume:void 0,vwap:l,open:c,close:n,last:n,previousClose:void 0,change:o,percentage:a,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument_code:i["id"]},s=await this.publicGetMarketTickerInstrumentCode(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTicker(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instrument_code:this.marketId(e)};void 0!==t&&(r["depth"]=t);const s=await this.publicGetOrderBookInstrumentCode(this.extend(r,i)),n=this.parse8601(this.safeString(s,"time"));return this.parseOrderBook(s,e,n,"bids","asks","price","amount")}parseOHLCV(e,t){const i=this.safeValue(e,"granularity"),r=this.safeString(i,"unit"),s=this.safeString(i,"period"),n={MINUTES:"m",HOURS:"h",DAYS:"d",WEEKS:"w",MONTHS:"M"},a=this.safeString(n,r),o=s+a,c=this.parseTimeframe(o),d=1e3*c,h=this.parse8601(this.safeString(e,"time")),u=d*parseInt(h/d),l=this.safeValue(this.options,"fetchOHLCV",{}),f=this.safeString(l,"volume","total_amount");return[u,this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,f)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=this.safeString(this.timeframes,t),[o,c]=a.split("/"),d=this.parseTimeframe(t),h=1e3*d;void 0===r&&(r=1500);const u={instrument_code:n["id"],period:o,unit:c};if(void 0===i){const e=this.milliseconds();u["to"]=this.iso8601(e),u["from"]=this.iso8601(e-r*h)}else u["from"]=this.iso8601(i),u["to"]=this.iso8601(this.sum(i,r*h));const l=await this.publicGetCandlesticksInstrumentCode(this.extend(u,s));return this.parseOHLCVs(l,n,t,i,r)}parseTrade(e,t){const i=this.safeValue(e,"fee",{});e=this.safeValue(e,"trade",e);let r=this.safeInteger(e,"trade_timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"time")));const s=this.safeStringLower2(e,"side","taker_side"),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"amount");let o=this.safeNumber(e,"volume");void 0===o&&void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeString(e,"instrument_code"),d=this.safeSymbol(c,t,"_"),h=this.safeNumber(i,"fee_amount");let u=void 0,l=void 0;if(void 0!==h){const e=this.safeString(i,"fee_currency"),t=this.safeCurrencyCode(e),r=this.safeNumber(i,"fee_percentage");l={cost:h,currency:t,rate:r},u=this.safeStringLower(i,"fee_type")}return{id:this.safeString2(e,"trade_id","sequence"),order:this.safeString(e,"order_id"),timestamp:r,datetime:this.iso8601(r),symbol:d,type:void 0,side:s,price:n,amount:a,cost:o,takerOrMaker:u,fee:l,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={instrument_code:s["id"]};void 0!==t&&(n["from"]=this.iso8601(t),n["to"]=this.iso8601(this.sum(t,144e5)));const a=await this.publicGetPriceTicksInstrumentCode(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i=this.safeValue(t,"balances",[]),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency_code"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"available"),a["used"]=this.safeString(e,"locked"),r[n]=a}return this.parseBalance(r,!1)}parseDepositAddress(e,t){let i=void 0;void 0!==t&&(i=t["code"]);const r=this.safeString(e,"address"),s=this.safeString(e,"destination_tag");return this.checkAddress(r),{currency:i,address:r,tag:s,info:e}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostAccountDepositCrypto(this.extend(r,t));return this.parseDepositAddress(s,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency_code:i["id"]},s=await this.privateGetAccountDepositCryptoCurrencyCode(this.extend(r,t));return this.parseDepositAddress(s,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;if(void 0!==e&&(n=this.currency(e),s["currency_code"]=n["id"]),void 0!==i&&(s["max_page_size"]=i),void 0!==t){const e=this.safeString(r,"to");if(void 0===e)throw new c(this.id+' fetchDeposits() requires a "to" iso8601 string param with the since argument is specified');s["from"]=this.iso8601(t)}const a=await this.privateGetAccountDeposits(this.extend(s,r)),o=this.safeValue(a,"deposit_history",[]);return this.parseTransactions(o,n,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;if(void 0!==e&&(n=this.currency(e),s["currency_code"]=n["id"]),void 0!==i&&(s["max_page_size"]=i),void 0!==t){const e=this.safeString(r,"to");if(void 0===e)throw new c(this.id+' fetchWithdrawals() requires a "to" iso8601 string param with the since argument is specified');s["from"]=this.iso8601(t)}const a=await this.privateGetAccountWithdrawals(this.extend(s,r)),o=this.safeValue(a,"withdrawal_history",[]);return this.parseTransactions(o,n,t,i,{type:"withdrawal"})}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:e,amount:this.currencyToPrecision(e,t)},o=this.safeValue(this.options,"fiat",[]),d=this.inArray(e,o),h=d?"privatePostAccountWithdrawFiat":"privatePostAccountWithdrawCrypto";if(d){const t=this.safeString(s,"payout_account_id");if(void 0===t)throw c(this.id+" withdraw() requires a payout_account_id param for fiat "+e+" withdrawals")}else{const e={address:i};void 0!==r&&(e["destination_tag"]=r),a["recipient"]=e}const u=await this[h](this.extend(a,s));return this.parseTransaction(u,n)}parseTransaction(e,t){const i=this.safeString(e,"transaction_id"),r=this.safeNumber(e,"amount"),s=this.parse8601(this.safeString(e,"time")),n=this.safeString(e,"currency");t=this.safeCurrency(n,t);const a="ok",o=this.safeNumber2(e,"fee_amount","fee");let c=void 0;const d=this.safeString(e,"recipient"),h=this.safeString(e,"destination_tag");if(void 0!==o){const t=this.safeString(e,"fee_currency",n),i=this.safeCurrencyCode(t);c={cost:o,currency:i}}return{info:e,id:i,currency:t["code"],amount:r,address:d,addressFrom:void 0,addressTo:d,tag:h,tagFrom:void 0,tagTo:h,status:a,type:void 0,updated:void 0,txid:this.safeString(e,"blockchain_transaction_id"),timestamp:s,datetime:this.iso8601(s),fee:c}}parseOrderStatus(e){const t={FILLED:"open",FILLED_FULLY:"closed",FILLED_CLOSED:"canceled",FILLED_REJECTED:"rejected",OPEN:"open",REJECTED:"rejected",CLOSED:"canceled",FAILED:"failed",STOP_TRIGGERED:"triggered"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeValue(e,"order",e),r=this.safeString(i,"order_id"),s=this.safeString(i,"client_id"),n=this.parse8601(this.safeString(i,"time")),a=this.parseOrderStatus(this.safeString(i,"status")),o=this.parseOrderStatus(a),c=this.safeString(i,"instrument_code"),d=this.safeSymbol(c,t,"_"),h=this.safeNumber(i,"price"),u=this.safeNumber(i,"amount"),l=this.safeString(i,"filled_amount"),f=this.parseNumber(l),p=this.safeStringLower(i,"side"),m=this.safeStringLower(i,"type"),g=this.parseTimeInForce(this.safeString(i,"time_in_force")),y=this.safeNumber(i,"trigger_price"),v=this.safeValue(i,"is_post_only"),b=this.safeValue(e,"trades",[]),w=this.parseTrades(b,t,void 0,void 0,{type:m});return this.safeOrder({id:r,clientOrderId:s,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:d,type:m,timeInForce:g,postOnly:v,side:p,price:h,stopPrice:y,amount:u,cost:void 0,average:void 0,filled:f,remaining:void 0,status:o,trades:w})}parseTimeInForce(e){const t={GOOD_TILL_CANCELLED:"GTC",GOOD_TILL_TIME:"GTT",IMMEDIATE_OR_CANCELLED:"IOC",FILL_OR_KILL:"FOK"};return this.safeString(t,e,e)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=t.toUpperCase(),d={instrument_code:a["id"],type:o,side:i.toUpperCase(),amount:this.amountToPrecision(e,r)};let h=!1;if("LIMIT"!==o&&"STOP"!==o||(h=!0),"STOP"===o){const i=this.safeNumber(n,"trigger_price");if(void 0===i)throw new c(this.id+" createOrder() requires a trigger_price param for "+t+" orders");d["trigger_price"]=this.priceToPrecision(e,i),n=this.omit(n,"trigger_price")}h&&(d["price"]=this.priceToPrecision(e,s));const u=this.safeString2(n,"clientOrderId","client_id");void 0!==u&&(d["client_id"]=u,n=this.omit(n,["clientOrderId","client_id"]));const l=await this.privatePostAccountOrders(this.extend(d,n));return this.parseOrder(l,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString2(i,"clientOrderId","client_id");i=this.omit(i,["clientOrderId","client_id"]);let s="privateDeleteAccountOrdersOrderId";const n={};void 0!==r?(s="privateDeleteAccountOrdersClientClientId",n["client_id"]=r):n["order_id"]=e;const a=await this[s](this.extend(n,i));return a}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.market(e);i["instrument_code"]=t["id"]}const r=await this.privateDeleteAccountOrders(this.extend(i,t));return r}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={ids:e.join(",")},s=await this.privateDeleteAccountOrders(this.extend(r,i));return s}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetAccountOrdersOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;if(void 0!==e&&(n=this.market(e),s["instrument_code"]=n["id"]),void 0!==t){const e=this.safeString(r,"to");if(void 0===e)throw new c(this.id+' fetchOrders() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');s["from"]=this.iso8601(t)}void 0!==i&&(s["max_page_size"]=i);const a=await this.privateGetAccountOrders(this.extend(s,r)),o=this.safeValue(a,"order_history",[]);return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){const s={with_cancelled_and_rejected:!0};return await this.fetchOpenOrders(e,t,i,this.extend(s,r))}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n={order_id:e};void 0!==r&&(n["max_page_size"]=r);const a=await this.privateGetAccountOrdersOrderIdTrades(this.extend(n,s)),o=this.safeValue(a,"trade_history",[]);let c=void 0;return void 0!==t&&(c=this.market(t)),this.parseTrades(o,c,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;if(void 0!==e&&(n=this.market(e),s["instrument_code"]=n["id"]),void 0!==t){const e=this.safeString(r,"to");if(void 0===e)throw new c(this.id+' fetchMyTrades() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');s["from"]=this.iso8601(t)}void 0!==i&&(s["max_page_size"]=i);const a=await this.privateGetAccountTrades(this.extend(s,r)),o=this.safeValue(a,"trade_history",[]);return this.parseTrades(o,n,t,i)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(o).length&&(a+="?"+this.urlencode(o)):"private"===t&&(this.checkRequiredCredentials(),s={Accept:"application/json",Authorization:"Bearer "+this.apiKey},"POST"===i?(n=this.json(o),s["Content-Type"]="application/json"):Object.keys(o).length&&(a+="?"+this.urlencode(o))),{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],h,e),new n(e)}}}},"2aa1":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ExchangeNotAvailable:n,OnMaintenance:a,ArgumentsRequired:o,BadRequest:c,AccountSuspended:d,InvalidAddress:h,PermissionDenied:u,DDoSProtection:l,InsufficientFunds:f,InvalidNonce:p,CancelPending:m,InvalidOrder:g,OrderNotFound:y,AuthenticationError:v,RequestTimeout:b,NotSupported:w,BadSymbol:S,RateLimitExceeded:k}=i("74b0"),{TICK_SIZE:_,TRUNCATE:O}=i("5ea4"),T=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex",name:"OKEX",countries:["CN"],version:"v3",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTime:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,futures:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2678400","3M":"8035200","6M":"16070400","1y":"31536000"},hostname:"okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://www.{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com/join/1888677",test:{rest:"https://testnet.okex.com"}},api:{general:{get:["time"]},account:{get:["wallet","sub-account","asset-valuation","wallet/{currency}","withdrawal/history","withdrawal/history/{currency}","ledger","deposit/address","deposit/history","deposit/history/{currency}","currencies","withdrawal/fee"],post:["transfer","withdrawal"]},spot:{get:["accounts","accounts/{currency}","accounts/{currency}/ledger","orders","amend_order/{instrument_id}","orders_pending","orders/{order_id}","orders/{client_oid}","trade_fee","fills","algo","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles"],post:["order_algo","orders","batch_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_algos","cancel_batch_orders"]},margin:{get:["accounts","accounts/{instrument_id}","accounts/{instrument_id}/ledger","accounts/availability","accounts/{instrument_id}/availability","accounts/borrowed","accounts/{instrument_id}/borrowed","orders","accounts/{instrument_id}/leverage","orders/{order_id}","orders/{client_oid}","orders_pending","fills","instruments/{instrument_id}/mark_price"],post:["accounts/borrow","accounts/repayment","orders","batch_orders","cancel_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_orders","accounts/{instrument_id}/leverage"]},futures:{get:["position","{instrument_id}/position","accounts","accounts/{underlying}","accounts/{underlying}/leverage","accounts/{underlying}/ledger","order_algo/{instrument_id}","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","trade_fee","accounts/{instrument_id}/holds","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/estimated_price","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/liquidation"],post:["accounts/{underlying}/leverage","order","amend_order/{instrument_id}","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","accounts/margin_mode","close_position","cancel_all","order_algo","cancel_algos"]},swap:{get:["position","{instrument_id}/position","accounts","{instrument_id}/accounts","accounts/{instrument_id}/settings","accounts/{instrument_id}/ledger","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","accounts/{instrument_id}/holds","trade_fee","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/depth","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/liquidation","instruments/{instrument_id}/funding_time","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/historical_funding_rate"],post:["accounts/{instrument_id}/leverage","order","amend_order/{instrument_id}","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","order_algo","cancel_algos","close_position","cancel_all","order_algo","cancel_algos"]},option:{get:["accounts","position","{underlying}/position","accounts/{underlying}","orders/{underlying}","fills/{underlying}","accounts/{underlying}/ledger","trade_fee","orders/{underlying}/{order_id}","orders/{underlying}/{client_oid}","underlying","instruments/{underlying}","instruments/{underlying}/summary","instruments/{underlying}/summary/{instrument_id}","instruments/{instrument_id}/book","instruments/{instrument_id}/trades","instruments/{instrument_id}/ticker","instruments/{instrument_id}/candles"],post:["order","orders","cancel_order/{underlying}/{order_id}","cancel_order/{underlying}/{client_oid}","cancel_batch_orders/{underlying}","amend_order/{underlying}","amend_batch_orders/{underlying}"]},index:{get:["{instrument_id}/constituents"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:75e-5,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,"failure to get a peer from the ring-balancer":n,"Server is busy, please try again.":n,"An unexpected error occurred":s,"System error":s,4010:u,4001:s,4002:s,30001:v,30002:v,30003:v,30004:v,30005:p,30006:v,30007:c,30008:b,30009:s,30010:v,30011:u,30012:v,30013:v,30014:l,30015:v,30016:s,30017:s,30018:s,30019:n,30020:c,30021:c,30022:u,30023:c,30024:S,30025:c,30026:l,30027:v,30028:u,30029:d,30030:n,30031:c,30032:S,30033:c,30034:s,30035:s,30036:s,30037:n,30038:a,30044:b,32001:d,32002:u,32003:m,32004:s,32005:g,32006:g,32007:g,32008:g,32009:g,32010:s,32011:s,32012:s,32013:s,32014:s,32015:s,32016:s,32017:s,32018:s,32019:s,32020:s,32021:s,32022:s,32023:s,32024:s,32025:s,32026:s,32027:s,32028:s,32029:s,32030:g,32031:o,32038:v,32040:s,32044:s,32045:s,32046:s,32047:s,32048:g,32049:s,32050:g,32051:g,32052:s,32053:s,32057:s,32054:s,32055:g,32056:s,32058:s,32059:g,32060:g,32061:g,32062:g,32063:g,32064:s,32065:s,32066:s,32067:s,32068:s,32069:s,32070:s,32071:s,32072:s,32073:s,32074:s,32075:s,32076:s,32077:s,32078:s,32079:s,32080:s,32083:s,33001:u,33002:d,33003:f,33004:s,33005:s,33006:s,33007:s,33008:f,33009:s,33010:s,33011:s,33012:s,33013:g,33014:y,33015:g,33016:s,33017:f,33018:s,33020:s,33021:c,33022:g,33023:s,33024:g,33025:g,33026:s,33027:g,33028:g,33029:g,33034:s,33035:s,33036:s,33037:s,33038:s,33039:s,33040:s,33041:s,33042:s,33043:s,33044:s,33045:s,33046:s,33047:s,33048:s,33049:s,33050:s,33051:s,33059:c,33060:c,33061:s,33062:s,33063:s,33064:s,33065:s,33085:g,21009:s,34001:u,34002:h,34003:s,34004:s,34005:s,34006:s,34007:s,34008:f,34009:s,34010:s,34011:s,34012:s,34013:s,34014:s,34015:s,34016:u,34017:d,34018:v,34019:u,34020:u,34021:h,34022:s,34023:u,34026:k,34036:s,34037:s,34038:s,34039:s,35001:s,35002:s,35003:s,35004:s,35005:v,35008:g,35010:g,35012:g,35014:g,35015:g,35017:s,35019:g,35020:g,35021:g,35022:c,35024:c,35025:f,35026:c,35029:y,35030:g,35031:g,35032:s,35037:s,35039:f,35040:g,35044:s,35046:f,35047:f,35048:s,35049:g,35050:g,35052:f,35053:s,35055:f,35057:s,35058:s,35059:c,35060:c,35061:c,35062:g,35063:g,35064:g,35066:g,35067:g,35068:g,35069:g,35070:g,35071:g,35072:g,35073:g,35074:g,35075:g,35076:g,35077:g,35078:g,35079:g,35080:g,35081:g,35082:g,35083:g,35084:g,35085:g,35086:g,35087:g,35088:g,35089:g,35090:s,35091:s,35092:s,35093:s,35094:s,35095:c,35096:s,35097:s,35098:s,35099:s,35102:k,36001:c,36002:c,36005:s,36101:v,36102:u,36103:u,36104:u,36105:u,36106:u,36107:u,36108:f,36109:u,36201:u,36202:u,36203:g,36204:s,36205:c,36206:c,36207:g,36208:g,36209:g,36210:g,36211:g,36212:g,36213:g,36214:s,36216:y,36217:g,36218:g,36219:g,36220:g,36221:g,36222:g,36223:g,36224:g,36225:g,36226:g,36227:g,36228:g,36229:g,36230:g},broad:{}},precisionMode:_,options:{fetchOHLCV:{type:"Candles"},createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","{instrument_id}/constituents":"public"}},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchTime(e={}){const t=await this.generalGetTime(e);return this.parse8601(this.safeString(t,"iso"))}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instrument_id");let i="spot",r=!0,s=!1,n=!1,a=!1,o=this.safeString(e,"base_currency"),c=this.safeString(e,"quote_currency");const d=this.safeNumber(e,"contract_val");if(void 0!==d)if("option_type"in e){i="option",r=!1,a=!0;const t=this.safeString(e,"underlying"),s=t.split("-");o=this.safeString(s,0),c=this.safeString(s,1)}else{i="swap",r=!1,n=!0;const t=this.safeString(e,"alias");void 0!==t&&(n=!1,s=!0,i="futures",o=this.safeString(e,"underlying_index"))}const h=this.safeCurrencyCode(o),u=this.safeCurrencyCode(c),l=r?h+"/"+u:t,f=this.safeNumber2(e,"lot_size","trade_increment"),p=this.safeString(e,"tick_size"),m={amount:this.safeNumber(e,"size_increment",f),price:this.parseNumber(p)},g=this.safeString2(e,"min_size","base_min_size"),y=this.parseNumber(g);let v=void 0;void 0!==y&&void 0!==p&&(v=this.parseNumber(T.stringMul(p,g)));const b=!0,w=this.safeValue2(this.fees,i,"trading",{});return this.extend(w,{id:t,symbol:l,base:h,quote:u,baseId:o,quoteId:c,info:e,type:i,spot:r,futures:s,swap:n,option:a,active:b,precision:m,limits:{amount:{min:y,max:void 0},price:{min:m["price"],max:void 0},cost:{min:v,max:void 0}}})}async fetchMarketsByType(e,t={}){if("option"===e){const e=await this.optionGetUnderlying(t);let i=[];for(let t=0;t<e.length;t++){const r=await this.optionGetInstrumentsUnderlying({underlying:e[t]});i=this.arrayConcat(i,r)}return this.parseMarkets(i)}if("spot"===e||"futures"===e||"swap"===e){const i=e+"GetInstruments",r=await this[i](t);return this.parseMarkets(r)}throw new w(this.id+" fetchMarketsByType does not support market type "+e)}async fetchCurrencies(e={}){const t=await this.accountGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=1e-8,o=this.safeString(e,"name"),c=this.safeInteger(e,"can_deposit"),d=this.safeInteger(e,"can_withdraw"),h=!(!c||!d);i[n]={id:s,code:n,info:e,type:void 0,name:o,active:h,fee:void 0,precision:a,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"min_withdrawal"),max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);let s=r["type"]+"GetInstrumentsInstrumentId";s+="swap"===r["type"]?"Depth":"Book";const n={instrument_id:r["id"]};void 0!==t&&(n["size"]=t);const a=await this[s](this.extend(n,i)),o=this.parse8601(this.safeString2(a,"timestamp","time"));return this.parseOrderBook(a,e,o)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp"));let r=void 0;const s=this.safeString(e,"instrument_id");if(s in this.markets_by_id)t=this.markets_by_id[s],r=t["symbol"];else if(void 0!==s){const e=s.split("-"),t=e.length;if(2===t){const[t,i]=e,s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(i);r=s+"/"+n}else r=s}void 0===r&&void 0!==t&&(r=t["symbol"]);const n=this.safeNumber(e,"last"),a=this.safeNumber(e,"open_24h");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_24h"),low:this.safeNumber(e,"low_24h"),bid:this.safeNumber(e,"best_bid"),bidVolume:this.safeNumber(e,"best_bid_size"),ask:this.safeNumber(e,"best_ask"),askVolume:this.safeNumber(e,"best_ask_size"),vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"base_volume_24h"),quoteVolume:this.safeNumber(e,"quote_volume_24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=i["type"]+"GetInstrumentsInstrumentIdTicker",s={instrument_id:i["id"]},n=await this[r](this.extend(s,t));return this.parseTicker(n)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const r=e+"GetInstrumentsTicker",s=await this[r](i),n={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];n[t]=e}return this.filterByArray(n,"symbol",t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){let i=void 0;const r=this.safeString(e,"instrument_id");let s=void 0,n=void 0;if(r in this.markets_by_id)t=this.markets_by_id[r],i=t["symbol"],s=t["base"],n=t["quote"];else if(void 0!==r){const e=r.split("-"),t=e.length;if(2===t){const[t,r]=e;s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(r),i=s+"/"+n}else i=r}void 0===i&&void 0!==t&&(i=t["symbol"],s=t["base"],n=t["quote"]);const a=this.parse8601(this.safeString2(e,"timestamp","created_at")),o=this.safeString(e,"price");let c=this.safeString2(e,"size","qty");c=this.safeString(e,"order_qty",c);const d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(T.stringMul(o,c));let l=this.safeString2(e,"exec_type","liquidity");"M"===l?l="maker":"T"===l&&(l="taker");const f=this.safeString(e,"side"),p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const e="buy"===f?s:n;m={cost:-p,currency:e}}const g=this.safeString(e,"order_id");return{info:e,timestamp:a,datetime:this.iso8601(a),symbol:i,id:this.safeString2(e,"trade_id","ledger_id"),order:g,type:void 0,takerOrMaker:l,side:f,price:d,amount:h,cost:u,fee:m}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=s["type"]+"GetInstrumentsInstrumentIdTrades";(void 0===i||i>100)&&(i=100);const a={instrument_id:s["id"],limit:i},o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){if(Array.isArray(e)){const t=e.length,i=t>6?6:5;let r=this.safeValue(e,0);return"string"===typeof r&&(r=this.parse8601(r)),[r,this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,i)]}return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=this.parseTimeframe(t),o={instrument_id:n["id"],granularity:this.timeframes[t]},c=this.safeValue(this.options,"fetchOHLCV",{}),d=this.safeString(c,"type","Candles"),h=this.safeString(s,"type",d);s=this.omit(s,"type");const u=n["type"]+"GetInstrumentsInstrumentId"+h;if("Candles"===h){if(void 0!==i)void 0!==r&&(o["end"]=this.iso8601(this.sum(i,r*a*1e3))),o["start"]=this.iso8601(i);else if(void 0!==r){const e=this.milliseconds();o["start"]=this.iso8601(e-r*a*1e3),o["end"]=this.iso8601(e)}}else if("HistoryCandles"===h){if(n["option"])throw new w(this.id+" fetchOHLCV does not have "+h+" for "+n["type"]+" markets");if(void 0!==i)void 0===r&&(r=300),o["start"]=this.iso8601(this.sum(i,r*a*1e3)),o["end"]=this.iso8601(i);else if(void 0!==r){const e=this.milliseconds();o["end"]=this.iso8601(e-r*a*1e3),o["start"]=this.iso8601(e)}}const l=await this[u](this.extend(o,s));return this.parseOHLCVs(l,n,t,i,r)}parseAccountBalance(e){const t={info:e,timestamp:void 0,datetime:void 0};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"currency"),n=this.safeCurrencyCode(s),a=this.account();a["total"]=this.safeNumber(r,"balance"),a["used"]=this.safeNumber(r,"hold"),a["free"]=this.safeNumber(r,"available"),t[n]=a}return this.parseBalance(t)}parseMarginBalance(e){const t={info:e,timestamp:void 0,datetime:void 0};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"instrument_id"),n=this.safeValue(this.markets_by_id,s);let a=void 0;if(void 0===n){const[e,t]=s.split("-"),i=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);a=i+"/"+r}else a=n["symbol"];const o=this.omit(r,["instrument_id","liquidation_price","product_id","risk_rate","margin_ratio","maint_margin_ratio","tiers"]),c=Object.keys(o),d={};for(let e=0;e<c.length;e++){const t=c[e],i=r[t];if(!(t.indexOf(":")>=0))throw new w(this.id+" margin balance response format has changed!");{const e=t.split(":"),r=e[1],s=this.safeCurrencyCode(r),n=this.account();n["total"]=this.safeNumber(i,"balance"),n["used"]=this.safeNumber(i,"hold"),n["free"]=this.safeNumber(i,"available"),d[s]=n}}t[a]=this.parseBalance(d)}return t}parseFuturesBalance(e){const t={info:e,timestamp:void 0,datetime:void 0},i=this.safeValue(e,"info",{}),r=Object.keys(i);for(let s=0;s<r.length;s++){const e=r[s],n=this.safeCurrencyCode(e),a=this.safeValue(i,e,{}),o=this.account(),c=this.safeNumber(a,"total_avail_balance");if("fixed"===this.safeString(a,"margin_mode")){const e=this.safeValue(a,"contracts",[]);let t=c;for(let i=0;i<e.length;i++){const r=e[i],s=this.safeNumber(r,"fixed_balance"),n=this.safeNumber(r,"realized_pnl"),a=this.safeNumber(r,"margin_frozen"),o=this.safeNumber(r,"margin_for_unfilled"),c=this.sum(s,n)-a-o;t=this.sum(t,c)}o["free"]=t}else{const e=this.safeNumber(a,"realized_pnl"),t=this.safeNumber(a,"unrealized_pnl"),i=this.safeNumber(a,"margin_frozen"),r=this.safeNumber(a,"margin_for_unfilled");o["free"]=this.sum(c,e,t)-i-r}o["total"]=this.safeNumber(a,"equity"),t[n]=o}return this.parseBalance(t)}parseSwapBalance(e){const t={info:e};let i=void 0;const r=this.safeValue(e,"info",[]);for(let s=0;s<r.length;s++){const e=r[s],n=this.safeString(e,"instrument_id");let a=n;n in this.markets_by_id&&(a=this.markets_by_id[n]["symbol"]);const o=this.parse8601(this.safeString(e,"timestamp"));i=void 0===i?o:Math.max(i,o);const c=this.account();c["total"]=this.safeNumber(e,"equity"),c["free"]=this.safeNumber(e,"total_avail_balance"),t[a]=c}return t["timestamp"]=i,t["datetime"]=this.iso8601(i),this.parseBalance(t)}async fetchBalance(e={}){const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new o(this.id+" fetchBalance() requires a type parameter (one of 'account', 'spot', 'margin', 'futures', 'swap')");await this.loadMarkets();const r="account"===i?"Wallet":"Accounts",s=i+"Get"+r,n=this.omit(e,"type"),a=await this[s](n);return this.parseBalanceByType(i,a)}parseBalanceByType(e,t){if("account"===e||"spot"===e)return this.parseAccountBalance(t);if("margin"===e)return this.parseMarginBalance(t);if("futures"===e)return this.parseFuturesBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new w(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e);let o={instrument_id:a["id"]};const c=this.safeString2(n,"client_oid","clientOrderId");void 0!==c&&(o["client_oid"]=c,n=this.omit(n,["client_oid","clientOrderId"]));let d=void 0;if(a["futures"]||a["swap"]){const i=a["futures"]?this.numberToString(r):this.amountToPrecision(e,r);o=this.extend(o,{type:t,size:i});const c=this.safeString(n,"order_type"),h="market"===t||"4"===c;h?o["order_type"]="4":o["price"]=this.priceToPrecision(e,s),a["futures"]&&(o["leverage"]="10"),d=a["type"]+"PostOrder"}else{const c=this.safeString(n,"margin_trading","1");if(o=this.extend(o,{side:i,type:t,margin_trading:c}),"limit"===t)o["price"]=this.priceToPrecision(e,s),o["size"]=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){let e=this.safeNumber(n,"notional");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new g(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const i=a["precision"]["price"];o["notional"]=this.decimalToPrecision(e,O,i,this.precisionMode)}else o["size"]=this.amountToPrecision(e,r);d="2"===c?"marginPostOrders":"spotPostOrders"}const h=await this[d](this.extend(o,n)),u=this.parseOrder(h,a);return this.extend(u,{type:t,side:i})}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t);let s=void 0;if(r["futures"]||r["swap"])s=r["type"];else{const e=this.safeString2(this.options,"cancelOrder","defaultType",r["type"]);s=this.safeString(i,"type",e)}if(void 0===s)throw new o(this.id+" cancelOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");let n=s+"PostCancelOrder";const a={instrument_id:r["id"]};r["futures"]||r["swap"]?n+="InstrumentId":n+="s";const c=this.safeString2(i,"client_oid","clientOrderId");void 0!==c?(n+="ClientOid",a["client_oid"]=c):(n+="OrderId",a["order_id"]=e);const d=this.omit(i,["type","client_oid","clientOrderId"]),h=await this[n](this.extend(a,d)),u="result"in h?h:this.safeValue(h,r["id"],{});return this.parseOrder(u,r)}parseOrderStatus(e){const t={"-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"};return this.safeString(t,e,e)}parseOrderSide(e){const t={1:"buy",2:"sell",3:"sell",4:"buy"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.parse8601(this.safeString(e,"timestamp"));let s=this.safeString(e,"side");const n=this.safeString(e,"type");"buy"!==s&&"sell"!==s&&(s=this.parseOrderSide(n));let a=void 0;const o=this.safeString(e,"instrument_id");o in this.markets_by_id?(t=this.markets_by_id[o],a=t["symbol"]):a=o,void 0!==t&&void 0===a&&(a=t["symbol"]);let c=this.safeNumber(e,"size");const d=this.safeNumber2(e,"filled_size","filled_qty");let h=void 0;void 0!==c&&void 0!==d&&(c=Math.max(c,d),h=Math.max(0,c-d)),"market"===n&&(h=0);let u=this.safeNumber2(e,"filled_notional","funds");const l=this.safeNumber(e,"price");let f=this.safeNumber(e,"price_avg");void 0===u?void 0!==d&&void 0!==f&&(u=f*d):void 0===f&&void 0!==d&&d>0&&(f=u/d);const p=this.parseOrderStatus(this.safeString(e,"state")),m=this.safeNumber(e,"fee");let g=void 0;if(void 0!==m){const e=void 0;g={cost:m,currency:e}}let y=this.safeString(e,"client_oid");void 0!==y&&y.length<1&&(y=void 0);const v=this.safeNumber(e,"trigger_price");return{info:e,id:i,clientOrderId:y,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:n,timeInForce:void 0,postOnly:void 0,side:s,price:l,stopPrice:v,average:f,cost:u,amount:c,filled:d,remaining:h,status:p,fee:g,trades:void 0}}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOrder","defaultType",r["type"]),n=this.safeString(i,"type",s);if(void 0===n)throw new o(this.id+" fetchOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");const a=r["futures"]||r["swap"]?"InstrumentId":"";let c=n+"GetOrders"+a;const d={instrument_id:r["id"]},h=this.safeString(i,"client_oid");void 0!==h?(c+="ClientOid",d["client_oid"]=h):(c+="OrderId",d["order_id"]=e);const u=this.omit(i,"type"),l=await this[c](this.extend(d,u));return this.parseOrder(l)}async fetchOrdersByState(e,t,i,r,s={}){if(void 0===t)throw new o(this.id+" fetchOrdersByState() requires a symbol argument");await this.loadMarkets();const n=this.market(t);let a=void 0;if(n["futures"]||n["swap"])a=n["type"];else{const e=this.safeString2(this.options,"fetchOrder","defaultType",n["type"]);a=this.safeString(s,"type",e)}if(void 0===a)throw new o(this.id+" fetchOrdersByState() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");const c={instrument_id:n["id"],state:e};let d=a+"GetOrders";(n["futures"]||n["swap"])&&(d+="InstrumentId");const h=this.omit(s,"type"),u=await this[d](this.extend(c,h));let l=void 0;if(n["swap"]||n["futures"])l=this.safeValue(u,"order_info",[]);else{l=u;const e=u.length;if(e<1)return[];if(e>1){const e=this.safeValue(u[1],"before");void 0!==e&&(l=u[0])}}return this.parseOrders(l,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("6",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("7",e,t,i,r)}parseDepositAddress(e,t){const i=this.safeString(e,"address");let r=this.safeString2(e,"tag","payment_id");r=this.safeString2(e,"memo","Memo",r);const s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:n,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=e.split("-"),r=this.currency(i[0]),s={currency:r["id"]},n=await this.accountGetDepositAddress(this.extend(s,t)),a=this.parseDepositAddresses(n),o=this.safeValue(a,e);if(void 0===o)throw new h(this.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");return o}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);r&&(i=i+":"+r);const c=this.safeString(n,"fee");if(void 0===c)throw new o(this.id+" withdraw() requires a `fee` string parameter, network transaction fee must be  0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const d={currency:a["id"],to_address:i,destination:"4",amount:this.numberToString(t),fee:c};"password"in n?d["trade_pwd"]=n["password"]:"trade_pwd"in n?d["trade_pwd"]=n["trade_pwd"]:this.password&&(d["trade_pwd"]=this.password);const h=this.omit(n,["fee","password","trade_pwd"]);if(!("trade_pwd"in d))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");const u=await this.accountPostWithdrawal(this.extend(d,h));return{info:u,id:this.safeString(u,"withdrawal_id")}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n="accountGetDepositHistory",a=void 0;void 0!==e&&(a=this.currency(e),s["currency"]=a["id"],n+="Currency");const o=await this[n](this.extend(s,r));return this.parseTransactions(o,a,t,i,r)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n="accountGetWithdrawalHistory",a=void 0;void 0!==e&&(a=this.currency(e),s["currency"]=a["id"],n+="Currency");const o=await this[n](this.extend(s,r));return this.parseTransactions(o,a,t,i,r)}parseTransactionStatus(e){const t={"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0,r=void 0,s=void 0;const n=this.safeString(e,"withdrawal_id"),a=this.safeString(e,"from"),o=this.safeString(e,"to"),c=this.safeString(e,"tag");void 0!==n?(i="withdrawal",r=n,s=o):(r=this.safeString2(e,"payment_id","deposit_id"),i="deposit",s=o);const d=this.safeString(e,"currency"),h=this.safeCurrencyCode(d),u=this.safeNumber(e,"amount"),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeString(e,"txid"),p=this.parse8601(this.safeString(e,"timestamp"));let m=void 0;if("deposit"===i)m=0;else if(void 0!==d){const t=this.safeString(e,"fee");if(void 0!==t){const e=d.toLowerCase(),i=t.replace(e,"");m=parseFloat(i)}}return{info:e,id:r,currency:h,amount:u,addressFrom:a,addressTo:o,address:s,tagFrom:void 0,tagTo:c,tag:c,status:l,type:i,updated:void 0,txid:f,timestamp:p,datetime:this.iso8601(p),fee:{currency:h,cost:m}}}parseMyTrade(e,t){const i=this.safeValue(e,1),r=this.safeValue(e,0),s=this.safeString(r,"instrument_id"),n=this.safeString(i,"instrument_id");if(s!==n)throw new w(this.id+" parseMyTrade() received unrecognized response format, differing instrument_ids in one fill, the exchange API might have changed, paste your verbose output: https://github.com/ccxt/ccxt/wiki/FAQ#what-is-required-to-get-help");const a=s;t=this.safeMarket(a,t);const o=t["symbol"],c=t["quoteId"];let d=void 0,h=void 0,u=void 0;const l=this.safeString(i,"currency");let f=void 0;l===c?(d=this.safeString(r,"side"),h=this.safeNumber(r,"size"),u=this.safeNumber(i,"size"),f=this.safeString(r,"currency")):(d=this.safeString(i,"side"),h=this.safeNumber(i,"size"),u=this.safeNumber(r,"size"),f=this.safeString(i,"currency"));const p=this.safeString(i,"trade_id"),m=this.safeNumber(i,"price"),g=this.safeNumber(r,"fee"),y=this.safeNumber(i,"fee"),v=this.safeCurrencyCode(this.safeString(r,"currency")),b=this.safeCurrencyCode(this.safeString(i,"currency"));let S=void 0,k=void 0;void 0!==g&&0!==g?void 0!==y&&0!==y?k=[{cost:-g,currency:v},{cost:-y,currency:b}]:S={cost:-g,currency:v}:S=void 0!==y&&0!==y?{cost:-y,currency:b}:{cost:0,currency:this.safeCurrencyCode(f)};const _=this.parse8601(this.safeString2(i,"timestamp","created_at"));let O=this.safeString2(i,"exec_type","liquidity");"M"===O?O="maker":"T"===O&&(O="taker");const T=this.safeString(i,"order_id"),C={info:e,timestamp:_,datetime:this.iso8601(_),symbol:o,id:p,order:T,type:void 0,takerOrMaker:O,side:d,price:m,amount:h,cost:u,fee:S};return void 0!==k&&(C["fees"]=k),C}parseMyTrades(e,t,i,r,s={}){const n=this.groupBy(e,"trade_id"),a=Object.keys(n),o=[];for(let d=0;d<a.length;d++){const e=a[d],t=n[e],i=t.length;if(2===i){const e=this.parseMyTrade(t);o.push(e)}}let c=void 0;return void 0!==t&&(c=t["symbol"]),this.filterBySymbolSinceLimit(o,c,i,r)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e);void 0!==i&&i>100&&(i=100);const n={instrument_id:s["id"]},a=this.safeString2(this.options,"fetchMyTrades","defaultType"),c=this.safeString(r,"type",a),d=this.omit(r,"type"),h=c+"GetFills",u=await this[h](this.extend(n,d));return this.parseMyTrades(u,s,t,i,r)}async fetchOrderTrades(e,t,i,r,s={}){const n={order_id:e};return await this.fetchMyTrades(t,i,r,this.extend(n,s))}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e);let r=void 0;const s={instrument_id:i["id"]},n=i["type"];if("futures"===n||"swap"===n)r=n+"GetInstrumentIdPosition";else{if("option"!==n)throw new w(this.id+" fetchPosition() does not support "+n+" market "+e+", supported market types are futures, swap or option");{const i=this.safeString(t,"underlying");if(void 0===i)throw new o(this.id+" fetchPosition() requires an underlying parameter for "+n+" market "+e);r=n+"GetUnderlyingPosition"}}const a=await this[r](this.extend(s,t));return a}async fetchPositions(e,t={}){await this.loadMarkets();let i=void 0;const r=this.safeString2(this.options,"fetchPositions","defaultType"),s=this.safeString(t,"type",r);if("futures"===s||"swap"===s)i=s+"GetPosition";else{if("option"!==s)throw new w(this.id+" fetchPositions() does not support "+s+" markets, supported market types are futures, swap or option");{const e=this.safeString(t,"underlying");if(void 0===e)throw new o(this.id+" fetchPositions() requires an underlying parameter for "+s+" markets");i=s+"GetUnderlyingPosition"}}t=this.omit(t,"type");const n=await this[i](t);return n}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s=this.safeString2(this.options,"fetchLedger","defaultType"),n=this.safeString(r,"type",s),a=this.omit(r,"type"),c="account"===n?"":"Accounts";let d="";const h={};void 0!==i&&(h["limit"]=i);let u=void 0;if("spot"===n){if(void 0===e)throw new o(this.id+" fetchLedger() requires a currency code argument for '"+n+"' markets");d="Currency",u=this.currency(e),h["currency"]=u["id"]}else if("futures"===n){if(void 0===e)throw new o(this.id+" fetchLedger() requires an underlying symbol for '"+n+"' markets");d="Underlying";const t=this.market(e),i=this.safeValue(t,"info",{}),r=this.safeString(i,"settlement_currency"),s=this.safeCurrencyCode(r);u=this.currency(s);const a=this.safeString(i,"underlying");h["underlying"]=a}else if("margin"===n||"swap"===n){if(void 0===e)throw new o(this.id+" fetchLedger() requires a code argument (a market symbol) for '"+n+"' markets");d="InstrumentId";const t=this.market(e);u=this.currency(t["base"]),h["instrument_id"]=t["id"]}else{if("account"!==n)throw new w(this.id+" fetchLedger does not support the '"+n+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')");void 0!==e&&(u=this.currency(e),h["currency"]=u["id"])}const l=n+"Get"+c+d+"Ledger",f=await this[l](this.extend(h,a)),p=f.length;if(p<1)return[];const m=Array.isArray(f[0]),g="margin"===n,y=g&&m?f[0]:f;if("swap"===n){const r=this.parseLedger(y);return this.filterBySymbolSinceLimit(r,e,t,i)}return this.parseLedger(y,u,t,i)}parseLedgerEntryType(e){const t={transfer:"transfer",trade:"trade",rebate:"rebate",match:"trade",fee:"fee",settlement:"trade",liquidation:"trade",funding:"fee",margin:"margin"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"ledger_id"),r=void 0,s=this.safeValue(e,"details",{}),n=this.safeString(s,"order_id"),a=void 0,o=this.parseLedgerEntryType(this.safeString(e,"type")),c=this.safeCurrencyCode(this.safeString(e,"currency"),t),d=this.safeNumber(e,"amount"),h=this.parse8601(this.safeString(e,"timestamp")),u={cost:this.safeNumber(e,"fee"),currency:c},l=void 0,f=this.safeNumber(e,"balance"),p="ok",m=this.safeString(e,"instrument_id");let g=void 0;if(m in this.markets_by_id){const e=this.markets_by_id[m];g=e["symbol"]}return{info:e,id:i,account:r,referenceId:n,referenceAccount:a,type:o,currency:c,symbol:g,amount:d,before:l,after:f,status:p,timestamp:h,datetime:this.iso8601(h),fee:u}}sign(e,t="public",i="GET",r={},s,n){const a=Array.isArray(r);let o="/api/"+t+"/"+this.version+"/";o+=a?e:this.implodeParams(e,r);const c=a?r:this.omit(r,this.extractParams(e));let d=this.implodeHostname(this.urls["api"]["rest"])+o;const h=this.getPathAuthenticationType(e);if("public"===h)Object.keys(c).length&&(d+="?"+this.urlencode(c));else if("private"===h){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());s={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);d+=e,t+=e}}else(a||Object.keys(c).length)&&(n=this.json(c),t+=n),s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["OK-ACCESS-SIGN"]=r}return{url:d,method:i,body:n,headers:s}}getPathAuthenticationType(e){if("underlying"===e)return"public";const t=this.safeValue(this.options,"auth",{}),i=this.findBroadlyMatchedKey(t,e);return this.safeString(t,i,"private")}handleErrors(e,t,i,r,a,o,c,d,h){if(!c)return;const u=this.id+" "+o;if(503===e)throw new n(u);const l=this.safeString(c,"message"),f=this.safeString2(c,"code","error_code"),p=void 0!==l&&""!==l,m=void 0!==f&&"0"!==f;if(p&&(this.throwExactlyMatchedException(this.exceptions["exact"],l,u),this.throwBroadlyMatchedException(this.exceptions["broad"],l,u)),m&&this.throwExactlyMatchedException(this.exceptions["exact"],f,u),m||p)throw new s(u)}}},"2af6":function(e,t,i){var r=i("5259");i("6497"),i("3609"),i("de46");var s=e.exports=r.pkcs1=r.pkcs1||{};function n(e,t,i){i||(i=r.md.sha1.create());for(var s="",n=Math.ceil(t/i.digestLength),a=0;a<n;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);i.start(),i.update(e+o),s+=i.digest().getBytes()}return s.substring(0,t)}s.encode_rsa_oaep=function(e,t,i){var s,a,o,c;"string"===typeof i?(s=i,a=arguments[3]||void 0,o=arguments[4]||void 0):i&&(s=i.label||void 0,a=i.seed||void 0,o=i.md||void 0,i.mgf1&&i.mgf1.md&&(c=i.mgf1.md)),o?o.start():o=r.md.sha1.create(),c||(c=o);var d=Math.ceil(e.n.bitLength()/8),h=d-2*o.digestLength-2;if(t.length>h){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=h,u}s||(s=""),o.update(s,"raw");for(var l=o.digest(),f="",p=h-t.length,m=0;m<p;m++)f+="\0";var g=l.getBytes()+f+""+t;if(a){if(a.length!==o.digestLength){u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=a.length,u.digestLength=o.digestLength,u}}else a=r.random.getBytes(o.digestLength);var y=n(a,d-o.digestLength-1,c),v=r.util.xorBytes(g,y,g.length),b=n(v,o.digestLength,c),w=r.util.xorBytes(a,b,a.length);return"\0"+w+v},s.decode_rsa_oaep=function(e,t,i){var s,a,o;"string"===typeof i?(s=i,a=arguments[3]||void 0):i&&(s=i.label||void 0,a=i.md||void 0,i.mgf1&&i.mgf1.md&&(o=i.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c){var d=new Error("RSAES-OAEP encoded message length is invalid.");throw d.length=t.length,d.expectedLength=c,d}if(void 0===a?a=r.md.sha1.create():a.start(),o||(o=a),c<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");s||(s=""),a.update(s,"raw");for(var h=a.digest().getBytes(),u=t.charAt(0),l=t.substring(1,a.digestLength+1),f=t.substring(1+a.digestLength),p=n(f,a.digestLength,o),m=r.util.xorBytes(l,p,l.length),g=n(m,c-a.digestLength-1,o),y=r.util.xorBytes(f,g,f.length),v=y.substring(0,a.digestLength),b=(d="\0"!==u,0);b<a.digestLength;++b)d|=h.charAt(b)!==v.charAt(b);for(var w=1,S=a.digestLength,k=a.digestLength;k<y.length;k++){var _=y.charCodeAt(k),O=1&_^1,T=w?65534:0;d|=_&T,w&=O,S+=w}if(d||1!==y.charCodeAt(S))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(S+1)}},"2b0e":function(e,t,i){"use strict";(function(e){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function r(e){return void 0===e||null===e}function s(e){return void 0!==e&&null!==e}function n(e){return!0===e}function a(e){return!1===e}function o(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var d=Object.prototype.toString;function h(e){return"[object Object]"===d.call(e)}function u(e){return"[object RegExp]"===d.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return s(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var i=Object.create(null),r=e.split(","),s=0;s<r.length;s++)i[r[s]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}g("slot,component",!0);var y=g("key,ref,slot,slot-scope,is");function v(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var b=Object.prototype.hasOwnProperty;function w(e,t){return b.call(e,t)}function S(e){var t=Object.create(null);return function(i){var r=t[i];return r||(t[i]=e(i))}}var k=/-(\w)/g,_=S((function(e){return e.replace(k,(function(e,t){return t?t.toUpperCase():""}))})),O=S((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,C=S((function(e){return e.replace(T,"-$1").toLowerCase()}));function I(e,t){function i(i){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function x(e,t){return e.bind(t)}var E=Function.prototype.bind?x:I;function A(e,t){t=t||0;var i=e.length-t,r=new Array(i);while(i--)r[i]=e[i+t];return r}function N(e,t){for(var i in t)e[i]=t[i];return e}function M(e){for(var t={},i=0;i<e.length;i++)e[i]&&N(t,e[i]);return t}function P(e,t,i){}var B=function(e,t,i){return!1},R=function(e){return e};function D(e,t){if(e===t)return!0;var i=c(e),r=c(t);if(!i||!r)return!i&&!r&&String(e)===String(t);try{var s=Array.isArray(e),n=Array.isArray(t);if(s&&n)return e.length===t.length&&e.every((function(e,i){return D(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(s||n)return!1;var a=Object.keys(e),o=Object.keys(t);return a.length===o.length&&a.every((function(i){return D(e[i],t[i])}))}catch(d){return!1}}function L(e,t){for(var i=0;i<e.length;i++)if(D(e[i],t))return i;return-1}function V(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var j="data-server-rendered",q=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],G={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:P,parsePlatformTagName:R,mustUseProp:B,async:!0,_lifecycleHooks:U},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function z(e,t,i,r){Object.defineProperty(e,t,{value:i,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^"+F.source+".$_\\d]");function W(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var $,Y="__proto__"in{},X="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=Q&&WXEnvironment.platform.toLowerCase(),J=X&&window.navigator.userAgent.toLowerCase(),ee=J&&/msie|trident/.test(J),te=J&&J.indexOf("msie 9.0")>0,ie=J&&J.indexOf("edge/")>0,re=(J&&J.indexOf("android"),J&&/iphone|ipad|ipod|ios/.test(J)||"ios"===Z),se=(J&&/chrome\/\d+/.test(J),J&&/phantomjs/.test(J),J&&J.match(/firefox\/(\d+)/)),ne={}.watch,ae=!1;if(X)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,oe)}catch(_a){}var ce=function(){return void 0===$&&($=!X&&!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),$},de=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function he(e){return"function"===typeof e&&/native code/.test(e.toString())}var ue,le="undefined"!==typeof Symbol&&he(Symbol)&&"undefined"!==typeof Reflect&&he(Reflect.ownKeys);ue="undefined"!==typeof Set&&he(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var fe=P,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){v(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},me.target=null;var ge=[];function ye(e){ge.push(e),me.target=e}function ve(){ge.pop(),me.target=ge[ge.length-1]}var be=function(e,t,i,r,s,n,a,o){this.tag=e,this.data=t,this.children=i,this.text=r,this.elm=s,this.ns=void 0,this.context=n,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},we={child:{configurable:!0}};we.child.get=function(){return this.componentInstance},Object.defineProperties(be.prototype,we);var Se=function(e){void 0===e&&(e="");var t=new be;return t.text=e,t.isComment=!0,t};function ke(e){return new be(void 0,void 0,void 0,String(e))}function _e(e){var t=new be(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Oe=Array.prototype,Te=Object.create(Oe),Ce=["push","pop","shift","unshift","splice","sort","reverse"];Ce.forEach((function(e){var t=Oe[e];z(Te,e,(function(){var i=[],r=arguments.length;while(r--)i[r]=arguments[r];var s,n=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":s=i;break;case"splice":s=i.slice(2);break}return s&&a.observeArray(s),a.dep.notify(),n}))}));var Ie=Object.getOwnPropertyNames(Te),xe=!0;function Ee(e){xe=e}var Ae=function(e){this.value=e,this.dep=new me,this.vmCount=0,z(e,"__ob__",this),Array.isArray(e)?(Y?Ne(e,Te):Me(e,Te,Ie),this.observeArray(e)):this.walk(e)};function Ne(e,t){e.__proto__=t}function Me(e,t,i){for(var r=0,s=i.length;r<s;r++){var n=i[r];z(e,n,t[n])}}function Pe(e,t){var i;if(c(e)&&!(e instanceof be))return w(e,"__ob__")&&e.__ob__ instanceof Ae?i=e.__ob__:xe&&!ce()&&(Array.isArray(e)||h(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Ae(e)),t&&i&&i.vmCount++,i}function Be(e,t,i,r,s){var n=new me,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var o=a&&a.get,c=a&&a.set;o&&!c||2!==arguments.length||(i=e[t]);var d=!s&&Pe(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=o?o.call(e):i;return me.target&&(n.depend(),d&&(d.dep.depend(),Array.isArray(t)&&Le(t))),t},set:function(t){var r=o?o.call(e):i;t===r||t!==t&&r!==r||o&&!c||(c?c.call(e,t):i=t,d=!s&&Pe(t),n.notify())}})}}function Re(e,t,i){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var r=e.__ob__;return e._isVue||r&&r.vmCount?i:r?(Be(r.value,t,i),r.dep.notify(),i):(e[t]=i,i)}function De(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||w(e,t)&&(delete e[t],i&&i.dep.notify())}}function Le(e){for(var t=void 0,i=0,r=e.length;i<r;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Le(t)}Ae.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Be(e,t[i])},Ae.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Pe(e[t])};var Ve=G.optionMergeStrategies;function je(e,t){if(!t)return e;for(var i,r,s,n=le?Reflect.ownKeys(t):Object.keys(t),a=0;a<n.length;a++)i=n[a],"__ob__"!==i&&(r=e[i],s=t[i],w(e,i)?r!==s&&h(r)&&h(s)&&je(r,s):Re(e,i,s));return e}function qe(e,t,i){return i?function(){var r="function"===typeof t?t.call(i,i):t,s="function"===typeof e?e.call(i,i):e;return r?je(r,s):s}:t?e?function(){return je("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Ue(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?Ge(i):i}function Ge(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Fe(e,t,i,r){var s=Object.create(e||null);return t?N(s,t):s}Ve.data=function(e,t,i){return i?qe(e,t,i):t&&"function"!==typeof t?e:qe(e,t)},U.forEach((function(e){Ve[e]=Ue})),q.forEach((function(e){Ve[e+"s"]=Fe})),Ve.watch=function(e,t,i,r){if(e===ne&&(e=void 0),t===ne&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var s={};for(var n in N(s,e),t){var a=s[n],o=t[n];a&&!Array.isArray(a)&&(a=[a]),s[n]=a?a.concat(o):Array.isArray(o)?o:[o]}return s},Ve.props=Ve.methods=Ve.inject=Ve.computed=function(e,t,i,r){if(!e)return t;var s=Object.create(null);return N(s,e),t&&N(s,t),s},Ve.provide=qe;var He=function(e,t){return void 0===t?e:t};function ze(e,t){var i=e.props;if(i){var r,s,n,a={};if(Array.isArray(i)){r=i.length;while(r--)s=i[r],"string"===typeof s&&(n=_(s),a[n]={type:null})}else if(h(i))for(var o in i)s=i[o],n=_(o),a[n]=h(s)?s:{type:s};else 0;e.props=a}}function Ke(e,t){var i=e.inject;if(i){var r=e.inject={};if(Array.isArray(i))for(var s=0;s<i.length;s++)r[i[s]]={from:i[s]};else if(h(i))for(var n in i){var a=i[n];r[n]=h(a)?N({from:n},a):{from:a}}else 0}}function We(e){var t=e.directives;if(t)for(var i in t){var r=t[i];"function"===typeof r&&(t[i]={bind:r,update:r})}}function $e(e,t,i){if("function"===typeof t&&(t=t.options),ze(t,i),Ke(t,i),We(t),!t._base&&(t.extends&&(e=$e(e,t.extends,i)),t.mixins))for(var r=0,s=t.mixins.length;r<s;r++)e=$e(e,t.mixins[r],i);var n,a={};for(n in e)o(n);for(n in t)w(e,n)||o(n);function o(r){var s=Ve[r]||He;a[r]=s(e[r],t[r],i,r)}return a}function Ye(e,t,i,r){if("string"===typeof i){var s=e[t];if(w(s,i))return s[i];var n=_(i);if(w(s,n))return s[n];var a=O(n);if(w(s,a))return s[a];var o=s[i]||s[n]||s[a];return o}}function Xe(e,t,i,r){var s=t[e],n=!w(i,e),a=i[e],o=tt(Boolean,s.type);if(o>-1)if(n&&!w(s,"default"))a=!1;else if(""===a||a===C(e)){var c=tt(String,s.type);(c<0||o<c)&&(a=!0)}if(void 0===a){a=Qe(r,s,e);var d=xe;Ee(!0),Pe(a),Ee(d)}return a}function Qe(e,t,i){if(w(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"===typeof r&&"Function"!==Je(t.type)?r.call(e):r}}var Ze=/^\s*function (\w+)/;function Je(e){var t=e&&e.toString().match(Ze);return t?t[1]:""}function et(e,t){return Je(e)===Je(t)}function tt(e,t){if(!Array.isArray(t))return et(t,e)?0:-1;for(var i=0,r=t.length;i<r;i++)if(et(t[i],e))return i;return-1}function it(e,t,i){ye();try{if(t){var r=t;while(r=r.$parent){var s=r.$options.errorCaptured;if(s)for(var n=0;n<s.length;n++)try{var a=!1===s[n].call(r,e,t,i);if(a)return}catch(_a){st(_a,r,"errorCaptured hook")}}}st(e,t,i)}finally{ve()}}function rt(e,t,i,r,s){var n;try{n=i?e.apply(t,i):e.call(t),n&&!n._isVue&&f(n)&&!n._handled&&(n.catch((function(e){return it(e,r,s+" (Promise/async)")})),n._handled=!0)}catch(_a){it(_a,r,s)}return n}function st(e,t,i){if(G.errorHandler)try{return G.errorHandler.call(null,e,t,i)}catch(_a){_a!==e&&nt(_a,null,"config.errorHandler")}nt(e,t,i)}function nt(e,t,i){if(!X&&!Q||"undefined"===typeof console)throw e;console.error(e)}var at,ot=!1,ct=[],dt=!1;function ht(){dt=!1;var e=ct.slice(0);ct.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&he(Promise)){var ut=Promise.resolve();at=function(){ut.then(ht),re&&setTimeout(P)},ot=!0}else if(ee||"undefined"===typeof MutationObserver||!he(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())at="undefined"!==typeof setImmediate&&he(setImmediate)?function(){setImmediate(ht)}:function(){setTimeout(ht,0)};else{var lt=1,ft=new MutationObserver(ht),pt=document.createTextNode(String(lt));ft.observe(pt,{characterData:!0}),at=function(){lt=(lt+1)%2,pt.data=String(lt)},ot=!0}function mt(e,t){var i;if(ct.push((function(){if(e)try{e.call(t)}catch(_a){it(_a,t,"nextTick")}else i&&i(t)})),dt||(dt=!0,at()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var gt=new ue;function yt(e){vt(e,gt),gt.clear()}function vt(e,t){var i,r,s=Array.isArray(e);if(!(!s&&!c(e)||Object.isFrozen(e)||e instanceof be)){if(e.__ob__){var n=e.__ob__.dep.id;if(t.has(n))return;t.add(n)}if(s){i=e.length;while(i--)vt(e[i],t)}else{r=Object.keys(e),i=r.length;while(i--)vt(e[r[i]],t)}}}var bt=S((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:i,capture:r,passive:t}}));function wt(e,t){function i(){var e=arguments,r=i.fns;if(!Array.isArray(r))return rt(r,null,arguments,t,"v-on handler");for(var s=r.slice(),n=0;n<s.length;n++)rt(s[n],null,e,t,"v-on handler")}return i.fns=e,i}function St(e,t,i,s,a,o){var c,d,h,u;for(c in e)d=e[c],h=t[c],u=bt(c),r(d)||(r(h)?(r(d.fns)&&(d=e[c]=wt(d,o)),n(u.once)&&(d=e[c]=a(u.name,d,u.capture)),i(u.name,d,u.capture,u.passive,u.params)):d!==h&&(h.fns=d,e[c]=h));for(c in t)r(e[c])&&(u=bt(c),s(u.name,t[c],u.capture))}function kt(e,t,i){var a;e instanceof be&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function c(){i.apply(this,arguments),v(a.fns,c)}r(o)?a=wt([c]):s(o.fns)&&n(o.merged)?(a=o,a.fns.push(c)):a=wt([o,c]),a.merged=!0,e[t]=a}function _t(e,t,i){var n=t.options.props;if(!r(n)){var a={},o=e.attrs,c=e.props;if(s(o)||s(c))for(var d in n){var h=C(d);Ot(a,c,d,h,!0)||Ot(a,o,d,h,!1)}return a}}function Ot(e,t,i,r,n){if(s(t)){if(w(t,i))return e[i]=t[i],n||delete t[i],!0;if(w(t,r))return e[i]=t[r],n||delete t[r],!0}return!1}function Tt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ct(e){return o(e)?[ke(e)]:Array.isArray(e)?xt(e):void 0}function It(e){return s(e)&&s(e.text)&&a(e.isComment)}function xt(e,t){var i,a,c,d,h=[];for(i=0;i<e.length;i++)a=e[i],r(a)||"boolean"===typeof a||(c=h.length-1,d=h[c],Array.isArray(a)?a.length>0&&(a=xt(a,(t||"")+"_"+i),It(a[0])&&It(d)&&(h[c]=ke(d.text+a[0].text),a.shift()),h.push.apply(h,a)):o(a)?It(d)?h[c]=ke(d.text+a):""!==a&&h.push(ke(a)):It(a)&&It(d)?h[c]=ke(d.text+a.text):(n(e._isVList)&&s(a.tag)&&r(a.key)&&s(t)&&(a.key="__vlist"+t+"_"+i+"__"),h.push(a)));return h}function Et(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function At(e){var t=Nt(e.$options.inject,e);t&&(Ee(!1),Object.keys(t).forEach((function(i){Be(e,i,t[i])})),Ee(!0))}function Nt(e,t){if(e){for(var i=Object.create(null),r=le?Reflect.ownKeys(e):Object.keys(e),s=0;s<r.length;s++){var n=r[s];if("__ob__"!==n){var a=e[n].from,o=t;while(o){if(o._provided&&w(o._provided,a)){i[n]=o._provided[a];break}o=o.$parent}if(!o)if("default"in e[n]){var c=e[n].default;i[n]="function"===typeof c?c.call(t):c}else 0}}return i}}function Mt(e,t){if(!e||!e.length)return{};for(var i={},r=0,s=e.length;r<s;r++){var n=e[r],a=n.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,n.context!==t&&n.fnContext!==t||!a||null==a.slot)(i.default||(i.default=[])).push(n);else{var o=a.slot,c=i[o]||(i[o]=[]);"template"===n.tag?c.push.apply(c,n.children||[]):c.push(n)}}for(var d in i)i[d].every(Pt)&&delete i[d];return i}function Pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Bt(e){return e.isComment&&e.asyncFactory}function Rt(e,t,r){var s,n=Object.keys(t).length>0,a=e?!!e.$stable:!n,o=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==i&&o===r.$key&&!n&&!r.$hasNormal)return r;for(var c in s={},e)e[c]&&"$"!==c[0]&&(s[c]=Dt(t,c,e[c]))}else s={};for(var d in t)d in s||(s[d]=Lt(t,d));return e&&Object.isExtensible(e)&&(e._normalized=s),z(s,"$stable",a),z(s,"$key",o),z(s,"$hasNormal",n),s}function Dt(e,t,i){var r=function(){var e=arguments.length?i.apply(null,arguments):i({});e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Ct(e);var t=e&&e[0];return e&&(!t||1===e.length&&t.isComment&&!Bt(t))?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Lt(e,t){return function(){return e[t]}}function Vt(e,t){var i,r,n,a,o;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),r=0,n=e.length;r<n;r++)i[r]=t(e[r],r);else if("number"===typeof e)for(i=new Array(e),r=0;r<e;r++)i[r]=t(r+1,r);else if(c(e))if(le&&e[Symbol.iterator]){i=[];var d=e[Symbol.iterator](),h=d.next();while(!h.done)i.push(t(h.value,i.length)),h=d.next()}else for(a=Object.keys(e),i=new Array(a.length),r=0,n=a.length;r<n;r++)o=a[r],i[r]=t(e[o],o,r);return s(i)||(i=[]),i._isVList=!0,i}function jt(e,t,i,r){var s,n=this.$scopedSlots[e];n?(i=i||{},r&&(i=N(N({},r),i)),s=n(i)||("function"===typeof t?t():t)):s=this.$slots[e]||("function"===typeof t?t():t);var a=i&&i.slot;return a?this.$createElement("template",{slot:a},s):s}function qt(e){return Ye(this.$options,"filters",e,!0)||R}function Ut(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Gt(e,t,i,r,s){var n=G.keyCodes[t]||i;return s&&r&&!G.keyCodes[t]?Ut(s,r):n?Ut(n,e):r?C(r)!==t:void 0===e}function Ft(e,t,i,r,s){if(i)if(c(i)){var n;Array.isArray(i)&&(i=M(i));var a=function(a){if("class"===a||"style"===a||y(a))n=e;else{var o=e.attrs&&e.attrs.type;n=r||G.mustUseProp(t,o,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=_(a),d=C(a);if(!(c in n)&&!(d in n)&&(n[a]=i[a],s)){var h=e.on||(e.on={});h["update:"+a]=function(e){i[a]=e}}};for(var o in i)a(o)}else;return e}function Ht(e,t){var i=this._staticTrees||(this._staticTrees=[]),r=i[e];return r&&!t||(r=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Kt(r,"__static__"+e,!1)),r}function zt(e,t,i){return Kt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Kt(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Wt(e[r],t+"_"+r,i);else Wt(e,t,i)}function Wt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function $t(e,t){if(t)if(h(t)){var i=e.on=e.on?N({},e.on):{};for(var r in t){var s=i[r],n=t[r];i[r]=s?[].concat(s,n):n}}else;return e}function Yt(e,t,i,r){t=t||{$stable:!i};for(var s=0;s<e.length;s++){var n=e[s];Array.isArray(n)?Yt(n,t,i):n&&(n.proxy&&(n.fn.proxy=!0),t[n.key]=n.fn)}return r&&(t.$key=r),t}function Xt(e,t){for(var i=0;i<t.length;i+=2){var r=t[i];"string"===typeof r&&r&&(e[t[i]]=t[i+1])}return e}function Qt(e,t){return"string"===typeof e?t+e:e}function Zt(e){e._o=zt,e._n=m,e._s=p,e._l=Vt,e._t=jt,e._q=D,e._i=L,e._m=Ht,e._f=qt,e._k=Gt,e._b=Ft,e._v=ke,e._e=Se,e._u=Yt,e._g=$t,e._d=Xt,e._p=Qt}function Jt(e,t,r,s,a){var o,c=this,d=a.options;w(s,"_uid")?(o=Object.create(s),o._original=s):(o=s,s=s._original);var h=n(d._compiled),u=!h;this.data=e,this.props=t,this.children=r,this.parent=s,this.listeners=e.on||i,this.injections=Nt(d.inject,s),this.slots=function(){return c.$slots||Rt(e.scopedSlots,c.$slots=Mt(r,s)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Rt(e.scopedSlots,this.slots())}}),h&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=Rt(e.scopedSlots,this.$slots)),d._scopeId?this._c=function(e,t,i,r){var n=li(o,e,t,i,r,u);return n&&!Array.isArray(n)&&(n.fnScopeId=d._scopeId,n.fnContext=s),n}:this._c=function(e,t,i,r){return li(o,e,t,i,r,u)}}function ei(e,t,r,n,a){var o=e.options,c={},d=o.props;if(s(d))for(var h in d)c[h]=Xe(h,d,t||i);else s(r.attrs)&&ii(c,r.attrs),s(r.props)&&ii(c,r.props);var u=new Jt(r,c,a,n,e),l=o.render.call(null,u._c,u);if(l instanceof be)return ti(l,r,u.parent,o,u);if(Array.isArray(l)){for(var f=Ct(l)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=ti(f[m],r,u.parent,o,u);return p}}function ti(e,t,i,r,s){var n=_e(e);return n.fnContext=i,n.fnOptions=r,t.slot&&((n.data||(n.data={})).slot=t.slot),n}function ii(e,t){for(var i in t)e[_(i)]=t[i]}Zt(Jt.prototype);var ri={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;ri.prepatch(i,i)}else{var r=e.componentInstance=ai(e,Ai);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,r=t.componentInstance=e.componentInstance;Ri(r,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,ji(i,"mounted")),e.data.keepAlive&&(t._isMounted?Zi(i):Li(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Vi(t,!0):t.$destroy())}},si=Object.keys(ri);function ni(e,t,i,a,o){if(!r(e)){var d=i.$options._base;if(c(e)&&(e=d.extend(e)),"function"===typeof e){var h;if(r(e.cid)&&(h=e,e=ki(h,d),void 0===e))return Si(h,t,i,a,o);t=t||{},Sr(e),s(t.model)&&di(e.options,t);var u=_t(t,e,o);if(n(e.options.functional))return ei(e,u,t,i,a);var l=t.on;if(t.on=t.nativeOn,n(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}oi(t);var p=e.options.name||o,m=new be("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:u,listeners:l,tag:o,children:a},h);return m}}}function ai(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return s(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(i)}function oi(e){for(var t=e.hook||(e.hook={}),i=0;i<si.length;i++){var r=si[i],s=t[r],n=ri[r];s===n||s&&s._merged||(t[r]=s?ci(n,s):n)}}function ci(e,t){var i=function(i,r){e(i,r),t(i,r)};return i._merged=!0,i}function di(e,t){var i=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var n=t.on||(t.on={}),a=n[r],o=t.model.callback;s(a)?(Array.isArray(a)?-1===a.indexOf(o):a!==o)&&(n[r]=[o].concat(a)):n[r]=o}var hi=1,ui=2;function li(e,t,i,r,s,a){return(Array.isArray(i)||o(i))&&(s=r,r=i,i=void 0),n(a)&&(s=ui),fi(e,t,i,r,s)}function fi(e,t,i,r,n){if(s(i)&&s(i.__ob__))return Se();if(s(i)&&s(i.is)&&(t=i.is),!t)return Se();var a,o,c;(Array.isArray(r)&&"function"===typeof r[0]&&(i=i||{},i.scopedSlots={default:r[0]},r.length=0),n===ui?r=Ct(r):n===hi&&(r=Tt(r)),"string"===typeof t)?(o=e.$vnode&&e.$vnode.ns||G.getTagNamespace(t),a=G.isReservedTag(t)?new be(G.parsePlatformTagName(t),i,r,void 0,void 0,e):i&&i.pre||!s(c=Ye(e.$options,"components",t))?new be(t,i,r,void 0,void 0,e):ni(c,i,e,r,t)):a=ni(t,i,e,r);return Array.isArray(a)?a:s(a)?(s(o)&&pi(a,o),s(i)&&mi(i),a):Se()}function pi(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),s(e.children))for(var a=0,o=e.children.length;a<o;a++){var c=e.children[a];s(c.tag)&&(r(c.ns)||n(i)&&"svg"!==c.tag)&&pi(c,t,i)}}function mi(e){c(e.style)&&yt(e.style),c(e.class)&&yt(e.class)}function gi(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,s=r&&r.context;e.$slots=Mt(t._renderChildren,s),e.$scopedSlots=i,e._c=function(t,i,r,s){return li(e,t,i,r,s,!1)},e.$createElement=function(t,i,r,s){return li(e,t,i,r,s,!0)};var n=r&&r.data;Be(e,"$attrs",n&&n.attrs||i,null,!0),Be(e,"$listeners",t._parentListeners||i,null,!0)}var yi,vi=null;function bi(e){Zt(e.prototype),e.prototype.$nextTick=function(e){return mt(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,r=i.render,s=i._parentVnode;s&&(t.$scopedSlots=Rt(s.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=s;try{vi=t,e=r.call(t._renderProxy,t.$createElement)}catch(_a){it(_a,t,"render"),e=t._vnode}finally{vi=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof be||(e=Se()),e.parent=s,e}}function wi(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function Si(e,t,i,r,s){var n=Se();return n.asyncFactory=e,n.asyncMeta={data:t,context:i,children:r,tag:s},n}function ki(e,t){if(n(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var i=vi;if(i&&s(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),n(e.loading)&&s(e.loadingComp))return e.loadingComp;if(i&&!s(e.owners)){var a=e.owners=[i],o=!0,d=null,h=null;i.$on("hook:destroyed",(function(){return v(a,i)}));var u=function(e){for(var t=0,i=a.length;t<i;t++)a[t].$forceUpdate();e&&(a.length=0,null!==d&&(clearTimeout(d),d=null),null!==h&&(clearTimeout(h),h=null))},l=V((function(i){e.resolved=wi(i,t),o?a.length=0:u(!0)})),p=V((function(t){s(e.errorComp)&&(e.error=!0,u(!0))})),m=e(l,p);return c(m)&&(f(m)?r(e.resolved)&&m.then(l,p):f(m.component)&&(m.component.then(l,p),s(m.error)&&(e.errorComp=wi(m.error,t)),s(m.loading)&&(e.loadingComp=wi(m.loading,t),0===m.delay?e.loading=!0:d=setTimeout((function(){d=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,u(!1))}),m.delay||200)),s(m.timeout)&&(h=setTimeout((function(){h=null,r(e.resolved)&&p(null)}),m.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}function _i(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(s(i)&&(s(i.componentOptions)||Bt(i)))return i}}function Oi(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&xi(e,t)}function Ti(e,t){yi.$on(e,t)}function Ci(e,t){yi.$off(e,t)}function Ii(e,t){var i=yi;return function r(){var s=t.apply(null,arguments);null!==s&&i.$off(e,r)}}function xi(e,t,i){yi=e,St(t,i||{},Ti,Ci,Ii,e),yi=void 0}function Ei(e){var t=/^hook:/;e.prototype.$on=function(e,i){var r=this;if(Array.isArray(e))for(var s=0,n=e.length;s<n;s++)r.$on(e[s],i);else(r._events[e]||(r._events[e]=[])).push(i),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var i=this;function r(){i.$off(e,r),t.apply(i,arguments)}return r.fn=t,i.$on(e,r),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var r=0,s=e.length;r<s;r++)i.$off(e[r],t);return i}var n,a=i._events[e];if(!a)return i;if(!t)return i._events[e]=null,i;var o=a.length;while(o--)if(n=a[o],n===t||n.fn===t){a.splice(o,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?A(i):i;for(var r=A(arguments,1),s='event handler for "'+e+'"',n=0,a=i.length;n<a;n++)rt(i[n],t,r,t,s)}return t}}var Ai=null;function Ni(e){var t=Ai;return Ai=e,function(){Ai=t}}function Mi(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Pi(e){e.prototype._update=function(e,t){var i=this,r=i.$el,s=i._vnode,n=Ni(i);i._vnode=e,i.$el=s?i.__patch__(s,e):i.__patch__(i.$el,e,t,!1),n(),r&&(r.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ji(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||v(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ji(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Bi(e,t,i){var r;return e.$el=t,e.$options.render||(e.$options.render=Se),ji(e,"beforeMount"),r=function(){e._update(e._render(),i)},new ir(e,r,P,{before:function(){e._isMounted&&!e._isDestroyed&&ji(e,"beforeUpdate")}},!0),i=!1,null==e.$vnode&&(e._isMounted=!0,ji(e,"mounted")),e}function Ri(e,t,r,s,n){var a=s.data.scopedSlots,o=e.$scopedSlots,c=!!(a&&!a.$stable||o!==i&&!o.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),d=!!(n||e.$options._renderChildren||c);if(e.$options._parentVnode=s,e.$vnode=s,e._vnode&&(e._vnode.parent=s),e.$options._renderChildren=n,e.$attrs=s.data.attrs||i,e.$listeners=r||i,t&&e.$options.props){Ee(!1);for(var h=e._props,u=e.$options._propKeys||[],l=0;l<u.length;l++){var f=u[l],p=e.$options.props;h[f]=Xe(f,p,t,e)}Ee(!0),e.$options.propsData=t}r=r||i;var m=e.$options._parentListeners;e.$options._parentListeners=r,xi(e,r,m),d&&(e.$slots=Mt(n,s.context),e.$forceUpdate())}function Di(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Li(e,t){if(t){if(e._directInactive=!1,Di(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Li(e.$children[i]);ji(e,"activated")}}function Vi(e,t){if((!t||(e._directInactive=!0,!Di(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Vi(e.$children[i]);ji(e,"deactivated")}}function ji(e,t){ye();var i=e.$options[t],r=t+" hook";if(i)for(var s=0,n=i.length;s<n;s++)rt(i[s],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ve()}var qi=[],Ui=[],Gi={},Fi=!1,Hi=!1,zi=0;function Ki(){zi=qi.length=Ui.length=0,Gi={},Fi=Hi=!1}var Wi=0,$i=Date.now;if(X&&!ee){var Yi=window.performance;Yi&&"function"===typeof Yi.now&&$i()>document.createEvent("Event").timeStamp&&($i=function(){return Yi.now()})}function Xi(){var e,t;for(Wi=$i(),Hi=!0,qi.sort((function(e,t){return e.id-t.id})),zi=0;zi<qi.length;zi++)e=qi[zi],e.before&&e.before(),t=e.id,Gi[t]=null,e.run();var i=Ui.slice(),r=qi.slice();Ki(),Ji(i),Qi(r),de&&G.devtools&&de.emit("flush")}function Qi(e){var t=e.length;while(t--){var i=e[t],r=i.vm;r._watcher===i&&r._isMounted&&!r._isDestroyed&&ji(r,"updated")}}function Zi(e){e._inactive=!1,Ui.push(e)}function Ji(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Li(e[t],!0)}function er(e){var t=e.id;if(null==Gi[t]){if(Gi[t]=!0,Hi){var i=qi.length-1;while(i>zi&&qi[i].id>e.id)i--;qi.splice(i+1,0,e)}else qi.push(e);Fi||(Fi=!0,mt(Xi))}}var tr=0,ir=function(e,t,i,r,s){this.vm=e,s&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ue,this.newDepIds=new ue,this.expression="","function"===typeof t?this.getter=t:(this.getter=W(t),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};ir.prototype.get=function(){var e;ye(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(_a){if(!this.user)throw _a;it(_a,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&yt(e),ve(),this.cleanupDeps()}return e},ir.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ir.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},ir.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},ir.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user){var i='callback for watcher "'+this.expression+'"';rt(this.cb,this.vm,[e,t],this.vm,i)}else this.cb.call(this.vm,e,t)}}},ir.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ir.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},ir.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:P,set:P};function sr(e,t,i){rr.get=function(){return this[t][i]},rr.set=function(e){this[t][i]=e},Object.defineProperty(e,i,rr)}function nr(e){e._watchers=[];var t=e.$options;t.props&&ar(e,t.props),t.methods&&pr(e,t.methods),t.data?or(e):Pe(e._data={},!0),t.computed&&hr(e,t.computed),t.watch&&t.watch!==ne&&mr(e,t.watch)}function ar(e,t){var i=e.$options.propsData||{},r=e._props={},s=e.$options._propKeys=[],n=!e.$parent;n||Ee(!1);var a=function(n){s.push(n);var a=Xe(n,t,i,e);Be(r,n,a),n in e||sr(e,"_props",n)};for(var o in t)a(o);Ee(!0)}function or(e){var t=e.$options.data;t=e._data="function"===typeof t?cr(t,e):t||{},h(t)||(t={});var i=Object.keys(t),r=e.$options.props,s=(e.$options.methods,i.length);while(s--){var n=i[s];0,r&&w(r,n)||H(n)||sr(e,"_data",n)}Pe(t,!0)}function cr(e,t){ye();try{return e.call(t,t)}catch(_a){return it(_a,t,"data()"),{}}finally{ve()}}var dr={lazy:!0};function hr(e,t){var i=e._computedWatchers=Object.create(null),r=ce();for(var s in t){var n=t[s],a="function"===typeof n?n:n.get;0,r||(i[s]=new ir(e,a||P,P,dr)),s in e||ur(e,s,n)}}function ur(e,t,i){var r=!ce();"function"===typeof i?(rr.get=r?lr(t):fr(i),rr.set=P):(rr.get=i.get?r&&!1!==i.cache?lr(t):fr(i.get):P,rr.set=i.set||P),Object.defineProperty(e,t,rr)}function lr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function fr(e){return function(){return e.call(this,this)}}function pr(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?P:E(t[i],e)}function mr(e,t){for(var i in t){var r=t[i];if(Array.isArray(r))for(var s=0;s<r.length;s++)gr(e,i,r[s]);else gr(e,i,r)}}function gr(e,t,i,r){return h(i)&&(r=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,r)}function yr(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Re,e.prototype.$delete=De,e.prototype.$watch=function(e,t,i){var r=this;if(h(t))return gr(r,e,t,i);i=i||{},i.user=!0;var s=new ir(r,e,t,i);if(i.immediate){var n='callback for immediate watcher "'+s.expression+'"';ye(),rt(t,r,[s.value],r,n),ve()}return function(){s.teardown()}}}var vr=0;function br(e){e.prototype._init=function(e){var t=this;t._uid=vr++,t._isVue=!0,e&&e._isComponent?wr(t,e):t.$options=$e(Sr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Mi(t),Oi(t),gi(t),ji(t,"beforeCreate"),At(t),nr(t),Et(t),ji(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function wr(e,t){var i=e.$options=Object.create(e.constructor.options),r=t._parentVnode;i.parent=t.parent,i._parentVnode=r;var s=r.componentOptions;i.propsData=s.propsData,i._parentListeners=s.listeners,i._renderChildren=s.children,i._componentTag=s.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function Sr(e){var t=e.options;if(e.super){var i=Sr(e.super),r=e.superOptions;if(i!==r){e.superOptions=i;var s=kr(e);s&&N(e.extendOptions,s),t=e.options=$e(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function kr(e){var t,i=e.options,r=e.sealedOptions;for(var s in i)i[s]!==r[s]&&(t||(t={}),t[s]=i[s]);return t}function _r(e){this._init(e)}function Or(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=A(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}function Tr(e){e.mixin=function(e){return this.options=$e(this.options,e),this}}function Cr(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,r=i.cid,s=e._Ctor||(e._Ctor={});if(s[r])return s[r];var n=e.name||i.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=t++,a.options=$e(i.options,e),a["super"]=i,a.options.props&&Ir(a),a.options.computed&&xr(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,q.forEach((function(e){a[e]=i[e]})),n&&(a.options.components[n]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=N({},a.options),s[r]=a,a}}function Ir(e){var t=e.options.props;for(var i in t)sr(e.prototype,"_props",i)}function xr(e){var t=e.options.computed;for(var i in t)ur(e.prototype,i,t[i])}function Er(e){q.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&h(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function Ar(e){return e&&(e.Ctor.options.name||e.tag)}function Nr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function Mr(e,t){var i=e.cache,r=e.keys,s=e._vnode;for(var n in i){var a=i[n];if(a){var o=a.name;o&&!t(o)&&Pr(i,n,r,s)}}}function Pr(e,t,i,r){var s=e[t];!s||r&&s.tag===r.tag||s.componentInstance.$destroy(),e[t]=null,v(i,t)}br(_r),yr(_r),Ei(_r),Pi(_r),bi(_r);var Br=[String,RegExp,Array],Rr={name:"keep-alive",abstract:!0,props:{include:Br,exclude:Br,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,i=e.keys,r=e.vnodeToCache,s=e.keyToCache;if(r){var n=r.tag,a=r.componentInstance,o=r.componentOptions;t[s]={name:Ar(o),tag:n,componentInstance:a},i.push(s),this.max&&i.length>parseInt(this.max)&&Pr(t,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Pr(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Mr(e,(function(e){return Nr(t,e)}))})),this.$watch("exclude",(function(t){Mr(e,(function(e){return!Nr(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=_i(e),i=t&&t.componentOptions;if(i){var r=Ar(i),s=this,n=s.include,a=s.exclude;if(n&&(!r||!Nr(n,r))||a&&r&&Nr(a,r))return t;var o=this,c=o.cache,d=o.keys,h=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;c[h]?(t.componentInstance=c[h].componentInstance,v(d,h),d.push(h)):(this.vnodeToCache=t,this.keyToCache=h),t.data.keepAlive=!0}return t||e&&e[0]}},Dr={KeepAlive:Rr};function Lr(e){var t={get:function(){return G}};Object.defineProperty(e,"config",t),e.util={warn:fe,extend:N,mergeOptions:$e,defineReactive:Be},e.set=Re,e.delete=De,e.nextTick=mt,e.observable=function(e){return Pe(e),e},e.options=Object.create(null),q.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,N(e.options.components,Dr),Or(e),Tr(e),Cr(e),Er(e)}Lr(_r),Object.defineProperty(_r.prototype,"$isServer",{get:ce}),Object.defineProperty(_r.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_r,"FunctionalRenderContext",{value:Jt}),_r.version="2.6.14";var Vr=g("style,class"),jr=g("input,textarea,option,select,progress"),qr=function(e,t,i){return"value"===i&&jr(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Ur=g("contenteditable,draggable,spellcheck"),Gr=g("events,caret,typing,plaintext-only"),Fr=function(e,t){return $r(t)||"false"===t?"false":"contenteditable"===e&&Gr(t)?t:"true"},Hr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),zr="http://www.w3.org/1999/xlink",Kr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Wr=function(e){return Kr(e)?e.slice(6,e.length):""},$r=function(e){return null==e||!1===e};function Yr(e){var t=e.data,i=e,r=e;while(s(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Xr(r.data,t));while(s(i=i.parent))i&&i.data&&(t=Xr(t,i.data));return Qr(t.staticClass,t.class)}function Xr(e,t){return{staticClass:Zr(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function Qr(e,t){return s(e)||s(t)?Zr(e,Jr(t)):""}function Zr(e,t){return e?t?e+" "+t:e:t||""}function Jr(e){return Array.isArray(e)?es(e):c(e)?ts(e):"string"===typeof e?e:""}function es(e){for(var t,i="",r=0,n=e.length;r<n;r++)s(t=Jr(e[r]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function ts(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var is={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rs=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ss=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ns=function(e){return rs(e)||ss(e)};function as(e){return ss(e)?"svg":"math"===e?"math":void 0}var os=Object.create(null);function cs(e){if(!X)return!0;if(ns(e))return!1;if(e=e.toLowerCase(),null!=os[e])return os[e];var t=document.createElement(e);return e.indexOf("-")>-1?os[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:os[e]=/HTMLUnknownElement/.test(t.toString())}var ds=g("text,number,password,search,email,tel,url");function hs(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function us(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function ls(e,t){return document.createElementNS(is[e],t)}function fs(e){return document.createTextNode(e)}function ps(e){return document.createComment(e)}function ms(e,t,i){e.insertBefore(t,i)}function gs(e,t){e.removeChild(t)}function ys(e,t){e.appendChild(t)}function vs(e){return e.parentNode}function bs(e){return e.nextSibling}function ws(e){return e.tagName}function Ss(e,t){e.textContent=t}function ks(e,t){e.setAttribute(t,"")}var _s=Object.freeze({createElement:us,createElementNS:ls,createTextNode:fs,createComment:ps,insertBefore:ms,removeChild:gs,appendChild:ys,parentNode:vs,nextSibling:bs,tagName:ws,setTextContent:Ss,setStyleScope:ks}),Os={create:function(e,t){Ts(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ts(e,!0),Ts(t))},destroy:function(e){Ts(e,!0)}};function Ts(e,t){var i=e.data.ref;if(s(i)){var r=e.context,n=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[i])?v(a[i],n):a[i]===n&&(a[i]=void 0):e.data.refInFor?Array.isArray(a[i])?a[i].indexOf(n)<0&&a[i].push(n):a[i]=[n]:a[i]=n}}var Cs=new be("",{},[]),Is=["create","activate","update","remove","destroy"];function xs(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&Es(e,t)||n(e.isAsyncPlaceholder)&&r(t.asyncFactory.error))}function Es(e,t){if("input"!==e.tag)return!0;var i,r=s(i=e.data)&&s(i=i.attrs)&&i.type,n=s(i=t.data)&&s(i=i.attrs)&&i.type;return r===n||ds(r)&&ds(n)}function As(e,t,i){var r,n,a={};for(r=t;r<=i;++r)n=e[r].key,s(n)&&(a[n]=r);return a}function Ns(e){var t,i,a={},c=e.modules,d=e.nodeOps;for(t=0;t<Is.length;++t)for(a[Is[t]]=[],i=0;i<c.length;++i)s(c[i][Is[t]])&&a[Is[t]].push(c[i][Is[t]]);function h(e){return new be(d.tagName(e).toLowerCase(),{},[],void 0,e)}function u(e,t){function i(){0===--i.listeners&&l(e)}return i.listeners=t,i}function l(e){var t=d.parentNode(e);s(t)&&d.removeChild(t,e)}function f(e,t,i,r,a,o,c){if(s(e.elm)&&s(o)&&(e=o[c]=_e(e)),e.isRootInsert=!a,!p(e,t,i,r)){var h=e.data,u=e.children,l=e.tag;s(l)?(e.elm=e.ns?d.createElementNS(e.ns,l):d.createElement(l,e),k(e),b(e,u,t),s(h)&&S(e,t),v(i,e.elm,r)):n(e.isComment)?(e.elm=d.createComment(e.text),v(i,e.elm,r)):(e.elm=d.createTextNode(e.text),v(i,e.elm,r))}}function p(e,t,i,r){var a=e.data;if(s(a)){var o=s(e.componentInstance)&&a.keepAlive;if(s(a=a.hook)&&s(a=a.init)&&a(e,!1),s(e.componentInstance))return m(e,t),v(i,e.elm,r),n(o)&&y(e,t,i,r),!0}}function m(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,w(e)?(S(e,t),k(e)):(Ts(e),t.push(e))}function y(e,t,i,r){var n,o=e;while(o.componentInstance)if(o=o.componentInstance._vnode,s(n=o.data)&&s(n=n.transition)){for(n=0;n<a.activate.length;++n)a.activate[n](Cs,o);t.push(o);break}v(i,e.elm,r)}function v(e,t,i){s(e)&&(s(i)?d.parentNode(i)===e&&d.insertBefore(e,t,i):d.appendChild(e,t))}function b(e,t,i){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)f(t[r],i,e.elm,null,!0,t,r)}else o(e.text)&&d.appendChild(e.elm,d.createTextNode(String(e.text)))}function w(e){while(e.componentInstance)e=e.componentInstance._vnode;return s(e.tag)}function S(e,i){for(var r=0;r<a.create.length;++r)a.create[r](Cs,e);t=e.data.hook,s(t)&&(s(t.create)&&t.create(Cs,e),s(t.insert)&&i.push(e))}function k(e){var t;if(s(t=e.fnScopeId))d.setStyleScope(e.elm,t);else{var i=e;while(i)s(t=i.context)&&s(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t),i=i.parent}s(t=Ai)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t)}function _(e,t,i,r,s,n){for(;r<=s;++r)f(i[r],n,e,t,!1,i,r)}function O(e){var t,i,r=e.data;if(s(r))for(s(t=r.hook)&&s(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(s(t=e.children))for(i=0;i<e.children.length;++i)O(e.children[i])}function T(e,t,i){for(;t<=i;++t){var r=e[t];s(r)&&(s(r.tag)?(C(r),O(r)):l(r.elm))}}function C(e,t){if(s(t)||s(e.data)){var i,r=a.remove.length+1;for(s(t)?t.listeners+=r:t=u(e.elm,r),s(i=e.componentInstance)&&s(i=i._vnode)&&s(i.data)&&C(i,t),i=0;i<a.remove.length;++i)a.remove[i](e,t);s(i=e.data.hook)&&s(i=i.remove)?i(e,t):t()}else l(e.elm)}function I(e,t,i,n,a){var o,c,h,u,l=0,p=0,m=t.length-1,g=t[0],y=t[m],v=i.length-1,b=i[0],w=i[v],S=!a;while(l<=m&&p<=v)r(g)?g=t[++l]:r(y)?y=t[--m]:xs(g,b)?(E(g,b,n,i,p),g=t[++l],b=i[++p]):xs(y,w)?(E(y,w,n,i,v),y=t[--m],w=i[--v]):xs(g,w)?(E(g,w,n,i,v),S&&d.insertBefore(e,g.elm,d.nextSibling(y.elm)),g=t[++l],w=i[--v]):xs(y,b)?(E(y,b,n,i,p),S&&d.insertBefore(e,y.elm,g.elm),y=t[--m],b=i[++p]):(r(o)&&(o=As(t,l,m)),c=s(b.key)?o[b.key]:x(b,t,l,m),r(c)?f(b,n,e,g.elm,!1,i,p):(h=t[c],xs(h,b)?(E(h,b,n,i,p),t[c]=void 0,S&&d.insertBefore(e,h.elm,g.elm)):f(b,n,e,g.elm,!1,i,p)),b=i[++p]);l>m?(u=r(i[v+1])?null:i[v+1].elm,_(e,u,i,p,v,n)):p>v&&T(t,l,m)}function x(e,t,i,r){for(var n=i;n<r;n++){var a=t[n];if(s(a)&&xs(e,a))return n}}function E(e,t,i,o,c,h){if(e!==t){s(t.elm)&&s(o)&&(t=o[c]=_e(t));var u=t.elm=e.elm;if(n(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?M(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(n(t.isStatic)&&n(e.isStatic)&&t.key===e.key&&(n(t.isCloned)||n(t.isOnce)))t.componentInstance=e.componentInstance;else{var l,f=t.data;s(f)&&s(l=f.hook)&&s(l=l.prepatch)&&l(e,t);var p=e.children,m=t.children;if(s(f)&&w(t)){for(l=0;l<a.update.length;++l)a.update[l](e,t);s(l=f.hook)&&s(l=l.update)&&l(e,t)}r(t.text)?s(p)&&s(m)?p!==m&&I(u,p,m,i,h):s(m)?(s(e.text)&&d.setTextContent(u,""),_(u,null,m,0,m.length-1,i)):s(p)?T(p,0,p.length-1):s(e.text)&&d.setTextContent(u,""):e.text!==t.text&&d.setTextContent(u,t.text),s(f)&&s(l=f.hook)&&s(l=l.postpatch)&&l(e,t)}}}function A(e,t,i){if(n(i)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var N=g("attrs,class,staticClass,staticStyle,key");function M(e,t,i,r){var a,o=t.tag,c=t.data,d=t.children;if(r=r||c&&c.pre,t.elm=e,n(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(c)&&(s(a=c.hook)&&s(a=a.init)&&a(t,!0),s(a=t.componentInstance)))return m(t,i),!0;if(s(o)){if(s(d))if(e.hasChildNodes())if(s(a=c)&&s(a=a.domProps)&&s(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var h=!0,u=e.firstChild,l=0;l<d.length;l++){if(!u||!M(u,d[l],i,r)){h=!1;break}u=u.nextSibling}if(!h||u)return!1}else b(t,d,i);if(s(c)){var f=!1;for(var p in c)if(!N(p)){f=!0,S(t,i);break}!f&&c["class"]&&yt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,o){if(!r(t)){var c=!1,u=[];if(r(e))c=!0,f(t,u);else{var l=s(e.nodeType);if(!l&&xs(e,t))E(e,t,u,null,null,o);else{if(l){if(1===e.nodeType&&e.hasAttribute(j)&&(e.removeAttribute(j),i=!0),n(i)&&M(e,t,u))return A(t,u,!0),e;e=h(e)}var p=e.elm,m=d.parentNode(p);if(f(t,u,p._leaveCb?null:m,d.nextSibling(p)),s(t.parent)){var g=t.parent,y=w(t);while(g){for(var v=0;v<a.destroy.length;++v)a.destroy[v](g);if(g.elm=t.elm,y){for(var b=0;b<a.create.length;++b)a.create[b](Cs,g);var S=g.data.hook.insert;if(S.merged)for(var k=1;k<S.fns.length;k++)S.fns[k]()}else Ts(g);g=g.parent}}s(m)?T([e],0,0):s(e.tag)&&O(e)}}return A(t,u,c),t.elm}s(e)&&O(e)}}var Ms={create:Ps,update:Ps,destroy:function(e){Ps(e,Cs)}};function Ps(e,t){(e.data.directives||t.data.directives)&&Bs(e,t)}function Bs(e,t){var i,r,s,n=e===Cs,a=t===Cs,o=Ds(e.data.directives,e.context),c=Ds(t.data.directives,t.context),d=[],h=[];for(i in c)r=o[i],s=c[i],r?(s.oldValue=r.value,s.oldArg=r.arg,Vs(s,"update",t,e),s.def&&s.def.componentUpdated&&h.push(s)):(Vs(s,"bind",t,e),s.def&&s.def.inserted&&d.push(s));if(d.length){var u=function(){for(var i=0;i<d.length;i++)Vs(d[i],"inserted",t,e)};n?kt(t,"insert",u):u()}if(h.length&&kt(t,"postpatch",(function(){for(var i=0;i<h.length;i++)Vs(h[i],"componentUpdated",t,e)})),!n)for(i in o)c[i]||Vs(o[i],"unbind",e,e,a)}var Rs=Object.create(null);function Ds(e,t){var i,r,s=Object.create(null);if(!e)return s;for(i=0;i<e.length;i++)r=e[i],r.modifiers||(r.modifiers=Rs),s[Ls(r)]=r,r.def=Ye(t.$options,"directives",r.name,!0);return s}function Ls(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Vs(e,t,i,r,s){var n=e.def&&e.def[t];if(n)try{n(i.elm,e,i,r,s)}catch(_a){it(_a,i.context,"directive "+e.name+" "+t+" hook")}}var js=[Os,Ms];function qs(e,t){var i=t.componentOptions;if((!s(i)||!1!==i.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var n,a,o,c=t.elm,d=e.data.attrs||{},h=t.data.attrs||{};for(n in s(h.__ob__)&&(h=t.data.attrs=N({},h)),h)a=h[n],o=d[n],o!==a&&Us(c,n,a,t.data.pre);for(n in(ee||ie)&&h.value!==d.value&&Us(c,"value",h.value),d)r(h[n])&&(Kr(n)?c.removeAttributeNS(zr,Wr(n)):Ur(n)||c.removeAttribute(n))}}function Us(e,t,i,r){r||e.tagName.indexOf("-")>-1?Gs(e,t,i):Hr(t)?$r(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Ur(t)?e.setAttribute(t,Fr(t,i)):Kr(t)?$r(i)?e.removeAttributeNS(zr,Wr(t)):e.setAttributeNS(zr,t,i):Gs(e,t,i)}function Gs(e,t,i){if($r(i))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,i)}}var Fs={create:qs,update:qs};function Hs(e,t){var i=t.elm,n=t.data,a=e.data;if(!(r(n.staticClass)&&r(n.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var o=Yr(t),c=i._transitionClasses;s(c)&&(o=Zr(o,Jr(c))),o!==i._prevClass&&(i.setAttribute("class",o),i._prevClass=o)}}var zs,Ks={create:Hs,update:Hs},Ws="__r",$s="__c";function Ys(e){if(s(e[Ws])){var t=ee?"change":"input";e[t]=[].concat(e[Ws],e[t]||[]),delete e[Ws]}s(e[$s])&&(e.change=[].concat(e[$s],e.change||[]),delete e[$s])}function Xs(e,t,i){var r=zs;return function s(){var n=t.apply(null,arguments);null!==n&&Js(e,s,i,r)}}var Qs=ot&&!(se&&Number(se[1])<=53);function Zs(e,t,i,r){if(Qs){var s=Wi,n=t;t=n._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=s||e.timeStamp<=0||e.target.ownerDocument!==document)return n.apply(this,arguments)}}zs.addEventListener(e,t,ae?{capture:i,passive:r}:i)}function Js(e,t,i,r){(r||zs).removeEventListener(e,t._wrapper||t,i)}function en(e,t){if(!r(e.data.on)||!r(t.data.on)){var i=t.data.on||{},s=e.data.on||{};zs=t.elm,Ys(i),St(i,s,Zs,Js,Xs,t.context),zs=void 0}}var tn,rn={create:en,update:en};function sn(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var i,n,a=t.elm,o=e.data.domProps||{},c=t.data.domProps||{};for(i in s(c.__ob__)&&(c=t.data.domProps=N({},c)),o)i in c||(a[i]="");for(i in c){if(n=c[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),n===o[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i&&"PROGRESS"!==a.tagName){a._value=n;var d=r(n)?"":String(n);nn(a,d)&&(a.value=d)}else if("innerHTML"===i&&ss(a.tagName)&&r(a.innerHTML)){tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+n+"</svg>";var h=tn.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(h.firstChild)a.appendChild(h.firstChild)}else if(n!==o[i])try{a[i]=n}catch(_a){}}}}function nn(e,t){return!e.composing&&("OPTION"===e.tagName||an(e,t)||on(e,t))}function an(e,t){var i=!0;try{i=document.activeElement!==e}catch(_a){}return i&&e.value!==t}function on(e,t){var i=e.value,r=e._vModifiers;if(s(r)){if(r.number)return m(i)!==m(t);if(r.trim)return i.trim()!==t.trim()}return i!==t}var cn={create:sn,update:sn},dn=S((function(e){var t={},i=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(r);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function hn(e){var t=un(e.style);return e.staticStyle?N(e.staticStyle,t):t}function un(e){return Array.isArray(e)?M(e):"string"===typeof e?dn(e):e}function ln(e,t){var i,r={};if(t){var s=e;while(s.componentInstance)s=s.componentInstance._vnode,s&&s.data&&(i=hn(s.data))&&N(r,i)}(i=hn(e.data))&&N(r,i);var n=e;while(n=n.parent)n.data&&(i=hn(n.data))&&N(r,i);return r}var fn,pn=/^--/,mn=/\s*!important$/,gn=function(e,t,i){if(pn.test(t))e.style.setProperty(t,i);else if(mn.test(i))e.style.setProperty(C(t),i.replace(mn,""),"important");else{var r=vn(t);if(Array.isArray(i))for(var s=0,n=i.length;s<n;s++)e.style[r]=i[s];else e.style[r]=i}},yn=["Webkit","Moz","ms"],vn=S((function(e){if(fn=fn||document.createElement("div").style,e=_(e),"filter"!==e&&e in fn)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<yn.length;i++){var r=yn[i]+t;if(r in fn)return r}}));function bn(e,t){var i=t.data,n=e.data;if(!(r(i.staticStyle)&&r(i.style)&&r(n.staticStyle)&&r(n.style))){var a,o,c=t.elm,d=n.staticStyle,h=n.normalizedStyle||n.style||{},u=d||h,l=un(t.data.style)||{};t.data.normalizedStyle=s(l.__ob__)?N({},l):l;var f=ln(t,!0);for(o in u)r(f[o])&&gn(c,o,"");for(o in f)a=f[o],a!==u[o]&&gn(c,o,null==a?"":a)}}var wn={create:bn,update:bn},Sn=/\s+/;function kn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Sn).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function _n(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Sn).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var i=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(i.indexOf(r)>=0)i=i.replace(r," ");i=i.trim(),i?e.setAttribute("class",i):e.removeAttribute("class")}}function On(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&N(t,Tn(e.name||"v")),N(t,e),t}return"string"===typeof e?Tn(e):void 0}}var Tn=S((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Cn=X&&!te,In="transition",xn="animation",En="transition",An="transitionend",Nn="animation",Mn="animationend";Cn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(En="WebkitTransition",An="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Nn="WebkitAnimation",Mn="webkitAnimationEnd"));var Pn=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Bn(e){Pn((function(){Pn(e)}))}function Rn(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),kn(e,t))}function Dn(e,t){e._transitionClasses&&v(e._transitionClasses,t),_n(e,t)}function Ln(e,t,i){var r=jn(e,t),s=r.type,n=r.timeout,a=r.propCount;if(!s)return i();var o=s===In?An:Mn,c=0,d=function(){e.removeEventListener(o,h),i()},h=function(t){t.target===e&&++c>=a&&d()};setTimeout((function(){c<a&&d()}),n+1),e.addEventListener(o,h)}var Vn=/\b(transform|all)(,|$)/;function jn(e,t){var i,r=window.getComputedStyle(e),s=(r[En+"Delay"]||"").split(", "),n=(r[En+"Duration"]||"").split(", "),a=qn(s,n),o=(r[Nn+"Delay"]||"").split(", "),c=(r[Nn+"Duration"]||"").split(", "),d=qn(o,c),h=0,u=0;t===In?a>0&&(i=In,h=a,u=n.length):t===xn?d>0&&(i=xn,h=d,u=c.length):(h=Math.max(a,d),i=h>0?a>d?In:xn:null,u=i?i===In?n.length:c.length:0);var l=i===In&&Vn.test(r[En+"Property"]);return{type:i,timeout:h,propCount:u,hasTransform:l}}function qn(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,i){return Un(t)+Un(e[i])})))}function Un(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Gn(e,t){var i=e.elm;s(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var n=On(e.data.transition);if(!r(n)&&!s(i._enterCb)&&1===i.nodeType){var a=n.css,o=n.type,d=n.enterClass,h=n.enterToClass,u=n.enterActiveClass,l=n.appearClass,f=n.appearToClass,p=n.appearActiveClass,g=n.beforeEnter,y=n.enter,v=n.afterEnter,b=n.enterCancelled,w=n.beforeAppear,S=n.appear,k=n.afterAppear,_=n.appearCancelled,O=n.duration,T=Ai,C=Ai.$vnode;while(C&&C.parent)T=C.context,C=C.parent;var I=!T._isMounted||!e.isRootInsert;if(!I||S||""===S){var x=I&&l?l:d,E=I&&p?p:u,A=I&&f?f:h,N=I&&w||g,M=I&&"function"===typeof S?S:y,P=I&&k||v,B=I&&_||b,R=m(c(O)?O.enter:O);0;var D=!1!==a&&!te,L=zn(M),j=i._enterCb=V((function(){D&&(Dn(i,A),Dn(i,E)),j.cancelled?(D&&Dn(i,x),B&&B(i)):P&&P(i),i._enterCb=null}));e.data.show||kt(e,"insert",(function(){var t=i.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(i,j)})),N&&N(i),D&&(Rn(i,x),Rn(i,E),Bn((function(){Dn(i,x),j.cancelled||(Rn(i,A),L||(Hn(R)?setTimeout(j,R):Ln(i,o,j)))}))),e.data.show&&(t&&t(),M&&M(i,j)),D||L||j()}}}function Fn(e,t){var i=e.elm;s(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var n=On(e.data.transition);if(r(n)||1!==i.nodeType)return t();if(!s(i._leaveCb)){var a=n.css,o=n.type,d=n.leaveClass,h=n.leaveToClass,u=n.leaveActiveClass,l=n.beforeLeave,f=n.leave,p=n.afterLeave,g=n.leaveCancelled,y=n.delayLeave,v=n.duration,b=!1!==a&&!te,w=zn(f),S=m(c(v)?v.leave:v);0;var k=i._leaveCb=V((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),b&&(Dn(i,h),Dn(i,u)),k.cancelled?(b&&Dn(i,d),g&&g(i)):(t(),p&&p(i)),i._leaveCb=null}));y?y(_):_()}function _(){k.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),l&&l(i),b&&(Rn(i,d),Rn(i,u),Bn((function(){Dn(i,d),k.cancelled||(Rn(i,h),w||(Hn(S)?setTimeout(k,S):Ln(i,o,k)))}))),f&&f(i,k),b||w||k())}}function Hn(e){return"number"===typeof e&&!isNaN(e)}function zn(e){if(r(e))return!1;var t=e.fns;return s(t)?zn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Kn(e,t){!0!==t.data.show&&Gn(t)}var Wn=X?{create:Kn,activate:Kn,remove:function(e,t){!0!==e.data.show?Fn(e,t):t()}}:{},$n=[Fs,Ks,rn,cn,wn,Wn],Yn=$n.concat(js),Xn=Ns({nodeOps:_s,modules:Yn});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&sa(e,"input")}));var Qn={inserted:function(e,t,i,r){"select"===i.tag?(r.elm&&!r.elm._vOptions?kt(i,"postpatch",(function(){Qn.componentUpdated(e,t,i)})):Zn(e,t,i.context),e._vOptions=[].map.call(e.options,ta)):("textarea"===i.tag||ds(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ia),e.addEventListener("compositionend",ra),e.addEventListener("change",ra),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Zn(e,t,i.context);var r=e._vOptions,s=e._vOptions=[].map.call(e.options,ta);if(s.some((function(e,t){return!D(e,r[t])}))){var n=e.multiple?t.value.some((function(e){return ea(e,s)})):t.value!==t.oldValue&&ea(t.value,s);n&&sa(e,"change")}}}};function Zn(e,t,i){Jn(e,t,i),(ee||ie)&&setTimeout((function(){Jn(e,t,i)}),0)}function Jn(e,t,i){var r=t.value,s=e.multiple;if(!s||Array.isArray(r)){for(var n,a,o=0,c=e.options.length;o<c;o++)if(a=e.options[o],s)n=L(r,ta(a))>-1,a.selected!==n&&(a.selected=n);else if(D(ta(a),r))return void(e.selectedIndex!==o&&(e.selectedIndex=o));s||(e.selectedIndex=-1)}}function ea(e,t){return t.every((function(t){return!D(t,e)}))}function ta(e){return"_value"in e?e._value:e.value}function ia(e){e.target.composing=!0}function ra(e){e.target.composing&&(e.target.composing=!1,sa(e.target,"input"))}function sa(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function na(e){return!e.componentInstance||e.data&&e.data.transition?e:na(e.componentInstance._vnode)}var aa={bind:function(e,t,i){var r=t.value;i=na(i);var s=i.data&&i.data.transition,n=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&s?(i.data.show=!0,Gn(i,(function(){e.style.display=n}))):e.style.display=r?n:"none"},update:function(e,t,i){var r=t.value,s=t.oldValue;if(!r!==!s){i=na(i);var n=i.data&&i.data.transition;n?(i.data.show=!0,r?Gn(i,(function(){e.style.display=e.__vOriginalDisplay})):Fn(i,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,i,r,s){s||(e.style.display=e.__vOriginalDisplay)}},oa={model:Qn,show:aa},ca={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function da(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?da(_i(t.children)):e}function ha(e){var t={},i=e.$options;for(var r in i.propsData)t[r]=e[r];var s=i._parentListeners;for(var n in s)t[_(n)]=s[n];return t}function ua(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function la(e){while(e=e.parent)if(e.data.transition)return!0}function fa(e,t){return t.key===e.key&&t.tag===e.tag}var pa=function(e){return e.tag||Bt(e)},ma=function(e){return"show"===e.name},ga={name:"transition",props:ca,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(pa),i.length)){0;var r=this.mode;0;var s=i[0];if(la(this.$vnode))return s;var n=da(s);if(!n)return s;if(this._leaving)return ua(e,s);var a="__transition-"+this._uid+"-";n.key=null==n.key?n.isComment?a+"comment":a+n.tag:o(n.key)?0===String(n.key).indexOf(a)?n.key:a+n.key:n.key;var c=(n.data||(n.data={})).transition=ha(this),d=this._vnode,h=da(d);if(n.data.directives&&n.data.directives.some(ma)&&(n.data.show=!0),h&&h.data&&!fa(n,h)&&!Bt(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var u=h.data.transition=N({},c);if("out-in"===r)return this._leaving=!0,kt(u,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),ua(e,s);if("in-out"===r){if(Bt(n))return d;var l,f=function(){l()};kt(c,"afterEnter",f),kt(c,"enterCancelled",f),kt(u,"delayLeave",(function(e){l=e}))}}return s}}},ya=N({tag:String,moveClass:String},ca);delete ya.mode;var va={props:ya,beforeMount:function(){var e=this,t=this._update;this._update=function(i,r){var s=Ni(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,s(),t.call(e,i,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),r=this.prevChildren=this.children,s=this.$slots.default||[],n=this.children=[],a=ha(this),o=0;o<s.length;o++){var c=s[o];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))n.push(c),i[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var d=[],h=[],u=0;u<r.length;u++){var l=r[u];l.data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),i[l.key]?d.push(l):h.push(l)}this.kept=e(t,null,d),this.removed=h}return e(t,null,n)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ba),e.forEach(wa),e.forEach(Sa),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var i=e.elm,r=i.style;Rn(i,t),r.transform=r.WebkitTransform=r.transitionDuration="",i.addEventListener(An,i._moveCb=function e(r){r&&r.target!==i||r&&!/transform$/.test(r.propertyName)||(i.removeEventListener(An,e),i._moveCb=null,Dn(i,t))})}})))},methods:{hasMove:function(e,t){if(!Cn)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){_n(i,e)})),kn(i,t),i.style.display="none",this.$el.appendChild(i);var r=jn(i);return this.$el.removeChild(i),this._hasMove=r.hasTransform}}};function ba(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function wa(e){e.data.newPos=e.elm.getBoundingClientRect()}function Sa(e){var t=e.data.pos,i=e.data.newPos,r=t.left-i.left,s=t.top-i.top;if(r||s){e.data.moved=!0;var n=e.elm.style;n.transform=n.WebkitTransform="translate("+r+"px,"+s+"px)",n.transitionDuration="0s"}}var ka={Transition:ga,TransitionGroup:va};_r.config.mustUseProp=qr,_r.config.isReservedTag=ns,_r.config.isReservedAttr=Vr,_r.config.getTagNamespace=as,_r.config.isUnknownElement=cs,N(_r.options.directives,oa),N(_r.options.components,ka),_r.prototype.__patch__=X?Xn:P,_r.prototype.$mount=function(e,t){return e=e&&X?hs(e):void 0,Bi(this,e,t)},X&&setTimeout((function(){G.devtools&&de&&de.emit("init",_r)}),0),t["a"]=_r}).call(this,i("c8ba"))},"2b19":function(e,t,i){var r=i("23e7"),s=i("129f");r({target:"Object",stat:!0},{is:s})},"2c63":function(e,t,i){e.exports=i("dc14")},"2c9e":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,BadRequest:a,InsufficientFunds:o,InvalidAddress:c,BadSymbol:d,InvalidOrder:h}=i("74b0"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"xena",name:"Xena Exchange",countries:["VC","UK"],rateLimit:100,certified:!0,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87489843-bb469280-c64c-11ea-91aa-69c6326506af.jpg",test:{public:"https://trading.demo.xena.io/api",private:"https://api.demo.xena.io"},api:{public:"https://trading.xena.exchange/api",private:"https://api.xena.exchange"},www:"https://xena.exchange",doc:"https://support.xena.exchange/support/solutions/44000808700",fees:"https://trading.xena.exchange/en/platform-specification/fee-schedule"},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["common/currencies","common/instruments","common/features","common/commissions","common/news","market-data/candles/{marketId}/{timeframe}","market-data/market-watch","market-data/dom/{symbol}","market-data/candles/{symbol}/{timeframe}","market-data/trades/{symbol}","market-data/server-time","market-data/v2/candles/{symbol}/{timeframe}","market-data/v2/trades/{symbol}","market-data/v2/dom/{symbol}/","market-data/v2/server-time"]},private:{get:["trading/accounts/{accountId}/order","trading/accounts/{accountId}/active-orders","trading/accounts/{accountId}/last-order-statuses","trading/accounts/{accountId}/positions","trading/accounts/{accountId}/positions-history","trading/accounts/{accountId}/margin-requirements","trading/accounts","trading/accounts/{accountId}/balance","trading/accounts/{accountId}/trade-history","transfers/accounts","transfers/accounts/{accountId}","transfers/accounts/{accountId}/deposit-address/{currency}","transfers/accounts/{accountId}/deposits","transfers/accounts/{accountId}/trusted-addresses","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/balance-history"],post:["trading/order/new","trading/order/heartbeat","trading/order/cancel","trading/order/mass-cancel","trading/order/replace","trading/position/maintenance","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/deposit-address/{currency}"]}},fees:{trading:{maker:5e-4,taker:.001,tierBased:!0,percentage:!0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"Validation failed":a,"Unknown derivative symbol":d,"Unknown account":a,"Wrong TransactTime":a,"ClOrdId is empty":a},broad:{"Invalid aggregation ratio or depth":a,address:c,"Money not enough":o,"parse error":a,"Not enough":o}},options:{defaultType:"margin",accountId:void 0}})}async fetchTime(e={}){const t=await this.publicGetMarketDataV2ServerTime(e),i=this.safeInteger(t,"transactTime");return parseInt(i/1e6)}async fetchMarkets(e={}){const t=await this.publicGetCommonInstruments(e),i=[];for(let r=0;r<t.length;r++){const e=t[r];let s=this.safeStringLower(e,"type");const n=this.safeString(e,"symbol"),a=this.safeString(e,"id"),o=this.safeString(e,"marginType"),c=this.safeString(e,"baseCurrency"),d=this.safeString(e,"quoteCurrency"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d);let l=n;"margin"===s&&("XenaFuture"===o?s="future":"XenaListedPerpetual"===o&&(s="swap",l=h+"/"+u));const f="future"===s,p="swap"===s,m=this.safeInteger2(e,"tickSize","pricePrecision"),g={price:m,amount:0},y=this.safeNumber(e,"maxOrderQty"),v=this.safeNumber(e,"minOrderQuantity"),b={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:v,max:y}},w=this.safeValue(e,"enabled",!1),S=this.safeValue(e,"inverse",!1);i.push({id:n,symbol:l,base:h,quote:u,baseId:c,quoteId:d,numericId:a,active:w,type:s,spot:!1,future:f,swap:p,inverse:S,precision:g,limits:b,info:e})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCommonCurrencies(e),i=Object.keys(t),r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[e],a=this.safeCurrencyCode(e),o=this.safeString(n,"title"),c=this.safeInteger(n,"precision"),d=this.safeValue(n,"enabled"),h=!0===d,u=this.safeValue(n,"withdraw",{});r[a]={id:e,code:a,info:n,name:o,active:h,fee:this.safeNumber(u,"commission"),precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(u,"minAmount"),max:void 0}}}}return r}parseTicker(e,t){const i=this.milliseconds(),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"lastPx"),a=this.safeNumber(e,"firstPx");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(c=n-a,d=this.sum(n,a)/2,a>0&&(o=c/a*100));const h=this.safeNumber(e,"buyVolume"),u=this.safeNumber(e,"sellVolume"),l=this.sum(h,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPx"),low:this.safeNumber(e,"lowPx"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:c,percentage:o,average:d,baseVolume:l,quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers(void 0,t);if(e in i)return i[e];throw new d(this.id+" fetchTicker could not find a ticker with symbol "+e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataMarketWatch(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r["depth"]=t);const s=await this.publicGetMarketDataV2DomSymbol(this.extend(r,i)),n=this.safeValue(s,"mdEntry",[]),a=this.groupBy(n,"mdEntryType"),o=this.safeInteger(s,"lastUpdateTime"),c=parseInt(o/1e6);return this.parseOrderBook(a,e,c,"0","1","mdEntryPx","mdEntrySize")}async fetchAccounts(e={}){const t=await this.privateGetTradingAccounts(e),i=this.safeValue(t,"accounts"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n),o=this.safeStringLower(e,"kind");r.push({id:t,type:o,currency:a,info:e})}return r}async findAccountByType(e){await this.loadMarkets(),await this.loadAccounts();const t=this.groupBy(this.accounts,"type"),i=this.safeValue(t,e);if(void 0===i)throw new s(this.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");const r=i.length;if(r>1)throw new s(this.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");return i[0]}async getAccountId(e){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"accountId"),i=this.safeString(e,"accountId",t);if(void 0!==i)return i;const r=this.safeString(this.options,"defaultType","margin"),s=this.safeString(e,"type",r);if(e=this.omit(e,"type"),void 0===s)throw new n(this.id+" requires an 'accountId' parameter or a 'type' parameter ('spot' or 'margin')");const a=await this.findAccountByType(s);return a["id"]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=await this.getAccountId(e),i={accountId:t},r=await this.privateGetTradingAccountsAccountIdBalance(this.extend(i,e)),s={info:r};let n=void 0;const a=this.safeValue(r,"balances",[]);for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"lastUpdateTime"),i=t.slice(0,13),r=parseInt(i);n=void 0===n?r:Math.max(n,r);const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.account();h["free"]=this.safeString(e,"available"),h["used"]=this.safeString(e,"onHold"),s[d]=h}return s["timestamp"]=n,s["datetime"]=this.iso8601(n),this.parseBalance(s,!1)}parseTrade(e,t){const i=this.safeString(e,"tradeId");let r=this.safeInteger(e,"transactTime");void 0!==r&&(r=parseInt(r/1e6));let s=this.safeStringLower2(e,"side","aggressorSide");"1"===s?s="buy":"2"===s&&(s="sell");const n=this.safeString(e,"orderId"),a=this.safeString(e,"symbol"),o=this.safeSymbol(a,t),c=this.safeString2(e,"lastPx","mdEntryPx"),d=this.safeString2(e,"lastQty","mdEntrySize"),h=this.parseNumber(c),l=this.parseNumber(d),f=this.parseNumber(u.stringMul(c,d));let p=void 0;const m=this.safeNumber(e,"commission");if(void 0!==m){const t=this.safeString(e,"commCurrency"),i=this.safeCurrencyCode(t),r=this.safeNumber(e,"commRate");p={cost:m,rate:r,currency:i}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,order:n,side:s,takerOrMaker:void 0,price:h,amount:l,cost:f,fee:p}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s=await this.getAccountId(r),n={accountId:s};let a=void 0;void 0!==e&&(a=this.market(e),n["symbol"]=a["id"]),void 0!==t&&(n["from"]=1e6*t),void 0!==i&&(n["limit"]=i);const o=await this.privateGetTradingAccountsAccountIdTradeHistory(this.extend(n,r));return this.parseTrades(o,a,t,i)}parseOHLCV(e,t){const i=this.safeInteger(e,"transactTime"),r=parseInt(i/1e6),s=this.safeNumber(e,"buyVolume"),n=this.safeNumber(e,"sellVolume"),a=this.sum(s,n);return[r,this.safeNumber(e,"firstPx"),this.safeNumber(e,"highPx"),this.safeNumber(e,"lowPx"),this.safeNumber(e,"lastPx"),a]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],timeframe:this.timeframes[t]},o=this.parseTimeframe(t),c=1e3*o;if(void 0!==i)a["from"]=1e6*i,void 0!==r&&(a["to"]=1e6*this.sum(i,r*c));else{const e=this.milliseconds();void 0!==r&&(a["from"]=1e6*(e-r*c))}const d=await this.publicGetMarketDataV2CandlesSymbolTimeframe(this.extend(a,s)),h=this.safeValue(d,"mdEntry",[]);return this.parseOHLCVs(h,n,t,i,r)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==t&&(n["from"]=this.iso8601(t)),void 0!==i&&(n["limit"]=i);const a=await this.publicGetMarketDataV2TradesSymbol(this.extend(n,r)),o=this.safeValue(a,"mdEntry",[]);return this.parseTrades(o,s,t,i)}parseOrderStatus(e){const t={A:"open",0:"open",1:"open",2:"closed",6:"canceled",4:"canceled",E:"open",8:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeString(e,"clOrdId"),s=this.safeInteger(e,"transactTime"),n=parseInt(s/1e6),a=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeString(e,"symbol"),c=this.safeSymbol(o,t),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"orderQty"),u=this.safeNumber(e,"cumQty"),l=this.safeNumber(e,"leavesQty");let f=this.safeStringLower(e,"side");"1"===f?f="buy":"1"===f&&(f="sell");let p=this.safeStringLower(e,"ordType");return"1"===p?p="market":"2"===p?p="limit":"3"===p?p="stop":"4"===p&&(p="stop-limit"),this.safeOrder({id:i,clientOrderId:r,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:c,type:p,timeInForce:void 0,postOnly:void 0,side:f,price:d,stopPrice:void 0,amount:h,cost:void 0,average:void 0,filled:u,remaining:l,status:a,fee:void 0,trades:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets(),await this.loadAccounts();const a=await this.getAccountId(n),o={market:"1",limit:"2",stop:"3","stop-limit":"4"},c=this.safeString(o,t);if(void 0===c)throw new h(this.id+" createOrder does not support order type "+t+", supported order types are market, limit, stop, stop-limit");const d={buy:"1",sell:"2"},u=this.safeString(d,i);if(void 0===u)throw new h(this.id+" createOrder does not support order side "+i+", supported order sides are buy, sell");const l=this.market(e),f={account:parseInt(a),symbol:l["id"],ordType:c,side:u,orderQty:this.amountToPrecision(e,r),transactTime:1e6*this.milliseconds()};if("limit"===t||"stop-limit"===t){if(void 0===s)throw new h(this.id+" createOrder() requires a price argument for order type "+t);f["price"]=this.priceToPrecision(e,s)}if("stop"===t||"stop-limit"===t){const i=this.safeNumber(n,"stopPx");if(void 0===i)throw new h(this.id+" createOrder() requires a stopPx param for order type "+t);f["stopPx"]=this.priceToPrecision(e,i),n=this.omit(n,"stopPx")}const p=this.safeString2(n,"clientOrderId","clOrdId",this.uuid());void 0!==p&&(f["clOrdId"]=p,n=this.omit(n,["clientOrderId","clOrdId"]));const m=await this.privatePostTradingOrderNew(this.extend(f,n));return this.parseOrder(m,l)}async editOrder(e,t,i,r,s,a,o={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const c=await this.getAccountId(o),d=this.market(t),h={account:parseInt(c),clOrdId:this.uuid(),symbol:d["id"],transactTime:1e6*this.milliseconds()},u=this.safeString2(o,"clientOrderId","origClOrdId");void 0!==u?(h["origClOrdId"]=u,o=this.omit(o,["clientOrderId","origClOrdId"])):h["orderId"]=e,void 0!==s&&(h["orderQty"]=this.amountToPrecision(t,s)),void 0!==a&&(h["price"]=this.priceToPrecision(t,a));const l=this.safeNumber(o,"stopPx");void 0!==l&&(h["stopPx"]=this.priceToPrecision(t,l),o=this.omit(o,"stopPx"));const f=this.safeNumber(o,"capPrice");void 0!==f&&(h["capPrice"]=this.priceToPrecision(t,f),o=this.omit(o,"capPrice"));const p=await this.privatePostTradingOrderReplace(this.extend(h,o));return this.parseOrder(p,d)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const r=await this.getAccountId(i),s=this.safeString2(i,"clientOrderId","origClOrdId");i=this.omit(i,["clientOrderId","origClOrdId"]);const a=this.market(t),o={account:parseInt(r),symbol:a["id"],clOrdId:this.uuid(),transactTime:1e6*this.milliseconds()};void 0!==s?o["origClOrdId"]=s:o["orderId"]=e;const c=await this.privatePostTradingOrderCancel(this.extend(o,i));return this.parseOrder(c,a)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),r={account:parseInt(i),clOrdId:this.uuid()};if(void 0!==e){const t=this.market(e);r["symbol"]=t["id"],r["massCancelRequestType"]="1"}else r["massCancelRequestType"]="7";const s=await this.privatePostTradingOrderMassCancel(this.extend(r,t));return s}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s=await this.getAccountId(r),n={accountId:s};let a=void 0;void 0!==e&&(a=this.market(e),n["symbol"]=a["id"]);const o=await this.privateGetTradingAccountsAccountIdActiveOrders(this.extend(n,r));return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s=await this.getAccountId(r),n={accountId:s};let a=void 0;void 0!==e&&(a=this.market(e),n["symbol"]=a["id"]),void 0!==t&&(n["from"]=1e6*this.iso8601(t)),void 0!==i&&(n["limit"]=i);const o=await this.privateGetTradingAccountsAccountIdLastOrderStatuses(this.extend(n,r));return this.parseOrders(o,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),r=this.currency(e),s={accountId:i,currency:r["id"]},n=await this.privatePostTransfersAccountsAccountIdDepositAddressCurrency(this.extend(s,t)),a=this.safeValue(n,"address"),o=void 0;return this.checkAddress(a),{currency:e,address:a,tag:o,info:n}}async fetchDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),r=this.currency(e),s={accountId:i,currency:r["id"]},n=await this.privateGetTransfersAccountsAccountIdDepositAddressCurrency(this.extend(s,t)),a=this.safeValue(n,"address"),o=void 0;return this.checkAddress(a),{currency:e,address:a,tag:o,info:n}}async fetchTransactionsByType(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets(),await this.loadAccounts();const a=await this.getAccountId(s),o=this.currency(t),c={currency:o["id"],accountId:a};void 0!==i&&(c["since"]=parseInt(i/1e3));const d="privateGetTransfersAccountsAccountId"+this.capitalize(e),h=await this[d](this.extend(c,s)),u=this.safeValue(h,e,[]);return this.parseTransactions(u,o,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdrawals",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposits",e,t,i,r)}parseTransaction(e,t){const i=this.safeString(e,"withdrawalRequestId"),r=void 0===i?"deposit":"withdrawal";let s=this.safeInteger(e,"lastUpdated");void 0!==s&&(s=parseInt(s/1e6));const n=void 0,a=this.safeString(e,"txId"),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),d=this.safeString(e,"address"),h=void 0,u=d,l=this.safeNumber(e,"amount"),f=this.parseTransactionStatus(this.safeString(e,"status")),p=void 0;return{info:e,id:i,txid:a,timestamp:n,datetime:this.iso8601(n),addressFrom:h,addressTo:u,address:d,tagFrom:void 0,tagTo:void 0,tag:void 0,type:r,amount:l,currency:c,status:f,updated:s,fee:p}}parseTransactionStatus(e){const t={1:"pending",2:"ok",3:"failed",4:"failed",5:"pending",100:"pending",101:"pending",102:"pending",103:"pending"};return this.safeString(t,e,e)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets(),await this.loadAccounts();const n=await this.getAccountId(s),a=this.currency(e);let o=this.uuid();o=o.split("-"),o=o.join("");const c={currency:a["id"],accountId:n,amount:this.currencyToPrecision(e,t),address:i,id:o},d=await this.privatePostTransfersAccountsAccountIdWithdrawals(this.extend(c,s));return this.parseTransaction(d,a)}parseLedgerEntryType(e){const t={deposit:"transaction",withdrawal:"transaction","internal deposit":"transfer","internal withdrawal":"transfer",rebate:"rebate",reward:"reward"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r=void 0;const s=this.safeString(e,"accountId"),n=void 0,a=void 0,o=this.parseLedgerEntryType(this.safeString(e,"kind")),c=this.safeCurrencyCode(this.safeString(e,"currency"),t);let d=this.safeNumber(e,"amount");d<0?(r="out",d=Math.abs(d)):r="in";let h=this.safeInteger(e,"ts");void 0!==h&&(h=parseInt(h/1e6));const u={cost:this.safeNumber(e,"commission"),currency:c},l=void 0,f=this.safeNumber(e,"balance"),p="ok";return{info:e,id:i,direction:r,account:s,referenceId:n,referenceAccount:a,type:o,currency:c,amount:d,before:l,after:f,status:p,timestamp:h,datetime:this.iso8601(h),fee:u}}async fetchLedger(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s=await this.getAccountId(r),n={accountId:s};let a=void 0;void 0!==e&&(a=this.currency(e),n["symbol"]=a["id"]),void 0!==t&&(n["from"]=1e6*t),void 0!==i&&(n["limit"]=i);const o=await this.privateGetTransfersAccountsAccountIdBalanceHistory(this.extend(n,r));return this.parseLedger(o,a,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();let e=this.nonce();e=e.toString(),e+="000000";const t="AUTH"+e,r=this.secret.slice(14,78),c=this.ecdsa(t,r,"p256","sha256"),d=c["r"]+c["s"];s={"X-AUTH-API-KEY":this.apiKey,"X-AUTH-API-PAYLOAD":t,"X-AUTH-API-SIGNATURE":d,"X-AUTH-API-NONCE":e},"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):"POST"===i&&(n=this.json(o),s["Content-Type"]="application/json")}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&e>=400){const e=this.id+" "+this.json(o),t=this.safeString(o,"error"),i=this.exceptions["exact"];if(t in i)throw new i[t](e);const r=this.exceptions["broad"],n=this.findBroadlyMatchedKey(r,a);if(void 0!==n)throw new r[n](e);throw new s(e)}}}},"2ca0":function(e,t,i){"use strict";var r=i("23e7"),s=i("06cf").f,n=i("50c4"),a=i("5a34"),o=i("1d80"),c=i("ab13"),d=i("c430"),h="".startsWith,u=Math.min,l=c("startsWith"),f=!d&&!l&&!!function(){var e=s(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!l},{startsWith:function(e){var t=String(o(this));a(e);var i=n(u(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return h?h.call(t,r,i):t.slice(i,i+r.length)===r}})},"2cdb":function(e,t,i){"use strict";var r=i("15b4"),s=i("9eef"),n=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=Array.prototype.push,d=function(e,t){c.apply(e,o(t)?t:[t])},h=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:s.formatters[s["default"]],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,i,s,n,a,c,h,l,f,p,m,g,y){var v=t;if("function"===typeof h?v=h(i,v):v instanceof Date?v=p(v):"comma"===s&&o(v)&&(v=v.join(",")),null===v){if(n)return c&&!g?c(i,u.encoder,y):i;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||r.isBuffer(v)){if(c){var b=g?i:c(i,u.encoder,y);return[m(b)+"="+m(c(v,u.encoder,y))]}return[m(i)+"="+m(String(v))]}var w,S=[];if("undefined"===typeof v)return S;if(o(h))w=h;else{var k=Object.keys(v);w=l?k.sort(l):k}for(var _=0;_<w.length;++_){var O=w[_];a&&null===v[O]||(o(v)?d(S,e(v[O],"function"===typeof s?s(i,O):i,s,n,a,c,h,l,f,p,m,g,y)):d(S,e(v[O],i+(f?"."+O:"["+O+"]"),s,n,a,c,h,l,f,p,m,g,y)))}return S},f=function(e){if(!e)return u;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=s["default"];if("undefined"!==typeof e.format){if(!n.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var r=s.formatters[i],a=u.filter;return("function"===typeof e.filter||o(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?u.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?u.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:u.encode,encoder:"function"===typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}};e.exports=function(e,t){var i,r,s=e,n=f(t);"function"===typeof n.filter?(r=n.filter,s=r("",s)):o(n.filter)&&(r=n.filter,i=r);var c,h=[];if("object"!==typeof s||null===s)return"";c=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var u=a[c];i||(i=Object.keys(s)),n.sort&&i.sort(n.sort);for(var p=0;p<i.length;++p){var m=i[p];n.skipNulls&&null===s[m]||d(h,l(s[m],m,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var g=h.join(n.delimiter),y=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}},"2ceb":function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"2cf0":function(e,t){var i=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function r(e){return new i(e)}e.exports=r},"2cf4":function(e,t,i){var r,s,n,a=i("da84"),o=i("d039"),c=i("0366"),d=i("1be4"),h=i("cc12"),u=i("1cdc"),l=i("605d"),f=a.location,p=a.setImmediate,m=a.clearImmediate,g=a.process,y=a.MessageChannel,v=a.Dispatch,b=0,w={},S="onreadystatechange",k=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},_=function(e){return function(){k(e)}},O=function(e){k(e.data)},T=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};p&&m||(p=function(e){var t=[],i=1;while(arguments.length>i)t.push(arguments[i++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete w[e]},l?r=function(e){g.nextTick(_(e))}:v&&v.now?r=function(e){v.now(_(e))}:y&&!u?(s=new y,n=s.port2,s.port1.onmessage=O,r=c(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!o(T)?(r=T,a.addEventListener("message",O,!1)):r=S in h("script")?function(e){d.appendChild(h("script"))[S]=function(){d.removeChild(this),k(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:p,clear:m}},"2d00":function(e,t,i){var r,s,n=i("da84"),a=i("342f"),o=n.process,c=o&&o.versions,d=c&&c.v8;d?(r=d.split("."),s=r[0]<4?1:r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(s=r[1]))),e.exports=s&&+s},"2d6e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("896c"),s=i("896c");t.ChaidId={toNumber:function(e){return"string"===typeof e?e.charCodeAt(0):e},isMainnet:function(e){return t.ChaidId.toNumber(e)===r.MAIN_NET_CHAIN_ID},isTestnet:function(e){return t.ChaidId.toNumber(e)===s.TEST_NET_CHAIN_ID}}},"2d83":function(e,t,i){"use strict";var r=i("387f");e.exports=function(e,t,i,s,n){var a=new Error(e);return r(a,t,i,s,n)}},"2db4":function(e,t,i){"use strict";var r=i("ade3"),s=(i("a9e3"),i("caad"),i("ca71"),i("8dd9")),n=i("a9ad"),a=i("7560"),o=i("f2e7"),c=i("fe6c"),d=i("58df"),h=i("80d2"),u=i("d9bd");t["a"]=Object(d["a"])(s["a"],n["a"],o["a"],Object(c["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(e){return"string"===typeof e||!1===e}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:a["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var e=this.$vuetify.application,t=e.bar,i=e.bottom,r=e.footer,s=e.insetFooter,n=e.left,a=e.right,o=e.top;return{paddingBottom:Object(h["g"])(i+r+s),paddingLeft:this.app?Object(h["g"])(n):void 0,paddingRight:this.app?Object(h["g"])(a):void 0,paddingTop:Object(h["g"])(t+o)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(h["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(r["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(h["s"])(this)])},genWrapper:function(){var e=this,t=this.hasBackground?this.setBackgroundColor:this.setTextColor,i=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),style:s["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:function(){return window.clearTimeout(e.activeTimeout)},mouseleave:this.setTimeout}});return this.$createElement("div",i,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout);var t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),t))}},render:function(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"2e05":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,InsufficientFunds:a,OrderNotFound:o,BadRequest:c,BadSymbol:d}=i("74b0"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbns",name:"Bitbns",countries:["IN"],rateLimit:1e3,certified:!1,pro:!1,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!1,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!1,fetchWithdrawals:!0},timeframes:{},urls:{logo:"https://user-images.githubusercontent.com/1294454/117201933-e7a6e780-adf5-11eb-9d80-98fc2a21c3d6.jpg",api:{ccxt:"https://bitbns.com/order",v1:"https://api.bitbns.com/api/trade/v1",v2:"https://api.bitbns.com/api/trade/v2"},www:"https://bitbns.com",referral:"https://ref.bitbns.com/1090961",doc:["https://bitbns.com/trade/#/api-trading/"],fees:"https://bitbns.com/fees"},api:{ccxt:{get:["fetchMarkets","fetchTickers","fetchOrderbook"]},v1:{get:["platform/status","tickers","orderbook/sell/{symbol}","orderbook/buy/{symbol}"],post:["currentCoinBalance/EVERYTHING","getApiUsageStatus/USAGE","getOrderSocketToken/USAGE","currentCoinBalance/{symbol}","orderStatus/{symbol}","depositHistory/{symbol}","withdrawHistory/{symbol}","listOpenOrders/{symbol}","listOpenStopOrders/{symbol}","getCoinAddress/{symbol}","placeSellOrder/{symbol}","placeBuyOrder/{symbol}","buyStopLoss/{symbol}","placeSellOrder/{symbol}","cancelOrder/{symbol}","cancelStopLossOrder/{symbol}","listExecutedOrders/{symbol}"]},v2:{post:["orders","cancel","getordersnew","marginOrders"]}},fees:{trading:{feeSide:"quote",tierBased:!1,percentage:!0,taker:.0025,maker:.0025}},exceptions:{exact:{400:c,409:d,416:a,417:o},broad:{}}})}async fetchStatus(e={}){const t=await this.v1GetPlatformStatus(e);let i=this.safeString(t,"status");return void 0!==i&&(i="1"===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchMarkets(e={}){const t=await this.ccxtGetFetchMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeString(e,"base"),a=this.safeString(e,"quote"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(e,"precision",{}),u={amount:this.safeInteger(h,"amount"),price:this.safeInteger(h,"price")},l=this.safeValue(e,"limits",{}),f=this.safeValue(l,"amount",{}),p=this.safeValue(l,"price",{}),m=this.safeValue(l,"cost",{}),g="USDT"===a,y=g?n+"_"+a:n;i.push({id:s,uppercaseId:y,symbol:d,base:o,quote:c,baseId:n,quoteId:a,info:e,active:void 0,precision:u,limits:{amount:{min:this.safeNumber(f,"min"),max:this.safeNumber(f,"max")},price:{min:this.safeNumber(p,"min"),max:this.safeNumber(p,"max")},cost:{min:this.safeNumber(m,"min"),max:this.safeNumber(m,"max")}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.ccxtGetFetchOrderbook(this.extend(s,i)),a=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,a)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidVolume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askVolume"),vwap:this.safeNumber(e,"vwap"),open:this.safeNumber(e,"open"),close:n,last:n,previousClose:this.safeNumber(e,"previousClose"),change:this.safeNumber(e,"change"),percentage:this.safeNumber(e,"percentage"),average:this.safeNumber(e,"average"),baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.ccxtGetFetchTickers(t);return this.parseTickers(i,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1PostCurrentCoinBalanceEVERYTHING(e),i=void 0,r={info:t,timestamp:i,datetime:this.iso8601(i)},s=this.safeValue(t,"data",{}),n=Object.keys(s);for(let a=0;a<n.length;a++){const e=n[a],t=e.split("availableorder"),i=t.length;if(i>1){const i=this.safeString(t,1);if("Money"!==i){const t=this.safeCurrencyCode(i),n=this.account();n["free"]=this.safeString(s,e),n["used"]=this.safeString(s,"inorder"+i),r[t]=n}}}return this.parseBalance(r,!1)}parseOrderStatus(e){const t={0:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString2(e,"id","entry_id"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.parse8601(this.safeString(e,"time")),a=this.safeNumber(e,"rate"),o=this.safeNumber2(e,"amount","btc"),c=this.safeNumber(e,"filled"),d=this.safeNumber(e,"remaining"),h=this.safeNumber(e,"avg_cost"),u=this.safeNumber(e,"cost");let l=this.safeStringLower(e,"type");"0"===l&&(l="limit");const f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeStringLower(e,"side"),m=this.safeNumber(e,"fee");let g=void 0;if(void 0!==m){const e=void 0;g={cost:m,currency:e}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:l,timeInForce:void 0,postOnly:void 0,side:p,price:a,stopPrice:void 0,amount:o,cost:u,average:h,filled:c,remaining:d,status:f,fee:g,trades:void 0})}async createOrder(e,t,i,r,n,a={}){if("limit"!==t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={side:i.toUpperCase(),symbol:o["baseId"]+"_"+o["quoteId"],quantity:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,n)},d=await this.v2PostOrders(this.extend(c,a));return this.parseOrder(d,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s="USDT"===r["quoteId"]?"usdtcancelOrder":"cancelOrder",a={entry_id:e,symbol:r["uppercaseId"],side:s},o=await this.v2PostCancel(this.extend(a,i));return this.parseOrder(o,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r["id"],entry_id:e},a=await this.v1PostOrderStatusSymbol(this.extend(s,i)),o=this.safeValue(a,"data",[]),c=this.safeValue(o,0);return this.parseOrder(c,r)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a="USDT"===s["quoteId"]?"usdtListOpenOrders":"listOpenOrders",o={symbol:s["uppercaseId"],side:a,page:0},c=await this.v2PostGetordersnew(this.extend(o,r)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,s,t,i)}parseTrade(e,t){t=this.safeMarket(void 0,t);const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"date")),s=this.safeString(e,"amount"),n=this.safeString(e,"rate"),a=this.parseNumber(n),o=this.safeString(e,"factor"),c=h.stringDiv(s,o),d=this.parseNumber(c),u=this.parseNumber(h.stringMul(n,c)),l=t["symbol"];let f=this.safeStringLower(e,"type");f.indexOf("sell")>=0?f="sell":f.indexOf("buy")>=0&&(f="buy");let p=void 0;const m=this.safeNumber(e,"fee");if(void 0!==m){const e=t["quote"];p={cost:m,currency:e}}return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,id:void 0,order:i,type:void 0,side:f,takerOrMaker:void 0,price:a,amount:d,cost:u,fee:p}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s["id"],page:0};void 0!==t&&(a["since"]=this.iso8601(t));const o=await this.v1PostListExecutedOrdersSymbol(this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={symbol:s["id"],page:0},o=await this.v1PostDepositHistorySymbol(this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={symbol:s["id"],page:0},o=await this.v1PostWithdrawHistorySymbol(this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,s,t,i)}parseTransactionStatusByType(e,t){const i={deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}},r=this.safeValue(i,t,{});return this.safeString(r,e,e)}parseTransaction(e,t){const i=this.safeString(e,"unit"),r=this.safeCurrencyCode(i,t),s=this.parse8601(this.safeString(e,"date"));let n=this.safeString(e,"type"),a=void 0;void 0!==n&&(n.indexOf("deposit")>=0?(n="deposit",a="ok"):n.indexOf("withdraw")>=0&&(n="withdrawal"));const o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"fee");let d=void 0;return void 0!==c&&(d={currency:r,cost:c}),{info:e,id:void 0,txid:void 0,timestamp:s,datetime:this.iso8601(s),address:void 0,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:n,amount:o,currency:r,status:a,updated:void 0,internal:void 0,fee:d}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={symbol:i["id"]},s=await this.v1PostGetCoinAddressSymbol(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeString(n,"token"),o=this.safeString(n,"tag");return this.checkAddress(a),{currency:e,address:a,tag:o,info:s}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={coin:n["id"],address:i,amount:t};void 0!==r&&(a["addressTag"]=r);const o=await this.sapiPostCapitalWithdrawApply(this.extend(a,s));return{info:o,id:this.safeString(o,"id")}}nonce(){return this.milliseconds()}sign(e,t="v1",i="GET",r={},s,n){this.checkRequiredCredentials();const a=this.implodeHostname(this.urls["api"][t]);let o=a+"/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e)),d=this.nonce().toString();if(s={"X-BITBNS-APIKEY":this.apiKey},"GET"===i)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("POST"===i){n=Object.keys(c).length?this.json(c):"{}";const e={timeStamp_nonce:d,body:n},t=this.stringToBase64(this.json(e)),i=this.hmac(t,this.encode(this.secret),"sha512");s["X-BITBNS-PAYLOAD"]=this.decode(t),s["X-BITBNS-SIGNATURE"]=i,s["Content-Type"]="application/x-www-form-urlencoded"}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"msg"),l=void 0!==h&&"200"!==h;if(l||void 0!==u){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new s(e)}}}},"2e67":function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f62":function(e,t,i){"use strict";(function(e){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function i(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[r].concat(e.init):r,i.call(this,e)}}function r(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},s=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(e){s&&(e._devtoolHook=s,s.emit("vuex:init",e),s.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){s.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){s.emit("vuex:action",e,t)}),{prepend:!0}))}function a(e,t){return e.filter(t)[0]}function o(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var i=a(t,(function(t){return t.original===e}));if(i)return i.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(i){r[i]=o(e[i],t)})),r}function c(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function d(e){return null!==e&&"object"===typeof e}function h(e){return e&&"function"===typeof e.then}function u(e,t){return function(){return e(t)}}var l=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"===typeof i?i():i)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(e,t){this._children[e]=t},l.prototype.removeChild=function(e){delete this._children[e]},l.prototype.getChild=function(e){return this._children[e]},l.prototype.hasChild=function(e){return e in this._children},l.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},l.prototype.forEachChild=function(e){c(this._children,e)},l.prototype.forEachGetter=function(e){this._rawModule.getters&&c(this._rawModule.getters,e)},l.prototype.forEachAction=function(e){this._rawModule.actions&&c(this._rawModule.actions,e)},l.prototype.forEachMutation=function(e){this._rawModule.mutations&&c(this._rawModule.mutations,e)},Object.defineProperties(l.prototype,f);var p=function(e){this.register([],e,!1)};function m(e,t,i){if(t.update(i),i.modules)for(var r in i.modules){if(!t.getChild(r))return void 0;m(e.concat(r),t.getChild(r),i.modules[r])}}p.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},p.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")}),"")},p.prototype.update=function(e){m([],this.root,e)},p.prototype.register=function(e,t,i){var r=this;void 0===i&&(i=!0);var s=new l(t,i);if(0===e.length)this.root=s;else{var n=this.get(e.slice(0,-1));n.addChild(e[e.length-1],s)}t.modules&&c(t.modules,(function(t,s){r.register(e.concat(s),t,i)}))},p.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],r=t.getChild(i);r&&r.runtime&&t.removeChild(i)},p.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var g;var y=function(e){var t=this;void 0===e&&(e={}),!g&&"undefined"!==typeof window&&window.Vue&&N(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var s=this,a=this,o=a.dispatch,c=a.commit;this.dispatch=function(e,t){return o.call(s,e,t)},this.commit=function(e,t,i){return c.call(s,e,t,i)},this.strict=r;var d=this._modules.root.state;k(this,d,[],this._modules.root),S(this,d),i.forEach((function(e){return e(t)}));var h=void 0!==e.devtools?e.devtools:g.config.devtools;h&&n(this)},v={state:{configurable:!0}};function b(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function w(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;k(e,i,[],e._modules.root,!0),S(e,i,t)}function S(e,t,i){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,n={};c(s,(function(t,i){n[i]=u(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var a=g.config.silent;g.config.silent=!0,e._vm=new g({data:{$$state:t},computed:n}),g.config.silent=a,e.strict&&x(e),r&&(i&&e._withCommit((function(){r._data.$$state=null})),g.nextTick((function(){return r.$destroy()})))}function k(e,t,i,r,s){var n=!i.length,a=e._modules.getNamespace(i);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!n&&!s){var o=E(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit((function(){g.set(o,c,r.state)}))}var d=r.context=_(e,a,i);r.forEachMutation((function(t,i){var r=a+i;T(e,r,t,d)})),r.forEachAction((function(t,i){var r=t.root?i:a+i,s=t.handler||t;C(e,r,s,d)})),r.forEachGetter((function(t,i){var r=a+i;I(e,r,t,d)})),r.forEachChild((function(r,n){k(e,t,i.concat(n),r,s)}))}function _(e,t,i){var r=""===t,s={dispatch:r?e.dispatch:function(i,r,s){var n=A(i,r,s),a=n.payload,o=n.options,c=n.type;return o&&o.root||(c=t+c),e.dispatch(c,a)},commit:r?e.commit:function(i,r,s){var n=A(i,r,s),a=n.payload,o=n.options,c=n.type;o&&o.root||(c=t+c),e.commit(c,a,o)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return O(e,t)}},state:{get:function(){return E(e.state,i)}}}),s}function O(e,t){if(!e._makeLocalGettersCache[t]){var i={},r=t.length;Object.keys(e.getters).forEach((function(s){if(s.slice(0,r)===t){var n=s.slice(r);Object.defineProperty(i,n,{get:function(){return e.getters[s]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function T(e,t,i,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push((function(t){i.call(e,r.state,t)}))}function C(e,t,i,r){var s=e._actions[t]||(e._actions[t]=[]);s.push((function(t){var s=i.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return h(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):s}))}function I(e,t,i,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return i(r.state,r.getters,e.state,e.getters)})}function x(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function E(e,t){return t.reduce((function(e,t){return e[t]}),e)}function A(e,t,i){return d(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function N(e){g&&e===g||(g=e,i(g))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(e){0},y.prototype.commit=function(e,t,i){var r=this,s=A(e,t,i),n=s.type,a=s.payload,o=(s.options,{type:n,payload:a}),c=this._mutations[n];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(o,r.state)})))},y.prototype.dispatch=function(e,t){var i=this,r=A(e,t),s=r.type,n=r.payload,a={type:s,payload:n},o=this._actions[s];if(o){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,i.state)}))}catch(d){0}var c=o.length>1?Promise.all(o.map((function(e){return e(n)}))):o[0](n);return new Promise((function(e,t){c.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,i.state)}))}catch(d){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,i.state,e)}))}catch(d){0}t(e)}))}))}},y.prototype.subscribe=function(e,t){return b(e,this._subscribers,t)},y.prototype.subscribeAction=function(e,t){var i="function"===typeof e?{before:e}:e;return b(i,this._actionSubscribers,t)},y.prototype.watch=function(e,t,i){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,i)},y.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},y.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),k(this,this.state,e,this._modules.get(e),i.preserveState),S(this,this.state)},y.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=E(t.state,e.slice(0,-1));g.delete(i,e[e.length-1])})),w(this)},y.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},y.prototype.hotUpdate=function(e){this._modules.update(e),w(this,!0)},y.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(y.prototype,v);var M=j((function(e,t){var i={};return L(t).forEach((function(t){var r=t.key,s=t.val;i[r]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var r=q(this.$store,"mapState",e);if(!r)return;t=r.context.state,i=r.context.getters}return"function"===typeof s?s.call(this,t,i):t[s]},i[r].vuex=!0})),i})),P=j((function(e,t){var i={};return L(t).forEach((function(t){var r=t.key,s=t.val;i[r]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var r=this.$store.commit;if(e){var n=q(this.$store,"mapMutations",e);if(!n)return;r=n.context.commit}return"function"===typeof s?s.apply(this,[r].concat(t)):r.apply(this.$store,[s].concat(t))}})),i})),B=j((function(e,t){var i={};return L(t).forEach((function(t){var r=t.key,s=t.val;s=e+s,i[r]=function(){if(!e||q(this.$store,"mapGetters",e))return this.$store.getters[s]},i[r].vuex=!0})),i})),R=j((function(e,t){var i={};return L(t).forEach((function(t){var r=t.key,s=t.val;i[r]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var r=this.$store.dispatch;if(e){var n=q(this.$store,"mapActions",e);if(!n)return;r=n.context.dispatch}return"function"===typeof s?s.apply(this,[r].concat(t)):r.apply(this.$store,[s].concat(t))}})),i})),D=function(e){return{mapState:M.bind(null,e),mapGetters:B.bind(null,e),mapMutations:P.bind(null,e),mapActions:R.bind(null,e)}};function L(e){return V(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function V(e){return Array.isArray(e)||d(e)}function j(e){return function(t,i){return"string"!==typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function q(e,t,i){var r=e._modulesNamespaceMap[i];return r}function U(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var r=e.transformer;void 0===r&&(r=function(e){return e});var s=e.mutationTransformer;void 0===s&&(s=function(e){return e});var n=e.actionFilter;void 0===n&&(n=function(e,t){return!0});var a=e.actionTransformer;void 0===a&&(a=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var d=e.logActions;void 0===d&&(d=!0);var h=e.logger;return void 0===h&&(h=console),function(e){var u=o(e.state);"undefined"!==typeof h&&(c&&e.subscribe((function(e,n){var a=o(n);if(i(e,u,a)){var c=H(),d=s(e),l="mutation "+e.type+c;G(h,l,t),h.log("%c prev state","color: #9E9E9E; font-weight: bold",r(u)),h.log("%c mutation","color: #03A9F4; font-weight: bold",d),h.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),F(h)}u=a})),d&&e.subscribeAction((function(e,i){if(n(e,i)){var r=H(),s=a(e),o="action "+e.type+r;G(h,o,t),h.log("%c action","color: #03A9F4; font-weight: bold",s),F(h)}})))}}function G(e,t,i){var r=i?e.groupCollapsed:e.group;try{r.call(e,t)}catch(s){e.log(t)}}function F(e){try{e.groupEnd()}catch(t){e.log(" log end ")}}function H(){var e=new Date;return" @ "+K(e.getHours(),2)+":"+K(e.getMinutes(),2)+":"+K(e.getSeconds(),2)+"."+K(e.getMilliseconds(),3)}function z(e,t){return new Array(t+1).join(e)}function K(e,t){return z("0",t-e.toString().length)+e}var W={Store:y,install:N,version:"3.6.2",mapState:M,mapMutations:P,mapGetters:B,mapActions:R,createNamespacedHelpers:D,createLogger:U};t["a"]=W}).call(this,i("c8ba"))},"2fa4":function(e,t,i){"use strict";i("20f6");var r=i("80d2");t["a"]=Object(r["i"])("spacer","div","v-spacer")},"2fad":function(e,t,i){var r=i("5a7c"),s=i("53063"),n=r((function(e,t){return s([e],t)[0]}));e.exports=n},3022:function(e,t,i){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},r=0;r<t.length;r++)i[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return i},s=/%[sdj%]/g;t.format=function(e){if(!k(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var r=arguments,n=r.length,a=String(e).replace(s,(function(e){if("%%"===e)return"%";if(i>=n)return e;switch(e){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}default:return e}})),c=r[i];i<n;c=r[++i])b(c)||!C(c)?a+=" "+c:a+=" "+o(c);return a},t.deprecate=function(i,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return i;if("undefined"===typeof e)return function(){return t.deprecate(i,r).apply(this,arguments)};var s=!1;function n(){if(!s){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),s=!0}return i.apply(this,arguments)}return n};var n,a={};function o(e,i){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(i)?r.showHidden=i:i&&t._extend(r,i),O(r.showHidden)&&(r.showHidden=!1),O(r.depth)&&(r.depth=2),O(r.colors)&&(r.colors=!1),O(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function d(e,t){return e}function h(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}function u(e,i,r){if(e.customInspect&&i&&E(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var s=i.inspect(r,e);return k(s)||(s=u(e,s,r)),s}var n=l(e,i);if(n)return n;var a=Object.keys(i),o=h(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),x(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(i);if(0===a.length){if(E(i)){var c=i.name?": "+i.name:"";return e.stylize("[Function"+c+"]","special")}if(T(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(I(i))return e.stylize(Date.prototype.toString.call(i),"date");if(x(i))return f(i)}var d,v="",b=!1,w=["{","}"];if(y(i)&&(b=!0,w=["[","]"]),E(i)){var S=i.name?": "+i.name:"";v=" [Function"+S+"]"}return T(i)&&(v=" "+RegExp.prototype.toString.call(i)),I(i)&&(v=" "+Date.prototype.toUTCString.call(i)),x(i)&&(v=" "+f(i)),0!==a.length||b&&0!=i.length?r<0?T(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),d=b?p(e,i,r,o,a):a.map((function(t){return m(e,i,r,o,t,b)})),e.seen.pop(),g(d,v,w)):w[0]+v+w[1]}function l(e,t){if(O(t))return e.stylize("undefined","undefined");if(k(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return S(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,i,r,s){for(var n=[],a=0,o=t.length;a<o;++a)R(t,String(a))?n.push(m(e,t,i,r,String(a),!0)):n.push("");return s.forEach((function(s){s.match(/^\d+$/)||n.push(m(e,t,i,r,s,!0))})),n}function m(e,t,i,r,s,n){var a,o,c;if(c=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]},c.get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),R(r,s)||(a="["+s+"]"),o||(e.seen.indexOf(c.value)<0?(o=b(i)?u(e,c.value,null):u(e,c.value,i-1),o.indexOf("\n")>-1&&(o=n?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n"))):o=e.stylize("[Circular]","special")),O(a)){if(n&&s.match(/^\d+$/))return o;a=JSON.stringify(""+s),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function g(e,t,i){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function y(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function b(e){return null===e}function w(e){return null==e}function S(e){return"number"===typeof e}function k(e){return"string"===typeof e}function _(e){return"symbol"===typeof e}function O(e){return void 0===e}function T(e){return C(e)&&"[object RegExp]"===N(e)}function C(e){return"object"===typeof e&&null!==e}function I(e){return C(e)&&"[object Date]"===N(e)}function x(e){return C(e)&&("[object Error]"===N(e)||e instanceof Error)}function E(e){return"function"===typeof e}function A(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function N(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(O(n)&&(n=Object({NODE_ENV:"production",BASE_URL:"/"}).NODE_DEBUG||""),i=i.toUpperCase(),!a[i])if(new RegExp("\\b"+i+"\\b","i").test(n)){var r=e.pid;a[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,r,e)}}else a[i]=function(){};return a[i]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=y,t.isBoolean=v,t.isNull=b,t.isNullOrUndefined=w,t.isNumber=S,t.isString=k,t.isSymbol=_,t.isUndefined=O,t.isRegExp=T,t.isObject=C,t.isDate=I,t.isError=x,t.isFunction=E,t.isPrimitive=A,t.isBuffer=i("d60a");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",B(),t.format.apply(t,arguments))},t.inherits=i("28a0"),t._extend=function(e,t){if(!t||!C(t))return e;var i=Object.keys(t),r=i.length;while(r--)e[i[r]]=t[i[r]];return e};var D="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}function V(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],r=0;r<arguments.length;r++)i.push(arguments[r]);var s=i.pop();if("function"!==typeof s)throw new TypeError("The last argument must be of type Function");var n=this,a=function(){return s.apply(n,arguments)};t.apply(this,i).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(L,t,a)}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,r(t)),i}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(D&&e[D]){var t=e[D];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,r=new Promise((function(e,r){t=e,i=r})),s=[],n=0;n<arguments.length;n++)s.push(arguments[n]);s.push((function(e,r){e?i(e):t(r)}));try{e.apply(this,s)}catch(a){i(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),D&&Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=D,t.callbackify=V}).call(this,i("4362"))},"30b5":function(e,t,i){"use strict";var r=i("c532");function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(r.isURLSearchParams(t))n=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(s(t)+"="+s(e))})))})),n=a.join("&")}if(n){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},3206:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i("ade3"),s=(i("99af"),i("2b0e")),n=i("d9bd");function a(e,t){return function(){return Object(n["c"])("The ".concat(e," component must be used inside a ").concat(t))}}function o(e,t,i){var n=t&&i?{register:a(t,i),unregister:a(t,i)}:null;return s["a"].extend({name:"registrable-inject",inject:Object(r["a"])({},e,{default:n})})}},"320c":function(e,t,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(n){return!1}}e.exports=o()?Object.assign:function(e,t){for(var i,o,c=a(e),d=1;d<arguments.length;d++){for(var h in i=Object(arguments[d]),i)s.call(i,h)&&(c[h]=i[h]);if(r){o=r(i);for(var u=0;u<o.length;u++)n.call(i,o[u])&&(c[o[u]]=i[o[u]])}}return c}},"324d":function(e,t,i){"use strict";const r=i("01b4");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bequant",name:"Bequant",countries:["MT"],pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/55248342-a75dfe00-525a-11e9-8aa2-05e9dca943c6.jpg",api:{public:"https://api.bequant.io",private:"https://api.bequant.io"},www:"https://bequant.io",doc:["https://api.bequant.io/"],fees:["https://bequant.io/fees-and-limits"],referral:"https://bequant.io"}})}}},"32f6":function(e,t,i){var r=i("b61d"),s=i("a438"),n=i("5c27");for(var a in e.exports={Reader:n},s)s.hasOwnProperty(a)&&(e.exports[a]=s[a]);for(var o in r)r.hasOwnProperty(o)&&(e.exports[o]=r[o])},"33ab":function(e,t,i){"use strict";const r=i("90db"),{TICK_SIZE:s}=i("5ea4"),{AuthenticationError:n,ExchangeError:a,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:d,OrderNotFound:h,DDoSProtection:u,NotSupported:l,ExchangeNotAvailable:f,InsufficientFunds:p,BadRequest:m,InvalidAddress:g,OnMaintenance:y}=i("74b0"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"deribit",name:"Deribit",countries:["NL"],version:"v2",userAgent:void 0,rateLimit:500,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","3m":"3","5m":"5","10m":"10","15m":"15","30m":"30","1h":"60","2h":"120","3h":"180","6h":"360","12h":"720","1d":"1D"},urls:{test:"https://test.deribit.com",logo:"https://user-images.githubusercontent.com/1294454/41933112-9e2dd65a-798b-11e8-8440-5bab2959fcb8.jpg",api:"https://www.deribit.com",www:"https://www.deribit.com",doc:["https://docs.deribit.com/v2","https://github.com/deribit"],fees:"https://www.deribit.com/pages/information/fees",referral:"https://www.deribit.com/reg-1189.4038"},api:{public:{get:["auth","exchange_token","fork_token","set_heartbeat","disable_heartbeat","get_time","hello","test","subscribe","unsubscribe","get_announcements","get_book_summary_by_currency","get_book_summary_by_instrument","get_contract_size","get_currencies","get_funding_chart_data","get_funding_rate_history","get_funding_rate_value","get_historical_volatility","get_index","get_index_price","get_index_price_names","get_instruments","get_last_settlements_by_currency","get_last_settlements_by_instrument","get_last_trades_by_currency","get_last_trades_by_currency_and_time","get_last_trades_by_instrument","get_last_trades_by_instrument_and_time","get_order_book","get_trade_volumes","get_tradingview_chart_data","ticker"]},private:{get:["logout","enable_cancel_on_disconnect","disable_cancel_on_disconnect","get_cancel_on_disconnect","subscribe","unsubscribe","change_api_key_name","change_scope_in_api_key","change_subaccount_name","create_api_key","create_subaccount","disable_api_key","disable_tfa_for_subaccount","enable_api_key","get_account_summary","get_email_language","get_new_announcements","get_position","get_positions","get_subaccounts","list_api_keys","remove_api_key","reset_api_key","set_announcement_as_read","set_api_key_as_default","set_email_for_subaccount","set_email_language","set_password_for_subaccount","toggle_notifications_from_subaccount","toggle_subaccount_login","execute_block_trade","get_block_trade","get_last_block_trades_by_currency","invalidate_block_trade_signature","verify_block_trade","buy","sell","edit","cancel","cancel_all","cancel_all_by_currency","cancel_all_by_instrument","cancel_by_label","close_position","get_margins","get_open_orders_by_currency","get_open_orders_by_instrument","get_order_history_by_currency","get_order_history_by_instrument","get_order_margin_by_ids","get_order_state","get_stop_order_history","get_user_trades_by_currency","get_user_trades_by_currency_and_time","get_user_trades_by_instrument","get_user_trades_by_instrument_and_time","get_user_trades_by_order","get_settlement_history_by_instrument","get_settlement_history_by_currency","cancel_transfer_by_id","cancel_withdrawal","create_deposit_address","get_current_deposit_address","get_deposits","get_transfers","get_withdrawals","submit_transfer_to_subaccount","submit_transfer_to_user","withdraw"]}},exceptions:{9999:c,1e4:n,10001:a,10002:d,10003:d,10004:h,10005:d,10006:d,10007:d,10008:d,10009:p,10010:h,10011:d,10012:d,10013:c,10014:c,10015:c,10016:c,10017:c,10018:c,10019:c,10020:a,10021:d,10022:d,10023:d,10024:d,10025:d,10026:d,10027:d,10028:u,10029:h,10030:a,10031:a,10032:d,10033:l,10034:d,10035:d,10036:d,10040:f,10041:y,10043:d,10044:d,10045:d,10046:d,10047:u,10048:a,11008:d,11029:m,11030:a,11031:a,11035:u,11036:d,11037:m,11038:d,11039:d,11041:d,11042:c,11043:m,11044:d,11045:m,11046:m,11047:m,11048:a,11049:m,11050:m,11051:y,11052:a,11053:a,11090:g,11091:g,11092:g,11093:u,11094:a,11095:a,11096:a,12e3:n,12001:u,12002:a,12998:n,12003:n,12004:n,12005:n,12100:a,12999:n,13e3:n,13001:n,13002:c,13003:n,13004:n,13005:n,13006:n,13007:n,13008:a,13009:n,13010:m,13011:m,13012:c,13013:m,13014:m,13015:m,13016:m,13017:a,13018:a,13019:a,13020:a,13021:c,13025:a,"-32602":m,"-32601":m,"-32700":m,"-32000":m},precisionMode:s,options:{code:"BTC",fetchBalance:{code:"BTC"}}})}async fetchTime(e={}){const t=await this.publicGetGetTime(e);return this.safeInteger(t,"result")}codeFromOptions(e){const t=this.safeValue(this.options,"code","BTC"),i=this.safeValue(this.options,e,{});return this.safeValue(i,"code",t)}async fetchStatus(e={}){const t={};return await this.publicGetTest(this.extend(t,e)),this.status=this.extend(this.status,{status:"ok",updated:this.milliseconds()}),this.status}async fetchMarkets(e={}){const t=await this.publicGetGetCurrencies(e),i=this.safeValue(t,"result",[]),r=[];for(let s=0;s<i.length;s++){const t=this.safeString(i[s],"currency"),n={currency:t},a=await this.publicGetGetInstruments(this.extend(n,e)),o=this.safeValue(a,"result",[]);for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"instrument_name"),s=this.safeString(t,"base_currency"),n=this.safeString(t,"quote_currency"),a=this.safeCurrencyCode(s),c=this.safeCurrencyCode(n),d=this.safeString(t,"kind"),h="future"===d,u="option"===d,l=this.safeValue(t,"is_active"),f=this.safeNumber(t,"min_trade_amount"),p=this.safeNumber(t,"tick_size"),m={amount:f,price:p};r.push({id:i,symbol:i,base:a,quote:c,active:l,precision:m,taker:this.safeNumber(t,"taker_commission"),maker:this.safeNumber(t,"maker_commission"),limits:{amount:{min:f,max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}},type:d,spot:!1,future:h,option:u,info:t})}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=this.codeFromOptions("fetchBalance"),i=this.currency(t),r={currency:i["id"]},s=await this.privateGetGetAccountSummary(this.extend(r,e)),n={info:s},a=this.safeValue(s,"result",{}),o=this.safeString(a,"currency"),c=this.safeCurrencyCode(o),d=this.account();return d["free"]=this.safeString(a,"availableFunds"),d["used"]=this.safeString(a,"maintenanceMargin"),d["total"]=this.safeString(a,"equity"),n[c]=d,this.parseBalance(n,!1)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetCreateDepositAddress(this.extend(r,t)),n=this.safeValue(s,"result",{}),a=this.safeString(n,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetGetCurrentDepositAddress(this.extend(r,t)),n=this.safeValue(s,"result",{}),a=this.safeString(n,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:s}}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","creation_timestamp"),r=this.safeString(e,"instrument_name"),s=this.safeSymbol(r,t),n=this.safeNumber2(e,"last_price","last"),a=this.safeValue(e,"stats",e);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(a,"high","max_price"),low:this.safeNumber2(a,"low","min_price"),bid:this.safeNumber2(e,"best_bid_price","bid_price"),bidVolume:this.safeNumber(e,"best_bid_amount"),ask:this.safeNumber2(e,"best_ask_price","ask_price"),askVolume:this.safeNumber(e,"best_ask_amount"),vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(a,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument_name:i["id"]},s=await this.publicGetTicker(this.extend(r,t)),n=this.safeValue(s,"result");return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.codeFromOptions("fetchTickers"),r=this.currency(i),s={currency:r["id"]},n=await this.publicGetGetBookSummaryByCurrency(this.extend(s,t)),a=this.safeValue(n,"result",[]),o={};for(let c=0;c<a.length;c++){const e=this.parseTicker(a[c]),t=e["symbol"];o[t]=e}return this.filterByArray(o,"symbol",e)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={instrument_name:n["id"],resolution:this.timeframes[t]},c=this.parseTimeframe(t),d=this.milliseconds();if(void 0===i){if(void 0===r)throw new o(this.id+" fetchOHLCV() requires a since argument or a limit argument");a["start_timestamp"]=d-(r-1)*c*1e3,a["end_timestamp"]=d}else a["start_timestamp"]=i,a["end_timestamp"]=void 0===r?d:this.sum(i,r*c*1e3);const h=await this.publicGetGetTradingviewChartData(this.extend(a,s)),u=this.safeValue(h,"result",{}),l=this.convertTradingViewToOHLCV(u,"ticks","open","high","low","close","volume",!0);return this.parseOHLCVs(l,n,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"trade_id"),r=this.safeString(e,"instrument_name"),s=this.safeSymbol(r,t),n=this.safeInteger(e,"timestamp"),a=this.safeString(e,"direction"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(v.stringMul(o,c)),l=this.safeString(e,"liquidity");let f=void 0;void 0!==l&&(f="M"===l?"maker":"taker");const p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"fee_currency"),i=this.safeCurrencyCode(t);m={cost:p,currency:i}}return{id:i,info:e,timestamp:n,datetime:this.iso8601(n),symbol:s,order:this.safeString(e,"order_id"),type:this.safeString(e,"order_type"),side:a,takerOrMaker:f,price:d,amount:h,cost:u,fee:m}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={instrument_name:s["id"],include_old:!0},a=void 0===t?"publicGetGetLastTradesByInstrument":"publicGetGetLastTradesByInstrumentAndTime";void 0!==t&&(n["start_timestamp"]=t),void 0!==i&&(n["count"]=i);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,s,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={instrument_name:r["id"]};void 0!==t&&(s["depth"]=t);const n=await this.publicGetGetOrderBook(this.extend(s,i)),a=this.safeValue(n,"result",{}),o=this.safeInteger(a,"timestamp"),c=this.safeInteger(a,"change_id"),d=this.parseOrderBook(a,e,o);return d["nonce"]=c,d}parseOrderStatus(e){const t={open:"open",cancelled:"canceled",filled:"closed",rejected:"rejected",untriggered:"open"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={good_til_cancelled:"GTC",fill_or_kill:"FOK",immediate_or_cancel:"IOC"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp"),r=this.safeInteger(e,"last_update_timestamp"),s=this.safeString(e,"order_id"),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"average_price"),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"filled_amount");let d=void 0;void 0!==c&&c>0&&(d=r);const h=this.parseOrderStatus(this.safeString(e,"order_state")),u=this.safeString(e,"instrument_name");t=this.safeMarket(u,t);const l=this.safeStringLower(e,"direction");let f=this.safeNumber(e,"commission"),p=void 0;void 0!==f&&(f=Math.abs(f),p={cost:f,currency:t["base"]});const m=this.safeString(e,"order_type");let g=this.safeValue(e,"trades");void 0!==g&&(g=this.parseTrades(g,t));const y=this.parseTimeInForce(this.safeString(e,"time_in_force")),v=this.safeValue(e,"stop_price"),b=this.safeValue(e,"post_only");return this.safeOrder({info:e,id:s,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:d,symbol:t["symbol"],type:m,timeInForce:y,postOnly:b,side:l,price:n,stopPrice:v,amount:o,cost:void 0,average:a,filled:c,remaining:void 0,status:h,fee:p,trades:g})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetGetOrderState(this.extend(r,i)),n=this.safeValue(s,"result");return this.parseOrder(n)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),c={instrument_name:a["id"],amount:this.amountToPrecision(e,r),type:t};let d=!1,h=!1;if("limit"===t?d=!0:"stop_limit"===t&&(d=!0,h=!0),d){if(void 0===s)throw new o(this.id+" createOrder() requires a price argument for a "+t+" order");c["price"]=this.priceToPrecision(e,s)}if(h){const i=this.safeNumber2(n,"stop_price","stopPrice");if(void 0===i)throw new o(this.id+" createOrder() requires a stop_price or stopPrice param for a "+t+" order");c["stop_price"]=this.priceToPrecision(e,i),n=this.omit(n,["stop_price","stopPrice"])}const u="privateGet"+this.capitalize(i),l=await this[u](this.extend(c,n)),f=this.safeValue(l,"result",{}),p=this.safeValue(f,"order"),m=this.safeValue(f,"trades",[]);return p["trades"]=m,this.parseOrder(p,a)}async editOrder(e,t,i,r,s,n,a={}){if(void 0===s)throw new o(this.id+" editOrder() requires an amount argument");if(void 0===n)throw new o(this.id+" editOrder() requires a price argument");await this.loadMarkets();const c={order_id:e,amount:this.amountToPrecision(t,s),price:this.priceToPrecision(t,n)},d=await this.privateGetEdit(this.extend(c,a)),h=this.safeValue(d,"result",{}),u=this.safeValue(h,"order"),l=this.safeValue(h,"trades",[]);return u["trades"]=l,this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetCancel(this.extend(r,i)),n=this.safeValue(s,"result",{});return this.parseOrder(n)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;if(void 0===e)r="privateGetCancelAll";else{r="privateGetCancelAllByInstrument";const t=this.market(e);i["instrument_name"]=t["id"]}const s=await this[r](this.extend(i,t));return s}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0,a=void 0;if(void 0===e){const e=this.codeFromOptions("fetchOpenOrders"),t=this.currency(e);s["currency"]=t["id"],a="privateGetGetOpenOrdersByCurrency"}else n=this.market(e),s["instrument_name"]=n["id"],a="privateGetGetOpenOrdersByInstrument";const o=await this[a](this.extend(s,r)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,n,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0,a=void 0;if(void 0===e){const e=this.codeFromOptions("fetchClosedOrders"),t=this.currency(e);s["currency"]=t["id"],a="privateGetGetOrderHistoryByCurrency"}else n=this.market(e),s["instrument_name"]=n["id"],a="privateGetGetOrderHistoryByInstrument";const o=await this[a](this.extend(s,r)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,n,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n={order_id:e},a=await this.privateGetGetUserTradesByOrder(this.extend(n,s)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,void 0,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={include_old:!0};let n=void 0,a=void 0;if(void 0===e){const e=this.codeFromOptions("fetchMyTrades"),i=this.currency(e);s["currency"]=i["id"],void 0===t?a="privateGetGetUserTradesByCurrency":(a="privateGetGetUserTradesByCurrencyAndTime",s["start_timestamp"]=t)}else n=this.market(e),s["instrument_name"]=n["id"],void 0===t?a="privateGetGetUserTradesByInstrument":(a="privateGetGetUserTradesByInstrumentAndTime",s["start_timestamp"]=t);void 0!==i&&(s["count"]=i);const o=await this[a](this.extend(s,r)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,"trades",[]);return this.parseTrades(d,n,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={currency:s["id"]};void 0!==i&&(n["count"]=i);const a=await this.privateGetGetDeposits(this.extend(n,r)),c=this.safeValue(a,"result",{}),d=this.safeValue(c,"data",[]);return this.parseTransactions(d,s,t,i,r)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={currency:s["id"]};void 0!==i&&(n["count"]=i);const a=await this.privateGetGetWithdrawals(this.extend(n,r)),c=this.safeValue(a,"result",{}),d=this.safeValue(c,"data",[]);return this.parseTransactions(d,s,t,i,r)}parseTransactionStatus(e){const t={completed:"ok",unconfirmed:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t),s=this.safeInteger2(e,"created_timestamp","received_timestamp"),n=this.safeInteger(e,"updated_timestamp"),a=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address"),c=this.safeNumber(e,"fee");let d="deposit",h=void 0;return void 0!==c&&(d="withdrawal",h={cost:c,currency:r}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"transaction_id"),timestamp:s,datetime:this.iso8601(s),address:o,addressTo:o,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:d,amount:this.safeNumber(e,"amount"),currency:r,status:a,updated:n,fee:h}}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument_name:i["id"]},s=await this.privateGetGetPosition(this.extend(r,t)),n=this.safeValue(s,"result");return n}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.codeFromOptions("fetchPositions"),r=this.currency(i),s={currency:r["id"]},n=await this.privateGetGetPositions(this.extend(s,t)),a=this.safeValue(n,"result",[]);return a}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],address:i,amount:t};void 0!==this.twofa&&(a["tfa"]=this.oath());const o=await this.privateGetWithdraw(this.extend(a,s));return{info:o,id:this.safeString(o,"id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/api/"+this.version+"/"+t+"/"+e;if("public"===t&&Object.keys(r).length&&(a+="?"+this.urlencode(r)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.milliseconds().toString(),n="";Object.keys(r).length&&(a+="?"+this.urlencode(r));const o=i+"\n"+a+"\n"+n+"\n",c=t+"\n"+e+"\n"+o,d=this.hmac(this.encode(c),this.encode(this.secret),"sha256");s={Authorization:"deri-hmac-sha256 id="+this.apiKey+",ts="+t+",sig="+d+",nonce="+e}}const o=this.urls["api"]+a;return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(!o)return;const h=this.safeValue(o,"error");if(void 0!==h){const e=this.safeString(h,"code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new a(t)}}}},3408:function(e,t,i){},3410:function(e,t,i){var r=i("23e7"),s=i("d039"),n=i("7b0b"),a=i("e163"),o=i("e177"),c=s((function(){a(1)}));r({target:"Object",stat:!0,forced:c,sham:!o},{getPrototypeOf:function(e){return a(n(e))}})},"342f":function(e,t,i){var r=i("d066");e.exports=r("navigator","userAgent")||""},3494:function(e,t,i){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i("fe34"),n=r(i("3e8a")),a=i("efc3"),o=i("29b2"),c=i("7612"),d=i("f9ee"),h=i("7be7");function u(e,t){void 0===t&&(t=5e3);while(t--){var i=s.stringToBytes(e);e=c.base16Encode(d.sha256(i))}return e}function l(e,t,i){void 0===i&&(i=48);var r=s.bytesToString(a.concat(e,t),"raw"),o="",c=o;while(c.length<i)o=n.create().update(o+r).digest().getBytes(),c+=o;return c}t.encryptSeed=function(e,t,i){var r=u(t,i),n=h.randomBytes(8),d=l(s.stringToBytes(r,"raw"),n),f=s.stringToBytes(d.slice(0,32),"raw"),p=s.stringToBytes(d.slice(32),"raw"),m=o.aesEncrypt(s.stringToBytes(e),f,"CBC",p);return c.base64Encode(a.concat(s.stringToBytes("Salted__"),n,m))},t.decryptSeed=function(e,t,i){var r=u(t,i),n=c.base64Decode(e),a=n.slice(8,16),d=l(s.stringToBytes(r,"raw"),a),h=s.stringToBytes(d.slice(0,32),"raw"),f=s.stringToBytes(d.slice(32),"raw");return s.bytesToString(o.aesDecrypt(n.slice(16),h,"CBC",f))}},3570:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,ExchangeNotAvailable:a,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,DDoSProtection:h,InvalidNonce:u,AuthenticationError:l,BadRequest:f}=i("74b0"),{TICK_SIZE:p}=i("5ea4"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"currencycom",name:"Currency.com",countries:["BY"],rateLimit:500,certified:!0,pro:!0,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTradingFees:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83718672-36745c00-a63e-11ea-81a9-677b1f789a4d.jpg",api:{public:"https://api-adapter.backend.currency.com/api",private:"https://api-adapter.backend.currency.com/api"},www:"https://www.currency.com",referral:"https://currency.com/trading/signup?c=362jaimv&pid=referral",doc:["https://currency.com/api"],fees:"https://currency.com/fees-charges"},api:{public:{get:["time","exchangeInfo","depth","aggTrades","klines","ticker/24hr"]},private:{get:["leverageSettings","openOrders","tradingPositions","account","myTrades"],post:["order","updateTradingPosition","updateTradingOrder","closeTradingPosition"],delete:["order"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:.002,maker:.002}},precisionMode:p,options:{defaultTimeInForce:"GTC",warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT",stop:"RESULT"}},exceptions:{broad:{"FIELD_VALIDATION_ERROR Cancel is available only for LIMIT order":d,"API key does not exist":l,"Order would trigger immediately.":d,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":a},exact:{"-1000":a,"-1013":d,"-1021":u,"-1022":l,"-1100":d,"-1104":s,"-1025":l,"-1128":f,"-2010":s,"-2011":c,"-2013":c,"-2014":l,"-2015":l}},commonCurrencies:{BNS:"Bank of Nova Scotia",EDU:"New Oriental Education & Technology Group Inc",ETN:"Eaton",IQ:"iQIYI",PLAY:"Dave & Buster's Entertainment"}})}nonce(){return this.milliseconds()-this.options["timeDifference"]}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}async loadTimeDifference(e={}){const t=await this.publicGetTime(e),i=this.milliseconds();return this.options["timeDifference"]=parseInt(i-t["serverTime"]),this.options["timeDifference"]}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e);this.options["adjustForTimeDifference"]&&await this.loadTimeDifference();const i=this.safeValue(t,"symbols"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=this.safeString(e,"baseAsset"),a=this.safeString(e,"quoteAsset"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a);let d=o+"/"+c;t.indexOf("/")>=0&&(d=t);const h=this.safeValue(e,"filters",[]),u=this.indexBy(h,"filterType"),l={amount:1/Math.pow(1,this.safeInteger(e,"baseAssetPrecision")),price:this.safeNumber(e,"tickSize")},f=this.safeString(e,"status"),p="TRADING"===f;let m=this.safeStringLower(e,"marketType");"leverage"===m&&(m="margin");const g="spot"===m,y="margin"===m,v={id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,type:m,spot:g,margin:y,info:e,active:p,precision:l,limits:{amount:{min:Math.pow(10,-l["amount"]),max:void 0},price:{min:void 0,max:void 0},cost:{min:-Math.log10(l["amount"]),max:void 0}}},b=this.safeNumber2(e,"exchangeFee","tradingFee"),w=this.safeNumber(e,"makerFee",b),S=this.safeNumber(e,"takerFee",b);if(void 0!==w&&(v["maker"]=w/100),void 0!==S&&(v["taker"]=S/100),"PRICE_FILTER"in u){const e=this.safeValue(u,"PRICE_FILTER",{});v["precision"]["price"]=this.safeNumber(e,"tickSize"),v["limits"]["price"]={min:this.safeNumber(e,"minPrice"),max:void 0};const t=this.safeNumber(e,"maxPrice");void 0!==t&&t>0&&(v["limits"]["price"]["max"]=t)}if("LOT_SIZE"in u){const e=this.safeValue(u,"LOT_SIZE",{});v["precision"]["amount"]=this.safeNumber(e,"stepSize"),v["limits"]["amount"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MARKET_LOT_SIZE"in u){const e=this.safeValue(u,"MARKET_LOT_SIZE",{});v["limits"]["market"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MIN_NOTIONAL"in u){const e=this.safeValue(u,"MIN_NOTIONAL",{});v["limits"]["cost"]["min"]=this.safeNumber(e,"minNotional")}r.push(v)}return r}async fetchAccounts(e={}){const t=await this.privateGetAccount(e),i=this.safeValue(t,"balances",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],n=this.safeInteger(e,"accountId"),a=this.safeString(e,"asset"),o=this.safeCurrencyCode(a);r.push({id:n,type:void 0,currency:o,info:t})}return r}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e);return{info:t,maker:this.safeNumber(t,"makerCommission"),taker:this.safeNumber(t,"takerCommission")}}parseBalanceResponse(e){const t={info:e},i=this.safeValue(e,"balances",[]);for(let r=0;r<i.length;r++){const e=i[r],s=this.safeString(e,"asset"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"free"),a["used"]=this.safeString(e,"locked"),t[n]=a}return this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e);return this.parseBalanceResponse(t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetDepth(this.extend(s,i)),a=this.parseOrderBook(n,e);return a["nonce"]=this.safeInteger(n,"lastUpdateId"),a}parseTicker(e,t){const i=this.safeInteger(e,"closeTime"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"lastPrice"),a=this.safeNumber(e,"openPrice");let o=void 0;return void 0!==a&&void 0!==n&&(o=this.sum(a,n)/2),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:this.safeNumber(e,"weightedAvgPrice"),open:a,close:n,last:n,previousClose:this.safeNumber(e,"prevClosePrice"),change:this.safeNumber(e,"priceChange"),percentage:this.safeNumber(e,"priceChangePercent"),average:o,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTicker24hr(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24hr(t);return this.parseTickers(i,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],interval:this.timeframes[t]};void 0!==i&&(a["startTime"]=i),void 0!==r&&(a["limit"]=r);const o=await this.publicGetKlines(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}parseTrade(e,t){const i=this.safeInteger2(e,"T","time"),r=this.safeString2(e,"p","price"),s=this.safeString2(e,"q","qty"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(m.stringMul(r,s)),c=this.safeString2(e,"a","id");let d=void 0;const h=this.safeString(e,"orderId");"m"in e?d=e["m"]?"sell":"buy":"isBuyerMaker"in e?d=e["isBuyerMaker"]?"sell":"buy":"isBuyer"in e&&(d=e["isBuyer"]?"buy":"sell");let u=void 0;"commission"in e&&(u={cost:this.safeNumber(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});let l=void 0;"isMaker"in e&&(l=e["isMaker"]?"maker":"taker");const f=this.safeString(e,"symbol"),p=this.safeSymbol(f,t);return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,id:c,order:h,type:void 0,takerOrMaker:l,side:d,price:n,amount:a,cost:o,fee:u}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetAggTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOrderStatus(e){const t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"/");let n=void 0;"time"in e?n=this.safeInteger(e,"time"):"transactTime"in e&&(n=this.safeInteger(e,"transactTime"));const a=this.safeNumber(e,"price"),o=this.safeNumber(e,"origQty"),c=this.safeNumber(e,"executedQty"),d=void 0,h=this.safeNumber(e,"cummulativeQuoteQty"),u=this.safeString(e,"orderId"),l=this.safeStringLower(e,"type"),f=this.safeStringLower(e,"side");let p=void 0;const m=this.safeValue(e,"fills");void 0!==m&&(p=this.parseTrades(m,t));const g=this.safeString(e,"timeInForce");return this.safeOrder({info:e,id:u,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:l,timeInForce:g,side:f,price:a,stopPrice:void 0,amount:o,cost:h,average:void 0,filled:c,remaining:d,status:i,fee:void 0,trades:p})}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e);let c=void 0;if(o["margin"]&&(c=this.safeInteger(a,"accountId"),void 0===c))throw new n(this.id+" createOrder() requires an accountId parameter for "+o["type"]+" market "+e);const d=t.toUpperCase(),h=this.safeValue(this.options["newOrderRespType"],t,"RESULT"),u={symbol:o["id"],quantity:this.amountToPrecision(e,r),type:d,side:i.toUpperCase(),newOrderRespType:h};"LIMIT"===d?(u["price"]=this.priceToPrecision(e,s),u["timeInForce"]=this.options["defaultTimeInForce"]):"STOP"===d&&(u["price"]=this.priceToPrecision(e,s));const l=await this.privatePostOrder(this.extend(u,a));return this.parseOrder(l,o)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let n=void 0;const a={};if(void 0!==e)n=this.market(e),a["symbol"]=n["id"];else if(this.options["warnOnFetchOpenOrdersWithoutSymbol"]){const e=this.symbols,t=e.length,i=parseInt(t/2);throw new s(this.id+" fetchOpenOrders() WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+i.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}const o=await this.privateGetOpenOrders(this.extend(a,r));return this.parseOrders(o,n,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeValue(i,"origClientOrderId"),a={symbol:r["id"]};void 0===s?a["orderId"]=e:a["origClientOrderId"]=s;const o=await this.privateDeleteOrder(this.extend(a,i));return this.parseOrder(o,r)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s["id"]};void 0!==i&&(a["limit"]=i);const o=await this.privateGetMyTrades(this.extend(a,r));return this.parseTrades(o,s,t,i)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.version+"/"+e;if("historicalTrades"===e&&(s={"X-MBX-APIKEY":this.apiKey}),"private"===t){this.checkRequiredCredentials();let e=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options["recvWindow"]},r));const t=this.hmac(this.encode(e),this.encode(this.secret));e+="&signature="+t,s={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i?a+="?"+e:(n=e,s["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(r).length&&(a+="?"+this.urlencode(r));return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+a);if(e>=400){if(a.indexOf("Price * QTY is zero or less")>=0)throw new d(this.id+" order cost = amount * price is zero or less "+a);if(a.indexOf("LOT_SIZE")>=0)throw new d(this.id+" order amount should be evenly divisible by lot size "+a);if(a.indexOf("PRICE_FILTER")>=0)throw new d(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+a)}if(void 0===o)return;const l=this.safeString(o,"code");if(void 0!==l&&"0"!==l){const e=this.id+" "+this.json(o);this.throwExactlyMatchedException(this.exceptions["exact"],l,e);const t=this.safeString(o,"msg");throw this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new s(e)}}}},"35a1":function(e,t,i){var r=i("f5df"),s=i("3f8c"),n=i("b622"),a=n("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||s[r(e)]}},"35d5":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,InvalidNonce:a,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d,PermissionDenied:h}=i("74b0"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbank",name:"bitbank",countries:["JP"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},hostname:"bitbank.cc",urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.{hostname}",private:"https://api.{hostname}",markets:"https://api.{hostname}"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]},markets:{get:["spot/pairs"]}},exceptions:{20001:n,20002:n,20003:n,20005:n,20004:a,40020:c,40021:c,40025:s,40013:d,40014:d,50008:h,50009:d,50010:d,60001:o,60005:c}})}async fetchMarkets(e={}){const t=await this.marketsGetSpotPairs(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"pairs",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"name"),i=this.safeString(e,"base_asset"),a=this.safeString(e,"quote_asset"),o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeNumber(e,"maker_fee_rate_quote"),l=this.safeNumber(e,"taker_fee_rate_quote"),f=this.safeString(e,"price_digits"),p=this.parsePrecision(f),m={price:parseInt(f),amount:this.safeInteger(e,"amount_digits")},g=this.safeValue(e,"is_enabled"),y=this.safeString(e,"unit_amount"),v=u.stringMul(y,p),b={amount:{min:this.safeNumber(e,"unit_amount"),max:this.safeNumber(e,"limit_max_amount")},price:{min:this.parseNumber(p),max:void 0},cost:{min:this.parseNumber(v),max:void 0}};s.push({info:e,id:t,symbol:d,baseId:i,quoteId:a,base:o,quote:c,precision:m,limits:b,active:g,maker:h,taker:l})}return s}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const r=this.safeInteger(e,"timestamp"),s=this.safeNumber(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},s=await this.publicGetPairTicker(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetPairDepth(this.extend(r,i)),n=this.safeValue(s,"data",{}),a=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,e,a)}parseTrade(e,t){const i=this.safeInteger(e,"executed_at");let r=void 0,s=void 0;void 0!==t&&(r=t["symbol"],s=t["quote"]);const n=this.safeString(e,"price"),a=this.safeString(e,"amount"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(u.stringMul(n,a)),h=this.safeString2(e,"transaction_id","trade_id"),l=this.safeString(e,"maker_taker");let f=void 0;const p=this.safeNumber(e,"fee_amount_quote");void 0!==p&&(f={currency:s,cost:p});const m=this.safeString(e,"order_id"),g=this.safeString(e,"type"),y=this.safeString(e,"side");return{timestamp:i,datetime:this.iso8601(i),symbol:r,id:h,order:m,type:g,side:y,takerOrMaker:l,price:o,amount:c,cost:d,fee:f,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]},a=await this.publicGetPairTransactions(this.extend(n,r)),o=this.safeValue(a,"data",{}),c=this.safeValue(o,"transactions",[]);return this.parseTrades(c,s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,5),this.safeNumber(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4)]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e);let a=this.milliseconds();a=this.ymd(a),a=a.split("-");const o={pair:n["id"],candletype:this.timeframes[t],yyyymmdd:a.join("")},c=await this.publicGetPairCandlestickCandletypeYyyymmdd(this.extend(o,s)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"candlestick",[]),u=this.safeValue(h,0,{}),l=this.safeValue(u,"ohlcv",[]);return this.parseOHLCVs(l,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAssets(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data",{}),s=this.safeValue(r,"assets",[]);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"asset"),r=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"free_amount"),a["used"]=this.safeString(e,"locked_amount"),a["total"]=this.safeString(e,"onhand_amount"),i[r]=a}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={UNFILLED:"open",PARTIALLY_FILLED:"open",FULLY_FILLED:"closed",CANCELED_UNFILLED:"canceled",CANCELED_PARTIALLY_FILLED:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeString(e,"pair");let s=void 0;r&&!t&&r in this.markets_by_id&&(t=this.markets_by_id[r]),void 0!==t&&(s=t["symbol"]);const n=this.safeInteger(e,"ordered_at"),a=this.safeNumber(e,"price"),o=this.safeNumber(e,"start_amount"),c=this.safeNumber(e,"executed_amount"),d=this.safeNumber(e,"remaining_amount"),h=this.safeNumber(e,"average_price"),u=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeStringLower(e,"type"),f=this.safeStringLower(e,"side");return this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:u,symbol:s,type:l,timeInForce:void 0,postOnly:void 0,side:f,price:a,stopPrice:void 0,cost:void 0,average:h,amount:o,filled:c,remaining:d,trades:void 0,fee:void 0,info:e})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e);if(void 0===s)throw new c(this.id+" createOrder() requires a price argument for both market and limit orders");const o={pair:a["id"],amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s),side:i,type:t},d=await this.privatePostUserSpotOrder(this.extend(o,n)),h=this.safeValue(d,"data");return this.parseOrder(h,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={order_id:e,pair:r["id"]},n=await this.privatePostUserSpotCancelOrder(this.extend(s,i)),a=this.safeValue(n,"data");return a}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={order_id:e,pair:r["id"]},n=await this.privateGetUserSpotOrder(this.extend(s,i)),a=this.safeValue(n,"data");return this.parseOrder(a,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==i&&(n["count"]=i),void 0!==t&&(n["since"]=parseInt(t/1e3));const a=await this.privateGetUserSpotActiveOrders(this.extend(n,r)),o=this.safeValue(a,"data",{}),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n={};void 0!==s&&(n["pair"]=s["id"]),void 0!==i&&(n["count"]=i),void 0!==t&&(n["since"]=parseInt(t/1e3));const a=await this.privateGetUserSpotTradeHistory(this.extend(n,r)),o=this.safeValue(a,"data",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={asset:i["id"]},s=await this.privateGetUserWithdrawalAccount(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"accounts",[]),o=this.safeValue(a,0,{}),c=this.safeString(o,"address");return{currency:i,address:c,tag:void 0,info:s}}async withdraw(e,t,i,r,n={}){if(!("uuid"in n))throw new s(this.id+" uuid is required for withdrawal");await this.loadMarkets();const a=this.currency(e),o={asset:a["id"],amount:t},c=await this.privatePostUserRequestWithdrawal(this.extend(o,n)),d=this.safeValue(c,"data",{}),h=this.safeString(d,"txid");return{info:c,id:h}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.omit(r,this.extractParams(e)),o=this.implodeHostname(this.urls["api"][t])+"/";if("public"===t||"markets"===t)o+=this.implodeParams(e,r),Object.keys(a).length&&(o+="?"+this.urlencode(a));else{this.checkRequiredCredentials();const t=this.nonce().toString();let c=t;o+=this.version+"/"+this.implodeParams(e,r),"POST"===i?(n=this.json(a),c+=n):(c+="/"+this.version+"/"+e,Object.keys(a).length&&(a=this.urlencode(a),o+="?"+a,c+="?"+a)),s={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":t,"ACCESS-SIGNATURE":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:o,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a),c=this.safeInteger(o,"success"),d=this.safeValue(o,"data");if(!c||!d){const e={1e4:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed ",70009:"We are currently temporarily restricting orders to be carried out. Please use the limit order.",70010:"We are temporarily raising the minimum order quantity as the system load is now rising."},t=this.exceptions,i=this.safeString(d,"code"),r=this.safeString(e,i,"Error"),n=this.safeValue(t,i);throw void 0!==n?new n(r):new s(this.id+" "+this.json(o))}return o}}},"35e8":function(e,t,i){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},3609:function(e,t,i){var r=i("5259");i("f484"),i("46e8"),i("4e30"),i("6497"),function(){r.random&&r.random.getBytes?e.exports=r.random:function(t){var i={},s=new Array(4),n=r.util.createBuffer();function a(){var e=r.prng.create(i);return e.getBytes=function(t,i){return e.generate(t,i)},e.getBytesSync=function(t){return e.generate(t)},e}i.formatKey=function(e){var t=r.util.createBuffer(e);return e=new Array(4),e[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),r.aes._expandKey(e,!1)},i.formatSeed=function(e){var t=r.util.createBuffer(e);return e=new Array(4),e[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},i.cipher=function(e,t){return r.aes._updateBlock(e,t,s,!1),n.putInt32(s[0]),n.putInt32(s[1]),n.putInt32(s[2]),n.putInt32(s[3]),n.getBytes()},i.increment=function(e){return++e[3],e},i.md=r.md.sha256;var o=a(),c=null,d=r.util.globalScope,h=d.crypto||d.msCrypto;if(h&&h.getRandomValues&&(c=function(e){return h.getRandomValues(e)}),r.options.usePureJavaScript||!r.util.isNodejs&&!c){if("undefined"===typeof window||window.document,o.collectInt(+new Date,32),"undefined"!==typeof navigator){var u="";for(var l in navigator)try{"string"==typeof navigator[l]&&(u+=navigator[l])}catch(f){}o.collect(u),u=null}t&&(t().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),t().keypress((function(e){o.collectInt(e.charCode,8)})))}if(r.random)for(var l in o)r.random[l]=o[l];else r.random=o;r.random.createInstance=a,e.exports=r.random}("undefined"!==typeof jQuery?jQuery:null)}()},"367a":function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?s(e.value):new i((function(t){t(e.value)})).then(a,o)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},a=this;Object.defineProperty(t,"__esModule",{value:!0});var o=n(i("b76b")),c=n(i("c7e6")),d=n(i("3e8a")),h=n(i("6497")),u=i("7612"),l=i("fe34"),f=n(i("1c55"));o.oids["sha224"]="2.16.840.1.101.3.4.2.4",o.oids["2.16.840.1.101.3.4.2.4"]="sha224",o.oids["sha3-224"]="2.16.840.1.101.3.4.2.7",o.oids["2.16.840.1.101.3.4.2.7"]="sha3-224",o.oids["sha3-256"]="2.16.840.1.101.3.4.2.8",o.oids["2.16.840.1.101.3.4.2.8"]="sha3-256",o.oids["sha3-384"]="2.16.840.1.101.3.4.2.9",o.oids["2.16.840.1.101.3.4.2.9"]="sha3-384",o.oids["sha3-512"]="2.16.840.1.101.3.4.2.10",o.oids["2.16.840.1.101.3.4.2.10"]="sha3-512",t.pemToBytes=function(e){return u.base64Decode(e.trim().split(/\r\n|\n/).slice(1,-1).join("").trim())};var p={rsaPrivateNonEncrypted:"RSA PRIVATE KEY",rsaPublic:"PUBLIC KEY"};t.bytesToPem=function(e,t){var i="-----BEGIN "+p[t]+"-----\n",r="-----END "+p[t]+"-----\n",s=u.base64Encode(e);s.length%64!==0&&(s+=" ".repeat(64-s.length%64));for(var n=i,a=0;a<s.length/64;a++)n+=s.slice(64*a,64*(a+1))+"\n";return n+=r,n},t.rsaKeyPairSync=function(e,i){var r=o.rsa.generateKeyPair(e,i);return{rsaPrivate:t.pemToBytes(o.privateKeyToPem(r.privateKey)),rsaPublic:t.pemToBytes(o.publicKeyToPem(r.publicKey))}},t.rsaKeyPair=function(e,i){return r(a,void 0,void 0,(function(){return s(this,(function(r){return[2,new Promise((function(r,s){o.rsa.generateKeyPair(e,i,(function(e,i){e&&s(e),r({rsaPrivate:t.pemToBytes(o.privateKeyToPem(i.privateKey)),rsaPublic:t.pemToBytes(o.publicKeyToPem(i.publicKey))})}))}))]}))}))};var m=function(e){return function(){throw new Error("Digest "+e+" is unsupported")}},g=function(){function e(e,t){this.sha3Digest=e,this.algorithm=t}return e.makeCreator=function(t,i){return{create:function(){return new e(t.create(),i)}}},e.prototype.update=function(e,t){return this.sha3Digest.update(l.stringToBytes(e,null==t?"raw":t)),this},e.prototype.digest=function(){var e=Uint8Array.from(this.sha3Digest.digest());return h.createBuffer(l.bytesToString(e,"raw"))},e}(),y={MD5:d,SHA1:c.algorithms.sha1,SHA224:m("SHA224"),SHA256:c.algorithms.sha256,SHA384:c.algorithms.sha384,SHA512:c.algorithms.sha512,"SHA3-224":g.makeCreator(f.sha3_224,"sha3-224"),"SHA3-256":g.makeCreator(f.sha3_256,"sha3-256"),"SHA3-384":g.makeCreator(f.sha3_384,"sha3-384"),"SHA3-512":g.makeCreator(f.sha3_512,"sha3-512")};t.rsaSign=function(e,i,r){void 0===r&&(r="SHA256");var s=t.bytesToPem(e,"rsaPrivateNonEncrypted"),n=o.privateKeyFromPem(s),a=y[r].create();return a.update(l.bytesToString(i,"raw")),l.stringToBytes(n.sign(a),"raw")},t.rsaVerify=function(e,i,r,s){void 0===s&&(s="SHA256");var n=o.publicKeyFromPem(t.bytesToPem(e,"rsaPublic")),a=y[s].create();return a.update(l.bytesToString(i),"raw"),n.verify(a.digest().getBytes(),l.bytesToString(r,"raw"))}},"368e":function(e,t,i){},"36a7":function(e,t,i){},"37e8":function(e,t,i){var r=i("83ab"),s=i("9bf2"),n=i("825a"),a=i("df75");e.exports=r?Object.defineProperties:function(e,t){n(e);var i,r=a(t),o=r.length,c=0;while(o>c)s.f(e,i=r[c++],t[i]);return e}},"381b":function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(i("a4b3")),n=i("abf9"),a=i("7d18"),o=i("02cf"),c=i("7be7");t.signBytes=function(e,t,i){return s.default.sign(n._fromIn(a.isPrivateKey(e)?e.privateKey:o.privateKey(e)),n._fromIn(t),n._fromIn(i||c.randomBytes(64)))}},3835:function(e,t,i){"use strict";function r(e){if(Array.isArray(e))return e}i.d(t,"a",(function(){return o}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function s(e,t){var i=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,s,n=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(r=i.next()).done);a=!0)if(n.push(r.value),t&&n.length===t)break}catch(c){o=!0,s=c}finally{try{a||null==i["return"]||i["return"]()}finally{if(o)throw s}}return n}}var n=i("06c5");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){return r(e)||s(e,t)||Object(n["a"])(e,t)||a()}},"387f":function(e,t,i){"use strict";e.exports=function(e,t,i,r,s){return e.config=t,i&&(e.code=i),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"38cb":function(e,t,i){"use strict";var r=i("53ca"),s=(i("a9e3"),i("fb6a"),i("a9ad")),n=i("7560"),a=i("3206"),o=i("80d2"),c=i("d9bd"),d=i("58df"),h=Object(d["a"])(s["a"],Object(a["a"])("form"),n["a"]);t["a"]=h.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor:function(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError:function(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess:function(){return this.internalSuccessMessages.length>0||this.success},externalError:function(){return this.internalErrorMessages.length>0||this.error},hasMessages:function(){return this.validationTarget.length>0},hasState:function(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("input",e)}},isDisabled:function(){return this.disabled||!!this.form&&this.form.disabled},isInteractive:function(){return!this.isDisabled&&!this.isReadonly},isReadonly:function(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState:function(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget:function(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(e,t){Object(o["j"])(e,t)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(e){e||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting:function(){var e=this;setTimeout((function(){e.hasInput=!1,e.hasFocused=!1,e.isResetting=!1,e.validate()}),0)},hasError:function(e){this.shouldValidate&&this.$emit("update:error",e)},value:function(e){this.lazyValue=e}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(e){return e?Array.isArray(e)?e:[e]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation:function(){this.isResetting=!0},validate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,i=[];t=t||this.internalValue,e&&(this.hasInput=this.hasFocused=!0);for(var s=0;s<this.rules.length;s++){var n=this.rules[s],a="function"===typeof n?n(t):n;!1===a||"string"===typeof a?i.push(a||""):"boolean"!==typeof a&&Object(c["b"])("Rules should return a string or boolean, received '".concat(Object(r["a"])(a),"' instead"),this)}return this.errorBucket=i,this.valid=0===i.length,this.valid}}})},"38cf":function(e,t,i){var r=i("23e7"),s=i("1148");r({target:"String",proto:!0},{repeat:s})},"38e4":function(e,t,i){i("4ab0")._;e.exports={pkcs1:i("bf9c"),pkcs8:i("1d47"),components:i("4510"),detectAndImport:function(t,i,r){if(void 0===r){for(var s in e.exports)if("function"===typeof e.exports[s].autoImport&&e.exports[s].autoImport(t,i))return!0}else if(r){var n=formatParse(r);if(!e.exports[n.scheme])throw Error("Unsupported key format");"private"===n.keyType?e.exports[n.scheme].privateImport(t,i,n.keyOpt):e.exports[n.scheme].publicImport(t,i,n.keyOpt)}return!1}}},3924:function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,ArgumentsRequired:a,InvalidAddress:o,OrderNotFound:c,NotSupported:d,DDoSProtection:h,InsufficientFunds:u,InvalidOrder:l}=i("74b0"),f=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gateio",name:"Gate.io",countries:["CN"],version:"2",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0,fetchFundingFees:!0},timeframes:{"1m":60,"5m":300,"10m":600,"15m":900,"30m":1800,"1h":3600,"2h":7200,"4h":14400,"6h":21600,"12h":43200,"1d":86400,"1w":604800},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"],referral:"https://www.gate.io/signup/2436035"},api:{public:{get:["candlestick2/{id}","pairs","coininfo","marketinfo","marketlist","coininfo","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","feelist","withdraw","get_sub_account_available","sub_account_transfer"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{4:h,5:s,6:s,7:d,8:d,9:d,15:h,16:c,17:c,20:l,21:u},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"}},options:{limits:{cost:{min:{BTC:"0.0001",ETH:"0.001",USDT:"1"}}}},commonCurrencies:{"88MPH":"MPH",BIFI:"Bitcoin File",BOX:"DefiBox",BTCBEAR:"BEAR",BTCBULL:"BULL",BYN:"Beyond Finance",GTC:"Game.com",GTC_HT:"Game.com HT",GTC_BSC:"Game.com BSC",HIT:"HitChain",MPH:"Morpher",RAI:"Rai Reflex Index",SBTC:"Super Bitcoin",TNC:"Trinity Network Credit",VAI:"VAIOT"}})}async fetchCurrencies(e={}){const t=await this.publicGetCoininfo(e),i=this.safeValue(t,"coins");if(!i)throw new n(this.id+" fetchCurrencies got an unrecognized response");const r={};for(let s=0;s<i.length;s++){const e=i[s],t=Object.keys(e);for(let i=0;i<t.length;i++){const s=t[i],n=e[s],a=this.safeCurrencyCode(s),o=this.safeValue(n,"delisted",0),c=this.safeInteger2(n,"withdraw_disabled",0),d=this.safeInteger2(n,"deposit_disabled",0),h=this.safeInteger2(n,"trade_disabled",0),u=0===o,l=0===c,f=0===d,p=0===h,m=u&&l&&f&&p;r[a]={id:s,code:a,active:m,info:n,name:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}}return r}async fetchMarkets(e={}){const t=await this.publicGetMarketinfo(e),i=this.safeValue(t,"pairs");if(!i)throw new n(this.id+" fetchMarkets got an unrecognized response");const r=[];for(let s=0;s<i.length;s++){const e=i[s],t=Object.keys(e),n=this.safeString(t,0),a=e[n],o=n.split("_"),c=o.length;let d=o[0],h=o[1];c>2&&(d=o[0]+"_"+o[1],h=o[2]);const u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),p=u+"/"+l,m=this.safeString(a,"decimal_places"),g=this.parsePrecision(m),y={amount:this.safeInteger(a,"amount_decimal_places"),price:parseInt(m)},v=this.safeString(a,"min_amount"),b={min:this.parseNumber(v),max:void 0},w={min:this.parseNumber(g),max:void 0},S=this.parseNumber(f.stringMul(v,g)),k=this.safeNumber(this.options["limits"]["cost"]["min"],l,S),_={min:k,max:void 0},O={amount:b,price:w,cost:_},T=this.safeInteger(a,"trade_disabled"),C=!T,I=n.toUpperCase(),x=this.safeString(a,"fee"),E=f.stringDiv(x,"100");r.push({id:n,uppercaseId:I,symbol:p,base:u,quote:l,baseId:d,quoteId:h,info:e,active:C,maker:this.parseNumber(E),taker:this.parseNumber(E),precision:y,limits:O})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i={info:t};let r=this.safeValue(t,"available",{});Array.isArray(r)&&(r={});const s=this.safeValue(t,"locked",{}),n=Object.keys(r);for(let a=0;a<n.length;a++){const e=n[a],t=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(r,e),o["used"]=this.safeString(s,e),i[t]=o}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetOrderBookId(this.extend(r,i));return this.parseOrderBook(s,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,5),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,1)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={id:n["id"],group_sec:this.timeframes[t]},o=await this.publicGetCandlestick2Id(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t["symbol"]);const s=this.safeNumber(e,"last"),n=this.safeNumber(e,"percentChange");let a=void 0,o=void 0,c=void 0;if(void 0!==s&&void 0!==n){const e=n/100;a=s/this.sum(1,e),o=s-a,c=this.sum(s,a)/2}return a=this.safeNumber(e,"open",a),o=this.safeNumber(e,"change",o),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high24hr","high"),low:this.safeNumber2(e,"low24hr","low"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:a,close:s,last:s,previousClose:void 0,change:o,percentage:n,average:c,baseVolume:this.safeNumber(e,"quoteVolume"),quoteVolume:this.safeNumber(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeMarket(e,void 0,"_"),a=t["symbol"];r[a]=this.parseTicker(i[e],t)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetTickerId(this.extend({id:i["id"]},t));return this.parseTicker(r,i)}parseTrade(e,t){let i=this.safeTimestamp2(e,"timestamp","time_unix");i=this.safeTimestamp(e,"time",i);const r=this.safeString2(e,"tradeID","id"),s=this.safeString2(e,"orderid","orderNumber"),n=this.safeString2(e,"rate","price"),a=this.safeString(e,"amount"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(f.stringMul(n,a)),h=this.safeString(e,"type"),u=this.safeString(e,"role");let l=void 0;void 0!==t&&(l=t["symbol"]);let p=void 0,m=this.safeCurrencyCode(this.safeString(e,"fee_coin")),g=this.safeNumber(e,"point_fee");return void 0===g||0===g?(g=this.safeNumber(e,"gt_fee"),void 0===g||0===g?g=this.safeNumber(e,"fee"):m=this.safeCurrencyCode("GT")):m=this.safeCurrencyCode("POINT"),void 0!==g&&(p={cost:g,currency:m}),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,order:s,type:void 0,side:h,takerOrMaker:u,price:o,amount:c,cost:d,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={id:s["id"]};let a=void 0;a="tid"in r?"publicGetTradeHistoryIdTid":"publicGetTradeHistoryId";const o=await this[a](this.extend(n,r));return this.parseTrades(o["data"],s,t,i)}async fetchOrders(e,t,i,r={}){const s=await this.privatePostOpenOrders(r);return this.parseOrders(s["orders"],void 0,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderNumber:e,currencyPair:this.marketId(t)},s=await this.privatePostGetOrder(this.extend(r,i));return this.parseOrder(s["order"])}parseOrderStatus(e){const t={cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString2(e,"orderNumber","id"),r=this.safeString(e,"currencyPair"),s=this.safeSymbol(r,t,"_"),n=this.safeTimestamp2(e,"timestamp","ctime"),a=this.safeTimestamp(e,"mtime"),o=this.parseOrderStatus(this.safeString(e,"status"));let c=this.safeString(e,"type");"1"===c?c="sell":"2"===c&&(c="buy");const d=this.safeNumber2(e,"initialRate","rate"),h=this.safeNumber(e,"filledRate"),u=this.safeNumber2(e,"initialAmount","amount"),l=this.safeNumber(e,"filledAmount"),f=this.safeNumber2(e,"leftAmount","left"),p=this.safeNumber(e,"feeValue"),m=this.safeString(e,"feeCurrency"),g=this.safeCurrencyCode(m);let y=this.safeNumber(e,"feePercentage");return void 0!==y&&(y/=100),this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:a,status:o,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:c,price:d,stopPrice:void 0,cost:void 0,amount:u,filled:l,remaining:f,average:h,trades:void 0,fee:{cost:p,currency:g,rate:y},info:e})}async createOrder(e,t,i,r,s,a={}){if("market"===t)throw new n(this.id+" allows limit orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e),d={currencyPair:c["id"],rate:s,amount:r},h=await this[o](this.extend(d,a));return this.parseOrder(this.extend({status:"open",type:i,initialAmount:r},h),c)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires symbol argument");await this.loadMarkets();const r={orderNumber:e,currencyPair:this.marketId(t)};return await this.privatePostCancelOrder(this.extend(r,i))}async queryDepositAddress(e,t,i={}){await this.loadMarkets();const r=this.currency(t);e="privatePost"+e+"Address";const s={currency:r["id"]},n=await this[e](this.extend(s,i));let a=this.safeString(n,"addr"),c=void 0;if(void 0!==a&&a.indexOf("address")>=0)throw new o(this.id+" queryDepositAddress "+a);if("XRP"===t||"HBAR"===t||"STEEM"===t||"XLM"===t||"EOS"===t){const e=a.split(" ");a=e[0],c=e[1]}return{currency:t,address:a,tag:c,info:n}}async createDepositAddress(e,t={}){return await this.queryDepositAddress("New",e,t)}async fetchDepositAddress(e,t={}){return await this.queryDepositAddress("Deposit",e,t)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n=await this.privatePostOpenOrders(r);return this.parseOrders(n["orders"],s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={currencyPair:n["id"],orderNumber:e},c=await this.privatePostTradeHistory(this.extend(o,s));return this.parseTrades(c["trades"],n,i,r)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires symbol argument");await this.loadMarkets();const s=this.market(e),n={currencyPair:s["id"]},o=await this.privatePostTradeHistory(this.extend(n,r));return this.parseTrades(o["trades"],s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],amount:t,address:i};void 0!==r&&(a["address"]+=" "+r);const o=await this.privatePostWithdraw(this.extend(a,s));return{info:o,id:this.safeString(o,"withdrawid")}}async fetchTransactionsByType(e,t,i,r,s={}){await this.loadMarkets();const n={};void 0!==i&&(n["start"]=i);const a=await this.privatePostDepositsWithdrawals(this.extend(n,s));let o=void 0;if(void 0===e){const e=this.safeValue(a,"deposits",[]),t=this.safeValue(a,"withdraws",[]);o=this.arrayConcat(e,t)}else o=this.safeValue(a,e,[]);let c=void 0;return void 0!==t&&(c=this.currency(t)),this.parseTransactions(o,c,i,r)}async fetchTransactions(e,t,i,r={}){return await this.fetchTransactionsByType(void 0,e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposits",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdraws",e,t,i,r)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t),s=this.safeString(e,"id"),n=this.safeString(e,"txid");let a=this.safeNumber(e,"amount"),o=this.safeString(e,"address");"false"===o&&(o=void 0);const c=this.safeTimestamp(e,"timestamp"),d=this.parseTransactionStatus(this.safeString(e,"status")),h=this.parseTransactionType(s[0]),u=this.safeNumber(e,"fee");let l=void 0;return void 0!==u&&(l={currency:r,cost:u},void 0!==a&&(a-=u)),{info:e,id:s,txid:n,currency:r,amount:a,address:o,tag:void 0,status:d,type:h,timestamp:c,datetime:this.iso8601(c),fee:l}}parseTransactionStatus(e){const t={PEND:"pending",REQUEST:"pending",DMOVE:"pending",CANCEL:"failed",DONE:"ok"};return this.safeString(t,e,e)}parseTransactionType(e){const t={d:"deposit",w:"withdrawal"};return this.safeString(t,e,e)}handleErrors(e,t,i,r,s,n,a,o,c){if(void 0===a)return;const d=this.safeString(a,"result","");if("false"!==d)return;const h=this.safeString(a,"code"),u=this.safeString(a,"message",n);if(void 0!==h){const e=this.safeString(this.exceptions["errorCodeNames"],h,u);this.throwExactlyMatchedException(this.exceptions["exact"],h,e)}}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostFeelist(e),i={},r={},s=Object.keys(t);for(let n=0;n<s.length;n++){const e=s[n],a=t[e],o=this.safeCurrencyCode(e);i[o]={},r[o]=this.safeNumber(a,"deposit");const c=Object.keys(a);let d=!0;for(let t=0;t<c.length;t++){const e=c[t],r=e.slice(0,22);if("withdraw_fix_on_chain_"===r){d=!1;const t=e.slice(22),r=this.safeCurrencyCode(t),s=this.safeNumber(a,e);i[o][r]=s}}d&&(i[o][o]=this.safeNumber(a,"withdraw_fix"))}return{info:t,withdraw:i,deposit:r}}sign(e,t="public",i="GET",r={},s,n){const a="private"===t?t+"/":"";let o=this.urls["api"][t]+this.version+"/1/"+a+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce(),t={nonce:e};n=this.rawencode(this.extend(t,c)),n=n.replace("+"," ");const i=this.hmac(this.encode(n),this.encode(this.secret),"sha512");s={Key:this.apiKey,Sign:i,"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:n,headers:s}}}},3934:function(e,t,i){"use strict";var r=i("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(e){var r=e;return t&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=s(window.location.href),function(t){var i=r.isString(t)?s(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},"39f1":function(e,t,i){"use strict";const r=i("f4c8"),s=i("bc95"),n=i("74d2"),a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let o=null,c=null;function d(e){const t=[];for(let i=0;i<e.length;i++)t[i/4|0]|=e[i]<<24-8*i;return r.lib.WordArray.create(t,e.length)}e.exports={json:(e,t)=>JSON.stringify(e),isJsonEncodedObject:e=>"string"===typeof e&&e.length>=2&&("{"===e[0]||"["===e[0]),stringToBinary:e=>r.enc.Latin1.parse(e),stringToBase64:e=>r.enc.Latin1.parse(e).toString(r.enc.Base64),base64ToBinary:e=>r.enc.Base64.parse(e),base64ToString:e=>r.enc.Base64.parse(e).toString(r.enc.Utf8),binaryToBase64:e=>e.toString(r.enc.Base64),base16ToBinary:e=>r.enc.Hex.parse(e),binaryToBase16:e=>e.toString(r.enc.Hex),binaryConcat:(...e)=>e.reduce((e,t)=>e.concat(t)),binaryConcatArray:e=>e.reduce((e,t)=>e.concat(t)),urlencode:e=>s.stringify(e),urlencodeWithArrayRepeat:e=>s.stringify(e,{arrayFormat:"repeat"}),rawencode:e=>s.stringify(e,{encode:!1}),encode:e=>e,decode:e=>e,urlencodeBase64:e=>e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_"),numberToLE:(e,t)=>{const i=new n(e).toArray("le",t);return d(i)},numberToBE:(e,t)=>{const i=new n(e).toArray("be",t);return d(i)},base58ToBinary:e=>{if(!o){o={},c={};for(let e=0;e<58;e++){const t=a[e],i=new n(e);o[t]=i,c[i]=t}}let t=new n(0);const i=new n(58);for(let r=0;r<e.length;r++){const s=e[r];t.imul(i),t.iadd(o[s])}return d(t.toArray("be"))},binaryToBase58:e=>{if(!c){o={},c={};for(let e=0;e<58;e++){const t=a[e],i=new n(e);o[t]=i,c[i]=t}}const t=new n(58),i=e.toString(r.enc.Hex);let s=new n(i,16),d=[];while(!s.isZero()){const{div:e,mod:i}=s.divmod(t);s=e,d.push(c[i])}return d.reverse().join("")}},e.exports["byteArrayToWordArray"]=d},"3a7c":function(e,t,i){(function(e){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"===typeof e}function s(e){return null===e}function n(e){return null==e}function a(e){return"number"===typeof e}function o(e){return"string"===typeof e}function c(e){return"symbol"===typeof e}function d(e){return void 0===e}function h(e){return"[object RegExp]"===g(e)}function u(e){return"object"===typeof e&&null!==e}function l(e){return"[object Date]"===g(e)}function f(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"===typeof e}function m(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function g(e){return Object.prototype.toString.call(e)}t.isArray=i,t.isBoolean=r,t.isNull=s,t.isNullOrUndefined=n,t.isNumber=a,t.isString=o,t.isSymbol=c,t.isUndefined=d,t.isRegExp=h,t.isObject=u,t.isDate=l,t.isError=f,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(this,i("b639").Buffer)},"3ab5":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,ArgumentsRequired:a,BadRequest:o,InvalidOrder:c,InsufficientFunds:d,OrderNotFound:h,PermissionDenied:u}=i("74b0");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"oceanex",name:"OceanEx",countries:["LU","CN","SG"],version:"v1",rateLimit:3e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/58385970-794e2d80-8001-11e9-889c-0567cd79b78e.jpg",api:"https://api.oceanex.pro",www:"https://www.oceanex.pro.com",doc:"https://api.oceanex.pro/doc/v1",referral:"https://oceanex.pro/signup?referral=VE24QX"},has:{fetchMarkets:!0,fetchCurrencies:!1,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTrades:!0,fetchTradingLimits:!1,fetchTradingFees:!1,fetchAllTradingFees:!0,fetchFundingFees:!1,fetchTime:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchBalance:!0,createMarketOrder:!0,createOrder:!0,cancelOrder:!0,cancelOrders:!0,cancelAllOrders:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["markets","tickers/{pair}","tickers_multi","order_book","order_book/multi","fees/trading","trades","timestamp"]},private:{get:["key","members/me","orders","orders/filter"],post:["orders","orders/multi","order/delete","order/delete/multi","orders/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{PLA:"Plair"},exceptions:{codes:{"-1":o,"-2":o,1001:o,1004:a,1006:n,1008:n,1010:n,1011:u,2001:n,2002:c,2004:h,9003:u},exact:{"market does not have a valid value":o,"side does not have a valid value":o,"Account::AccountError: Cannot lock funds":d,"The account does not exist":n}}})}async fetchMarkets(e={}){const t={show_details:!0},i=await this.publicGetMarkets(this.extend(t,e)),r=[],s=this.safeValue(i,"data");for(let n=0;n<s.length;n++){const e=s[n],t=this.safeValue(e,"id"),i=this.safeValue(e,"name");let[a,o]=i.split("/");const c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o);a=a.toLowerCase(),o=o.toLowerCase();const h=c+"/"+d;r.push({id:t,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:!0,info:e,precision:{amount:this.safeInteger(e,"amount_precision"),price:this.safeInteger(e,"price_precision"),base:this.safeInteger(e,"ask_precision"),quote:this.safeInteger(e,"bid_precision")},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minimum_trading_amount"),max:void 0}}})}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},s=await this.publicGetTickersPair(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i=this.marketIds(e),r={markets:i},s=await this.publicGetTickersMulti(this.extend(r,t)),n=this.safeValue(s,"data"),a={};for(let o=0;o<n.length;o++){const e=n[o],t=this.safeString(e,"market"),i=this.safeMarket(t),r=i["symbol"];a[r]=this.parseTicker(e,i)}return this.filterByArray(a,"symbol",e)}parseTicker(e,t){const i=this.safeValue(e,"ticker",{}),r=this.safeTimestamp(e,"at");return{symbol:t["symbol"],timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(i,"high"),low:this.safeNumber(i,"low"),bid:this.safeNumber(i,"buy"),bidVolume:void 0,ask:this.safeNumber(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeNumber(i,"last"),last:this.safeNumber(i,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(i,"volume"),quoteVolume:void 0,info:i}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderBook(this.extend(s,i)),a=this.safeValue(n,"data",{}),o=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,o)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const r=this.marketIds(e),s={markets:r};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderBookMulti(this.extend(s,i)),a=this.safeValue(n,"data",[]),o={};for(let c=0;c<a.length;c++){const e=a[c],t=this.safeString(e,"market"),i=this.safeSymbol(t),r=this.safeTimestamp(e,"timestamp");o[i]=this.parseOrderBook(e,i,r)}return o}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"data");return this.parseTrades(o,s,t,i)}parseTrade(e,t){let i=this.safeValue(e,"side");"bid"===i?i="buy":"ask"===i&&(i="sell");const r=this.safeValue(e,"market"),s=this.safeSymbol(r,t);let n=this.safeTimestamp(e,"created_on");return void 0===n&&(n=this.parse8601(this.safeString(e,"created_at"))),{info:e,timestamp:n,datetime:this.iso8601(n),symbol:s,id:this.safeString(e,"id"),order:void 0,type:"limit",takerOrMaker:void 0,side:i,price:this.safeNumber(e,"price"),amount:this.safeNumber(e,"volume"),cost:void 0,fee:void 0}}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeTimestamp(t,"data")}async fetchAllTradingFees(e={}){const t=await this.publicGetFeesTrading(e),i=this.safeValue(t,"data"),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeValue(e,"ask_fee",{}),n=this.safeValue(e,"bid_fee",{}),a=this.safeString(e,"market"),o=this.safeSymbol(a);r[o]={info:e,symbol:o,maker:this.safeNumber(t,"value"),taker:this.safeNumber(n,"value")}}return r}async fetchKey(e={}){const t=await this.privateGetKey(e);return this.safeValue(t,"data")}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"accounts"),s={info:t};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeValue(e,"currency"),i=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"locked"),s[i]=a}return this.parseBalance(s,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={market:a["id"],side:i,ord_type:t,volume:this.amountToPrecision(e,r)};"limit"===t&&(o["price"]=this.priceToPrecision(e,s));const c=await this.privatePostOrders(this.extend(o,n)),d=this.safeValue(c,"data");return this.parseOrder(d,a)}async fetchOrder(e,t,i={}){let r=e;Array.isArray(e)||(r=[e]),await this.loadMarkets();let s=void 0;void 0!==t&&(s=this.market(t));const n={ids:r},a=await this.privateGetOrders(this.extend(n,i)),o=this.safeValue(a,"data"),c=o.length;if(void 0===o)throw new h(this.id+" could not found matching order");if(Array.isArray(e))return this.parseOrders(o,s);if(0===c)throw new h(this.id+" could not found matching order");return this.parseOrder(o[0],s)}async fetchOpenOrders(e,t,i,r={}){const s={states:["wait"]};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={states:["done","cancel"]};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n=this.safeValue(r,"states",["wait","done","cancel"]),o=this.omit(r,"states"),c={market:s["id"],states:n,need_price:"True"};void 0!==i&&(c["limit"]=i);const d=await this.privateGetOrdersFilter(this.extend(c,o)),h=this.safeValue(d,"data",[]);let u=[];for(let a=0;a<h.length;a++){const e=this.safeValue(h[a],"orders",[]),r=this.parseOrderStatus(this.safeValue(h[a],"state")),n=this.parseOrders(e,s,t,i,{status:r});u=this.arrayConcat(u,n)}return u}parseOrder(e,t){const i=this.parseOrderStatus(this.safeValue(e,"state")),r=this.safeString2(e,"market","market_id"),s=this.safeSymbol(r,t);let n=this.safeTimestamp(e,"created_on");return void 0===n&&(n=this.parse8601(this.safeString(e,"created_at"))),this.safeOrder({info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:this.safeValue(e,"ord_type"),timeInForce:void 0,postOnly:void 0,side:this.safeValue(e,"side"),price:this.safeNumber(e,"price"),stopPrice:void 0,average:this.safeNumber(e,"avg_price"),amount:this.safeNumber(e,"volume"),remaining:this.safeNumber(e,"remaining_volume"),filled:this.safeNumber(e,"executed_volume"),status:i,cost:void 0,trades:void 0,fee:void 0})}parseOrderStatus(e){const t={wait:"open",done:"closed",cancel:"canceled"};return this.safeString(t,e,e)}async createOrders(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"],orders:t},n=await this.privatePostOrdersMulti(this.extend(s,i)),a=n["data"];return this.parseOrders(a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostOrderDelete(this.extend({id:e},i)),s=this.safeValue(r,"data");return this.parseOrder(s)}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=await this.privatePostOrderDeleteMulti(this.extend({ids:e},i)),s=this.safeValue(r,"data");return this.parseOrders(s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i=await this.privatePostOrdersClear(t),r=this.safeValue(i,"data");return this.parseOrders(r)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)if("tickers_multi"===e||"order_book/multi"===e){let e="?";const t=this.safeValue(r,"markets");for(let r=0;r<t.length;r++)e+="markets[]="+t[r]+"&";const i=this.safeValue(r,"limit");void 0!==i&&(e+="limit="+i),a+=e}else Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e={uid:this.apiKey,data:o},t=this.jwt(e,this.encode(this.secret),"RS256");a+="?user_jwt="+t}return s={"Content-Type":"application/json"},{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if(void 0!==h&&"0"!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["codes"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],u,e),new s(e)}}}},"3ac3":function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i("feef"),a=i("b640"),o=s(i("91c7")),c={chain:!1,confirmations:-1,maxWaitTime:0,requestInterval:0};function d(e,t,i){var s=r(r({},c),i||{}),n=!Array.isArray(t),d=s.confirmations>0?1:0;return(s.chain?u(e,a.toArray(t),r(r({},s),{confirmations:d})):h(e,a.toArray(t))).then((function(t){return s.confirmations<=0?t:o.default(e,t,s)})).then((function(e){return n?a.head(e):e}))}function h(e,t){return Promise.all(t.map((function(t){return n.broadcast(e,t)})))}function u(e,t,i){return new Promise((function(r,s){var a=t.slice().reverse(),c=[],d=function(){if(!a.length)return r(c),null;var t=a.pop();n.broadcast(e,t).then((function(t){return o.default(e,t,i)})).then((function(e){c.push(e),d()}),s)};d()}))}t.default=d},"3ad0":function(e,t,i){},"3af5":function(e,t,i){var r=i("0e30"),s=i("64eb"),n=r((function(e,t,i){return s(Math.max(e.length,t.length,i.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):i.apply(this,arguments)}))}));e.exports=n},"3b1e":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,OrderNotFound:a,InsufficientFunds:o,DDoSProtection:c,PermissionDenied:d,BadSymbol:h,InvalidOrder:u}=i("74b0"),l=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitforex",name:"Bitforex",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295553-1160ec00-c50e-11ea-8ea0-df79276a9646.jpg",api:"https://api.bitforex.com",www:"https://www.bitforex.com",doc:"https://github.com/githubdev2020/API_Doc_en/wiki",fees:"https://help.bitforex.com/en_us/?cat=13",referral:"https://www.bitforex.com/en/invitationRegister?inviterId=1867438"},api:{public:{get:["api/v1/market/symbols","api/v1/market/ticker","api/v1/market/depth","api/v1/market/trades","api/v1/market/kline"]},private:{post:["api/v1/fund/mainAccount","api/v1/fund/allAccount","api/v1/trade/placeOrder","api/v1/trade/placeMultiOrder","api/v1/trade/cancelOrder","api/v1/trade/cancelMultiOrder","api/v1/trade/orderInfo","api/v1/trade/multiOrderInfo","api/v1/trade/orderInfos"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001},funding:{tierBased:!1,percentage:!0,deposit:{},withdraw:{BTC:5e-4,ETH:.01,BCH:1e-4,LTC:.001,ETC:.005,USDT:5,CMCT:30,AION:3,LVT:0,DATA:40,RHP:50,NEO:0,AIDOC:10,BQT:2,R:2,DPY:.8,GTC:40,AGI:30,DENT:100,SAN:1,SPANK:8,AID:5,OMG:.1,BFT:5,SHOW:150,TRX:20,ABYSS:10,THM:25,ZIL:20,PPT:.2,WTC:.4,LRC:7,BNT:1,CTXC:1,MITH:20,TRUE:4,LYM:10,VEE:100,AUTO:200,REN:50,TIO:2.5,NGC:1.5,PST:10,CRE:200,IPC:5,PTT:1e3,XMCT:20,ATMI:40,TERN:40,XLM:.01,ODE:15,FTM:100,RTE:100,DCC:100,IMT:500,GOT:3,EGT:500,DACC:1e3,UBEX:500,ABL:100,OLT:100,DAV:40,THRT:10,RMESH:3,UPP:20,SDT:0,SHR:10,MTV:3,ESS:100,MET:3,TTC:20,LXT:10,XCLP:100,LUK:100,UBC:100,DTX:10,BEAT:20,DEED:2,BGX:3e3,PRL:20,ELY:50,CARD:300,SQR:15,VRA:400,BWX:3500,MAS:75,FLP:.6,UNC:300,CRNC:15,MFG:70,ZXC:70,TRT:30,ZIX:35,XRA:10,AMO:1600,IPG:3,uDoo:50,URB:30,ARCONA:3,CRAD:5,NOBS:1e3,ADF:2,ELF:5,LX:20,PATH:15,SILK:120,SKYFT:50,EDN:50,ADE:50,EDR:10,TIME:.25,SPRK:20,QTUM:.01,BF:5,ZPR:100,HYB:10,CAN:30,CEL:10,ATS:50,KCASH:1,ACT:.01,MT:300,DXT:30,WAB:4e3,HYDRO:400,LQD:5,OPTC:200,EQUAD:80,LATX:50,LEDU:100,RIT:70,ACDC:500,FSN:2}}},commonCurrencies:{ACE:"ACE Entertainment",CAPP:"Crypto Application Token",CREDIT:"TerraCredit",CTC:"Culture Ticket Chain",GOT:"GoNetwork",HBC:"Hybrid Bank Cash",IQ:"IQ.Cash",UOS:"UOS Network"},exceptions:{4004:a,1013:n,1016:n,1017:d,1019:h,3002:o,4002:u,4003:u,10204:c}})}async fetchMarkets(e={}){const t=await this.publicGetApiV1MarketSymbols(e),i=t["data"],r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=t.split("-"),a=n[2],o=n[1],c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=!0,l={amount:this.safeInteger(e,"amountPrecision"),price:this.safeInteger(e,"pricePrecision")},f={amount:{min:this.safeNumber(e,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}};r.push({id:t,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:u,precision:l,limits:f,info:e})}return r}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const r=this.safeInteger(e,"time"),s=this.safeString(e,"tid"),n=void 0,a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(l.stringMul(a,o)),u=this.safeInteger(e,"direction"),f=this.parseSide(u);return{info:e,id:s,timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,side:f,price:c,amount:d,cost:h,order:n,fee:void 0,takerOrMaker:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==i&&(s["size"]=i);const n=this.market(e),a=await this.publicGetApiV1MarketTrades(this.extend(s,r));return this.parseTrades(a["data"],n,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostApiV1FundAllAccount(e),i=t["data"],r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["used"]=this.safeString(e,"frozen"),a["free"]=this.safeString(e,"active"),a["total"]=this.safeString(e,"fix"),r[n]=a}return this.parseBalance(r,!1)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.markets[e],r={symbol:i["id"]},s=await this.publicGetApiV1MarketTicker(this.extend(r,t)),n=s["data"],a=this.safeInteger(n,"date");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(n,"high"),low:this.safeNumber(n,"low"),bid:this.safeNumber(n,"buy"),bidVolume:void 0,ask:this.safeNumber(n,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeNumber(n,"last"),last:this.safeNumber(n,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(n,"vol"),quoteVolume:void 0,info:s}}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"vol")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],ktype:this.timeframes[t]};void 0!==r&&(a["size"]=r);const o=await this.publicGetApiV1MarketKline(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.marketId(e),s={symbol:r};void 0!==t&&(s["size"]=t);const n=await this.publicGetApiV1MarketDepth(this.extend(s,i)),a=this.safeValue(n,"data"),o=this.safeInteger(n,"time");return this.parseOrderBook(a,e,o,"bids","asks","price","amount")}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return e in t?t[e]:e}parseSide(e){return 1===e?"buy":2===e?"sell":void 0}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeNumber(e,"createTime"),s=this.safeNumber(e,"lastTime"),n=t["symbol"],a=this.safeInteger(e,"tradeType"),o=this.parseSide(a),c=void 0,d=this.safeNumber(e,"orderPrice"),h=this.safeNumber(e,"avgPrice"),u=this.safeNumber(e,"orderAmount"),l=this.safeNumber(e,"dealAmount"),f=this.parseOrderStatus(this.safeString(e,"orderState")),p="buy"===o?"base":"quote",m=t[p],g={cost:this.safeNumber(e,"tradeFee"),currency:m};return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:n,type:c,timeInForce:void 0,postOnly:void 0,side:o,price:d,stopPrice:void 0,cost:void 0,average:h,amount:u,filled:l,remaining:void 0,status:f,fee:g,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:this.marketId(t),orderId:e},n=await this.privatePostApiV1TradeOrderInfo(this.extend(s,i)),a=this.parseOrder(n["data"],r);return a}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:this.marketId(e),state:0},a=await this.privatePostApiV1TradeOrderInfos(this.extend(n,r));return this.parseOrders(a["data"],s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:this.marketId(e),state:1},a=await this.privatePostApiV1TradeOrderInfos(this.extend(n,r));return this.parseOrders(a["data"],s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();let a=void 0;"buy"===i?a=1:"sell"===i&&(a=2);const o={symbol:this.marketId(e),price:s,amount:r,tradeType:a},c=await this.privatePostApiV1TradePlaceOrder(this.extend(o,n)),d=c["data"];return{info:c,id:this.safeString(d,"orderId")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};void 0!==t&&(r["symbol"]=this.marketId(t));const s=await this.privatePostApiV1TradeCancelOrder(this.extend(r,i)),n=s["success"],a={info:s,success:n};return a}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();let t=this.urlencode({accessKey:this.apiKey});o["nonce"]=this.milliseconds(),Object.keys(o).length&&(t+="&"+this.urlencode(this.keysort(o)));const i="/"+e+"?"+t,r=this.hmac(this.encode(i),this.encode(this.secret));n=t+"&signData="+r,s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if("string"===typeof a&&("{"===a[0]||"["===a[0])){const e=this.id+" "+a,t=this.safeValue(o,"success");if(void 0!==t&&!t){const t=this.safeString(o,"code");throw this.throwExactlyMatchedException(this.exceptions,t,e),new s(e)}}}}},"3b29":function(e,t,i){(function(t){var r=i("5259");i("fb58f"),i("c7e6"),i("6497");var s,n=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(s=i(0)),e.exports=r.pbkdf2=n.pbkdf2=function(e,i,n,a,o,c){if("function"===typeof o&&(c=o,o=null),r.util.isNodejs&&!r.options.usePureJavaScript&&s.pbkdf2&&(null===o||"object"!==typeof o)&&(s.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!==typeof o&&(o="sha1"),e=t.from(e,"binary"),i=t.from(i,"binary"),c?4===s.pbkdf2Sync.length?s.pbkdf2(e,i,n,a,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):s.pbkdf2(e,i,n,a,o,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):4===s.pbkdf2Sync.length?s.pbkdf2Sync(e,i,n,a).toString("binary"):s.pbkdf2Sync(e,i,n,a,o).toString("binary");if("undefined"!==typeof o&&null!==o||(o="sha1"),"string"===typeof o){if(!(o in r.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=r.md[o].create()}var d=o.digestLength;if(a>4294967295*d){var h=new Error("Derived key is too long.");if(c)return c(h);throw h}var u=Math.ceil(a/d),l=a-(u-1)*d,f=r.hmac.create();f.start(o,e);var p,m,g,y="";if(!c){for(var v=1;v<=u;++v){f.start(null,null),f.update(i),f.update(r.util.int32ToBytes(v)),p=g=f.digest().getBytes();for(var b=2;b<=n;++b)f.start(null,null),f.update(g),m=f.digest().getBytes(),p=r.util.xorBytes(p,m,d),g=m;y+=v<u?p:p.substr(0,l)}return y}v=1;function w(){if(v>u)return c(null,y);f.start(null,null),f.update(i),f.update(r.util.int32ToBytes(v)),p=g=f.digest().getBytes(),b=2,S()}function S(){if(b<=n)return f.start(null,null),f.update(g),m=f.digest().getBytes(),p=r.util.xorBytes(p,m,d),g=m,++b,r.util.setImmediate(S);y+=v<u?p:p.substr(0,l),++v,w()}w()}}).call(this,i("b639").Buffer)},"3b44":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,InsufficientFunds:a,OrderNotFound:o,InvalidOrder:c,AuthenticationError:d}=i("74b0"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinex",name:"CoinEx",version:"v1",countries:["CN"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182089-1e05fa00-c2ec-11ea-8da9-cc73b45abbbc.jpg",api:{public:"https://api.coinex.com",private:"https://api.coinex.com",perpetualPublic:"https://api.coinex.com/perpetual",perpetualPrivate:"https://api.coinex.com/perpetual"},www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees",referral:"https://www.coinex.com/register?refer_code=yw5fz"},api:{public:{get:["common/currency/rate","common/asset/config","market/info","market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance/coin/deposit","balance/coin/withdraw","balance/info","future/account","future/config","future/limitprice","future/loan/history","future/market","margin/account","margin/config","margin/loan/history","margin/market","order","order/deals","order/finished","order/finished/{id}","order/pending","order/status","order/status/batch","order/user/deals","sub_account/balance","sub_account/transfer/history"],post:["balance/coin/withdraw","future/flat","future/loan","future/transfer","margin/flat","margin/loan","margin/transfer","order/batchlimit","order/ioc","order/limit","order/market","sub_account/transfer"],delete:["balance/coin/withdraw","order/pending/batch","order/pending"]},perpetualPublic:{get:["ping","time","market/list","market/limit_config","market/ticker","market/ticker/all","market/depth","market/deals","market/funding_history","market/user_deals","market/kline"]},perpetualPrivate:{get:["asset/query","order/pending","order/finished","order/stop_pending","order/status","position/pending","position/funding"],post:["market/adjust_leverage","market/position_expect","order/put_limit","order/put_market","order/put_stop_limit","order/cancel","order/cancel_all","order/cancel_stop","order/cancel_stop_all","order/close_limit","order/close_market","position/adjust_margin"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8},options:{createMarketBuyOrderRequiresPrice:!0}})}async fetchMarkets(e={}){const t=await this.publicGetMarketInfo(e),i=this.safeValue(t,"data",{}),r=[],s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=i[e],a=this.safeString(t,"name"),o=this.safeString(t,"trading_name"),c=o,d=this.safeString(t,"pricing_name"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d);let l=h+"/"+u;o===a&&(l=a);const f={amount:this.safeInteger(t,"trading_decimal"),price:this.safeInteger(t,"pricing_decimal")},p=void 0;r.push({id:a,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:p,taker:this.safeNumber(t,"taker_fee_rate"),maker:this.safeNumber(t,"maker_fee_rate"),info:t,precision:f,limits:{amount:{min:this.safeNumber(t,"min_amount"),max:void 0},price:{min:Math.pow(10,-f["price"]),max:void 0}}})}return r}parseTicker(e,t){const i=this.safeInteger(e,"date");let r=void 0;void 0!==t&&(r=t["symbol"]),e=this.safeValue(e,"ticker",{});const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber2(e,"vol","volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetMarketTicker(this.extend(r,t));return this.parseTicker(s["data"],i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickerAll(t),r=this.safeValue(i,"data"),s=this.safeInteger(r,"date"),n=this.safeValue(r,"ticker"),a=Object.keys(n),o={};for(let c=0;c<a.length;c++){const e=a[c],t=this.safeMarket(e),i=t["symbol"],r=this.parseTicker({date:s,ticker:n[e]},t);r["symbol"]=i,o[i]=r}return this.filterByArray(o,"symbol",e)}async fetchOrderBook(e,t=20,i={}){await this.loadMarkets(),void 0===t&&(t=20);const r={market:this.marketId(e),merge:"0.0000000001",limit:t.toString()},s=await this.publicGetMarketDepth(this.extend(r,i));return this.parseOrderBook(s["data"],e)}parseTrade(e,t){let i=this.safeTimestamp(e,"create_time");void 0===i&&(i=this.safeInteger(e,"date_ms"));const r=this.safeString(e,"id"),s=this.safeString(e,"order_id"),n=this.safeString(e,"price"),a=this.safeString(e,"amount"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.safeString(e,"market"),u=this.safeSymbol(d,t);let l=this.safeNumber(e,"deal_money");void 0===l&&(l=this.parseNumber(h.stringMul(n,a)));let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"fee_asset"),i=this.safeCurrencyCode(t);f={cost:p,currency:i}}const m=this.safeString(e,"role"),g=this.safeString(e,"type");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:r,order:s,type:void 0,side:g,takerOrMaker:m,price:o,amount:c,cost:l,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.publicGetMarketDeals(this.extend(n,r));return this.parseTrades(a["data"],s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={market:n["id"],type:this.timeframes[t]};void 0!==r&&(a["limit"]=r);const o=await this.publicGetMarketKline(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalanceInfo(e),i={info:t},r=this.safeValue(t,"data",{}),s=Object.keys(r);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),a=this.safeValue(r,e,{}),o=this.account();o["free"]=this.safeString(a,"available"),o["used"]=this.safeString(a,"frozen"),i[t]=o}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={not_deal:"open",part_deal:"open",done:"closed",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeTimestamp(e,"create_time"),r=this.safeNumber(e,"price"),s=this.safeNumber(e,"deal_money"),n=this.safeNumber(e,"amount"),a=this.safeNumber(e,"deal_amount"),o=this.safeNumber(e,"avg_price");let c=void 0;const d=this.safeString(e,"market");t=this.safeMarket(d,t);const h=this.safeString(e,"fee_asset");let u=this.safeCurrencyCode(h);void 0!==t&&(c=t["symbol"],void 0===u&&(u=t["quote"]));const l=this.safeNumber(e,"left"),f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"order_type"),m=this.safeString(e,"type");return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:f,symbol:c,type:p,timeInForce:void 0,postOnly:void 0,side:m,price:r,stopPrice:void 0,cost:s,average:o,amount:n,filled:a,remaining:l,trades:void 0,fee:{currency:u,cost:this.safeNumber(e,"deal_fee")},info:e})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a="privatePostOrder"+this.capitalize(t),o=this.market(e),d={market:o["id"],type:i};if(r=parseFloat(r),"market"===t&&"buy"===i)if(this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===s)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");s=parseFloat(s),d["amount"]=this.costToPrecision(e,r*s)}else d["amount"]=this.costToPrecision(e,r);else d["amount"]=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t||(d["price"]=this.priceToPrecision(e,s));const h=await this[a](this.extend(d,n)),u=this.safeValue(h,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,market:r["id"]},n=await this.privateDeleteOrderPending(this.extend(s,i)),a=this.safeValue(n,"data");return this.parseOrder(a,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={id:e,market:r["id"]},a=await this.privateGetOrder(this.extend(s,i)),o=this.safeValue(a,"data");return this.parseOrder(o,r)}async fetchOrdersByStatus(e,t,i,r,s={}){await this.loadMarkets(),void 0===r&&(r=100);const n={page:1,limit:r};let a=void 0;void 0!==t&&(a=this.market(t),n["market"]=a["id"]);const o="privateGetOrder"+this.capitalize(e),c=await this[o](this.extend(n,s)),d=this.safeValue(c,"data"),h=this.safeValue(d,"data",[]);return this.parseOrders(h,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("pending",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("finished",e,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={page:1,limit:i};let n=void 0;void 0!==e&&(n=this.market(e),s["market"]=n["id"]);const a=await this.privateGetOrderUserDeals(this.extend(s,r)),o=this.safeValue(a,"data"),c=this.safeValue(o,"data",[]);return this.parseTrades(c,n,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);r&&(i=i+":"+r);const a={coin_type:n["id"],coin_address:i,actual_amount:parseFloat(t),transfer_method:"onchain"},o=await this.privatePostBalanceCoinWithdraw(this.extend(a,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,n)}parseTransactionStatus(e){const t={audit:"pending",pass:"pending",processing:"pending",confirming:"pending",not_pass:"failed",cancel:"canceled",finish:"ok",fail:"failed"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"coin_withdraw_id","coin_deposit_id"),r=this.safeString(e,"coin_address");let s=this.safeString(e,"remark");void 0!==s&&s.length<1&&(s=void 0);let n=this.safeValue(e,"tx_id");void 0!==n&&n.length<1&&(n=void 0);const a=this.safeString(e,"coin_type"),o=this.safeCurrencyCode(a,t),c=this.safeTimestamp(e,"create_time"),d="coin_withdraw_id"in e?"withdraw":"deposit",h=this.parseTransactionStatus(this.safeString(e,"status"));let u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"tx_fee");"deposit"===d&&(l=0);const f={cost:l,currency:o};return void 0!==u&&(u-=l),{info:e,id:i,txid:n,timestamp:c,datetime:this.iso8601(c),address:r,tag:s,type:d,amount:u,currency:o,status:h,updated:void 0,fee:f}}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={coin_type:s["id"]};void 0!==i&&(a["Limit"]=i);const o=await this.privateGetBalanceCoinWithdraw(this.extend(a,r));let c=this.safeValue(o,"data");return Array.isArray(c)||(c=this.safeValue(c,"data",[])),this.parseTransactions(c,s,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={coin_type:s["id"]};void 0!==i&&(a["Limit"]=i);const o=await this.privateGetBalanceCoinDeposit(this.extend(a,r));let c=this.safeValue(o,"data");return Array.isArray(c)||(c=this.safeValue(c,"data",[])),this.parseTransactions(c,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){e=this.implodeParams(e,r);let a=this.urls["api"][t]+"/"+this.version+"/"+e,o=this.omit(r,this.extractParams(e));if("public"===t||"perpetualPublic"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();o=this.extend({access_id:this.apiKey,tonce:e.toString()},o),o=this.keysort(o);const t=this.rawencode(o),r=this.hash(this.encode(t+"&secret_key="+this.secret));s={Authorization:r.toUpperCase(),"Content-Type":"application/json"},"GET"===i||"DELETE"===i?a+="?"+t:n=this.json(o)}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,h){const u=await this.fetch2(e,t,i,r,n,h),l=this.safeString(u,"code"),f=this.safeValue(u,"data"),p=this.safeString(u,"message");if("0"!==l||void 0===f||"Success"!==p&&"Ok"!==p&&!f){const e={24:d,25:d,107:a,600:o,601:c,602:c,606:c},t=this.safeValue(e,l,s);throw new t(u["message"])}return u}}},"3bbe":function(e,t,i){var r=i("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3bc7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["amount","matcherFee","price","fee","minSponsoredAssetFee","quantity","sellMatcherFee","buyMatcherFee"];function s(e){return JSON.stringify(e,(function(e,t){return r.includes(e)||"value"===e&&"integer"===this["type"]?"!"+t+"!":t}),0).replace(/"\!(-?\d+)\!"/g,"$1")}t.default=s},"3c35":function(e,t){(function(t){e.exports=t}).call(this,{})},"3c78":function(e,t){function i(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}e.exports="function"===typeof Object.is?Object.is:i},"3c93":function(e,t,i){},"3ca1":function(e,t,i){"use strict";function r(e,t){return new URL(e,t).toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"3ca3":function(e,t,i){"use strict";var r=i("6547").charAt,s=i("69f3"),n=i("7dd0"),a="String Iterator",o=s.set,c=s.getterFor(a);n(String,"String",(function(e){o(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),i=t.string,s=t.index;return s>=i.length?{value:void 0,done:!0}:(e=r(i,s),t.index+=e.length,{value:e,done:!1})}))},"3e14":function(e,t,i){var r=i("5a7c"),s=i("f601"),n=i("4c61"),a=i("6ff5"),o=r(s(["take"],n,(function(e,t){return a(0,e<0?1/0:e,t)})));e.exports=o},"3e8a":function(e,t,i){var r=i("5259");i("c7e6"),i("6497");var s=e.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=s,s.create=function(){d||h();var e=null,t=r.util.createBuffer(),i=new Array(16),s={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var i=s.messageLengthSize/4,n=0;n<i;++n)s.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},s}};return s.start(),s.update=function(n,a){"utf8"===a&&(n=r.util.encodeUtf8(n));var o=n.length;s.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=s.fullMessageLength.length-1;c>=0;--c)s.fullMessageLength[c]+=o[1],o[1]=o[0]+(s.fullMessageLength[c]/4294967296>>>0),s.fullMessageLength[c]=s.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(n),u(e,i,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var o=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,c=o&s.blockLength-1;a.putBytes(n.substr(0,s.blockLength-c));for(var d,h=0,l=s.fullMessageLength.length-1;l>=0;--l)d=8*s.fullMessageLength[l]+h,h=d/4294967296>>>0,a.putInt32Le(d>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};u(f,i,a);var p=r.util.createBuffer();return p.putInt32Le(f.h0),p.putInt32Le(f.h1),p.putInt32Le(f.h2),p.putInt32Le(f.h3),p},s};var n=null,a=null,o=null,c=null,d=!1;function h(){n=String.fromCharCode(128),n+=r.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));d=!0}function u(e,t,i){var r,s,n,d,h,u,l,f,p=i.length();while(p>=64){for(s=e.h0,n=e.h1,d=e.h2,h=e.h3,f=0;f<16;++f)t[f]=i.getInt32Le(),u=h^n&(d^h),r=s+u+c[f]+t[f],l=o[f],s=h,h=d,d=n,n+=r<<l|r>>>32-l;for(;f<32;++f)u=d^h&(n^d),r=s+u+c[f]+t[a[f]],l=o[f],s=h,h=d,d=n,n+=r<<l|r>>>32-l;for(;f<48;++f)u=n^d^h,r=s+u+c[f]+t[a[f]],l=o[f],s=h,h=d,d=n,n+=r<<l|r>>>32-l;for(;f<64;++f)u=d^(n|~h),r=s+u+c[f]+t[a[f]],l=o[f],s=h,h=d,d=n,n+=r<<l|r>>>32-l;e.h0=e.h0+s|0,e.h1=e.h1+n|0,e.h2=e.h2+d|0,e.h3=e.h3+h|0,p-=64}}},"3ea3":function(e,t,i){var r=i("23e7"),s=i("f748"),n=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){return s(e=+e)*a(n(e),1/3)}})},"3ee4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GENESIS_TYPE=1,t.PAYMENT_TYPE=2,t.ISSUE_TYPE=3,t.TRANSFER_TYPE=4,t.REISSUE_TYPE=5,t.BURN_TYPE=6,t.EXCHANGE_TYPE=7,t.LEASE_TYPE=8,t.CANCEL_LEASE_TYPE=9,t.ALIAS_TYPE=10,t.MASS_TRANSFER_TYPE=11,t.DATA_TYPE=12,t.SET_SCRIPT_TYPE=13,t.SPONSORSHIP_TYPE=14,t.SET_ASSET_SCRIPT_TYPE=15,t.INVOKE_SCRIPT_TYPE=16,t.UPDATE_ASSET_INFO_TYPE=17,t.INTEGER_DATA_TYPE="integer",t.BOOLEAN_DATA_TYPE="boolean",t.STRING_DATA_TYPE="string",t.BINARY_DATA_TYPE="binary",t.TRANSACTION_TYPE={GENESIS:t.GENESIS_TYPE,PAYMENT:t.PAYMENT_TYPE,ISSUE:t.ISSUE_TYPE,TRANSFER:t.TRANSFER_TYPE,REISSUE:t.REISSUE_TYPE,BURN:t.BURN_TYPE,EXCHANGE:t.EXCHANGE_TYPE,LEASE:t.LEASE_TYPE,CANCEL_LEASE:t.CANCEL_LEASE_TYPE,ALIAS:t.ALIAS_TYPE,MASS_TRANSFER:t.MASS_TRANSFER_TYPE,DATA:t.DATA_TYPE,SET_SCRIPT:t.SET_SCRIPT_TYPE,SPONSORSHIP:t.SPONSORSHIP_TYPE,SET_ASSET_SCRIPT:t.SET_ASSET_SCRIPT_TYPE,INVOKE_SCRIPT:t.INVOKE_SCRIPT_TYPE,UPDATE_ASSET_INFO:t.UPDATE_ASSET_INFO_TYPE},t.DATA_FIELD_TYPE={INTEGER:t.INTEGER_DATA_TYPE,BOOLEAN:t.BOOLEAN_DATA_TYPE,STRING:t.STRING_DATA_TYPE,BINARY:t.BINARY_DATA_TYPE}},"3f8c":function(e,t){e.exports={}},"3fb5":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},"3fd9":function(e,t,i){var r=i("70ea"),s=r((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=s},4001:function(e,t,i){"use strict";var r=i("b9b3"),s=r.assert,n=r.parseBytes,a=r.cachedProperty;function o(e,t){this.eddsa=e,this._secret=n(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=n(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},a(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r})),a(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.signModified=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.signModified(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},o.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=o},4040:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InvalidOrder:n,AuthenticationError:a,InsufficientFunds:o,BadSymbol:c,OrderNotFound:d,InvalidAddress:h,BadRequest:u}=i("74b0"),{TRUNCATE:l}=i("5ea4"),f=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gopax",name:"GOPAX",countries:["KR"],version:"v1",rateLimit:50,hostname:"gopax.co.kr",certified:!0,pro:!0,has:{cancelOrder:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:"emulated",fetchDepositAddresses:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1d":"1440"},urls:{logo:"https://user-images.githubusercontent.com/1294454/102897212-ae8a5e00-4478-11eb-9bab-91507c643900.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.gopax.co.kr",doc:"https://gopax.github.io/API/index.en.html",fees:"https://www.gopax.com/feeinfo"},api:{public:{get:["notices","assets","price-tick-size","trading-pairs","trading-pairs/{tradingPair}/ticker","trading-pairs/{tradingPair}/book","trading-pairs/{tradingPair}/trades","trading-pairs/{tradingPair}/stats","trading-pairs/{tradingPair}/price-tick-size","trading-pairs/stats","trading-pairs/{tradingPair}/candles","time"]},private:{get:["balances","balances/{assetName}","orders","orders/{orderId}","orders/clientOrderId/{clientOrderId}","trades","deposit-withdrawal-status","crypto-deposit-addresses","crypto-withdrawal-addresses"],post:["orders"],delete:["orders/{orderId}","orders/clientOrderId/{clientOrderId}"]}},fees:{trading:{percentage:!0,tierBased:!1,maker:4e-4,taker:4e-4}},exceptions:{broad:{ERROR_INVALID_ORDER_TYPE:n,ERROR_INVALID_AMOUNT:n,ERROR_INVALID_TRADING_PAIR:c,"No such order ID":d,"Forbidden order type":n,"the client order ID will be reusable which order has already been completed or canceled":n,ERROR_NO_SUCH_TRADING_PAIR:c,ERROR_INVALID_ORDER_SIDE:n,ERROR_NOT_HEDGE_TOKEN_USER:n,ORDER_EVENT_ERROR_NOT_ALLOWED_BID_ORDER:n,ORDER_EVENT_ERROR_INSUFFICIENT_BALANCE:o,"Invalid option combination":n,"No such client order ID":d},exact:{100:c,101:c,103:n,104:c,105:c,106:c,107:n,108:n,111:n,201:o,202:n,203:n,204:n,205:n,206:n,10004:a,10041:u,10056:u,10057:c,10059:c,10062:u,10069:d,10155:a,10166:u,10212:n,10221:d,10222:n,10223:n,10227:n,10319:u,10358:n,10359:n,10360:n,10361:n,10362:n,10363:n}},options:{createMarketBuyOrderRequiresPrice:!0}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name"),n=this.safeInteger(e,"id"),a=this.safeString(e,"baseAsset"),o=this.safeString(e,"quoteAsset"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={price:this.safeInteger(e,"quoteAssetScale"),amount:this.safeInteger(e,"baseAssetScale")},l=this.safeValue(e,"restApiOrderAmountMin",{}),p=this.safeValue(l,"marketAsk",{}),m=this.safeValue(l,"marketBid",{}),g=this.safeString(e,"takerFeePercent"),y=this.safeString(e,"makerFeePercent"),v=this.parseNumber(f.stringDiv(g,"100")),b=this.parseNumber(f.stringDiv(y,"100"));i.push({id:s,info:e,numericId:n,symbol:h,base:c,quote:d,baseId:this.safeString(e,"baseAsset"),quoteId:this.safeString(e,"quoteAsset"),active:!0,taker:v,maker:b,precision:u,limits:{amount:{min:this.safeNumber(p,"amount"),max:void 0},price:{min:this.safeNumber(e,"priceMin"),max:void 0},cost:{min:this.safeNumber(m,"amount"),max:void 0}}})}return i}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeCurrencyCode(s),a=this.safeString(e,"name"),o=this.safeNumber(e,"withdrawalFee"),c=this.safeNumber(e,"scale");i[n]={id:s,info:e,code:n,name:a,active:!0,fee:o,precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"withdrawalAmountMin"),max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={tradingPair:r["id"]},n=await this.publicGetTradingPairsTradingPairBook(this.extend(s,i)),a=this.safeInteger(n,"sequence"),o=this.parseOrderBook(n,e,void 0,"bid","ask",1,2);return o["nonce"]=a,o}parseTicker(e,t){const i=this.safeString(e,"name"),r=this.safeSymbol(i,t,"-"),s=this.parse8601(this.safeString(e,"time")),n=this.safeNumber(e,"open"),a=this.safeNumber2(e,"price","close");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(d=this.sum(a,n)/2,o=a-n,n>0&&(c=o/n*100));const h=this.safeNumber(e,"volume"),u=this.safeNumber(e,"quoteVolume"),l=this.vwap(h,u);return{symbol:r,info:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidVolume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askVolume"),vwap:l,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:h,quoteVolume:u}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={tradingPair:i["id"]},s=await this.publicGetTradingPairsTradingPairTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTradingPairsStats(t);return this.parseTickers(i,e)}parsePublicTrade(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeNumber(e,"price"),s=this.safeNumber(e,"amount");let n=void 0;return"symbol"in t&&(n=this.safeString(t,"symbol")),{info:e,id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:void 0,side:this.safeString(e,"side"),takerOrMaker:void 0,price:r,amount:s,cost:r*s,fee:void 0}}parsePrivateTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"tradingPairName").replace("-","/"),s=this.safeString(e,"side"),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"baseAmount");let o=r.slice(0,3);"sell"===s&&(o=r.slice(4));const c={cost:this.safeNumber(e,"fee"),currency:o,rate:void 0};return{info:e,id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),symbol:r,order:this.safeInteger(e,"orderId"),type:void 0,side:s,takerOrMaker:this.safeString(e,"position"),price:n,amount:a,cost:n*a,fee:c}}parseTrade(e,t){const i=this.safeString2(e,"id","tradeId"),r=this.safeInteger(e,"orderId");let s=this.parse8601(this.safeString2(e,"time","timestamp"));s=this.safeTimestamp(e,"occuredAt",s);const n=this.safeString(e,"tradingPairName");t=this.safeMarket(n,t,"-");const a=t["symbol"];let o=this.safeString(e,"side");"1"===o?o="buy":"2"===o&&(o="sell");let c=this.safeString(e,"type");"1"===c?c="limit":"2"===c&&(c="market");const d=this.safeString(e,"price"),h=this.safeString2(e,"amount","baseAmount"),u=this.parseNumber(d),l=this.parseNumber(h);let p=this.safeNumber(e,"quoteAmount");void 0===p&&(p=this.parseNumber(f.stringMul(d,h)));const m=this.safeNumber(e,"fee");let g=void 0;void 0!==m&&(g={cost:m,currency:t["base"]});const y=this.safeString(e,"position");return{info:e,id:i,timestamp:s,datetime:this.iso8601(s),symbol:a,order:r,type:void 0,side:o,takerOrMaker:y,price:u,amount:l,cost:p,fee:g}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={tradingPair:s["id"]};void 0!==t&&(n["after"]=parseInt(t/1e3)),void 0!==i&&(n["limit"]=i);const a=await this.publicGetTradingPairsTradingPairTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,3),this.safeNumber(e,2),this.safeNumber(e,1),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e);r=void 0===r?1024:r;const a={tradingPair:n["id"],interval:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0===i){const e=this.milliseconds();a["end"]=e,a["start"]=e-r*o*1e3}else a["start"]=i,a["end"]=this.sum(i,r*o*1e3);const c=await this.publicGetTradingPairsTradingPairCandles(this.extend(a,s));return this.parseOHLCVs(c,n,t,i,r)}parseBalanceResponse(e){const t={info:e};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString2(r,"asset","isoAlpha3"),n=this.safeCurrencyCode(s),a=this.safeString(r,"hold"),o=this.safeString(r,"pendingWithdrawal"),c=this.account();c["free"]=this.safeString(r,"avail"),c["used"]=f.stringAdd(a,o),t[n]=c}return this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e);return this.parseBalanceResponse(t)}parseOrderStatus(e){const t={placed:"open",cancelled:"canceled",completed:"closed",updated:"open",reserved:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"clientOrderId"),s=this.parse8601(this.safeString(e,"createdAt")),n=this.safeString(e,"type"),a=this.safeString(e,"side"),o=this.safeStringUpper(e,"timeInForce"),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"stopPrice"),u=this.safeNumber(e,"remaining"),l=this.safeString(e,"tradingPairName");t=this.safeMarket(l,t,"-");const f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeValue(e,"balanceChange",{}),m=this.safeNumber(p,"baseNet");let g=this.safeNumber(p,"quoteNet");void 0!==g&&(g=Math.abs(g));let y=void 0;void 0!==m&&m>0&&(y=this.parse8601(this.safeString(e,"updatedAt")));let v=void 0;if("buy"===a){const e=this.safeValue(p,"baseFee",{}),i=this.safeNumber(e,"taking"),r=this.safeNumber(e,"making");v={currency:t["base"],cost:this.sum(i,r)}}else{const e=this.safeValue(p,"quoteFee",{}),i=this.safeNumber(e,"taking"),r=this.safeNumber(e,"making");v={currency:t["quote"],cost:this.sum(i,r)}}let b=void 0;return void 0!==o&&(b="PO"===o),this.safeOrder({id:i,clientOrderId:r,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:y,status:f,symbol:t["symbol"],type:n,timeInForce:o,postOnly:b,side:a,price:c,stopPrice:h,average:void 0,amount:d,filled:m,remaining:u,cost:g,trades:void 0,fee:v,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0;const s=this.safeString(i,"clientOrderId");i=this.omit(i,"clientOrderId");const n={};void 0===s?(r="privateGetOrdersOrderId",n["orderId"]=e):(r="privateGetOrdersClientOrderIdClientOrderId",n["clientOrderId"]=s);const a=await this[r](this.extend(n,i));return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={includePast:"true"};let n=void 0;void 0!==e&&(n=this.market(e));const a=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(a,n,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={includePast:"false"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e),c={tradingPairName:o["id"],side:i,type:t};if("limit"===t)c["price"]=this.priceToPrecision(e,s),c["amount"]=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){let e=r;const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0===s)throw new n(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument");e=s*r}const i=o["precision"]["price"];c["amount"]=this.decimalToPrecision(e,l,i,this.precisionMode)}else c["amount"]=this.amountToPrecision(e,r);const d=this.safeString(a,"clientOrderId");void 0!==d&&(c["clientOrderId"]=d,a=this.omit(a,"clientOrderId"));const h=this.safeNumber(a,"stopPrice");void 0!==h&&(c["stopPrice"]=this.priceToPrecision(e,h),a=this.omit(a,"stopPrice"));const u=this.safeStringLower(a,"timeInForce");void 0!==u&&(c["timeInForce"]=u,a=this.omit(a,"timeInForce"));const f=await this.privatePostOrders(this.extend(c,a));return this.parseOrder(f,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString(i,"clientOrderId");let n=void 0;void 0===s?(n="privateDeleteOrdersOrderId",r["orderId"]=e):(n="privateDeleteOrdersClientOrderIdClientOrderId",r["clientOrderId"]=s,i=this.omit(i,"clientOrderId"));const a=await this[n](this.extend(r,i)),o=this.parseOrder(a);return this.extend(o,{id:e})}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={deepSearch:"true"};void 0!==t&&(s["after"]=parseInt(t/1e3)),void 0!==i&&(s["limit"]=i);const n=await this.privateGetTrades(this.extend(s,r));let a=void 0;return void 0!==e&&(a=this.market(e)),this.parseTrades(n,a,t,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"memoId"),s=this.safeString(e,"asset"),n=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:n,address:i,tag:r,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetCryptoDepositAddresses(t);return this.parseDepositAddresses(i,e)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchDepositAddresses(void 0,t),r=this.safeValue(i,e);if(void 0===r)throw new h(this.id+" fetchDepositAddress() "+e+" address not found");return r}parseTransactionStatus(e){const t={reviewing:"pending",rejected:"rejected",processing:"pending",failed:"failed",completed:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"txId"),s=this.safeString(e,"asset"),n=this.safeCurrencyCode(s,t);let a=this.safeString(e,"type");"crypto_withdrawal"===a||"fiat_withdrawal"===a?a="withdrawal":"crypto_deposit"!==a&&"fiat_deposit"!==a||(a="deposit");const o=this.safeNumber(e,"netAmount"),c=this.safeNumber(e,"feeAmount");let d=void 0;void 0!==c&&(d={cost:c,currency:n});const h=this.safeTimestamp(e,"reviewStartedAt"),u=this.safeTimestamp(e,"completedAt"),l=this.safeString(e,"sourceAddress"),f=this.safeString(e,"destinationAddress"),p=this.safeString(e,"sourceMemoId"),m=this.safeString(e,"destinationMemoId"),g=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:i,txid:r,timestamp:h,datetime:this.iso8601(h),addressFrom:l,address:f,addressTo:f,tagFrom:p,tag:m,tagTo:m,type:a,amount:o,currency:n,status:g,updated:u,comment:void 0,fee:d}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s["before"]=t),void 0!==i&&(s["limit"]=i);const n=await this.privateGetDepositWithdrawalStatus(this.extend(s,r));let a=void 0;return void 0!==e&&(a=this.currency(e)),this.parseTransactions(n,a,t,i,r)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){const a="/"+this.implodeParams(e,r);let o=this.implodeHostname(this.urls["api"][t])+a;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="t"+e+i+a;if(s={"api-key":this.apiKey,timestamp:e},"POST"===i)s["Content-Type"]="application/json",n=this.json(r),t+=n;else if("/orders"===a){if(Object.keys(c).length){const e="?"+this.urlencode(c);t+=e,o+=e}}else"GET"===i&&Object.keys(c).length&&(o+="?"+this.urlencode(c));const d=this.base64ToBinary(this.secret),h=this.hmac(this.encode(t),d,"sha512","base64");s["signature"]=h}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&!Array.isArray(o)){const e=this.safeString(o,"errorCode"),t=this.safeString(o,"errorMessage"),i=this.id+" "+a;if(void 0!==t&&this.throwBroadlyMatchedException(this.exceptions["broad"],a,i),void 0!==e&&this.throwExactlyMatchedException(this.exceptions["exact"],e,i),void 0!==e||void 0!==t)throw new s(i)}}}},"408a":function(e,t,i){var r=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"40dc":function(e,t,i){"use strict";var r=i("5530"),s=(i("c7cd"),i("a9e3"),i("8b0d"),i("71d9")),n=i("53ca");function a(e,t){var i=t.modifiers||{},r=i.self,s=void 0!==r&&r,a=t.value,o="object"===Object(n["a"])(a)&&a.options||{passive:!0},c="function"===typeof a||"handleEvent"in a?a:a.handler,d=s?e:t.arg?document.querySelector(t.arg):window;d&&(d.addEventListener("scroll",c,o),e._onScroll={handler:c,options:o,target:s?void 0:d})}function o(e){if(e._onScroll){var t=e._onScroll,i=t.handler,r=t.options,s=t.target,n=void 0===s?e:s;n.removeEventListener("scroll",i,r),delete e._onScroll}}var c={inserted:a,unbind:o},d=c,h=i("fe6c"),u=i("58df");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(u["a"])(Object(h["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return e}},watch:{app:function(e,t){t?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(e,t){this.$vuetify.application.unregister(this._uid,t)}},activated:function(){this.callUpdate()},created:function(){for(var e=0,i=t.length;e<i;e++)this.$watch(t[e],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}var f=i("d9bd"),p=i("2b0e"),m=p["a"].extend({name:"scrollable",directives:{Scroll:c},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:function(){return{currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}},computed:{canScroll:function(){return"undefined"!==typeof window},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll},isActive:function(){this.savedScroll=0}},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(f["c"])("Unable to locate element with identifier ".concat(this.scrollTarget),this))},methods:{onScroll:function(){var e=this;this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick((function(){Math.abs(e.currentScroll-e.savedScroll)>e.computedScrollThreshold&&e.thresholdMet()})))},thresholdMet:function(){}}}),g=i("d10f"),y=i("f2e7"),v=i("80d2"),b=Object(u["a"])(s["a"],m,g["a"],y["a"],l("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));t["a"]=b.extend({name:"v-app-bar",directives:{Scroll:d},provide:function(){return{VAppBar:this}},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data:function(){return{isActive:this.value}},computed:{applicationProperty:function(){return this.bottom?"bottom":"top"},canScroll:function(){return m.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes:function(){return Object(r["a"])(Object(r["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll})},scrollRatio:function(){var e=this.computedScrollThreshold;return Math.max((e-this.currentScroll)/e,0)},computedContentHeight:function(){if(!this.shrinkOnScroll)return s["a"].options.computed.computedContentHeight.call(this);var e=this.dense?48:56,t=this.computedOriginalHeight;return e+(t-e)*this.scrollRatio},computedFontSize:function(){if(this.isProminent){var e=1.25,t=1.5;return e+(t-e)*this.scrollRatio}},computedLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},computedOpacity:function(){if(this.fadeImgOnScroll)return this.scrollRatio},computedOriginalHeight:function(){var e=s["a"].options.computed.computedContentHeight.call(this);return this.isExtended&&(e+=parseInt(this.extensionHeight)),e},computedRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform:function(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;var e=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?e:-e},hideShadow:function(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed:function(){return this.collapseOnScroll?this.currentScroll>0:s["a"].options.computed.isCollapsed.call(this)},isProminent:function(){return s["a"].options.computed.isProminent.call(this)||this.shrinkOnScroll},styles:function(){return Object(r["a"])(Object(r["a"])({},s["a"].options.computed.styles.call(this)),{},{fontSize:Object(v["g"])(this.computedFontSize,"rem"),marginTop:Object(v["g"])(this.computedMarginTop),transform:"translateY(".concat(Object(v["g"])(this.computedTransform),")"),left:Object(v["g"])(this.computedLeft),right:Object(v["g"])(this.computedRight)})}},watch:{canScroll:"onScroll",computedTransform:function(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll:function(e){this.isActive=!e||0!==this.currentScroll}},created:function(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground:function(){var e=s["a"].options.methods.genBackground.call(this);return e.data=this._b(e.data||{},e.tag,{style:{opacity:this.computedOpacity}}),e},updateApplication:function(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet:function(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render:function(e){var t=s["a"].options.render.call(this,e);return t.data=t.data||{},this.canScroll&&(t.data.directives=t.data.directives||[],t.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t}})},"413f":function(e,t,i){var r=i("5a7c"),s=i("1772"),n=r((function(e,t){var i=e<0?t.length+e:e;return s(t)?t.charAt(i):t[i]}));e.exports=n},4203:function(e,t,i){e.exports={pkcs1:i("11ca"),isEncryption:function(t){return e.exports[t]&&e.exports[t].isEncryption},isSignature:function(t){return e.exports[t]&&e.exports[t].isSignature}}},"428f":function(e,t,i){var r=i("da84");e.exports=r},"429b":function(e,t,i){e.exports=i("faa1").EventEmitter},"42cd":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s}=i("74b0");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:["US"],has:{cancelOrder:!1,CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,editOrder:!1,privateAPI:!1,fetchBalance:!1,fetchCurrencies:!0,fetchL2OrderBook:!1,fetchMarkets:!0,fetchOHLCV:!1,fetchOrderBook:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!1},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182086-1cd4cd00-c2ec-11ea-9ec4-d0cf2a2abf62.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}async fetchOrderBook(e,t,i={}){throw new s("Fetching order books is not supported by the API of "+this.id)}currencyCode(e,t){const i={ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin","BigONE Token":"BigONE Token",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT","Blocktrade Token":"Blocktrade Token","BOX Token":"BOX Token",Catcoin:"Catcoin",CanYaCoin:"CanYaCoin",CryptoBossCoin:"CryptoBossCoin",Comet:"Comet",CPChain:"CPChain",CrowdCoin:"CrowdCoin",Cryptaur:"Cryptaur",Cubits:"Cubits","DAO.Casino":"DAO.Casino",DefiBox:"DefiBox","E-Dinar Coin":"E-Dinar Coin",EDRcoin:"EDRcoin",ENTCash:"ENTCash",FairCoin:"FairCoin","Fabric Token":"Fabric Token",GHOSTPRISM:"GHOSTPRISM","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin","Harvest Masternode Coin":"Harvest Masternode Coin","HOT Token":"HOT Token","Hydro Protocol":"Hydro Protocol",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","IQ.cash":"IQ.cash","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie","Menlo One":"Menlo One","Mobilian Coin":"Mobilian Coin",Monarch:"Monarch","MTC Mesh Network":"MTC Mesh Network",IOTA:"IOTA",NetCoin:"NetCoin",PCHAIN:"PCHAIN",Penta:"Penta",Plair:"Plair",PlayChip:"PlayChip",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin",SBTCT:"SiamBitcoin","Super Bitcoin":"Super Bitcoin",TerraCredit:"TerraCredit",Themis:"Themis","UNI COIN":"UNI COIN","UNICORN Token":"UNICORN Token",Universe:"Universe"};return this.safeValue(i,t,e)}async fetchMarkets(e={}){const t={limit:0},i=await this.publicGetTicker(this.extend(t,e)),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.currencyCodes;for(let i=0;i<t.length;i++){const s=t[i],n=s.toLowerCase(),a=e["id"],o=this.currencyCode(e["symbol"],e["name"]),c=o+"/"+s,d=a+"/"+n;r.push({id:d,symbol:c,base:o,quote:s,baseId:a,quoteId:n,info:e,active:void 0,precision:this.precision,limits:this.limits})}}return r}async fetchGlobal(e="USD"){await this.loadMarkets();const t={};return e&&(t["convert"]=e),await this.publicGetGlobal(t)}parseTicker(e,t){let i=this.safeTimestamp(e,"last_updated");void 0===i&&(i=this.milliseconds());const r=this.safeNumber(e,"percent_change_24h");let s=void 0,n=void 0,a=void 0;if(void 0!==t){n=t["symbol"];const i="price_"+t["quoteId"];s=this.safeNumber(e,i);const r="24h_volume_"+t["quoteId"];a=this.safeNumber(e,r)}return{symbol:n,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:r,average:void 0,baseVolume:void 0,quoteVolume:a,info:e}}async fetchTickers(e="USD",t={}){await this.loadMarkets();const i={limit:1e4};e&&(i["convert"]=e);const r=await this.publicGetTicker(this.extend(i,t)),s={};for(let n=0;n<r.length;n++){const t=r[n],i=e.toLowerCase(),a=t["id"]+"/"+i;let o=a,c=void 0;a in this.markets_by_id&&(c=this.markets_by_id[a],o=c["symbol"]),s[o]=this.parseTicker(t,c)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={convert:i["quote"],id:i["baseId"]},s=await this.publicGetTickerId(this.extend(r,t)),n=s[0];return this.parseTicker(n,i)}async fetchCurrencies(e={}){const t={limit:0},i=await this.publicGetTicker(this.extend(t,e)),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=this.safeString(e,"name"),a=this.currencyCode(t,n);r[a]={id:t,code:a,info:e,name:n,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return r}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return Object.keys(o).length&&(a+="?"+this.urlencode(o)),{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("error"in o&&o["error"])throw new s(this.id+" "+this.json(o));return o}}},4362:function(e,t,i){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=i("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,i){var r=i("d039"),s=i("c6b6"),n="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?n.call(e,""):Object(e)}:Object},"44d2":function(e,t,i){var r=i("b622"),s=i("7c73"),n=i("9bf2"),a=r("unscopables"),o=Array.prototype;void 0==o[a]&&n.f(o,a,{configurable:!0,value:s(null)}),e.exports=function(e){o[a][e]=!0}},"44de":function(e,t,i){var r=i("da84");e.exports=function(e,t){var i=r.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}},"44e7":function(e,t,i){var r=i("861d"),s=i("c6b6"),n=i("b622"),a=n("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==s(e))}},4510:function(e,t,i){i("4ab0")._,i("4ab0");e.exports={privateExport:function(e,t){return{n:e.n.toBuffer(),e:e.e,d:e.d.toBuffer(),p:e.p.toBuffer(),q:e.q.toBuffer(),dmp1:e.dmp1.toBuffer(),dmq1:e.dmq1.toBuffer(),coeff:e.coeff.toBuffer()}},privateImport:function(e,t,i){if(!(t.n&&t.e&&t.d&&t.p&&t.q&&t.dmp1&&t.dmq1&&t.coeff))throw Error("Invalid key data");e.setPrivate(t.n,t.e,t.d,t.p,t.q,t.dmp1,t.dmq1,t.coeff)},publicExport:function(e,t){return{n:e.n.toBuffer(),e:e.e}},publicImport:function(e,t,i){if(!t.n||!t.e)throw Error("Invalid key data");e.setPublic(t.n,t.e)},autoImport:function(t,i){return!(!i.n||!i.e)&&(i.d&&i.p&&i.q&&i.dmp1&&i.dmq1&&i.coeff?(e.exports.privateImport(t,i),!0):(e.exports.publicImport(t,i),!0))}}},"451a":function(e,t,i){!function(t,i){e.exports=i()}(0,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var r=["info","log","warn","error"],s={keepMessageCount:100,keepMessageTypes:["error"],logMessageTypes:["error"],namespace:void 0},n=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),Object.create(null))},a=function(){function e(e){this._messages=[],this._maxLength=e}return e.prototype.push=function(e){this._messages.push(e),this._messages.length>this._maxLength&&this._messages.splice(0,this._messages.length-this._maxLength)},e.prototype.getMessages=function(e){var t,i,s=n(null!=(i=null===(t=e)||void 0===t?void 0:t.messageTypes)?i:r);return this._messages.filter((function(e){return s[e.type]}))},e}();function o(e){return e}i.d(t,"makeConsole",(function(){return h})),i.d(t,"version",(function(){return u})),i.d(t,"makeOptions",(function(){return l}));var c=function(){return(c=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},d=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<i;t++)for(var n=arguments[t],a=0,o=n.length;a<o;a++,s++)r[s]=n[a];return r},h=function(e){var t=c(c({},s),null!=e?e:{}),i=new a(t.keepMessageCount),h=n(t.logMessageTypes),u=n(t.keepMessageTypes);return r.reduce((function(e,r){var s=null!=t.namespace?function(e){return d([t.namespace],e)}:o,n=h[r]?console[r]:o,a=u[r]?function(e){return i.push({type:r,args:e})}:o;return e[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=s(e);n.apply(void 0,i),a(i)},e}),{getMessages:function(e){return i.getMessages(e)}})},u="1.0.0";function l(e,t){switch(e){case"production":return c(c({},s),{keepMessageTypes:["error"],logMessageTypes:[],namespace:t});case"error":return c(c({},s),{keepMessageTypes:["warn","error"],logMessageTypes:["error"],namespace:t});case"verbose":return c(c({},s),{keepMessageTypes:[],logMessageTypes:r.slice(),namespace:t})}}t.default=h}])}))},"45d6":function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,InsufficientFunds:n,OrderNotFound:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kuna",name:"Kuna",countries:["UA"],rateLimit:1e3,version:"v2",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:"emulated",fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,withdraw:!1},timeframes:void 0,urls:{extension:".json",referral:"https://kuna.io?r=kunaid-gvfihe8az7o4",logo:"https://user-images.githubusercontent.com/51840849/87153927-f0578b80-c2c0-11ea-84b6-74612568e9e1.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}},commonCurrencies:{PLA:"Plair"},exceptions:{2002:n,2003:a}})}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return 1e3*t}async fetchMarkets(e={}){const t=["btc","rub","uah","usd","usdt","usdc"],i=[],r=await this.publicGetTickers(e),s=Object.keys(r);for(let n=0;n<s.length;n++){const e=s[n];for(let r=0;r<t.length;r++){const s=t[r],n=e.indexOf(s),a=e.slice(n);if(n>0&&a===s){const t=e.replace(s,""),r=this.safeCurrencyCode(t),n=this.safeCurrencyCode(s),a=r+"/"+n;i.push({id:e,symbol:a,base:r,quote:n,baseId:t,quoteId:s,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},active:void 0,info:void 0});break}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetDepth(this.extend(s,i)),a=this.safeTimestamp(n,"timestamp");return this.parseOrderBook(n,e,a)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");e=e["ticker"];let r=void 0;t&&(r=t["symbol"]);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n];let t=void 0,a=e;if(e in this.markets_by_id)t=this.markets_by_id[e],a=t["symbol"];else{let t=e.slice(0,3),i=e.slice(3,6);t=t.toUpperCase(),i=i.toUpperCase(),t=this.safeCurrencyCode(t),i=this.safeCurrencyCode(i),a=t+"/"+i}s[a]=this.parseTicker(i[e],t)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetTickersMarket(this.extend(r,t));return this.parseTicker(s,i)}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at"));let r=void 0;t&&(r=t["symbol"]);let s=this.safeString2(e,"side","trend");if(void 0!==s){const e={ask:"sell",bid:"buy"};s=this.safeString(e,s,s)}const n=this.safeString(e,"price"),a=this.safeString(e,"volume"),c=this.parseNumber(n),d=this.parseNumber(a);let h=this.safeNumber(e,"funds");void 0===h&&(h=this.parseNumber(o.stringMul(n,a)));const u=this.safeString(e,"order_id"),l=this.safeString(e,"id");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:s,order:u,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=await this.fetchTrades(e,i,r,s),a=this.buildOHLCVC(n,t,i,r),o=[];for(let c=0;c<a.length;c++){const e=a[c];o.push([e[0],e[1],e[2],e[3],e[4],e[5]])}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"locked"),r[n]=a}return this.parseBalance(r,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={market:this.marketId(e),side:i,volume:r.toString(),ord_type:t};"limit"===t&&(a["price"]=s.toString());const o=await this.privatePostOrders(this.extend(a,n)),c=this.safeValue(o,"market"),d=this.safeValue(this.markets_by_id,c);return this.parseOrder(o,d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderDelete(this.extend(r,i)),n=this.parseOrder(s),o=n["status"];if("closed"===o||"canceled"===o)throw new a(this.id+" "+this.json(n));return n}parseOrderStatus(e){const t={done:"closed",wait:"open",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"created_at")),n=this.parseOrderStatus(this.safeString(e,"state")),a=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeString(e,"id");return this.safeOrder({id:c,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:n,symbol:r,type:a,timeInForce:void 0,postOnly:void 0,side:o,price:this.safeNumber(e,"price"),stopPrice:void 0,amount:this.safeNumber(e,"volume"),filled:this.safeNumber(e,"executed_volume"),remaining:this.safeNumber(e,"remaining_volume"),trades:void 0,fee:void 0,info:e,cost:void 0,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e)},s=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const n=this.market(e),a={market:n["id"]},o=await this.privateGetOrders(this.extend(a,r));return this.parseOrders(o,n,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(e),a={market:n["id"]},o=await this.privateGetTradesMy(this.extend(a,r));return this.parseTrades(o,n,t,i)}nonce(){return this.milliseconds()}encodeParams(e){if("orders"in e){const t=e["orders"];let i=this.urlencode(this.keysort(this.omit(e,"orders")));for(let e=0;e<t.length;e++){const r=t[e],s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e],n=r[t];i+="&orders%5B%5D%5B"+t+"%5D="+n.toString()}}return i}return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",r={},s,n){let a="/api/"+this.version+"/"+this.implodeParams(e,r);"extension"in this.urls&&(a+=this.urls["extension"]);const o=this.omit(r,this.extractParams(e));let c=this.urls["api"]+a;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.encodeParams(this.extend({access_key:this.apiKey,tonce:e},r)),o=i+"|"+a+"|"+t,d=this.hmac(this.encode(o),this.encode(this.secret)),h=t+"&signature="+d;"GET"===i?c+="?"+h:(n=h,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,c){if(void 0!==a&&400===e){const e=this.safeValue(a,"error"),t=this.safeString(e,"code"),i=this.id+" "+this.json(a);this.throwExactlyMatchedException(this.exceptions,t,i)}}}},"466d":function(e,t,i){"use strict";var r=i("d784"),s=i("825a"),n=i("50c4"),a=i("1d80"),o=i("8aa5"),c=i("14c3");r("match",(function(e,t,i){return[function(t){var i=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,i):new RegExp(t)[e](String(i))},function(e){var r=i(t,this,e);if(r.done)return r.value;var a=s(this),d=String(e);if(!a.global)return c(a,d);var h=a.unicode;a.lastIndex=0;var u,l=[],f=0;while(null!==(u=c(a,d))){var p=String(u[0]);l[f]=p,""===p&&(a.lastIndex=o(d,n(a.lastIndex),h)),f++}return 0===f?null:l}]}))},"467f":function(e,t,i){"use strict";var r=i("2d83");e.exports=function(e,t,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?t(r("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},4681:function(e,t,i){"use strict";var r=i("966d");function s(e,t){var i=this,s=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return s||n?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(a,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})),this)}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}e.exports={destroy:s,undestroy:n}},"46e8":function(e,t,i){var r=i("5259");i("c7e6"),i("6497");var s=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=s,s.create=function(){a||c();var e=null,t=r.util.createBuffer(),i=new Array(64),s={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var i=s.messageLengthSize/4,n=0;n<i;++n)s.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},s}};return s.start(),s.update=function(n,a){"utf8"===a&&(n=r.util.encodeUtf8(n));var o=n.length;s.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=s.fullMessageLength.length-1;c>=0;--c)s.fullMessageLength[c]+=o[1],o[1]=o[0]+(s.fullMessageLength[c]/4294967296>>>0),s.fullMessageLength[c]=s.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(n),d(e,i,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var o,c,h=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=h&s.blockLength-1;a.putBytes(n.substr(0,s.blockLength-u));for(var l=8*s.fullMessageLength[0],f=0;f<s.fullMessageLength.length-1;++f)o=8*s.fullMessageLength[f+1],c=o/4294967296>>>0,l+=c,a.putInt32(l>>>0),l=o>>>0;a.putInt32(l);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};d(p,i,a);var m=r.util.createBuffer();return m.putInt32(p.h0),m.putInt32(p.h1),m.putInt32(p.h2),m.putInt32(p.h3),m.putInt32(p.h4),m.putInt32(p.h5),m.putInt32(p.h6),m.putInt32(p.h7),m},s};var n=null,a=!1,o=null;function c(){n=String.fromCharCode(128),n+=r.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0}function d(e,t,i){var r,s,n,a,c,d,h,u,l,f,p,m,g,y,v,b=i.length();while(b>=64){for(h=0;h<16;++h)t[h]=i.getInt32();for(;h<64;++h)r=t[h-2],r=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,s=t[h-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[h]=r+t[h-7]+s+t[h-16]|0;for(u=e.h0,l=e.h1,f=e.h2,p=e.h3,m=e.h4,g=e.h5,y=e.h6,v=e.h7,h=0;h<64;++h)a=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),c=y^m&(g^y),n=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),d=u&l|f&(u^l),r=v+a+c+o[h]+t[h],s=n+d,v=y,y=g,g=m,m=p+r>>>0,p=f,f=l,l=u,u=r+s>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+p|0,e.h4=e.h4+m|0,e.h5=e.h5+g|0,e.h6=e.h6+y|0,e.h7=e.h7+v|0,b-=64}}},"470b":function(e,t,i){"use strict";(function(e){var r=i("b639").Buffer,s=i("d485").Transform,n=i("6b75e"),a=i("3022"),o=i("f654").ok,c=i("b639").kMaxLength,d="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16384,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(n),u=0;u<h.length;u++){var l=h[u];l.match(/^Z/)&&Object.defineProperty(t,l,{enumerable:!0,value:n[l],writable:!1})}for(var f={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},p=Object.keys(f),m=0;m<p.length;m++){var g=p[m];f[f[g]]=g}function y(e,t,i){var s=[],n=0;function a(){var t;while(null!==(t=e.read()))s.push(t),n+=t.length;e.once("readable",a)}function o(t){e.removeListener("end",h),e.removeListener("readable",a),i(t)}function h(){var t,a=null;n>=c?a=new RangeError(d):t=r.concat(s,n),s=[],e.close(),i(a,t)}e.on("error",o),e.on("end",h),e.end(t),a()}function v(e,t){if("string"===typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function b(e){if(!(this instanceof b))return new b(e);I.call(this,e,n.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);I.call(this,e,n.INFLATE)}function S(e){if(!(this instanceof S))return new S(e);I.call(this,e,n.GZIP)}function k(e){if(!(this instanceof k))return new k(e);I.call(this,e,n.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);I.call(this,e,n.DEFLATERAW)}function O(e){if(!(this instanceof O))return new O(e);I.call(this,e,n.INFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);I.call(this,e,n.UNZIP)}function C(e){return e===n.Z_NO_FLUSH||e===n.Z_PARTIAL_FLUSH||e===n.Z_SYNC_FLUSH||e===n.Z_FULL_FLUSH||e===n.Z_FINISH||e===n.Z_BLOCK}function I(e,i){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,s.call(this,e),e.flush&&!C(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!C(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||n.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:n.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(i);var o=this;this._hadError=!1,this._handle.onerror=function(e,i){x(o),o._hadError=!0;var r=new Error(e);r.errno=i,r.code=t.codes[i],o.emit("error",r)};var c=t.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(c=e.level);var d=t.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(d=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,d,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=d,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function x(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function E(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=S,t.Gunzip=k,t.DeflateRaw=_,t.InflateRaw=O,t.Unzip=T,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new O(e)},t.createGzip=function(e){return new S(e)},t.createGunzip=function(e){return new k(e)},t.createUnzip=function(e){return new T(e)},t.deflate=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new b(t),e,i)},t.deflateSync=function(e,t){return v(new b(t),e)},t.gzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new S(t),e,i)},t.gzipSync=function(e,t){return v(new S(t),e)},t.deflateRaw=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new _(t),e,i)},t.deflateRawSync=function(e,t){return v(new _(t),e)},t.unzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new T(t),e,i)},t.unzipSync=function(e,t){return v(new T(t),e)},t.inflate=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new w(t),e,i)},t.inflateSync=function(e,t){return v(new w(t),e)},t.gunzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new k(t),e,i)},t.gunzipSync=function(e,t){return v(new k(t),e)},t.inflateRaw=function(e,t,i){return"function"===typeof t&&(i=t,t={}),y(new O(t),e,i)},t.inflateRawSync=function(e,t){return v(new O(t),e)},a.inherits(I,s),I.prototype.params=function(i,r,s){if(i<t.Z_MIN_LEVEL||i>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==i||this._strategy!==r){var a=this;this.flush(n.Z_SYNC_FLUSH,(function(){o(a._handle,"zlib binding closed"),a._handle.params(i,r),a._hadError||(a._level=i,a._strategy=r,s&&s())}))}else e.nextTick(s)},I.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},I.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},I.prototype.flush=function(t,i){var s=this,a=this._writableState;("function"===typeof t||void 0===t&&!i)&&(i=t,t=n.Z_FULL_FLUSH),a.ended?i&&e.nextTick(i):a.ending?i&&this.once("end",i):a.needDrain?i&&this.once("drain",(function(){return s.flush(t,i)})):(this._flushFlag=t,this.write(r.alloc(0),"",i))},I.prototype.close=function(t){x(this,t),e.nextTick(E,this)},I.prototype._transform=function(e,t,i){var s,a=this._writableState,o=a.ending||a.ended,c=o&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(c?s=this._finishFlushFlag:(s=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),void this._processChunk(e,s,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},I.prototype._processChunk=function(e,t,i){var s=e&&e.length,n=this._chunkSize-this._offset,a=0,h=this,u="function"===typeof i;if(!u){var l,f=[],p=0;this.on("error",(function(e){l=e})),o(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,a,s,this._buffer,this._offset,n)}while(!this._hadError&&v(m[0],m[1]));if(this._hadError)throw l;if(p>=c)throw x(this),new RangeError(d);var g=r.concat(f,p);return x(this),g}o(this._handle,"zlib binding closed");var y=this._handle.write(t,e,a,s,this._buffer,this._offset,n);function v(c,d){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var l=n-d;if(o(l>=0,"have should not go down"),l>0){var m=h._buffer.slice(h._offset,h._offset+l);h._offset+=l,u?h.push(m):(f.push(m),p+=m.length)}if((0===d||h._offset>=h._chunkSize)&&(n=h._chunkSize,h._offset=0,h._buffer=r.allocUnsafe(h._chunkSize)),0===d){if(a+=s-c,s=c,!u)return!0;var g=h._handle.write(t,e,a,s,h._buffer,h._offset,h._chunkSize);return g.callback=v,void(g.buffer=e)}if(!u)return!1;i()}}y.buffer=e,y.callback=v},a.inherits(b,I),a.inherits(w,I),a.inherits(S,I),a.inherits(k,I),a.inherits(_,I),a.inherits(O,I),a.inherits(T,I)}).call(this,i("4362"))},4778:function(e,t,i){var r=i("5259");if(i("fb3e"),i("4a92"),i("deb0"),i("2af6"),i("9b5c"),i("3609"),i("6497"),"undefined"===typeof s)var s=r.jsbn.BigInteger;var n=r.util.isNodejs?i(0):null,a=r.asn1,o=r.util;r.pki=r.pki||{},e.exports=r.pki.rsa=r.rsa=r.rsa||{};var c=r.pki,d=[6,4,2,4,2,4,6,2],h={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p=function(e){var t;if(!(e.algorithm in c.oids)){var i=new Error("Unknown message digest algorithm.");throw i.algorithm=e.algorithm,i}t=c.oids[e.algorithm];var r=a.oidToDer(t).getBytes(),s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),n=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);n.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,r)),n.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var o=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(n),s.value.push(o),a.toDer(s).getBytes()},m=function(e,t,i){if(i)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var n;t.dP||(t.dP=t.d.mod(t.p.subtract(s.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(s.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{n=new s(r.util.bytesToHex(r.random.getBytes(t.n.bitLength()/8)),16)}while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(s.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);var a=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);while(a.compareTo(o)<0)a=a.add(t.p);var c=a.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return c=c.multiply(n.modInverse(t.n)).mod(t.n),c};function g(e,t,i){var s=r.util.createBuffer(),n=Math.ceil(t.n.bitLength()/8);if(e.length>n-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=n-11,a}s.putByte(0),s.putByte(i);var o,c=n-3-e.length;if(0===i||1===i){o=0===i?0:255;for(var d=0;d<c;++d)s.putByte(o)}else while(c>0){var h=0,u=r.random.getBytes(c);for(d=0;d<c;++d)o=u.charCodeAt(d),0===o?++h:s.putByte(o);c=h}return s.putByte(0),s.putBytes(e),s}function y(e,t,i,s){var n=Math.ceil(t.n.bitLength()/8),a=r.util.createBuffer(e),o=a.getByte(),c=a.getByte();if(0!==o||i&&0!==c&&1!==c||!i&&2!=c||i&&0===c&&"undefined"===typeof s)throw new Error("Encryption block is invalid.");var d=0;if(0===c){d=n-3-s;for(var h=0;h<d;++h)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===c){d=0;while(a.length()>1){if(255!==a.getByte()){--a.read;break}++d}}else if(2===c){d=0;while(a.length()>1){if(0===a.getByte()){--a.read;break}++d}}var u=a.getByte();if(0!==u||d!==n-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function v(e,t,i){"function"===typeof t&&(i=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){o(e.pBits,(function(t,r){return t?i(t):(e.p=r,null!==e.q?d(t,e.q):void o(e.qBits,d))}))}function o(e,t){r.prime.generateProbablePrime(e,n,t)}function d(t,r){if(t)return i(t);if(e.q=r,e.p.compareTo(e.q)<0){var n=e.p;e.p=e.q,e.q=n}if(0!==e.p.subtract(s.ONE).gcd(e.e).compareTo(s.ONE))return e.p=null,void a();if(0!==e.q.subtract(s.ONE).gcd(e.e).compareTo(s.ONE))return e.q=null,void o(e.qBits,d);if(e.p1=e.p.subtract(s.ONE),e.q1=e.q.subtract(s.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(s.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void o(e.qBits,d);var h=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},i(null,e.keys)}"prng"in t&&(n.prng=t.prng),a()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var i=r.util.hexToBytes(t);return i.length>1&&(0===i.charCodeAt(0)&&0===(128&i.charCodeAt(1))||255===i.charCodeAt(0)&&128===(128&i.charCodeAt(1)))?i.substr(1):i}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function S(e){return r.util.isNodejs&&"function"===typeof n[e]}function k(e){return"undefined"!==typeof o.globalScope&&"object"===typeof o.globalScope.crypto&&"object"===typeof o.globalScope.crypto.subtle&&"function"===typeof o.globalScope.crypto.subtle[e]}function _(e){return"undefined"!==typeof o.globalScope&&"object"===typeof o.globalScope.msCrypto&&"object"===typeof o.globalScope.msCrypto.subtle&&"function"===typeof o.globalScope.msCrypto.subtle[e]}function O(e){for(var t=r.util.hexToBytes(e.toString(16)),i=new Uint8Array(t.length),s=0;s<t.length;++s)i[s]=t.charCodeAt(s);return i}c.rsa.encrypt=function(e,t,i){var n,a=i,o=Math.ceil(t.n.bitLength()/8);!1!==i&&!0!==i?(a=2===i,n=g(e,t,i)):(n=r.util.createBuffer(),n.putBytes(e));var c=new s(n.toHex(),16),d=m(c,t,a),h=d.toString(16),u=r.util.createBuffer(),l=o-Math.ceil(h.length/2);while(l>0)u.putByte(0),--l;return u.putBytes(r.util.hexToBytes(h)),u.getBytes()},c.rsa.decrypt=function(e,t,i,n){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=a,o}var c=new s(r.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");var d=m(c,t,i),h=d.toString(16),u=r.util.createBuffer(),l=a-Math.ceil(h.length/2);while(l>0)u.putByte(0),--l;return u.putBytes(r.util.hexToBytes(h)),!1!==n?y(u.getBytes(),t,i):u.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t,i){"string"===typeof e&&(e=parseInt(e,10)),e=e||2048,i=i||{};var n,a=i.prng||r.random,o={nextBytes:function(e){for(var t=a.getBytesSync(e.length),i=0;i<e.length;++i)e[i]=t.charCodeAt(i)}},c=i.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return n={algorithm:c,state:0,bits:e,rng:o,eInt:t||65537,e:new s(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},n.e.fromInt(n.eInt),n},c.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var i=new s(null);i.fromInt(30);var r,n=0,a=function(e,t){return e|t},o=+new Date,h=0;while(null===e.keys&&(t<=0||h<t)){if(0===e.state){var u=null===e.p?e.pBits:e.qBits,l=u-1;0===e.pqState?(e.num=new s(u,e.rng),e.num.testBit(l)||e.num.bitwiseTo(s.ONE.shiftLeft(l),a,e.num),e.num.dAddOffset(31-e.num.mod(i).byteValue(),0),n=0,++e.pqState):1===e.pqState?e.num.bitLength()>u?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(d[n++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(s.ONE).gcd(e.e).compareTo(s.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(s.ONE),e.q1=e.q.subtract(s.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(s.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}r=+new Date,h+=r-o,o=r}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,i,s){if(1===arguments.length?"object"===typeof e?(i=e,e=void 0):"function"===typeof e&&(s=e,e=void 0):2===arguments.length?"number"===typeof e?"function"===typeof t?(s=t,t=void 0):"number"!==typeof t&&(i=t,t=void 0):(i=e,s=t,e=void 0,t=void 0):3===arguments.length&&("number"===typeof t?"function"===typeof i&&(s=i,i=void 0):(s=i,i=t,t=void 0)),i=i||{},void 0===e&&(e=i.bits||2048),void 0===t&&(t=i.e||65537),!r.options.usePureJavaScript&&!i.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(s){if(S("generateKeyPair"))return n.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,i){if(e)return s(e);s(null,{privateKey:c.privateKeyFromPem(i),publicKey:c.publicKeyFromPem(t)})}));if(k("generateKey")&&k("exportKey"))return o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:O(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return o.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){s(e)})).then((function(e){if(e){var t=c.privateKeyFromAsn1(a.fromDer(r.util.createBuffer(e)));s(null,{privateKey:t,publicKey:c.setRsaPublicKey(t.n,t.e)})}}));if(_("generateKey")&&_("exportKey")){var d=o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:O(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return d.oncomplete=function(e){var t=e.target.result,i=o.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);i.oncomplete=function(e){var t=e.target.result,i=c.privateKeyFromAsn1(a.fromDer(r.util.createBuffer(t)));s(null,{privateKey:i,publicKey:c.setRsaPublicKey(i.n,i.e)})},i.onerror=function(e){s(e)}},void(d.onerror=function(e){s(e)})}}else if(S("generateKeyPairSync")){var h=n.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(h.privateKey),publicKey:c.publicKeyFromPem(h.publicKey)}}var u=c.rsa.createKeyPairGenerationState(e,t,i);if(!s)return c.rsa.stepKeyPairGenerationState(u,0),u.keys;v(u,i,s)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t){var i={n:e,e:t,encrypt:function(e,t,s){if("string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,i){return g(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return r.pkcs1.encode_rsa_oaep(t,e,s)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"===typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var n=t.encode(e,i,!0);return c.rsa.encrypt(n,i,!0)},verify:function(e,t,r){"string"===typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){t=y(t,i,!0);var r=a.fromDer(t);return e===r.value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return t=y(t,i,!0),e===t}});var s=c.rsa.decrypt(t,i,!0,!1);return r.verify(e,s,i.n.bitLength())}};return i},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,i,s,n,a,o,d){var h={n:e,e:t,d:i,p:s,q:n,dP:a,dQ:o,qInv:d,decrypt:function(e,t,i){"string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var s=c.rsa.decrypt(e,h,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:y};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return r.pkcs1.decode_rsa_oaep(t,e,i)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(s,h,!1)},sign:function(e,t){var i=!1;"string"===typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},i=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},i=1);var r=t.encode(e,h.n.bitLength());return c.rsa.encrypt(r,h,i)}};return h},c.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},c.privateKeyFromAsn1=function(e){var t,i,n,o,d,l,f,p,m={},g=[];if(a.validate(e,h,m,g)&&(e=a.fromDer(r.util.createBuffer(m.privateKey))),m={},g=[],!a.validate(e,u,m,g)){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=g,y}return t=r.util.createBuffer(m.privateKeyModulus).toHex(),i=r.util.createBuffer(m.privateKeyPublicExponent).toHex(),n=r.util.createBuffer(m.privateKeyPrivateExponent).toHex(),o=r.util.createBuffer(m.privateKeyPrime1).toHex(),d=r.util.createBuffer(m.privateKeyPrime2).toHex(),l=r.util.createBuffer(m.privateKeyExponent1).toHex(),f=r.util.createBuffer(m.privateKeyExponent2).toHex(),p=r.util.createBuffer(m.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new s(t,16),new s(i,16),new s(n,16),new s(o,16),new s(d,16),new s(l,16),new s(f,16),new s(p,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.qInv))])},c.publicKeyFromAsn1=function(e){var t={},i=[];if(a.validate(e,f,t,i)){var n=a.derToOid(t.publicKeyOid);if(n!==c.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=n,o}e=t.rsaPublicKey}if(i=[],!a.validate(e,l,t,i)){o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=i,o}var d=r.util.createBuffer(t.publicKeyModulus).toHex(),h=r.util.createBuffer(t.publicKeyExponent).toHex();return c.setRsaPublicKey(new s(d,16),new s(h,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(e)])])},c.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.e))])}},"47ee":function(e,t,i){"use strict";const r=i("90db"),{TICK_SIZE:s}=i("5ea4"),{ExchangeError:n,ArgumentsRequired:a,InvalidNonce:o,OrderNotFound:c,InvalidOrder:d,InsufficientFunds:h,AuthenticationError:u,DDoSProtection:l,NotSupported:f,BadSymbol:p}=i("74b0"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"liquid",name:"Liquid",countries:["JP","CN","TW"],version:"2",rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/45798859-1a872600-bcb4-11e8-8746-69291ce87b04.jpg",api:"https://api.liquid.com",www:"https://www.liquid.com",doc:["https://developers.liquid.com"],fees:"https://help.liquid.com/getting-started-with-liquid/the-platform/fee-structure",referral:"https://www.liquid.com/sign-up/?affiliate=SbzC62lt30976"},api:{public:{get:["currencies","products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}","fees"]},private:{get:["accounts","accounts/balance","accounts/main_asset","accounts/{id}","accounts/{currency}/reserved_balance_details","crypto_accounts","crypto_withdrawals","executions/me","fiat_accounts","fund_infos","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}","transactions","withdrawals"],post:["crypto_withdrawals","fund_infos","fiat_accounts","loan_bids","orders","withdrawals"],put:["crypto_withdrawal/{id}/cancel","loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/adjust_margin","trades/{id}/close","trades/close_all","trading_accounts/{id}","withdrawals/{id}/cancel"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.003,maker:0,tiers:{perpetual:{maker:[[0,0],[25e3,0],[5e4,-25e-5],[1e5,-25e-5],[1e6,-25e-5],[1e7,-25e-5],[25e6,-25e-5],[5e7,-25e-5],[75e6,-25e-5],[1e8,-25e-5],[2e8,-25e-5],[3e8,-25e-5]],taker:[[0,.0012],[25e3,.00115],[5e4,.0011],[1e5,.00105],[1e6,.001],[1e7,95e-5],[25e6,9e-4],[5e7,85e-5],[75e6,8e-4],[1e8,75e-5],[2e8,7e-4],[3e8,65e-5]]},spot:{taker:[[0,.003],[1e4,.0029],[2e4,.0028],[5e4,.0026],[1e5,.002],[1e6,.0016],[5e6,.0012],[1e7,.001],[25e6,9e-4],[5e7,8e-4],[1e8,7e-4],[2e8,6e-4],[5e8,4e-4],[1e9,3e-4]],maker:[[0,0],[1e4,.002],[2e4,.0019],[5e4,.0018],[1e5,.0016],[1e6,8e-4],[5e6,7e-4],[1e7,5e-4],[25e6,0],[5e7,0],[1e8,0],[2e8,0],[5e8,0],[1e9,0]]}}}},precisionMode:s,exceptions:{"API rate limit exceeded. Please retry after 300s":l,"API Authentication failed":u,"Nonce is too small":o,"Order not found":c,"Can not update partially filled order":d,"Can not update non-live order":c,not_enough_free_balance:h,must_be_positive:d,less_than_order_size:d,price_too_high:d,price_too_small:d,product_disabled:p},commonCurrencies:{WIN:"WCOIN",HOT:"HOT Token",MIOTA:"IOTA"},options:{cancelOrderException:!0}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=e["depositable"]&&e["withdrawable"],o=this.safeInteger(e,"assets_precision");i[n]={id:s,code:n,info:e,name:n,active:a,fee:this.safeNumber(e,"withdrawal_fee"),precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:this.safeNumber(e,"minimum_withdrawal"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=await this.publicGetProducts({perpetual:"1"}),r=await this.fetchCurrencies(),s=this.indexBy(r,"code"),n=[],a=this.arrayConcat(t,i);for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"id"),i=this.safeString(e,"base_currency"),r=this.safeString(e,"quoted_currency"),c=this.safeString(e,"product_type");let d="spot",h=!0,u=!1;"Perpetual"===c&&(h=!1,u=!0,d="swap");const l=this.safeCurrencyCode(i),f=this.safeCurrencyCode(r);let p=void 0;p=u?this.safeString(e,"currency_pair_code"):l+"/"+f;let m=this.fees["trading"]["maker"],g=this.fees["trading"]["taker"];"swap"===d&&(m=this.safeNumber(e,"maker_fee",this.fees["trading"]["maker"]),g=this.safeNumber(e,"taker_fee",this.fees["trading"]["taker"]));const y=this.safeValue(e,"disabled",!1),v=!y,b=this.safeValue(s,l),w={amount:1e-8,price:this.safeNumber(e,"tick_size")};let S=void 0;void 0!==b&&(S=this.safeNumber(b["info"],"minimum_order_quantity"));const k=this.safeNumber(e,"last_traded_price");let _=void 0,O=void 0;if(k){const t=this.safeNumber(e,"multiplier_down"),i=this.safeNumber(e,"multiplier_up");void 0!==t&&(_=k*t),void 0!==i&&(O=k*i)}const T={amount:{min:S,max:void 0},price:{min:_,max:O},cost:{min:void 0,max:void 0}};n.push({id:t,symbol:p,base:l,quote:f,baseId:i,quoteId:r,type:d,spot:h,swap:u,maker:m,taker:g,limits:T,precision:w,active:v,info:e})}return n}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"crypto_accounts",[]),s=this.safeValue(t,"fiat_accounts",[]);for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),s=this.safeCurrencyCode(t),a=this.account();a["total"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"reserved_balance"),i[s]=a}for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"currency"),r=this.safeCurrencyCode(t),a=this.account();a["total"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"reserved_balance"),i[r]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetProductsIdPriceLevels(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buy_price_levels","sell_price_levels")}parseTicker(e,t){const i=this.milliseconds();let r=void 0;if("last_traded_price"in e&&e["last_traded_price"]){const t=e["last_traded_price"].length;t>0&&(r=this.safeNumber(e,"last_traded_price"))}let s=void 0;if(void 0===t){const i=this.safeString(e,"id");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const i=this.safeString(e,"base_currency"),r=this.safeString(e,"quoted_currency");s in this.markets?t=this.markets[s]:s=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r)}}void 0!==t&&(s=t["symbol"]);let n=void 0,a=void 0,o=void 0;const c=this.safeNumber(e,"last_price_24h");return void 0!==c&&void 0!==r&&(n=r-c,o=this.sum(r,c)/2,c>0&&(a=n/c*100)),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_market_ask"),low:this.safeNumber(e,"low_market_bid"),bid:this.safeNumber(e,"market_bid"),bidVolume:void 0,ask:this.safeNumber(e,"market_ask"),askVolume:void 0,vwap:void 0,open:c,close:r,last:r,previousClose:void 0,change:n,percentage:a,average:o,baseVolume:this.safeNumber(e,"volume_24h"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetProducts(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i["id"]},s=await this.publicGetProductsId(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at"),r=this.safeString(e,"order_id"),s=this.safeString(e,"taker_side"),n=this.safeString(e,"my_side"),a=void 0!==n?n:s;let o=void 0;void 0!==n&&(o=s===n?"taker":"maker");const c=this.safeString(e,"price"),d=this.safeString(e,"quantity"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(m.stringMul(c,d)),f=this.safeString(e,"id");let p=void 0;return void 0!==t&&(p=t["symbol"]),{info:e,id:f,order:r,timestamp:i,datetime:this.iso8601(i),symbol:p,type:void 0,side:a,takerOrMaker:o,price:h,amount:u,cost:l,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={product_id:s["id"]};void 0!==i&&(n["limit"]=i),void 0!==t&&(n["timestamp"]=parseInt(t/1e3));const a=await this.publicGetExecutions(this.extend(n,r)),o=void 0!==t?a:a["models"];return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={product_id:s["id"],with_details:!0};void 0!==i&&(n["limit"]=i);const a=await this.privateGetExecutionsMe(this.extend(n,r));return this.parseTrades(a["models"],s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.safeString2(n,"clientOrderId","client_order_id");n=this.omit(n,["clientOrderId","client_order_id"]);const o={order_type:t,product_id:this.marketId(e),side:i,quantity:this.amountToPrecision(e,r)};void 0!==a&&(o["client_order_id"]=a),"limit"!==t&&"limit_post_only"!==t&&"market_with_range"!==t&&"stop"!==t||(o["price"]=this.priceToPrecision(e,s));const c=await this.privatePostOrders(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePutOrdersIdCancel(this.extend(r,i)),n=this.parseOrder(s);if("closed"===n["status"]&&this.options["cancelOrderException"])throw new c(this.id+" order closed already: "+this.json(s));return n}async editOrder(e,t,i,r,s,n,o={}){if(await this.loadMarkets(),void 0===n)throw new a(this.id+" editOrder() requires the price argument");const c={order:{quantity:this.amountToPrecision(t,s),price:this.priceToPrecision(t,n)},id:e},d=await this.privatePutOrdersId(this.extend(c,o));return this.parseOrder(d)}parseOrderStatus(e){const t={live:"open",filled:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"created_at"),s=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,s);const n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeNumber(e,"quantity");let o=this.safeNumber(e,"filled_quantity");const c=this.safeNumber(e,"price");let d=void 0,h=void 0;void 0!==t&&(d=t["symbol"],h=t["quote"]);const u=this.safeString(e,"order_type");let l=0,f=0,p=this.safeNumber(e,"average_price");const m=this.parseTrades(this.safeValue(e,"executions",[]),t,void 0,void 0,{order:i,type:u}),g=m.length;for(let k=0;k<g;k++){const e=m[k];e["order"]=i,e["type"]=u,f=this.sum(f,e["amount"]),l=this.sum(l,e["cost"])}let y=void 0,v=void 0;g>0&&(v=m[g-1]["timestamp"],!p&&f>0&&(p=l/f),void 0===y&&(y=l),void 0===o&&(o=f));let b=void 0;void 0!==a&&void 0!==o&&(b=a-o);const w=this.safeString(e,"side"),S=this.safeString(e,"client_order_id");return{id:i,clientOrderId:S,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:v,type:u,timeInForce:void 0,postOnly:void 0,status:n,symbol:d,side:w,price:c,stopPrice:void 0,amount:a,filled:o,cost:y,remaining:b,average:p,trades:m,fee:{currency:h,cost:this.safeNumber(e,"order_fee")},info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={with_details:1};void 0!==e&&(s=this.market(e),n["product_id"]=s["id"]),void 0!==i&&(n["limit"]=i);const a=await this.privateGetOrders(this.extend(n,r)),o=this.safeValue(a,"models",[]);return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={status:"live"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"filled"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],address:i,amount:t};if(void 0!==r)if("XRP"===e)a["payment_id"]=r;else{if("XLM"!==e)throw new f(this.id+" withdraw() only supports a tag along the address for XRP or XLM");a["memo_type"]="text",a["memo_value"]=r}const o=await this.privatePostCryptoWithdrawals(this.extend(a,s));return this.parseTransaction(o,n)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e));const a=await this.privateGetCryptoWithdrawals(this.extend(s,r)),o=this.safeValue(a,"models",[]);return this.parseTransactions(o,n,t,i)}parseTransactionStatus(e){const t={pending:"pending",cancelled:"canceled",approved:"ok",processing:"pending",processed:"ok",reverted:"failed",to_be_reviewed:"pending",declined:"failed",broadcasted:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString2(e,"payment_id","memo_value"),n=this.safeString(e,"transaction_hash"),a=this.safeString2(e,"currency","asset"),o=this.safeCurrencyCode(a,t),c=this.safeTimestamp(e,"created_at"),d=this.safeTimestamp(e,"updated_at"),h="withdrawal",u=this.parseTransactionStatus(this.safeString(e,"state")),l=this.safeNumber(e,"amount"),f=this.safeNumber(e,"withdrawal_fee");return{info:e,id:i,txid:n,timestamp:c,datetime:this.iso8601(c),address:r,tag:s,type:h,amount:l,currency:o,status:u,updated:d,fee:{currency:o,cost:f}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(s={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"private"===t){this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(n=this.json(o));const e=this.nonce(),t={path:a,token_id:this.apiKey,iat:Math.floor(e/1e3)};"client_order_id"in o||(t["nonce"]=e),s["X-Quoine-Auth"]=this.jwt(t,this.encode(this.secret))}else Object.keys(o).length&&(a+="?"+this.urlencode(o));return a=this.urls["api"]+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(e>=200&&e<300)return;if(401===e)return void this.throwExactlyMatchedException(this.exceptions,a,a);if(429===e)throw new l(this.id+" "+a);if(void 0===o)return;const h=this.id+" "+a,u=this.safeString(o,"message"),f=this.safeValue(o,"errors");if(void 0!==u)this.throwExactlyMatchedException(this.exceptions,u,h);else{if(void 0===f)throw new n(h);{const e=Object.keys(f);for(let t=0;t<e.length;t++){const i=e[t],r=f[i];for(let e=0;e<r.length;e++){const t=r[e];this.throwExactlyMatchedException(this.exceptions,t,h)}}}}}}},4804:function(e,t,i){},"480e":function(e,t,i){"use strict";i("7db0");var r=i("7560");t["a"]=r["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:r["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(e){return!e.isComment&&" "!==e.text}))}})},4840:function(e,t,i){var r=i("825a"),s=i("1c0b"),n=i("b622"),a=n("species");e.exports=function(e,t){var i,n=r(e).constructor;return void 0===n||void 0==(i=r(n)[a])?t:s(i)}},"485e":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,BadRequest:a,OrderNotFound:o,InvalidOrder:c,InvalidNonce:d,InsufficientFunds:h,AuthenticationError:u,PermissionDenied:l,NotSupported:f,OnMaintenance:p,RateLimitExceeded:m,ExchangeNotAvailable:g}=i("74b0"),{TICK_SIZE:y}=i("5ea4"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gemini",name:"Gemini",countries:["US"],rateLimit:1500,version:"v1",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:{public:"https://api.gemini.com",private:"https://api.gemini.com",web:"https://docs.gemini.com"},www:"https://gemini.com/",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:{public:"https://api.sandbox.gemini.com",private:"https://api.sandbox.gemini.com",web:"https://docs.gemini.com"},fees:["https://gemini.com/api-fee-schedule","https://gemini.com/trading-fees","https://gemini.com/transfer-fees"]},api:{web:{get:["rest-api"]},public:{get:["v1/symbols","v1/pricefeed","v1/pubticker/{symbol}","v1/book/{symbol}","v1/trades/{symbol}","v1/auction/{symbol}","v1/auction/{symbol}/history","v2/candles/{symbol}/{timeframe}","v2/ticker/{symbol}"]},private:{post:["v1/order/new","v1/order/cancel","v1/order/cancel/session","v1/order/cancel/all","v1/order/status","v1/orders","v1/mytrades","v1/notionalvolume","v1/tradevolume","v1/transfers","v1/balances","v1/deposit/{currency}/newAddress","v1/withdraw/{currency}","v1/heartbeat","v1/transfers"]}},precisionMode:y,fees:{trading:{taker:.0035,maker:.001}},httpExceptions:{400:a,403:l,404:o,406:h,429:m,500:s,502:g,503:p},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1hr","6h":"6hr","1d":"1day"},exceptions:{exact:{AuctionNotOpen:a,ClientOrderIdTooLong:a,ClientOrderIdMustBeString:a,ConflictingOptions:a,EndpointMismatch:a,EndpointNotFound:a,IneligibleTiming:a,InsufficientFunds:h,InvalidJson:a,InvalidNonce:d,InvalidOrderType:c,InvalidPrice:c,InvalidQuantity:c,InvalidSide:c,InvalidSignature:u,InvalidSymbol:a,InvalidTimestampInPayload:a,Maintenance:p,MarketNotOpen:c,MissingApikeyHeader:u,MissingOrderField:c,MissingRole:u,MissingPayloadHeader:u,MissingSignatureHeader:u,NoSSL:u,OptionsMustBeArray:a,OrderNotFound:o,RateLimit:m,System:s,UnsupportedOption:a},broad:{"The Gemini Exchange is currently undergoing maintenance.":p,"We are investigating technical issues with the Gemini Exchange.":g}},options:{fetchMarketsMethod:"fetch_markets_from_web",fetchTickerMethod:"fetchTickerV1"}})}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarketsMethod","fetch_markets_from_api");return await this[t](e)}async fetchMarketsFromWeb(e={}){const t=await this.webGetRestApi(e),i=t.split('<h1 id="symbols-and-minimums">Symbols and minimums</h1>'),r=i.length,s=this.id+" the "+this.name+" API doc HTML markup has changed, breaking the parser of order limits and precision info for "+this.name+" markets.";if(2!==r)throw new f(s);const n=i[1].split("tbody>"),a=n.length;if(a<2)throw new f(s);const o=n[1].split("\n<tr>\n"),c=o.length;if(c<2)throw new f(s);const d=[];for(let h=1;h<c;h++){const e=o[h],t=e.split("</td>\n"),i=t.length;if(i<5)throw new f(s);const r=t[0].replace("<td>",""),n=t[1].replace("<td>",""),a=n.split(" "),c=this.safeNumber(a,0),u=t[2].replace("<td>",""),l=u.split(" "),p=this.safeNumber(l,0),m=r.length-0,g=r.slice(m-3,m),y=this.safeCurrencyCode(g),v=t[3].replace("<td>",""),b=v.split(" "),w=this.safeNumber(b,0),S=r.replace(g,""),k=this.safeCurrencyCode(S),_=k+"/"+y,O=void 0;d.push({id:r,info:e,symbol:_,base:k,quote:y,baseId:S,quoteId:g,active:O,precision:{amount:p,price:w},limits:{amount:{min:c,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return d}async fetchMarketsFromAPI(e={}){const t=await this.publicGetV1Symbols(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=e,n=e.length-0,a=e.slice(0,n-3),o=e.slice(n-3,n),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:void 0,price:void 0};i.push({id:e,info:s,symbol:h,base:c,quote:d,baseId:a,quoteId:o,precision:u,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},active:void 0})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r["limit_bids"]=t,r["limit_asks"]=t);const s=await this.publicGetV1BookSymbol(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}async fetchTickerV1(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetV1PubtickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickerV2(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetV2TickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickerV1AndV2(e,t={}){const i=await this.fetchTickerV1(e,t),r=await this.fetchTickerV2(e,t);return this.deepExtend(i,{open:r["open"],high:r["high"],low:r["low"],change:r["change"],percentage:r["percentage"],average:r["average"],info:r["info"]})}async fetchTicker(e,t={}){const i=this.safeValue(this.options,"fetchTickerMethod","fetchTickerV1");return await this[i](e,t)}parseTicker(e,t){const i=this.safeValue(e,"volume",{}),r=this.safeInteger(i,"timestamp");let s=void 0;const n=this.safeString(e,"pair");let a=void 0,o=void 0,c=void 0,d=void 0;if(void 0!==n)if(n in this.markets_by_id)t=this.markets_by_id[n];else{const e=n.length-0;7===e?(a=n.slice(0,4),o=n.slice(4,7)):(a=n.slice(0,3),o=n.slice(3,6)),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),s=c+"/"+d}void 0===s&&void 0!==t&&(s=t["symbol"],a=t["baseId"].toUpperCase(),o=t["quoteId"].toUpperCase(),c=t["base"],d=t["quote"]);const h=this.safeNumber(e,"price"),u=this.safeNumber2(e,"last","close",h);let l=this.safeNumber(e,"percentChange24h"),f=void 0,p=this.safeNumber(e,"open"),m=void 0;void 0!==u&&(void 0!==p?(f=u-p,0!==p&&(l=f/p*100),m=this.sum(u,p)/2):void 0!==l&&(f=u*l,void 0===p&&(p=u-f),m=this.sum(u,p)/2));const g=this.safeNumber(i,a),y=this.safeNumber(i,o),v=this.vwap(g,y);return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:v,open:p,close:u,last:u,previousClose:void 0,change:f,percentage:l,average:m,baseVolume:g,quoteVolume:y,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetV1Pricefeed(t);return this.parseTickers(i,e)}parseTrade(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"tid"),s=this.safeString(e,"order_id"),n=this.safeString(e,"fee_currency"),a=this.safeCurrencyCode(n),o={cost:this.safeNumber(e,"fee_amount"),currency:a},c=this.safeString(e,"price"),d=this.safeString(e,"amount"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(v.stringMul(c,d)),f=void 0,p=this.safeStringLower(e,"type"),m=this.safeSymbol(void 0,t);return{id:r,order:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:m,type:f,side:p,takerOrMaker:void 0,price:h,cost:l,amount:u,fee:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.publicGetV1TradesSymbol(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostV1Balances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"available"),a["total"]=this.safeString(e,"amount"),i[n]=a}return this.parseBalance(i,!1)}parseOrder(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeNumber(e,"original_amount"),s=this.safeNumber(e,"remaining_amount"),n=this.safeNumber(e,"executed_amount");let a="closed";e["is_live"]&&(a="open"),e["is_cancelled"]&&(a="canceled");const o=this.safeNumber(e,"price"),c=this.safeNumber(e,"avg_execution_price");let d=this.safeString(e,"type");d="exchange limit"===d?"limit":"market buy"===d||"market sell"===d?"market":e["type"];const h=void 0,u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t),f=this.safeString(e,"order_id"),p=this.safeStringLower(e,"side"),m=this.safeString(e,"client_order_id");return this.safeOrder({id:f,clientOrderId:m,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:a,symbol:l,type:d,timeInForce:void 0,postOnly:void 0,side:p,price:o,stopPrice:void 0,average:c,cost:void 0,amount:r,filled:n,remaining:s,fee:h,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePostV1OrderStatus(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostV1Orders(r);let n=void 0;return void 0!==e&&(n=this.market(e)),this.parseOrders(s,n,t,i)}async createOrder(e,t,i,r,n,a={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o=this.nonce(),c={client_order_id:o.toString(),symbol:this.marketId(e),amount:r.toString(),price:n.toString(),side:i,type:"exchange limit"},d=await this.privatePostV1OrderNew(this.extend(c,a));return{info:d,id:d["order_id"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostV1OrderCancel(this.extend(r,i))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s["id"]};void 0!==i&&(a["limit_trades"]=i),void 0!==t&&(a["timestamp"]=parseInt(t/1e3));const o=await this.privatePostV1Mytrades(this.extend(a,r));return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],amount:t,address:i},o=await this.privatePostV1WithdrawCurrency(this.extend(a,s));return{info:o,id:this.safeString(o,"txHash")}}nonce(){return this.milliseconds()}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["limit_transfers"]=i),void 0!==t&&(s["timestamp"]=t);const n=await this.privatePostV1Transfers(this.extend(s,r));return this.parseTransactions(n)}parseTransaction(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r,t),n=this.safeString(e,"destination"),a=this.safeStringLower(e,"type");let o="pending";e["status"]&&(o="ok");let c=void 0;const d=this.safeNumber(e,"feeAmount");return void 0!==d&&(c={cost:d,currency:s}),{info:e,id:this.safeString(e,"eid"),txid:this.safeString(e,"txHash"),timestamp:i,datetime:this.iso8601(i),address:n,tag:void 0,type:a,amount:this.safeNumber(e,"amount"),currency:s,status:o,updated:void 0,fee:c}}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({request:a,nonce:e},o);let i=this.json(t);i=this.stringToBase64(i);const r=this.hmac(i,this.encode(this.secret),"sha384");s={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(i),"X-GEMINI-SIGNATURE":r}}else Object.keys(o).length&&(a+="?"+this.urlencode(o));return a=this.urls["api"][t]+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o){if("string"===typeof a){const e=this.id+" "+a;this.throwBroadlyMatchedException(this.exceptions["broad"],a,e)}return}const h=this.safeString(o,"result");if("error"===h){const e=this.safeString(o,"reason"),t=this.safeString(o,"message"),i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new s(i)}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostV1DepositCurrencyNewAddress(this.extend(r,t)),n=this.safeString(s,"address");return this.checkAddress(n),{currency:e,address:n,tag:void 0,info:s}}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={timeframe:this.timeframes[t],symbol:n["id"]},o=await this.publicGetV2CandlesSymbolTimeframe(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}}},"48af":function(e,t,i){var r=i("0e30"),s=i("c101"),n=r(s);e.exports=n},4930:function(e,t,i){var r=i("2d00"),s=i("d039");e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"495d":function(e,t,i){},"498a":function(e,t,i){"use strict";var r=i("23e7"),s=i("58a8").trim,n=i("c8d2");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return s(this)}})},"4a34":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,ExchangeNotAvailable:a,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,DDoSProtection:h,InvalidNonce:u,AuthenticationError:l,RateLimitExceeded:f,PermissionDenied:p,NotSupported:m,BadRequest:g,BadSymbol:y,AccountSuspended:v,OrderImmediatelyFillable:b}=i("74b0"),{TRUNCATE:w}=i("5ea4"),S=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binance",name:"Binance",countries:["JP","MT"],rateLimit:500,certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,fetchCurrencies:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchFundingHistory:!0,fetchFundingRate:!0,fetchFundingRates:!0,fetchIsolatedPositions:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchPositions:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!1,fetchWithdrawals:!0,setLeverage:!0,setMarginMode:!0,withdraw:!0,transfer:!0,fetchTransfers:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",test:{dapiPublic:"https://testnet.binancefuture.com/dapi/v1",dapiPrivate:"https://testnet.binancefuture.com/dapi/v1",fapiPublic:"https://testnet.binancefuture.com/fapi/v1",fapiPrivate:"https://testnet.binancefuture.com/fapi/v1",fapiPrivateV2:"https://testnet.binancefuture.com/fapi/v2",public:"https://testnet.binance.vision/api/v3",private:"https://testnet.binance.vision/api/v3",v3:"https://testnet.binance.vision/api/v3",v1:"https://testnet.binance.vision/api/v1"},api:{wapi:"https://api.binance.com/wapi/v3",sapi:"https://api.binance.com/sapi/v1",dapiPublic:"https://dapi.binance.com/dapi/v1",dapiPrivate:"https://dapi.binance.com/dapi/v1",dapiPrivateV2:"https://dapi.binance.com/dapi/v2",dapiData:"https://dapi.binance.com/futures/data",fapiPublic:"https://fapi.binance.com/fapi/v1",fapiPrivate:"https://fapi.binance.com/fapi/v1",fapiData:"https://fapi.binance.com/futures/data",fapiPrivateV2:"https://fapi.binance.com/fapi/v2",public:"https://api.binance.com/api/v3",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:{url:"https://www.binance.com/en/register?ref=BLEJC98C",discount:.2},doc:["https://binance-docs.github.io/apidocs/spot/en"],api_management:"https://www.binance.com/en/usercenter/settings/api-management",fees:"https://www.binance.com/en/fee/schedule"},api:{sapi:{get:["accountSnapshot","margin/asset","margin/pair","margin/allAssets","margin/allPairs","margin/priceIndex","asset/assetDividend","asset/dribblet","asset/transfer","asset/assetDetail","asset/tradeFee","margin/loan","margin/repay","margin/account","margin/transfer","margin/interestHistory","margin/forceLiquidationRec","margin/order","margin/openOrders","margin/allOrders","margin/myTrades","margin/maxBorrowable","margin/maxTransferable","margin/isolated/transfer","margin/isolated/account","margin/isolated/pair","margin/isolated/allPairs","margin/interestRateHistory","fiatpayment/query/deposit/history","fiatpayment/query/withdraw/history","futures/transfer","futures/loan/borrow/history","futures/loan/repay/history","futures/loan/wallet","futures/loan/configs","futures/loan/calcAdjustLevel","futures/loan/calcMaxAdjustAmount","futures/loan/adjustCollateral/history","futures/loan/liquidationHistory","capital/config/getall","capital/deposit/address","capital/deposit/hisrec","capital/deposit/subAddress","capital/deposit/subHisrec","capital/withdraw/history","bnbBurn","sub-account/assets","sub-account/futures/account","sub-account/futures/accountSummary","sub-account/futures/positionRisk","sub-account/futures/internalTransfer","sub-account/list","sub-account/margin/account","sub-account/margin/accountSummary","sub-account/spotSummary","sub-account/status","sub-account/sub/transfer/history","sub-account/transfer/subUserHistory","sub-account/universalTransfer","lending/daily/product/list","lending/daily/userLeftQuota","lending/daily/userRedemptionQuota","lending/daily/token/position","lending/union/account","lending/union/purchaseRecord","lending/union/redemptionRecord","lending/union/interestHistory","lending/project/list","lending/project/position/list","mining/pub/algoList","mining/pub/coinList","mining/worker/detail","mining/worker/list","mining/payment/list","mining/statistics/user/status","mining/statistics/user/list","bswap/pools","bswap/liquidity","bswap/liquidityOps","bswap/quote","bswap/swap","blvt/tokenInfo","blvt/subscribe/record","blvt/redeem/record","blvt/userLimit","apiReferral/ifNewUser","apiReferral/customization","apiReferral/userCustomization","apiReferral/rebate/recentRecord","apiReferral/rebate/historicalRecord","apiReferral/kickback/recentRecord","apiReferral/kickback/historicalRecord","broker/subAccountApi","broker/subAccount","broker/subAccountApi/commission/futures","broker/subAccountApi/commission/coinFutures","broker/info","broker/transfer","broker/transfer/futures","broker/rebate/recentRecord","broker/rebate/historicalRecord","broker/subAccount/bnbBurn/status","broker/subAccount/depositHist","broker/subAccount/spotSummary","broker/subAccount/marginSummary","broker/subAccount/futuresSummary","broker/rebate/futures/recentRecord","broker/subAccountApi/ipRestriction","broker/universalTransfer"],post:["asset/dust","asset/transfer","account/disableFastWithdrawSwitch","account/enableFastWithdrawSwitch","capital/withdraw/apply","margin/transfer","margin/loan","margin/repay","margin/order","margin/isolated/create","margin/isolated/transfer","bnbBurn","sub-account/margin/transfer","sub-account/margin/enable","sub-account/margin/enable","sub-account/futures/enable","sub-account/futures/transfer","sub-account/futures/internalTransfer","sub-account/transfer/subToSub","sub-account/transfer/subToMaster","sub-account/universalTransfer","userDataStream","userDataStream/isolated","futures/transfer","futures/loan/borrow","futures/loan/repay","futures/loan/adjustCollateral","lending/customizedFixed/purchase","lending/daily/purchase","lending/daily/redeem","bswap/liquidityAdd","bswap/liquidityRemove","bswap/swap","blvt/subscribe","blvt/redeem","apiReferral/customization","apiReferral/userCustomization","apiReferral/rebate/historicalRecord","apiReferral/kickback/historicalRecord","broker/subAccount","broker/subAccount/margin","broker/subAccount/futures","broker/subAccountApi","broker/subAccountApi/permission","broker/subAccountApi/commission","broker/subAccountApi/commission/futures","broker/subAccountApi/commission/coinFutures","broker/transfer","broker/transfer/futures","broker/rebate/historicalRecord","broker/subAccount/bnbBurn/spot","broker/subAccount/bnbBurn/marginInterest","broker/subAccount/blvt","broker/subAccountApi/ipRestriction","broker/subAccountApi/ipRestriction/ipList","broker/universalTransfer","broker/subAccountApi/permission/universalTransfer","broker/subAccountApi/permission/vanillaOptions"],put:["userDataStream","userDataStream/isolated"],delete:["margin/openOrders","margin/order","userDataStream","userDataStream/isolated","broker/subAccountApi","broker/subAccountApi/ipRestriction/ipList"]},wapi:{post:["withdraw","sub-account/transfer"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","apiTradingStatus","userAssetDribbletLog","tradeFee","assetDetail","sub-account/list","sub-account/transfer/history","sub-account/assets"]},dapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","premiumIndex","fundingRate","klines","continuousKlines","indexPriceKlines","markPriceKlines","ticker/24hr","ticker/price","ticker/bookTicker","openInterest"]},dapiData:{get:["openInterestHist","topLongShortAccountRatio","topLongShortPositionRatio","globalLongShortAccountRatio","takerBuySellVol","basis"]},dapiPrivate:{get:["positionSide/dual","order","openOrder","openOrders","allOrders","balance","account","positionMargin/history","positionRisk","userTrades","income","leverageBracket","forceOrders","adlQuantile"],post:["positionSide/dual","order","batchOrders","countdownCancelAll","leverage","marginType","positionMargin","listenKey"],put:["listenKey"],delete:["order","allOpenOrders","batchOrders","listenKey"]},dapiPrivateV2:{get:["leverageBracket"]},fapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","klines","continuousKlines","fundingRate","premiumIndex","ticker/24hr","ticker/price","ticker/bookTicker","openInterest","indexInfo"]},fapiData:{get:["openInterestHist","topLongShortAccountRatio","topLongShortPositionRatio","globalLongShortAccountRatio","takerlongshortRatio"]},fapiPrivate:{get:["forceOrders","allOrders","openOrder","openOrders","order","account","balance","leverageBracket","positionMargin/history","positionRisk","positionSide/dual","userTrades","income","commissionRate","apiTradingStatus","multiAssetsMargin","apiReferral/ifNewUser","apiReferral/customization","apiReferral/userCustomization","apiReferral/traderNum","apiReferral/overview","apiReferral/tradeVol","apiReferral/rebateVol","apiReferral/traderSummary"],post:["batchOrders","positionSide/dual","positionMargin","marginType","order","leverage","listenKey","countdownCancelAll","multiAssetsMargin","apiReferral/customization","apiReferral/userCustomization"],put:["listenKey"],delete:["batchOrders","order","allOpenOrders","listenKey"]},fapiPrivateV2:{get:["account","balance","positionRisk"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["ping","time","depth","trades","aggTrades","historicalTrades","klines","ticker/24hr","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["allOrderList","openOrderList","orderList","order","openOrders","allOrders","account","myTrades"],post:["order/oco","order","order/test"],delete:["openOrders","orderList","order"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:.001,maker:.001},future:{trading:{feeSide:"quote",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000400"),maker:this.parseNumber("0.000200"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000400")],[this.parseNumber("250"),this.parseNumber("0.000400")],[this.parseNumber("2500"),this.parseNumber("0.000350")],[this.parseNumber("7500"),this.parseNumber("0.000320")],[this.parseNumber("22500"),this.parseNumber("0.000300")],[this.parseNumber("50000"),this.parseNumber("0.000270")],[this.parseNumber("100000"),this.parseNumber("0.000250")],[this.parseNumber("200000"),this.parseNumber("0.000220")],[this.parseNumber("400000"),this.parseNumber("0.000200")],[this.parseNumber("750000"),this.parseNumber("0.000170")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000200")],[this.parseNumber("250"),this.parseNumber("0.000160")],[this.parseNumber("2500"),this.parseNumber("0.000140")],[this.parseNumber("7500"),this.parseNumber("0.000120")],[this.parseNumber("22500"),this.parseNumber("0.000100")],[this.parseNumber("50000"),this.parseNumber("0.000080")],[this.parseNumber("100000"),this.parseNumber("0.000060")],[this.parseNumber("200000"),this.parseNumber("0.000040")],[this.parseNumber("400000"),this.parseNumber("0.000020")],[this.parseNumber("750000"),this.parseNumber("0")]]}}},delivery:{trading:{feeSide:"base",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000500"),maker:this.parseNumber("0.000100"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000500")],[this.parseNumber("250"),this.parseNumber("0.000450")],[this.parseNumber("2500"),this.parseNumber("0.000400")],[this.parseNumber("7500"),this.parseNumber("0.000300")],[this.parseNumber("22500"),this.parseNumber("0.000250")],[this.parseNumber("50000"),this.parseNumber("0.000240")],[this.parseNumber("100000"),this.parseNumber("0.000240")],[this.parseNumber("200000"),this.parseNumber("0.000240")],[this.parseNumber("400000"),this.parseNumber("0.000240")],[this.parseNumber("750000"),this.parseNumber("0.000240")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000100")],[this.parseNumber("250"),this.parseNumber("0.000080")],[this.parseNumber("2500"),this.parseNumber("0.000050")],[this.parseNumber("7500"),this.parseNumber("0.0000030")],[this.parseNumber("22500"),this.parseNumber("0")],[this.parseNumber("50000"),this.parseNumber("-0.000050")],[this.parseNumber("100000"),this.parseNumber("-0.000060")],[this.parseNumber("200000"),this.parseNumber("-0.000070")],[this.parseNumber("400000"),this.parseNumber("-0.000080")],[this.parseNumber("750000"),this.parseNumber("-0.000090")]]}}}},commonCurrencies:{BCC:"BCC",YOYO:"YOYOW"},options:{fetchCurrencies:!1,defaultTimeInForce:"GTC",defaultType:"spot",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"FULL"},quoteOrderQty:!0,broker:{spot:"x-R4BD3S82",margin:"x-R4BD3S82",future:"x-xcKtGhcu",delivery:"x-xcKtGhcu"},accountsByType:{main:"MAIN",spot:"MAIN",margin:"MARGIN",future:"UMFUTURE",delivery:"CMFUTURE",mining:"MINING"},typesByAccount:{MAIN:"spot",MARGIN:"margin",UMFUTURE:"future",CMFUTURE:"delivery",MINING:"mining"}},exceptions:{exact:{"System abnormality":s,"You are not authorized to execute this request.":p,"API key does not exist":l,"Order would trigger immediately.":b,"Stop price would trigger immediately.":b,"Order would immediately match and take.":b,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":a,"You don't have permission.":p,"Market is closed.":a,"Too many requests.":h,"-1000":a,"-1001":a,"-1002":l,"-1003":f,"-1013":d,"-1015":f,"-1016":a,"-1020":g,"-1021":u,"-1022":l,"-1100":g,"-1101":g,"-1102":g,"-1103":g,"-1104":g,"-1105":g,"-1106":g,"-1111":g,"-1112":d,"-1114":g,"-1115":g,"-1116":g,"-1117":g,"-1118":g,"-1119":g,"-1120":g,"-1121":y,"-1125":l,"-1127":g,"-1128":g,"-1130":g,"-1131":g,"-2008":l,"-2010":s,"-2011":c,"-2013":c,"-2014":l,"-2015":l,"-2019":o,"-3005":o,"-3008":o,"-3010":s,"-3022":v,"-4028":g,"-3020":o,"-3041":o,"-5013":o},broad:{"has no operation privilege":p,MAX_POSITION:d}}})}currencyToPrecision(e,t){return this.numberToString(t)}nonce(){return this.milliseconds()-this.options["timeDifference"]}async fetchTime(e={}){const t=this.safeString2(this.options,"fetchTime","defaultType","spot");let i="publicGetTime";"future"===t?i="fapiPublicGetTime":"delivery"===t&&(i="dapiPublicGetTime");const r=await this[i](e);return this.safeInteger(r,"serverTime")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options["timeDifference"]=i-t,this.options["timeDifference"]}async fetchCurrencies(e={}){const t=this.safeValue(this.options,"fetchCurrencies");if(!t)return;if(!this.checkRequiredCredentials(!1))return;const i=this.safeString(this.urls,"apiBackup");if(void 0!==i)return;const r=await this.sapiGetCapitalConfigGetall(e),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"coin"),i=this.safeString(e,"name"),a=this.safeCurrencyCode(t),o=void 0;let c=!0,d=!0;const h=this.safeValue(e,"networkList",[]),u={};let l=void 0;for(let r=0;r<h.length;r++){const e=h[r],t=this.safeString(e,"network"),i=this.safeNumber(e,"withdrawFee"),s=this.safeValue(e,"depositEnable"),n=this.safeValue(e,"withdrawEnable");d=d||s,c=c||n,u[t]=i;const a=this.safeValue(e,"isDefault");(a||void 0===l)&&(l=i)}const f=this.safeValue(e,"trading"),p=c&&d&&f;s[a]={id:t,name:i,code:a,precision:o,info:e,active:p,fee:l,fees:u,limits:this.limits}}return s}async fetchMarkets(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type");if("spot"!==i&&"future"!==i&&"margin"!==i&&"delivery"!==i)throw new s(this.id+" does not support '"+i+"' type, set exchange.options['defaultType'] to 'spot', 'margin', 'delivery' or 'future'");let n="publicGetExchangeInfo";"future"===i?n="fapiPublicGetExchangeInfo":"delivery"===i&&(n="dapiPublicGetExchangeInfo");const a=await this[n](r);this.options["adjustForTimeDifference"]&&await this.loadTimeDifference();const o=this.safeValue(a,"symbols",[]),c=[];for(let s=0;s<o.length;s++){const e=o[s],t="spot"===i,r="future"===i,n="delivery"===i,a=this.safeString(e,"symbol"),d=this.safeStringLower(e,"symbol"),h=this.safeString(e,"baseAsset"),u=this.safeString(e,"quoteAsset"),l=this.safeCurrencyCode(h),f=this.safeCurrencyCode(u),p=this.safeString(e,"contractType"),m=(r||n)&&"PERPETUAL"!==p;let g=void 0,y=void 0;m?(g=a,y=this.safeInteger(e,"deliveryDate")):g=l+"/"+f;const v=this.safeValue(e,"filters",[]),b=this.indexBy(v,"filterType"),w={base:this.safeInteger(e,"baseAssetPrecision"),quote:this.safeInteger(e,"quotePrecision"),amount:this.safeInteger(e,"quantityPrecision"),price:this.safeInteger(e,"pricePrecision")},S=this.safeString2(e,"status","contractStatus"),k="TRADING"===S,_=this.safeValue(e,"isMarginTradingAllowed",!1);let O=void 0,T=this.fees;(r||n)&&(O=this.safeString(e,"contractSize","1"),T=this.fees[i]);const C=T["trading"]["maker"],I=T["trading"]["taker"],x={id:a,lowercaseId:d,symbol:g,base:l,quote:f,baseId:h,quoteId:u,info:e,spot:t,type:i,margin:_,future:r,delivery:n,linear:r,inverse:n,expiry:y,expiryDatetime:this.iso8601(y),active:k,precision:w,contractSize:O,maker:C,taker:I,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}};if("PRICE_FILTER"in b){const e=this.safeValue(b,"PRICE_FILTER",{});x["limits"]["price"]={min:this.safeNumber(e,"minPrice"),max:this.safeNumber(e,"maxPrice")},x["precision"]["price"]=this.precisionFromString(e["tickSize"])}if("LOT_SIZE"in b){const e=this.safeValue(b,"LOT_SIZE",{}),t=this.safeString(e,"stepSize");x["precision"]["amount"]=this.precisionFromString(t),x["limits"]["amount"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MARKET_LOT_SIZE"in b){const e=this.safeValue(b,"MARKET_LOT_SIZE",{});x["limits"]["market"]={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MIN_NOTIONAL"in b){const e=this.safeValue(b,"MIN_NOTIONAL",{});x["limits"]["cost"]["min"]=this.safeNumber2(e,"minNotional","notional")}c.push(x)}return c}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t);let r="privateGetAccount";if("future"===i){const e=this.safeValue(this.options,"future",{}),t=this.safeValue(e,"fetchBalance",{});r=this.safeString(t,"method","fapiPrivateV2GetAccount")}else if("delivery"===i){const e=this.safeValue(this.options,"delivery",{}),t=this.safeValue(e,"fetchBalance",{});r=this.safeString(t,"method","dapiPrivateGetAccount")}else"margin"===i&&(r="sapiGetMarginAccount");const s=this.omit(e,"type"),n=await this[r](s),a={info:n};let o=void 0;if("spot"===i||"margin"===i){o=this.safeInteger(n,"updateTime");const e=this.safeValue2(n,"balances","userAssets",[]);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(i,"free"),n["used"]=this.safeString(i,"locked"),a[s]=n}}else{let e=n;Array.isArray(n)||(e=this.safeValue(n,"assets",[]));for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),n=this.account();n["free"]=this.safeString(i,"availableBalance"),n["used"]=this.safeString(i,"initialMargin"),n["total"]=this.safeString2(i,"marginBalance","balance"),a[s]=n}}return a["timestamp"]=o,a["datetime"]=this.iso8601(o),this.parseBalance(a,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};void 0!==t&&(s["limit"]=t);let n="publicGetDepth";r["linear"]?n="fapiPublicGetDepth":r["inverse"]&&(n="dapiPublicGetDepth");const a=await this[n](this.extend(s,i)),o=this.safeInteger(a,"T"),c=this.parseOrderBook(a,e,o);return c["nonce"]=this.safeInteger(a,"lastUpdateId"),c}parseTicker(e,t){const i=this.safeInteger(e,"closeTime"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"lastPrice"),a="baseVolume"in e;let o=void 0,c=void 0;return a?(o=this.safeNumber(e,"baseVolume"),c=this.safeNumber(e,"volume")):(o=this.safeNumber(e,"volume"),c=this.safeNumber(e,"quoteVolume")),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:this.safeNumber(e,"weightedAvgPrice"),open:this.safeNumber(e,"openPrice"),close:n,last:n,previousClose:this.safeNumber(e,"prevClosePrice"),change:this.safeNumber(e,"priceChange"),percentage:this.safeNumber(e,"priceChangePercent"),average:void 0,baseVolume:o,quoteVolume:c,info:e}}async fetchStatus(e={}){const t=await this.wapiGetSystemStatus(e);let i=this.safeString(t,"status");return void 0!==i&&(i="0"===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]};let s="publicGetTicker24hr";i["linear"]?s="fapiPublicGetTicker24hr":i["inverse"]&&(s="dapiPublicGetTicker24hr");const n=await this[s](this.extend(r,t));if(Array.isArray(n)){const e=this.safeValue(n,0,{});return this.parseTicker(e,i)}return this.parseTicker(n,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchBidsAsks","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type");let n=void 0;n="future"===r?"fapiPublicGetTickerBookTicker":"delivery"===r?"dapiPublicGetTickerBookTicker":"publicGetTickerBookTicker";const a=await this[n](s);return this.parseTickers(a,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchTickers","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type");let n=void 0;n="future"===r?"fapiPublicGetTicker24hr":"delivery"===r?"dapiPublicGetTicker24hr":"publicGetTicker24hr";const a=this.safeString(this.options,"fetchTickersMethod",n),o=await this[a](s);return this.parseTickers(o,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=500,o=1500;r=void 0===r?a:Math.min(r,o);const c={symbol:n["id"],interval:this.timeframes[t],limit:r},d=this.parseTimeframe(t);if(void 0!==i&&(c["startTime"]=i,i>0)){const e=this.sum(i,r*d*1e3-1),t=this.milliseconds();c["endTime"]=Math.min(t,e)}let h="publicGetKlines";n["linear"]?h="fapiPublicGetKlines":n["inverse"]&&(h="dapiPublicGetKlines");const u=await this[h](this.extend(c,s));return this.parseOHLCVs(u,n,t,i,r)}parseTrade(e,t){if("isDustTrade"in e)return this.parseDustTrade(e,t);const i=this.safeInteger2(e,"T","time"),r=this.safeString2(e,"p","price"),s=this.safeString2(e,"q","qty"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(S.stringMul(r,s));let c=this.safeString2(e,"t","a");c=this.safeString(e,"id",c);let d=void 0;const h=this.safeString(e,"orderId");"m"in e?d=e["m"]?"sell":"buy":"isBuyerMaker"in e?d=e["isBuyerMaker"]?"sell":"buy":"side"in e?d=this.safeStringLower(e,"side"):"isBuyer"in e&&(d=e["isBuyer"]?"buy":"sell");let u=void 0;"commission"in e&&(u={cost:this.safeNumber(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});let l=void 0;"isMaker"in e&&(l=e["isMaker"]?"maker":"taker"),"maker"in e&&(l=e["maker"]?"maker":"taker");const f=this.safeString(e,"symbol"),p=this.safeSymbol(f,t);return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,id:c,order:h,type:void 0,side:d,takerOrMaker:l,price:n,amount:a,cost:o,fee:u}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=this.safeString2(this.options,"fetchTrades","defaultType","spot"),o=this.safeString(r,"type",a),c=this.omit(r,"type");let d=void 0;d="future"===o?"fapiPublicGetAggTrades":"delivery"===o?"dapiPublicGetAggTrades":"publicGetAggTrades";let h=this.safeString(this.options,"fetchTradesMethod",d);"publicGetAggTrades"===h?(void 0!==t&&(n["startTime"]=t,n["endTime"]=this.sum(t,36e5)),"future"===o?h="fapiPublicGetAggTrades":"delivery"===o&&(h="dapiPublicGetAggTrades")):"publicGetHistoricalTrades"===h&&("future"===o?h="fapiPublicGetHistoricalTrades":"delivery"===o&&(h="dapiPublicGetHistoricalTrades")),void 0!==i&&(n["limit"]=i);const u=await this[h](this.extend(n,c));return this.parseTrades(u,s,t,i)}parseOrderStatus(e){const t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeString(e,"executedQty","0"),a=this.parseNumber(n),o=parseFloat(n);let c=void 0,d=void 0;"time"in e?c=this.safeInteger(e,"time"):"transactTime"in e?c=this.safeInteger(e,"transactTime"):"updateTime"in e&&"open"===i&&(o>0?d=this.safeInteger(e,"updateTime"):c=this.safeInteger(e,"updateTime"));const h=this.safeString(e,"avgPrice"),u=this.parseNumber(this.omitZero(h)),l=this.safeString(e,"price"),f=this.parseNumber(this.omitZero(l)),p=this.safeNumber(e,"origQty"),m=this.safeNumber2(e,"cummulativeQuoteQty","cumQuote"),g=this.safeString(e,"orderId");let y=this.safeStringLower(e,"type");const v=this.safeStringLower(e,"side"),b=this.safeValue(e,"fills",[]),w=this.parseTrades(b,t),S=this.safeString(e,"clientOrderId"),k=this.safeString(e,"timeInForce"),_="limit_maker"===y||"GTX"===k;"limit_maker"===y&&(y="limit");const O=this.safeString(e,"stopPrice"),T=this.parseNumber(this.omitZero(O));return this.safeOrder({info:e,id:g,clientOrderId:S,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:d,symbol:s,type:y,timeInForce:k,postOnly:_,side:v,price:f,stopPrice:T,amount:p,cost:m,average:u,filled:a,remaining:void 0,status:i,fee:void 0,trades:w})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=this.safeString2(this.options,"createOrder","defaultType","spot"),c=this.safeString(n,"type",o),h=this.safeString2(n,"newClientOrderId","clientOrderId");n=this.omit(n,["type","newClientOrderId","clientOrderId"]);let u="privatePostOrder";if("future"===c?u="fapiPrivatePostOrder":"delivery"===c?u="dapiPrivatePostOrder":"margin"===c&&(u="sapiPostMarginOrder"),a["spot"]){const e=this.safeValue(n,"test",!1);e&&(u+="Test"),n=this.omit(n,"test")}const l=t.toUpperCase(),f=this.safeValue(a["info"],"orderTypes");if(!this.inArray(l,f))throw new d(this.id+" "+t+" is not a valid order type in market "+e);const p={symbol:a["id"],type:l,side:i.toUpperCase()};if(void 0===h){const e=this.safeValue(this.options,"broker");if(e){const t=this.safeString(e,c);void 0!==t&&(p["newClientOrderId"]=t+this.uuid22())}}else p["newClientOrderId"]=h;p["newOrderRespType"]="spot"===c||"margin"===c?this.safeValue(this.options["newOrderRespType"],t,"RESULT"):"RESULT";let m=!1,g=!1,y=!1,v=!1;if("MARKET"===l){const e=this.safeValue(this.options,"quoteOrderQty",!1);if(e){const e=this.safeNumber(n,"quoteOrderQty"),t=a["precision"]["price"];void 0!==e?(p["quoteOrderQty"]=this.decimalToPrecision(e,w,t,this.precisionMode),n=this.omit(n,"quoteOrderQty")):void 0!==s?p["quoteOrderQty"]=this.decimalToPrecision(r*s,w,t,this.precisionMode):v=!0}else v=!0}else if("LIMIT"===l)g=!0,m=!0,v=!0;else if("STOP_LOSS"===l||"TAKE_PROFIT"===l)y=!0,v=!0,(a["linear"]||a["inverse"])&&(g=!0);else if("STOP_LOSS_LIMIT"===l||"TAKE_PROFIT_LIMIT"===l)v=!0,y=!0,g=!0,m=!0;else if("LIMIT_MAKER"===l)g=!0,v=!0;else if("STOP"===l)v=!0,y=!0,g=!0;else if("STOP_MARKET"===l||"TAKE_PROFIT_MARKET"===l){const e=this.safeValue(n,"closePosition");void 0===e&&(v=!0),y=!0}else if("TRAILING_STOP_MARKET"===l){v=!0;const e=this.safeNumber(n,"callbackRate");if(void 0===e)throw new d(this.id+" createOrder() requires a callbackRate extra param for a "+t+" order")}if(v&&(p["quantity"]=this.amountToPrecision(e,r)),g){if(void 0===s)throw new d(this.id+" createOrder() requires a price argument for a "+t+" order");p["price"]=this.priceToPrecision(e,s)}if(m&&(p["timeInForce"]=this.options["defaultTimeInForce"]),y){const i=this.safeNumber(n,"stopPrice");if(void 0===i)throw new d(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");n=this.omit(n,"stopPrice"),p["stopPrice"]=this.priceToPrecision(e,i)}const b=await this[u](this.extend(p,n));return this.parseOrder(b,a)}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOrder","defaultType","spot"),a=this.safeString(i,"type",s);let o="privateGetOrder";"future"===a?o="fapiPrivateGetOrder":"delivery"===a?o="dapiPrivateGetOrder":"margin"===a&&(o="sapiGetMarginOrder");const c={symbol:r["id"]},d=this.safeValue2(i,"origClientOrderId","clientOrderId");void 0!==d?c["origClientOrderId"]=d:c["orderId"]=e;const h=this.omit(i,["type","clientOrderId","origClientOrderId"]),u=await this[o](this.extend(c,h));return this.parseOrder(u,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=this.safeString2(this.options,"fetchOrders","defaultType","spot"),o=this.safeString(r,"type",a);let c="privateGetAllOrders";"future"===o?c="fapiPrivateGetAllOrders":"delivery"===o?c="dapiPrivateGetAllOrders":"margin"===o&&(c="sapiGetMarginAllOrders");const d={symbol:s["id"]};void 0!==t&&(d["startTime"]=t),void 0!==i&&(d["limit"]=i);const h=this.omit(r,"type"),u=await this[c](this.extend(d,h));return this.parseOrders(u,s,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let n=void 0,a=void 0,o=void 0;const c={};if(void 0!==e){n=this.market(e),c["symbol"]=n["id"];const t=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");o=this.safeString(r,"type",t),a=this.omit(r,"type")}else{if(this.options["warnOnFetchOpenOrdersWithoutSymbol"]){const e=this.symbols,t=e.length,i=parseInt(t/2);throw new s(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+i.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}{const e=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");o=this.safeString(r,"type",e),a=this.omit(r,"type")}}let d="privateGetOpenOrders";"future"===o?d="fapiPrivateGetOpenOrders":"delivery"===o?d="dapiPrivateGetOpenOrders":"margin"===o&&(d="sapiGetMarginOpenOrders");const h=await this[d](this.extend(c,a));return this.parseOrders(h,n,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot"),a=this.safeString(i,"type",s),o=this.safeValue2(i,"origClientOrderId","clientOrderId"),c={symbol:r["id"]};void 0===o?c["orderId"]=e:c["origClientOrderId"]=o;let d="privateDeleteOrder";"future"===a?d="fapiPrivateDeleteOrder":"delivery"===a?d="dapiPrivateDeleteOrder":"margin"===a&&(d="sapiDeleteMarginOrder");const h=this.omit(i,["type","origClientOrderId","clientOrderId"]),u=await this[d](this.extend(c,h));return this.parseOrder(u)}async cancelAllOrders(e,t={}){if(void 0===e)throw new n(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=this.safeString2(this.options,"cancelAllOrders","defaultType","spot"),a=this.safeString(t,"type",s),o=this.omit(t,"type");let c="privateDeleteOpenOrders";"margin"===a?c="sapiDeleteMarginOpenOrders":"future"===a?c="fapiPrivateDeleteAllOpenOrders":"delivery"===a&&(c="dapiPrivateDeleteAllOpenOrders");const d=await this[c](this.extend(r,o));return Array.isArray(d)?this.parseOrders(d,i):d}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=this.safeString2(this.options,"fetchMyTrades","defaultType","spot"),o=this.safeString(r,"type",a);r=this.omit(r,"type");let c=void 0;"spot"===o?c="privateGetMyTrades":"margin"===o?c="sapiGetMarginMyTrades":"future"===o?c="fapiPrivateGetUserTrades":"delivery"===o&&(c="dapiPrivateGetUserTrades");const d={symbol:s["id"]};void 0!==t&&(d["startTime"]=t),void 0!==i&&(d["limit"]=i);const h=await this[c](this.extend(d,r));return this.parseTrades(h,s,t,i)}async fetchMyDustTrades(e,t,i,r={}){await this.loadMarkets();const s=await this.wapiGetUserAssetDribbletLog(r),n=this.safeValue(s,"results",{}),a=this.safeValue(n,"rows",[]),o=[];for(let d=0;d<a.length;d++){const e=a[d]["logs"];for(let t=0;t<e.length;t++)e[t]["isDustTrade"]=!0,o.push(e[t])}const c=this.parseTrades(o,void 0,t,i);return this.filterBySinceLimit(c,t,i)}parseDustTrade(e,t){const i=this.safeString(e,"tranId"),r=this.parse8601(this.safeString(e,"operateTime")),s=this.safeCurrencyCode(this.safeString(e,"fromAsset")),n=this.currency("BNB")["code"],a=n+"/"+s;let o=!1;a in this.markets&&(o=!0);const c={currency:n,cost:this.safeNumber(e,"serviceChargeAmount")};let d=void 0,h=void 0,u=void 0,l=void 0;o?(d=a,h=this.sum(this.safeNumber(e,"transferedAmount"),c["cost"]),u=this.safeNumber(e,"amount"),l="buy"):(d=s+"/"+n,h=this.safeNumber(e,"amount"),u=this.sum(this.safeNumber(e,"transferedAmount"),c["cost"]),l="sell");let f=void 0;void 0!==u&&h&&(f=u/h);const p=void 0,m=void 0,g=void 0;return{id:p,timestamp:r,datetime:this.iso8601(r),symbol:d,order:i,type:m,takerOrMaker:g,side:l,amount:h,price:f,cost:u,fee:c,info:e}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["coin"]=s["id"]),void 0!==t&&(n["startTime"]=t,n["endTime"]=this.sum(t,7776e6)),void 0!==i&&(n["limit"]=i);const a=await this.sapiGetCapitalDepositHisrec(this.extend(n,r));return this.parseTransactions(a,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["coin"]=s["id"]),void 0!==t&&(n["startTime"]=t,n["endTime"]=this.sum(t,7776e6)),void 0!==i&&(n["limit"]=i);const a=await this.sapiGetCapitalWithdrawHistory(this.extend(n,r));return this.parseTransactions(a,s,t,i)}parseTransactionStatusByType(e,t){const i={deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}},r=this.safeValue(i,t,{});return this.safeString(r,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address");let s=this.safeString(e,"addressTag");void 0!==s&&s.length<1&&(s=void 0);let n=this.safeString(e,"txId");void 0!==n&&n.indexOf("Internal transfer ")>=0&&(n=n.slice(18));const a=this.safeString(e,"coin"),o=this.safeCurrencyCode(a,t);let c=void 0;const d=this.safeInteger(e,"insertTime"),h=this.parse8601(this.safeString(e,"applyTime"));let u=this.safeString(e,"type");void 0===u&&(void 0!==d&&void 0===h?(u="deposit",c=d):void 0===d&&void 0!==h&&(u="withdrawal",c=h));const l=this.parseTransactionStatusByType(this.safeString(e,"status"),u),f=this.safeNumber(e,"amount"),p=this.safeNumber(e,"transactionFee");let m=void 0;void 0!==p&&(m={currency:o,cost:p});const g=this.safeInteger(e,"successTime");let y=this.safeInteger(e,"transferType",!1);return y=!!y,{info:e,id:i,txid:n,timestamp:c,datetime:this.iso8601(c),address:r,addressTo:r,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,type:u,amount:f,currency:o,status:l,updated:g,internal:y,fee:m}}parseTransferStatus(e){const t={CONFIRMED:"ok"};return this.safeString(t,e,e)}parseTransfer(e,t){const i=this.safeString(e,"tranId"),r=this.safeString(e,"asset"),s=this.safeCurrencyCode(r,t),n=this.safeNumber(e,"amount"),a=this.safeString(e,"type");let o=void 0,c=void 0;const d=this.safeValue(this.options,"typesByAccount",{});if(void 0!==a){const e=a.split("_");o=this.safeValue(e,0),c=this.safeValue(e,1),o=this.safeString(d,o,o),c=this.safeString(d,c,c)}const h=this.safeInteger(e,"timestamp"),u=this.parseTransferStatus(this.safeString(e,"status"));return{info:e,id:i,timestamp:h,datetime:this.iso8601(h),currency:s,amount:n,fromAccount:o,toAccount:c,status:u}}parseIncome(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"income"),n=this.safeString(e,"asset"),a=this.safeCurrencyCode(n),o=this.safeString(e,"tranId"),c=this.safeInteger(e,"time");return{info:e,symbol:r,code:a,timestamp:c,datetime:this.iso8601(c),id:o,amount:s}}parseIncomes(e,t,i,r){const s=[];for(let n=0;n<e.length;n++){const i=e[n],r=this.parseIncome(i,t);s.push(r)}return this.filterBySinceLimit(s,i,r,"timestamp")}async transfer(e,t,i,r,n={}){await this.loadMarkets();const a=this.currency(e);let o=this.safeString(n,"type");if(void 0===o){const e=this.safeValue(this.options,"accountsByType",{}),t=this.safeString(e,i,i),n=this.safeString(e,r,r);if(void 0===t){const t=Object.keys(e);throw new s(this.id+" fromAccount must be one of "+t.join(", "))}if(void 0===n){const t=Object.keys(e);throw new s(this.id+" toAccount must be one of "+t.join(", "))}o=t+"_"+n}const c={asset:a["id"],amount:this.currencyToPrecision(e,t),type:o},d=await this.sapiPostAssetTransfer(this.extend(c,n)),h=this.parseTransfer(d,a);return this.extend(h,{amount:t,currency:e,fromAccount:i,toAccount:r})}async fetchTransfers(e,t,i,r={}){await this.loadMarkets();const n=this.currency(e),a=this.safeString2(this.options,"fetchTransfers","defaultType","spot"),o=this.safeString(r,"fromAccount",a),c="future"===o?"spot":"future",d=this.safeString(r,"toAccount",c);let h=this.safeString(r,"type");const u=this.safeValue(this.options,"accountsByType",{}),l=this.safeString(u,o),f=this.safeString(u,d);if(void 0===h){if(void 0===l){const e=Object.keys(u);throw new s(this.id+" fromAccount parameter must be one of "+e.join(", "))}if(void 0===f){const e=Object.keys(u);throw new s(this.id+" toAccount parameter must be one of "+e.join(", "))}h=l+"_"+f}const p={type:h};void 0!==t&&(p["startTime"]=t),void 0!==i&&(p["size"]=i);const m=await this.sapiGetAssetTransfer(this.extend(p,r)),g=this.safeValue(m,"rows",[]);return this.parseTransfers(g,n,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={coin:i["id"]},s=await this.sapiGetCapitalDepositAddress(this.extend(r,t)),n=this.safeString(s,"address"),a=this.safeString(s,"tag");return this.checkAddress(n),{currency:e,address:n,tag:a,info:s}}async fetchFundingFees(e,t={}){const i=await this.sapiGetCapitalConfigGetall(t),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"coin"),n=this.safeCurrencyCode(t),a=this.safeValue(e,"networkList");r[n]={};for(let i=0;i<a.length;i++){const e=a[i],t=this.safeString(e,"network"),s=this.safeCurrencyCode(t),o=this.safeNumber(e,"withdrawFee");r[n][s]=o}}return{withdraw:r,deposit:{},info:i}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={coin:n["id"],address:i,amount:t};void 0!==r&&(a["addressTag"]=r);const o=await this.sapiPostCapitalWithdrawApply(this.extend(a,s));return{info:o,id:this.safeString(o,"id")}}parseTradingFee(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i);return{info:e,symbol:r,maker:this.safeNumber(e,"makerCommission"),taker:this.safeNumber(e,"takerCommission")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.sapiGetAssetTradeFee(this.extend(r,t)),n=this.safeValue(s,0,{});return this.parseTradingFee(n)}async fetchTradingFees(e={}){await this.loadMarkets();let t=void 0;const i=this.safeString2(this.options,"fetchFundingRates","defaultType","future"),r=this.safeString(e,"type",i),s=this.omit(e,"type");"spot"===r||"margin"===r?t="sapiGetAssetTradeFee":"future"===r?t="fapiPrivateGetAccount":"delivery"===r&&(t="dapiPrivateGetAccount");const n=await this[t](s);if("spot"===r||"margin"===r){const e={};for(let t=0;t<n.length;t++){const i=this.parseTradingFee(n[t]),r=i["symbol"];e[r]=i}return e}if("future"===r){const e=Object.keys(this.markets),t={},i=this.safeInteger(n,"feeTier"),s=this.fees[r]["trading"]["tiers"],a=s["maker"][i][1],o=s["taker"][i][1];for(let r=0;r<e.length;r++){const s=e[r];t[s]={info:{feeTier:i},symbol:s,maker:a,taker:o}}return t}if("delivery"===r){const e=Object.keys(this.markets),t={},i=this.safeInteger(n,"feeTier"),s=this.fees[r]["trading"]["tiers"],a=s["maker"][i][1],o=s["taker"][i][1];for(let r=0;r<e.length;r++){const s=e[r];t[s]={info:{feeTier:i},symbol:s,maker:a,taker:o}}return t}}async futuresTransfer(e,t,i,r={}){if(i<1||i>4)throw new n(this.id+" type must be between 1 and 4");await this.loadMarkets();const s=this.currency(e),a={asset:s["id"],amount:t,type:i},o=await this.sapiPostFuturesTransfer(this.extend(a,r));return this.parseTransfer(o,s)}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]};let s=void 0;if(i["linear"])s="fapiPublicGetPremiumIndex";else{if(!i["inverse"])throw m(this.id+" setMarginMode() supports linear and inverse contracts only");s="dapiPublicGetPremiumIndex"}const n=await this[s](this.extend(r,t));return this.parseFundingRate(n)}async fetchFundingRates(e,t={}){await this.loadMarkets();let i=void 0;const r=this.safeString2(this.options,"fetchFundingRates","defaultType","future"),s=this.safeString(t,"type",r),n=this.omit(t,"type");if("future"===s)i="fapiPublicGetPremiumIndex";else{if("delivery"!==s)throw m(this.id+" setMarginMode() supports linear and inverse contracts only");i="dapiPublicGetPremiumIndex"}const a=await this[i](n),o=[];for(let c=0;c<a.length;c++){const e=a[c],t=this.parseFundingRate(e);o.push(t)}return this.filterByArray(o,"symbol",e)}parseFundingRate(e,t){const i=this.safeInteger(e,"time"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"markPrice"),a=this.safeNumber(e,"indexPrice"),o=this.safeNumber(e,"interestRate"),c=this.safeNumber(e,"lastFundingRate"),d=this.safeInteger(e,"nextFundingTime");return{info:e,symbol:s,markPrice:n,indexPrice:a,interestRate:o,timestamp:i,datetime:this.iso8601(i),fundingRate:c,nextFundingTimestamp:d,nextFundingDatetime:this.iso8601(d)}}parseAccountPositions(e){const t=this.safeValue(e,"positions"),i=this.safeValue(e,"assets"),r={};for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString(e,"asset"),s=this.safeCurrencyCode(t),a=this.safeString(e,"crossWalletBalance"),o=this.safeString(e,"crossUnPnl");r[s]={crossMargin:S.stringAdd(a,o),crossWalletBalance:a}}const s=[];for(let n=0;n<t.length;n++){const e=t[n],i=this.safeString(e,"symbol"),a=this.safeMarket(i),o="future"===this.options["defaultType"]?a["quote"]:a["base"],c=this.parsePosition(this.extend(e,{crossMargin:r[o]["crossMargin"],crossWalletBalance:r[o]["crossWalletBalance"]}),a);s.push(c)}return s}parsePosition(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const r=t["symbol"],s=this.safeString(e,"leverage"),n=parseInt(s),a=this.safeString(e,"initialMargin"),o=this.parseNumber(a);let c=S.stringDiv("1",s,8);const d=1e3%n===0;d||(c=S.stringDiv(S.stringAdd(c,"1e-8"),"1",8));const h="notional"in e,u=this.safeString(e,"maintMargin"),l=this.parseNumber(u),f=this.safeString(e,"entryPrice");let p=this.parseNumber(f);const m=this.safeString2(e,"notional","notionalValue"),g=S.stringAbs(m),y=parseFloat(m),v=parseFloat(g),b=this.parseNumber(S.stringAbs(m));let w=this.safeString(e,"positionAmt"),k=S.stringAbs(w);if(void 0===w){const e=S.stringMul(S.stringMul(s,a),f);w=S.stringDiv(e,t["contractSize"]),k=S.stringDiv(S.stringAdd(w,"0.5"),"1",0)}const _=this.parseNumber(k),O=this.safeValue(this.options,"leverageBrackets",{}),T=this.safeValue(O,r,[]);let C=void 0;for(let S=0;S<T.length;S++){const e=T[S];if(v<e[0])break;C=e[1]}const I=this.parseNumber(C),x=this.safeString(e,"unrealizedProfit"),E=this.parseNumber(x);let A=this.safeInteger(e,"updateTime");0===A&&(A=void 0);const N=this.safeValue(e,"isolated");let M=void 0,P=void 0,B=void 0;N?(M="isolated",B=this.safeString(e,"isolatedWallet"),P=S.stringAdd(B,x)):(M="cross",B=this.safeString(e,"crossWalletBalance"),P=this.safeString(e,"crossMargin"));const R=this.parseNumber(P);let D=void 0,L=void 0,V=void 0,j=void 0,q=void 0;if(0===y)p=void 0;else{if(L=y<0?"short":"long",D=this.parseNumber(S.stringDiv(u,P,4)),V=this.parseNumber(S.stringMul(S.stringDiv(x,a,4),"100")),h){let e=void 0,t=f;"short"===L?e=S.stringAdd("1",C):(e=S.stringAdd("-1",C),t=S.stringMul("-1",t));const i=S.stringDiv(B,S.stringMul(k,e)),r=S.stringDiv(t,e);j=S.stringAdd(i,r)}else{let e=void 0,i=f;"short"===L?e=S.stringSub("1",C):(e=S.stringSub("-1",C),i=S.stringMul("-1",i));const r=S.stringMul(k,t["contractSize"]),s=S.stringMul(r,e),n=S.stringSub(S.stringMul(S.stringDiv("1",i),r),B);j=S.stringDiv(s,n)}const e=t["precision"]["price"],i=e+1,r=i.toString(),s=new S("5e-"+r),n=s.toString(),o=S.stringAdd(n,j);let c=S.stringDiv(o,"1",e);"-"===c[0]&&(c=void 0),q=this.parseNumber(c)}return{info:e,symbol:r,timestamp:A,datetime:this.iso8601(A),initialMargin:o,initialMarginPercentage:this.parseNumber(c),maintenanceMargin:l,maintenanceMarginPercentage:I,entryPrice:p,notional:b,leverage:n,unrealizedPnl:E,contracts:_,marginRatio:D,liquidationPrice:q,markPrice:void 0,collateral:R,marginType:M,side:L,percentage:V}}parsePositionRisk(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t);const r=t["symbol"],s=this.safeValue(this.options,"leverageBrackets",{}),n=this.safeValue(s,r,[]),a=this.safeString2(e,"notional","notionalValue"),o=S.stringAbs(a),c=parseFloat(o),d=parseFloat(a);let h=void 0;for(let S=0;S<n.length;S++){const e=n[S];if(c<e[0])break;h=e[1]}const u=this.parseNumber(o),l=S.stringAbs(this.safeString(e,"positionAmt")),f=this.parseNumber(l),p=this.safeString(e,"unRealizedProfit"),m=this.parseNumber(p),g=this.safeString(e,"leverage"),y=parseInt(g);let v=this.safeNumber(e,"liquidationPrice");const b=this.safeString(e,"isolatedMargin"),w=parseFloat(b),k=this.parseNumber(b),_=this.safeString(e,"markPrice"),O=parseFloat(_);let T=void 0;0!==O&&(T=this.parseNumber(_));const C=this.safeNumber(e,"entryPrice"),I=this.safeInteger(e,"updateTime"),x=this.parseNumber(h),E=S.stringMul(h,o),A=this.parseNumber(E);let N=S.stringDiv("1",g,8);const M=1e3%y===0;M||(N=S.stringAdd(N,"1e-8"));const P=S.stringDiv(S.stringMul(o,N),"1",8),B=this.parseNumber(P);let R=void 0,D=void 0,L=void 0;0===w?v=void 0:(R=this.parseNumber(S.stringDiv(E,b,4)),D=d<0?"short":"long",L=this.parseNumber(S.stringMul(S.stringDiv(p,P,4),"100")));const V=this.safeString(e,"marginType");return"cross"===V&&(v=void 0),{info:e,symbol:r,contracts:f,unrealizedPnl:m,leverage:y,liquidationPrice:v,collateral:k,notional:u,markPrice:T,entryPrice:C,timestamp:I,initialMargin:B,initialMarginPercentage:this.parseNumber(N),maintenanceMargin:A,maintenanceMarginPercentage:x,marginRatio:R,datetime:this.iso8601(I),marginType:V,side:D,percentage:L}}async loadLeverageBrackets(e=!1,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"leverageBrackets");if(void 0===i||e){let e=void 0;const i=this.safeString2(this.options,"fetchPositions","defaultType","future"),r=this.safeString(t,"type",i),s=this.omit(t,"type");if("future"===r)e="fapiPrivateGetLeverageBracket";else{if("delivery"!==r)throw new m(this.id+" loadLeverageBrackets() supports linear and inverse contracts only");e="dapiPrivateV2GetLeverageBracket"}const n=await this[e](s);this.options["leverageBrackets"]={};for(let t=0;t<n.length;t++){const e=n[t],i=this.safeString(e,"symbol"),r=this.safeSymbol(i),s=this.safeValue(e,"brackets"),a=[];for(let t=0;t<s.length;t++){const e=s[t],i=this.safeFloat2(e,"notionalFloor","qtyFloor"),r=this.safeString(e,"maintMarginRatio");a.push([i,r])}this.options["leverageBrackets"][r]=a}}return this.options["leverageBrackets"]}async fetchPositions(e,t={}){await this.loadMarkets(),await this.loadLeverageBrackets();let i=void 0;const r=this.safeString2(this.options,"fetchPositions","defaultType","future"),s=this.safeString(t,"type",r),n=this.omit(t,"type");if("future"===s)i="fapiPrivateGetAccount";else{if("delivery"!==s)throw new m(this.id+" fetchPositions() supports linear and inverse contracts only");i="dapiPrivateGetAccount"}const a=await this[i](n),o=this.parseAccountPositions(a);return this.filterByArray(o,"symbol",e,!1)}async fetchIsolatedPositions(e,t={}){await this.loadMarkets(),await this.loadLeverageBrackets();const i={};let r=void 0,s=void 0,n="future";if(void 0!==e)if(r=this.market(e),i["symbol"]=r["id"],r["linear"])n="future";else{if(!r["inverse"])throw m(this.id+" fetchIsolatedPositions() supports linear and inverse contracts only");n="delivery"}n=this.safeString2(this.options,"fetchIsolatedPositions","defaultType",n);const a=this.safeString(t,"type",n);if(t=this.omit(t,"type"),"future"===a||"linear"===a)s="fapiPrivateGetPositionRisk";else{if("delivery"!==a&&"inverse"!==a)throw m(this.id+" fetchIsolatedPositions() supports linear and inverse contracts only");s="dapiPrivateGetPositionRisk"}const o=await this[s](this.extend(i,t));if(void 0===e){const e=[];for(let t=0;t<o.length;t++){const i=this.parsePositionRisk(o[t],r);"isolated"===i["marginType"]&&e.push(i)}return e}return this.parsePositionRisk(this.safeValue(o,0),r)}async fetchFundingHistory(e,t,i,r={}){await this.loadMarkets();let s=void 0,n=void 0,a="future";const o={incomeType:"FUNDING_FEE"};if(void 0!==e)if(s=this.market(e),o["symbol"]=s["id"],s["linear"])a="future";else{if(!s["inverse"])throw m(this.id+" fetchFundingHistory() supports linear and inverse contracts only");a="delivery"}void 0!==t&&(o["startTime"]=t),void 0!==i&&(o["limit"]=i),a=this.safeString2(this.options,"fetchFundingHistory","defaultType",a);const c=this.safeString(r,"type",a);if(r=this.omit(r,"type"),"future"===c||"linear"===c)n="fapiPrivateGetIncome";else{if("delivery"!==c&&"inverse"!==c)throw m(this.id+" fetchFundingHistory() supports linear and inverse contracts only");n="dapiPrivateGetIncome"}const d=await this[n](this.extend(o,r));return this.parseIncomes(d,s,t,i)}async setLeverage(e,t,i={}){if(t<1||t>125)throw new g(this.id+" leverage should be between 1 and 125");await this.loadMarkets();const r=this.market(e);let s=void 0;if(r["linear"])s="fapiPrivatePostLeverage";else{if(!r["inverse"])throw m(this.id+" setLeverage() supports linear and inverse contracts only");s="dapiPrivatePostLeverage"}const n={symbol:r["id"],leverage:t};return await this[s](this.extend(n,i))}async setMarginMode(e,t,i={}){if(t=t.toUpperCase(),"ISOLATED"!==t&&"CROSSED"!==t)throw new g(this.id+" marginType must be either isolated or crossed");await this.loadMarkets();const r=this.market(e);let s=void 0;if(r["linear"])s="fapiPrivatePostMarginType";else{if(!r["inverse"])throw m(this.id+" setMarginMode() supports linear and inverse contracts only");s="dapiPrivatePostMarginType"}const n={symbol:r["id"],marginType:t};return await this[s](this.extend(n,i))}sign(e,t="public",i="GET",r={},s,n){if(!(t in this.urls["api"]))throw new m(this.id+" does not have a testnet/sandbox URL for "+t+" endpoints");let a=this.urls["api"][t];if(a+="/"+e,"wapi"===t&&(a+=".html"),"historicalTrades"===e){if(!this.apiKey)throw new l(this.id+" historicalTrades endpoint requires `apiKey` credential");s={"X-MBX-APIKEY":this.apiKey}}const o="userDataStream"===e||"listenKey"===e;if(o){if(!this.apiKey)throw new l(this.id+" userDataStream endpoint requires `apiKey` credential");s={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"},"GET"!==i&&(n=this.urlencode(r))}else if("private"===t||"sapi"===t||"wapi"===t&&"systemStatus"!==e||"dapiPrivate"===t||"dapiPrivateV2"===t||"fapiPrivate"===t||"fapiPrivateV2"===t){this.checkRequiredCredentials();let o=void 0;const c=this.safeInteger(this.options,"recvWindow",5e3);o="sapi"===t&&"asset/dust"===e?this.urlencodeWithArrayRepeat(this.extend({timestamp:this.nonce(),recvWindow:c},r)):"batchOrders"===e||e.indexOf("sub-account")>=0?this.rawencode(this.extend({timestamp:this.nonce(),recvWindow:c},r)):this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:c},r));const d=this.hmac(this.encode(o),this.encode(this.secret));o+="&signature="+d,s={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i||"wapi"===t?a+="?"+o:(n=o,s["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(r).length&&(a+="?"+this.urlencode(r));return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+a);if(e>=400){if(a.indexOf("Price * QTY is zero or less")>=0)throw new d(this.id+" order cost = amount * price is zero or less "+a);if(a.indexOf("LOT_SIZE")>=0)throw new d(this.id+" order amount should be evenly divisible by lot size "+a);if(a.indexOf("PRICE_FILTER")>=0)throw new d(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+a)}if(void 0===o)return;const l=this.safeValue(o,"success",!0);if(!l){const e=this.safeString(o,"msg");let t=void 0;if(void 0!==e){try{t=JSON.parse(e)}catch(m){t=void 0}void 0!==t&&(o=t)}}const f=this.safeString(o,"msg");void 0!==f&&(this.throwExactlyMatchedException(this.exceptions["exact"],f,this.id+" "+f),this.throwBroadlyMatchedException(this.exceptions["broad"],f,this.id+" "+f));const p=this.safeString(o,"code");if(void 0!==p){if("200"===p||"0"===p)return;if("-2015"===p&&this.options["hasAlreadyAuthenticatedSuccessfully"])throw new h(this.id+" temporary banned: "+a);const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],p,e),new s(e)}if(!l)throw new s(this.id+" "+a)}async request(e,t="public",i="GET",r={},s,n){const a=await this.fetch2(e,t,i,r,s,n);return"private"!==t&&"wapi"!==t||(this.options["hasAlreadyAuthenticatedSuccessfully"]=!0),a}}},"4a7b":function(e,t,i){"use strict";var r=i("c532");e.exports=function(e,t){t=t||{};var i={},s=["url","method","data"],n=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function d(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(i[s]=c(void 0,e[s])):i[s]=c(e[s],t[s])}r.forEach(s,(function(e){r.isUndefined(t[e])||(i[e]=c(void 0,t[e]))})),r.forEach(n,d),r.forEach(a,(function(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(i[s]=c(void 0,e[s])):i[s]=c(void 0,t[s])})),r.forEach(o,(function(r){r in t?i[r]=c(e[r],t[r]):r in e&&(i[r]=c(void 0,e[r]))}));var h=s.concat(n).concat(a).concat(o),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===h.indexOf(e)}));return r.forEach(u,d),i}},"4a92":function(e,t,i){var r,s=i("5259");e.exports=s.jsbn=s.jsbn||{};var n=0xdeadbeefcafe,a=15715070==(16777215&n);function o(e,t,i){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,i):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function c(){return new o(null)}function d(e,t,i,r,s,n){while(--n>=0){var a=t*this.data[e++]+i.data[r]+s;s=Math.floor(a/67108864),i.data[r++]=67108863&a}return s}function h(e,t,i,r,s,n){var a=32767&t,o=t>>15;while(--n>=0){var c=32767&this.data[e],d=this.data[e++]>>15,h=o*c+d*a;c=a*c+((32767&h)<<15)+i.data[r]+(1073741823&s),s=(c>>>30)+(h>>>15)+o*d+(s>>>30),i.data[r++]=1073741823&c}return s}function u(e,t,i,r,s,n){var a=16383&t,o=t>>14;while(--n>=0){var c=16383&this.data[e],d=this.data[e++]>>14,h=o*c+d*a;c=a*c+((16383&h)<<14)+i.data[r]+s,s=(c>>28)+(h>>14)+o*d,i.data[r++]=268435455&c}return s}s.jsbn.BigInteger=o,"undefined"===typeof navigator?(o.prototype.am=u,r=28):a&&"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=h,r=30):a&&"Netscape"!=navigator.appName?(o.prototype.am=d,r=26):(o.prototype.am=u,r=28),o.prototype.DB=r,o.prototype.DM=(1<<r)-1,o.prototype.DV=1<<r;var l=52;o.prototype.FV=Math.pow(2,l),o.prototype.F1=l-r,o.prototype.F2=2*r-l;var f,p,m="0123456789abcdefghijklmnopqrstuvwxyz",g=new Array;for(f="0".charCodeAt(0),p=0;p<=9;++p)g[f++]=p;for(f="a".charCodeAt(0),p=10;p<36;++p)g[f++]=p;for(f="A".charCodeAt(0),p=10;p<36;++p)g[f++]=p;function y(e){return m.charAt(e)}function v(e,t){var i=g[e.charCodeAt(t)];return null==i?-1:i}function b(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function w(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function S(e){var t=c();return t.fromInt(e),t}function k(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(e,t);i=2}this.t=0,this.s=0;var r=e.length,s=!1,n=0;while(--r>=0){var a=8==i?255&e[r]:v(e,r);a<0?"-"==e.charAt(r)&&(s=!0):(s=!1,0==n?this.data[this.t++]=a:n+i>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-n)-1)<<n,this.data[this.t++]=a>>this.DB-n):this.data[this.t-1]|=a<<n,n+=i,n>=this.DB&&(n-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,n>0&&(this.data[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),s&&o.ZERO.subTo(this,this)}function _(){var e=this.s&this.DM;while(this.t>0&&this.data[this.t-1]==e)--this.t}function O(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,r=(1<<t)-1,s=!1,n="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0){o<this.DB&&(i=this.data[a]>>o)>0&&(s=!0,n=y(i));while(a>=0)o<t?(i=(this.data[a]&(1<<o)-1)<<t-o,i|=this.data[--a]>>(o+=this.DB-t)):(i=this.data[a]>>(o-=t)&r,o<=0&&(o+=this.DB,--a)),i>0&&(s=!0),s&&(n+=y(i))}return s?n:"0"}function T(){var e=c();return o.ZERO.subTo(this,e),e}function C(){return this.s<0?this.negate():this}function I(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;while(--i>=0)if(0!=(t=this.data[i]-e.data[i]))return t;return 0}function x(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function E(){return this.t<=0?0:this.DB*(this.t-1)+x(this.data[this.t-1]^this.s&this.DM)}function A(e,t){var i;for(i=this.t-1;i>=0;--i)t.data[i+e]=this.data[i];for(i=e-1;i>=0;--i)t.data[i]=0;t.t=this.t+e,t.s=this.s}function N(e,t){for(var i=e;i<this.t;++i)t.data[i-e]=this.data[i];t.t=Math.max(this.t-e,0),t.s=this.s}function M(e,t){var i,r=e%this.DB,s=this.DB-r,n=(1<<s)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)t.data[i+a+1]=this.data[i]>>s|o,o=(this.data[i]&n)<<r;for(i=a-1;i>=0;--i)t.data[i]=0;t.data[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()}function P(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var r=e%this.DB,s=this.DB-r,n=(1<<r)-1;t.data[0]=this.data[i]>>r;for(var a=i+1;a<this.t;++a)t.data[a-i-1]|=(this.data[a]&n)<<s,t.data[a-i]=this.data[a]>>r;r>0&&(t.data[this.t-i-1]|=(this.s&n)<<s),t.t=this.t-i,t.clamp()}}function B(e,t){var i=0,r=0,s=Math.min(e.t,this.t);while(i<s)r+=this.data[i]-e.data[i],t.data[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r-=e.s;while(i<this.t)r+=this.data[i],t.data[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(i<e.t)r-=e.data[i],t.data[i++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t.data[i++]=this.DV+r:r>0&&(t.data[i++]=r),t.t=i,t.clamp()}function R(e,t){var i=this.abs(),r=e.abs(),s=i.t;t.t=s+r.t;while(--s>=0)t.data[s]=0;for(s=0;s<r.t;++s)t.data[s+i.t]=i.am(0,r.data[s],t,s,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)}function D(e){var t=this.abs(),i=e.t=2*t.t;while(--i>=0)e.data[i]=0;for(i=0;i<t.t-1;++i){var r=t.am(i,t.data[i],e,2*i,0,1);(e.data[i+t.t]+=t.am(i+1,2*t.data[i],e,2*i+1,r,t.t-i-1))>=t.DV&&(e.data[i+t.t]-=t.DV,e.data[i+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(i,t.data[i],e,2*i,0,1)),e.s=0,e.clamp()}function L(e,t,i){var r=e.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=c());var n=c(),a=this.s,d=e.s,h=this.DB-x(r.data[r.t-1]);h>0?(r.lShiftTo(h,n),s.lShiftTo(h,i)):(r.copyTo(n),s.copyTo(i));var u=n.t,l=n.data[u-1];if(0!=l){var f=l*(1<<this.F1)+(u>1?n.data[u-2]>>this.F2:0),p=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,y=i.t,v=y-u,b=null==t?c():t;n.dlShiftTo(v,b),i.compareTo(b)>=0&&(i.data[i.t++]=1,i.subTo(b,i)),o.ONE.dlShiftTo(u,b),b.subTo(n,n);while(n.t<u)n.data[n.t++]=0;while(--v>=0){var w=i.data[--y]==l?this.DM:Math.floor(i.data[y]*p+(i.data[y-1]+g)*m);if((i.data[y]+=n.am(0,w,i,v,0,u))<w){n.dlShiftTo(v,b),i.subTo(b,i);while(i.data[y]<--w)i.subTo(b,i)}}null!=t&&(i.drShiftTo(u,t),a!=d&&o.ZERO.subTo(t,t)),i.t=u,i.clamp(),h>0&&i.rShiftTo(h,i),a<0&&o.ZERO.subTo(i,i)}}}function V(e){var t=c();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t}function j(e){this.m=e}function q(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function U(e){return e}function G(e){e.divRemTo(this.m,null,e)}function F(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function H(e,t){e.squareTo(t),this.reduce(t)}function z(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function K(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function W(e){var t=c();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t}function $(e){var t=c();return e.copyTo(t),this.reduce(t),t}function Y(e){while(e.t<=this.mt2)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e.data[t],r=i*this.mpl+((i*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;i=t+this.m.t,e.data[i]+=this.m.am(0,r,e,t,0,this.m.t);while(e.data[i]>=e.DV)e.data[i]-=e.DV,e.data[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function X(e,t){e.squareTo(t),this.reduce(t)}function Q(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function Z(){return 0==(this.t>0?1&this.data[0]:this.s)}function J(e,t){if(e>4294967295||e<1)return o.ONE;var i=c(),r=c(),s=t.convert(this),n=x(e)-1;s.copyTo(i);while(--n>=0)if(t.sqrTo(i,r),(e&1<<n)>0)t.mulTo(r,s,i);else{var a=i;i=r,r=a}return t.revert(i)}function ee(e,t){var i;return i=e<256||t.isEven()?new j(t):new K(t),this.exp(e,i)}function te(){var e=c();return this.copyTo(e),e}function ie(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function re(){return 0==this.t?this.s:this.data[0]<<24>>24}function se(){return 0==this.t?this.s:this.data[0]<<16>>16}function ne(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function ae(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function oe(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),r=S(i),s=c(),n=c(),a="";this.divRemTo(r,s,n);while(s.signum()>0)a=(i+n.intValue()).toString(e).substr(1)+a,s.divRemTo(r,s,n);return n.intValue().toString(e)+a}function ce(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),r=Math.pow(t,i),s=!1,n=0,a=0,c=0;c<e.length;++c){var d=v(e,c);d<0?"-"==e.charAt(c)&&0==this.signum()&&(s=!0):(a=t*a+d,++n>=i&&(this.dMultiply(r),this.dAddOffset(a,0),n=0,a=0))}n>0&&(this.dMultiply(Math.pow(t,n)),this.dAddOffset(a,0)),s&&o.ZERO.subTo(this,this)}function de(e,t,i){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),ye,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(t))this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this)}else{var r=new Array,s=7&e;r.length=1+(e>>3),t.nextBytes(r),s>0?r[0]&=(1<<s)-1:r[0]=0,this.fromString(r,256)}}function he(){var e=this.t,t=new Array;t[0]=this.s;var i,r=this.DB-e*this.DB%8,s=0;if(e-- >0){r<this.DB&&(i=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=i|this.s<<this.DB-r);while(e>=0)r<8?(i=(this.data[e]&(1<<r)-1)<<8-r,i|=this.data[--e]>>(r+=this.DB-8)):(i=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(t[s++]=i)}return t}function ue(e){return 0==this.compareTo(e)}function le(e){return this.compareTo(e)<0?this:e}function fe(e){return this.compareTo(e)>0?this:e}function pe(e,t,i){var r,s,n=Math.min(e.t,this.t);for(r=0;r<n;++r)i.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){for(s=e.s&this.DM,r=n;r<this.t;++r)i.data[r]=t(this.data[r],s);i.t=this.t}else{for(s=this.s&this.DM,r=n;r<e.t;++r)i.data[r]=t(s,e.data[r]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function me(e,t){return e&t}function ge(e){var t=c();return this.bitwiseTo(e,me,t),t}function ye(e,t){return e|t}function ve(e){var t=c();return this.bitwiseTo(e,ye,t),t}function be(e,t){return e^t}function we(e){var t=c();return this.bitwiseTo(e,be,t),t}function Se(e,t){return e&~t}function ke(e){var t=c();return this.bitwiseTo(e,Se,t),t}function _e(){for(var e=c(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function Oe(e){var t=c();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Te(e){var t=c();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Ce(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function Ie(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+Ce(this.data[e]);return this.s<0?this.t*this.DB:-1}function xe(e){var t=0;while(0!=e)e&=e-1,++t;return t}function Ee(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=xe(this.data[i]^t);return e}function Ae(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)}function Ne(e,t){var i=o.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i}function Me(e){return this.changeBit(e,ye)}function Pe(e){return this.changeBit(e,Se)}function Be(e){return this.changeBit(e,be)}function Re(e,t){var i=0,r=0,s=Math.min(e.t,this.t);while(i<s)r+=this.data[i]+e.data[i],t.data[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r+=e.s;while(i<this.t)r+=this.data[i],t.data[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(i<e.t)r+=e.data[i],t.data[i++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t.data[i++]=r:r<-1&&(t.data[i++]=this.DV+r),t.t=i,t.clamp()}function De(e){var t=c();return this.addTo(e,t),t}function Le(e){var t=c();return this.subTo(e,t),t}function Ve(e){var t=c();return this.multiplyTo(e,t),t}function je(e){var t=c();return this.divRemTo(e,t,null),t}function qe(e){var t=c();return this.divRemTo(e,null,t),t}function Ue(e){var t=c(),i=c();return this.divRemTo(e,t,i),new Array(t,i)}function Ge(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Fe(e,t){if(0!=e){while(this.t<=t)this.data[this.t++]=0;this.data[t]+=e;while(this.data[t]>=this.DV)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function He(){}function ze(e){return e}function Ke(e,t,i){e.multiplyTo(t,i)}function We(e,t){e.squareTo(t)}function $e(e){return this.exp(e,new He)}function Ye(e,t,i){var r,s=Math.min(this.t+e.t,t);i.s=0,i.t=s;while(s>0)i.data[--s]=0;for(r=i.t-this.t;s<r;++s)i.data[s+this.t]=this.am(0,e.data[s],i,s,0,this.t);for(r=Math.min(e.t,t);s<r;++s)this.am(0,e.data[s],i,s,0,t-s);i.clamp()}function Xe(e,t,i){--t;var r=i.t=this.t+e.t-t;i.s=0;while(--r>=0)i.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)i.data[this.t+r-t]=this.am(t-r,e.data[r],i,0,0,this.t+r-t);i.clamp(),i.drShiftTo(1,i)}function Qe(e){this.r2=c(),this.q3=c(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Ze(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=c();return e.copyTo(t),this.reduce(t),t}function Je(e){return e}function et(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function tt(e,t){e.squareTo(t),this.reduce(t)}function it(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function rt(e,t){var i,r,s=e.bitLength(),n=S(1);if(s<=0)return n;i=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new j(t):t.isEven()?new Qe(t):new K(t);var a=new Array,o=3,d=i-1,h=(1<<i)-1;if(a[1]=r.convert(this),i>1){var u=c();r.sqrTo(a[1],u);while(o<=h)a[o]=c(),r.mulTo(u,a[o-2],a[o]),o+=2}var l,f,p=e.t-1,m=!0,g=c();s=x(e.data[p])-1;while(p>=0){s>=d?l=e.data[p]>>s-d&h:(l=(e.data[p]&(1<<s+1)-1)<<d-s,p>0&&(l|=e.data[p-1]>>this.DB+s-d)),o=i;while(0==(1&l))l>>=1,--o;if((s-=o)<0&&(s+=this.DB,--p),m)a[l].copyTo(n),m=!1;else{while(o>1)r.sqrTo(n,g),r.sqrTo(g,n),o-=2;o>0?r.sqrTo(n,g):(f=n,n=g,g=f),r.mulTo(g,a[l],n)}while(p>=0&&0==(e.data[p]&1<<s))r.sqrTo(n,g),f=n,n=g,g=f,--s<0&&(s=this.DB-1,--p)}return r.revert(n)}function st(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var r=t;t=i,i=r}var s=t.getLowestSetBit(),n=i.getLowestSetBit();if(n<0)return t;s<n&&(n=s),n>0&&(t.rShiftTo(n,t),i.rShiftTo(n,i));while(t.signum()>0)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return n>0&&i.lShiftTo(n,i),i}function nt(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)i=(t*i+this.data[r])%e;return i}function at(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;var i=e.clone(),r=this.clone(),s=S(1),n=S(0),a=S(0),c=S(1);while(0!=i.signum()){while(i.isEven())i.rShiftTo(1,i),t?(s.isEven()&&n.isEven()||(s.addTo(this,s),n.subTo(e,n)),s.rShiftTo(1,s)):n.isEven()||n.subTo(e,n),n.rShiftTo(1,n);while(r.isEven())r.rShiftTo(1,r),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);i.compareTo(r)>=0?(i.subTo(r,i),t&&s.subTo(a,s),n.subTo(c,n)):(r.subTo(i,r),t&&a.subTo(s,a),c.subTo(n,c))}return 0!=r.compareTo(o.ONE)?o.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c}j.prototype.convert=q,j.prototype.revert=U,j.prototype.reduce=G,j.prototype.mulTo=F,j.prototype.sqrTo=H,K.prototype.convert=W,K.prototype.revert=$,K.prototype.reduce=Y,K.prototype.mulTo=Q,K.prototype.sqrTo=X,o.prototype.copyTo=b,o.prototype.fromInt=w,o.prototype.fromString=k,o.prototype.clamp=_,o.prototype.dlShiftTo=A,o.prototype.drShiftTo=N,o.prototype.lShiftTo=M,o.prototype.rShiftTo=P,o.prototype.subTo=B,o.prototype.multiplyTo=R,o.prototype.squareTo=D,o.prototype.divRemTo=L,o.prototype.invDigit=z,o.prototype.isEven=Z,o.prototype.exp=J,o.prototype.toString=O,o.prototype.negate=T,o.prototype.abs=C,o.prototype.compareTo=I,o.prototype.bitLength=E,o.prototype.mod=V,o.prototype.modPowInt=ee,o.ZERO=S(0),o.ONE=S(1),He.prototype.convert=ze,He.prototype.revert=ze,He.prototype.mulTo=Ke,He.prototype.sqrTo=We,Qe.prototype.convert=Ze,Qe.prototype.revert=Je,Qe.prototype.reduce=et,Qe.prototype.mulTo=it,Qe.prototype.sqrTo=tt;var ot=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ct=(1<<26)/ot[ot.length-1];function dt(e){var t,i=this.abs();if(1==i.t&&i.data[0]<=ot[ot.length-1]){for(t=0;t<ot.length;++t)if(i.data[0]==ot[t])return!0;return!1}if(i.isEven())return!1;t=1;while(t<ot.length){var r=ot[t],s=t+1;while(s<ot.length&&r<ct)r*=ot[s++];r=i.modInt(r);while(t<s)if(r%ot[t++]==0)return!1}return i.millerRabin(e)}function ht(e){var t=this.subtract(o.ONE),i=t.getLowestSetBit();if(i<=0)return!1;for(var r,s=t.shiftRight(i),n=ut(),a=0;a<e;++a){do{r=new o(this.bitLength(),n)}while(r.compareTo(o.ONE)<=0||r.compareTo(t)>=0);var c=r.modPow(s,this);if(0!=c.compareTo(o.ONE)&&0!=c.compareTo(t)){var d=1;while(d++<i&&0!=c.compareTo(t))if(c=c.modPowInt(2,this),0==c.compareTo(o.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0}function ut(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}o.prototype.chunkSize=ne,o.prototype.toRadix=oe,o.prototype.fromRadix=ce,o.prototype.fromNumber=de,o.prototype.bitwiseTo=pe,o.prototype.changeBit=Ne,o.prototype.addTo=Re,o.prototype.dMultiply=Ge,o.prototype.dAddOffset=Fe,o.prototype.multiplyLowerTo=Ye,o.prototype.multiplyUpperTo=Xe,o.prototype.modInt=nt,o.prototype.millerRabin=ht,o.prototype.clone=te,o.prototype.intValue=ie,o.prototype.byteValue=re,o.prototype.shortValue=se,o.prototype.signum=ae,o.prototype.toByteArray=he,o.prototype.equals=ue,o.prototype.min=le,o.prototype.max=fe,o.prototype.and=ge,o.prototype.or=ve,o.prototype.xor=we,o.prototype.andNot=ke,o.prototype.not=_e,o.prototype.shiftLeft=Oe,o.prototype.shiftRight=Te,o.prototype.getLowestSetBit=Ie,o.prototype.bitCount=Ee,o.prototype.testBit=Ae,o.prototype.setBit=Me,o.prototype.clearBit=Pe,o.prototype.flipBit=Be,o.prototype.add=De,o.prototype.subtract=Le,o.prototype.multiply=Ve,o.prototype.divide=je,o.prototype.remainder=qe,o.prototype.divideAndRemainder=Ue,o.prototype.modPow=rt,o.prototype.modInverse=at,o.prototype.pow=$e,o.prototype.gcd=st,o.prototype.isProbablePrime=dt},"4ab0":function(e,t){e.exports.linebrk=function(e,t){var i="",r=0;while(r+t<e.length)i+=e.substring(r,r+t)+"\n",r+=t;return i+e.substring(r,e.length)},e.exports.get32IntFromBuffer=function(e,t){t=t||0;var i=0;if((i=e.length-t)>0){if(i>=4)return e.readUInt32BE(t);for(var r=0,s=t+i,n=0;s>t;s--,n+=2)r+=e[s-1]*Math.pow(16,n);return r}return NaN},e.exports._={isObject:function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)},omit:function(e,t){var i={};for(var r in e)e.hasOwnProperty(r)&&r!==t&&(i[r]=e[r]);return i}},e.exports.trimSurroundingText=function(e,t,i){var r=0,s=e.length,n=e.indexOf(t);n>=0&&(r=n+t.length);var a=e.indexOf(i,n);return a>=0&&(s=a),e.substring(r,s)}},"4ad4":function(e,t,i){"use strict";var r=i("53ca"),s=(i("caad"),i("b64b"),i("b0c0"),i("16b7")),n=i("f2e7"),a=i("58df"),o=i("80d2"),c=i("d9bd"),d=Object(a["a"])(s["a"],n["a"]);t["a"]=d.extend({name:"activatable",props:{activator:{default:null,validator:function(e){return["string","object"].includes(Object(r["a"])(e))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:function(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}},watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted:function(){var e=Object(o["t"])(this,"activator",!0);e&&["v-slot","normal"].includes(e)&&Object(c["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function(){this.removeActivatorEvents()},methods:{addActivatorEvents:function(){if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();for(var e=Object.keys(this.listeners),t=0,i=e;t<i.length;t++){var r=i[t];this.getActivator().addEventListener(r,this.listeners[r])}}},genActivator:function(){var e=Object(o["s"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=e,e},genActivatorAttributes:function(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners:function(){var e=this;if(this.disabled)return{};var t={};return this.openOnHover?(t.mouseenter=function(t){e.getActivator(t),e.runDelay("open")},t.mouseleave=function(t){e.getActivator(t),e.runDelay("close")}):t.click=function(t){var i=e.getActivator(t);i&&i.focus(),t.stopPropagation(),e.isActive=!e.isActive},this.openOnFocus&&(t.focus=function(t){e.getActivator(t),t.stopPropagation(),e.isActive=!e.isActive}),t},getActivator:function(e){var t;if(this.activatorElement)return this.activatorElement;var i=null;if(this.activator){var r=this.internalActivator?this.$el:document;i="string"===typeof this.activator?r.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!e){var s=this.activatorNode[0].componentInstance;i=s&&s.$options.mixins&&s.$options.mixins.some((function(e){return e.options&&["activatable","menuable"].includes(e.options.name)}))?s.getActivator():this.activatorNode[0].elm}else e&&(i=e.currentTarget||e.target);return this.activatorElement=(null==(t=i)?void 0:t.nodeType)===Node.ELEMENT_NODE?i:null,this.activatorElement},getContentSlot:function(){return Object(o["s"])(this,"default",this.getValueProxy(),!0)},getValueProxy:function(){var e=this;return{get value(){return e.isActive},set value(t){e.isActive=t}}},removeActivatorEvents:function(){if(this.activator&&this.activatorElement){for(var e=Object.keys(this.listeners),t=0,i=e;t<i.length;t++){var r=i[t];this.activatorElement.removeEventListener(r,this.listeners[r])}this.listeners={}}},resetActivator:function(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},"4ae1":function(e,t,i){var r=i("23e7"),s=i("d066"),n=i("1c0b"),a=i("825a"),o=i("861d"),c=i("7c73"),d=i("0538"),h=i("d039"),u=s("Reflect","construct"),l=h((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),f=!h((function(){u((function(){}))})),p=l||f;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){n(e),a(t);var i=arguments.length<3?e:n(arguments[2]);if(f&&!l)return u(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(d.apply(e,r))}var s=i.prototype,h=c(o(s)?s:Object.prototype),p=Function.apply.call(e,h,t);return o(p)?p:h}})},"4b85":function(e,t,i){},"4c61":function(e,t,i){var r=i("5a7c"),s=i("563e"),n=i("ac9b"),a=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=n.init,e.prototype["@@transducer/result"]=n.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var i=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?s(i):i},e}(),o=r((function(e,t){return new a(e,t)}));e.exports=o},"4d63":function(e,t,i){var r=i("83ab"),s=i("da84"),n=i("94ca"),a=i("7156"),o=i("9112"),c=i("9bf2").f,d=i("241c").f,h=i("44e7"),u=i("ad6d"),l=i("9f7f"),f=i("6eeb"),p=i("d039"),m=i("5135"),g=i("69f3").enforce,y=i("2626"),v=i("b622"),b=i("fce3"),w=i("107c"),S=v("match"),k=s.RegExp,_=k.prototype,O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,C=/a/g,I=new k(T)!==T,x=l.UNSUPPORTED_Y,E=r&&(!I||x||b||w||p((function(){return C[S]=!1,k(T)!=T||k(C)==C||"/a/i"!=k(T,"i")}))),A=function(e){for(var t,i=e.length,r=0,s="",n=!1;r<=i;r++)t=e.charAt(r),"\\"!==t?n||"."!==t?("["===t?n=!0:"]"===t&&(n=!1),s+=t):s+="[\\s\\S]":s+=t+e.charAt(++r);return s},N=function(e){for(var t,i=e.length,r=0,s="",n=[],a={},o=!1,c=!1,d=0,h="";r<=i;r++){if(t=e.charAt(r),"\\"===t)t+=e.charAt(++r);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:O.test(e.slice(r+1))&&(r+=2,c=!0),s+=t,d++;continue;case">"===t&&c:if(""===h||m(a,h))throw new SyntaxError("Invalid capture group name");a[h]=!0,n.push([h,d]),c=!1,h="";continue}c?h+=t:s+=t}return[s,n]};if(n("RegExp",E)){for(var M=function(e,t){var i,r,s,n,c,d,l=this instanceof M,f=h(e),p=void 0===t,m=[],y=e;if(!l&&f&&p&&e.constructor===M)return e;if((f||e instanceof M)&&(e=e.source,p&&(t="flags"in y?y.flags:u.call(y))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),y=e,b&&"dotAll"in T&&(r=!!t&&t.indexOf("s")>-1,r&&(t=t.replace(/s/g,""))),i=t,x&&"sticky"in T&&(s=!!t&&t.indexOf("y")>-1,s&&(t=t.replace(/y/g,""))),w&&(n=N(e),e=n[0],m=n[1]),c=a(k(e,t),l?this:_,M),(r||s||m.length)&&(d=g(c),r&&(d.dotAll=!0,d.raw=M(A(e),i)),s&&(d.sticky=!0),m.length&&(d.groups=m)),e!==y)try{o(c,"source",""===y?"(?:)":y)}catch(v){}return c},P=function(e){e in M||c(M,e,{configurable:!0,get:function(){return k[e]},set:function(t){k[e]=t}})},B=d(k),R=0;B.length>R;)P(B[R++]);_.constructor=M,M.prototype=_,f(s,"RegExp",M)}y("RegExp")},"4d64":function(e,t,i){var r=i("fc6a"),s=i("50c4"),n=i("23cb"),a=function(e){return function(t,i,a){var o,c=r(t),d=s(c.length),h=n(a,d);if(e&&i!=i){while(d>h)if(o=c[h++],o!=o)return!0}else for(;d>h;h++)if((e||h in c)&&c[h]===i)return e||h||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4dc6":function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"4de4":function(e,t,i){"use strict";var r=i("23e7"),s=i("b727").filter,n=i("1dde"),a=n("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,i){"use strict";var r=i("0366"),s=i("7b0b"),n=i("9bdd"),a=i("e95a"),o=i("50c4"),c=i("8418"),d=i("35a1");e.exports=function(e){var t,i,h,u,l,f,p=s(e),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,b=d(p),w=0;if(v&&(y=r(y,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&a(b))for(t=o(p.length),i=new m(t);t>w;w++)f=v?y(p[w],w):p[w],c(i,w,f);else for(u=b.call(p),l=u.next,i=new m;!(h=l.call(u)).done;w++)f=v?n(u,y,[h.value,w],!0):h.value,c(i,w,f);return i.length=w,i}},"4e30":function(e,t,i){(function(t){var r=i("5259");i("6497");var s=null;!r.util.isNodejs||r.options.usePureJavaScript||t.versions["node-webkit"]||(s=i(0));var n=e.exports=r.prng=r.prng||{};n.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},i=e.md,n=new Array(32),a=0;a<32;++a)n[a]=i.create();function o(e){if(t.pools[0].messageLength>=32)return d(),e();var i=32-t.pools[0].messageLength<<5;t.seedFile(i,(function(i,r){if(i)return e(i);t.collect(r),d(),e()}))}function c(){if(t.pools[0].messageLength>=32)return d();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),d()}function d(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var i=1,r=0;r<32;++r)t.reseeds%i===0&&(e.update(t.pools[r].digest().getBytes()),t.pools[r].start()),i<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var s=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(s),t.generated=0}function h(e){var t=null,i=r.util.globalScope,s=i.crypto||i.msCrypto;s&&s.getRandomValues&&(t=function(e){return s.getRandomValues(e)});var n=r.util.createBuffer();if(t)while(n.length()<e){var a=Math.max(1,Math.min(e-n.length(),65536)/4),o=new Uint32Array(Math.floor(a));try{t(o);for(var c=0;c<o.length;++c)n.putInt32(o[c])}catch(f){if(!("undefined"!==typeof QuotaExceededError&&f instanceof QuotaExceededError))throw f}}if(n.length()<e){var d,h,u,l=Math.floor(65536*Math.random());while(n.length()<e){h=16807*(65535&l),d=16807*(l>>16),h+=(32767&d)<<16,h+=d>>15,h=(2147483647&h)+(h>>31),l=4294967295&h;for(c=0;c<3;++c)u=l>>>(c<<3),u^=Math.floor(256*Math.random()),n.putByte(String.fromCharCode(255&u))}}return n.getBytes(e)}return t.pools=n,t.pool=0,t.generate=function(e,i){if(!i)return t.generateSync(e);var s=t.plugin.cipher,n=t.plugin.increment,a=t.plugin.formatKey,c=t.plugin.formatSeed,d=r.util.createBuffer();function h(u){if(u)return i(u);if(d.length()>=e)return i(null,d.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return r.util.nextTick((function(){o(h)}));var l=s(t.key,t.seed);t.generated+=l.length,d.putBytes(l),t.key=a(s(t.key,n(t.seed))),t.seed=c(s(t.key,t.seed)),r.util.setImmediate(h)}t.key=null,h()},t.generateSync=function(e){var i=t.plugin.cipher,s=t.plugin.increment,n=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;var o=r.util.createBuffer();while(o.length()<e){t.generated>1048575&&(t.key=null),null===t.key&&c();var d=i(t.key,t.seed);t.generated+=d.length,o.putBytes(d),t.key=n(i(t.key,s(t.seed))),t.seed=a(i(t.key,t.seed))}return o.getBytes(e)},s?(t.seedFile=function(e,t){s.randomBytes(e,(function(e,i){if(e)return t(e);t(null,i.toString())}))},t.seedFileSync=function(e){return s.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,h(e))}catch(i){t(i)}},t.seedFileSync=h),t.collect=function(e){for(var i=e.length,r=0;r<i;++r)t.pools[t.pool].update(e.substr(r,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,i){for(var r="",s=0;s<i;s+=8)r+=String.fromCharCode(e>>s&255);t.collect(r)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){function i(e){var r=e.data;r.forge&&r.forge.prng&&(self.removeEventListener("message",i),t(r.forge.prng.err,r.forge.prng.bytes))}self.addEventListener("message",i),self.postMessage({forge:{prng:{needed:e}}})};else{var i=function(i){var r=i.data;r.forge&&r.forge.prng&&t.seedFile(r.forge.prng.needed,(function(t,i){e.postMessage({forge:{prng:{err:t,bytes:i}}})}))};e.addEventListener("message",i)}},t}}).call(this,i("4362"))},"4e82":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("ade3"),s=i("3206");function n(e,t,i){return Object(s["a"])(e,t,i).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[e])return this[e].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){return this.activeClass?Object(r["a"])({},this.activeClass,this.isActive):{}}},created:function(){this[e]&&this[e].register(this)},beforeDestroy:function(){this[e]&&this[e].unregister(this)},methods:{toggle:function(){this.$emit("change")}}})}n("itemGroup")},"4e827":function(e,t,i){"use strict";var r=i("23e7"),s=i("1c0b"),n=i("7b0b"),a=i("50c4"),o=i("d039"),c=i("addb"),d=i("a640"),h=i("04d1"),u=i("d998"),l=i("2d00"),f=i("512c"),p=[],m=p.sort,g=o((function(){p.sort(void 0)})),y=o((function(){p.sort(null)})),v=d("sort"),b=!o((function(){if(l)return l<70;if(!(h&&h>3)){if(u)return!0;if(f)return f<603;var e,t,i,r,s="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(r=0;r<47;r++)p.push({k:t+r,v:i})}for(p.sort((function(e,t){return t.v-e.v})),r=0;r<p.length;r++)t=p[r].k.charAt(0),s.charAt(s.length-1)!==t&&(s+=t);return"DGBEFHACIJK"!==s}})),w=g||!y||!v||!b,S=function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:String(t)>String(i)?1:-1}};r({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&s(e);var t=n(this);if(b)return void 0===e?m.call(t):m.call(t,e);var i,r,o=[],d=a(t.length);for(r=0;r<d;r++)r in t&&o.push(t[r]);o=c(o,S(e)),i=o.length,r=0;while(r<i)t[r]=o[r++];while(r<d)delete t[r++];return t}})},"4ec9":function(e,t,i){"use strict";var r=i("6d61"),s=i("6566");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),s)},"4fed":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ExchangeNotAvailable:n,AuthenticationError:a,BadRequest:o,PermissionDenied:c,InvalidAddress:d,ArgumentsRequired:h,InvalidOrder:u}=i("74b0"),{DECIMAL_PLACES:l,SIGNIFICANT_DIGITS:f,TRUNCATE:p}=i("5ea4"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bithumb",name:"Bithumb",countries:["KR"],rateLimit:500,has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},hostname:"bithumb.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.{hostname}/public",private:"https://api.{hostname}"},www:"https://www.bithumb.com",doc:"https://apidocs.bithumb.com",fees:"https://en.bithumb.com/customer_support/info_fee"},api:{public:{get:["ticker/{currency}","ticker/all","ticker/ALL_BTC","ticker/ALL_KRW","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all","candlestick/{currency}/{interval}"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","info/order_detail","trade/place","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0025,taker:.0025}},precisionMode:f,exceptions:{"Bad Request(SSL)":o,"Bad Request(Bad Method)":o,"Bad Request.(Auth Data)":a,"Not Member":a,"Invalid Apikey":a,"Method Not Allowed.(Access IP)":c,"Method Not Allowed.(BTC Adress)":d,"Method Not Allowed.(Access)":c,"Database Fail":n,"Invalid Parameter":o,5600:s,"Unknown Error":s,"After May 23th, recent_transactions is no longer, hence users will not be able to connect to recent_transactions":s},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"24h"},options:{quoteCurrencies:{BTC:{limits:{cost:{min:2e-4,max:100}}},KRW:{limits:{cost:{min:500,max:5e9}}}}},commonCurrencies:{SOC:"Soda Coin"}})}amountToPrecision(e,t){return this.decimalToPrecision(t,p,this.markets[e]["precision"]["amount"],l)}async fetchMarkets(e={}){const t=[],i=this.safeValue(this.options,"quoteCurrencies",{}),r=Object.keys(i);for(let s=0;s<r.length;s++){const n=r[s],a=this.safeValue(i,n,{}),o="publicGetTickerALL"+n,c=await this[o](e),d=this.safeValue(c,"data"),h=Object.keys(d);for(let e=0;e<h.length;e++){const i=h[e];if("date"===i)continue;const r=d[i],s=this.safeCurrencyCode(i),o=i+"/"+n;let c=!0;if(Array.isArray(r)){const e=r.length;0===e&&(c=!1)}const u=this.deepExtend({id:i,symbol:o,base:s,quote:n,info:r,active:c,precision:{amount:4,price:4},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{}},baseId:void 0,quoteId:void 0},a);t.push(u)}}return t}async fetchBalance(e={}){await this.loadMarkets();const t={currency:"ALL"},i=await this.privatePostInfoBalance(this.extend(t,e)),r={info:i},s=this.safeValue(i,"data"),n=Object.keys(this.currencies);for(let a=0;a<n.length;a++){const e=n[a],t=this.account(),i=this.currency(e),o=this.safeStringLower(i,"id");t["total"]=this.safeString(s,"total_"+o),t["used"]=this.safeString(s,"in_use_"+o),t["free"]=this.safeString(s,"available_"+o),r[e]=t}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={currency:r["base"]+"_"+r["quote"]};void 0!==t&&(s["count"]=t);const n=await this.publicGetOrderbookCurrency(this.extend(s,i)),a=this.safeValue(n,"data",{}),o=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,o,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeInteger(e,"date");let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"opening_price"),n=this.safeNumber(e,"closing_price");let a=void 0,o=void 0,c=void 0;void 0!==n&&void 0!==s&&(a=n-s,s>0&&(o=a/s*100),c=this.sum(s,n)/2);const d=this.safeNumber(e,"units_traded_24H"),h=this.safeNumber(e,"acc_trade_value_24H"),u=this.vwap(d,h);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"max_price"),low:this.safeNumber(e,"min_price"),bid:this.safeNumber(e,"buy_price"),bidVolume:void 0,ask:this.safeNumber(e,"sell_price"),askVolume:void 0,vwap:u,open:s,close:n,last:n,previousClose:void 0,change:a,percentage:o,average:c,baseVolume:d,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickerAll(t),r={},s=this.safeValue(i,"data",{}),n=this.safeInteger(s,"date"),a=this.omit(s,"date"),o=Object.keys(a);for(let c=0;c<o.length;c++){const e=o[c];let t=e,i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e],t=i["symbol"]);const s=a[e],d=Array.isArray(s);d||(s["date"]=n,r[t]=this.parseTicker(s,i))}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i["base"]},s=await this.publicGetTickerCurrency(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={currency:n["base"],interval:this.timeframes[t]},o=await this.publicGetCandlestickCurrencyInterval(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}parseTrade(e,t){let i=void 0;const r=this.safeString(e,"transaction_date");if(void 0!==r){const t=r.split(" "),s=t.length;if(s>1){const e=t[0];let r=t[1];r.length<8&&(r="0"+r),i=this.parse8601(e+" "+r)}else i=this.safeIntegerProduct(e,"transaction_date",.001)}void 0!==i&&(i-=324e5);const s=void 0;let n=this.safeString(e,"type");n="ask"===n?"sell":"buy";const a=this.safeString(e,"cont_no");let o=void 0;void 0!==t&&(o=t["symbol"]);const c=this.safeString(e,"price"),d=this.safeString2(e,"units_traded","units"),h=this.parseNumber(c),u=this.parseNumber(d);let l=this.safeNumber(e,"total");void 0===l&&(l=this.parseNumber(m.stringMul(c,d)));let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"fee_currency"),i=this.commonCurrencyCode(t);f={cost:p,currency:i}}return{id:a,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,order:void 0,type:s,side:n,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currency:s["base"]};void 0===i&&(n["count"]=i);const a=await this.publicGetTransactionHistoryCurrency(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={order_currency:a["id"],payment_currency:a["quote"],units:r};let c="privatePostTradePlace";"limit"===t?(o["price"]=s,o["type"]="buy"===i?"bid":"ask"):c="privatePostTradeMarket"+this.capitalize(i);const d=await this[c](this.extend(o,n)),h=this.safeString(d,"order_id");if(void 0===h)throw new u(this.id+" createOrder() did not return an order id");return{info:d,symbol:e,type:t,side:i,id:h}}async fetchOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_id:e,count:1,order_currency:r["base"],payment_currency:r["quote"]},n=await this.privatePostInfoOrderDetail(this.extend(s,i)),a=this.safeValue(n,"data");return this.parseOrder(this.extend(a,{order_id:e}),r)}parseOrderStatus(e){const t={Pending:"open",Completed:"closed",Cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeIntegerProduct(e,"order_date",.001),r=this.safeValue2(e,"type","side"),s="bid"===r?"buy":"sell",n=this.parseOrderStatus(this.safeString(e,"order_status"));let a=this.safeNumber2(e,"order_price","price"),o="limit";0===a&&(a=void 0,o="market");const c=this.safeNumber2(e,"order_qty","units");let d=this.safeNumber(e,"units_remaining");void 0===d&&("closed"===n?d=0:"canceled"!==n&&(d=c));let h=void 0;const u=this.safeString(e,"order_currency"),l=this.safeString(e,"payment_currency"),f=this.safeCurrencyCode(u),p=this.safeCurrencyCode(l);void 0!==f&&void 0!==p&&(h=f+"/"+p),void 0===h&&void 0!==t&&(h=t["symbol"]);const m=this.safeString(e,"order_id"),g=this.safeValue(e,"contract",[]),y=this.parseTrades(g,t,void 0,void 0,{side:s,symbol:h,order:m});return this.safeOrder({info:e,id:m,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:h,type:o,timeInForce:void 0,postOnly:void 0,side:s,price:a,stopPrice:void 0,amount:c,cost:void 0,average:void 0,filled:void 0,remaining:d,status:n,fee:void 0,trades:y})}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e);void 0===i&&(i=100);const n={count:i,order_currency:s["base"],payment_currency:s["quote"]};void 0!==t&&(n["after"]=t);const a=await this.privatePostInfoOrders(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){const r="side"in i;if(!r)throw new h(this.id+" cancelOrder() requires a `side` parameter (sell or buy)");if(void 0===t)throw new h(this.id+" cancelOrder() requires a `symbol` argument");const s=this.market(t),n="buy"===i["side"]?"bid":"ask";i=this.omit(i,["side","currency"]);const a={order_id:e,type:n,order_currency:s["base"],payment_currency:s["quote"]};return await this.privatePostTradeCancel(this.extend(a,i))}cancelUnifiedOrder(e,t={}){const i={side:e["side"]};return this.cancelOrder(e["id"],e["symbol"],this.extend(i,t))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={units:t,address:i,currency:n["id"]};if("XRP"===n||"XMR"===n||"EOS"===n||"STEEM"===n){const t=this.safeString(s,"destination");if(void 0===r&&void 0===t)throw new h(this.id+" "+e+" withdraw() requires a tag argument or an extra destination param");void 0!==r&&(a["destination"]=r)}const o=await this.privatePostTradeBtcWithdrawal(this.extend(a,s));return{info:o,id:void 0}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){const a="/"+this.implodeParams(e,r);let o=this.implodeHostname(this.urls["api"][t])+a;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),n=this.urlencode(this.extend({endpoint:a},c));const e=this.nonce().toString(),t=a+"\0"+n+"\0"+e,i=this.hmac(this.encode(t),this.encode(this.secret),"sha512"),r=this.decode(this.stringToBase64(i));s={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":r,"Api-Nonce":e}}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"status"in o){const e=this.safeString(o,"status"),t=this.safeString(o,"message");if(void 0!==e){if("0000"===e)return;if("    "===t)return;const i=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new s(i)}}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("status"in o){if("0000"===o["status"]||"    "===o["message"])return o;throw new s(this.id+" "+this.json(o))}return o}}},"4ff9":function(e,t,i){},"50c4":function(e,t,i){var r=i("a691"),s=Math.min;e.exports=function(e){return e>0?s(r(e),9007199254740991):0}},"512c":function(e,t,i){var r=i("342f"),s=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!s&&+s[1]},5135:function(e,t,i){var r=i("7b0b"),s={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return s.call(r(e),t)}},"51d3":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AccountSuspended:n,ArgumentsRequired:a,AuthenticationError:o,DDoSProtection:c,ExchangeNotAvailable:d,InvalidOrder:h,OrderNotFound:u,PermissionDenied:l,InsufficientFunds:f,BadSymbol:p,RateLimitExceeded:m,BadRequest:g}=i("74b0"),y=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",hostname:"bibox365.com",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,publicAPI:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77257418-3262b000-6c85-11ea-8fb8-20bdf20b3592.jpg",api:"https://api.{hostname}",www:"https://www.bibox365.com",doc:["https://biboxcom.github.io/en/"],fees:"https://bibox.zendesk.com/hc/en-us/articles/360002336133",referral:"https://w2.bibox365.com/login/register?invite_code=05Kj3I"},api:{public:{post:["mdata"],get:["cquery","mdata","cdata"]},private:{post:["cquery","ctrade","user","orderpending","transfer"]},v2private:{post:["assets/transfer/spot"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:8e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2011:n,2015:o,2021:f,2027:f,2033:u,2065:h,2066:h,2067:h,2068:h,2078:h,2085:h,2091:m,2092:h,3e3:g,3002:g,3012:o,3016:p,3024:l,3025:o,4e3:d,4003:c},commonCurrencies:{"APENFT(NFT)":"NFT",BOX:"DefiBox",BPT:"BlockPool Token",GTC:"Game.com",KEY:"Bihu",MTC:"MTC Mesh Network",NFT:"NFT Protocol",PAI:"PCHAIN",TERN:"Ternio-ERC20"},options:{fetchCurrencies:"fetch_currencies_public"}})}async fetchMarkets(e={}){const t={cmd:"pairList"},i=await this.publicGetMdata(this.extend(t,e)),r=this.safeValue(i,"result"),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeInteger(e,"id"),i=this.safeString(e,"pair");let a=void 0,o=void 0;if(void 0!==i){const e=i.split("_");a=this.safeString(e,0),o=this.safeString(e,1)}const c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeNumber(e,"amount_scale"),price:this.safeNumber(e,"decimal")};s.push({id:i,numericId:t,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:!0,info:e,precision:u,limits:{amount:{min:Math.pow(10,-u["amount"]),max:void 0},price:{min:Math.pow(10,-u["price"]),max:void 0}}})}return s}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0;if(void 0!==t)r=t["symbol"];else{const t=this.safeString(e,"coin_symbol"),i=this.safeString(e,"currency_symbol"),s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(i);r=s+"/"+n}const s=this.safeNumber(e,"last"),n=this.safeNumber(e,"change"),a=this.safeNumber2(e,"vol","vol24H");let o=void 0;void 0!==s&&void 0!==n&&(o=s-n);let c=this.safeString(e,"percent");return void 0!==c&&(c=c.replace("%",""),c=parseFloat(c)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:o,close:s,last:s,previousClose:void 0,change:n,percentage:c,average:void 0,baseVolume:a,quoteVolume:this.safeNumber(e,"amount"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={cmd:"ticker",pair:i["id"]},s=await this.publicGetMdata(this.extend(r,t));return this.parseTicker(s["result"],i)}async fetchTickers(e,t={}){const i={cmd:"marketAll"},r=await this.publicGetMdata(this.extend(i,t)),s=this.parseTickers(r["result"],e),n=this.indexBy(s,"symbol");return this.filterByArray(n,"symbol",e)}parseTrade(e,t){const i=this.safeInteger2(e,"time","createdAt");let r=this.safeInteger2(e,"side","order_side");r=1===r?"buy":"sell";let s=void 0;if(void 0===t){let i=this.safeString(e,"pair");if(void 0===i){const t=this.safeString(e,"coin_symbol"),r=this.safeString(e,"currency_symbol");void 0!==t&&void 0!==r&&(i=t+"_"+r)}i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(s=t["symbol"]);let n=void 0;const a=this.safeNumber(e,"fee");let o=this.safeString(e,"fee_symbol");void 0!==o&&(o=o in this.currencies_by_id?this.currencies_by_id[o]["code"]:this.safeCurrencyCode(o));const c=void 0,d=this.safeString(e,"price"),h=this.safeString(e,"amount"),u=this.parseNumber(d),l=this.parseNumber(h),f=this.parseNumber(y.stringMul(d,h));void 0!==a&&(n={cost:-a,currency:o,rate:c});const p=this.safeString(e,"id");return{info:e,id:p,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:"limit",takerOrMaker:void 0,side:r,price:u,amount:l,cost:f,fee:n}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={cmd:"deals",pair:s["id"]};void 0!==i&&(n["size"]=i);const a=await this.publicGetMdata(this.extend(n,r));return this.parseTrades(a["result"],s,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={cmd:"depth",pair:r["id"]};void 0!==t&&(s["size"]=t);const n=await this.publicGetMdata(this.extend(s,i));return this.parseOrderBook(n["result"],e,this.safeNumber(n["result"],"update_time"),"bids","asks","price","volume")}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"vol")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const n=this.market(e),a={cmd:"kline",pair:n["id"],period:this.timeframes[t],size:r},o=await this.publicGetMdata(this.extend(a,s)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchCurrencies(e={}){const t=this.safeString(this.options,"fetchCurrencies","fetch_currencies_public");return await this[t](e)}async fetchCurrenciesPublic(e={}){const t={cmd:"currencies"},i=await this.publicGetCdata(this.extend(t,e)),r=this.safeValue(i,"result"),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"symbol"),i=this.safeString(e,"name"),a=this.safeCurrencyCode(t),o=this.safeInteger(e,"valid_decimals"),c=this.safeValue(e,"enable_deposit"),d=this.safeValue(e,"enable_withdraw"),h=c&&d;s[a]={id:t,code:a,info:e,name:i,active:h,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:void 0},withdraw:{min:this.safeNumber(e,"withdraw_min"),max:void 0}}}}return s}async fetchCurrenciesPrivate(e={}){if(!this.apiKey||!this.secret)throw new o(this.id+" fetchCurrencies is an authenticated endpoint, therefore it requires 'apiKey' and 'secret' credentials. If you don't need currency details, set exchange.has['fetchCurrencies'] = false before calling its methods.");const t={cmd:"transfer/coinList",body:{}},i=await this.privatePostTransfer(this.extend(t,e)),r=this.safeValue(i,"result"),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"symbol"),i=e["name"],a=this.safeCurrencyCode(t),o=8,c=this.safeValue(e,"enable_deposit"),d=this.safeValue(e,"enable_withdraw"),h=c&&d;s[a]={id:t,code:a,info:e,name:i,active:h,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","assets");e=this.omit(e,"type");const i={cmd:"transfer/"+t,body:this.extend({select:1},e)},r=await this.privatePostTransfer(i),s=this.safeValue(r,"result"),n={info:s};let a=void 0;a="assets_list"in s?this.indexBy(s["assets_list"],"coin_symbol"):s;const o=Object.keys(a);for(let c=0;c<o.length;c++){const e=o[c];let t=e.toUpperCase();t.indexOf("TOTAL_")>=0&&(t=t.slice(6)),t in this.currencies_by_id&&(t=this.currencies_by_id[t]["code"]);const i=this.account(),r=a[e];"string"===typeof r?(i["free"]=r,i["total"]=r):(i["free"]=this.safeString(r,"balance"),i["used"]=this.safeString(r,"freeze")),n[t]=i}return this.parseBalance(n,!1)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={page:1};void 0!==e&&(s=this.currency(e),n["symbol"]=s["id"]),n["size"]=void 0!==i?i:100;const a=await this.privatePostTransfer({cmd:"transfer/transferInList",body:this.extend(n,r)}),o=this.safeValue(a["result"],"items",[]);for(let c=0;c<o.length;c++)o[c]["type"]="deposit";return this.parseTransactions(o,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={page:1};void 0!==e&&(s=this.currency(e),n["symbol"]=s["id"]),n["size"]=void 0!==i?i:100;const a=await this.privatePostTransfer({cmd:"transfer/transferOutList",body:this.extend(n,r)}),o=this.safeValue(a["result"],"items",[]);for(let c=0;c<o.length;c++)o[c]["type"]="withdrawal";return this.parseTransactions(o,s,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"to_address"),s=this.safeString(e,"coin_symbol"),n=this.safeCurrencyCode(s,t),a=this.safeString(e,"createdAt");let o=this.safeString(e,"addr_remark");const c=this.safeString(e,"type"),d=this.parseTransactionStatusByType(this.safeString(e,"status"),c),h=this.safeNumber(e,"amount");let u=this.safeNumber(e,"fee");"deposit"===c&&(u=0,o=void 0);const l={cost:u,currency:n};return{info:e,id:i,txid:void 0,timestamp:a,datetime:this.iso8601(a),address:r,tag:o,type:c,amount:h,currency:n,status:d,updated:void 0,fee:l}}parseTransactionStatusByType(e,t){const i={deposit:{1:"pending",2:"ok"},withdrawal:{0:"pending",3:"ok"}};return this.safeString(this.safeValue(i,t,{}),e,e)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o="limit"===t?2:1,c="buy"===i?1:2,d={cmd:"orderpending/trade",body:this.extend({pair:a["id"],account_type:0,order_type:o,order_side:c,pay_bix:0,amount:r,price:s},n)},h=await this.privatePostOrderpending(d);return{info:h,id:this.safeString(h,"result")}}async cancelOrder(e,t,i={}){const r={cmd:"orderpending/cancelTrade",body:this.extend({orders_id:e},i)},s=await this.privatePostOrderpending(r);return s}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={cmd:"orderpending/order",body:this.extend({id:e.toString(),account_type:0},i)},s=await this.privatePostOrderpending(r),n=this.safeValue(s,"result");if(this.isEmpty(n))throw new u(this.id+" order "+e+" not found");return this.parseOrder(n)}parseOrder(e,t){let i=void 0;if(void 0===t){let i=void 0;const r=this.safeString(e,"coin_symbol"),s=this.safeString(e,"currency_symbol");void 0!==r&&void 0!==s&&(i=r+"_"+s),i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(i=t["symbol"]);const r=this.safeString(e,"order_type"),s="1"===r?"market":"limit",n=this.safeInteger(e,"createdAt"),a=this.safeNumber(e,"price"),o=this.safeNumber(e,"deal_price"),c=this.safeNumber(e,"deal_amount"),d=this.safeNumber(e,"amount"),h=this.safeNumber2(e,"deal_money","money"),u=this.safeString(e,"order_side"),l="1"===u?"buy":"sell",f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"id"),m=this.safeNumber(e,"fee");let g=void 0;return void 0!==m&&(g={cost:m,currency:void 0}),this.safeOrder({info:e,id:p,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:i,type:s,timeInForce:void 0,postOnly:void 0,side:l,price:a,stopPrice:void 0,amount:d,cost:h,average:o,filled:c,remaining:void 0,status:f,fee:g,trades:void 0})}parseOrderStatus(e){const t={1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"};return this.safeString(t,e,e)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,n=void 0;void 0!==e&&(s=this.market(e),n=s["id"]);const a=i||200,o={cmd:"orderpending/orderPendingList",body:this.extend({pair:n,account_type:0,page:1,size:a},r)},c=await this.privatePostOrderpending(o),d=this.safeValue(c["result"],"items",[]);return this.parseOrders(d,s,t,i)}async fetchClosedOrders(e,t,i=200,r={}){if(void 0===e)throw new a(this.id+" fetchClosedOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={cmd:"orderpending/pendingHistoryList",body:this.extend({pair:s["id"],account_type:0,page:1,size:i},r)},o=await this.privatePostOrderpending(n),c=this.safeValue(o["result"],"items",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n=i||200,o={cmd:"orderpending/orderHistoryList",body:this.extend({pair:s["id"],account_type:0,page:1,size:n,coin_symbol:s["baseId"],currency_symbol:s["quoteId"]},r)},c=await this.privatePostOrderpending(o),d=this.safeValue(c["result"],"items",[]);return this.parseTrades(d,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={cmd:"transfer/transferIn",body:this.extend({coin_symbol:i["id"]},t)},s=await this.privatePostTransfer(r),n=this.safeString(s,"result");let a=n,o=void 0;if(this.isJsonEncodedObject(n)){const e=JSON.parse(n);a=this.safeString(e,"account"),o=this.safeString(e,"memo")}return{currency:e,address:a,tag:o,info:s}}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);if(void 0===this.password&&!("trade_pwd"in n))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");if(!("totp_code"in n))throw new s(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");const o={trade_pwd:this.password,coin_symbol:a["id"],amount:t,addr:i};void 0!==r&&(o["address_remark"]=r);const c=await this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(o,n)});return{info:c,id:void 0}}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},r={};void 0===e&&(e=Object.keys(this.currencies));for(let s=0;s<e.length;s++){const n=e[s],a=this.currency(n),o={cmd:"transfer/coinConfig",body:this.extend({coin_symbol:a["id"]},t)},c=await this.privatePostTransfer(o);r[n]=c,i[n]=this.safeNumber(c["result"],"withdraw_fee")}return{info:r,withdraw:i,deposit:{}}}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeHostname(this.urls["api"])+"/"+this.version+"/"+e;const o=this.json([r]);if("public"===t)"GET"!==i?n={cmds:o}:Object.keys(r).length&&(a+="?"+this.urlencode(r));else if("v2private"===t){this.checkRequiredCredentials(),a=this.implodeHostname(this.urls["api"])+"/v2/"+e;const t=this.json(r);n={body:t,apikey:this.apiKey,sign:this.hmac(this.encode(t),this.encode(this.secret),"md5")}}else this.checkRequiredCredentials(),n={cmds:o,apikey:this.apiKey,sign:this.hmac(this.encode(o),this.encode(this.secret),"md5")};return void 0!==n&&(n=this.json(n,{convertArraysToObjects:!0})),s={"Content-Type":"application/json"},{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o){if("error"in o){if("code"in o["error"]){const e=this.safeString(o["error"],"code"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new s(t)}throw new s(this.id+" "+a)}if(!("result"in o))throw new s(this.id+" "+a)}}async request(e,t="public",i="GET",r={},s,n){const a=await this.fetch2(e,t,i,r,s,n);return"GET"===i?a:a["result"][0]}}},5259:function(e,t){e.exports={options:{usePureJavaScript:!1}}},5270:function(e,t,i){"use strict";var r=i("c532"),s=i("c401"),n=i("2e67"),a=i("2444");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){o(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return o(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(o(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"52e4":function(e,t,i){!function(e,i){i(t)}(0,(function(e){"use strict";var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,r=Math.floor,s="[BigNumber Error] ",n=s+"Number primitive has more than 15 significant digits: ",a=1e14,o=14,c=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,u=1e9;function l(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,i,r=1,s=e.length,n=e[0]+"";r<s;){for(t=e[r++]+"",i=o-t.length;i--;t="0"+t);n+=t}for(s=n.length;48===n.charCodeAt(--s););return n.slice(0,s+1||1)}function p(e,t){var i,r,s=e.c,n=t.c,a=e.s,o=t.s,c=e.e,d=t.e;if(!a||!o)return null;if(i=s&&!s[0],r=n&&!n[0],i||r)return i?r?0:-o:a;if(a!=o)return a;if(i=a<0,r=c==d,!s||!n)return r?0:!s^i?1:-1;if(!r)return c>d^i?1:-1;for(o=(c=s.length)<(d=n.length)?c:d,a=0;a<o;a++)if(s[a]!=n[a])return s[a]>n[a]^i?1:-1;return c==d?0:c>d^i?1:-1}function m(e,t,i,n){if(e<t||e>i||e!==r(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return l(e.e/o)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,i){var r,s;if(t<0){for(s=i+".";++t;s+=i);e=s+e}else if(++t>(r=e.length)){for(s=i,t-=r;--t;s+=i);e+=s}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var b=function e(b){var w,S,k,_,O,T,C,I,x,E=G.prototype={constructor:G,toString:null,valueOf:null},A=new G(1),N=20,M=4,P=-7,B=21,R=-1e7,D=1e7,L=!1,V=1,j=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz";function G(e,i){var s,a,d,h,u,l,f,p,g=this;if(!(g instanceof G))return new G(e,i);if(null==i){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>D?g.c=g.e=null:e.e<R?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((l="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(h=0,u=e;u>=10;u/=10,h++);return void(h>D?g.c=g.e=null:(g.e=h,g.c=[e]))}p=String(e)}else{if(!t.test(p=String(e)))return k(g,p,l);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(h=p.indexOf("."))>-1&&(p=p.replace(".","")),(u=p.search(/e/i))>0?(h<0&&(h=u),h+=+p.slice(u+1),p=p.substring(0,u)):h<0&&(h=p.length)}else{if(m(i,2,U.length,"Base"),10==i)return K(g=new G(e),N+g.e+1,M);if(p=String(e),l="number"==typeof e){if(0*e!=0)return k(g,p,l,i);if(g.s=1/e<0?(p=p.slice(1),-1):1,G.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(n+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(s=U.slice(0,i),h=u=0,f=p.length;u<f;u++)if(s.indexOf(a=p.charAt(u))<0){if("."==a){if(u>h){h=f;continue}}else if(!d&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){d=!0,u=-1,h=0;continue}return k(g,String(e),l,i)}l=!1,(h=(p=S(p,i,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):h=p.length}for(u=0;48===p.charCodeAt(u);u++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(u,++f)){if(f-=u,l&&G.DEBUG&&f>15&&(e>c||e!==r(e)))throw Error(n+g.s*e);if((h=h-u-1)>D)g.c=g.e=null;else if(h<R)g.c=[g.e=0];else{if(g.e=h,g.c=[],u=(h+1)%o,h<0&&(u+=o),u<f){for(u&&g.c.push(+p.slice(0,u)),f-=o;u<f;)g.c.push(+p.slice(u,u+=o));u=o-(p=p.slice(u)).length}else u-=f;for(;u--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function F(e,t,i,r){var s,n,a,o,c;if(null==i?i=M:m(i,0,8),!e.c)return e.toString();if(s=e.c[0],a=e.e,null==t)c=f(e.c),c=1==r||2==r&&(a<=P||a>=B)?y(c,a):v(c,a,"0");else if(n=(e=K(new G(e),t,i)).e,o=(c=f(e.c)).length,1==r||2==r&&(t<=n||n<=P)){for(;o<t;c+="0",o++);c=y(c,n)}else if(t-=a,c=v(c,n,"0"),n+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=n-o)>0)for(n+1==o&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function H(e,t){for(var i,r=1,s=new G(e[0]);r<e.length;r++){if(!(i=new G(e[r])).s){s=i;break}t.call(s,i)&&(s=i)}return s}function z(e,t,i){for(var r=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,r++);return(i=r+i*o-1)>D?e.c=e.e=null:i<R?e.c=[e.e=0]:(e.e=i,e.c=t),e}function K(e,t,s,n){var c,h,u,l,f,p,m,g=e.c,y=d;if(g){e:{for(c=1,l=g[0];l>=10;l/=10,c++);if((h=t-c)<0)h+=o,u=t,m=(f=g[p=0])/y[c-u-1]%10|0;else if((p=i((h+1)/o))>=g.length){if(!n)break e;for(;g.length<=p;g.push(0));f=m=0,c=1,u=(h%=o)-o+1}else{for(f=l=g[p],c=1;l>=10;l/=10,c++);m=(u=(h%=o)-o+c)<0?0:f/y[c-u-1]%10|0}if(n=n||t<0||null!=g[p+1]||(u<0?f:f%y[c-u-1]),n=s<4?(m||n)&&(0==s||s==(e.s<0?3:2)):m>5||5==m&&(4==s||n||6==s&&(h>0?u>0?f/y[c-u]:0:g[p-1])%10&1||s==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=y[(o-t%o)%o],e.e=-t||0):g[0]=e.e=0,e;if(0==h?(g.length=p,l=1,p--):(g.length=p+1,l=y[o-h],g[p]=u>0?r(f/y[c-u]%y[u])*l:0),n)for(;;){if(0==p){for(h=1,u=g[0];u>=10;u/=10,h++);for(u=g[0]+=l,l=1;u>=10;u/=10,l++);h!=l&&(e.e++,g[0]==a&&(g[0]=1));break}if(g[p]+=l,g[p]!=a)break;g[p--]=0,l=1}for(h=g.length;0===g[--h];g.pop());}e.e>D?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function W(e){var t,i=e.e;return null===i?e.toString():(t=f(e.c),t=i<=P||i>=B?y(t,i):v(t,i,"0"),e.s<0?"-"+t:t)}return G.clone=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(e){var t,i;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(i=e[t],0,u,t),N=i),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(i=e[t],0,8,t),M=i),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((i=e[t])&&i.pop?(m(i[0],-u,0,t),m(i[1],0,u,t),P=i[0],B=i[1]):(m(i,-u,u,t),P=-(B=i<0?-i:i))),e.hasOwnProperty(t="RANGE"))if((i=e[t])&&i.pop)m(i[0],-u,-1,t),m(i[1],1,u,t),R=i[0],D=i[1];else{if(m(i,-u,u,t),!i)throw Error(s+t+" cannot be zero: "+i);R=-(D=i<0?-i:i)}if(e.hasOwnProperty(t="CRYPTO")){if((i=e[t])!==!!i)throw Error(s+t+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!i,Error(s+"crypto unavailable");L=i}else L=i}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(i=e[t],0,9,t),V=i),e.hasOwnProperty(t="POW_PRECISION")&&(m(i=e[t],0,u,t),j=i),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(i=e[t]))throw Error(s+t+" not an object: "+i);q=i}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(i=e[t])||/^.$|[+-.\s]|(.).*\1/.test(i))throw Error(s+t+" invalid: "+i);U=i}}return{DECIMAL_PLACES:N,ROUNDING_MODE:M,EXPONENTIAL_AT:[P,B],RANGE:[R,D],CRYPTO:L,MODULO_MODE:V,POW_PRECISION:j,FORMAT:q,ALPHABET:U}},G.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!G.DEBUG)return!0;var t,i,n=e.c,c=e.e,d=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===d||-1===d)&&c>=-u&&c<=u&&c===r(c)){if(0===n[0]){if(0===c&&1===n.length)return!0;break e}if((t=(c+1)%o)<1&&(t+=o),String(n[0]).length==t){for(t=0;t<n.length;t++)if((i=n[t])<0||i>=a||i!==r(i))break e;if(0!==i)return!0}}}else if(null===n&&null===c&&(null===d||1===d||-1===d))return!0;throw Error(s+"Invalid BigNumber: "+e)},G.maximum=G.max=function(){return H(arguments,E.lt)},G.minimum=G.min=function(){return H(arguments,E.gt)},G.random=(_=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,a,c,h,l=0,f=[],p=new G(A);if(null==e?e=N:m(e,0,u),c=i(e/o),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(c*=2));l<c;)(h=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(f.push(h%1e14),l+=2);l=c/2}else{if(!crypto.randomBytes)throw L=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(c*=7);l<c;)(h=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(f.push(h%1e14),l+=7);l=c/7}if(!L)for(;l<c;)(h=_())<9e15&&(f[l++]=h%1e14);for(c=f[--l],e%=o,c&&e&&(h=d[o-e],f[l]=r(c/h)*h);0===f[l];f.pop(),l--);if(l<0)f=[a=0];else{for(a=-1;0===f[0];f.splice(0,1),a-=o);for(l=1,h=f[0];h>=10;h/=10,l++);l<o&&(a-=o-l)}return p.e=a,p.c=f,p}),G.sum=function(){for(var e=1,t=arguments,i=new G(t[0]);e<t.length;)i=i.plus(t[e++]);return i},S=function(){function e(e,t,i,r){for(var s,n,a=[0],o=0,c=e.length;o<c;){for(n=a.length;n--;a[n]*=t);for(a[0]+=r.indexOf(e.charAt(o++)),s=0;s<a.length;s++)a[s]>i-1&&(null==a[s+1]&&(a[s+1]=0),a[s+1]+=a[s]/i|0,a[s]%=i)}return a.reverse()}return function(t,i,r,s,n){var a,o,c,d,h,u,l,p,m=t.indexOf("."),g=N,y=M;for(m>=0&&(d=j,j=0,t=t.replace(".",""),u=(p=new G(i)).pow(t.length-m),j=d,p.c=e(v(f(u.c),u.e,"0"),10,r,"0123456789"),p.e=p.c.length),c=d=(l=e(t,i,r,n?(a=U,"0123456789"):(a="0123456789",U))).length;0==l[--d];l.pop());if(!l[0])return a.charAt(0);if(m<0?--c:(u.c=l,u.e=c,u.s=s,l=(u=w(u,p,g,y,r)).c,h=u.r,c=u.e),m=l[o=c+g+1],d=r/2,h=h||o<0||null!=l[o+1],h=y<4?(null!=m||h)&&(0==y||y==(u.s<0?3:2)):m>d||m==d&&(4==y||h||6==y&&1&l[o-1]||y==(u.s<0?8:7)),o<1||!l[0])t=h?v(a.charAt(1),-g,a.charAt(0)):a.charAt(0);else{if(l.length=o,h)for(--r;++l[--o]>r;)l[o]=0,o||(++c,l=[1].concat(l));for(d=l.length;!l[--d];);for(m=0,t="";m<=d;t+=a.charAt(l[m++]));t=v(t,c,a.charAt(0))}return t}}(),w=function(){function e(e,t,i){var r,s,n,a,o=0,c=e.length,d=t%h,u=t/h|0;for(e=e.slice();c--;)o=((s=d*(n=e[c]%h)+(r=u*n+(a=e[c]/h|0)*d)%h*h+o)/i|0)+(r/h|0)+u*a,e[c]=s%i;return o&&(e=[o].concat(e)),e}function t(e,t,i,r){var s,n;if(i!=r)n=i>r?1:-1;else for(s=n=0;s<i;s++)if(e[s]!=t[s]){n=e[s]>t[s]?1:-1;break}return n}function i(e,t,i,r){for(var s=0;i--;)e[i]-=s,s=e[i]<t[i]?1:0,e[i]=s*r+e[i]-t[i];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(s,n,c,d,h){var u,f,p,m,g,y,v,b,w,S,k,_,O,T,C,I,x,E=s.s==n.s?1:-1,A=s.c,N=n.c;if(!(A&&A[0]&&N&&N[0]))return new G(s.s&&n.s&&(A?!N||A[0]!=N[0]:N)?A&&0==A[0]||!N?0*E:E/0:NaN);for(w=(b=new G(E)).c=[],E=c+(f=s.e-n.e)+1,h||(h=a,f=l(s.e/o)-l(n.e/o),E=E/o|0),p=0;N[p]==(A[p]||0);p++);if(N[p]>(A[p]||0)&&f--,E<0)w.push(1),m=!0;else{for(T=A.length,I=N.length,p=0,E+=2,(g=r(h/(N[0]+1)))>1&&(N=e(N,g,h),A=e(A,g,h),I=N.length,T=A.length),O=I,k=(S=A.slice(0,I)).length;k<I;S[k++]=0);x=N.slice(),x=[0].concat(x),C=N[0],N[1]>=h/2&&C++;do{if(g=0,(u=t(N,S,I,k))<0){if(_=S[0],I!=k&&(_=_*h+(S[1]||0)),(g=r(_/C))>1)for(g>=h&&(g=h-1),v=(y=e(N,g,h)).length,k=S.length;1==t(y,S,v,k);)g--,i(y,I<v?x:N,v,h),v=y.length,u=1;else 0==g&&(u=g=1),v=(y=N.slice()).length;if(v<k&&(y=[0].concat(y)),i(S,y,k,h),k=S.length,-1==u)for(;t(N,S,I,k)<1;)g++,i(S,I<k?x:N,k,h),k=S.length}else 0===u&&(g++,S=[0]);w[p++]=g,S[0]?S[k++]=A[O]||0:(S=[A[O]],k=1)}while((O++<T||null!=S[0])&&E--);m=null!=S[0],w[0]||w.splice(0,1)}if(h==a){for(p=1,E=w[0];E>=10;E/=10,p++);K(b,c+(b.e=p+f*o-1)+1,d,m)}else b.e=f,b.r=+m;return b}}(),O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,C=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,x=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,i,r){var n,a=i?t:t.replace(x,"");if(I.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!i&&(a=a.replace(O,(function(e,t,i){return n="x"==(i=i.toLowerCase())?16:"b"==i?2:8,r&&r!=n?e:t})),r&&(n=r,a=a.replace(T,"$1").replace(C,"0.$1")),t!=a))return new G(a,n);if(G.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},E.absoluteValue=E.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return p(this,new G(e,t))},E.decimalPlaces=E.dp=function(e,t){var i,r,s,n=this;if(null!=e)return m(e,0,u),null==t?t=M:m(t,0,8),K(new G(n),e+n.e+1,t);if(!(i=n.c))return null;if(r=((s=i.length-1)-l(this.e/o))*o,s=i[s])for(;s%10==0;s/=10,r--);return r<0&&(r=0),r},E.dividedBy=E.div=function(e,t){return w(this,new G(e,t),N,M)},E.dividedToIntegerBy=E.idiv=function(e,t){return w(this,new G(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var n,a,c,d,h,u,l,f,p=this;if((e=new G(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+W(e));if(null!=t&&(t=new G(t)),h=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new G(Math.pow(+W(p),h?2-g(e):+W(e))),t?f.mod(t):f;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new G(NaN);(a=!u&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||h&&p.c[1]>=24e7:p.c[0]<8e13||h&&p.c[0]<=9999975e7)))return d=p.s<0&&g(e)?-0:0,p.e>-1&&(d=1/d),new G(u?1/d:d);j&&(d=i(j/o+2))}for(h?(n=new G(.5),u&&(e.s=1),l=g(e)):l=(c=Math.abs(+W(e)))%2,f=new G(A);;){if(l){if(!(f=f.times(p)).c)break;d?f.c.length>d&&(f.c.length=d):a&&(f=f.mod(t))}if(c){if(0===(c=r(c/2)))break;l=c%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)l=g(e);else{if(0==(c=+W(e)))break;l=c%2}p=p.times(p),d?p.c&&p.c.length>d&&(p.c.length=d):a&&(p=p.mod(t))}return a?f:(u&&(f=A.div(f)),t?f.mod(t):d?K(f,j,M,void 0):f)},E.integerValue=function(e){var t=new G(this);return null==e?e=M:m(e,0,8),K(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return 0===p(this,new G(e,t))},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return p(this,new G(e,t))>0},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return 1===(t=p(this,new G(e,t)))||0===t},E.isInteger=function(){return!!this.c&&l(this.e/o)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return p(this,new G(e,t))<0},E.isLessThanOrEqualTo=E.lte=function(e,t){return-1===(t=p(this,new G(e,t)))||0===t},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return this.s>0},E.isZero=function(){return!!this.c&&0==this.c[0]},E.minus=function(e,t){var i,r,s,n,c=this,d=c.s;if(t=(e=new G(e,t)).s,!d||!t)return new G(NaN);if(d!=t)return e.s=-t,c.plus(e);var h=c.e/o,u=e.e/o,f=c.c,p=e.c;if(!h||!u){if(!f||!p)return f?(e.s=-t,e):new G(p?c:NaN);if(!f[0]||!p[0])return p[0]?(e.s=-t,e):new G(f[0]?c:3==M?-0:0)}if(h=l(h),u=l(u),f=f.slice(),d=h-u){for((n=d<0)?(d=-d,s=f):(u=h,s=p),s.reverse(),t=d;t--;s.push(0));s.reverse()}else for(r=(n=(d=f.length)<(t=p.length))?d:t,d=t=0;t<r;t++)if(f[t]!=p[t]){n=f[t]<p[t];break}if(n&&(s=f,f=p,p=s,e.s=-e.s),(t=(r=p.length)-(i=f.length))>0)for(;t--;f[i++]=0);for(t=a-1;r>d;){if(f[--r]<p[r]){for(i=r;i&&!f[--i];f[i]=t);--f[i],f[r]+=a}f[r]-=p[r]}for(;0==f[0];f.splice(0,1),--u);return f[0]?z(e,f,u):(e.s=3==M?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var i,r,s=this;return e=new G(e,t),!s.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||s.c&&!s.c[0]?new G(s):(9==V?(r=e.s,e.s=1,i=w(s,e,0,3),e.s=r,i.s*=r):i=w(s,e,0,V),(e=s.minus(i.times(e))).c[0]||1!=V||(e.s=s.s),e)},E.multipliedBy=E.times=function(e,t){var i,r,s,n,c,d,u,f,p,m,g,y,v,b,w,S=this,k=S.c,_=(e=new G(e,t)).c;if(!(k&&_&&k[0]&&_[0]))return!S.s||!e.s||k&&!k[0]&&!_||_&&!_[0]&&!k?e.c=e.e=e.s=null:(e.s*=S.s,k&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=l(S.e/o)+l(e.e/o),e.s*=S.s,(u=k.length)<(m=_.length)&&(v=k,k=_,_=v,s=u,u=m,m=s),s=u+m,v=[];s--;v.push(0));for(b=a,w=h,s=m;--s>=0;){for(i=0,g=_[s]%w,y=_[s]/w|0,n=s+(c=u);n>s;)i=((f=g*(f=k[--c]%w)+(d=y*f+(p=k[c]/w|0)*g)%w*w+v[n]+i)/b|0)+(d/w|0)+y*p,v[n--]=f%b;v[n]=i}return i?++r:v.splice(0,1),z(e,v,r)},E.negated=function(){var e=new G(this);return e.s=-e.s||null,e},E.plus=function(e,t){var i,r=this,s=r.s;if(t=(e=new G(e,t)).s,!s||!t)return new G(NaN);if(s!=t)return e.s=-t,r.minus(e);var n=r.e/o,c=e.e/o,d=r.c,h=e.c;if(!n||!c){if(!d||!h)return new G(s/0);if(!d[0]||!h[0])return h[0]?e:new G(d[0]?r:0*s)}if(n=l(n),c=l(c),d=d.slice(),s=n-c){for(s>0?(c=n,i=h):(s=-s,i=d),i.reverse();s--;i.push(0));i.reverse()}for((s=d.length)-(t=h.length)<0&&(i=h,h=d,d=i,t=s),s=0;t;)s=(d[--t]=d[t]+h[t]+s)/a|0,d[t]=a===d[t]?0:d[t]%a;return s&&(d=[s].concat(d),++c),z(e,d,c)},E.precision=E.sd=function(e,t){var i,r,s,n=this;if(null!=e&&e!==!!e)return m(e,1,u),null==t?t=M:m(t,0,8),K(new G(n),e,t);if(!(i=n.c))return null;if(r=(s=i.length-1)*o+1,s=i[s]){for(;s%10==0;s/=10,r--);for(s=i[0];s>=10;s/=10,r++);}return e&&n.e+1>r&&(r=n.e+1),r},E.shiftedBy=function(e){return m(e,-c,c),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,i,r,s,n=this,a=n.c,o=n.s,c=n.e,d=N+4,h=new G("0.5");if(1!==o||!a||!a[0])return new G(!o||o<0&&(!a||a[0])?NaN:a?n:1/0);if(0==(o=Math.sqrt(+W(n)))||o==1/0?(((t=f(a)).length+c)%2==0&&(t+="0"),o=Math.sqrt(+t),c=l((c+1)/2)-(c<0||c%2),i=new G(t=o==1/0?"5e"+c:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+c)):i=new G(o+""),i.c[0])for((o=(c=i.e)+d)<3&&(o=0);;)if(s=i,i=h.times(s.plus(w(n,s,d,1))),f(s.c).slice(0,o)===(t=f(i.c)).slice(0,o)){if(i.e<c&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(i,i.e+N+2,1),e=!i.times(i).eq(n));break}if(!r&&(K(s,s.e+N+2,0),s.times(s).eq(n))){i=s;break}d+=4,o+=4,r=1}return K(i,i.e+N+1,M,e)},E.toExponential=function(e,t){return null!=e&&(m(e,0,u),e++),F(this,e,t,1)},E.toFixed=function(e,t){return null!=e&&(m(e,0,u),e=e+this.e+1),F(this,e,t)},E.toFormat=function(e,t,i){var r,n=this;if(null==i)null!=e&&t&&"object"==typeof t?(i=t,t=null):e&&"object"==typeof e?(i=e,e=t=null):i=q;else if("object"!=typeof i)throw Error(s+"Argument not an object: "+i);if(r=n.toFixed(e,t),n.c){var a,o=r.split("."),c=+i.groupSize,d=+i.secondaryGroupSize,h=i.groupSeparator||"",u=o[0],l=o[1],f=n.s<0,p=f?u.slice(1):u,m=p.length;if(d&&(a=c,c=d,d=a,m-=a),c>0&&m>0){for(a=m%c||c,u=p.substr(0,a);a<m;a+=c)u+=h+p.substr(a,c);d>0&&(u+=h+p.slice(a)),f&&(u="-"+u)}r=l?u+(i.decimalSeparator||"")+((d=+i.fractionGroupSize)?l.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):l):u}return(i.prefix||"")+r+(i.suffix||"")},E.toFraction=function(e){var t,i,r,n,a,c,h,u,l,p,m,g,y=this,v=y.c;if(null!=e&&(!(h=new G(e)).isInteger()&&(h.c||1!==h.s)||h.lt(A)))throw Error(s+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+W(h));if(!v)return new G(y);for(t=new G(A),l=i=new G(A),r=u=new G(A),g=f(v),a=t.e=g.length-y.e-1,t.c[0]=d[(c=a%o)<0?o+c:c],e=!e||h.comparedTo(t)>0?a>0?t:l:h,c=D,D=1/0,h=new G(g),u.c[0]=0;p=w(h,t,0,1),1!=(n=i.plus(p.times(r))).comparedTo(e);)i=r,r=n,l=u.plus(p.times(n=l)),u=n,t=h.minus(p.times(n=t)),h=n;return n=w(e.minus(i),r,0,1),u=u.plus(n.times(l)),i=i.plus(n.times(r)),u.s=l.s=y.s,m=w(l,r,a*=2,M).minus(y).abs().comparedTo(w(u,i,a,M).minus(y).abs())<1?[l,r]:[u,i],D=c,m},E.toNumber=function(){return+W(this)},E.toPrecision=function(e,t){return null!=e&&m(e,1,u),F(this,e,t,2)},E.toString=function(e){var t,i=this,r=i.s,s=i.e;return null===s?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=s<=P||s>=B?y(f(i.c),s):v(f(i.c),s,"0"):10===e?t=v(f((i=K(new G(i),N+s+1,M)).c),i.e,"0"):(m(e,2,U.length,"Base"),t=S(v(f(i.c),s,"0"),10,e,r,!0)),r<0&&i.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return W(this)},E._isBigNumber=!0,E[Symbol.toStringTag]="BigNumber",E[Symbol.for("nodejs.util.inspect.custom")]=E.valueOf,null!=b&&G.set(b),G}(),w=function(){return(w=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},S=function(){function e(){this.format=e.DEFAULT_FORMAT,b.config({FORMAT:this.format})}return e.prototype.set=function(e){"FORMAT"in e&&(this.format=w({},this.format,e.FORMAT),e.FORMAT=this.format),b.config(e)},e.DEFAULT_FORMAT={prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""},e}();e.BigNumber=function(){function e(t){"object"==typeof t&&e.isBigNumber(t)?this.bn=t.bn.plus(0):this.bn=e.toBigNumberJs(t)}return e.prototype.clone=function(){return new e(this)},e.prototype.add=function(t){return new e(this.bn.plus(e.toBigNumberJs(t)))},e.prototype.sub=function(t){return new e(this.bn.minus(e.toBigNumberJs(t)))},e.prototype.mul=function(t){return new e(this.bn.times(e.toBigNumberJs(t)))},e.prototype.div=function(t){return new e(this.bn.div(e.toBigNumberJs(t)))},e.prototype.pow=function(t){return new e(this.bn.pow(e.toBigNumberJs(t)))},e.prototype.sqrt=function(){return new e(this.bn.sqrt())},e.prototype.abs=function(){return new e(this.bn.abs())},e.prototype.mod=function(t){return new e(this.bn.mod(e.toBigNumberJs(t)))},e.prototype.roundTo=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=4),new e(this.bn.dp(t||0,i))},e.prototype.eq=function(t){return this.bn.eq(e.toBigNumberJs(t))},e.prototype.lt=function(t){return this.bn.lt(e.toBigNumberJs(t))},e.prototype.gt=function(t){return this.bn.gt(e.toBigNumberJs(t))},e.prototype.lte=function(t){return this.bn.lte(e.toBigNumberJs(t))},e.prototype.gte=function(t){return this.bn.gte(e.toBigNumberJs(t))},e.prototype.isNaN=function(){return this.bn.isNaN()},e.prototype.isFinite=function(){return this.bn.isFinite()},e.prototype.isZero=function(){return this.eq(0)},e.prototype.isPositive=function(){return this.gt(0)},e.prototype.isNegative=function(){return this.lt(0)},e.prototype.isInt=function(){return this.bn.isInteger()},e.prototype.getDecimalsCount=function(){return this.bn.dp()},e.prototype.isEven=function(){return this.mod(2).eq(0)},e.prototype.isOdd=function(){return!this.isEven()},e.prototype.isInSignedRange=function(){return this.gte(e.MIN_VALUE)&&this.lte(e.MAX_VALUE)},e.prototype.isInUnsignedRange=function(){return this.gte(e.MIN_UNSIGNED_VALUE)&&this.lte(e.MAX_UNSIGNED_VALUE)},e.prototype.toFormat=function(e,t,i){return this.bn.toFormat(e,t,i)},e.prototype.toFixed=function(e,t){return null==e?this.bn.toFixed():this.bn.toFixed(e,t)},e.prototype.toString=function(){return this.toFixed()},e.prototype.toNumber=function(){return this.bn.toNumber()},e.prototype.toJSON=function(){return this.bn.toFixed()},e.prototype.valueOf=function(){return this.bn.valueOf()},e.prototype.toBytes=function(t){var i=void 0===t?{}:t,r=i.isSigned,s=void 0===r||r,n=i.isLong,a=void 0===n||n;if(!this.isInt())throw new Error("Cant create bytes from number with decimals!");if(!s&&this.isNegative())throw new Error("Cant create bytes from negative number in signed mode!");if(a&&s&&!this.isInSignedRange())throw new Error("Number is not from signed numbers range");if(a&&!s&&!this.isInUnsignedRange())throw new Error("Number is not from unsigned numbers range");var o=s&&this.isNegative(),c=o?"1":"0",d=this.bn.plus(c).toString(2).replace("-",""),h=a?64:8*Math.ceil(d.length/8),u=e._toLength(h,d).split(""),l=[];do{l.push(parseInt(u.splice(0,8).join(""),2))}while(u.length);return o?Uint8Array.from(l.map((function(e){return 255-e}))):Uint8Array.from(l)},e.fromBytes=function(t,i){var r=void 0===i?{}:i,s=r.isSigned,n=void 0===s||s,a=r.isLong,o=void 0===a||a;if(o&&8!==t.length)throw new Error("Wrong bytes length! Minimal length is 8 byte!");t=!o&&t.length>0||o?t:[0];var c=!!n&&t[0]>127,d=Array.from(t).map((function(e){return c?255-e:e})).map((function(t){return e._toLength(8,t.toString(2))})).join(""),h=new e(new b(d,2));return c?h.mul(-1).sub(1):h},e.max=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.toBigNumber(t).reduce((function(e,t){return e.gte(t)?e:t}))},e.min=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.toBigNumber(t).reduce((function(e,t){return e.lte(t)?e:t}))},e.sum=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.toBigNumber(t).reduce((function(e,t){return e.add(t)}))},e.isBigNumber=function(t){return t&&"object"==typeof t&&(t instanceof e||Object.entries(e.prototype).filter((function(e){return"_"!==e[0].charAt(0)})).every((function(e){var i=e[0],r=e[1];return i in t&&typeof r==typeof t[i]})))},e.toBigNumber=function(t){return Array.isArray(t)?t.map((function(t){return new e(t)})):new e(t)},e.toBigNumberJs=function(t){return b.isBigNumber(t)?t:t instanceof e?t.bn:new b(t)},e._toLength=function(e,t){return new Array(e).fill("0",0,e).concat(t.split("")).slice(-e).join("")},e.MIN_VALUE=new e("-9223372036854775808"),e.MAX_VALUE=new e("9223372036854775807"),e.MIN_UNSIGNED_VALUE=new e("0"),e.MAX_UNSIGNED_VALUE=new e("18446744073709551615"),e.config=new S,e}(),function(e){!function(e){e[e.ROUND_UP=0]="ROUND_UP",e[e.ROUND_DOWN=1]="ROUND_DOWN",e[e.ROUND_CEIL=2]="ROUND_CEIL",e[e.ROUND_FLOOR=3]="ROUND_FLOOR",e[e.ROUND_HALF_UP=4]="ROUND_HALF_UP",e[e.ROUND_HALF_DOWN=5]="ROUND_HALF_DOWN",e[e.ROUND_HALF_EVEN=6]="ROUND_HALF_EVEN",e[e.ROUND_HALF_CEIL=7]="ROUND_HALF_CEIL",e[e.ROUND_HALF_FLOOR=8]="ROUND_HALF_FLOOR"}(e.ROUND_MODE||(e.ROUND_MODE={}))}(e.BigNumber||(e.BigNumber={}));var k=e.BigNumber;e.default=k,Object.defineProperty(e,"__esModule",{value:!0})}))},5306:function(e,t,i){"use strict";i.d(t,"a",(function(){return $e})),i.d(t,"c",(function(){return Ye})),i.d(t,"b",(function(){return Xe}));var r,s=i("9ab4"),n=i("f937"),a=i.n(n),o=i("67ec"),c=i.n(o),d=i("3af5"),h=i.n(d),u=i("d436"),l=i.n(u),f=i("d6ce"),p=i.n(f),m=i("9d74"),g=i.n(m),y=i("c813"),v=i.n(y),b=i("aea5"),w=i.n(b),S=i("ea7c"),k=i.n(S),_=i("e10d"),O=i.n(_),T=i("faff"),C=i.n(T),I=i("7435"),x=i.n(I),E=i("8e1a"),A=i.n(E),N=i("5d81"),M=i.n(N),P=i("0760"),B={MAX_ATTACHMENT:140,ALIAS:{AVAILABLE_CHARS:"-.0123456789@_abcdefghijklmnopqrstuvwxyz",MAX_ALIAS_LENGTH:30,MIN_ALIAS_LENGTH:4}},R=function(e){return Array.isArray(e)},D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var i=!0,r=0,s=e;r<s.length;r++){var n=s[r];if(i=!!n(t),!i)return!1}return i}},L=function(e){return function(t){return!e||null!=t}},V=function(e){return"string"===typeof e||e instanceof String},j=function(e){return("number"===typeof e||e instanceof Number)&&!isNaN(Number(e))},q=function(e){return null!=e&&!isNaN(Number(e))&&!(!e&&0!==e)},U=function(e){return null!=e&&("boolean"===typeof e||e instanceof Boolean)},G=x()(C.a),F=function(e){throw new Error(e)},H=function(e,t){return function(i){return Object.entries(e).forEach((function(e){var r=e[0],s=e[1],n=c()(r,i||{});s(n)||F(t(r,n))})),!0}},z=h()(G([null,void 0]),a()(!0),h()(V,l()(c()("length"),A()(!0)),a()(!1))),K=function(e){return function(t){return t.split("").every((function(t){return e.includes(t)}))}},W=h()(K(B.ALIAS.AVAILABLE_CHARS),l()(c()("length"),D(w()(B.ALIAS.MAX_ALIAS_LENGTH),g()(B.ALIAS.MIN_ALIAS_LENGTH))),a()(!1)),$={NAME_MIN_BYTES:4,NAME_MAX_BYTES:16,DESCRIPTION_MAX_BYTES:1e3},Y=D(h()(V,k()("base64:"),l()(O.a))),X={integer:q,boolean:U,string:V,binary:Y},Q=function(e){return!(!X[e.type]||!X[e.type](e.value))},Z=D(L(!0),l()(c()("key"),D(V,(function(e){return!!e}))),Q),J=D(V,M()((function(e){return 32===Object(P["base58Decode"])(e).length}),A()(!1))),ee=D(V,l()(c()("length"),h()(g()($.NAME_MIN_BYTES),w()($.NAME_MAX_BYTES),a()(!1)))),te=D(V,l()(c()("length"),w()($.DESCRIPTION_MAX_BYTES))),ie=D(h()(G(["",null,void 0,"WAVES"]),a()(!0),V)),re=function(e){return e.startsWith("alias:")},se=V,ne=l()((function(e){return e.split(":")[2]}),W),ae=D(V,h()(re,ne,se)),oe={orderType:G(["sell","buy"]),senderPublicKey:J,matcherPublicKey:J,version:G([void 0,0,1,2,3]),assetPair:D(L(!0),l()(c()("amountAsset"),ie),l()(c()("priceAsset"),ie)),price:q,amount:q,matcherFee:q,expiration:q,timestamp:j,proofs:h()(R,a()(!0),G([void 0]))},ce={matcherFeeAssetId:G([void 0,null,"WAVES"])},de={matcherFeeAssetId:ie},he=function(){},ue=H(oe,he),le=H(ce,he),fe=H(de,he),pe=D(ue,h()(l()(c()("version"),p()(3)),fe,le)),me=i("3ee4"),ge=l()(p()(void 0),v.a),ye=function(e){return h()(ge,e,a()(!0))},ve=function(e,t){return function(i){for(var r,s=[],n=0,a=Object.entries(e);n<a.length;n++){var o=a[n],c=o[0],d=o[1];try{H((r={},r[c]=d,r),he)(i)}catch(h){s.push(c)}}return{isValid:0===s.length,transaction:i,method:t,invalidFields:s}}},be=function(e){return{type:p()(e),version:ye(G([void 0,1,2,3])),senderPublicKey:ye(J),fee:ye(q),proofs:ye(R)}},we=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].ISSUE)),{name:ee,description:ye(te),quantity:q,decimals:j,reissuable:ye(U),script:ye(Y),chainId:ye(j)}),Se=ve(we,"issue"),ke=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].TRANSFER)),{amount:q,recipient:ae,assetId:ye(ie),feeAssetId:ye(ie),attachment:ye(z)}),_e=ve(ke,"transfer"),Oe=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].REISSUE)),{assetId:ie,quantity:q,reissuable:U,chainId:ye(j)}),Te=ve(Oe,"reissue"),Ce=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].BURN)),{assetId:V,amount:q,chainId:ye(j)}),Ie=ve(Ce,"burn"),xe=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].LEASE)),{amount:q,recipient:ae}),Ee=ve(xe,"lease"),Ae=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].CANCEL_LEASE)),{leaseId:l()(V),chainId:ye(j)}),Ne=ve(Ae,"cancel lease"),Me=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].ALIAS)),{alias:function(e){return"string"===typeof e&&W(e)}}),Pe=ve(Me,"alias"),Be=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].MASS_TRANSFER)),{transfers:D(R,l()(c()("length"),g()(0)),(function(e){return e.every(D(L(!0),l()(c()("recipient"),ae),l()(c()("amount"),q)))})),assetId:ye(ie),attachment:ye(z)}),Re=ve(Be,"mass transfer"),De=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].DATA)),{data:function(e){return R(e)&&e.every((function(e){return Z(e)}))}}),Le=ve(De,"data"),Ve=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].SET_SCRIPT)),{script:Y,chainId:ye(j)}),je=ve(Ve,"set script"),qe=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].SPONSORSHIP)),{assetId:V,minSponsoredAssetFee:q}),Ue=ve(qe,"sponsorship"),Ge=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].EXCHANGE)),{order1:D(L(!0),pe),order2:D(L(!0),pe),amount:q,price:q,buyMatcherFee:q,sellMatcherFee:q}),Fe=ve(Ge,"exchange"),He=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].SET_ASSET_SCRIPT)),{script:Y,assetId:ie,chainId:ye(j)}),ze=ve(He,"set asset script"),Ke=Object(s["a"])(Object(s["a"])({},be(me["TRANSACTION_TYPE"].INVOKE_SCRIPT)),{dApp:ae,call:ye(D(l()(c()("function"),V),l()(c()("function"),c()("length"),g()(0)),l()(c()("args"),R))),payment:ye(D(R,(function(e){return e.every(D(l()(c()("amount"),q),l()(c()("assetId"),ie)))}))),feeAssetId:ye(ie),chainId:ye(j)}),We=ve(Ke,"invoke"),$e=(r={},r[me["TRANSACTION_TYPE"].ISSUE]=Se,r[me["TRANSACTION_TYPE"].TRANSFER]=_e,r[me["TRANSACTION_TYPE"].REISSUE]=Te,r[me["TRANSACTION_TYPE"].BURN]=Ie,r[me["TRANSACTION_TYPE"].LEASE]=Ee,r[me["TRANSACTION_TYPE"].CANCEL_LEASE]=Ne,r[me["TRANSACTION_TYPE"].ALIAS]=Pe,r[me["TRANSACTION_TYPE"].MASS_TRANSFER]=Re,r[me["TRANSACTION_TYPE"].DATA]=Le,r[me["TRANSACTION_TYPE"].SET_SCRIPT]=je,r[me["TRANSACTION_TYPE"].SPONSORSHIP]=Ue,r[me["TRANSACTION_TYPE"].EXCHANGE]=Fe,r[me["TRANSACTION_TYPE"].SET_ASSET_SCRIPT]=ze,r[me["TRANSACTION_TYPE"].INVOKE_SCRIPT]=We,r),Ye=function(e){var t={isValid:!0,invalidOptions:[]},i=function(e){return["verbose","production","error"].includes(String(e))};return V(e.NODE_URL)||(t.isValid=!1,t.invalidOptions.push("NODE_URL")),ye(i)(e.LOG_LEVEL)||(t.isValid=!1,t.invalidOptions.push("debug")),t},Xe=function(e){for(var t=function(e){return"function"===typeof e},i={connect:t,login:t,logout:t,signMessage:t,signTypedData:t,sign:t},r=[],s=0,n=Object.entries(i);s<n.length;s++){var a=n[s],o=a[0],c=a[1];c(e[o])||r.push(o)}return{isValid:0===r.length,invalidProperties:r}}},53063:function(e,t,i){var r=i("5a7c"),s=i("75f1"),n=i("413f"),a=r((function(e,t){return e.map((function(e){var i,r=t,a=0;while(a<e.length){if(null==r)return;i=e[a],r=s(i)?n(i,r):r[i],a+=1}return r}))}));e.exports=a},5319:function(e,t,i){"use strict";var r=i("d784"),s=i("d039"),n=i("825a"),a=i("50c4"),o=i("a691"),c=i("1d80"),d=i("8aa5"),h=i("0cb2"),u=i("14c3"),l=i("b622"),f=l("replace"),p=Math.max,m=Math.min,g=function(e){return void 0===e?e:String(e)},y=function(){return"$0"==="a".replace(/./,"$0")}(),v=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),b=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,i){var r=v?"$":"$0";return[function(e,i){var r=c(this),s=void 0==e?void 0:e[f];return void 0!==s?s.call(e,r,i):t.call(String(r),e,i)},function(e,s){if("string"===typeof s&&-1===s.indexOf(r)&&-1===s.indexOf("$<")){var c=i(t,this,e,s);if(c.done)return c.value}var l=n(this),f=String(e),y="function"===typeof s;y||(s=String(s));var v=l.global;if(v){var b=l.unicode;l.lastIndex=0}var w=[];while(1){var S=u(l,f);if(null===S)break;if(w.push(S),!v)break;var k=String(S[0]);""===k&&(l.lastIndex=d(f,a(l.lastIndex),b))}for(var _="",O=0,T=0;T<w.length;T++){S=w[T];for(var C=String(S[0]),I=p(m(o(S.index),f.length),0),x=[],E=1;E<S.length;E++)x.push(g(S[E]));var A=S.groups;if(y){var N=[C].concat(x,I,f);void 0!==A&&N.push(A);var M=String(s.apply(void 0,N))}else M=h(C,f,I,x,A,s);I>=O&&(_+=f.slice(O,I)+M,O=I+C.length)}return _+f.slice(O)}]}),!b||!y||v)},"531c":function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,ExchangeError:n,OrderNotFound:a,InvalidOrder:o,InsufficientFunds:c,DDoSProtection:d,BadRequest:h}=i("74b0"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcmarkets",name:"BTC Markets",countries:["AU"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/89731817-b3fb8480-da52-11ea-817f-783b08aaf32b.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net"},www:"https://btcmarkets.net",doc:["https://api.btcmarkets.net/doc/v3","https://github.com/BTCMarkets/API"]},api:{public:{get:["markets","markets/{marketId}/ticker","markets/{marketId}/trades","markets/{marketId}/orderbook","markets/{marketId}/candles","markets/tickers","markets/orderbooks","time"]},private:{get:["orders","orders/{id}","batchorders/{ids}","trades","trades/{id}","withdrawals","withdrawals/{id}","deposits","deposits/{id}","transfers","transfers/{id}","addresses","withdrawal-fees","assets","accounts/me/trading-fees","accounts/me/withdrawal-limits","accounts/me/balances","accounts/me/transactions","reports/{id}"],post:["orders","batchorders","withdrawals","reports"],delete:["orders","orders/{id}","batchorders/{ids}"],put:["orders/{id}"]}},timeframes:{"1m":"1m","1h":"1h","1d":"1d"},exceptions:{3:o,6:d,InsufficientFund:c,InvalidPrice:o,InvalidAmount:o,MissingArgument:o,OrderAlreadyCancelled:o,OrderNotFound:a,OrderStatusIsFinal:o,InvalidPaginationParameter:h},fees:{percentage:!0,tierBased:!0,maker:-5e-4,taker:.002},options:{fees:{AUD:{maker:.0085,taker:.0085}}}})}async fetchTransactionsWithMethod(e,t,i,r,s={}){await this.loadMarkets();const n={};void 0!==r&&(n["limit"]=r),void 0!==i&&(n["after"]=i);let a=void 0;void 0!==t&&(a=this.currency(t));const o=await this[e](this.extend(n,s));return this.parseTransactions(o,a,i,r)}async fetchTransactions(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetTransfers",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetDeposits",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetWithdrawals",e,t,i,r)}parseTransactionStatus(e){const t={Complete:"ok"};return this.safeString(t,e,e)}parseTransactionType(e){const t={Withdraw:"withdrawal",Deposit:"deposit"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"creationTime")),r=this.parse8601(this.safeString(e,"lastUpdate"));let s=this.parseTransactionType(this.safeStringLower(e,"type"));"withdraw"===s&&(s="withdrawal");const n=this.safeValue(e,"paymentDetail",{}),a=this.safeString(n,"txId");let o=this.safeString(n,"address"),c=void 0;if(void 0!==o){const e=o.split("?dt="),t=e.length;t>1&&(o=e[0],c=e[1])}const d=o,h=c,u=void 0,l=void 0,f=this.safeNumber(e,"fee"),p=this.parseTransactionStatus(this.safeString(e,"status")),m=this.safeString(e,"assetName"),g=this.safeCurrencyCode(m);let y=this.safeNumber(e,"amount");return f&&(y-=f),{id:this.safeString(e,"id"),txid:a,timestamp:i,datetime:this.iso8601(i),address:o,addressTo:d,addressFrom:u,tag:c,tagTo:h,tagFrom:l,type:s,amount:y,currency:g,status:p,updated:r,fee:{currency:g,cost:f},info:e}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"baseAssetName"),n=this.safeString(e,"quoteAssetName"),a=this.safeString(e,"marketId"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(this.safeValue(this.options,"fees",{}),c,this.fees),u=this.safeNumber(e,"priceDecimals"),l=this.safeNumber(e,"amountDecimals"),f=this.safeNumber(e,"minOrderAmount"),p=this.safeNumber(e,"maxOrderAmount");let m=void 0;"AUD"===c&&(m=Math.pow(10,-u));const g={amount:l,price:u},y={amount:{min:f,max:p},price:{min:m,max:void 0},cost:{min:void 0,max:void 0}};i.push({info:e,id:a,symbol:d,base:o,quote:c,baseId:s,quoteId:n,active:void 0,maker:h["maker"],taker:h["taker"],limits:y,precision:g})}return i}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.parse8601(this.safeString(t,"timestamp"))}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsMeBalances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"assetName"),n=this.safeCurrencyCode(s),a=this.account();a["used"]=this.safeString(e,"locked"),a["total"]=this.safeString(e,"balance"),i[n]=a}return this.parseBalance(i,!1)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,0)),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={marketId:n["id"],timeWindow:this.timeframes[t]};void 0!==i&&(a["from"]=this.iso8601(i)),void 0!==r&&(a["limit"]=r);const o=await this.publicGetMarketsMarketIdCandles(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={marketId:r["id"]},n=await this.publicGetMarketsMarketIdOrderbook(this.extend(s,i)),a=this.safeIntegerProduct(n,"snapshotId",.001),o=this.parseOrderBook(n,e,a);return o["nonce"]=this.safeInteger(n,"snapshotId"),o}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"marketId");if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-"),s=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t);i=s+"/"+n}void 0===i&&void 0!==t&&(i=t["symbol"]);const s=this.parse8601(this.safeString(e,"timestamp")),n=this.safeNumber(e,"lastPrice"),a=this.safeNumber(e,"volume24h"),o=this.safeNumber(e,"volumeQte24h"),c=this.vwap(a,o),d=this.safeNumber(e,"price24h"),h=this.safeNumber(e,"pricePct24h");return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bestBid"),bidVolume:void 0,ask:this.safeNumber(e,"bestAsk"),askVolume:void 0,vwap:c,open:void 0,close:n,last:n,previousClose:void 0,change:d,percentage:h,average:void 0,baseVolume:a,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketId:i["id"]},s=await this.publicGetMarketsMarketIdTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTicker2(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i["id"]},s=await this.publicGetMarketIdTick(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"marketId");let s=void 0,n=void 0,a=void 0;if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-");n=this.safeCurrencyCode(e),a=this.safeCurrencyCode(t),s=n+"/"+a}void 0===s&&void 0!==t&&(s=t["symbol"],n=t["base"],a=t["quote"]);let o=void 0;o="AUD"===a?a:n;let c=this.safeString(e,"side");"Bid"===c?c="buy":"Ask"===c&&(c="sell");const d=this.safeString(e,"id"),h=this.safeString(e,"price"),l=this.safeString(e,"amount"),f=this.parseNumber(h),p=this.parseNumber(l),m=this.parseNumber(u.stringMul(h,l)),g=this.safeString(e,"orderId");let y=void 0;const v=this.safeNumber(e,"fee");void 0!==v&&(y={cost:v,currency:o});const b=this.safeStringLower(e,"liquidityType");return{info:e,id:d,timestamp:i,datetime:this.iso8601(i),order:g,symbol:s,type:void 0,side:c,price:f,amount:p,cost:m,takerOrMaker:b,fee:y}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={marketId:s["id"]},a=await this.publicGetMarketsMarketIdTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,n,a={}){await this.loadMarkets();const o=this.market(e),c={marketId:o["id"],amount:this.amountToPrecision(e,r),side:"buy"===i?"Bid":"Ask"},d=t.toLowerCase(),h=this.safeValue(this.options,"orderTypes",{limit:"Limit",market:"Market",stop:"Stop","stop limit":"Stop Limit","take profit":"Take Profit"});c["type"]=this.safeString(h,d,t);let u=!1,l=!1;if("limit"===d?u=!0:"stop limit"===d?(l=!0,u=!0):("take profit"===d||"stop"===d)&&(l=!0),u){if(void 0===n)throw new s(this.id+" createOrder() requires a price argument for a "+t+"order");c["price"]=this.priceToPrecision(e,n)}if(l){const i=this.safeNumber(a,"triggerPrice");if(a=this.omit(a,"triggerPrice"),void 0===i)throw new s(this.id+" createOrder() requires a triggerPrice parameter for a "+t+"order");c["triggerPrice"]=this.priceToPrecision(e,i)}const f=this.safeString(a,"clientOrderId");void 0!==f&&(c["clientOrderId"]=f),a=this.omit(a,"clientOrderId");const p=await this.privatePostOrders(this.extend(c,a));return this.parseOrder(p,o)}async cancelOrders(e,t,i={}){await this.loadMarkets();for(let s=0;s<e.length;s++)e[s]=parseInt(e[s]);const r={ids:e};return await this.privateDeleteBatchordersIds(this.extend(r,i))}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privateDeleteOrdersId(this.extend(r,i))}calculateFee(e,t,i,r,s,n="taker",a={}){const o=this.markets[e],c=o[n];let d=void 0,h=void 0;return"AUD"===o["quote"]?(d=o["quote"],h=parseFloat(this.costToPrecision(e,r*s))):(d=o["base"],h=parseFloat(this.amountToPrecision(e,r))),{type:n,currency:d,rate:c,cost:parseFloat(this.feeToPrecision(e,c*h))}}parseOrderStatus(e){const t={Accepted:"open",Placed:"open","Partially Matched":"open","Fully Matched":"closed",Cancelled:"canceled","Partially Cancelled":"canceled",Failed:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"creationTime")),r=this.safeString(e,"marketId");let s=void 0;if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-"),i=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t);s=i+"/"+n}void 0===s&&void 0!==t&&(s=t["symbol"]);let n=this.safeString(e,"side");"Bid"===n?n="buy":"Ask"===n&&(n="sell");const a=this.safeStringLower(e,"type"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"amount"),d=this.safeNumber(e,"openAmount"),h=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"orderId"),l=this.safeString(e,"clientOrderId"),f=this.safeString(e,"timeInForce"),p=this.safeNumber(e,"triggerPrice"),m=this.safeValue(e,"postOnly");return this.safeOrder({info:e,id:u,clientOrderId:l,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:s,type:a,timeInForce:f,postOnly:m,side:n,price:o,stopPrice:p,cost:void 0,amount:c,filled:void 0,remaining:d,average:void 0,status:h,trades:void 0,fee:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={status:"all"};let n=void 0;void 0!==e&&(n=this.market(e),s["marketId"]=n["id"]),void 0!==t&&(s["after"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(a,n,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={status:"open"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["marketId"]=n["id"]),void 0!==t&&(s["after"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetTrades(this.extend(s,r));return this.parseTrades(a,n,t,i)}lookupSymbolFromMarketId(e){let t=void 0,i=void 0;if(void 0!==e)if(e in this.markets_by_id)t=this.markets_by_id[e];else{const[t,r]=e.split("-"),s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(r);i=s+"/"+n}return void 0===i&&void 0!==t&&(i=t["symbol"]),i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/"+this.implodeParams(e,r);const o=this.keysort(this.omit(r,this.extractParams(e)));if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.encode(this.secret));let r=i+a+e;"GET"===i||"DELETE"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):(n=this.json(o),r+=n);const c=this.hmac(this.encode(r),t,"sha512","base64");s={Accept:"application/json","Accept-Charset":"UTF-8","Content-Type":"application/json","BM-AUTH-APIKEY":this.apiKey,"BM-AUTH-TIMESTAMP":e,"BM-AUTH-SIGNATURE":c}}else"public"===t&&Object.keys(o).length&&(a+="?"+this.urlencode(o));const c=this.urls["api"][t]+a;return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o){if("success"in o&&!o["success"]){const e=this.safeString(o,"errorCode"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new n(t)}if(e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message"),i=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new n(i)}}}}},"53a4":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"e",(function(){return o})),i.d(t,"h",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"f",(function(){return h})),i.d(t,"j",(function(){return u})),i.d(t,"i",(function(){return l})),i.d(t,"d",(function(){return f})),i.d(t,"k",(function(){return p})),i.d(t,"c",(function(){return m})),i.d(t,"g",(function(){return g}));var r=i("9ab4"),s="http://github.com/wavesplatform/signer",n={SIGNER_OPTIONS:1e3,NETWORK_BYTE:1001,NOT_AUTHORIZED:1002,PROVIDER_CONNECT:1003,ENSURE_PROVIDER:1004,PROVIDER_INTERFACE:1005,PROVIDER_INTERNAL:1006,API_ARGUMENTS:1007,NETWORK_ERROR:1008},a=function(e){var t=e.details?"    Details: "+e.details:void 0;return["Signer error:","    Title: "+e.title,"    Type: "+e.type,"    Code: "+e.code,t,"    More info: "+s+"/README.md#error-codes"].filter(Boolean).join("\n")},o=function(e){function t(i){var r=e.call(this,a(i))||this;return r.code=i.code,r.type=i.type,Object.setPrototypeOf(r,t.prototype),r}return Object(r["d"])(t,e),t}(Error),c=function(e){function t(i){var r=e.call(this,{code:n.SIGNER_OPTIONS,title:"Invalid signer options",type:"validation",details:"\n        Invalid signer options: "+i.join(", "),errorArgs:i})||this;return Object.setPrototypeOf(r,t.prototype),r}return Object(r["d"])(t,e),t}(o),d=function(e){function t(i){var r=e.call(this,{code:n.API_ARGUMENTS,title:"Invalid api method arguments",type:"validation",details:"\n        "+i.join("\n        "),errorArgs:i})||this;return Object.setPrototypeOf(r,t.prototype),r}return Object(r["d"])(t,e),t}(o),h=function(e){function t(i){var r=i.error,s=i.node,a=e.call(this,{code:n.NETWORK_BYTE,title:"Network byte fetching has failed",type:"network",details:"\n        Could not fetch network from "+s+": "+r,errorArgs:{error:r,node:s}})||this;return Object.setPrototypeOf(a,t.prototype),a}return Object(r["d"])(t,e),t}(o),u=function(e){function t(i){var r=e.call(this,{code:n.NETWORK_BYTE,title:"Invalid Provider interface",type:"validation",details:"\n        Invalid provider properties: "+i.join(", "),errorArgs:i})||this;return Object.setPrototypeOf(r,t.prototype),r}return Object(r["d"])(t,e),t}(o),l=function(e){function t(i){var r=i.error,s=i.node,a=e.call(this,{code:n.PROVIDER_CONNECT,title:"Could not connect the Provider",type:"network",errorArgs:{error:r,node:s}})||this;return Object.setPrototypeOf(a,t.prototype),a}return Object(r["d"])(t,e),t}(o),f=function(e){function t(t){var i=e.call(this,{code:n.ENSURE_PROVIDER,title:"Provider instance is missing",type:"provider",details:"Can't use method: "+t+". Provider instance is missing",errorArgs:{failedMethod:t}})||this;return Object.setPrototypeOf(i,l.prototype),i}return Object(r["d"])(t,e),t}(o),p=function(e){function t(t){var i=e.call(this,{code:n.ENSURE_PROVIDER,title:"Provider internal error",type:"provider",details:"Provider internal error: "+t+". This is not error of signer.",errorArgs:{errorMessage:t}})||this;return Object.setPrototypeOf(i,l.prototype),i}return Object(r["d"])(t,e),t}(o),m=function(e){function t(t){var i=e.call(this,{code:n.NOT_AUTHORIZED,title:"Authorization error",type:"authorization",details:"Can't use method: "+t+". User must be logged in",errorArgs:{failedMethod:t}})||this;return Object.setPrototypeOf(i,l.prototype),i}return Object(r["d"])(t,e),t}(o),g=function(e){function t(t){return e.call(this,{code:n.NETWORK_ERROR,title:"Network Error",type:"network",details:"Error connect to ",errorArgs:{}})||this}return Object(r["d"])(t,e),t}(o)},"53a8":function(e,t){e.exports=r;var i=Object.prototype.hasOwnProperty;function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var s in r)i.call(r,s)&&(e[s]=r[s])}return e}},"53ca":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},5524:function(e,t,i){"use strict";const r=BigInt(0),s=BigInt(-1);class n{constructor(e,t=0){const i="bigint"===typeof e,r="string"===typeof e;if(!i&&!r)throw new Error("Precise initiated with something other than a string or BN");if(i)this.integer=e,this.decimals=t;else{if(t)throw new Error("Cannot set decimals when initializing with a string");let i=0;e=e.toLowerCase(),e.indexOf("e")>-1&&([e,i]=e.split("e"),i=parseInt(i));const r=e.indexOf(".");this.decimals=r>-1?e.length-r-1:0;const s=e.replace(".","");this.integer=BigInt(s),this.decimals=this.decimals-i}this.base=10,this.reduce()}mul(e){const t=this.integer*e.integer;return new n(t,this.decimals+e.decimals)}div(e,t=18){const i=t-this.decimals+e.decimals;let r;if(0===i)r=this.integer;else if(i<0){const e=BigInt(this.base)**BigInt(-i);r=this.integer/e}else{const e=BigInt(this.base)**BigInt(i);r=this.integer*e}const s=r/e.integer;return new n(s,t)}add(e){if(this.decimals===e.decimals){const t=this.integer+e.integer;return new n(t,this.decimals)}{const[t,i]=this.decimals>e.decimals?[e,this]:[this,e],r=i.decimals-t.decimals,s=t.integer*BigInt(this.base)**BigInt(r),a=s+i.integer;return new n(a,i.decimals)}}mod(e){const t=BigInt(this.base),i=Math.max(-this.decimals+e.decimals,0),r=this.integer*t**BigInt(i),s=Math.max(-e.decimals+this.decimals,0),a=e.integer*t**BigInt(s),o=r%a;return new n(o,s+e.decimals)}pow(e){const t=this.integer**e.integer;return new n(t,this.decimals*parseInt(e.integer))}sub(e){const t=new n(-e.integer,e.decimals);return this.add(t)}abs(){return new n(this.integer<0?this.integer*s:this.integer,this.decimals)}neg(){return new n(-this.integer,this.decimals)}reduce(){if(this.integer===r)return this.decimals=0,this;const e=BigInt(this.base);let t=this.integer%e;while(t===r)this.integer=this.integer/e,t=this.integer%e,this.decimals--;return this}toString(){let e,t;this.integer<0?(e="-",t=-this.integer):(e="",t=this.integer);const i=Array.from(t.toString(this.base).padStart(this.decimals,"0")),r=i.length-this.decimals;let s;return s=0===r?"0.":this.decimals<0?"0".repeat(-this.decimals):0===this.decimals?"":".",i.splice(r,0,s),e+i.join("")}static stringMul(e,t){if(void 0!==e&&void 0!==t)return new n(e).mul(new n(t)).toString()}static stringDiv(e,t,i=18){if(void 0!==e&&void 0!==t)return new n(e).div(new n(t),i).toString()}static stringAdd(e,t){if(void 0!==e||void 0!==t)return void 0===e?t:void 0===t?e:new n(e).add(new n(t)).toString()}static stringSub(e,t){if(void 0!==e&&void 0!==t)return new n(e).sub(new n(t)).toString()}static stringAbs(e){if(void 0!==e)return new n(e).abs().toString()}static stringNeg(e){if(void 0!==e)return new n(e).neg().toString()}static stringMod(e,t){if(void 0!==e&&void 0!==t)return new n(e).mod(new n(t)).toString()}static stringPow(e,t){if(void 0!==e&&void 0!==t)return new n(e).pow(new n(t)).toString()}}e.exports=n},5530:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("b64b"),i("a4d3"),i("4de4"),i("e439"),i("159b"),i("dbb4");var r=i("ade3");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){Object(r["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}},5607:function(e,t,i){"use strict";i("a4d3"),i("e01a"),i("d3b7"),i("25f0"),i("b0c0"),i("99af"),i("a9e3"),i("7435e");var r=i("80d2"),s=Symbol("rippleStop"),n=80;function a(e,t){e.style.transform=t,e.style.webkitTransform=t}function o(e,t){e.style.opacity=t.toString()}function c(e){return"TouchEvent"===e.constructor.name}function d(e){return"KeyboardEvent"===e.constructor.name}var h=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,s=0;if(!d(e)){var n=t.getBoundingClientRect(),a=c(e)?e.touches[e.touches.length-1]:e;r=a.clientX-n.left,s=a.clientY-n.top}var o=0,h=.3;t._ripple&&t._ripple.circle?(h=.15,o=t.clientWidth/2,o=i.center?o:o+Math.sqrt(Math.pow(r-o,2)+Math.pow(s-o,2))/4):o=Math.sqrt(Math.pow(t.clientWidth,2)+Math.pow(t.clientHeight,2))/2;var u="".concat((t.clientWidth-2*o)/2,"px"),l="".concat((t.clientHeight-2*o)/2,"px"),f=i.center?u:"".concat(r-o,"px"),p=i.center?l:"".concat(s-o,"px");return{radius:o,scale:h,x:f,y:p,centerX:u,centerY:l}},u={show:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t._ripple&&t._ripple.enabled){var r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",i.class&&(r.className+=" ".concat(i.class));var n=h(e,t,i),c=n.radius,d=n.scale,u=n.x,l=n.y,f=n.centerX,p=n.centerY,m="".concat(2*c,"px");s.className="v-ripple__animation",s.style.width=m,s.style.height=m,t.appendChild(r);var g=window.getComputedStyle(t);g&&"static"===g.position&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),a(s,"translate(".concat(u,", ").concat(l,") scale3d(").concat(d,",").concat(d,",").concat(d,")")),o(s,0),s.dataset.activated=String(performance.now()),setTimeout((function(){s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),a(s,"translate(".concat(f,", ").concat(p,") scale3d(1,1,1)")),o(s,.25)}),0)}},hide:function(e){if(e&&e._ripple&&e._ripple.enabled){var t=e.getElementsByClassName("v-ripple__animation");if(0!==t.length){var i=t[t.length-1];if(!i.dataset.isHiding){i.dataset.isHiding="true";var r=performance.now()-Number(i.dataset.activated),s=Math.max(250-r,0);setTimeout((function(){i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),o(i,0),setTimeout((function(){var t=e.getElementsByClassName("v-ripple__animation");1===t.length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),i.parentNode&&e.removeChild(i.parentNode)}),300)}),s)}}}}};function l(e){return"undefined"===typeof e||!!e}function f(e){var t={},i=e.currentTarget;if(i&&i._ripple&&!i._ripple.touched&&!e[s]){if(e[s]=!0,c(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||d(e),i._ripple.class&&(t.class=i._ripple.class),c(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=function(){u.show(e,i,t)},i._ripple.showTimer=window.setTimeout((function(){i&&i._ripple&&i._ripple.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)}),n)}else u.show(e,i,t)}}function p(e){var t=e.currentTarget;if(t&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=setTimeout((function(){p(e)})));window.setTimeout((function(){t._ripple&&(t._ripple.touched=!1)})),u.hide(t)}}function m(e){var t=e.currentTarget;t&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}var g=!1;function y(e){g||e.keyCode!==r["x"].enter&&e.keyCode!==r["x"].space||(g=!0,f(e))}function v(e){g=!1,p(e)}function b(e){!0===g&&(g=!1,p(e))}function w(e,t,i){var r=l(t.value);r||u.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=r;var s=t.value||{};s.center&&(e._ripple.centered=!0),s.class&&(e._ripple.class=t.value.class),s.circle&&(e._ripple.circle=s.circle),r&&!i?(e.addEventListener("touchstart",f,{passive:!0}),e.addEventListener("touchend",p,{passive:!0}),e.addEventListener("touchmove",m,{passive:!0}),e.addEventListener("touchcancel",p),e.addEventListener("mousedown",f),e.addEventListener("mouseup",p),e.addEventListener("mouseleave",p),e.addEventListener("keydown",y),e.addEventListener("keyup",v),e.addEventListener("blur",b),e.addEventListener("dragstart",p,{passive:!0})):!r&&i&&S(e)}function S(e){e.removeEventListener("mousedown",f),e.removeEventListener("touchstart",f),e.removeEventListener("touchend",p),e.removeEventListener("touchmove",m),e.removeEventListener("touchcancel",p),e.removeEventListener("mouseup",p),e.removeEventListener("mouseleave",p),e.removeEventListener("keydown",y),e.removeEventListener("keyup",v),e.removeEventListener("dragstart",p),e.removeEventListener("blur",b)}function k(e,t,i){w(e,t,!1)}function _(e){delete e._ripple,S(e)}function O(e,t){if(t.value!==t.oldValue){var i=l(t.oldValue);w(e,t,i)}}var T={bind:k,unbind:_,update:O};t["a"]=T},"563e":function(e,t){function i(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}e.exports=i},5657:function(e,t,i){"use strict";const r=i("90db"),{BadSymbol:s,ExchangeError:n,ExchangeNotAvailable:a,AuthenticationError:o,InvalidOrder:c,InsufficientFunds:d,OrderNotFound:h,DDoSProtection:u,PermissionDenied:l,AddressPending:f,OnMaintenance:p,BadRequest:m,InvalidAddress:g}=i("74b0"),{TRUNCATE:y,DECIMAL_PLACES:v}=i("5ea4"),b=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bittrex",name:"Bittrex",countries:["US"],version:"v3",rateLimit:1500,certified:!1,pro:!0,has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchDeposits:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOrder:!0,fetchOrderTrades:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"MINUTE_1","5m":"MINUTE_5","1h":"HOUR_1","1d":"DAY_1"},hostname:"bittrex.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87153921-edf53180-c2c0-11ea-96b9-f2a9a95a455b.jpg",api:{public:"https://api.bittrex.com",private:"https://api.bittrex.com"},www:"https://bittrex.com",doc:["https://bittrex.github.io/api/v3"],fees:["https://bittrex.zendesk.com/hc/en-us/articles/115003684371-BITTREX-SERVICE-FEES-AND-WITHDRAWAL-LIMITATIONS","https://bittrex.zendesk.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"],referral:"https://bittrex.com/Account/Register?referralCode=1ZE-G0G-M3B"},api:{public:{get:["ping","currencies","currencies/{symbol}","markets","markets/tickers","markets/summaries","markets/{marketSymbol}","markets/{marketSymbol}/summary","markets/{marketSymbol}/orderbook","markets/{marketSymbol}/trades","markets/{marketSymbol}/ticker","markets/{marketSymbol}/candles/{candleInterval}/recent","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}/{day}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}"]},private:{get:["account","account/volume","addresses","addresses/{currencySymbol}","balances","balances/{currencySymbol}","deposits/open","deposits/closed","deposits/ByTxId/{txId}","deposits/{depositId}","orders/closed","orders/open","orders/{orderId}","orders/{orderId}/executions","ping","subaccounts/{subaccountId}","subaccounts","withdrawals/open","withdrawals/closed","withdrawals/ByTxId/{txId}","withdrawals/{withdrawalId}","withdrawals/whitelistAddresses","conditional-orders/{conditionalOrderId}","conditional-orders/closed","conditional-orders/open","transfers/sent","transfers/received","transfers/{transferId}"],post:["addresses","orders","subaccounts","withdrawals","conditional-orders","transfers"],delete:["orders/open","orders/{orderId}","withdrawals/{withdrawalId}","conditional-orders/{conditionalOrderId}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0035,taker:.0035},funding:{tierBased:!1,percentage:!1}},exceptions:{exact:{BAD_REQUEST:m,STARTDATE_OUT_OF_RANGE:m,APISIGN_NOT_PROVIDED:o,INVALID_SIGNATURE:o,INVALID_CURRENCY:n,INVALID_PERMISSION:o,INSUFFICIENT_FUNDS:d,INVALID_CEILING_MARKET_BUY:c,INVALID_FIAT_ACCOUNT:c,INVALID_ORDER_TYPE:c,QUANTITY_NOT_PROVIDED:c,MIN_TRADE_REQUIREMENT_NOT_MET:c,ORDER_NOT_OPEN:h,INVALID_ORDER:c,UUID_INVALID:h,RATE_NOT_PROVIDED:c,INVALID_MARKET:s,WHITELIST_VIOLATION_IP:l,DUST_TRADE_DISALLOWED_MIN_VALUE:c,RESTRICTED_MARKET:s,"We are down for scheduled maintenance, but well be back up shortly.":p},broad:{throttled:u,problem:a}},options:{fetchTicker:{method:"publicGetMarketsMarketSymbolTicker"},fetchTickers:{method:"publicGetMarketsTickers"},parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1,tag:{NXT:!0,CRYPTO_NOTE_PAYMENTID:!0,BITSHAREX:!0,RIPPLE:!0,NEM:!0,STELLAR:!0,STEEM:!0},subaccountId:void 0,fetchClosedOrdersFilterBySince:!0},commonCurrencies:{REPV2:"REP"}})}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e]["precision"]["price"],v)}feeToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e]["precision"]["price"],v)}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"baseCurrencySymbol"),n=this.safeString(e,"quoteCurrencySymbol"),a=this.safeString(e,"symbol"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeInteger(e,"precision",8),u={amount:8,price:h},l=this.safeString(e,"status"),f="ONLINE"===l;i.push({id:a,symbol:d,base:o,quote:c,baseId:s,quoteId:n,active:f,info:e,precision:u,limits:{amount:{min:this.safeNumber(e,"minTradeSize"),max:void 0},price:{min:1/Math.pow(10,u["price"]),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},r=this.indexBy(t,"currencySymbol"),s=Object.keys(r);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),a=this.account(),o=r[e];a["free"]=this.safeString(o,"available"),a["total"]=this.safeString(o,"total"),i[t]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={marketSymbol:this.marketId(e)};if(void 0!==t){if(1!==t&&25!==t&&500!==t)throw new m(this.id+" fetchOrderBook() limit argument must be undefined, 1, 25 or 500, default is 25");r["depth"]=t}const s=await this.publicGetMarketsMarketSymbolOrderbook(this.extend(r,i)),n=this.safeInteger(this.last_response_headers,"Sequence"),a=this.parseOrderBook(s,e,void 0,"bid","ask","rate","quantity");return a["nonce"]=n,a}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s),a=8,o=this.safeNumber(e,"txFee"),c=this.safeString(e,"status");i[n]={id:s,code:n,address:this.safeString(e,"baseAddress"),info:e,type:this.safeString(e,"coinType"),name:this.safeString(e,"name"),active:"ONLINE"===c,fee:o,precision:a,limits:{amount:{min:1/Math.pow(10,a),max:void 0},withdraw:{min:o,max:void 0}}}}return i}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"updatedAt")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"-"),n=this.safeNumber(e,"percentChange"),a=this.safeNumber(e,"lastTradeRate");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bidRate"),bidVolume:void 0,ask:this.safeNumber(e,"askRate"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"fetchTickers",{}),r=this.safeString(i,"method","publicGetMarketsTickers"),s=this.safeString(t,"method",r);t=this.omit(t,"method");const n=await this[s](t),a=[];for(let o=0;o<n.length;o++){const e=this.parseTicker(n[o]);a.push(e)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketSymbol:i["id"]},s=this.safeValue(this.options,"fetchTicker",{}),n=this.safeString(s,"method","publicGetMarketsMarketSymbolTicker"),a=this.safeString(t,"method",n);t=this.omit(t,"method");const o=await this[a](this.extend(r,t));return this.parseTicker(o,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"executedAt")),r=this.safeString(e,"id"),s=this.safeString(e,"orderId"),n=this.safeString(e,"marketSymbol");t=this.safeMarket(n,t,"-");const a=this.safeString(e,"rate"),o=this.safeString(e,"quantity"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(b.stringMul(a,o));let u=void 0;const l=this.safeValue(e,"isTaker");void 0!==l&&(u=l?"taker":"maker");let f=void 0;const p=this.safeNumber(e,"commission");void 0!==p&&(f={cost:p,currency:t["quote"]});const m=this.safeStringLower(e,"takerSide");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t["symbol"],id:r,order:s,takerOrMaker:u,type:void 0,side:m,price:c,amount:d,cost:h,fee:f}}async fetchTime(e={}){const t=await this.publicGetPing(e);return this.safeInteger(t,"serverTime")}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={marketSymbol:this.marketId(e)},a=await this.publicGetMarketsMarketSymbolTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"startsAt")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=n["baseId"]+"-"+n["quoteId"],o={candleInterval:this.timeframes[t],marketSymbol:a};let c="publicGetMarketsMarketSymbolCandlesCandleIntervalRecent";if(void 0!==i){const e=this.milliseconds(),r=Math.abs(e-i),s=this.ymd(i),n=s.split("-"),a=this.safeInteger(n,0),d=this.safeInteger(n,1),h=this.safeInteger(n,2);"1d"===t?r>316224e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYear",o["year"]=a):"1h"===t?r>26784e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonth",o["year"]=a,o["month"]=d):r>864e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonthDay",o["year"]=a,o["month"]=d,o["day"]=h)}const d=await this[c](this.extend(o,s));return this.parseOHLCVs(d,n,t,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["marketSymbol"]=n["id"]);const a=await this.privateGetOrdersOpen(this.extend(s,r));return this.parseOrders(a,n,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n={orderId:e},a=await this.privateGetOrdersOrderIdExecutions(this.extend(n,s));let o=void 0;return void 0!==t&&(o=this.market(t)),this.parseTrades(a,o,i,r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=t.toUpperCase(),c=a["baseId"]+"-"+a["quoteId"],d={marketSymbol:c,direction:i.toUpperCase(),type:o},h="CEILING_LIMIT"===o,u="CEILING_MARKET"===o,l=h||u;if(l){let t=void 0;h?(d["limit"]=this.priceToPrecision(e,s),t=this.safeNumber2(n,"ceiling","cost",r)):u&&(t=this.safeNumber2(n,"ceiling","cost"),void 0===t&&(t=void 0===s?r:r*s)),n=this.omit(n,["ceiling","cost"]),d["ceiling"]=this.costToPrecision(e,t),d["timeInForce"]="IMMEDIATE_OR_CANCEL"}else d["quantity"]=this.amountToPrecision(e,r),"LIMIT"===o?(d["limit"]=this.priceToPrecision(e,s),d["timeInForce"]="GOOD_TIL_CANCELLED"):d["timeInForce"]="IMMEDIATE_OR_CANCEL";const f=await this.privatePostOrders(this.extend(d,n));return this.parseOrder(f,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateDeleteOrdersOrderId(this.extend(r,i));return this.extend(this.parseOrder(s),{id:e,info:s,status:"canceled"})}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;void 0!==e&&(r=this.market(e),i["marketSymbol"]=r["id"]);const s=await this.privateDeleteOrdersOpen(this.extend(i,t)),n=[];for(let a=0;a<s.length;a++){const e=this.safeValue(s[a],"result",{});n.push(e)}return this.parseOrders(n,r)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currencySymbol"]=n["id"]);const a=await this.privateGetDepositsClosed(this.extend(s,r));return this.parseTransactions(a,n,void 0,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currencySymbol"]=n["id"]);const a=await this.privateGetWithdrawalsClosed(this.extend(s,r));return this.parseTransactions(a,n,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeNumber(e,"quantity"),s=this.safeString(e,"cryptoAddress"),n=this.safeString(e,"txId"),a=this.parse8601(this.safeString(e,"updatedAt")),o=this.parse8601(this.safeString(e,"createdAt")),c=o||a,d=void 0===o?"deposit":"withdrawal",h=this.safeString(e,"currencySymbol"),u=this.safeCurrencyCode(h,t);let l="pending";if("deposit"===d)l="ok";else{const t=this.safeString(e,"status");"ERROR_INVALID_ADDRESS"===t?l="failed":"CANCELLED"===t?l="canceled":"PENDING"===t?l="pending":("COMPLETED"===t||"AUTHORIZED"===t&&void 0!==n)&&(l="ok")}let f=this.safeNumber(e,"txCost");return void 0===f&&"deposit"===d&&(f=0),{info:e,id:i,currency:u,amount:r,address:s,tag:void 0,status:l,type:d,updated:a,txid:n,timestamp:c,datetime:this.iso8601(c),fee:{currency:u,cost:f}}}parseTimeInForce(e){const t={GOOD_TIL_CANCELLED:"GTC",IMMEDIATE_OR_CANCEL:"IOC",FILL_OR_KILL:"FOK",POST_ONLY_GOOD_TIL_CANCELLED:"PO"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"marketSymbol");t=this.safeMarket(i,t,"-");const r=t["symbol"],s=t["quote"],n=this.safeStringLower(e,"direction"),a=this.safeString(e,"createdAt"),o=this.safeString(e,"updatedAt"),c=this.safeString(e,"closedAt");let d=void 0;void 0!==c?d=this.parse8601(c):o&&(d=this.parse8601(o));const h=this.parse8601(a),u=this.safeStringLower(e,"type"),l=this.safeNumber(e,"quantity"),f=this.safeNumber(e,"limit"),p=this.safeNumber(e,"fillQuantity"),m=this.safeNumber(e,"commission"),g=this.safeNumber(e,"proceeds"),y=this.safeStringLower(e,"status"),v=this.parseTimeInForce(this.safeString(e,"timeInForce")),b="PO"===v;return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:d,symbol:r,type:u,timeInForce:v,postOnly:b,side:n,price:f,stopPrice:void 0,cost:g,average:void 0,amount:l,filled:p,remaining:void 0,status:y,fee:{cost:m,currency:s},info:e,trades:void 0})}parseOrders(e,t,i,r,s={}){return this.options["fetchClosedOrdersFilterBySince"]?super.parseOrders(e,t,i,r,s):super.parseOrders(e,t,void 0,r,s)}parseOrderStatus(e){const t={CLOSED:"closed",OPEN:"open",CANCELLED:"canceled",CANCELED:"canceled"};return this.safeString(t,e,e)}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0;try{const t={orderId:e};r=await this.privateGetOrdersOrderId(this.extend(t,i))}catch(s){if(this.last_json_response){const e=this.safeString(this.last_json_response,"message");if("UUID_INVALID"===e)throw new h(this.id+" fetchOrder() error: "+this.last_http_response)}throw s}return this.parseOrder(r)}orderToTrade(e){const t=this.safeInteger2(e,"lastTradeTimestamp","timestamp");return{id:this.safeString(e,"id"),side:this.safeString(e,"side"),order:this.safeString(e,"id"),type:this.safeString(e,"type"),price:this.safeNumber(e,"average"),amount:this.safeNumber(e,"filled"),cost:this.safeNumber(e,"cost"),symbol:this.safeString(e,"symbol"),timestamp:t,datetime:this.iso8601(t),fee:this.safeValue(e,"fee"),info:e,takerOrMaker:void 0}}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.orderToTrade(e[i]));return t}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["pageSize"]=i),void 0!==t&&(s["startDate"]=this.ymdhms(t,"T")+"Z");let n=void 0;void 0!==e&&(n=this.market(e),s["marketSymbol"]=n["base"]+"-"+n["quote"]);const a=await this.privateGetOrdersClosed(this.extend(s,r)),o=this.parseOrders(a,n),c=this.ordersToTrades(o);return this.filterBySymbolSinceLimit(c,e,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["pageSize"]=i),void 0!==t&&(s["startDate"]=this.ymdhms(t,"T")+"Z");let n=void 0;void 0!==e&&(n=this.market(e),s["marketSymbol"]=n["base"]+"-"+n["quote"]);const a=await this.privateGetOrdersClosed(this.extend(s,r));return this.parseOrders(a,n,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currencySymbol:i["id"]},s=await this.privatePostAddresses(this.extend(r,t));let n=this.safeString(s,"cryptoAddress");const a=this.safeString(s,"status");if(!n||"REQUESTED"===a)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=this.safeString(s,"cryptoAddressTag");return void 0===o&&i["type"]in this.options["tag"]&&(o=n,n=i["address"]),this.checkAddress(n),{currency:e,address:n,tag:o,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currencySymbol:i["id"]},s=await this.privateGetAddressesCurrencySymbol(this.extend(r,t));let n=this.safeString(s,"cryptoAddress");const a=this.safeString(s,"status");if(!n||"REQUESTED"===a)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=this.safeString(s,"cryptoAddressTag");return void 0===o&&i["type"]in this.options["tag"]&&(o=n,n=i["address"]),this.checkAddress(n),{currency:e,address:n,tag:o,info:s}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currencySymbol:n["id"],quantity:t,cryptoAddress:i};void 0!==r&&(a["cryptoAddressTag"]=r);const o=await this.privatePostWithdrawals(this.extend(a,s)),c=this.safeString(o,"id");return{info:o,id:c}}sign(e,t="v3",i="GET",r={},s,n){let a=this.implodeParams(this.urls["api"][t],{hostname:this.hostname})+"/";if("private"===t){a+=this.version+"/",this.checkRequiredCredentials(),a+=this.implodeParams(e,r),r=this.omit(r,this.extractParams(e));let t="";"POST"===i?(n=this.json(r),t=n):Object.keys(r).length&&(a+="?"+this.rawencode(r));const o=this.hash(this.encode(t),"sha512","hex"),c=this.milliseconds().toString();let d=c+a+i+o;const h=this.safeValue(this.options,"subaccountId");void 0!==h&&(d+=h);const u=this.hmac(this.encode(d),this.encode(this.secret),"sha512");s={"Api-Key":this.apiKey,"Api-Timestamp":c,"Api-Content-Hash":o,"Api-Signature":u},void 0!==h&&(s["Api-Subaccount-Id"]=h),"POST"===i&&(s["Content-Type"]="application/json")}else"public"===t&&(a+=this.version+"/"),a+=this.implodeParams(e,r),r=this.omit(r,this.extractParams(e)),Object.keys(r).length&&(a+="?"+this.urlencode(r));return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,c,d,l){if(void 0!==c&&"{"===a[0]){const e=this.id+" "+a;let t=this.safeValue(c,"success");if(void 0===t){const t=this.safeString(c,"code");if(void 0!==t&&(this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],t,e)),"NOT_FOUND"===t&&i.indexOf("addresses")>=0)throw new g(e);return}if("string"===typeof t&&(t="true"===t),!t){const t=this.safeString(c,"message");if("APIKEY_INVALID"===t)throw this.options["hasAlreadyAuthenticatedSuccessfully"]?new u(e):new o(e);if("INVALID_ORDER"===t){const e="cancel",t=i.indexOf(e);if(t>=0){const e=i.split("?"),t=e.length;if(t>1){const t=e[1],i=t.split("&"),r=i.length;let s=void 0;for(let e=0;e<r;e++){const t=i[e],r=t.split("=");if("uuid"===r[0]){s=r[1];break}}throw new h(void 0!==s?this.id+" cancelOrder "+s+" "+this.json(c):this.id+" cancelOrder "+this.json(c))}}}throw this.throwExactlyMatchedException(this.exceptions["exact"],t,e),void 0!==t&&this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new n(e)}}}}},"566f":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n}=i("74b0"),a=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e3,version:"1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0},urls:{referral:"https://www.luno.com/invite/44893A",logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:{public:"https://api.luno.com/api",private:"https://api.luno.com/api",exchange:"https://api.luno.com/api/exchange"},www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{exchange:{get:["markets"]},public:{get:["orderbook","orderbook_top","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","beneficiaries","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}","transfers"],post:["accounts","accounts/{id}/name","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["accounts/{id}/name","quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}async fetchMarkets(e={}){const t=await this.exchangeGetMarkets(e),i=[],r=this.safeValue(t,"markets",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"market_id"),n=this.safeString(e,"base_currency"),a=this.safeString(e,"counter_currency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeString(e,"trading_status"),u="ACTIVE"===h,l={amount:this.safeInteger(e,"volume_scale"),price:this.safeInteger(e,"price_scale")};i.push({id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:u,precision:l,limits:{amount:{min:this.safeNumber(e,"min_volume"),max:this.safeNumber(e,"max_volume")},price:{min:this.safeNumber(e,"min_price"),max:this.safeNumber(e,"max_price")},cost:{min:void 0,max:void 0}},info:e})}return i}async fetchAccounts(e={}){const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"account_id"),n=this.safeString(e,"asset"),a=this.safeCurrencyCode(n);r.push({id:t,type:void 0,currency:a,info:e})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),r={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"asset"),n=this.safeCurrencyCode(t),o=this.safeString(e,"reserved"),c=this.safeString(e,"unconfirmed"),d=this.safeString(e,"balance"),h=a.stringAdd(o,c),u=a.stringAdd(d,c);if(n in r)r[n]["used"]=a.stringAdd(r[n]["used"],h),r[n]["total"]=a.stringAdd(r[n]["total"],u);else{const e=this.account();e["used"]=h,e["total"]=u,r[n]=e}}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();let r="publicGetOrderbook";void 0!==t&&t<=100&&(r+="Top");const s={pair:this.marketId(e)},n=await this[r](this.extend(s,i)),a=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,e,a,"bids","asks","price","volume")}parseOrderStatus(e){const t={PENDING:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp");let r=this.parseOrderStatus(this.safeString(e,"state"));r=r;let s=void 0;const n=this.safeString(e,"type");"ASK"===n||"SELL"===n?s="sell":"BID"!==n&&"BUY"!==n||(s="buy");const a=this.safeString(e,"pair"),o=this.safeSymbol(a,t),c=this.safeNumber(e,"limit_price"),d=this.safeNumber(e,"limit_volume"),h=this.safeNumber(e,"fee_counter"),u=this.safeNumber(e,"fee_base"),l=this.safeNumber(e,"base"),f=this.safeNumber(e,"counter"),p={currency:void 0};h?(p["cost"]=h,void 0!==t&&(p["currency"]=t["quote"])):(p["cost"]=u,void 0!==t&&(p["currency"]=t["base"]));const m=this.safeString(e,"order_id");return this.safeOrder({id:m,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:r,symbol:o,type:void 0,timeInForce:void 0,postOnly:void 0,side:s,price:c,stopPrice:void 0,amount:d,filled:l,cost:f,remaining:void 0,trades:void 0,fee:p,info:e,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrdersByState(e,t,i,r,s={}){await this.loadMarkets();const n={};let a=void 0;void 0!==e&&(n["state"]=e),void 0!==t&&(a=this.market(t),n["pair"]=a["id"]);const o=await this.privateGetListorders(this.extend(n,s)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,a,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByState(void 0,e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("PENDING",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("COMPLETE",e,t,i,r)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0;t&&(r=t["symbol"]);const s=this.safeNumber(e,"last_trade");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.indexBy(i["tickers"],"pair"),s=Object.keys(r),n={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeMarket(e),i=t["symbol"],o=r[e];n[i]=this.parseTicker(o,t)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeString(e,"order_id");let r=void 0,s=void 0;if(void 0!==i){const t=this.safeString(e,"type");"ASK"===t||"SELL"===t?s="sell":"BID"!==t&&"BUY"!==t||(s="buy"),r="sell"===s&&e["is_buy"]?"maker":"buy"!==s||e["is_buy"]?"taker":"maker"}else s=e["is_buy"]?"buy":"sell";const n=this.safeNumber(e,"fee_base"),a=this.safeNumber(e,"fee_counter");let o=void 0,c=void 0;void 0!==n?0!==n&&(o=t["base"],c=n):void 0!==a&&0!==a&&(o=t["quote"],c=a);const d=this.safeInteger(e,"timestamp");return{info:e,id:void 0,timestamp:d,datetime:this.iso8601(d),symbol:t["symbol"],order:i,type:void 0,side:s,takerOrMaker:r,price:this.safeNumber(e,"price"),amount:this.safeNumber(e,"volume"),cost:this.safeNumber(e,"counter"),fee:{cost:c,currency:o}}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==t&&(n["since"]=t);const a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"trades",[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={pair:s["id"]};void 0!==t&&(a["since"]=t),void 0!==i&&(a["limit"]=i);const o=await this.privateGetListtrades(this.extend(a,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetFeeInfo(e);return{info:t,maker:this.safeNumber(t,"maker_fee"),taker:this.safeNumber(t,"taker_fee")}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();let a="privatePost";const o={pair:this.marketId(e)};"market"===t?(a+="Marketorder",o["type"]=i.toUpperCase(),"buy"===i?o["counter_volume"]=parseFloat(this.amountToPrecision(e,r)):o["base_volume"]=parseFloat(this.amountToPrecision(e,r))):(a+="Postorder",o["volume"]=parseFloat(this.amountToPrecision(e,r)),o["price"]=parseFloat(this.priceToPrecision(e,s)),o["type"]="buy"===i?"BID":"ASK");const c=await this[a](this.extend(o,n));return{info:c,id:c["order_id"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostStoporder(this.extend(r,i))}async fetchLedgerByEntries(e,t=-1,i=1,r={}){const s=void 0,n={min_row:t,max_row:this.sum(t,i)};return await this.fetchLedger(e,s,i,this.extend(n,r))}async fetchLedger(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let a=void 0,o=this.safeString(r,"id"),c=this.safeValue(r,"min_row"),d=this.safeValue(r,"max_row");if(void 0===o){if(void 0===e)throw new n(this.id+" fetchLedger() requires a currency code argument if no account id specified in params");a=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new s(this.id+" fetchLedger() could not find account id for "+e);o=i["id"]}if(void 0===c&&void 0===d)d=0,c=-1e3;else if(void 0===c||void 0===d)throw new s(this.id+" fetchLedger() require both params 'max_row' and 'min_row' or neither to be defined");if(void 0!==i&&d-c>i&&(d<=0?c=d-i:c>0&&(d=c+i)),d-c>1e3)throw new s(this.id+" fetchLedger() requires the params 'max_row' - 'min_row' <= 1000");const h={id:o,min_row:c,max_row:d},u=await this.privateGetAccountsIdTransactions(this.extend(r,h)),l=this.safeValue(u,"transactions",[]);return this.parseLedger(l,a,t,i)}parseLedgerComment(e){const t=e.split(" "),i={Withdrawal:"fee",Trading:"fee",Payment:"transaction",Sent:"transaction",Deposit:"transaction",Received:"transaction",Released:"released",Reserved:"reserved",Sold:"trade",Bought:"trade",Failure:"failed"};let r=void 0;const s=this.safeString(t,0),n=this.safeString(t,2),a=this.safeString(t,3);let o=this.safeString(i,s,void 0);return void 0===o&&"fee"===n&&(o="fee"),"reserved"===o&&"order"===a&&(r=this.safeString(t,4)),{type:o,referenceId:r}}parseLedgerEntry(e,t){const i=this.safeString(e,"row_index"),r=this.safeString(e,"account_id"),s=this.safeValue(e,"timestamp"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n,t),o=this.safeNumber(e,"available_delta"),c=this.safeNumber(e,"balance_delta"),d=this.safeNumber(e,"balance"),h=this.safeString(e,"description");let u=d,l=0;const f=this.parseLedgerComment(h),p=f["type"],m=f["referenceId"];let g=void 0,y=void 0;return 0!==c?(u=d-c,y="ok",l=Math.abs(c)):o<0?(y="pending",l=Math.abs(o)):o>0&&(y="canceled",l=Math.abs(o)),c>0||o>0?g="in":(c<0||o<0)&&(g="out"),{id:i,direction:g,account:r,referenceId:m,referenceAccount:void 0,type:p,currency:a,amount:l,timestamp:s,datetime:this.iso8601(s),before:u,after:d,status:y,fee:void 0,info:e}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(Object.keys(o).length&&(a+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.stringToBase64(this.apiKey+":"+this.secret);s={Authorization:"Basic "+this.decode(e)}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("error"in o)throw new s(this.id+" "+this.json(o));return o}}},5692:function(e,t,i){var r=i("c430"),s=i("c6cd");(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"56af":function(e,t,i){"use strict";const r=i("90db"),{NotSupported:s,RateLimitExceeded:n,AuthenticationError:a,PermissionDenied:o,ArgumentsRequired:c,ExchangeError:d,ExchangeNotAvailable:h,InsufficientFunds:u,InvalidOrder:l,OrderNotFound:f,InvalidNonce:p,BadSymbol:m}=i("74b0"),{SIGNIFICANT_DIGITS:g,DECIMAL_PLACES:y,TRUNCATE:v,ROUND:b}=i("5ea4"),w=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitfinex",name:"Bitfinex",countries:["VG"],version:"v1",rateLimit:1500,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,deposit:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0,transfer:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v2:"https://api-pub.bitfinex.com",public:"https://api.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",referral:"https://www.bitfinex.com/?refcode=P61eYxFL",doc:["https://docs.bitfinex.com/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{feeSide:"get",tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2}}},commonCurrencies:{ALG:"ALGO",AMP:"AMPL",ATO:"ATOM",BCHABC:"BCHA",BCHN:"BCH",DAT:"DATA",DOG:"MDOGE",DSH:"DASH",EDO:"PNT",EUS:"EURS",EUT:"EURT",IOT:"IOTA",IQX:"IQ",MNA:"MANA",ORS:"ORS Group",PAS:"PASS",QSH:"QASH",QTM:"QTUM",RBT:"RBTC",SNG:"SNGLS",STJ:"STORJ",TSD:"TUSD",YYW:"YOYOW",UDC:"USDC",UST:"USDT",VSY:"VSYS",WAX:"WAXP",XCH:"XCHF",ZBT:"ZB"},exceptions:{exact:{temporarily_unavailable:h,"Order could not be cancelled.":f,"No such order found.":f,"Order price must be positive.":l,"Could not find a key matching the given X-BFX-APIKEY.":a,'Key price should be a decimal number, e.g. "123.456"':l,'Key amount should be a decimal number, e.g. "123.456"':l,ERR_RATE_LIMIT:n,Ratelimit:n,"Nonce is too small.":p,"No summary found.":d,"Cannot evaluate your available balance, please try again":h,"Unknown symbol":m,"Cannot complete transfer. Exchange balance insufficient.":u,"Momentary balance check. Please wait few seconds and try the transfer again.":d},broad:{"Invalid X-BFX-SIGNATURE":a,"This API key does not have permission":o,"not enough exchange balance for ":u,"minimum size for ":l,"Invalid order":l,"The available balance is only":u}},precisionMode:g,options:{currencyNames:{AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bab",BCI:"bci",BFT:"bft",BSV:"bsv",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",COMP:"comp",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LEO:"let",LINK:"link",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STORJ:"stj",TNB:"tnb",TRX:"trx",TUSD:"tsd",USD:"wire",USDC:"udc",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx",XTZ:"xtz"},orderTypes:{limit:"exchange limit",market:"exchange market"},accountsByType:{spot:"exchange",margin:"trading",funding:"deposit",exchange:"exchange",trading:"trading",deposit:"deposit",derivatives:"trading"}}})}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostAccountFees(e),i=t["withdraw"],r={},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e);r[t]=this.safeNumber(i,e)}return{info:t,withdraw:r,deposit:r}}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostSummary(e);return{info:t,maker:this.safeNumber(t,"maker_fee"),taker:this.safeNumber(t,"taker_fee")}}async fetchMarkets(e={}){const t=await this.publicGetSymbols(),i=await this.publicGetSymbolsDetails(),r=[];for(let s=0;s<i.length;s++){const e=i[s];let n=this.safeString(e,"pair");if(!this.inArray(n,t))continue;n=n.toUpperCase();let a=void 0,o=void 0;if(n.indexOf(":")>=0){const e=n.split(":");a=e[0],o=e[1]}else a=n.slice(0,3),o=n.slice(3,6);const c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={price:this.safeInteger(e,"price_precision"),amount:8},l=this.safeString(e,"minimum_order_size"),f=this.safeString(e,"maximum_order_size"),p={amount:{min:this.parseNumber(l),max:this.parseNumber(f)},price:{min:this.parseNumber("1e-8"),max:void 0},cost:{min:void 0,max:void 0}},m=this.safeValue(e,"margin");r.push({id:n,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:!0,type:"spot",margin:m,precision:u,limits:p,info:e})}return r}amountToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e]["precision"]["amount"],y)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,b,this.markets[e]["precision"]["price"],this.precisionMode),this.decimalToPrecision(t,v,8,y)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"accountsByType",{}),i=this.safeString(e,"type","exchange"),r=this.safeString(t,i);if(void 0===r){const e=Object.keys(t);throw new d(this.id+" fetchBalance type parameter must be one of "+e.join(", "))}const s=this.omit(e,"type"),n=await this.privatePostBalances(s),a={info:n},o="derivatives"===i;for(let c=0;c<n.length;c++){const e=n[c],t=this.safeString(e,"type"),i=this.safeStringLower(e,"currency",""),s=i.length-2,d="f0"===i.slice(s),h=!o||d;if(r===t&&h){const t=this.safeCurrencyCode(i);if(!(t in a)){const i=this.account();i["free"]=this.safeString(e,"available"),i["total"]=this.safeString(e,"amount"),a[t]=i}}}return this.parseBalance(a,!1)}async transfer(e,t,i,r,s={}){await this.loadMarkets();const n=this.safeValue(this.options,"accountsByType",{}),a=this.safeString(n,i);if(void 0===a){const e=Object.keys(n);throw new d(this.id+" transfer fromAccount must be one of "+e.join(", "))}const o=this.safeString(n,r);if(void 0===o){const e=Object.keys(n);throw new d(this.id+" transfer toAccount must be one of "+e.join(", "))}const c=this.currencyId(e),h=this.convertDerivativesId(c,i),u=this.convertDerivativesId(c,r),l=this.currencyToPrecision(e,t),f={amount:l,currency:h,currency_to:u,walletfrom:a,walletto:o},p=await this.privatePostTransfer(this.extend(f,s)),m=this.safeValue(p,0),g=this.safeString(m,"status"),y=this.safeString(m,"message");if(void 0===y)throw new d(this.id+" transfer failed");if("error"===g)throw this.throwExactlyMatchedException(this.exceptions["exact"],y,this.id+" "+y),new d(this.id+" "+y);return{info:p,status:g,amount:l,code:e,fromAccount:i,toAccount:r,timestamp:void 0,datetime:void 0}}convertDerivativesId(e,t){const i=e.length-2,r="F0"===e.slice(i);return"derivatives"!==t&&"trading"!==t&&"margin"!==t&&r?e=e.slice(0,i):"derivatives"!==t||r||(e+="F0"),e}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r["limit_bids"]=t,r["limit_asks"]=t);const s=await this.publicGetBookSymbol(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetPubtickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){let i=this.safeNumber(e,"timestamp");void 0!==i&&(i*=1e3),i=parseInt(i);let r=void 0;if(void 0!==t)r=t["symbol"];else if("pair"in e){const i=this.safeString(e,"pair");if(void 0!==i)if(i in this.markets_by_id)t=this.markets_by_id[i],r=t["symbol"];else{const e=i.slice(0,3),t=i.slice(3,6),s=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t);r=s+"/"+n}}const s=this.safeNumber(e,"last_price");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"mid"),baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){const i=this.safeString(e,"tid");let r=this.safeNumber(e,"timestamp");void 0!==r&&(r=1e3*parseInt(r));const s=void 0,n=this.safeStringLower(e,"type"),a=this.safeString(e,"order_id"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(w.stringMul(o,c));let l=void 0;if("fee_amount"in e){const t=-this.safeNumber(e,"fee_amount"),i=this.safeString(e,"fee_currency"),r=this.safeCurrencyCode(i);l={cost:t,currency:r}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t["symbol"],type:s,order:a,side:n,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:l}}async fetchTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"],limit_trades:i};void 0!==t&&(n["timestamp"]=parseInt(t/1e3));const a=await this.publicGetTradesSymbol(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit_trades"]=i),void 0!==t&&(n["timestamp"]=parseInt(t/1e3));const a=await this.privatePostMytrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={symbol:this.marketId(e),side:i,amount:this.amountToPrecision(e,r),type:this.safeString(this.options["orderTypes"],t,t),ocoorder:!1,buy_price_oco:0,sell_price_oco:0};a["price"]="market"===t?this.nonce().toString():this.priceToPrecision(e,s);const o=await this.privatePostOrderNew(this.extend(a,n));return this.parseOrder(o)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o={order_id:parseInt(e)};void 0!==n&&(o["price"]=this.priceToPrecision(t,n)),void 0!==s&&(o["amount"]=this.numberToString(s)),void 0!==t&&(o["symbol"]=this.marketId(t)),void 0!==r&&(o["side"]=r),void 0!==i&&(o["type"]=this.safeString(this.options["orderTypes"],i,i));const c=await this.privatePostOrderCancelReplace(this.extend(o,a));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostOrderCancel(this.extend(r,i))}async cancelAllOrders(e,t={}){return await this.privatePostOrderCancelAll(t)}parseOrder(e,t){const i=this.safeString(e,"side"),r=this.safeValue(e,"is_live"),s=this.safeValue(e,"is_cancelled");let n=void 0;n=r?"open":s?"canceled":"closed";const a=this.safeStringUpper(e,"symbol"),o=this.safeSymbol(a,t);let c=this.safeString(e,"type","");const d=c.indexOf("exchange ")>=0;if(d){const t=e["type"].split(" ");c=t[1]}const h=this.safeTimestamp(e,"timestamp"),u=this.safeString(e,"id");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:o,type:c,timeInForce:void 0,postOnly:void 0,side:i,price:this.safeNumber(e,"price"),stopPrice:void 0,average:this.safeNumber(e,"avg_execution_price"),amount:this.safeNumber(e,"original_amount"),remaining:this.safeNumber(e,"remaining_amount"),filled:this.safeNumber(e,"executed_amount"),status:n,fee:void 0,cost:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,r={}){if(await this.loadMarkets(),void 0!==e&&!(e in this.markets))throw new d(this.id+" has no symbol "+e);const s=await this.privatePostOrders(r);let n=this.parseOrders(s,void 0,t,i);return void 0!==e&&(n=this.filterBy(n,"symbol",e)),n}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["limit"]=i);const n=await this.privatePostOrdersHist(this.extend(s,r));let a=this.parseOrders(n,void 0,t,i);return void 0!==e&&(a=this.filterBy(a,"symbol",e)),a=this.filterByArray(a,"status",["closed","canceled"],!1),a}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrder(s)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets(),void 0===r&&(r=100);const n=this.market(e),a="t"+n["id"],o={symbol:a,timeframe:this.timeframes[t],sort:1,limit:r};void 0!==i&&(o["start"]=i);const c=await this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(o,s));return this.parseOHLCVs(c,n,t,i,r)}getCurrencyName(e){if(e in this.options["currencyNames"])return this.options["currencyNames"][e];throw new s(this.id+" "+e+" not supported for withdrawal")}async createDepositAddress(e,t={}){await this.loadMarkets();const i={renew:1},r=await this.fetchDepositAddress(e,this.extend(i,t));return r}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.getCurrencyName(e),r={method:i,wallet_name:"exchange",renew:0},s=await this.privatePostDepositNew(this.extend(r,t));let n=this.safeValue(s,"address"),a=void 0;return"address_pool"in s&&(a=n,n=s["address_pool"]),this.checkAddress(n),{currency:e,address:n,tag:a,info:s}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=this.safeString(r,"currency");const n=this.omit(r,"currency");let a=void 0;if(void 0===s){if(void 0===e)throw new c(this.id+" fetchTransactions() requires a currency `code` argument or a `currency` parameter");a=this.currency(e),s=a["id"]}n["currency"]=s,void 0!==t&&(n["since"]=parseInt(t/1e3));const o=await this.privatePostHistoryMovements(this.extend(n,r));return this.parseTransactions(o,a,t,i)}parseTransaction(e,t){let i=this.safeNumber(e,"timestamp_created");void 0!==i&&(i=parseInt(1e3*i));let r=this.safeNumber(e,"timestamp");void 0!==r&&(r=parseInt(1e3*r));const s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s,t),a=this.safeStringLower(e,"type"),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:void 0,type:a,amount:this.safeNumber(e,"amount"),currency:n,status:o,updated:r,fee:{currency:n,cost:c,rate:void 0}}}parseTransactionStatus(e){const t={SENDING:"pending",CANCELED:"canceled",ZEROCONFIRMED:"failed",COMPLETED:"ok"};return this.safeString(t,e,e)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.getCurrencyName(e),a={withdraw_type:n,walletselected:"exchange",amount:this.numberToString(t),address:i};void 0!==r&&(a["payment_id"]=r);const o=await this.privatePostWithdraw(this.extend(a,s)),c=o[0],h=this.safeString(c,"withdrawal_id"),u=this.safeString(c,"message"),l=this.findBroadlyMatchedKey(this.exceptions["broad"],u);if(0===h){if(void 0!==l){const e=this.exceptions["broad"][l];throw new e(this.id+" "+u)}throw new d(this.id+" withdraw returned an id of zero: "+this.json(c))}return{info:c,id:h}}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privatePostPositions(t);return i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);a="v2"===t?"/"+t+a:"/"+this.version+a;let o=this.omit(r,this.extractParams(e)),c=this.urls["api"][t]+a;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(o).length){const e="?"+this.urlencode(o);c+=e,a+=e}if("private"===t){this.checkRequiredCredentials();const e=this.nonce();o=this.extend({nonce:e.toString(),request:a},o),n=this.json(o);const t=this.stringToBase64(n),i=this.encode(this.secret),r=this.hmac(t,i,"sha384");s={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(t),"X-BFX-SIGNATURE":r,"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,c){if(void 0!==a&&e>=400&&"{"===n[0]){const e=this.id+" "+n,t=this.safeString2(a,"message","error");throw this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new d(e)}}}},"56b8":function(e,t,i){"use strict";
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */t.__esModule=!0;for(var r="0123456789abcdef".split(""),s=[31,7936,2031616,520093696],n=[1,256,65536,16777216],a=[6,1536,393216,100663296],o=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],h=[128,256],u=["hex","buffer","arrayBuffer","array"],l=function(e,t,i){return function(r){return new O(e,t,e).update(r)[i]()}},f=function(e,t,i){return function(r,s){return new O(e,t,s).update(r)[i]()}},p=function(e,t){var i=l(e,t,"hex");i.create=function(){return new O(e,t,e)},i.update=function(e){return i.create().update(e)};for(var r=0;r<u.length;++r){var s=u[r];i[s]=l(e,t,s)}return i},m=function(e,t){var i=f(e,t,"hex");i.create=function(i){return new O(e,t,i)},i.update=function(e,t){return i.create(t).update(e)};for(var r=0;r<u.length;++r){var s=u[r];i[s]=f(e,t,s)}return i},g=[{name:"keccak",padding:n,bits:d,createMethod:p},{name:"sha3",padding:a,bits:d,createMethod:p},{name:"shake",padding:s,bits:h,createMethod:m}],y={},v=[],b=0;b<g.length;++b)for(var w=g[b],S=w.bits,k=0;k<S.length;++k){var _=w.name+"_"+S[k];v.push(_),y[_]=w.createMethod(S[k],w.padding)}function O(e,t,i){this.blocks=[],this.s=[],this.padding=t,this.outputBits=i,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var r=0;r<50;++r)this.s[r]=0}O.prototype.update=function(e){var t="string"!==typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));var i,r,s=e.length,n=this.blocks,a=this.byteCount,c=this.blockCount,d=0,h=this.s;while(d<s){if(this.reset)for(this.reset=!1,n[0]=this.block,i=1;i<c+1;++i)n[i]=0;if(t)for(i=this.start;d<s&&i<a;++d)n[i>>2]|=e[d]<<o[3&i++];else for(i=this.start;d<s&&i<a;++d)r=e.charCodeAt(d),r<128?n[i>>2]|=r<<o[3&i++]:r<2048?(n[i>>2]|=(192|r>>6)<<o[3&i++],n[i>>2]|=(128|63&r)<<o[3&i++]):r<55296||r>=57344?(n[i>>2]|=(224|r>>12)<<o[3&i++],n[i>>2]|=(128|r>>6&63)<<o[3&i++],n[i>>2]|=(128|63&r)<<o[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++d)),n[i>>2]|=(240|r>>18)<<o[3&i++],n[i>>2]|=(128|r>>12&63)<<o[3&i++],n[i>>2]|=(128|r>>6&63)<<o[3&i++],n[i>>2]|=(128|63&r)<<o[3&i++]);if(this.lastByteIndex=i,i>=a){for(this.start=i-a,this.block=n[c],i=0;i<c;++i)h[i]^=n[i];T(h),this.reset=!0}else this.start=i}return this},O.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[i],t=1;t<i+1;++t)e[t]=0;for(e[i-1]|=2147483648,t=0;t<i;++t)r[t]^=e[t];T(r)},O.prototype.toString=O.prototype.hex=function(){this.finalize();var e,t=this.blockCount,i=this.s,s=this.outputBlocks,n=this.extraBytes,a=0,o=0,c="";while(o<s){for(a=0;a<t&&o<s;++a,++o)e=i[a],c+=r[e>>4&15]+r[15&e]+r[e>>12&15]+r[e>>8&15]+r[e>>20&15]+r[e>>16&15]+r[e>>28&15]+r[e>>24&15];o%t===0&&(T(i),a=0)}return n&&(e=i[a],n>0&&(c+=r[e>>4&15]+r[15&e]),n>1&&(c+=r[e>>12&15]+r[e>>8&15]),n>2&&(c+=r[e>>20&15]+r[e>>16&15])),c},O.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,n=0,a=0,o=this.outputBits>>3;e=s?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);var c=new Uint32Array(e);while(a<r){for(n=0;n<t&&a<r;++n,++a)c[a]=i[n];a%t===0&&T(i)}return s&&(c[n]=i[n],e=e.slice(0,o)),e},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();var e,t,i=this.blockCount,r=this.s,s=this.outputBlocks,n=this.extraBytes,a=0,o=0,c=[];while(o<s){for(a=0;a<i&&o<s;++a,++o)e=o<<2,t=r[a],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%i===0&&T(r)}return n&&(e=o<<2,t=r[a],n>0&&(c[e]=255&t),n>1&&(c[e+1]=t>>8&255),n>2&&(c[e+2]=t>>16&255)),c};var T=function(e){var t,i,r,s,n,a,o,d,h,u,l,f,p,m,g,y,v,b,w,S,k,_,O,T,C,I,x,E,A,N,M,P,B,R,D,L,V,j,q,U,G,F,H,z,K,W,$,Y,X,Q,Z,J,ee,te,ie,re,se,ne,ae,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],p=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(a<<1|o>>>31),i=p^(o<<1|a>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(d<<1|h>>>31),i=n^(h<<1|d>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=a^(u<<1|l>>>31),i=o^(l<<1|u>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=d^(f<<1|p>>>31),i=h^(p<<1|f>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=u^(s<<1|n>>>31),i=l^(n<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,m=e[0],g=e[1],W=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,E=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,V=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,C=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,j=e[26]<<25|e[27]>>>7,q=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,k=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,ne=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,O=e[49]<<14|e[48]>>>18,e[0]=m^~y&b,e[1]=g^~v&w,e[10]=T^~I&E,e[11]=C^~x&A,e[20]=R^~L&j,e[21]=D^~V&q,e[30]=z^~W&Y,e[31]=K^~$&X,e[40]=te^~re&ne,e[41]=ie^~se&ae,e[2]=y^~b&S,e[3]=v^~w&k,e[12]=I^~E&N,e[13]=x^~A&M,e[22]=L^~j&U,e[23]=V^~q&G,e[32]=W^~Y&Q,e[33]=$^~X&Z,e[42]=re^~ne&oe,e[43]=se^~ae&ce,e[4]=b^~S&_,e[5]=w^~k&O,e[14]=E^~N&P,e[15]=A^~M&B,e[24]=j^~U&F,e[25]=q^~G&H,e[34]=Y^~Q&J,e[35]=X^~Z&ee,e[44]=ne^~oe&de,e[45]=ae^~ce&he,e[6]=S^~_&m,e[7]=k^~O&g,e[16]=N^~P&T,e[17]=M^~B&C,e[26]=U^~F&R,e[27]=G^~H&D,e[36]=Q^~J&z,e[37]=Z^~ee&K,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=_^~m&y,e[9]=O^~g&v,e[18]=P^~T&I,e[19]=B^~C&x,e[28]=F^~R&L,e[29]=H^~D&V,e[38]=J^~z&W,e[39]=ee^~K&$,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=c[r],e[1]^=c[r+1]};t.keccak256=y.keccak_256},"56d3":function(e,t,i){"use strict";const r=i("0406");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"cdax",name:"CDAX",countries:["RU"],hostname:"cdax.io",pro:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/102157692-fd406280-3e90-11eb-8d46-4511b617cd17.jpg",api:{market:"https://{hostname}/api",public:"https://{hostname}/api",private:"https://{hostname}/api",v2Public:"https://{hostname}/api",v2Private:"https://{hostname}/api"},www:"https://cdax.io",referral:"https://cdax.io/invite?invite_code=esc74",doc:"https://github.com/cloudapidoc/API_Docs",fees:"https://cdax.io/about/fee"}})}}},"56ef":function(e,t,i){var r=i("d066"),s=i("241c"),n=i("7418"),a=i("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),i=n.f;return i?t.concat(i(e)):t}},"57a2":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,BadSymbol:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"eqonex",name:"EQONEX",countries:["US","SG"],rateLimit:10,has:{CORS:!1,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!1,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":1,"5m":2,"15m":3,"1h":4,"6h":5,"1d":6,"7d":7},urls:{logo:"https://user-images.githubusercontent.com/51840849/122649755-1a076c80-d138-11eb-8f2e-9a9166a03d79.jpg",test:{public:"https://testnet.eqonex.com/api",private:"https://testnet.eqonex.com/api"},api:{public:"https://eqonex.com/api",private:"https://eqonex.com/api"},www:"https://eqonex.com",doc:["https://developer.eqonex.com"],referral:"https://eqonex.com?referredByCode=zpa8kij4ouvBFup3"},api:{public:{get:["health","getInstruments","getInstrumentPairs","getOrderBook","getRisk","getTradeHistory","getFundingRateHistory","getChart","getExchangeInfo"]},private:{post:["logon","order","cancelOrder","cancelReplaceOrder","getOrder","getOrders","getOrderStatus","getOrderHistory","userTrades","getPositions","cancelAll","getUserHistory","getRisk","getDepositAddresses","getDepositHistory","getWithdrawRequests","sendWithdrawRequest","getTransferHistory"]}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},exceptions:{broad:{"symbol not found":a}}})}async fetchMarkets(e={}){const t={verbose:!0},i=await this.publicGetGetInstrumentPairs(this.extend(t,e)),r=this.safeValue(i,"instrumentPairs",[]),s=[];for(let n=0;n<r.length;n++){const e=this.parseMarket(r[n]);s.push(e)}return s}parseMarket(e){const t=this.safeString(e,"instrumentId"),i=this.safeString(e,"symbol"),r=this.safeString(e,"assetType"),s="PAIR"===r,n="PERPETUAL_SWAP"===r,a=n?"swap":"spot",o=this.safeString(e,"currency"),c=this.safeString(e,"contAmtCurr"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=n?i:d+"/"+h,l=this.safeInteger(e,"securityStatus"),f=1===l,p={amount:this.safeInteger(e,"quantity_scale"),price:this.safeInteger(e,"price_scale")};return{id:t,uppercaseId:i,symbol:u,base:d,quote:h,baseId:o,quoteId:c,type:a,spot:s,swap:n,active:f,precision:p,limits:{amount:{min:this.safeNumber(e,"minTradeVol"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e}}async fetchCurrencies(e={}){const t=await this.publicGetGetInstruments(e),i={},r=this.safeValue(t,"instruments",[]);for(let s=0;s<r.length;s++){const e=this.parseCurrency(r[s]),t=e["code"];i[t]=e}return i}parseCurrency(e){const t=this.safeString(e,0),i=this.safeString(e,1),r=this.safeCurrencyCode(i),s=this.safeInteger(e,2),n=this.safeInteger(e,3),a=Math.max(s,n),o=this.safeString(e,6),c=this.safeInteger(e,4),d=1===c,h=this.safeNumber(e,5);return{id:t,info:e,uppercaseId:i,code:r,name:o,precision:a,fee:h,active:d,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={pairId:parseInt(n["id"]),timespan:this.timeframes[t]};void 0!==r&&(a["limit"]=r);const o=await this.publicGetGetChart(this.extend(a,s)),c=this.safeValue(o,"chart",[]);return this.parseOHLCVs(c,n,t,i,r)}parseOHLCV(e,t){const i=this.safeInteger(e,0),r=this.parseNumber(this.convertFromScale(this.safeString(e,1),t["precision"]["price"])),s=this.parseNumber(this.convertFromScale(this.safeString(e,2),t["precision"]["price"])),n=this.parseNumber(this.convertFromScale(this.safeString(e,3),t["precision"]["price"])),a=this.parseNumber(this.convertFromScale(this.safeString(e,4),t["precision"]["price"])),o=this.parseNumber(this.convertFromScale(this.safeString(e,5),t["precision"]["amount"]));return[i,r,s,n,a,o]}parseBidAsk(e,t=0,i=1,r){if(void 0===r)throw new n(this.id+" parseBidAsk() requires a market argument");const s=this.safeString(e,t),a=this.safeString(e,i);return[this.parseNumber(this.convertFromScale(s,r["precision"]["price"])),this.parseNumber(this.convertFromScale(a,r["precision"]["amount"]))]}parseOrderBook(e,t,i,r="bids",s="asks",n=0,a=1,o){const c={timestamp:i,datetime:this.iso8601(i),nonce:void 0},d=[r,s];for(let h=0;h<d.length;h++){const t=d[h],i=[],r=this.safeValue(e,t);for(let e=0;e<r.length;e++)i.push(this.parseBidAsk(r[e],n,a,o));c[t]=i}return c[r]=this.sortBy(c[r],0,!0),c[s]=this.sortBy(c[s],0),c}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pairId:parseInt(r["id"])},n=await this.publicGetGetOrderBook(this.extend(s,i));return this.parseOrderBook(n,e,void 0,"bids","asks",0,1,r)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pairId:parseInt(s["id"])},a=await this.publicGetGetTradeHistory(this.extend(n,r)),o=this.safeValue(a,"trades",[]);return this.parseTrades(o,s,t,i,r)}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,n=void 0,a=void 0,c=void 0,d=void 0,h=void 0,u=void 0;if(Array.isArray(e)){i=this.safeString(e,3),c=this.convertFromScale(this.safeString(e,0),t["precision"]["price"]),d=this.convertFromScale(this.safeString(e,1),t["precision"]["amount"]),r=this.toMilliseconds(this.safeString(e,2));const s=this.safeInteger(e,4);1===s?a="buy":2===s&&(a="sell")}else{i=this.safeString(e,"execId"),r=this.safeInteger(e,"time");const o=this.safeString(e,"symbol");u=this.safeSymbol(o,t),s=this.safeString(e,"orderId"),a=this.safeStringLower(e,"side"),n=this.parseOrderType(this.safeString(e,"ordType")),c=this.safeString(e,"lastPx"),d=this.safeString(e,"qty");let l=this.safeNumber(e,"commission");if(void 0!==l){l=-l;const t=this.safeString(e,"commCurrency"),i=this.safeCurrencyCode(t);h={cost:l,currency:i}}}void 0===u&&void 0!==t&&(u=t["symbol"]);const l=this.parseNumber(o.stringMul(d,c)),f=this.parseNumber(c),p=this.parseNumber(d);return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:u,order:s,type:n,side:a,takerOrMaker:void 0,price:f,amount:p,cost:l,fee:h}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetPositions(e),i=this.safeValue(t,"positions",[]),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"assetType");if("ASSET"===t){const t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t),s=this.safeString(e,"quantity"),n=this.safeString(e,"availableQuantity"),a=this.safeInteger(e,"quantity_scale"),o=this.account();o["free"]=this.convertFromScale(n,a),o["total"]=this.convertFromScale(s,a),r[i]=o}}return this.parseBalance(r,!1)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e),c="buy"===i?1:2,d=this.getScale(r),h={instrumentId:parseInt(o["id"]),symbol:o["uppercaseId"],side:c,quantity:this.convertToScale(this.numberToString(r),d),quantity_scale:d};if("market"===t)h["ordType"]=1;else if("limit"===t){h["ordType"]=2;const e=this.getScale(s);h["price"]=this.convertToScale(this.numberToString(s),e),h["priceScale"]=e}else{const e=this.safeNumber2(a,"stopPrice","stopPx");if(a=this.omit(a,["stopPrice","stopPx"]),void 0===e){if("stop"===t){if(void 0===s)throw new n(this.id+" createOrder() requires a price argument or a stopPrice parameter or a stopPx parameter for "+t+" orders");h["ordType"]=3,h["stopPx"]=this.convertToScale(this.numberToString(s),this.getScale(s))}else if("stop limit"===t)throw new n(this.id+" createOrder() requires a stopPrice parameter or a stopPx parameter for "+t+" orders")}else if("stop"===t)h["ordType"]=3,h["stopPx"]=this.convertToScale(this.numberToString(e),this.getScale(e));else if("stop limit"===t){h["ordType"]=4;const t=this.getScale(s),i=this.getScale(e);h["price_scale"]=t,h["stopPx_scale"]=i,h["stopPx"]=this.convertToScale(this.numberToString(e),i),h["price"]=this.convertToScale(this.numberToString(s),t)}}const u=await this.privatePostOrder(this.extend(h,a));return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={origOrderId:parseInt(e),instrumentId:parseInt(r["id"])},a=await this.privatePostCancelOrder(this.extend(s,i));return this.parseOrder(a,r)}async editOrder(e,t,i,r,s,a,o={}){await this.loadMarkets();const c=this.market(t),d="buy"===r?1:2,h=this.getScale(s),u={origOrderId:e,instrumentId:parseInt(c["id"]),symbol:c["uppercaseId"],side:d,quantity:this.convertToScale(this.numberToString(s),h),quantity_scale:h};if("market"===i)u["ordType"]=1;else if("limit"===i)u["ordType"]=2,u["price"]=this.convertToScale(this.numberToString(a),this.getScale(a));else{const e=this.safeNumber2(o,"stopPrice","stopPx");if(o=this.omit(o,["stopPrice","stopPx"]),void 0===e){if("stop"===i){if(void 0===a)throw new n(this.id+" editOrder() requires a price argument or a stopPrice parameter or a stopPx parameter for "+i+" orders");u["ordType"]=3,u["stopPx"]=this.convertToScale(this.numberToString(a),this.getScale(a))}else if("stop limit"===i)throw new n(this.id+" editOrder() requires a stopPrice parameter or a stopPx parameter for "+i+" orders")}else if("stop"===i)u["ordType"]=3,u["stopPx"]=this.convertToScale(this.numberToString(e),this.getScale(e));else if("stop limit"===i){u["ordType"]=4;const t=this.getScale(a),i=this.getScale(e);u["price_scale"]=t,u["stopPx_scale"]=i,u["stopPx"]=this.convertToScale(this.numberToString(e),i),u["price"]=this.convertToScale(this.numberToString(a),t)}}const l=await this.privatePostOrder(this.extend(u,o));return this.parseOrder(l,c)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:parseInt(e)},s=await this.privatePostGetOrderStatus(this.extend(r,i));return this.parseOrder(s)}async fetchClosedOrders(e,t,i,r={}){const s={ordStatus:"2"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchCanceledOrders(e,t,i,r={}){const s={ordStatus:"4"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["instrumentId"]=parseInt(s["id"])),void 0!==i&&(n["limit"]=i);const a=await this.privatePostGetOrders(this.extend(n,r)),o=this.safeValue(a,"orders",[]);return this.parseOrders(o,s,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["instrumentId"]=n["id"]),void 0!==t&&(s["startTime"]=t);const a=await this.privatePostUserTrades(this.extend(s,r)),o=this.safeValue(a,"trades",[]);return this.parseTrades(o,n,t,i,r)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={instrumentId:parseInt(i["id"])},s=await this.privatePostGetDepositAddresses(this.extend(r,t)),n=this.safeValue(s,"addresses",[]),a=this.safeValue(n,0);return this.parseDepositAddress(a,i)}parseDepositAddress(e,t){const i=this.safeString(e,"symbol"),r=this.safeCurrencyCode(i,t),s=this.safeString(e,"address");return this.checkAddress(s),{currency:r,address:s,tag:void 0,info:e}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["instrumentId"]=parseInt(n["id"]));const a=await this.privatePostGetDepositHistory(this.extend(s,r)),o=this.safeValue(a,"deposits",[]);return this.parseTransactions(o,n,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["instrumentId"]=parseInt(n["id"]));const a=await this.privatePostGetWithdrawRequests(this.extend(s,r)),o=this.safeValue(a,"addresses",[]);return this.parseTransactions(o,n,t,i,{type:"withdrawal"})}parseTransaction(e,t){const i=this.safeString(e,"id","transactionId"),r=this.safeString(e,"transactionUuid"),s=this.safeInteger(e,"timestamp");let n=this.safeString(e,"address");"null"===n&&(n=void 0);const a=this.safeString(e,"type");let o=this.safeNumber(e,"balance_change");if(void 0===o){o=this.safeString(e,"quantity");const t=this.safeInteger(e,"quantity_scale");o=this.parseNumber(this.convertFromScale(o,t))}const c=this.safeString(e,"symbol"),d=this.safeCurrencyCode(c,t),h=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:i,txid:r,timestamp:s,datetime:this.iso8601(s),addressFrom:void 0,address:n,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:a,amount:o,currency:d,status:h,updated:void 0,comment:void 0,fee:void 0}}parseTransactionStatus(e){const t={0:"pending",1:"ok"};return this.safeString(t,e,e)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a=this.getScale(t),o=this.convertToScale(t,a),c={instrumentId:parseInt(n["id"]),symbol:n["uppercaseId"],quantity:o,quantity_scale:a,address:i},d=await this.privatePostSendWithdrawRequest(this.extend(c,s));return this.parseTransaction(d,n)}async fetchTradingFees(e={}){const t=await this.publicGetGetExchangeInfo(e),i=this.safeValue(t,"spotFees",[]),r={},s={};for(let n=0;n<i.length;n++){const e=i[n];void 0!==this.safeString(e,"tier")&&(r[e["tier"]]=this.safeNumber(e,"taker"),s[e["tier"]]=this.safeNumber(e,"maker"))}return{info:i,tierBased:!0,maker:s,taker:r}}async fetchTradingLimits(e,t={}){await this.loadMarkets();const i=await this.publicGetGetExchangeInfo(t),r=this.safeValue(i,"tradingLimits",[]);return{info:r,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}async fetchFundingLimits(e={}){const t=await this.publicGetGetExchangeInfo(e),i=this.safeValue(t,"withdrawLimits",[]);return{info:i,withdraw:void 0}}parseOrder(e,t){let i=this.safeString2(e,"orderId","id");i=this.safeString(e,"origOrderId",i);const r=this.safeString(e,"clOrdId"),s=this.parseOrderType(this.safeString(e,"ordType")),n=this.parseOrderSide(this.safeString(e,"side")),a=this.parseOrderStatus(this.safeString(e,"ordStatus")),c=this.safeString(e,"instrumentId"),d=this.safeSymbol(c,t),h=this.toMilliseconds(this.safeString(e,"timeStamp")),u=void 0,l=this.safeString(e,"price"),f=this.safeInteger(e,"price_scale"),p=this.parseNumber(this.convertFromScale(l,f)),m=this.safeString(e,"quantity"),g=this.safeInteger(e,"quantity_scale"),y=this.parseNumber(this.convertFromScale(m,g)),v=this.safeString(e,"cumQty"),b=this.safeInteger(e,"cumQty_scale"),w=this.parseNumber(this.convertFromScale(v,b)),S=this.safeString(e,"leavesQty"),k=this.safeInteger(e,"leavesQty_scale"),_=this.parseNumber(this.convertFromScale(S,k));let O=void 0;const T=this.safeInteger(e,"feeInstrumentId"),C=this.safeCurrencyCode(T);let I=this.safeString(e,"feeTotal");const x=this.safeInteger(e,"fee_scale");void 0!==I&&(I=o.stringNeg(I),I=this.parseNumber(this.convertFromScale(I,x))),void 0!==I&&(O={currency:C,cost:I,rate:void 0});let E=this.parseTimeInForce(this.safeString(e,"timeInForce"));"0"===E&&(E=void 0);const A=this.safeInteger(e,"stopPx_scale",0),N=this.parseNumber(this.convertFromScale(this.safeString(e,"stopPx"),A));return this.safeOrder({info:e,id:i,clientOrderId:r,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:u,symbol:d,type:s,timeInForce:E,postOnly:void 0,side:n,price:p,stopPrice:N,amount:y,cost:void 0,average:void 0,filled:w,remaining:_,status:a,fee:O,trades:void 0})}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"open",4:"canceled",5:"canceled",6:"canceling",7:"canceled",8:"rejected",9:"canceled",A:"open",B:"open",C:"expired",D:"open",E:"canceling",F:"open"};return this.safeString(t,e,e)}parseOrderSide(e){const t={1:"buy",2:"sell"};return this.safeString(t,e,e)}parseOrderType(e){const t={1:"market",2:"limit",3:"stop",4:"stop limit"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={1:"GTC",3:"IOC",4:"FOK",5:"GTX",6:"GTD"};return this.safeString(t,e,e)}toMilliseconds(e){if(void 0===e)return e;const t=e.split("-"),i=this.safeString(t,0),r=this.safeString(t,1);if(void 0===i||void 0===r)return;if(8!==i.length)return;const s=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8);return this.parse8601(s+" "+r)}convertFromScale(e,t){if(void 0===e||void 0===t)return;const i=new o(e);return i.decimals=i.decimals+t,i.reduce(),i.toString()}getScale(e){const t=this.numberToString(e);return this.precisionFromString(t)}convertToScale(e,t){if(void 0===e||void 0===t)return;const i=new o(e);i.decimals=i.decimals-t,i.reduce();const r=i.toString();return parseInt(r)}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,h,e),this.throwBroadlyMatchedException(this.exceptions,a,e),new s(this.id+" "+a)}}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("private"===t){const e=this.safeValue(r,"format"),t=this.safeValue(r,"type"),i={};void 0!==e&&(i["format"]=e),void 0!==t&&(i["type"]=t),Object.keys(i).length&&(a+="?"+this.urlencode(i)),r=this.omit(r,["format","type"]),this.checkRequiredCredentials();const c=this.nonce();o=this.extend(o,{userId:this.uid,nonce:c}),r["nonce"]=this.nonce(),n=this.json(o);const d=this.hmac(this.encode(n),this.encode(this.secret),"sha384");s={"Content-Type":"application/json",requestToken:this.apiKey,signature:d}}return a=this.urls["api"][t]+"/"+a,{url:a,method:i,body:n,headers:s}}}},"57ba":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,InvalidOrder:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"mercado",name:"Mercado Bitcoin",countries:["BR"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","2w":"2w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi",v4Public:"https://www.mercadobitcoin.com.br/v4"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["coins","{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","place_market_buy_order","place_market_sell_order","withdraw_coin"]},v4Public:{get:["{coin}/candle/"]}},fees:{trading:{maker:.003,taker:.007}},options:{limits:{BTC:.001,BCH:.001,ETH:.01,LTC:.01,XRP:.1}}})}async fetchMarkets(e={}){const t=await this.publicGetCoins(e),i=[],r=this.safeValue(this.options,"limits",{});for(let s=0;s<t.length;s++){const e=t[s],n=e,a="BRL",o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=c+o,u={amount:8,price:5},l="1e-5";i.push({id:h,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:void 0,info:e,precision:u,limits:{amount:{min:this.safeNumber(r,n),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={coin:r["base"]},n=await this.publicGetCoinOrderbook(this.extend(s,i));return this.parseOrderBook(n,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={coin:i["base"]},s=await this.publicGetCoinTicker(this.extend(r,t)),n=this.safeValue(s,"ticker",{}),a=this.safeTimestamp(n,"date"),o=this.safeNumber(n,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(n,"high"),low:this.safeNumber(n,"low"),bid:this.safeNumber(n,"buy"),bidVolume:void 0,ask:this.safeNumber(n,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(n,"vol"),quoteVolume:void 0,info:n}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","executed_timestamp");let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeString2(e,"tid","operation_id"),n=void 0,a=this.safeString(e,"type"),c=this.safeString(e,"price"),d=this.safeString2(e,"amount","quantity"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.parseNumber(o.stringMul(c,d)),f=this.safeNumber(e,"fee_rate");let p=void 0;return void 0!==f&&(p={cost:f,currency:void 0}),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:void 0,type:n,side:a,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let n="publicGetCoinTrades";const a={coin:s["base"]};void 0!==t&&(n+="From",a["from"]=parseInt(t/1e3));const o=this.safeInteger(r,"to");void 0!==o&&(n+="To");const c=await this[n](this.extend(a,r));return this.parseTrades(c,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"response_data",{}),r=this.safeValue(i,"balance",{}),s={info:t},n=Object.keys(r);for(let a=0;a<n.length;a++){const e=n[a],t=this.safeCurrencyCode(e);if(e in r){const i=this.safeValue(r,e,{}),n=this.account();n["free"]=this.safeString(i,"available"),n["total"]=this.safeString(i,"total"),s[t]=n}}return this.parseBalance(s,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o={coin_pair:this.marketId(e)};let c=this.capitalize(i)+"Order";if("limit"===t)c="privatePostPlace"+c,o["limit_price"]=this.priceToPrecision(e,s),o["quantity"]=this.amountToPrecision(e,r);else if(c="privatePostPlaceMarket"+c,"buy"===i){if(void 0===s)throw new a(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount");o["cost"]=this.priceToPrecision(e,r*s)}else o["quantity"]=this.amountToPrecision(e,r);const d=await this[c](this.extend(o,n));return{info:d,id:d["response_data"]["order"]["order_id"].toString()}}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder () requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={coin_pair:r["id"],order_id:e},a=await this.privatePostCancelOrder(this.extend(s,i)),o=this.safeValue(a,"response_data",{}),c=this.safeValue(o,"order",{});return this.parseOrder(c,r)}parseOrderStatus(e){const t={2:"open",3:"canceled",4:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeString(e,"order_type");let s=void 0;"order_type"in e&&(s="1"===r?"buy":"sell");const n=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeString(e,"coin_pair");t=this.safeMarket(a,t);const o=this.safeTimestamp(e,"created_timestamp"),c={cost:this.safeNumber(e,"fee"),currency:t["quote"]},d=this.safeNumber(e,"limit_price"),h=this.safeNumber(e,"executed_price_avg"),u=this.safeNumber(e,"quantity"),l=this.safeNumber(e,"executed_quantity"),f=this.safeTimestamp(e,"updated_timestamp"),p=this.safeValue(e,"operations",[]),m=this.parseTrades(p,t,void 0,void 0,{side:s,order:i});return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:f,symbol:t["symbol"],type:"limit",timeInForce:void 0,postOnly:void 0,side:s,price:d,stopPrice:void 0,cost:void 0,average:h,amount:u,filled:l,remaining:void 0,status:n,fee:c,trades:m})}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder () requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={coin_pair:r["id"],order_id:parseInt(e)},a=await this.privatePostGetOrder(this.extend(s,i)),o=this.safeValue(a,"response_data",{}),c=this.safeValue(o,"order");return this.parseOrder(c,r)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),o={coin:a["id"],quantity:t.toFixed(10),address:i};if("BRL"===e){const t="account_ref"in s;if(!t)throw new n(this.id+" withdraw() requires account_ref parameter to withdraw "+e)}else if("LTC"!==e){const t="tx_fee"in s;if(!t)throw new n(this.id+" withdraw() requires tx_fee parameter to withdraw "+e);if("XRP"===e)if(void 0===r){if(!("destination_tag"in s))throw new n(this.id+" withdraw() requires a tag argument or destination_tag parameter to withdraw "+e)}else o["destination_tag"]=r}const c=await this.privatePostWithdrawCoin(this.extend(o,s));return{info:c,id:c["response_data"]["withdrawal"]["id"]}}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={precision:this.timeframes[t],coin:n["id"].toLowerCase()};void 0!==r&&void 0!==i?(a["from"]=parseInt(i/1e3),a["to"]=this.sum(a["from"],r*this.parseTimeframe(t))):void 0!==i?(a["from"]=parseInt(i/1e3),a["to"]=this.sum(this.seconds(),1)):void 0!==r&&(a["to"]=this.seconds(),a["from"]=a["to"]-r*this.parseTimeframe(t));const o=await this.v4PublicGetCoinCandle(this.extend(a,s)),c=this.safeValue(o,"candles",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders () requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={coin_pair:s["id"]},o=await this.privatePostListOrders(this.extend(a,r)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,s,t,i)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOpenOrders () requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={coin_pair:s["id"],status_list:"[2]"},o=await this.privatePostListOrders(this.extend(a,r)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades () requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={coin_pair:s["id"],has_fills:!0},o=await this.privatePostListOrders(this.extend(a,r)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]),h=this.parseOrders(d,s,t,i),u=this.ordersToTrades(h);return this.filterBySymbolSinceLimit(u,e,t,i)}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++){const r=this.safeValue(e[i],"trades",[]);for(let e=0;e<r.length;e++)t.push(r[e])}return t}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/";const o=this.omit(r,this.extractParams(e));if("public"===t||"v4Public"===t)a+=this.implodeParams(e,r),Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),a+=this.version+"/";const t=this.nonce();n=this.urlencode(this.extend({tapi_method:e,tapi_nonce:t},r));const i="/tapi/"+this.version+"/?"+n;s={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("error_message"in o)throw new s(this.id+" "+this.json(o));return o}}},"57bb":function(e,t,i){"use strict";const r=Number.isFinite,s=Number.isInteger,n=Array.isArray,a=e=>void 0!==e&&null!==e,o=e=>"string"===typeof e,c=e=>null!==e&&"object"===typeof e,d=e=>e instanceof RegExp,h=e=>c(e)&&Object.getPrototypeOf(e)===Object.prototype&&!n(e)&&!d(e),u=e=>a(e)&&e.toString||r(e),l=(e,t)=>c(e)?e[t]:void 0,f=(e,t,i)=>c(e)?t in e&&null!==e[t]?e[t]:e[i]:void 0,p=e=>r(e)||o(e)?parseFloat(e):NaN,m=e=>r(e)||o(e)?parseInt(e,10):NaN;e.exports={isNumber:r,isInteger:s,isArray:n,isObject:c,isString:o,isStringCoercible:u,isDictionary:h,hasProps:a,prop:l,asFloat:p,asInteger:m,safeFloat:(e,t,i,s=p(l(e,t)))=>r(s)?s:i,safeInteger:(e,t,i,s=m(l(e,t)))=>r(s)?s:i,safeIntegerProduct:(e,t,i,s,n=m(l(e,t)))=>r(n)?parseInt(n*i):s,safeTimestamp:(e,t,i,s=p(l(e,t)))=>r(s)?parseInt(1e3*s):i,safeValue:(e,t,i,r=l(e,t))=>a(r)?r:i,safeString:(e,t,i,r=l(e,t))=>u(r)?String(r):i,safeStringLower:(e,t,i,r=l(e,t))=>u(r)?String(r).toLowerCase():i,safeStringUpper:(e,t,i,r=l(e,t))=>u(r)?String(r).toUpperCase():i,safeFloat2:(e,t,i,s,n=p(f(e,t,i)))=>r(n)?n:s,safeInteger2:(e,t,i,s,n=m(f(e,t,i)))=>r(n)?n:s,safeIntegerProduct2:(e,t,i,s,n,a=m(f(e,t,i)))=>r(a)?parseInt(a*s):n,safeTimestamp2:(e,t,i,s,n=p(f(e,t,i)))=>r(n)?parseInt(1e3*n):s,safeValue2:(e,t,i,r,s=f(e,t,i))=>a(s)?s:r,safeString2:(e,t,i,r,s=f(e,t,i))=>u(s)?String(s):r,safeStringLower2:(e,t,i,r,s=f(e,t,i))=>u(s)?String(s).toLowerCase():r,safeStringUpper2:(e,t,i,r,s=f(e,t,i))=>u(s)?String(s).toUpperCase():r}},5876:function(e,t,i){var r=i("5259");i("fb3e"),i("6497");var s=r.asn1,n=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=n;var a={name:"ContentInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};n.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:s.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};n.envelopedDataValidator={name:"EnvelopedData",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},n.encryptedDataValidator={name:"EncryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var c={name:"SignerInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:s.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:s.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};n.signedDataValidator={name:"SignedData",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:s.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},n.recipientInfoValidator={name:"RecipientInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:s.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},5884:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHeightByTimestamp=t.fetchHeight=t.fetchDelay=t.fetchLast=t.fetchBlocksByAddress=t.fetchFirst=t.fetchBlockById=t.fetchSeq=t.fetchBlockAt=t.fetchHeadersById=t.fetchHeadersAt=t.fetchHeightById=t.fetchHeadersLast=t.fetchHeadersSeq=void 0;var s=r(i("85aa"));function n(e,t,i,r){return void 0===r&&(r=Object.create(null)),s.default({base:e,url:"/blocks/headers/seq/"+t+"/"+i,options:r})}function a(e,t){return void 0===t&&(t=Object.create(null)),s.default({base:e,url:"/blocks/headers/last",options:t})}function o(e,t){return s.default({base:e,url:"/blocks/height/"+t})}function c(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/blocks/headers/at/"+t,options:i})}function d(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/blocks/headers/"+t,options:i})}function h(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/blocks/at/"+t,options:i})}function u(e,t,i,r){return void 0===r&&(r=Object.create(null)),s.default({base:e,url:"/blocks/seq/"+t+"/"+i,options:r})}function l(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/blocks/"+t,options:i})}function f(e,t){return void 0===t&&(t=Object.create(null)),s.default({base:e,url:"/blocks/first",options:t})}function p(e,t,i,r,n){return void 0===n&&(n=Object.create(null)),s.default({base:e,url:"/blocks/address/"+t+"/"+i+"/"+r,options:n})}function m(e,t){return void 0===t&&(t=Object.create(null)),s.default({base:e,url:"/blocks/last",options:t})}function g(e,t,i){return s.default({base:e,url:"/blocks/delay/"+t+"/"+i})}function y(e){return s.default({base:e,url:"/blocks/height"})}function v(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/blocks/heightByTimestamp/"+t,options:i})}t.fetchHeadersSeq=n,t.fetchHeadersLast=a,t.fetchHeightById=o,t.fetchHeadersAt=c,t.fetchHeadersById=d,t.fetchBlockAt=h,t.fetchSeq=u,t.fetchBlockById=l,t.fetchFirst=f,t.fetchBlocksByAddress=p,t.fetchLast=m,t.fetchDelay=g,t.fetchHeight=y,t.fetchHeightByTimestamp=v},5899:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(e,t,i){var r=i("1d80"),s=i("5899"),n="["+s+"]",a=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(e){return function(t){var i=String(r(t));return 1&e&&(i=i.replace(a,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:c(1),end:c(2),trim:c(3)}},"58df":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i("2b0e");function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r["a"].extend({mixins:t})}},"591d":function(e,t,i){"use strict";const r=i("4a34");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binancecoinm",name:"Binance COIN-M",urls:{logo:"https://user-images.githubusercontent.com/1294454/117738721-668c8d80-b205-11eb-8c49-3fad84c4a07f.jpg",doc:["https://binance-docs.github.io/apidocs/delivery/en/","https://binance-docs.github.io/apidocs/spot/en"]},options:{defaultType:"delivery",leverageBrackets:void 0},has:{fetchPositions:!0,fetchIsolatedPositions:!0,fetchFundingRate:!0,fetchFundingHistory:!0,setLeverage:!0,setMode:!0}})}async transferIn(e,t,i={}){return await this.futuresTransfer(e,t,3,i)}async transferOut(e,t,i={}){return await this.futuresTransfer(e,t,4,i)}}},"59d7":function(e,t,i){"use strict";var r=i("bb89");i.o(r,"Signer")&&i.d(t,"Signer",(function(){return r["Signer"]}));var s=i("c2f1");i.o(s,"Signer")&&i.d(t,"Signer",(function(){return s["Signer"]}));var n=i("a3d4");i.o(n,"Signer")&&i.d(t,"Signer",(function(){return n["Signer"]})),i.o(r,"Signer")&&i.d(t,"Signer",(function(){return r["Signer"]})),i.o(s,"Signer")&&i.d(t,"Signer",(function(){return s["Signer"]}))},"5a34":function(e,t,i){var r=i("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5a7c":function(e,t,i){var r=i("70ea"),s=i("001c");function n(e){return function t(i,n){switch(arguments.length){case 0:return t;case 1:return s(i)?t:r((function(t){return e(i,t)}));default:return s(i)&&s(n)?t:s(i)?r((function(t){return e(t,n)})):s(n)?r((function(t){return e(i,t)})):e(i,n)}}}e.exports=n},"5c27":function(e,t,i){(function(t){var r=i("f654"),s=i("a438"),n=i("b61d"),a=n.newInvalidAsn1Error;function o(e){if(!e||!t.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(o.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(o.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),o.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},o.prototype.peek=function(){return this.readByte(!0)},o.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128===(128&t)){if(t&=127,0===t)throw a("Indefinite length not supported");if(t>4)throw a("encoding too long");if(this._size-e<t)return null;this._len=0;for(var i=0;i<t;i++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},o.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);return null===i?null:(this._offset=i,t)},o.prototype.readInt=function(){return this._readTag(s.Integer)},o.prototype.readBoolean=function(){return 0!==this._readTag(s.Boolean)},o.prototype.readEnumeration=function(){return this._readTag(s.Enumeration)},o.prototype.readString=function(e,i){e||(e=s.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return i?t.alloc(0):"";var o=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,i?o:o.toString("utf8")},o.prototype.readOID=function(e){e||(e=s.OID);var t=this.readString(e,!0);if(null===t)return null;for(var i=[],r=0,n=0;n<t.length;n++){var a=255&t[n];r<<=7,r+=127&a,0===(128&a)&&(i.push(r),r=0)}return r=i.shift(),i.unshift(r%40),i.unshift(r/40>>0),i.join(".")},o.prototype._readTag=function(e){r.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);if(null===i)return null;if(this.length>4)throw a("Integer too long: "+this.length);if(this.length>this._size-i)return null;this._offset=i;for(var s=this._buf[this._offset],n=0,o=0;o<this.length;o++)n<<=8,n|=255&this._buf[this._offset++];return 128===(128&s)&&4!==o&&(n-=1<<8*o),n>>0},e.exports=o}).call(this,i("b639").Buffer)},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5d0c":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,BadRequest:n,AuthenticationError:a,InvalidOrder:o,InsufficientFunds:c,OrderNotFound:d,PermissionDenied:h,AddressPending:u}=i("74b0"),l=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"upbit",name:"Upbit",countries:["KR"],version:"v1",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"minutes","3m":"minutes","5m":"minutes","15m":"minutes","30m":"minutes","1h":"minutes","4h":"minutes","1d":"days","1w":"weeks","1M":"months"},hostname:"api.upbit.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/49245610-eeaabe00-f423-11e8-9cba-4b0aed794799.jpg",api:{public:"https://{hostname}",private:"https://{hostname}"},www:"https://upbit.com",doc:"https://docs.upbit.com/docs/%EC%9A%94%EC%B2%AD-%EC%88%98-%EC%A0%9C%ED%95%9C",fees:"https://upbit.com/service_center/guide"},api:{public:{get:["market/all","candles/{timeframe}","candles/{timeframe}/{unit}","candles/minutes/{unit}","candles/minutes/1","candles/minutes/3","candles/minutes/5","candles/minutes/15","candles/minutes/30","candles/minutes/60","candles/minutes/240","candles/days","candles/weeks","candles/months","trades/ticks","ticker","orderbook"]},private:{get:["accounts","orders/chance","order","orders","withdraws","withdraw","withdraws/chance","deposits","deposit","deposits/coin_addresses","deposits/coin_address"],post:["orders","withdraws/coin","withdraws/krw","deposits/generate_coin_address"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"This key has expired.":a,"Missing request parameter error. Check the required parameters!":n,"side is missing, side does not have a valid value":o},broad:{thirdparty_agreement_required:h,out_of_scope:h,order_not_found:d,insufficient_funds:c,invalid_access_key:a,jwt_verification:a,create_ask_error:s,create_bid_error:s,volume_too_large:o,invalid_funds:o}},options:{createMarketBuyOrderRequiresPrice:!0,fetchTickersMaxLength:4096,fetchOrderBooksMaxLength:4096,tradingFeesByQuoteCurrency:{KRW:5e-4}},commonCurrencies:{TON:"Tokamak Network"}})}async fetchCurrency(e,t={}){await this.loadMarkets();const i=this.currency(e);return await this.fetchCurrencyById(i["id"],t)}async fetchCurrencyById(e,t={}){const i={currency:e},r=await this.privateGetWithdrawsChance(this.extend(i,t)),s=this.safeValue(r,"member_level",{}),n=this.safeValue(r,"currency",{}),a=this.safeValue(r,"withdraw_limit",{}),o=this.safeValue(a,"can_withdraw"),c=this.safeString(n,"wallet_state"),d=this.safeValue(s,"wallet_locked"),h=this.safeValue(s,"locked");let u=!0;void 0===o||o?("working"!==c||void 0!==d&&d||void 0!==h&&h)&&(u=!1):u=!1;const l=this.safeNumber(a,"onetime"),f=this.safeNumber(a,"daily",l),p=this.safeNumber(a,"remaining_daily",f);let m=void 0;m=p>0?p:f;const g=void 0,y=this.safeString(n,"code"),v=this.safeCurrencyCode(y);return{info:r,id:y,code:v,name:v,active:u,fee:this.safeNumber(n,"withdraw_fee"),precision:g,limits:{withdraw:{min:this.safeNumber(a,"minimum"),max:m}}}}async fetchMarket(e,t={}){await this.loadMarkets();const i=this.market(e);return await this.fetchMarketById(i["id"],t)}async fetchMarketById(e,t={}){const i={market:e},r=await this.privateGetOrdersChance(this.extend(i,t)),s=this.safeValue(r,"market"),n=this.safeValue(s,"bid"),a=this.safeValue(s,"ask"),o=this.safeString(s,"id"),c=this.safeString(a,"currency"),d=this.safeString(n,"currency"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f={amount:8,price:8},p=this.safeString(s,"state"),m="active"===p,g=this.safeNumber(r,"bid_fee"),y=this.safeNumber(r,"ask_fee"),v=Math.max(g,y);return{info:r,id:o,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:m,precision:f,maker:v,taker:v,limits:{amount:{min:this.safeNumber(a,"min_total"),max:void 0},price:{min:Math.pow(10,-f["price"]),max:void 0},cost:{min:this.safeNumber(n,"min_total"),max:this.safeNumber(s,"max_total")}}}}async fetchMarkets(e={}){const t=await this.publicGetMarketAll(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"market"),[n,a]=s.split("-"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:8,price:8},u=!0,l=this.safeNumber(this.options["tradingFeesByQuoteCurrency"],c,this.fees["trading"]["maker"]),f=this.safeNumber(this.options["tradingFeesByQuoteCurrency"],c,this.fees["trading"]["taker"]);i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:u,info:e,precision:h,maker:l,taker:f,limits:{amount:{min:Math.pow(10,-h["amount"]),max:void 0},price:{min:Math.pow(10,-h["price"]),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"locked"),i[n]=a}return this.parseBalance(i,!1)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join(","),r.length>this.options["fetchOrderBooksMaxLength"]){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols ("+r.length.toString()+" characters) exceeding max URL length ("+this.options["fetchOrderBooksMaxLength"].toString()+" characters), you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join(",");const n={markets:r},a=await this.publicGetOrderbook(this.extend(n,i)),o={};for(let s=0;s<a.length;s++){const e=a[s],t=this.safeString(e,"market"),i=this.safeSymbol(t,void 0,"-"),r=this.safeInteger(e,"timestamp");o[i]={symbol:i,bids:this.sortBy(this.parseBidsAsks(e["orderbook_units"],"bid_price","bid_size"),0,!0),asks:this.sortBy(this.parseBidsAsks(e["orderbook_units"],"ask_price","ask_size"),0),timestamp:r,datetime:this.iso8601(r),nonce:void 0}}return o}async fetchOrderBook(e,t,i={}){const r=await this.fetchOrderBooks([e],t,i);return this.safeValue(r,e)}parseTicker(e,t){const i=this.safeInteger(e,"trade_timestamp"),r=this.safeString2(e,"market","code"),s=this.safeSymbol(r,t,"-"),n=this.safeNumber(e,"prev_closing_price"),a=this.safeNumber(e,"trade_price"),o=this.safeNumber(e,"signed_change_price"),c=this.safeNumber(e,"signed_change_rate");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_price"),low:this.safeNumber(e,"low_price"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"opening_price"),close:a,last:a,previousClose:n,change:o,percentage:c,average:void 0,baseVolume:this.safeNumber(e,"acc_trade_volume_24h"),quoteVolume:this.safeNumber(e,"acc_trade_price_24h"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=void 0;if(void 0===e){if(i=this.ids.join(","),i.length>this.options["fetchTickersMaxLength"]){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join(",");const r={markets:i},n=await this.publicGetTicker(this.extend(r,t)),a={};for(let s=0;s<n.length;s++){const e=this.parseTicker(n[s]),t=e["symbol"];a[t]=e}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeString2(e,"sequential_id","uuid"),r=void 0;let s=this.safeInteger(e,"timestamp");void 0===s&&(s=this.parse8601(this.safeString(e,"created_at")));let n=void 0;const a=this.safeStringLower2(e,"ask_bid","side");"ask"===a?n="sell":"bid"===a&&(n="buy");let o=this.safeNumber(e,"funds");const c=this.safeString2(e,"trade_price","price"),d=this.safeString2(e,"trade_volume","volume"),h=this.parseNumber(c),u=this.parseNumber(d);void 0===o&&(o=this.parseNumber(l.stringMul(c,d)));const f=this.safeString2(e,"market","code");t=this.safeMarket(f,t);let p=void 0,m=void 0,g=void 0;if(void 0!==t)g=t["symbol"],m=t["quote"];else{const[e,t]=f.split("-"),i=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);g=i+"/"+r,m=r}const y=this.safeString(e,a+"_fee");return void 0!==y&&(p={currency:m,cost:y}),{id:i,info:e,order:r,timestamp:s,datetime:this.iso8601(s),symbol:g,type:void 0,side:n,takerOrMaker:void 0,price:h,amount:u,cost:o,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);void 0===i&&(i=200);const n={market:s["id"],count:i},a=await this.publicGetTradesTicks(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"candle_date_time_utc")),this.safeNumber(e,"opening_price"),this.safeNumber(e,"high_price"),this.safeNumber(e,"low_price"),this.safeNumber(e,"trade_price"),this.safeNumber(e,"candle_acc_trade_volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=this.parseTimeframe(t),o=this.timeframes[t];void 0===r&&(r=200);const c={market:n["id"],timeframe:o,count:r};let d="publicGetCandlesTimeframe";if("minutes"===o){const e=Math.round(a/60);c["unit"]=e,d+="Unit"}void 0!==i&&(c["to"]=this.iso8601(this.sum(i,a*r*1e3)));const h=await this[d](this.extend(c,s));return this.parseOHLCVs(h,n,t,i,r)}async createOrder(e,t,i,r,s,n={}){if("market"===t&&"buy"===i&&this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===s)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r*=s}let a=void 0;if("buy"===i)a="bid";else{if("sell"!==i)throw new o(this.id+" createOrder allows buy or sell side only!");a="ask"}await this.loadMarkets();const c=this.market(e),d={market:c["id"],side:a};"limit"===t?(d["volume"]=this.amountToPrecision(e,r),d["price"]=this.priceToPrecision(e,s),d["ord_type"]=t):"market"===t&&("buy"===i?(d["ord_type"]="price",d["price"]=this.priceToPrecision(e,r)):"sell"===i&&(d["ord_type"]=t,d["volume"]=this.amountToPrecision(e,r)));const h=this.safeString2(n,"clientOrderId","identifier");void 0!==h&&(d["identifier"]=h),n=this.omit(n,["clientOrderId","identifier"]);const u=await this.privatePostOrders(this.extend(d,n));return this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={uuid:e},s=await this.privateDeleteOrder(this.extend(r,i));return this.parseOrder(s)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetDeposits(this.extend(s,r));return this.parseTransactions(a,n,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetWithdraws(this.extend(s,r));return this.parseTransactions(a,n,t,i)}parseTransactionStatus(e){const t={submitting:"pending",submitted:"pending",almost_accepted:"pending",rejected:"failed",accepted:"pending",processing:"pending",done:"ok",canceled:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"uuid"),r=this.safeNumber(e,"amount"),s=void 0,n=void 0,a=this.safeString(e,"txid"),o=this.parse8601(this.safeString(e,"done_at")),c=this.parse8601(this.safeString(e,"created_at",o));let d=this.safeString(e,"type");"withdraw"===d&&(d="withdrawal");const h=this.safeString(e,"currency"),u=this.safeCurrencyCode(h),l=this.parseTransactionStatus(this.safeStringLower(e,"state")),f=this.safeNumber(e,"fee");return{info:e,id:i,currency:u,amount:r,address:s,tag:n,status:l,type:d,updated:o,txid:a,timestamp:c,datetime:this.iso8601(c),fee:{currency:u,cost:f}}}parseOrderStatus(e){const t={wait:"open",done:"closed",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"uuid");let r=this.safeString(e,"side");r="bid"===r?"buy":"sell";let s=this.safeString(e,"ord_type");const n=this.parse8601(this.safeString(e,"created_at")),a=this.parseOrderStatus(this.safeString(e,"state"));let o=void 0,c=this.safeNumber(e,"price");const d=this.safeNumber(e,"volume"),h=this.safeNumber(e,"remaining_volume"),u=this.safeNumber(e,"executed_volume");let l=void 0;"price"===s&&(s="market",l=c,c=void 0);let f=void 0,p=void 0,m=this.safeNumber(e,"paid_fee");const g=this.safeString(e,"market");t=this.safeMarket(g,t);let y=this.safeValue(e,"trades",[]);y=this.parseTrades(y,t,void 0,void 0,{order:i,type:s});const v=y.length;if(v>0){o=y[v-1]["timestamp"];let e=!1;void 0===m&&(e=!0,m=0),l=0;for(let t=0;t<v;t++){const i=y[t];if(l=this.sum(l,i["cost"]),e){const e=this.safeValue(y[t],"fee",{}),i=this.safeNumber(e,"cost");void 0!==i&&(m=this.sum(m,i))}}f=l/u}void 0!==m&&(p={currency:t["quote"],cost:m});const b={info:e,id:i,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:o,symbol:t["symbol"],type:s,timeInForce:void 0,postOnly:void 0,side:r,price:c,stopPrice:void 0,cost:l,average:f,amount:d,filled:u,remaining:h,status:a,fee:p,trades:y};return b}async fetchOrdersByState(e,t,i,r,s={}){await this.loadMarkets();const n={state:e};let a=void 0;void 0!==t&&(a=this.market(t),n["market"]=a["id"]);const o=await this.privateGetOrders(this.extend(n,s));return this.parseOrders(o,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("wait",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("done",e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrdersByState("cancel",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={uuid:e},s=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(s)}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetDepositsCoinAddresses(t);return this.parseDepositAddresses(i)}parseDepositAddress(e,t){const i=this.safeString(e,"deposit_address"),r=this.safeString(e,"secondary_address"),s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:n,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=await this.privateGetDepositsCoinAddress(this.extend({currency:i["id"]},t));return this.parseDepositAddress(r)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostDepositsGenerateCoinAddress(this.extend(r,t)),n=this.safeString(s,"message");if(void 0!==n)throw new u(this.id+" is generating "+e+" deposit address, call fetchDepositAddress or createDepositAddress one more time later to retrieve the generated address");return this.parseDepositAddress(s)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={amount:t};let o="privatePostWithdraws";"KRW"!==e?(o+="Coin",a["currency"]=n["id"],a["address"]=i,void 0!==r&&(a["secondary_address"]=r)):o+="Krw";const c=await this[o](this.extend(a,s));return this.parseTransaction(c)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeParams(this.urls["api"][t],{hostname:this.hostname});a+="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("POST"!==i&&Object.keys(o).length&&(a+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce(),t={access_key:this.apiKey,nonce:e};if(Object.keys(o).length){const e=this.urlencode(o),i=this.hash(this.encode(e),"sha512");t["query_hash"]=i,t["query_hash_alg"]="SHA512"}const a=this.jwt(t,this.encode(this.secret));s={Authorization:"Bearer "+a},"GET"!==i&&"DELETE"!==i&&(n=this.json(r),s["Content-Type"]="application/json")}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error");if(void 0!==h){const e=this.safeString(h,"message"),t=this.safeString(h,"name"),i=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],e,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new s(i)}}}},"5d81":function(e,t,i){var r=i("00b3"),s=i("d3e8"),n=i("5a7c"),a=n((function(e,t){return r(e.length,(function(){try{return e.apply(this,arguments)}catch(i){return t.apply(this,s([i],arguments))}}))}));e.exports=a},"5e0b":function(e,t,i){"use strict";var r=i("15b4"),s=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},o="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(e,t){var i,d={},h=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,l=h.split(t.delimiter,u),f=-1,p=t.charset;if(t.charsetSentinel)for(i=0;i<l.length;++i)0===l[i].indexOf("utf8=")&&(l[i]===c?p="utf-8":l[i]===o&&(p="iso-8859-1"),f=i,i=l.length);for(i=0;i<l.length;++i)if(i!==f){var m,g,y=l[i],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(m=t.decoder(y,n.decoder,p),g=t.strictNullHandling?null:""):(m=t.decoder(y.slice(0,b),n.decoder,p),g=t.decoder(y.slice(b+1),n.decoder,p)),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=a(g)),g&&t.comma&&g.indexOf(",")>-1&&(g=g.split(",")),s.call(d,m)?d[m]=r.combine(d[m],g):d[m]=g}return d},h=function(e,t,i){for(var r=t,s=e.length-1;s>=0;--s){var n,a=e[s];if("[]"===a&&i.parseArrays)n=[].concat(r);else{n=i.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(o,10);i.parseArrays||""!==o?!isNaN(c)&&a!==o&&String(c)===o&&c>=0&&i.parseArrays&&c<=i.arrayLimit?(n=[],n[c]=r):n[o]=r:n={0:r}}r=n}return r},u=function(e,t,i){if(e){var r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,o=n.exec(r),c=o?r.slice(0,o.index):r,d=[];if(c){if(!i.plainObjects&&s.call(Object.prototype,c)&&!i.allowPrototypes)return;d.push(c)}var u=0;while(null!==(o=a.exec(r))&&u<i.depth){if(u+=1,!i.plainObjects&&s.call(Object.prototype,o[1].slice(1,-1))&&!i.allowPrototypes)return;d.push(o[1])}return o&&d.push("["+r.slice(o.index)+"]"),h(d,t,i)}},l=function(e){if(!e)return n;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?n.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?n.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:n.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:n.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:n.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:n.comma,decoder:"function"===typeof e.decoder?e.decoder:n.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:n.delimiter,depth:"number"===typeof e.depth?e.depth:n.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:n.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:n.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:n.strictNullHandling}};e.exports=function(e,t){var i=l(t);if(""===e||null===e||"undefined"===typeof e)return i.plainObjects?Object.create(null):{};for(var s="string"===typeof e?d(e,i):e,n=i.plainObjects?Object.create(null):{},a=Object.keys(s),o=0;o<a.length;++o){var c=a[o],h=u(c,s[c],i);n=r.merge(n,h,i)}return r.compact(n)}},"5e1a":function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=i("8707").Buffer,n=i(3);function a(e,t,i){e.copy(t,i)}e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";var t=this.head,i=""+t.data;while(t=t.next)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;var t=s.allocUnsafe(e>>>0),i=this.head,r=0;while(i)a(i.data,t,r),r+=i.data.length,i=i.next;return t},e}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},"5e23":function(e,t,i){},"5e97":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ExchangeNotAvailable:n,OnMaintenance:a,ArgumentsRequired:o,BadRequest:c,AccountSuspended:d,InvalidAddress:h,PermissionDenied:u,DDoSProtection:l,InsufficientFunds:f,InvalidNonce:p,CancelPending:m,InvalidOrder:g,OrderNotFound:y,AuthenticationError:v,RequestTimeout:b,NotSupported:w,BadSymbol:S,RateLimitExceeded:k}=i("74b0"),{TICK_SIZE:_}=i("5ea4"),O=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitget",name:"Bitget",countries:["SG"],version:"v3",rateLimit:1e3,has:{cancelOrder:!0,cancelOrders:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w"},hostname:"bitget.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/88317935-a8a21c80-cd22-11ea-8e2b-4b9fac5975eb.jpg",api:{data:"https://api.{hostname}",api:"https://api.{hostname}",capi:"https://capi.{hostname}",swap:"https://capi.{hostname}"},www:"https://www.bitget.com",doc:["https://bitgetlimited.github.io/apidoc/en/swap","https://bitgetlimited.github.io/apidoc/en/spot"],fees:"https://www.bitget.cc/zh-CN/rate?tab=1",test:{rest:"https://testnet.bitget.com"},referral:"https://www.bitget.com/expressly?languageType=0&channelCode=ccxt&vipCode=tg9j"},api:{data:{get:["market/history/kline","market/detail/merged","market/tickers","market/allticker","market/depth","market/trade","market/history/trade","market/detail","common/symbols","common/currencys","common/timestamp"]},api:{get:["account/accounts","accounts/{account_id}/balance","order/orders","order/orders/openOrders","order/orders/history","order/deposit_withdraw"],post:["order/orders/place","order/orders/{order_id}/submitcancel","order/orders/batchcancel","order/orders/{order_id}","order/orders/{order_id}/matchresults","order/matchresults"]},capi:{get:["market/time","market/contracts","market/depth","market/tickers","market/ticker","market/trades","market/candles","market/index","market/open_count","market/open_interest","market/price_limit","market/funding_time","market/mark_price","market/open_count","market/historyFundRate"]},swap:{get:["account/accounts","account/account","account/settings","position/allPosition","position/singlePosition","position/holds","order/detail","order/orders","order/fills","order/current","order/currentPlan","order/history","order/historyPlan","trace/closeTrack","trace/currentTrack","trace/historyTrack","trace/summary","trace/profitSettleTokenIdGroup","trace/profitDateGroupList","trace/profitDateList","trace/waitProfitDateList"],post:["account/leverage","account/adjustMargin","account/modifyAutoAppendMargin","order/placeOrder","order/batchOrders","order/cancel_order","order/cancel_batch_orders","order/plan_order","order/cancel_plan","position/changeHoldModel","trace/closeTrackOrder"]}},fees:{spot:{taker:.002,maker:.002},swap:{taker:6e-4,maker:4e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,"failure to get a peer from the ring-balancer":n,4010:u,4001:s,4002:s,30001:v,30002:v,30003:v,30004:v,30005:p,30006:v,30007:c,30008:b,30009:s,30010:v,30011:u,30012:v,30013:v,30014:l,30015:v,30016:s,30017:s,30018:s,30019:n,30020:c,30021:c,30022:u,30023:c,30024:S,30025:c,30026:l,30027:v,30028:u,30029:d,30030:s,30031:c,30032:S,30033:c,30034:s,30035:s,30036:s,30037:n,30038:a,32001:d,32002:u,32003:m,32004:s,32005:g,32006:g,32007:g,32008:g,32009:g,32010:s,32011:s,32012:s,32013:s,32014:s,32015:s,32016:s,32017:s,32018:s,32019:s,32020:s,32021:s,32022:s,32023:s,32024:s,32025:s,32026:s,32027:s,32028:d,32029:s,32030:g,32031:o,32038:v,32040:s,32044:s,32045:s,32046:s,32047:s,32048:g,32049:s,32050:g,32051:g,32052:s,32053:s,32057:s,32054:s,32055:g,32056:s,32058:s,32059:g,32060:g,32061:g,32062:g,32063:g,32064:s,32065:s,32066:s,32067:s,32068:s,32069:s,32070:s,32071:s,32072:s,32073:s,32074:s,32075:s,32076:s,32077:s,32078:s,32079:s,32080:s,32083:s,33001:u,33002:d,33003:f,33004:s,33005:s,33006:s,33007:s,33008:f,33009:s,33010:s,33011:s,33012:s,33013:g,33014:y,33015:g,33016:s,33017:f,33018:s,33020:s,33021:c,33022:g,33023:s,33024:g,33025:g,33026:s,33027:g,33028:g,33029:g,33034:s,33035:s,33036:s,33037:s,33038:s,33039:s,33040:s,33041:s,33042:s,33043:s,33044:s,33045:s,33046:s,33047:s,33048:s,33049:s,33050:s,33051:s,33059:c,33060:c,33061:s,33062:s,33063:s,33064:s,33065:s,21009:s,34001:u,34002:h,34003:s,34004:s,34005:s,34006:s,34007:s,34008:f,34009:s,34010:s,34011:s,34012:s,34013:s,34014:s,34015:s,34016:u,34017:d,34018:v,34019:u,34020:u,34021:h,34022:s,34023:u,34026:s,34036:s,34037:s,34038:s,34039:s,35001:s,35002:s,35003:s,35004:s,35005:v,35008:g,35010:g,35012:g,35014:g,35015:g,35017:s,35019:g,35020:g,35021:g,35022:s,35024:s,35025:f,35026:s,35029:y,35030:g,35031:g,35032:s,35037:s,35039:s,35040:g,35044:s,35046:f,35047:f,35048:s,35049:g,35050:g,35052:f,35053:s,35055:f,35057:s,35058:s,35059:c,35060:c,35061:c,35062:g,35063:g,35064:g,35066:g,35067:g,35068:g,35069:g,35070:g,35071:g,35072:g,35073:g,35074:g,35075:g,35076:g,35077:g,35078:g,35079:g,35080:g,35081:g,35082:g,35083:g,35084:g,35085:g,35086:g,35087:g,35088:g,35089:g,35090:s,35091:s,35092:s,35093:s,35094:s,35095:c,35096:s,35097:s,35098:s,35099:s,36001:c,36002:c,36005:s,36101:v,36102:u,36103:d,36104:u,36105:u,36106:d,36107:u,36108:f,36109:u,36201:u,36202:u,36203:g,36204:s,36205:c,36206:c,36207:g,36208:g,36209:g,36210:g,36211:g,36212:g,36213:g,36214:s,36216:y,36217:g,36218:g,36219:g,36220:g,36221:g,36222:g,36223:g,36224:g,36225:g,36226:g,36227:g,36228:g,36229:g,36230:g,400:c,401:v,403:u,404:c,405:c,415:c,429:l,500:n,1001:k,1002:s,1003:s,40001:v,40002:v,40003:v,40004:p,40005:p,40006:v,40007:c,40008:p,40009:v,40010:v,40011:v,40012:v,40013:s,40014:u,40015:s,40016:u,40017:s,40018:u,40102:c,40103:c,40104:s,40105:s,40106:s,40107:s,40108:g,40109:y,40200:a,40201:g,40202:s,40203:c,40204:c,40205:c,40206:c,40207:c,40208:c,40209:c,40300:s,40301:u,40302:c,40303:c,40304:c,40305:c,40306:s,40308:a,40309:S,40400:s,40401:s,40402:c,40403:c,40404:c,40405:c,40406:c,40407:s,40408:s,40409:s,40500:g,40501:s,40502:s,40503:s,40504:s,40505:s,40506:v,40507:v,40508:s,40509:s,40600:s,40601:s,40602:s,40603:s,40604:n,40605:s,40606:s,40607:s,40608:s,40609:s,40700:c,40701:s,40702:s,40703:s,40704:s,40705:c,40706:g,40707:c,40708:c,40709:s,40710:s,40711:f,40712:f,40713:s,40714:s,"invalid sign":v,"invalid currency":S,"invalid symbol":S,"invalid period":c,"invalid user":s,"invalid amount":g,"invalid type":g,"invalid orderId":g,"invalid record":s,"invalid accountId":c,"invalid address":c,"accesskey not null":v,"illegal accesskey":v,"sign not null":v,"req_time is too much difference from server time":p,"permissions not right":u,"illegal sign invalid":v,"user locked":d,"Request Frequency Is Too High":k,"more than a daily rate of cash":c,"more than the maximum daily withdrawal amount":c,"need to bind email or mobile":s,"user forbid":u,"User Prohibited Cash Withdrawal":u,"Cash Withdrawal Is Less Than The Minimum Value":c,"Cash Withdrawal Is More Than The Maximum Value":c,"the account with in 24 hours ban coin":u,"order cancel fail":c,"base symbol error":S,"base date error":s,"api signature not valid":v,"gateway internal error":s,"audit failed":s,"order queryorder invalid":c,"market no need price":g,"limit need price":g,"userid not equal to account_id":s,"your balance is low":f,"address invalid cointype":s,"system exception":s,50003:s,50004:S,50006:u,50007:u,50008:b,50009:k,50010:s,50014:g,50015:g,50016:g,50017:g,50018:g,50019:g,50020:f,50021:g,50026:g,"invalid order query time":s,"invalid start time":c,"invalid end time":c,20003:s,"01001":s},broad:{"invalid size, valid range":s}},precisionMode:_,options:{createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","swap"],parseOHLCV:{volume:{spot:"amount",swap:5}},defaultType:"spot",accountId:void 0,timeframes:{spot:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","2h":"120min","4h":"240min","6h":"360min","12h":"720min","1d":"1day","1w":"1week"},swap:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800"}}}})}async fetchTime(e={}){const t=await this.dataGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){let t=this.safeValue(this.options,"fetchMarkets");t.length||(t=[this.options["defaultType"]]);let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"symbol");let i="spot",r=!0,s=!1;const n=this.safeString2(e,"base_currency","coin"),a=this.safeString(e,"quote_currency"),o=this.safeNumber(e,"contract_val");void 0!==o&&(i="swap",r=!1,s=!0);const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(a);let h=t.toUpperCase();r&&(h=c+"/"+d);const u=this.safeString(e,"tick_size"),l=this.safeString(e,"size_increment"),f={amount:this.parseNumber(this.parsePrecision(l)),price:this.parseNumber(this.parsePrecision(u))},p=this.safeNumber2(e,"min_size","base_min_size"),m=this.safeString(e,"status");let g=void 0;void 0!==m&&(g="1"===m);const y=this.safeValue2(this.fees,i,"trading",{});return this.extend(y,{id:t,symbol:h,base:c,quote:d,baseId:n,quoteId:a,info:e,type:i,spot:r,swap:s,active:g,precision:f,limits:{amount:{min:p,max:void 0},price:{min:f["price"],max:void 0},cost:{min:f["price"],max:void 0}}})}async fetchMarketsByType(e,t={}){if("spot"===e){const e=await this.dataGetCommonSymbols(t),i=this.safeValue(e,"data",[]);return this.parseMarkets(i)}if("swap"===e){const e=await this.capiGetMarketContracts(t);return this.parseMarkets(e)}throw new w(this.id+" fetchMarketsByType does not support market type "+e)}async fetchCurrencies(e={}){const t=await this.dataGetCommonCurrencys(e),i={},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeCurrencyCode(e);i[t]={id:e,code:t,info:e,type:void 0,name:void 0,active:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};let n=void 0;r["spot"]?(n="dataGetMarketDepth",s["type"]="step0"):r["swap"]&&(n="capiGetMarketDepth",s["limit"]=void 0===t?100:t);const a=await this[n](this.extend(s,i)),o=this.safeValue(a,"data",a),c=this.safeInteger2(o,"timestamp","ts"),d=this.safeInteger(o,"id"),h=this.parseOrderBook(o,e,c);return h["nonce"]=d,h}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","id");let r=void 0;const s=this.safeString2(e,"instrument_id","symbol");if(s in this.markets_by_id)t=this.markets_by_id[s],r=t["symbol"];else if(void 0!==s){const e=s.split("_"),t=e.length;if(2===t){const[t,i]=e,s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(i);r=s+"/"+n}else r=s}void 0===r&&void 0!==t&&(r=t["symbol"]);const n=this.safeNumber2(e,"last","close"),a=this.safeNumber(e,"open");let o=void 0,c=void 0,d=this.safeValue(e,"bid");void 0===d?d=this.safeNumber(e,"best_bid"):(o=this.safeNumber(d,1),d=this.safeNumber(d,0));let h=this.safeValue(e,"ask");void 0===h?h=this.safeNumber(e,"best_ask"):(c=this.safeNumber(h,1),h=this.safeNumber(h,0));const u=this.safeNumber2(e,"amount","volume_24h"),l=this.safeNumber(e,"vol"),f=this.vwap(u,l);let p=void 0,m=void 0,g=void 0;return void 0!==n&&void 0!==a&&(p=n-a,m=p/a*100,g=this.sum(a,n)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high_24h"),low:this.safeNumber2(e,"low","low_24h"),bid:d,bidVolume:o,ask:h,askVolume:c,vwap:f,open:a,close:n,last:n,previousClose:void 0,change:p,percentage:m,average:g,baseVolume:u,quoteVolume:l,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e);let r=void 0;i["spot"]?r="dataGetMarketDetailMerged":i["swap"]&&(r="capiGetMarketTicker");const s={symbol:i["id"]},n=await this[r](this.extend(s,t)),a=this.safeValue(n,"data",n);return this.parseTicker(a,i)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();let r=void 0;"spot"===e?r="dataGetMarketTickers":"swap"===e&&(r="capiGetMarketTickers");const s=await this[r](i),n=this.safeValue(s,"data",s);let a=void 0;Array.isArray(s)||(a=this.safeInteger(s,"ts"));const o={};for(let c=0;c<n.length;c++){const e=this.parseTicker(this.extend({timestamp:a},n[c])),t=e["symbol"];o[t]=e}return this.filterByArray(o,"symbol",t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){let i=void 0;const r=this.safeString(e,"symbol");let s=void 0,n=void 0;if(r in this.markets_by_id)t=this.markets_by_id[r],i=t["symbol"],s=t["base"],n=t["quote"];else if(void 0!==r){const e=r.split("_"),t=e.length;if(2===t){const[t,r]=e;s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(r),i=s+"/"+n}else i=r.toUpperCase()}void 0===i&&void 0!==t&&(i=t["symbol"],s=t["base"],n=t["quote"]);let a=this.safeInteger(e,"created_at");a=this.safeInteger2(e,"timestamp","ts",a);const o=this.safeString(e,"price");let c=this.safeString2(e,"filled_amount","order_qty");c=this.safeString2(e,"size","amount",c);const d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(O.stringMul(o,c));let l=this.safeString2(e,"exec_type","liquidity");"M"===l?l="maker":"T"===l&&(l="taker");const f=this.safeString(e,"type");let p=void 0,m=void 0;void 0!==f?(p=this.safeString(e,"type"),m=this.parseOrderType(p),p=this.parseOrderSide(p)):(p=this.safeString2(e,"side","direction"),m=this.parseOrderType(p),p=this.parseOrderSide(p));let g=this.safeString(e,"fee");g=void 0===g?this.safeString(e,"filled_fees"):O.stringNeg(g);const y=this.parseNumber(g);let v=void 0;if(void 0!==y){const e="buy"===p?s:n;v={cost:y,currency:e}}const b=this.safeString(e,"order_id"),w=this.safeString2(e,"trade_id","id");return{info:e,timestamp:a,datetime:this.iso8601(a),symbol:i,id:w,order:b,type:m,takerOrMaker:l,side:p,price:d,amount:h,cost:u,fee:v}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};let a=void 0;s["spot"]?a="dataGetMarketHistoryTrade":s["swap"]&&(a="capiGetMarketTrades"),s["spot"]?void 0!==t&&(n["size"]=t):s["swap"]&&(void 0===t&&(t=100),n["limit"]=t);const o=await this[a](this.extend(n,r));let c=void 0;if(Array.isArray(o))c=o;else{const e=this.safeValue(o,"data",{});c=this.safeValue2(e,"data",[])}return this.parseTrades(c,s,i,t)}parseOHLCV(e,t,i="1m"){const r=this.safeValue(this.options,"parseOHLCV",{}),s=this.safeValue(r,"volume",{});if(Array.isArray(e)){const i=this.safeString(s,t["type"],"amount");return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,i)]}{const i=this.safeValue(s,t["type"],6);return[this.safeInteger(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,i)]}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"]};let o=void 0;const c=n["type"],d=this.safeValue(this.options,"timeframes",{}),h=this.safeValue(d,c,{}),u=this.safeValue(h,this.timeframes[t]);if(n["spot"])o="dataGetMarketHistoryKline",a["period"]=u,void 0!==r&&(a["size"]=r);else if(n["swap"]){const e=this.parseTimeframe(t);o="capiGetMarketCandles",a["granularity"]=u;const s=this.milliseconds();void 0===i?(void 0===r&&(r=1e3),a["start"]=this.iso8601(s-r*e*1e3),a["end"]=this.iso8601(s)):(a["start"]=this.iso8601(i),a["end"]=void 0===r?this.iso8601(s):this.iso8601(this.sum(i,r*e*1e3)))}const l=await this[o](this.extend(a,s));let f=l;return Array.isArray(l)||(f=this.safeValue(l,"data",[])),this.parseOHLCVs(f,n,t,i,r)}parseSpotBalance(e){const t={info:e},i=this.safeValue(e,"data"),r=this.safeValue(i,"list");for(let s=0;s<r.length;s++){const e=r[s],i=this.safeString(e,"currency"),n=this.safeCurrencyCode(i);if(!(n in t)){const e=this.account();t[n]=e}const a=this.safeValue(e,"type");if("trade"===a)t[n]["free"]=this.safeString(e,"balance");else if("frozen"===a||"lock"===a){const i=this.safeString(t[n],"used");t[n]["used"]=O.stringAdd(i,this.safeString(e,"balance"))}}return this.parseBalance(t,!1)}parseSwapBalance(e){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"symbol");let n=s;s in this.markets_by_id&&(n=this.markets_by_id[s]["symbol"]);const a=this.account();a["total"]=this.safeString(r,"equity"),a["free"]=this.safeString(r,"total_avail_balance"),t[n]=a}return this.parseBalance(t,!1)}async fetchAccounts(e={}){const t={method:"accounts"},i=await this.apiGetAccountAccounts(this.extend(t,e)),r=this.safeValue(i,"data",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"id"),i=this.safeStringLower(e,"type");s.push({id:t,type:i,currency:void 0,info:e})}return s}async findAccountByType(e){await this.loadMarkets(),await this.loadAccounts();const t=this.groupBy(this.accounts,"type"),i=this.safeValue(t,e);if(void 0===i)throw new s(this.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");const r=i.length;if(r>1)throw new s(this.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");return i[0]}async getAccountId(e){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"accountId"),i=this.safeString(e,"accountId",t);if(void 0!==i)return i;const r=this.safeString(this.options,"defaultType","margin"),s=this.safeString(e,"type",r);if(e=this.omit(e,"type"),void 0===s)throw new o(this.id+" getAccountId() requires an 'accountId' parameter");const n=await this.findAccountByType(s);return n["id"]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new o(this.id+" fetchBalance() requires a 'type' parameter, one of 'spot', 'swap'");let r=void 0;const s=this.omit(e,"type");if("spot"===i){const t=await this.getAccountId(e);r="apiGetAccountsAccountIdBalance",s["account_id"]=t,s["method"]="balance"}else"swap"===i&&(r="swapGetAccountAccounts");const n=await this[r](s);return this.parseBalanceByType(i,n)}parseBalanceByType(e,t){if("spot"===e)return this.parseSpotBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new w(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}parseOrderStatus(e){const t={submitted:"open","partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled","-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"};return this.safeString(t,e,e)}parseOrderSide(e){const t={"buy-market":"buy","sell-market":"sell","buy-limit":"buy","sell-limit":"sell",1:"long",2:"short",3:"long",4:"short"};return this.safeString(t,e,e)}parseOrderType(e){const t={"buy-market":"market","sell-market":"market","buy-limit":"limit","sell-limit":"limit",1:"open",2:"open",3:"close",4:"close"};return this.safeString(t,e,e)}parseOrder(e,t){let i=this.safeString(e,"order_id");i=this.safeString2(e,"id","data",i);const r=this.safeInteger2(e,"created_at","createTime");let s=this.safeString(e,"type");const n=this.parseOrderSide(s);s=this.parseOrderType(s);let a=void 0;const o=this.safeString(e,"symbol");void 0!==o&&(o in this.markets_by_id?t=this.markets_by_id[o]:a=o.toUpperCase()),void 0===a&&void 0!==t&&(a=t["symbol"]);const c=this.safeNumber2(e,"amount","size"),d=this.safeNumber2(e,"filled_amount","filled_qty"),h=this.safeNumber(e,"filled_cash_amount"),u=this.safeNumber(e,"price"),l=this.safeNumber(e,"price_avg"),f=this.parseOrderStatus(this.safeString2(e,"state","status")),p=this.safeNumber2(e,"filled_fees","fee");let m=void 0;if(void 0!==p){const e=void 0;m={cost:p,currency:e}}const g=this.safeString(e,"client_oid");return this.safeOrder({info:e,id:i,clientOrderId:g,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:s,timeInForce:void 0,postOnly:void 0,side:n,price:u,stopPrice:void 0,average:l,cost:h,amount:c,filled:d,remaining:void 0,status:f,fee:m,trades:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets(),await this.loadAccounts();const a=this.market(e),c={symbol:a["id"]},d=this.safeString2(n,"client_oid","clientOrderId",this.uuid());n=this.omit(n,["client_oid","clientOrderId"]);let h=void 0;if(a["spot"]){const o=await this.getAccountId({type:a["type"]});if(h="apiPostOrderOrdersPlace",c["account_id"]=o,c["method"]="place",c["type"]=i+"-"+t,"limit"===t)c["amount"]=this.amountToPrecision(e,r),c["price"]=this.priceToPrecision(e,s);else if("market"===t)if("buy"===i){let t=this.safeNumber(n,"amount");const i=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(i){if(void 0!==s)void 0===t&&(t=r*s);else if(void 0===t)throw new g(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'amount' extra parameter (the exchange-specific behaviour)")}else t=void 0===t?r:t;c["amount"]=this.costToPrecision(e,t)}else"sell"===i&&(c["amount"]=this.amountToPrecision(e,r))}else if(a["swap"]){c["order_type"]="0",c["client_oid"]=d;const i=this.safeString(n,"type");if(void 0===i)throw new o(this.id+" createOrder() requires a type parameter, '1' = open long, '2' = open short, '3' = close long, '4' = close short for "+a["type"]+" orders");c["size"]=this.amountToPrecision(e,r),c["type"]=i,"limit"===t?(c["match_price"]="0",c["price"]=this.priceToPrecision(e,s)):"market"===t&&(c["match_price"]="1"),h="swapPostOrderPlaceOrder"}const u=await this[h](this.extend(c,n));return this.parseOrder(u,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();let r=void 0,s=void 0;if(void 0===t){const e=this.safeString2(this.options,"cancelOrder","defaultType"),r=this.safeString(i,"type",e);if("spot"===r&&void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument for spot orders")}else r=this.market(t),s=r["type"];const n=this.omit(i,"type");let a=void 0;const c={};"spot"===s?(a="apiPostOrderOrdersOrderIdSubmitcancel",c["order_id"]=e,c["method"]="submitcancel"):"swap"===s&&(a="swapPostOrderCancelOrder",c["orderId"]=e,c["symbol"]=r["id"]);const d=await this[a](this.extend(c,n));return this.parseOrder(d,r)}async cancelOrders(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString(i,"type",r["type"]);if(void 0===s)throw new o(this.id+" cancelOrders() requires a type parameter (one of 'spot', 'swap').");i=this.omit(i,"type");const n={};let a=void 0;if("spot"===s){a="apiPostOrderOrdersBatchcancel",n["method"]="batchcancel";const t=this.json(e),i=t.split('"');n["order_ids"]=i.join("")}else"swap"===s&&(a="swapPostOrderCancelBatchOrders",n["symbol"]=r["id"],n["ids"]=e);const c=await this[a](this.extend(n,i));return c}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString(i,"type",r["type"]);if(void 0===s)throw new o(this.id+" fetchOrder() requires a type parameter (one of 'spot', 'swap').");let n=void 0;const a={};if("spot"===s){const t=this.safeString(i,"client_oid");void 0!==t?(n="apiPostOrderOrdersClientOid",a["client_oid"]=t):(n="apiPostOrderOrdersOrderId",a["order_id"]=e),a["method"]="getOrder"}else"swap"===s&&(n="swapGetOrderDetail",a["symbol"]=r["id"],a["orderId"]=e);const c=this.omit(i,"type"),d=await this[n](this.extend(a,c)),h=this.safeValue(d,"data",d);return this.parseOrder(h,r)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=this.safeString(r,"type",s["type"]),a={symbol:s["id"]};let c=void 0;"spot"===n?(c="apiGetOrderOrdersOpenOrders",a["method"]="openOrders",void 0===i&&(a["size"]=i)):"swap"===n&&(c="swapGetOrderOrders",a["status"]="3",a["from"]="1",a["to"]="1",void 0===i&&(a["limit"]=100));const d=this.omit(r,"type"),h=await this[c](this.extend(a,d));let u=h;return Array.isArray(h)||(u=this.safeValue(h,"data",[])),this.parseOrders(u,s,void 0,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=this.safeString(r,"type",s["type"]),a={symbol:s["id"]};let c=void 0;"spot"===n?(c="apiGetOrderOrdersHistory",void 0!==t&&(a["start_time"]=t),a["method"]="openOrders",void 0===i&&(a["size"]=i)):"swap"===n&&(c="swapGetOrderOrders",a["status"]="2",a["from"]="1",a["to"]="1",void 0===i&&(a["limit"]=100));const d=this.omit(r,"type"),h=await this[c](this.extend(a,d));let u=h;return Array.isArray(h)||(u=this.safeValue(h,"data",[])),this.parseOrders(u,s,void 0,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={currency:s["id"],method:"deposit_withdraw",type:"deposit",size:12},a=await this.apiGetOrderDepositWithdraw(this.extend(n,r)),c=this.safeValue(a,"data",[]);return this.parseTransactions(c,s,t,i,r)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={currency:s["id"],method:"deposit_withdraw",type:"withdraw",size:12},a=await this.apiGetOrderDepositWithdraw(this.extend(n,r)),c=this.safeValue(a,"data",[]);return this.parseTransactions(c,s,t,i,r)}parseTransactionStatus(e){const t={WaitForOperation:"pending",OperationLock:"pending",OperationSuccess:"ok",Cancel:"canceled",Sure:"ok",Fail:"failed",WaitForChainSure:"ok",WAIT_0:"pending",WAIT_1:"pending",DATA_CHANGE:"pending",SUCCESS:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString(e,"address_tag"),n=void 0,a=s,o=void 0,c=r;let d=this.safeString(e,"type");"withdraw"===d?d="withdrawal":"deposit"===d&&(d="deposit");const h=this.safeString(e,"currency"),u=this.safeCurrencyCode(h),l=this.safeNumber(e,"amount"),f=this.parseTransactionStatus(this.safeString(e,"state")),p=this.safeString(e,"tx_hash"),m=this.safeInteger(e,"created_at"),g=this.safeInteger(e,"updated_at"),y=this.safeNumber(e,"fee");let v=void 0;return void 0!==y&&(v={currency:u,cost:y}),{info:e,id:i,currency:u,amount:l,addressFrom:o,addressTo:c,address:r,tagFrom:n,tagTo:a,tag:s,status:f,type:d,updated:g,txid:p,timestamp:m,datetime:this.iso8601(m),fee:v}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=this.safeString(r,"type",s["type"]),a=this.omit(r,"type");if("swap"===n)throw new o(this.id+" fetchMyTrades() is not supported for "+n+" type");const c={symbol:s["id"],method:"matchresults"};if(void 0!==t){c["start_date"]=this.ymd(t);const e=this.sum(t,1728e5);c["end_date"]=this.ymd(e)}void 0!==i&&(c["size"]=i);const d=await this.apiPostOrderMatchresults(this.extend(c,a)),h=this.safeValue(d,"data",[]);return this.parseTrades(h,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new o(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(t),a=this.safeString(s,"type",n["type"]);s=this.omit(s,"type");let c=void 0;const d={};"spot"===a?(d["order_id"]=e,d["method"]="matchresults",c="apiPostOrderOrdersOrderIdMatchresults"):"swap"===a&&(d["orderId"]=e,d["symbol"]=n["id"],c="swapGetOrderFills");const h=await this[c](this.extend(d,s));let u=h;return Array.isArray(u)||(u=this.safeValue(h,"data",[])),await this.parseTrades(u,n,i,r)}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.swapGetPositionSinglePosition(this.extend(r,t));return s}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.swapGetPositionAllPosition(t);return i}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);a="capi"===t||"swap"===t?"/api/swap/"+this.version+a:"/"+t+"/v1"+a;let o=this.omit(r,this.extractParams(e)),c=this.implodeHostname(this.urls["api"][t])+a;if("data"===t||"capi"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else if("swap"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+a;if("POST"===i)n=this.json(r),t+=n;else if(Object.keys(r).length){const e=this.urlencode(this.keysort(r));c+="?"+e,t+="?"+e}const o=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":o,"ACCESS-TIMESTAMP":e,"ACCESS-PASSPHRASE":this.password},"POST"===i&&(s["Content-Type"]="application/json")}else if("api"===t){const e=this.milliseconds().toString();let t="";o=this.keysort(o),t=this.rawencode(o);const r=this.hash(this.encode(this.secret),"sha1");let a=t;const d=this.hmac(this.encode(t),this.encode(r),"md5");t.length>0&&(a+="&"),a+="sign="+d+"&req_time="+e+"&accesskey="+this.apiKey,"GET"===i?Object.keys(o).length&&(c+="?"+a):"POST"===i&&(c+="?sign="+d+"&req_time="+e+"&accesskey="+this.apiKey,n=t,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(!o)return;const h=this.safeString(o,"err_msg"),u=this.safeString2(o,"code","err_code"),l=this.id+" "+a,f=void 0!==h&&""!==h;f&&(this.throwExactlyMatchedException(this.exceptions["exact"],h,l),this.throwBroadlyMatchedException(this.exceptions["broad"],h,l));const p=void 0!==u&&"00000"!==u;if(p&&this.throwExactlyMatchedException(this.exceptions["exact"],u,l),p||f)throw new s(l)}}},"5ea4":function(e,t,i){"use strict";const r=0,s=1,n=2,a=3,o=0,c=1,d=2,h=0,u=1,l={ROUND:r,TRUNCATE:s,ROUND_UP:n,ROUND_DOWN:a,DECIMAL_PLACES:o,SIGNIFICANT_DIGITS:c,TICK_SIZE:d,NO_PADDING:h,PAD_WITH_ZERO:u};function f(e){if("string"===typeof e)return e;const t=e.toString();if(Math.abs(e)<1){const i=t.split("e-"),r=i[0].replace(".",""),s=parseInt(i[1]),n="-"===t[0];if(s)return e=(n?"-":"")+"0."+new Array(s).join("0")+r.substring(n),e}else{const e=t.split("e");if(e[1]){let t=parseInt(e[1]);const i=e[0].split(".");let r="";return i[1]&&(t-=i[1].length,r=i[1]),i[0]+r+new Array(t+1).join("0")}}return t}const p=[],m=(e,t=0)=>{if(e=f(e),t>0){const i=p[t]||(p[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)")),[,r]=e.toString().match(i)||[null,e];return r.toString()}return parseInt(e).toString()},g=(e,t=0)=>parseFloat(m(e,t));function y(e){const t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0}const v=(e,t,i,n=o,a=h)=>{if(n===d&&i<=0)throw new Error("TICK_SIZE cant be used with negative or zero numPrecisionDigits");if(i<0){const o=Math.pow(10,-i);if(t===r)return(o*v(e/o,t,0,n,a)).toString();if(t===s)return(e-e%o).toString()}if(n===d){const n=v(i,r,22,o,h),c=y(n);let d=e%i;d=Number(v(d,r,8,o,h));const u=v(d/i,r,Math.max(c,8),o,h);return 0!==y(u)&&(t===r?e>0?d>=i/2?e=e-d+i:e-=d:e=d>=i/2?Number(e)-d:Number(e)-d-i:t===s&&(e-=d)),v(e,r,c,o,a)}const u=f(e),l="-"===u[0],p=l?1:0,m=u.length;for(var g=0;g<m;g++)if("."===u[g])break;const b=g<u.length,w=45,S=46,k=48,_=k+1,O=k+5,T=k+9,C=new Uint8Array(m-p+(b?0:1));C[0]=k;let I=C.length,x=-1,E=-1;for(var A=1,N=p;N<m;N++,A++){const e=u.charCodeAt(N);if(e===S)I=A--;else{if(e<k||e>T)throw new Error(`${u}: invalid number (contains an illegal character '${u[A-1]}')`);C[A]=e,e!==k&&x<0&&(x=A)}}x<0&&(x=1);let M=n===o?I:x,P=M+i;E=-1;let B=!0,R=l;for(let s=C.length-1,o=0;s>=0;s--){let e=C[s];if(0!==s){if(e+=o,s>=M+i){const i=t===r&&e>=O&&!(e===O&&o);e=i?T+1:k}e>T?(e=k,o=1):o=0}else o&&(e=_);C[s]=e,e!==k&&(B=!1,x=s,E=E<0?s+1:E)}n===c&&(M=x,P=M+i),B&&(R=!1);const D=x>=I||B?I-1:x,L=E<I?I:E,V=R?1:0,j=V+(I-D),q=Math.max(L-I,0),U=L-D,G=a===h?U:P-D,F=Math.max(G-U,0),H=j+1+q,z=H+F,K=q+F===0,W=new Uint8Array(j+(K?0:1)+q+F);for(R&&(W[0]=w),A=V,N=D;A<j;A++,N++)W[A]=C[N];for(K||(W[j]=S),A=j+1,N=I;A<H;A++,N++)W[A]=C[N];for(A=H;A<z;A++)W[A]=k;return String.fromCharCode(...W)};function b(e){if(void 0!==e&&0!==parseFloat(e))return e}e.exports={numberToString:f,precisionFromString:y,decimalToPrecision:v,truncate_to_string:m,truncate:g,omitZero:b,precisionConstants:l,ROUND:r,TRUNCATE:s,ROUND_UP:n,ROUND_DOWN:a,DECIMAL_PLACES:o,SIGNIFICANT_DIGITS:c,TICK_SIZE:d,NO_PADDING:h,PAD_WITH_ZERO:u}},"5eec":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=new Array(128),t=String.fromCodePoint||String.fromCharCode,i=[];return function(r){var s,n,a=r.length;i.length=0;for(var o=0;o<a;)n=r[o++],n<=127?s=n:n<=223?s=(31&n)<<6|63&r[o++]:n<=239?s=(15&n)<<12|(63&r[o++])<<6|63&r[o++]:String.fromCodePoint?s=(7&n)<<18|(63&r[o++])<<12|(63&r[o++])<<6|63&r[o++]:(s=63,o+=3),i.push(e[s]||(e[s]=t(s)));return i.join("")}};function s(e){for(var t=[],i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(i++,r=65536+((1023&r)<<10|1023&e.charCodeAt(i)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return Uint8Array.from(t)}t.utf8ArrayToStr=r(),t.strToUtf8Array=s},"5f02":function(e,t,i){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},"5f92":function(e,t,i){"use strict";const r=i("90db"),{BadSymbol:s,ExchangeError:n,NotSupported:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitstamp1",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrder:!1,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"btc",quoteId:"usd",maker:.005,taker:.005},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur",maker:.005,taker:.005},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",baseId:"eur",quoteId:"usd",maker:.005,taker:.005},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"xrp",quoteId:"usd",maker:.005,taker:.005},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"xrp",quoteId:"eur",maker:.005,taker:.005},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",maker:.005,taker:.005},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"ltc",quoteId:"usd",maker:.005,taker:.005},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"ltc",quoteId:"eur",maker:.005,taker:.005},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",maker:.005,taker:.005},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"eth",quoteId:"usd",maker:.005,taker:.005},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"eth",quoteId:"eur",maker:.005,taker:.005},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.005,taker:.005}}})}async fetchOrderBook(e,t,i={}){if("BTC/USD"!==e)throw new n(this.id+" "+this.version+" fetchOrderBook doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const r=await this.publicGetOrderBook(i),s=this.safeTimestamp(r,"timestamp");return this.parseOrderBook(r,e,s)}async fetchTicker(e,t={}){if("BTC/USD"!==e)throw new n(this.id+" "+this.version+" fetchTicker doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeTimestamp(i,"timestamp"),s=this.safeNumber(i,"vwap"),a=this.safeNumber(i,"volume");let o=void 0;void 0!==a&&void 0!==s&&(o=a*s);const c=this.safeNumber(i,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(i,"high"),low:this.safeNumber(i,"low"),bid:this.safeNumber(i,"bid"),bidVolume:void 0,ask:this.safeNumber(i,"ask"),askVolume:void 0,vwap:s,open:this.safeNumber(i,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:o,info:i}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","datetime"),r=0===e["type"]?"buy":"sell",s=this.safeString(e,"order_id");"currency_pair"in e&&e["currency_pair"]in this.markets_by_id&&(t=this.markets_by_id[e["currency_pair"]]);const n=this.safeString(e,"tid"),a=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(a),h=this.parseNumber(c),u=this.parseNumber(o.stringMul(a,c));let l=void 0;return void 0!==t&&(l=t["symbol"]),{id:n,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,order:s,type:void 0,side:r,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:void 0}}async fetchTrades(e,t,i,r={}){if("BTC/USD"!==e)throw new s(this.id+" "+this.version+" fetchTrades doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const n=this.market(e),a={time:"minute"},o=await this.publicGetTransactions(this.extend(a,r));return this.parseTrades(o,n,t,i)}async fetchBalance(e={}){const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],n=this.currency(e),a=n["id"],o=this.account();o["free"]=this.safeString(t,a+"_available"),o["used"]=this.safeString(t,a+"_reserved"),o["total"]=this.safeString(t,a+"_balance"),i[e]=o}return this.parseBalance(i,!1)}async createOrder(e,t,i,r,s,a={}){if("limit"!==t)throw new n(this.id+" "+this.version+" accepts limit orders only");if("BTC/USD"!==e)throw new n(this.id+" v1 supports BTC/USD orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c={amount:r,price:s},d=await this[o](this.extend(c,a)),h=this.safeString(d,"id");return{info:d,id:h}}async cancelOrder(e,t,i={}){return await this.privatePostCancelOrder({id:e})}parseOrderStatus(e){const t={"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"};return this.safeString(t,e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrderStatus(s)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n=s?s["id"]:"all",a={id:n},o=await this.privatePostOpenOrdersId(this.extend(a,r));return this.parseTrades(o,s,t,i)}async fetchOrder(e,t,i={}){throw new a(this.id+" fetchOrder is not implemented yet")}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),n=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},s,a){const o=await this.fetch2(e,t,i,r,s,a);if("status"in o&&"error"===o["status"])throw new n(this.id+" "+this.json(o));return o}}},6040:function(e,t,i){var r=i("5259");i("6497"),e.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(e,t){var i=e;if("string"===typeof i&&(i=r.cipher.getAlgorithm(i),i&&(i=i())),!i)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:i,key:t,decrypt:!1})},r.cipher.createDecipher=function(e,t){var i=e;if("string"===typeof i&&(i=r.cipher.getAlgorithm(i),i&&(i=i())),!i)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:i,key:t,decrypt:!0})},r.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),r.cipher.algorithms[e]=t},r.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in r.cipher.algorithms?r.cipher.algorithms[e]:null};var s=r.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};s.prototype.start=function(e){e=e||{};var t={};for(var i in e)t[i]=e[i];t.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=e.output||r.util.createBuffer(),this.mode.start(t)},s.prototype.update=function(e){e&&this._input.putBuffer(e);while(!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish);this._input.compact()},s.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},"605d":function(e,t,i){var r=i("c6b6"),s=i("da84");e.exports="process"==r(s.process)},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,i){"use strict";var r=i("83ab"),s=i("d039"),n=i("df75"),a=i("7418"),o=i("d1e7"),c=i("7b0b"),d=i("44ad"),h=Object.assign,u=Object.defineProperty;e.exports=!h||s((function(){if(r&&1!==h({b:1},h(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),s="abcdefghijklmnopqrst";return e[i]=7,s.split("").forEach((function(e){t[e]=e})),7!=h({},e)[i]||n(h({},t)).join("")!=s}))?function(e,t){var i=c(e),s=arguments.length,h=1,u=a.f,l=o.f;while(s>h){var f,p=d(arguments[h++]),m=u?n(p).concat(u(p)):n(p),g=m.length,y=0;while(g>y)f=m[y++],r&&!l.call(p,f)||(i[f]=p[f])}return i}:h},"615b":function(e,t,i){},"61d2":function(e,t,i){},6299:function(e,t,i){"use strict";const r=i("90db"),{InsufficientFunds:s,ArgumentsRequired:n,ExchangeError:a,InvalidOrder:o,InvalidAddress:c,AuthenticationError:d,NotSupported:h,OrderNotFound:u,OnMaintenance:l,PermissionDenied:f,RateLimitExceeded:p}=i("74b0"),{TICK_SIZE:m}=i("5ea4"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbasepro",name:"Coinbase Pro",countries:["US"],rateLimit:1e3,userAgent:this.userAgents["chrome"],pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,deposit:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchClosedOrders:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTime:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},hostname:"pro.coinbase.com",urls:{test:{public:"https://api-public.sandbox.pro.coinbase.com",private:"https://api-public.sandbox.pro.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://pro.coinbase.com/",doc:"https://docs.pro.coinbase.com",fees:["https://docs.pro.coinbase.com/#fees","https://support.pro.coinbase.com/customer/en/portal/articles/2945310-fees"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","fees","margin/profile_information","margin/buying_power","margin/withdrawal_power","margin/withdrawal_power_all","margin/exit_plan","margin/liquidation_history","margin/position_refresh_amounts","margin/status","oracle","orders","orders/{id}","orders/client:{client_oid}","otc/orders","payment-methods","position","profiles","profiles/{id}","reports/{report_id}","transfers","transfers/{transfer_id}","users/self/exchange-limits","users/self/hold-balances","users/self/trailing-volume","withdrawals/fee-estimate"],post:["conversions","deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","profiles/transfer","reports","withdrawals/coinbase","withdrawals/coinbase-account","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/client:{client_oid}","orders/{id}"]}},commonCurrencies:{CGLD:"CELO"},precisionMode:m,fees:{trading:{tierBased:!0,percentage:!0,maker:.005,taker:.005},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}},exceptions:{exact:{"Insufficient funds":s,NotFound:u,"Invalid API Key":d,"invalid signature":d,"Invalid Passphrase":d,"Invalid order id":o,"Private rate limit exceeded":p,"Trading pair not available":f,"Product not found":o},broad:{"Order already done":u,"order not found":u,"price too small":o,"price too precise":o,"under maintenance":l,"size is too small":o,"Cancel only mode":l}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeString(e,"name"),a=this.safeCurrencyCode(s),o=this.safeValue(e,"details",{}),c=this.safeNumber(e,"max_precision"),d=this.safeString(e,"status"),h="online"===d;i[a]={id:s,code:a,info:e,type:this.safeString(o,"type"),name:n,active:h,fee:void 0,precision:c,limits:{amount:{min:this.safeNumber(o,"min_size"),max:void 0},withdraw:{min:this.safeNumber(o,"min_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeString(e,"base_currency"),a=this.safeString(e,"quote_currency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h={min:this.safeNumber(e,"quote_increment"),max:void 0},u={amount:this.safeNumber(e,"base_increment"),price:this.safeNumber(e,"quote_increment")},l=this.safeString(e,"status"),f="online"===l;i.push(this.extend(this.fees["trading"],{id:s,symbol:d,baseId:n,quoteId:a,base:o,quote:c,precision:u,limits:{amount:{min:this.safeNumber(e,"base_min_size"),max:this.safeNumber(e,"base_max_size")},price:h,cost:{min:this.safeNumber(e,"min_market_funds"),max:this.safeNumber(e,"max_market_funds")}},active:f,info:e}))}return i}async fetchAccounts(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n);i.push({id:s,type:void 0,currency:a,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"available"),a["used"]=this.safeString(e,"hold"),a["total"]=this.safeString(e,"balance"),i[n]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e),level:2},s=await this.publicGetProductsIdBook(this.extend(r,i)),n=this.parseOrderBook(s,e);return n["nonce"]=this.safeInteger(s,"sequence"),n}parseTicker(e,t){const i=this.parse8601(this.safeValue(e,"time")),r=this.safeNumber(e,"bid"),s=this.safeNumber(e,"ask"),n=this.safeNumber(e,"price"),a=void 0===t?void 0:t["symbol"];return{symbol:a,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:r,bidVolume:void 0,ask:s,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i["id"]},s=this.safeString(this.options,"fetchTickerMethod","publicGetProductsIdTicker"),n=await this[s](this.extend(r,t));return this.parseTicker(n,i)}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"time","created_at")),r=this.safeString(e,"product_id"),s=this.safeSymbol(r,t,"-");let n=void 0,a=void 0,o=void 0,c=void 0;if(void 0!==t){const i=this.safeStringLower(t,"quoteId"),r=i+"_value";c=this.safeNumber(e,r),a=t["quote"];const s=this.safeString(e,"liquidity");void 0!==s&&(o="T"===s?"taker":"maker",n=t[o])}const d=this.safeNumber2(e,"fill_fees","fee"),h={cost:d,currency:a,rate:n},u=void 0,l=this.safeString(e,"trade_id");let f="buy"===e["side"]?"sell":"buy";const p=this.safeString(e,"order_id"),m=this.safeString(e,"maker_order_id"),y=this.safeString(e,"taker_order_id");(void 0!==p||void 0!==m&&void 0!==y)&&(f="buy"===e["side"]?"buy":"sell");const v=this.safeString(e,"price"),b=this.safeString(e,"size"),w=this.parseNumber(v),S=this.parseNumber(b);return void 0===c&&(c=this.parseNumber(g.stringMul(v,b))),{id:l,order:p,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:u,takerOrMaker:o,side:f,price:w,amount:S,fee:h,cost:c}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={product_id:s["id"]};void 0!==i&&(a["limit"]=i);const o=await this.privateGetFills(this.extend(a,r));return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={id:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetProductsIdTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,3),this.safeNumber(e,2),this.safeNumber(e,1),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=this.timeframes[t],o={id:n["id"],granularity:a};void 0!==i&&(o["start"]=this.iso8601(i),r=void 0===r?300:Math.min(300,r),o["end"]=this.iso8601(this.sum((r-1)*a*1e3,i)));const c=await this.publicGetProductsIdCandles(this.extend(o,s));return this.parseOHLCVs(c,n,t,i,r)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeTimestamp(t,"epoch")}parseOrderStatus(e){const t={pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled",canceling:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"product_id");t=this.safeMarket(r,t,"-");const s=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"filled_size"),o=this.safeNumber(e,"size",a),c=this.safeNumber(e,"executed_value"),d=this.safeNumber(e,"fill_fees");let h=void 0;if(void 0!==d){let e=void 0;void 0!==t&&(e=t["quote"]),h={cost:d,currency:e,rate:void 0}}const u=this.safeString(e,"id"),l=this.safeString(e,"type"),f=this.safeString(e,"side"),p=this.safeString(e,"time_in_force"),m=this.safeValue(e,"post_only"),g=this.safeNumber(e,"stop_price"),y=this.safeString(e,"client_oid");return this.safeOrder({id:u,clientOrderId:y,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:s,symbol:t["symbol"],type:l,timeInForce:p,postOnly:m,side:f,price:n,stopPrice:g,cost:c,amount:o,filled:a,remaining:void 0,fee:h,average:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOrderId","client_oid");let n=void 0;void 0===s?(n="privateGetOrdersId",r["id"]=e):(n="privateGetOrdersClientClientOid",r["client_oid"]=s,i=this.omit(i,["clientOrderId","client_oid"]));const a=await this[n](this.extend(r,i));return this.parseOrder(a)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();let n=void 0;void 0!==t&&(n=this.market(t));const a={order_id:e},o=await this.privateGetFills(this.extend(a,s));return this.parseTrades(o,n,i,r)}async fetchOrders(e,t,i,r={}){const s={status:"all"};return await this.fetchOpenOrders(e,t,i,this.extend(s,r))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["product_id"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(a,n,t,i)}async fetchClosedOrders(e,t,i,r={}){const s={status:"done"};return await this.fetchOpenOrders(e,t,i,this.extend(s,r))}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={type:t,side:i,product_id:a["id"]},c=this.safeString2(n,"clientOrderId","client_oid");void 0!==c&&(o["client_oid"]=c,n=this.omit(n,["clientOrderId","client_oid"]));const d=this.safeNumber2(n,"stopPrice","stop_price");void 0!==d&&(o["stop_price"]=this.priceToPrecision(e,d),n=this.omit(n,["stopPrice","stop_price"]));const h=this.safeString2(n,"timeInForce","time_in_force");if(void 0!==h&&(o["time_in_force"]=h,n=this.omit(n,["timeInForce","time_in_force"])),"limit"===t)o["price"]=this.priceToPrecision(e,s),o["size"]=this.amountToPrecision(e,r);else if("market"===t){let t=this.safeNumber2(n,"cost","funds");void 0===t?void 0!==s&&(t=r*s):n=this.omit(n,["cost","funds"]),void 0!==t?o["funds"]=this.costToPrecision(e,t):o["size"]=this.amountToPrecision(e,r)}const u=await this.privatePostOrders(this.extend(o,n));return this.parseOrder(u,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOrderId","client_oid");let n=void 0;void 0===s?(n="privateDeleteOrdersId",r["id"]=e):(n="privateDeleteOrdersClientClientOid",r["client_oid"]=s,i=this.omit(i,["clientOrderId","client_oid"]));let a=void 0;return void 0!==t&&(a=this.market(t),r["product_id"]=a["symbol"]),await this[n](this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;return void 0!==e&&(r=this.market(e),i["product_id"]=r["symbol"]),await this.privateDeleteOrders(this.extend(i,t))}async fetchPaymentMethods(e={}){return await this.privateGetPaymentMethods(e)}async deposit(e,t,i,r={}){await this.loadMarkets();const s=this.currency(e),n={currency:s["id"],amount:t};let o="privatePostDeposits";if("payment_method_id"in r)o+="PaymentMethod";else{if(!("coinbase_account_id"in r))throw new h(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");o+="CoinbaseAccount"}const c=await this[o](this.extend(n,r));if(!c)throw new a(this.id+" deposit() error: "+this.json(c));return{info:c,id:c["id"]}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o={currency:n["id"],amount:t};let c="privatePostWithdrawals";"payment_method_id"in s?c+="PaymentMethod":"coinbase_account_id"in s?c+="CoinbaseAccount":(c+="Crypto",o["crypto_address"]=i,void 0!==r&&(o["destination_tag"]=r));const d=await this[c](this.extend(o,s));if(!d)throw new a(this.id+" withdraw() error: "+this.json(d));return{info:d,id:d["id"]}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let s=void 0,n=this.safeString(r,"id");if(void 0===n&&void 0!==e){s=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new a(this.id+" fetchTransactions() could not find account id for "+e);n=i["id"]}const o={};void 0!==n&&(o["id"]=n),void 0!==i&&(o["limit"]=i);let c=void 0;if(void 0===n){c=await this.privateGetTransfers(this.extend(o,r));for(let e=0;e<c.length;e++){const t=this.safeString(c[e],"account_id"),i=this.safeValue(this.accountsById,t),r=this.safeString(i,"currency");c[e]["currency"]=r}}else{c=await this.privateGetAccountsIdTransfers(this.extend(o,r));for(let t=0;t<c.length;t++)c[t]["currency"]=e}return this.parseTransactions(c,s,t,i)}async fetchDeposits(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend(r,{type:"deposit"}))}async fetchWithdrawals(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend(r,{type:"withdraw"}))}parseTransactionStatus(e){const t=this.safeValue(e,"canceled_at");if(t)return"canceled";const i=this.safeValue(e,"processed_at"),r=this.safeValue(e,"completed_at");return r?"ok":i&&!r?"failed":"pending"}parseTransaction(e,t){const i=this.safeValue(e,"details",{}),r=this.safeString(e,"id"),s=this.safeString(i,"crypto_transaction_hash"),n=this.parse8601(this.safeString(e,"created_at")),a=this.parse8601(this.safeString(e,"processed_at")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),d=this.parseTransactionStatus(e);let h=this.safeNumber(e,"amount"),u=this.safeString(e,"type"),l=this.safeString(i,"crypto_address");const f=this.safeString(i,"destination_tag");l=this.safeString(e,"crypto_address",l);let p=void 0;if("withdraw"===u){u="withdrawal",l=this.safeString(i,"sent_to_address",l);const e=this.safeNumber(i,"fee");void 0!==e&&(void 0!==h&&(h-=e),p={cost:e,currency:c})}return{info:e,id:r,txid:s,timestamp:n,datetime:this.iso8601(n),address:l,tag:f,type:u,amount:h,currency:c,status:d,updated:a,fee:p}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeValue(this.options,"coinbaseAccounts");void 0===r&&(r=await this.privateGetCoinbaseAccounts(),this.options["coinbaseAccounts"]=r,this.options["coinbaseAccountsByCurrencyId"]=this.indexBy(r,"currency"));const s=i["id"],n=this.safeValue(this.options["coinbaseAccountsByCurrencyId"],s);if(void 0===n)throw new c(this.id+" fetchDepositAddress() could not find currency code "+e+" with id = "+s+" in this.options['coinbaseAccountsByCurrencyId']");const a={id:n["id"]},o=await this.privatePostCoinbaseAccountsIdAddresses(this.extend(a,t)),d=this.safeString(o,"address"),h=this.safeString(o,"destination_tag");return{currency:e,address:this.checkAddress(d),tag:h,info:o}}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(a+="?"+this.urlencode(o));const c=this.implodeHostname(this.urls["api"][t])+a;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(n=this.json(o),t=n);const r=e+i+a+t,c=this.base64ToBinary(this.secret),d=this.hmac(this.encode(r),c,"sha256","base64");s={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":d,"CB-ACCESS-TIMESTAMP":e,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(400===e||404===e){if("{"===n[0]){const e=this.safeString(o,"message"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new a(t)}throw new a(this.id+" "+n)}}async request(e,t="public",i="GET",r={},s,n){const o=await this.fetch2(e,t,i,r,s,n);if("string"!==typeof o&&"message"in o)throw new a(this.id+" "+this.json(o));return o}}},"62ad":function(e,t,i){"use strict";var r=i("ade3"),s=i("5530"),n=(i("a9e3"),i("b64b"),i("ac1f"),i("5319"),i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("caad"),i("159b"),i("2ca0"),i("4b85"),i("2b0e")),a=i("d9f7"),o=i("80d2"),c=["sm","md","lg","xl"],d=function(){return c.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{})}(),h=function(){return c.reduce((function(e,t){return e["offset"+Object(o["F"])(t)]={type:[String,Number],default:null},e}),{})}(),u=function(){return c.reduce((function(e,t){return e["order"+Object(o["F"])(t)]={type:[String,Number],default:null},e}),{})}(),l={col:Object.keys(d),offset:Object.keys(h),order:Object.keys(u)};function f(e,t,i){var r=e;if(null!=i&&!1!==i){if(t){var s=t.replace(e,"");r+="-".concat(s)}return"col"!==e||""!==i&&!0!==i?(r+="-".concat(i),r.toLowerCase()):r.toLowerCase()}}var p=new Map;t["a"]=n["a"].extend({name:"v-col",functional:!0,props:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({cols:{type:[Boolean,String,Number],default:!1}},d),{},{offset:{type:[String,Number],default:null}},h),{},{order:{type:[String,Number],default:null}},u),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var i=t.props,s=t.data,n=t.children,o=(t.parent,"");for(var c in i)o+=String(i[c]);var d=p.get(o);return d||function(){var e,t;for(t in d=[],l)l[t].forEach((function(e){var r=i[e],s=f(t,e,r);s&&d.push(s)}));var s=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!s||!i.cols},Object(r["a"])(e,"col-".concat(i.cols),i.cols),Object(r["a"])(e,"offset-".concat(i.offset),i.offset),Object(r["a"])(e,"order-".concat(i.order),i.order),Object(r["a"])(e,"align-self-".concat(i.alignSelf),i.alignSelf),e)),p.set(o,d)}(),e(i.tag,Object(a["a"])(s,{class:d}),n)}})},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"63de":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,AuthenticationError:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinspot",name:"CoinSpot",countries:["AU"],rateLimit:1e3,has:{cancelOrder:!1,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api",referral:"https://www.coinspot.com.au/register?code=PJURCU"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel","ro/my/balances","ro/my/balances/{cointype}","ro/my/deposits","ro/my/withdrawals","ro/my/transactions","ro/my/transactions/{cointype}","ro/my/transactions/open","ro/my/transactions/{cointype}/open","ro/my/sendreceive","ro/my/affiliatepayments","ro/my/referralpayments"]}},markets:{"BTC/AUD":{id:"btc",symbol:"BTC/AUD",base:"BTC",quote:"AUD",baseId:"btc",quoteId:"aud"},"ETH/AUD":{id:"eth",symbol:"ETH/AUD",base:"ETH",quote:"AUD",baseId:"eth",quoteId:"aud"},"XRP/AUD":{id:"xrp",symbol:"XRP/AUD",base:"XRP",quote:"AUD",baseId:"xrp",quoteId:"aud"},"LTC/AUD":{id:"ltc",symbol:"LTC/AUD",base:"LTC",quote:"AUD",baseId:"ltc",quoteId:"aud"},"DOGE/AUD":{id:"doge",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD",baseId:"doge",quoteId:"aud"},"RFOX/AUD":{id:"rfox",symbol:"RFOX/AUD",base:"RFOX",quote:"AUD",baseId:"rfox",quoteId:"aud"},"POWR/AUD":{id:"powr",symbol:"POWR/AUD",base:"POWR",quote:"AUD",baseId:"powr",quoteId:"aud"},"NEO/AUD":{id:"neo",symbol:"NEO/AUD",base:"NEO",quote:"AUD",baseId:"neo",quoteId:"aud"},"TRX/AUD":{id:"trx",symbol:"TRX/AUD",base:"TRX",quote:"AUD",baseId:"trx",quoteId:"aud"},"EOS/AUD":{id:"eos",symbol:"EOS/AUD",base:"EOS",quote:"AUD",baseId:"eos",quoteId:"aud"},"XLM/AUD":{id:"xlm",symbol:"XLM/AUD",base:"XLM",quote:"AUD",baseId:"xlm",quoteId:"aud"},"RHOC/AUD":{id:"rhoc",symbol:"RHOC/AUD",base:"RHOC",quote:"AUD",baseId:"rhoc",quoteId:"aud"},"GAS/AUD":{id:"gas",symbol:"GAS/AUD",base:"GAS",quote:"AUD",baseId:"gas",quoteId:"aud"}},commonCurrencies:{DRK:"DASH"},options:{fetchBalance:"private_post_my_balances"}})}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(this.options,"fetchBalance","private_post_my_balances"),i=await this[t](e),r={info:i},s=this.safeValue2(i,"balance","balances");if(Array.isArray(s))for(let n=0;n<s.length;n++){const e=s[n],t=Object.keys(e);for(let i=0;i<t.length;i++){const s=t[i],n=e[s],a=this.safeCurrencyCode(s),o=this.account();o["total"]=this.safeString(n,"balance"),r[a]=o}}else{const e=Object.keys(s);for(let t=0;t<e.length;t++){const i=e[t],n=this.safeCurrencyCode(i),a=this.account();a["total"]=this.safeString(s,i),r[n]=a}}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={cointype:r["id"]},n=await this.privatePostOrders(this.extend(s,i));return this.parseOrderBook(n,e,void 0,"buyorders","sellorders","rate","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetLatest(t);let r=this.marketId(e);r=r.toLowerCase();const s=i["prices"][r],n=this.milliseconds(),a=this.safeNumber(s,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:void 0,low:void 0,bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={cointype:s["id"]},a=await this.privatePostOrdersHistory(this.extend(n,r)),o=this.safeValue(a,"orders",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"rate"),r=this.safeString(e,"amount"),s=this.parseNumber(i),n=this.parseNumber(r);let a=this.safeNumber(e,"total");void 0===a&&(a=this.parseNumber(o.stringMul(i,r)));const c=this.safeInteger(e,"solddate"),d=this.safeString(e,"market"),h=this.safeSymbol(d,t,"/");return{info:e,id:void 0,symbol:h,timestamp:c,datetime:this.iso8601(c),order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:s,amount:n,cost:a,fee:void 0}}async createOrder(e,t,i,r,n,a={}){await this.loadMarkets();const o="privatePostMy"+this.capitalize(i);if("market"===t)throw new s(this.id+" allows limit orders only");const c={cointype:this.marketId(e),amount:r,rate:n};return await this[o](this.extend(c,a))}async cancelOrder(e,t,i={}){const r=this.safeString(i,"side");if("buy"!==r&&"sell"!==r)throw new n(this.id+' cancelOrder() requires a side parameter, "buy" or "sell"');i=this.omit(i,"side");const s="privatePostMy"+this.capitalize(r)+"Cancel",a={id:e};return await this[s](this.extend(a,i))}sign(e,t="public",i="GET",r={},s,n){if(!this.apiKey)throw new a(this.id+" requires apiKey for all requests");const o=this.urls["api"][t]+"/"+e;if("private"===t){this.checkRequiredCredentials();const e=this.nonce();n=this.json(this.extend({nonce:e},r)),s={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}}return{url:o,method:i,body:n,headers:s}}}},"63f9":function(e,t,i){"use strict";const r=i("90db"),{BadRequest:s,AuthenticationError:n,NetworkError:a,ArgumentsRequired:o,OrderNotFound:c,InsufficientFunds:d}=i("74b0"),{TICK_SIZE:h}=i("5ea4"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hollaex",name:"HollaEx",countries:["KR"],rateLimit:333,version:"v2",has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createLimitBuyOrder:!0,createLimitSellOrder:!0,createMarketBuyOrder:!0,createMarketSellOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:"emulated",fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0,fetchDepositAddresses:!0},timeframes:{"1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/75841031-ca375180-5ddd-11ea-8417-b975674c23cb.jpg",api:"https://api.hollaex.com",www:"https://hollaex.com",doc:"https://apidocs.hollaex.com",referral:"https://pro.hollaex.com/signup?affiliation_code=QSWA6G"},precisionMode:h,requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["health","constants","kit","tiers","ticker","tickers","orderbook","orderbooks","trades","chart","charts","udf/config","udf/history","udf/symbols"]},private:{get:["user","user/balance","user/deposits","user/withdrawals","user/withdrawal/fee","user/trades","orders","orders/{order_id}"],post:["user/request-withdrawal","order"],delete:["order/all","order"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001}},exceptions:{broad:{"Invalid token":n,"Order not found":c,"Insufficient balance":d},exact:{400:s,403:n,404:s,405:s,410:s,429:s,500:a,503:a}},options:{"api-expires":parseInt(this.timeout/1e3)}})}async fetchMarkets(e={}){const t=await this.publicGetConstants(e),i=this.safeValue(t,"pairs",{}),r=Object.keys(i),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeString(t,"name"),o=this.safeString(t,"pair_base"),c=this.safeString(t,"pair_2"),d=this.commonCurrencyCode(o.toUpperCase()),h=this.commonCurrencyCode(c.toUpperCase()),u=d+"/"+h,l=this.safeValue(t,"active"),f=this.fees["trading"]["maker"],p=this.fees["trading"]["taker"];s.push({id:a,symbol:u,base:d,quote:h,baseId:o,quoteId:c,active:l,precision:{price:this.safeNumber(t,"increment_price"),amount:this.safeNumber(t,"increment_size")},limits:{amount:{min:this.safeNumber(t,"min_size"),max:this.safeNumber(t,"max_size")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:void 0,max:void 0}},taker:p,maker:f,info:t})}return s}async fetchCurrencies(e={}){const t=await this.publicGetConstants(e),i=this.safeValue(t,"coins",{}),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeString(t,"symbol"),o=this.safeInteger(t,"id"),c=this.safeCurrencyCode(a),d=this.safeString(t,"fullname"),h=this.safeValue(t,"active"),u=this.safeNumber(t,"withdrawal_fee"),l=this.safeNumber(t,"increment_unit"),f=this.safeValue(t,"withdrawal_limits",[]);s[c]={id:a,numericId:o,code:c,info:t,name:d,active:h,fee:u,precision:l,limits:{amount:{min:this.safeNumber(t,"min"),max:this.safeNumber(t,"max")},withdraw:{min:void 0,max:this.safeValue(f,0)}}}}return s}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderbooks(i),s={},n=Object.keys(r);for(let a=0;a<n.length;a++){const e=n[a],t=r[e],i=this.safeSymbol(e,void 0,"-"),o=this.parse8601(this.safeString(t,"timestamp"));s[i]=this.parseOrderBook(r[e],o)}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.marketId(e),s={symbol:r},n=await this.publicGetOrderbooks(this.extend(s,i)),a=this.safeValue(n,r),o=this.parse8601(this.safeString(a,"timestamp"));return this.parseOrderBook(a,e,o)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(this.extend(t));return this.parseTickers(i,e)}parseTickers(e,t,i={}){const r={},s=Object.keys(e);for(let n=0;n<s.length;n++){const t=s[n],a=e[t],o=this.safeString(a,"symbol",t),c=this.safeMarket(o,void 0,"-"),d=c["symbol"];r[d]=this.extend(this.parseTicker(a,c),i)}return this.filterByArray(r,"symbol",t)}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.parse8601(this.safeString2(e,"time","timestamp")),n=this.safeNumber(e,"close"),a={symbol:r,info:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:n,last:this.safeNumber(e,"last",n),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0};return a}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,s["id"],[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"symbol");t=this.safeMarket(i,t,"-");const r=t["symbol"],s=this.safeString(e,"timestamp"),n=this.parse8601(s),a=this.safeString(e,"side"),o=this.safeString(e,"price"),c=this.safeString(e,"size"),d=this.parseNumber(o),h=this.parseNumber(c),l=this.parseNumber(u.stringMul(o,c)),f=this.safeNumber(e,"fee");let p=void 0;if(void 0!==f){const e=t["quote"],i=void 0!==t?t["quote"]:e;p={cost:f,currency:i}}return{info:e,id:void 0,timestamp:n,datetime:s,symbol:r,order:void 0,type:void 0,side:a,takerOrMaker:void 0,price:d,amount:h,cost:l,fee:p}}async fetchOHLCV(e,t="1h",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],resolution:this.timeframes[t]},c=this.parseTimeframe(t);if(void 0===i){if(void 0===r)throw new o(this.id+" fetchOHLCV() requires a 'since' or a 'limit' argument");{const e=this.seconds(),t=e-c*r;a["to"]=e,a["from"]=t}}else if(void 0===r)a["from"]=parseInt(i/1e3),a["to"]=this.seconds();else{const e=parseInt(i/1e3);a["from"]=e,a["to"]=this.sum(e,c*r)}const d=await this.publicGetChart(this.extend(a,s));return this.parseOHLCVs(d,n,t,i,r)}parseOHLCV(e,t,i="1h",r,s){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserBalance(e),i=this.parse8601(this.safeString(t,"updated_at")),r={info:t,timestamp:i,datetime:this.iso8601(i)},s=Object.keys(this.currencies_by_id);for(let n=0;n<s.length;n++){const e=s[n],i=this.safeCurrencyCode(e),a=this.account();a["free"]=this.safeString(t,e+"_available"),a["total"]=this.safeString(t,e+"_balance"),r[i]=a}return this.parseBalance(r,!1)}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrdersOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){const s={open:!0};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"filled"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrders(this.extend(r,i)),n=this.safeValue(s,"data",[]),a=this.safeValue(n,0);if(void 0===a)throw new c(this.id+" fetchOrder() could not find order id "+e);return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["symbol"]=s["id"]),void 0!==t&&(n["start_date"]=this.iso8601(t)),void 0!==i&&(n["limit"]=i);const a=await this.privateGetOrders(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseOrders(o,s,t,i)}parseOrderStatus(e){const t={new:"open",pfilled:"open",filled:"closed",canceled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"size"),h=this.safeNumber(e,"filled"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder({id:s,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:u,symbol:r,type:a,timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,amount:d,filled:h,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={symbol:a["id"],side:i,size:r,type:t};"market"!==t&&(o["price"]=s);const c=this.safeFloat2(n,"stopPrice","stop");void 0!==c&&(o["stop"]=parseFloat(this.priceToPrecision(e,c)),n=this.omit(n,["stopPrice","stop"]));const d=await this.privatePostOrder(this.extend(o,n));return this.parseOrder(d,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateDeleteOrder(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;void 0!==e&&(r=this.market(e),i["symbol"]=r["id"]);const s=await this.privateDeleteOrderAll(this.extend(i,t));return this.parseOrders(s,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["symbol"]=n["id"]),void 0!==i&&(s["limit"]=i),void 0!==t&&(s["start_date"]=this.iso8601(t));const a=await this.privateGetUserTrades(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,n,t,i)}parseDepositAddress(e,t){let i=this.safeString(e,"address"),r=void 0;if(void 0!==i){const e=i.split(":");i=this.safeString(e,0),r=this.safeString(e,1)}this.checkAddress(i);const s=this.safeString(e,"currency");t=this.safeCurrency(s,t);const n=this.safeString(e,"network");return{currency:t["code"],address:i,tag:r,network:n,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=this.safeString(t,"network");t=this.omit(t,"network");const r=await this.privateGetUser(t),s=this.safeValue(r,"wallet",[]),n=void 0===i?s:this.filterBy(s,"network",i);return this.parseDepositAddresses(n,e)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["limit"]=i),void 0!==t&&(s["start_date"]=this.iso8601(t));const a=await this.privateGetUserDeposits(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,n,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["limit"]=i),void 0!==t&&(s["start_date"]=this.iso8601(t));const a=await this.privateGetUserWithdrawals(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,n,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"transaction_id"),s=this.parse8601(this.safeString(e,"created_at")),n=this.parse8601(this.safeString(e,"updated_at")),a=this.safeString(e,"type"),o=this.safeNumber(e,"amount");let c=this.safeString(e,"address"),d=void 0;const h=void 0;let u=void 0,l=void 0;const f=void 0;if(void 0!==c){const e=c.split(":");c=this.safeString(e,0),u=this.safeString(e,1),d=c,l=u}const p=this.safeString(e,"currency"),m=this.safeCurrencyCode(p);let g=this.safeValue(e,"status");const y=this.safeValue(e,"dismissed"),v=this.safeValue(e,"rejected");g=g?"ok":y?"canceled":v?"failed":"pending";const b={currency:m,cost:this.safeNumber(e,"fee")};return{info:e,id:i,txid:r,timestamp:s,datetime:this.iso8601(s),addressFrom:h,address:c,addressTo:d,tagFrom:f,tag:u,tagTo:l,type:a,amount:o,currency:m,status:g,updated:n,fee:b}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);void 0!==r&&(i+=":"+r);const a={currency:n["id"],amount:t,address:i};let o=this.safeString(s,"otp_code");void 0===o&&void 0===this.twofa||(void 0===o&&(o=this.oath()),a["otp_code"]=o);const c=await this.privatePostUserRequestWithdrawal(this.extend(a,s));return{info:c,id:void 0}}sign(e,t="public",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e));e="/"+this.version+"/"+this.implodeParams(e,r),"GET"!==i&&"DELETE"!==i||Object.keys(a).length&&(e+="?"+this.urlencode(a));const o=this.urls["api"]+e;if("private"===t){this.checkRequiredCredentials();const t=this.safeInteger2(this.options,"api-expires","expires",parseInt(this.timeout/1e3)),r=this.sum(this.seconds(),t),o=r.toString();let c=i+e+o;s={"api-key":this.encode(this.apiKey),"api-expires":o},"POST"===i&&(s["Content-type"]="application/json",Object.keys(a).length&&(n=this.json(a),c+=n));const d=this.hmac(this.encode(c),this.encode(this.secret));s["api-signature"]=d}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,c){if(void 0!==a&&e>=400&&e<=503){const t=this.id+" "+n,i=this.safeString(a,"message");this.throwBroadlyMatchedException(this.exceptions["broad"],i,t);const r=e.toString();this.throwExactlyMatchedException(this.exceptions["exact"],r,t)}}}},6405:function(e,t,i){"use strict";var r=i("f0be"),s=i("fee7"),n=i("74d2"),a=s.inherits,o=r.base,c=s.utils.assert;function d(e){o.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(e,t,i,r){o.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,i,r){o.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(i,16),this.z=new n(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(d,o),e.exports=d,d.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);t=s[0].cmp(s[1])<0?s[0]:s[1],t=t.toRed(this.red)}if(e.lambda)i=new n(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?i=a[0]:(i=a[1],c(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return r=e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(i),{beta:t,lambda:i,basis:r}}},d.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),i=new n(2).toRed(t).redInvm(),r=i.redNeg(),s=new n(3).toRed(t).redNeg().redSqrt().redMul(i),a=r.redAdd(s).fromRed(),o=r.redSub(s).fromRed();return[a,o]},d.prototype._getEndoBasis=function(e){var t,i,r,s,a,o,c,d,h,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new n(1),m=new n(0),g=new n(0),y=new n(1),v=0;while(0!==l.cmpn(0)){var b=f.div(l);d=f.sub(b.mul(l)),h=g.sub(b.mul(p));var w=y.sub(b.mul(m));if(!r&&d.cmp(u)<0)t=c.neg(),i=p,r=d.neg(),s=h;else if(r&&2===++v)break;c=d,f=l,l=d,g=p,p=h,y=m,m=w}a=d.neg(),o=h;var S=r.sqr().add(s.sqr()),k=a.sqr().add(o.sqr());return k.cmp(S)>=0&&(a=t,o=i),r.negative&&(r=r.neg(),s=s.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:r,b:s},{a:a,b:o}]},d.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],s=r.b.mul(e).divRound(this.n),n=i.b.neg().mul(e).divRound(this.n),a=s.mul(i.a),o=n.mul(r.a),c=s.mul(i.b),d=n.mul(r.b),h=e.sub(a).sub(o),u=c.add(d).neg();return{k1:h,k2:u}},d.prototype.pointFromX=function(e,t){e=new n(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(t&&!s||!t&&s)&&(r=r.redNeg()),this.point(e,r)},d.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(s).cmpn(0)},d.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,s=this._endoWnafT2,n=0;n<e.length;n++){var a=this._endoSplit(t[n]),o=e[n],c=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[2*n]=o,r[2*n+1]=c,s[2*n]=a.k1,s[2*n+1]=a.k2}for(var d=this._wnafMulAdd(1,r,s,2*n,i),h=0;h<2*n;h++)r[h]=null,s[h]=null;return d},a(h,o.BasePoint),d.prototype.point=function(e,t,i){return new h(this,e,t,i)},d.prototype.pointFromJSON=function(e,t){return h.fromJSON(this,e,t)},h.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(e,t,i){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],i);if(!t[2])return r;function s(t){return e.point(t[0],t[1],i)}var n=t[2];return r.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[r].concat(n.doubles.points.map(s))},naf:n.naf&&{wnd:n.naf.wnd,points:[r].concat(n.naf.points.map(s))}},r},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},h.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),n=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(e){return e=new n(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s):this.curve._wnafMulAdd(1,r,s,2)},h.prototype.jmulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s,!0):this.curve._wnafMulAdd(1,r,s,2,!0)},h.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},h.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},h.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},a(u,o.BasePoint),d.prototype.jpoint=function(e,t,i){return new u(this,e,t,i)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),s=e.x.redMul(i),n=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),o=r.redSub(s),c=n.redSub(a);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=o.redSqr(),h=d.redMul(o),u=r.redMul(d),l=c.redSqr().redIAdd(h).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(n.redMul(h)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),s=this.y,n=e.y.redMul(t).redMul(this.z),a=i.redSub(r),o=s.redSub(n);if(0===a.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),h=i.redMul(c),u=o.redSqr().redIAdd(d).redISub(h).redISub(h),l=o.redMul(h.redISub(u)).redISub(s.redMul(d)),f=this.z.redMul(a);return this.curve.jpoint(u,l,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var r=this.curve.a,s=this.curve.tinv,n=this.x,a=this.y,o=this.z,c=o.redSqr().redSqr(),d=a.redAdd(a);for(i=0;i<e;i++){var h=n.redSqr(),u=d.redSqr(),l=u.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(c)),p=n.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(l);var v=d.redMul(o);i+1<e&&(c=c.redMul(l)),n=m,o=v,d=y}return this.curve.jpoint(n,d.redMul(s),o)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(r).redISub(n);a=a.redIAdd(a);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(a).redISub(a),d=n.redIAdd(n);d=d.redIAdd(d),d=d.redIAdd(d),e=c,t=o.redMul(a.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(h).redISub(l);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=l.redIAdd(l);g=g.redIAdd(g),g=g.redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)},u.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(r).redISub(n);a=a.redIAdd(a);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(a).redISub(a);e=c;var d=n.redIAdd(n);d=d.redIAdd(d),d=d.redIAdd(d),t=o.redMul(a.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l);p=p.redIAdd(p);var m=p.redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);var g=u.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,s=r.redSqr().redSqr(),n=t.redSqr(),a=i.redSqr(),o=n.redAdd(n).redIAdd(n).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var d=c.redMul(a),h=o.redSqr().redISub(d.redAdd(d)),u=d.redISub(h),l=a.redSqr();l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var f=o.redMul(u).redISub(l),p=i.redAdd(i).redMul(r);return this.curve.jpoint(h,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),s=e.redAdd(e).redIAdd(e),n=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(n);var o=a.redSqr(),c=r.redIAdd(r);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=s.redIAdd(a).redSqr().redISub(n).redISub(o).redISub(c),h=t.redMul(d);h=h.redIAdd(h),h=h.redIAdd(h);var u=this.x.redMul(o).redISub(h);u=u.redIAdd(u),u=u.redIAdd(u);var l=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(o)));l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var f=this.z.redAdd(a).redSqr().redISub(i).redISub(o);return this.curve.jpoint(u,l,f)},u.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),s=i.redMul(e.z);return 0===this.y.redMul(s).redISub(e.y.redMul(r)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),s=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),0===this.x.cmp(i))return!0}return!1},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6497:function(e,t,i){(function(t,r,s){var n=i("5259"),a=i("0633"),o=e.exports=n.util=n.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function d(e){if(this.data="",this.read=0,"string"===typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e))if("undefined"!==typeof s&&e instanceof s)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(r){for(var i=0;i<t.length;++i)this.putByte(t[i])}}else(e instanceof d||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}(function(){if("undefined"!==typeof t&&t.nextTick&&!t.browser)return o.nextTick=t.nextTick,void("function"===typeof setImmediate?o.setImmediate=setImmediate:o.setImmediate=o.nextTick);if("function"===typeof setImmediate)return o.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(o.nextTick=function(e){return setImmediate(e)});if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!==typeof window&&"function"===typeof window.postMessage){var e="forge.setImmediate",i=[];function r(t){if(t.source===window&&t.data===e){t.stopPropagation();var r=i.slice();i.length=0,r.forEach((function(e){e()}))}}o.setImmediate=function(t){i.push(t),1===i.length&&window.postMessage(e,"*")},window.addEventListener("message",r,!0)}if("undefined"!==typeof MutationObserver){var s=Date.now(),n=!0,a=document.createElement("div");i=[];new MutationObserver((function(){var e=i.slice();i.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var c=o.setImmediate;o.setImmediate=function(e){Date.now()-s>15?(s=Date.now(),c(e)):(i.push(e),1===i.length&&a.setAttribute("a",n=!n))}}o.nextTick=o.setImmediate})(),o.isNodejs="undefined"!==typeof t&&t.versions&&t.versions.node,o.globalScope=function(){return o.isNodejs?r:"undefined"===typeof self?window:self}(),o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},o.ByteBuffer=d,o.ByteStringBuffer=d;var h=4096;function u(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var i=o.isArrayBuffer(e),r=o.isArrayBufferView(e);if(i||r)return this.data=i?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>h&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);var i=this.data;while(t>0)1&t&&(i+=e),t>>>=1,t>0&&(e+=e);return this.data=i,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var i="";do{t-=8,i+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(i)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),i=2<<e-2;return t>=i&&(t-=i<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var i=this.data.charCodeAt(t);i<16&&(e+="0"),e+=i.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=u,o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var i=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(i),this.data=new DataView(r.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var i=0;i<t;++i)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=i.byteLength-i.byteOffset;this.accommodate(r);var s=new Uint8Array(this.data.buffer,this.write);return s.set(i),this.write+=r,this}if(o.isArrayBuffer(e)){i=new Uint8Array(e);this.accommodate(i.byteLength);s=new Uint8Array(this.data.buffer);return s.set(i,this.write),this.write+=i.byteLength,this}if(e instanceof o.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&o.isArrayBufferView(e.data)){i=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(i.byteLength);s=new Uint8Array(e.data.byteLength,this.write);return s.set(i),this.write+=i.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"===typeof e){var n;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),n=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,n,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),n=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,n,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),n=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(n),this;if("utf16"===t)return this.accommodate(2*e.length),n=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(n),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),i=2<<e-2;return t>=i&&(t-=i<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var i=this.data.getUint8(t);i<16&&(e+="0"),e+=i.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8","binary"===e||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){var i="";while(t>0)1&t&&(i+=e),t>>>=1,t>0&&(e+=e);return i},o.xorBytes=function(e,t,i){for(var r="",s="",n="",a=0,o=0;i>0;--i,++a)s=e.charCodeAt(a)^t.charCodeAt(a),o>=10&&(r+=n,n="",o=0),n+=String.fromCharCode(s),++o;return r+=n,r},o.hexToBytes=function(e){var t="",i=0;for(!0&e.length&&(i=1,t+=String.fromCharCode(parseInt(e[0],16)));i<e.length;i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";o.encode64=function(e,t){var i,r,s,n="",a="",o=0;while(o<e.length)i=e.charCodeAt(o++),r=e.charCodeAt(o++),s=e.charCodeAt(o++),n+=l.charAt(i>>2),n+=l.charAt((3&i)<<4|r>>4),isNaN(r)?n+="==":(n+=l.charAt((15&r)<<2|s>>6),n+=isNaN(s)?"=":l.charAt(63&s)),t&&n.length>t&&(a+=n.substr(0,t)+"\r\n",n=n.substr(t));return a+=n,a},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t,i,r,s,n="",a=0;while(a<e.length)t=f[e.charCodeAt(a++)-43],i=f[e.charCodeAt(a++)-43],r=f[e.charCodeAt(a++)-43],s=f[e.charCodeAt(a++)-43],n+=String.fromCharCode(t<<2|i>>4),64!==r&&(n+=String.fromCharCode((15&i)<<4|r>>2),64!==s&&(n+=String.fromCharCode((3&r)<<6|s)));return n},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,i){var r=t;r||(r=new Uint8Array(e.length)),i=i||0;for(var s=i,n=0;n<e.length;++n)r[s++]=e.charCodeAt(n);return t?s-i:r},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,i){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2))),i=i||0;var s=0,n=i;for(1&e.length&&(s=1,r[n++]=parseInt(e[0],16));s<e.length;s+=2)r[n++]=parseInt(e.substr(s,2),16);return t?n-i:r},o.binary.base64.encode=function(e,t){var i,r,s,n="",a="",o=0;while(o<e.byteLength)i=e[o++],r=e[o++],s=e[o++],n+=l.charAt(i>>2),n+=l.charAt((3&i)<<4|r>>4),isNaN(r)?n+="==":(n+=l.charAt((15&r)<<2|s>>6),n+=isNaN(s)?"=":l.charAt(63&s)),t&&n.length>t&&(a+=n.substr(0,t)+"\r\n",n=n.substr(t));return a+=n,a},o.binary.base64.decode=function(e,t,i){var r,s,n,a,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=i||0;var c=0,d=i;while(c<e.length)r=f[e.charCodeAt(c++)-43],s=f[e.charCodeAt(c++)-43],n=f[e.charCodeAt(c++)-43],a=f[e.charCodeAt(c++)-43],o[d++]=r<<2|s>>4,64!==n&&(o[d++]=(15&s)<<4|n>>2,64!==a&&(o[d++]=(3&n)<<6|a));return t?d-i:o.subarray(0,d)},o.binary.base58.encode=function(e,t){return o.binary.baseN.encode(e,p,t)},o.binary.base58.decode=function(e,t){return o.binary.baseN.decode(e,p,t)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,i){e=o.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length)),i=i||0;for(var s=i,n=0;n<e.length;++n)r[s++]=e.charCodeAt(n);return t?s-i:r},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,i){var r=t;r||(r=new Uint8Array(2*e.length));var s=new Uint16Array(r.buffer);i=i||0;for(var n=i,a=i,o=0;o<e.length;++o)s[a++]=e.charCodeAt(o),n+=2;return t?n-i:r},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,i){if(t=o.decode64(e.deflate(o.encode64(t)).rval),i){var r=2,s=t.charCodeAt(1);32&s&&(r=6),t=t.substring(r,t.length-4)}return t},o.inflate=function(e,t,i){var r=e.inflate(o.encode64(t)).rval;return null===r?null:o.decode64(r)};var m=function(e,t,i){if(!e)throw new Error("WebStorage not available.");var r;if(null===i?r=e.removeItem(t):(i=o.encode64(JSON.stringify(i)),r=e.setItem(t,i)),"undefined"!==typeof r&&!0!==r.rval){var s=new Error(r.error.message);throw s.id=r.error.id,s.name=r.error.name,s}},g=function(e,t){if(!e)throw new Error("WebStorage not available.");var i=e.getItem(t);if(e.init)if(null===i.rval){if(i.error){var r=new Error(i.error.message);throw r.id=i.error.id,r.name=i.error.name,r}i=null}else i=i.rval;return null!==i&&(i=JSON.parse(o.decode64(i))),i},y=function(e,t,i,r){var s=g(e,t);null===s&&(s={}),s[i]=r,m(e,t,s)},v=function(e,t,i){var r=g(e,t);return null!==r&&(r=i in r?r[i]:null),r},b=function(e,t,i){var r=g(e,t);if(null!==r&&i in r){delete r[i];var s=!0;for(var n in r){s=!1;break}s&&(r=null),m(e,t,r)}},w=function(e,t){m(e,t,null)},S=function(e,t,i){var r,s=null;"undefined"===typeof i&&(i=["web","flash"]);var n=!1,a=null;for(var o in i){r=i[o];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");s=e.apply(this,t),n="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,s=e.apply(this,t),n=!0)}catch(c){a=c}if(n)break}if(!n)throw a;return s};o.setItem=function(e,t,i,r,s){S(y,arguments,s)},o.getItem=function(e,t,i,r){return S(v,arguments,r)},o.removeItem=function(e,t,i,r){S(b,arguments,r)},o.clearItems=function(e,t,i){S(w,arguments,i)},o.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var i=t.exec(e),r=null===i?null:{full:e,scheme:i[1],host:i[2],port:i[3],path:i[4]};return r&&(r.fullHost=r.host,r.port?(80!==r.port&&"http"===r.scheme||443!==r.port&&"https"===r.scheme)&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var k=null;o.getQueryVariables=function(e){var t,i=function(e){for(var t={},i=e.split("&"),r=0;r<i.length;r++){var s,n,a=i[r].indexOf("=");a>0?(s=i[r].substring(0,a),n=i[r].substring(a+1)):(s=i[r],n=null),s in t||(t[s]=[]),s in Object.prototype||null===n||t[s].push(unescape(n))}return t};return"undefined"===typeof e?(null===k&&(k="undefined"!==typeof window&&window.location&&window.location.search?i(window.location.search.substring(1)):{}),t=k):t=i(e),t},o.parseFragment=function(e){var t=e,i="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),i=e.substring(r+1));var s=t.split("/");s.length>0&&""===s[0]&&s.shift();var n=""===i?{}:o.getQueryVariables(i);return{pathString:t,queryString:i,path:s,query:n}},o.makeRequest=function(e){var t=o.parseFragment(e),i={path:t.pathString,query:t.queryString,getPath:function(e){return"undefined"===typeof e?t.path:t.path[e]},getQuery:function(e,i){var r;return"undefined"===typeof e?r=t.query:(r=t.query[e],r&&"undefined"!==typeof i&&(r=r[i])),r},getQueryLast:function(e,t){var r,s=i.getQuery(e);return r=s?s[s.length-1]:t,r}};return i},o.makeLink=function(e,t,i){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return i=i||"",e+(r.length>0?"?"+r:"")+(i.length>0?"#"+i:"")},o.setPath=function(e,t,i){if("object"===typeof e&&null!==e){var r=0,s=t.length;while(r<s){var n=t[r++];if(r==s)e[n]=i;else{var a=n in e;(!a||a&&"object"!==typeof e[n]||a&&null===e[n])&&(e[n]={}),e=e[n]}}}},o.getPath=function(e,t,i){var r=0,s=t.length,n=!0;while(n&&r<s&&"object"===typeof e&&null!==e){var a=t[r++];n=a in e,n&&(e=e[a])}return n?e:i},o.deletePath=function(e,t){if("object"===typeof e&&null!==e){var i=0,r=t.length;while(i<r){var s=t[i++];if(i==r)delete e[s];else{if(!(s in e)||"object"!==typeof e[s]||null===e[s])break;e=e[s]}}}},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){var t,i,r=/%./g,s=0,n=[],a=0;while(t=r.exec(e)){i=e.substring(a,r.lastIndex-2),i.length>0&&n.push(i),a=r.lastIndex;var o=t[0][1];switch(o){case"s":case"o":s<arguments.length?n.push(arguments[1+s++]):n.push("<?>");break;case"%":n.push("%");break;default:n.push("<%"+o+"?>")}}return n.push(e.substring(a)),n.join("")},o.formatNumber=function(e,t,i,r){var s=e,n=isNaN(t=Math.abs(t))?2:t,a=void 0===i?",":i,o=void 0===r?".":r,c=s<0?"-":"",d=parseInt(s=Math.abs(+s||0).toFixed(n),10)+"",h=d.length>3?d.length%3:0;return c+(h?d.substr(0,h)+o:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)+(n?a+Math.abs(s-d).toFixed(n).slice(2):"")},o.formatSize=function(e){return e=e>=1073741824?o.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes",e},o.bytesFromIP=function(e){return-1!==e.indexOf(".")?o.bytesFromIPv4(e):-1!==e.indexOf(":")?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(e=e.split("."),4!==e.length)return null;for(var t=o.createBuffer(),i=0;i<e.length;++i){var r=parseInt(e[i],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},o.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}));for(var i=2*(8-e.length+t),r=o.createBuffer(),s=0;s<8;++s)if(e[s]&&0!==e[s].length){var n=o.hexToBytes(e[s]);n.length<2&&r.putByte(0),r.putBytes(n)}else r.fillWithByte(0,i),i=0;return r.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],i=[],r=0,s=0;s<e.length;s+=2){var n=o.bytesToHex(e[s]+e[s+1]);while("0"===n[0]&&"0"!==n)n=n.substr(1);if("0"===n){var a=i[i.length-1],c=t.length;a&&c===a.end+1?(a.end=c,a.end-a.start>i[r].end-i[r].start&&(r=i.length-1)):i.push({start:c,end:c})}t.push(n)}if(i.length>0){var d=i[r];d.end-d.start>0&&(t.splice(d.start,d.end-d.start+1,""),0===d.start&&t.unshift(""),7===d.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){if("function"===typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"===typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"===typeof Blob)return o.cores=2,t(null,o.cores);var i=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now(),i=t+4;while(Date.now()<i);self.postMessage({st:t,et:i})}))}.toString(),")()"],{type:"application/javascript"}));function r(e,a,c){if(0===a){var d=Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length);return o.cores=Math.max(1,d),URL.revokeObjectURL(i),t(null,o.cores)}s(c,(function(t,i){e.push(n(c,i)),r(e,a-1,c)}))}function s(e,t){for(var r=[],s=[],n=0;n<e;++n){var a=new Worker(i);a.addEventListener("message",(function(i){if(s.push(i.data),s.length===e){for(var n=0;n<e;++n)r[n].terminate();t(null,s)}})),r.push(a)}for(n=0;n<e;++n)r[n].postMessage(n)}function n(e,t){for(var i=[],r=0;r<e;++r)for(var s=t[r],n=i[r]=[],a=0;a<e;++a)if(r!==a){var o=t[a];(s.st>o.st&&s.st<o.et||o.st>s.st&&o.st<s.et)&&n.push(a)}return i.reduce((function(e,t){return Math.max(e,t.length)}),0)}r([],5,16)}}).call(this,i("4362"),i("c8ba"),i("b639").Buffer)},"64eb":function(e,t,i){var r=i("00b3"),s=i("70ea"),n=i("5a7c"),a=i("afc2"),o=n((function(e,t){return 1===e?s(t):r(e,a(e,[],t))}));e.exports=o},6544:function(e,t){e.exports=function(e,t){var i="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var r in"function"===typeof e.exports&&(i.components=e.exports.options.components),i.components=i.components||{},t)i.components[r]=i.components[r]||t[r]}},6547:function(e,t,i){var r=i("a691"),s=i("1d80"),n=function(e){return function(t,i){var n,a,o=String(s(t)),c=r(i),d=o.length;return c<0||c>=d?e?"":void 0:(n=o.charCodeAt(c),n<55296||n>56319||c+1===d||(a=o.charCodeAt(c+1))<56320||a>57343?e?o.charAt(c):n:e?o.slice(c,c+2):a-56320+(n-55296<<10)+65536)}};e.exports={codeAt:n(!1),charAt:n(!0)}},6566:function(e,t,i){"use strict";var r=i("9bf2").f,s=i("7c73"),n=i("e2cc"),a=i("0366"),o=i("19aa"),c=i("2266"),d=i("7dd0"),h=i("2626"),u=i("83ab"),l=i("f183").fastKey,f=i("69f3"),p=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,i,d){var h=e((function(e,r){o(e,h,t),p(e,{type:t,index:s(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=r&&c(r,e[d],{that:e,AS_ENTRIES:i})})),f=m(t),g=function(e,t,i){var r,s,n=f(e),a=y(e,t);return a?a.value=i:(n.last=a={index:s=l(t,!0),key:t,value:i,previous:r=n.last,next:void 0,removed:!1},n.first||(n.first=a),r&&(r.next=a),u?n.size++:e.size++,"F"!==s&&(n.index[s]=a)),e},y=function(e,t){var i,r=f(e),s=l(t);if("F"!==s)return r.index[s];for(i=r.first;i;i=i.next)if(i.key==t)return i};return n(h.prototype,{clear:function(){var e=this,t=f(e),i=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete i[r.index],r=r.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,i=f(t),r=y(t,e);if(r){var s=r.next,n=r.previous;delete i.index[r.index],r.removed=!0,n&&(n.next=s),s&&(s.previous=n),i.first==r&&(i.first=s),i.last==r&&(i.last=n),u?i.size--:t.size--}return!!r},forEach:function(e){var t,i=f(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:i.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),n(h.prototype,i?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),u&&r(h.prototype,"size",{get:function(){return f(this).size}}),h},setStrong:function(e,t,i){var r=t+" Iterator",s=m(t),n=m(r);d(e,t,(function(e,t){p(this,{type:r,target:e,state:s(e),kind:t,last:void 0})}),(function(){var e=n(this),t=e.kind,i=e.last;while(i&&i.removed)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),h(t)}}},"65f0":function(e,t,i){var r=i("861d"),s=i("e8b5"),n=i("b622"),a=n("species");e.exports=function(e,t){var i;return s(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?r(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},6624:function(e,t,i){"use strict";const r=i("90db"),{AddressPending:s,AuthenticationError:n,ExchangeError:a,NotSupported:o,PermissionDenied:c,ArgumentsRequired:d}=i("74b0"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"buda",name:"Buda",countries:["AR","CL","CO","PE"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTrades:!0,fetchTicker:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47380619-8a029200-d706-11e8-91e0-8a391fe48de3.jpg",api:"https://www.buda.com/api",www:"https://www.buda.com",doc:"https://api.buda.com",fees:"https://www.buda.com/comisiones"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},api:{public:{get:["pairs","markets","currencies","markets/{market}","markets/{market}/ticker","markets/{market}/volume","markets/{market}/order_book","markets/{market}/trades","currencies/{currency}/fees/deposit","currencies/{currency}/fees/withdrawal","tv/history"],post:["markets/{market}/quotations"]},private:{get:["balances","balances/{currency}","currencies/{currency}/balances","orders","orders/{id}","markets/{market}/orders","deposits","currencies/{currency}/deposits","withdrawals","currencies/{currency}/withdrawals","currencies/{currency}/receive_addresses","currencies/{currency}/receive_addresses/{id}"],post:["markets/{market}/orders","currencies/{currency}/deposits","currencies/{currency}/withdrawals","currencies/{currency}/simulated_withdrawals","currencies/{currency}/receive_addresses"],put:["orders/{id}"]}},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","2h":"120","1d":"D","1w":"W"},fees:{trading:{tierBased:!0,percentage:!0,taker:.008,maker:.004,tiers:{taker:[[0,.008],[2e3,.007],[2e4,.006],[1e5,.005],[5e5,.004],[25e5,.003],[125e5,.002]],maker:[[0,.004],[2e3,.0035],[2e4,.003],[1e5,.0025],[5e5,.002],[25e5,.0015],[125e5,.001]]}}},exceptions:{not_authorized:n,forbidden:c,invalid_record:a,not_found:a,parameter_missing:a,bad_parameter:a}})}async fetchCurrencyInfo(e,t){if(!t){const e=await this.publicGetCurrencies();t=this.safeValue(e,"currencies")}for(let i=0;i<t.length;i++){const r=t[i];if(r["id"]===e)return r}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"markets"),r=await this.publicGetCurrencies(),s=this.safeValue(r,"currencies"),n=[];for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString(e,"id"),r=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(r),d=this.safeCurrencyCode(o),h=await this.fetchCurrencyInfo(r,s),u=await this.fetchCurrencyInfo(o,s),l=c+"/"+d,f=this.safeString(u,"input_decimals"),p=this.parsePrecision(f),m={amount:this.safeInteger(h,"input_decimals"),price:parseInt(f)},g=this.safeValue(e,"minimum_order_amount",[]),y={amount:{min:this.safeNumber(g,0),max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}};n.push({id:t,symbol:l,base:c,quote:d,baseId:r,quoteId:o,active:!0,precision:m,limits:y,info:e})}return n}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(),i=t["currencies"],r={};for(let s=0;s<i.length;s++){const e=i[s];if(!e["managed"])continue;const t=this.safeString(e,"id"),n=this.safeCurrencyCode(t),a=this.safeNumber(e,"input_decimals"),o=Math.pow(10,-a);r[n]={id:t,code:n,info:e,name:void 0,active:!0,fee:void 0,precision:a,limits:{amount:{min:o,max:void 0},deposit:{min:parseFloat(e["deposit_minimum"][0]),max:void 0},withdraw:{min:parseFloat(e["withdrawal_minimum"][0])}}}}return r}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},r={},s={};void 0===e&&(e=Object.keys(this.currencies));for(let n=0;n<e.length;n++){const t=e[n],a=this.currency(t),o={currency:a["id"]},c=await this.publicGetCurrenciesCurrencyFeesWithdrawal(o),d=await this.publicGetCurrenciesCurrencyFeesDeposit(o);i[t]=this.parseFundingFee(c["fee"]),r[t]=this.parseFundingFee(d["fee"]),s[t]={withdraw:c,deposit:d}}return{withdraw:i,deposit:r,info:s}}parseFundingFee(e,t){return void 0===t&&(t=e["name"]),"withdrawal"===t&&(t="withdraw"),{type:t,currency:e["base"][1],rate:e["percent"],cost:parseFloat(e["base"][0])}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetMarketsMarketTicker(this.extend(r,t)),n=this.safeValue(s,"ticker");return this.parseTicker(n,i)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t["symbol"]);const s=parseFloat(e["last_price"][0]),n=parseFloat(e["price_variation_24h"]),a=parseFloat(this.priceToPrecision(r,s/(n+1))),o=s-a,c=this.sum(s,a)/2;return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:parseFloat(e["max_bid"][0]),bidVolume:void 0,ask:parseFloat(e["min_ask"][0]),askVolume:void 0,vwap:void 0,open:a,close:s,last:s,previousClose:a,change:o,percentage:100*n,average:c,baseVolume:parseFloat(e["volume"][0]),quoteVolume:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetMarketsMarketTrades(this.extend(n,r));return this.parseTrades(a["trades"]["entries"],s,t,i)}parseTrade(e,t){let i=void 0,r=void 0;const s=void 0;let n=void 0,a=void 0,o=void 0;const c=void 0,d=void 0;let u=void 0;t&&(u=t["symbol"]),Array.isArray(e)&&(i=this.safeInteger(e,0),n=this.safeString(e,1),a=this.safeString(e,2),r=this.safeString(e,3),o=this.safeString(e,4));const l=this.parseNumber(n),f=this.parseNumber(a),p=this.parseNumber(h.stringMul(n,a));return{id:o,order:c,info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,type:s,side:r,takerOrMaker:void 0,price:l,amount:f,cost:p,fee:d}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]},n=await this.publicGetMarketsMarketOrderBook(this.extend(s,i)),a=this.safeValue(n,"order_book");return this.parseOrderBook(a,e)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e);void 0===i&&(i=this.milliseconds()-864e5);const a={symbol:n["id"],resolution:this.timeframes[t],from:i/1e3,to:this.seconds()},o=await this.publicGetTvHistory(this.extend(a,s));return this.parseTradingViewOHLCV(o,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},r=this.safeValue(t,"balances");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"id"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e["available_amount"],0),a["total"]=this.safeString(e["amount"],0),i[n]=a}return this.parseBalance(i,!1)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e)},s=await this.privateGetOrdersId(this.extend(r,i)),n=this.safeValue(s,"order");return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n={market:s["id"],per:i},a=await this.privateGetMarketsMarketOrders(this.extend(n,r)),o=this.safeValue(a,"orders");return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={state:"pending"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={state:"traded"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets(),i="buy"===i?"Bid":"Ask";const a={market:this.marketId(e),price_type:t,type:i,amount:this.amountToPrecision(e,r)};"limit"===t&&(a["limit"]=this.priceToPrecision(e,s));const o=await this.privatePostMarketsMarketOrders(this.extend(a,n)),c=this.safeValue(o,"order");return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e),state:"canceling"},s=await this.privatePutOrdersId(this.extend(r,i)),n=this.safeValue(s,"order");return this.parseOrder(n)}parseOrderStatus(e){const t={traded:"closed",received:"open",canceling:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"market_id"),n=this.safeSymbol(s,t,"-"),a=this.safeString(e,"price_type"),o=this.safeStringLower(e,"type"),c=this.parseOrderStatus(this.safeString(e,"state")),d=this.safeValue(e,"original_amount",[]),h=this.safeNumber(d,0),u=this.safeValue(e,"amount",[]),l=this.safeNumber(u,0),f=this.safeValue(e,"traded_amount",[]),p=this.safeNumber(f,0),m=this.safeValue(e,"totalExchanged",[]),g=this.safeNumber(m,0),y=this.safeValue(e,"limit",[]);let v=this.safeNumber(y,0);void 0===v&&void 0!==y&&(v=y);const b=this.safeValue(e,"paid_fee",[]),w=this.safeNumber(b,0);let S=void 0;if(void 0!==w){const e=this.safeString(b,1),t=this.safeCurrencyCode(e);S={cost:w,code:t}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:c,symbol:n,type:a,timeInForce:void 0,postOnly:void 0,side:o,price:v,stopPrice:void 0,average:void 0,cost:g,amount:h,filled:p,remaining:l,trades:void 0,fee:S})}isFiat(e){const t={ARS:!0,CLP:!0,COP:!0,PEN:!0};return this.safeValue(t,e,!1)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+" fetchDepositAddress() for fiat "+e+" is not supported");const r={currency:i["id"]},n=await this.privateGetCurrenciesCurrencyReceiveAddresses(this.extend(r,t)),a=this.safeValue(n,"receive_addresses"),c=[];for(let s=1;s<a.length;s++){const e=a[s];if(e["ready"]){const t=e["address"];this.checkAddress(t),c.push(t)}}const d=c.length;if(d<1)throw new s(this.id+": there are no addresses ready for receiving "+e+", retry again later)");const h=c[0];return{currency:e,address:h,tag:void 0,info:a}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+": fiat fetchDepositAddress() for "+e+" is not supported");const r={currency:i["id"]},s=await this.privatePostCurrenciesCurrencyReceiveAddresses(this.extend(r,t)),n=this.safeString(s["receive_address"],"address");return{currency:e,address:n,tag:void 0,info:s}}parseTransactionStatus(e){const t={rejected:"failed",confirmed:"ok",anulled:"canceled",retained:"canceled",pending_confirmation:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s,t),a=parseFloat(e["amount"][0]),o=parseFloat(e["fee"][0]),c=e["fee"][1],d=this.parseTransactionStatus(this.safeString(e,"state")),h="deposit_data"in e?"deposit":"withdrawal",u=this.safeValue(e,h+"_data",{}),l=this.safeValue(u,"target_address"),f=this.safeString(u,"tx_hash"),p=this.parse8601(this.safeString(u,"updated_at"));return{info:e,id:i,txid:f,timestamp:r,datetime:this.iso8601(r),address:l,type:h,amount:a,currency:n,status:d,updated:p,fee:{cost:o,rate:c}}}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new d(this.id+": fetchDeposits() requires a currency code argument");const s=this.currency(e),n={currency:s["id"],per:i},a=await this.privateGetCurrenciesCurrencyDeposits(this.extend(n,r)),o=this.safeValue(a,"deposits");return this.parseTransactions(o,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new d(this.id+": fetchDeposits() requires a currency code argument");const s=this.currency(e),n={currency:s["id"],per:i},a=await this.privateGetCurrenciesCurrencyWithdrawals(this.extend(n,r)),o=this.safeValue(a,"withdrawals");return this.parseTransactions(o,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],amount:t,withdrawal_data:{target_address:i}},o=await this.privatePostCurrenciesCurrencyWithdrawals(this.extend(a,s)),c=this.safeValue(o,"withdrawal");return this.parseTransaction(c)}nonce(){return this.microseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));Object.keys(o).length&&("GET"===i?a+="?"+this.urlencode(o):n=this.json(o));const c=this.urls["api"]+"/"+this.version+"/"+a;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=[i,"/api/"+this.version+"/"+a];if(n){const e=this.stringToBase64(n);t.push(this.decode(e))}t.push(e);const r=t.join(" "),o=this.hmac(this.encode(r),this.encode(this.secret),"sha384");s={"X-SBTC-APIKEY":this.apiKey,"X-SBTC-SIGNATURE":o,"X-SBTC-NONCE":e,"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0!==o&&e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message",n),i=this.id+" "+t;if(void 0!==e)throw this.throwExactlyMatchedException(this.exceptions,e,i),new a(i)}}}},"66b0":function(e,t,i){var r=i("5259");i("6497");var s=e.exports=r.pem=r.pem||{};function n(e){for(var t=e.name+": ",i=[],r=function(e,t){return" "+t},s=0;s<e.values.length;++s)i.push(e.values[s].replace(/^(\S+\r\n)/,r));t+=i.join(",")+"\r\n";var n=0,a=-1;for(s=0;s<t.length;++s,++n)if(n>65&&-1!==a){var o=t[a];","===o?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+o+t.substr(a+1),n=s-a-1,a=-1,++s}else" "!==t[s]&&"\t"!==t[s]&&","!==t[s]||(a=s);return t}function a(e){return e.replace(/^\s+/,"")}s.encode=function(e,t){t=t||{};var i,s="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},s+=n(i)),e.contentDomain&&(i={name:"Content-Domain",values:[e.contentDomain]},s+=n(i)),e.dekInfo&&(i={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&i.values.push(e.dekInfo.parameters),s+=n(i)),e.headers)for(var a=0;a<e.headers.length;++a)s+=n(e.headers[a]);return e.procType&&(s+="\r\n"),s+=r.util.encode64(e.body,t.maxline||64)+"\r\n",s+="-----END "+e.type+"-----\r\n",s},s.decode=function(e){var t,i=[],s=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;while(1){if(t=s.exec(e),!t)break;var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(t[3])};if(i.push(c),t[2]){var d=t[2].split(o),h=0;while(t&&h<d.length){for(var u=d[h].replace(/\s+$/,""),l=h+1;l<d.length;++l){var f=d[l];if(!/\s/.test(f[0]))break;u+=f,h=l}if(t=u.match(n),t){for(var p={name:t[1],values:[]},m=t[2].split(","),g=0;g<m.length;++g)p.values.push(a(m[g]));if(c.procType)if(c.contentDomain||"Content-Domain"!==p.name)if(c.dekInfo||"DEK-Info"!==p.name)c.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:m[0],parameters:m[1]||null}}else c.contentDomain=m[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:m[0],type:m[1]}}}++h}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===i.length)throw new Error("Invalid PEM formatted message.");return i}},"66c7":function(e,t,i){"use strict";const{sleep:r,now:s}=i("aef9");e.exports={throttle:function e(t){let i=s(),n=void 0!==t.numTokens?t.numTokens:t.capacity,a=!1;const o=[];return Object.assign((e,c)=>{if(o.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new Promise(async(d,h)=>{try{if(o.push({cost:c,resolve:d,reject:h}),!a){a=!0;while(o.length>0){const a=t.capacity?n>0:n>=0;if(a&&o.length>0){let{cost:e,resolve:i,reject:r}=o[0];e=e||t.defaultCost,n>=Math.min(e,t.capacity)&&(n-=e,o.shift(),i())}const c=s(),d=c-i;i=c,n=Math.min(t.capacity,n+d*(1/e)),await r(t.delay)}a=!1}}catch(u){h(u)}})},t,{configure:i=>e(Object.assign({},t,i))})}}},"66cb":function(e,t,i){"use strict";const r=i("f4c8"),{capitalize:s}=i("a9b0"),{stringToBase64:n,urlencodeBase64:a}=i("39f1"),o=i("75b3"),{binaryToBase58:c,byteArrayToWordArray:d}=i("39f1"),h=i("fee7"),u=h.ec,l=h.eddsa,{ArgumentsRequired:f}=i("74b0"),p=i("74d2"),m=(e,t="md5",i="hex")=>{const n={};"keccak"===t&&(t="SHA3",n["outputLength"]=256);const a=r[t.toUpperCase()](e,n);return"binary"===i?a:a.toString(r.enc[s(i)])},g=(e,t,i="sha256",n="hex")=>{const a=r["Hmac"+i.toUpperCase()](e,t);if(n){const e="binary"===n?"Latin1":s(n);return a.toString(r.enc[s(e)])}return a};function y(e,t,i="RS256"){const r={RS256:"pkcs1-sha256",RS512:"pkcs1-sha512"};if(!(i in r))throw new ExchangeError(i+" is not a supported rsa signing algorithm.");const s=r[i];let n=new o(t,{environment:"browser",signingScheme:s});return n.sign(e,"base64","binary")}function v(e,t,i="HS256"){const r={HS256:"sha256",HS384:"sha384",HS512:"sha512"},s=a(n(JSON.stringify({alg:i,typ:"JWT"}))),o=a(n(JSON.stringify(e))),c=[s,o].join("."),d=i.slice(0,2),h=r[i];let u=void 0;return"HS"===d?u=a(g(c,t,h,"base64")):"RS"===d&&(u=a(y(c,t,i))),[c,u].join(".")}function b(e,t,i="p256",r,s=!1){let n=e;void 0!==r&&(n=m(e,r,"hex"));const a=new u(i);let o=a.sign(n,t,"hex",{canonical:!0}),c=new p("0");const d=new p("1").shln(248).sub(new p("1"));while(s&&(o.r.gt(a.nh)||o.r.lte(d)||o.s.lte(d)))o=a.sign(n,t,"hex",{canonical:!0,extraEntropy:c.toArray("le",32)}),c=c.add(new p("1"));return{r:o.r.toString(16).padStart(64,"0"),s:o.s.toString(16).padStart(64,"0"),v:o.recoveryParam}}function w(e,t,i="ed25519"){const r=new l(i),s=r.signModified(e,t);return c(d(s.toBytes()))}const S=e=>{const t=e=>(e<15.5?"0":"")+Math.round(e).toString(16),i=e=>parseInt(e,16),s=(e,t)=>(t+e).slice(-t.length),n=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",i="",r="";for(let n=0;n<e.length;n++){let r=t.indexOf(e.charAt(n).toUpperCase());i+=s(r.toString(2),"00000")}for(let s=0;s+4<=i.length;s+=4){let e=i.substr(s,4);r+=parseInt(e,2).toString(16)}return r},a=e=>{e=e.replace(" ","");let a=Math.round((new Date).getTime()/1e3),o=s(t(Math.floor(a/30)),"0000000000000000"),c=g(r.enc.Hex.parse(o),r.enc.Hex.parse(n(e)),"sha1","hex"),d=i(c.substring(c.length-1)),h=(i(c.substr(2*d,8))&i("7fffffff"))+"";return h=h.substr(h.length-6,6),h};return a(e)};e.exports={hash:m,hmac:g,jwt:v,totp:S,rsa:y,ecdsa:b,eddsa:w}},6783:function(e,t,i){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),r(i("d47d")),r(i("b3ef")),r(i("6f87"))},"67c2":function(e,t,i){"use strict";const r=i("57a2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"equos",name:"EQUOS",urls:{logo:"https://user-images.githubusercontent.com/1294454/107758499-05edd180-6d38-11eb-9e09-0b69602a7a15.jpg"}})}}},"67ec":function(e,t,i){var r=i("5a7c"),s=i("2fad"),n=r((function(e,t){return s([e],t)}));e.exports=n},6853:function(e,t,i){"use strict";var r=i("be7f"),s=15,n=852,a=592,o=0,c=1,d=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,p,m,g,y,v){var b,w,S,k,_,O,T,C,I,x=v.bits,E=0,A=0,N=0,M=0,P=0,B=0,R=0,D=0,L=0,V=0,j=null,q=0,U=new r.Buf16(s+1),G=new r.Buf16(s+1),F=null,H=0;for(E=0;E<=s;E++)U[E]=0;for(A=0;A<p;A++)U[t[i+A]]++;for(P=x,M=s;M>=1;M--)if(0!==U[M])break;if(P>M&&(P=M),0===M)return m[g++]=20971520,m[g++]=20971520,v.bits=1,0;for(N=1;N<M;N++)if(0!==U[N])break;for(P<N&&(P=N),D=1,E=1;E<=s;E++)if(D<<=1,D-=U[E],D<0)return-1;if(D>0&&(e===o||1!==M))return-1;for(G[1]=0,E=1;E<s;E++)G[E+1]=G[E]+U[E];for(A=0;A<p;A++)0!==t[i+A]&&(y[G[t[i+A]]++]=A);if(e===o?(j=F=y,O=19):e===c?(j=h,q-=257,F=u,H-=257,O=256):(j=l,F=f,O=-1),V=0,A=0,E=N,_=g,B=P,R=0,S=-1,L=1<<P,k=L-1,e===c&&L>n||e===d&&L>a)return 1;for(;;){T=E-R,y[A]<O?(C=0,I=y[A]):y[A]>O?(C=F[H+y[A]],I=j[q+y[A]]):(C=96,I=0),b=1<<E-R,w=1<<B,N=w;do{w-=b,m[_+(V>>R)+w]=T<<24|C<<16|I|0}while(0!==w);b=1<<E-1;while(V&b)b>>=1;if(0!==b?(V&=b-1,V+=b):V=0,A++,0===--U[E]){if(E===M)break;E=t[i+y[A]]}if(E>P&&(V&k)!==S){0===R&&(R=P),_+=N,B=E-R,D=1<<B;while(B+R<M){if(D-=U[B+R],D<=0)break;B++,D<<=1}if(L+=1<<B,e===c&&L>n||e===d&&L>a)return 1;S=V&k,m[S]=P<<24|B<<16|_-g|0}}return 0!==V&&(m[_+V]=E-R<<24|64<<16|0),v.bits=P,0}},"68dd":function(e,t,i){},6901:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,BadRequest:n,InvalidNonce:a,RequestTimeout:o,ExchangeNotAvailable:c,InsufficientFunds:d,OrderNotFound:h,InvalidOrder:u,DDoSProtection:l,AuthenticationError:f,BadSymbol:p}=i("74b0"),{TICK_SIZE:m}=i("5ea4"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"crex24",name:"CREX24",countries:["EE"],rateLimit:500,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w","1M":"1mo"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47813922-6f12cc00-dd5d-11e8-97c6-70f957712d47.jpg",api:"https://api.crex24.com",www:"https://crex24.com",referral:"https://crex24.com/?refid=slxsjsjtil8xexl9hksr",doc:"https://docs.crex24.com/trade-api/v2",fees:"https://crex24.com/fees"},api:{public:{get:["currencies","instruments","tickers","recentTrades","orderBook","ohlcv"]},trading:{get:["orderStatus","orderTrades","activeOrders","orderHistory","tradeHistory","tradeFee","moneyTransferStatus"],post:["placeOrder","modifyOrder","cancelOrdersById","cancelOrdersByInstrument","cancelAllOrders"]},account:{get:["balance","depositAddress","moneyTransfers","moneyTransferStatus","previewWithdrawal"],post:["withdraw"]}},precisionMode:m,fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:-1e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{BCC:"BCH",BIT:"BitMoney",BULL:"BuySell",CREDIT:"TerraCredit",EPS:"Epanus",FUND:"FUNDChains",GHOST:"GHOSTPRISM",GTC:"GastroCoin",IQ:"IQ.Cash",PUT:"PutinCoin",SBTC:"SBTCT",UNI:"Universe",YOYO:"YOYOW"},options:{fetchOrdersMethod:"tradingGetOrderHistory",fetchClosedOrdersMethod:"tradingGetOrderHistory",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{exact:{"Parameter 'filter' contains invalid value.":n,"Mandatory parameter 'instrument' is missing.":n,"The value of parameter 'till' must be greater than or equal to the value of parameter 'from'.":n,"Failed to verify request signature.":f,"Nonce error. Make sure that the value passed in the 'X-CREX24-API-NONCE' header is greater in each consecutive request than in the previous one for the corresponding API-Key provided in 'X-CREX24-API-KEY' header.":a,"Market orders are not supported by the instrument currently.":u,"Parameter 'instrument' contains invalid value.":p},broad:{"try again later":c,"API Key":f,"Insufficient funds":d,"has been delisted.":p,"is currently suspended.":p,"Mandatory parameter":n}}})}nonce(){return this.milliseconds()}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeNumber(e,"tickSize"),u=this.safeNumber(e,"minPrice"),l=this.safeNumber(e,"maxPrice"),f=this.safeNumber(e,"minVolume"),p=this.safeNumber(e,"maxVolume"),m=this.safeNumber(e,"minQuoteVolume"),g=this.safeNumber(e,"maxQuoteVolume"),y={amount:f,price:h},v="active"===e["state"];i.push({id:s,symbol:d,base:o,quote:c,baseId:n,quoteId:a,info:e,active:v,precision:y,limits:{amount:{min:f,max:p},price:{min:u,max:l},cost:{min:m,max:g}}})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s),a=this.safeInteger(e,"withdrawalPrecision"),o=Math.pow(10,-a),c=this.safeValue(e,"BaseAddress"),d=e["depositsAllowed"]&&e["withdrawalsAllowed"]&&!e["isDelisted"],h=e["isFiat"]?"fiat":"crypto";i[n]={id:s,code:n,address:c,info:e,type:h,name:this.safeString(e,"name"),active:d,fee:this.safeNumber(e,"flatWithdrawalFee"),precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},deposit:{min:this.safeNumber(e,"minDeposit"),max:void 0},withdraw:{min:this.safeNumber(e,"minWithdrawal"),max:this.safeNumber(e,"maxWithdrawal")}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t={},i=await this.accountGetBalance(this.extend(t,e)),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"available"),a["used"]=this.safeString(e,"reserved"),r[n]=a}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={instrument:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderBook(this.extend(s,i));return this.parseOrderBook(n,e,void 0,"buyLevels","sellLevels","price","volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"instrument"),s=this.safeSymbol(r,t,"-"),n=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:this.safeNumber(e,"percentChange"),average:void 0,baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument:i["id"]},n=await this.publicGetTickers(this.extend(r,t)),a=n.length;if(a<1)throw new s(this.id+" fetchTicker could not load quotes for symbol "+e);return this.parseTicker(n[0],i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["instrument"]=t.join(",")}const r=await this.publicGetTickers(this.extend(i,t));return this.parseTickers(r,e)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"price"),s=this.safeString(e,"volume"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(g.stringMul(r,s)),c=this.safeString(e,"id"),d=this.safeString(e,"side"),h=this.safeString(e,"orderId"),u=this.safeString(e,"instrument"),l=this.safeSymbol(u,t,"-");let f=void 0;const p=this.safeString(e,"feeCurrency"),m=this.safeCurrencyCode(p),y=this.safeNumber(e,"fee");void 0!==y&&(f={cost:y,currency:m});const v=void 0;return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,id:c,order:h,type:void 0,takerOrMaker:v,side:d,price:n,cost:o,amount:a,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={instrument:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetRecentTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={granularity:this.timeframes[t],instrument:n["id"]};void 0!==r&&(a["limit"]=r);const o=await this.publicGetOhlcv(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}parseOrderStatus(e){const t={submitting:"open",unfilledActive:"open",partiallyFilledActive:"open",filled:"closed",partiallyFilledCancelled:"canceled",unfilledCancelled:"canceled"};return e in t?t[e]:e}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"instrument"),s=this.safeSymbol(r,t,"-"),n=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"price"),o=this.safeNumber(e,"volume"),c=this.safeNumber(e,"remainingVolume"),d=this.parse8601(this.safeString(e,"lastUpdate")),h=this.safeString(e,"id"),u=this.safeString(e,"type"),l=this.safeString(e,"side"),f=void 0,p=void 0,m=void 0,g=this.safeString(e,"timeInForce"),y=this.safeNumber(e,"stopPrice");return this.safeOrder({info:e,id:h,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:d,symbol:s,type:u,timeInForce:g,side:l,price:a,stopPrice:y,amount:o,cost:void 0,average:m,filled:void 0,remaining:c,status:i,fee:f,trades:p})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={instrument:a["id"],volume:this.amountToPrecision(e,r),type:t,side:i};let c=!1,d=!1;if("limit"===t?c=!0:"stopLimit"===t&&(c=!0,d=!0),c){if(void 0===s)throw new u(this.id+" createOrder() requires a price argument for a "+t+" order");o["price"]=this.priceToPrecision(e,s)}if(d){const i=this.safeNumber(n,"stopPrice");if(void 0===i)throw new u(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");o["stopPrice"]=this.priceToPrecision(e,i),n=this.omit(n,"stopPrice")}const h=await this.tradingPostPlaceOrder(this.extend(o,n));return this.parseOrder(h,a)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.tradingGetOrderStatus(this.extend(r,i)),n=s.length;if(n<1)throw new h(this.id+" fetchOrder could not fetch order id "+e);return this.parseOrder(s[0])}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==t&&(s["from"]=this.ymdhms(t,"T")),void 0!==i&&(s["limit"]=i),void 0!==e){const t=this.market(e);s["instrument"]=t["id"]}const n=this.safeString(this.options,"fetchOrdersMethod","tradingGetOrderHistory"),a=await this[n](this.extend(s,r));return this.parseOrders(a)}async fetchOrdersByIds(e,t,i,r={}){await this.loadMarkets();const s={id:e.join(",")},n=await this.tradingGetOrderStatus(this.extend(s,r));return this.parseOrders(n,void 0,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["instrument"]=s["id"]);const a=await this.tradingGetActiveOrders(this.extend(n,r));return this.parseOrders(a,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["instrument"]=s["id"]),void 0!==t&&(n["from"]=this.ymdhms(t,"T")),void 0!==i&&(n["limit"]=i);const a=this.safeString(this.options,"fetchClosedOrdersMethod","tradingGetOrderHistory"),o=await this[a](this.extend(n,r));return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={ids:[parseInt(e)]},s=await this.tradingPostCancelOrdersById(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){const i=await this.tradingPostCancelAllOrders(t);return i}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["instrument"]=s["id"]),void 0!==t&&(n["from"]=this.ymdhms(t,"T")),void 0!==i&&(n["limit"]=i);const a=await this.tradingGetTradeHistory(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["currency"]=s["id"]),void 0!==t&&(n["from"]=this.ymd(t,"T"));const a=await this.accountGetMoneyTransfers(this.extend(n,r));return this.parseTransactions(a,s,t,i)}async fetchDeposits(e,t,i,r={}){const s={type:"deposit"};return this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchWithdrawals(e,t,i,r={}){const s={type:"withdrawal"};return this.fetchTransactions(e,t,i,this.extend(s,r))}parseTransactionStatus(e){const t={pending:"pending",success:"ok",failed:"failed"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString(e,"paymentId"),n=this.safeValue(e,"txId"),a=this.safeString(e,"currency"),o=this.safeCurrencyCode(a,t),c=this.safeString(e,"type"),d=this.parse8601(this.safeString(e,"createdAt")),h=this.parse8601(this.safeString(e,"processedAt")),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"amount"),f=this.safeNumber(e,"fee"),p={cost:f,currency:o};return{info:e,id:i,txid:n,timestamp:d,datetime:this.iso8601(d),address:r,tag:s,type:c,amount:l,currency:o,status:u,updated:h,fee:p}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.accountGetDepositAddress(this.extend(r,t)),n=this.safeString(s,"address"),a=this.safeString(s,"paymentId");return{currency:e,address:this.checkAddress(n),tag:a,info:s}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],address:i,amount:parseFloat(this.currencyToPrecision(e,t)),feeCurrency:n["id"]};void 0!==r&&(a["paymentId"]=r);const o=await this.accountPostWithdraw(this.extend(a,s));return this.parseTransaction(o)}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/"+t+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(a+="?"+this.urlencode(o));const c=this.urls["api"]+a;if("trading"===t||"account"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret);let o=a+e;s={"X-CREX24-API-KEY":this.apiKey,"X-CREX24-API-NONCE":e},"POST"===i&&(s["Content-Type"]="application/json",n=this.json(r),o+=n),s["X-CREX24-API-SIGN"]=this.hmac(this.encode(o),t,"sha512","base64")}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,a,d,h,u,p){if(!this.isJsonEncodedObject(d))return;if(e>=200&&e<300)return;const m=this.safeString(h,"errorDescription"),g=this.id+" "+d;if(this.throwExactlyMatchedException(this.exceptions["exact"],m,g),this.throwBroadlyMatchedException(this.exceptions["broad"],m,g),400===e)throw new n(g);if(401===e)throw new f(g);if(403===e)throw new f(g);if(429===e)throw new l(g);if(500===e)throw new s(g);if(503===e)throw new c(g);if(504===e)throw new o(g);throw new s(g)}}},"69f3":function(e,t,i){var r,s,n,a=i("7f9a"),o=i("da84"),c=i("861d"),d=i("9112"),h=i("5135"),u=i("c6cd"),l=i("f772"),f=i("d012"),p="Object already initialized",m=o.WeakMap,g=function(e){return n(e)?s(e):r(e,{})},y=function(e){return function(t){var i;if(!c(t)||(i=s(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}};if(a||u.state){var v=u.state||(u.state=new m),b=v.get,w=v.has,S=v.set;r=function(e,t){if(w.call(v,e))throw new TypeError(p);return t.facade=e,S.call(v,e,t),t},s=function(e){return b.call(v,e)||{}},n=function(e){return w.call(v,e)}}else{var k=l("state");f[k]=!0,r=function(e,t){if(h(e,k))throw new TypeError(p);return t.facade=e,d(e,k,t),t},s=function(e){return h(e,k)?e[k]:{}},n=function(e){return h(e,k)}}e.exports={set:r,get:s,has:n,enforce:g,getterFor:y}},"6af3":function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i("896c"),n=i("2d6e"),a=i("abf9"),o=i("f9ee"),c=i("02cf"),d=r(i("a4b3"));t.verifyAddress=function(e,t){var i=t?t.chainId:void 0;try{var r=a._fromIn(e);if(1!=r[0]||i&&r[1]!=n.ChaidId.toNumber(i))return!1;for(var s=r.slice(0,22),d=r.slice(22,26),h=o._hashChain(s).slice(0,4),u=0;u<4;u++)if(d[u]!=h[u])return!1;if(t&&t.publicKey){var l=c.address({publicKey:t.publicKey},i);if(r.length!==l.length)return!1;for(u=0;u<l.length;u++)if(l[u]!==r[u])return!1}}catch(f){return!1}return!0},t.verifySignature=function(e,t,i){try{return d.default.verify(a._fromIn(e),a._fromIn(t),a._fromIn(i))}catch(r){return!1}},t.verifyPublicKey=function(e){return a._fromIn(e).length===s.PUBLIC_KEY_LENGTH}},"6b3f":function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,AuthenticationError:n,ExchangeError:a,InsufficientFunds:o,InvalidOrder:c,BadSymbol:d,PermissionDenied:h,BadRequest:u}=i("74b0"),{TICK_SIZE:l}=i("5ea4"),f=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ascendex",name:"AscendEX",countries:["SG"],rateLimit:500,has:{CORS:!1,fetchMarkets:!0,fetchCurrencies:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchOHLCV:!0,fetchTrades:!0,fetchAccounts:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchDepositAddress:!0,fetchTransactions:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"1d","1w":"1w","1M":"1m"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/112027508-47984600-8b48-11eb-9e17-d26459cc36c6.jpg",api:"https://ascendex.com",test:"https://bitmax-test.io",www:"https://ascendex.com",doc:["https://bitmax-exchange.github.io/bitmax-pro-api/#bitmax-pro-api-documentation"],fees:"https://ascendex.com/en/feerate/transactionfee-traderate",referral:"https://ascendex.com/en-us/register?inviteCode=EL6BXBQM"},api:{public:{get:["assets","products","ticker","barhist/info","barhist","depth","trades","cash/assets","cash/products","margin/assets","margin/products","futures/collateral","futures/contracts","futures/ref-px","futures/market-data","futures/funding-rates"]},accountCategory:{get:["balance","order/open","order/status","order/hist/current","risk"],post:["order","order/batch"],delete:["order","order/all","order/batch"]},accountGroup:{get:["cash/balance","margin/balance","margin/risk","transfer","futures/collateral-balance","futures/position","futures/risk","futures/funding-payments","order/hist"],post:["futures/transfer/deposit","futures/transfer/withdraw"]},private:{get:["info","wallet/transactions","wallet/deposit/address"]}},fees:{trading:{feeSide:"get",tierBased:!0,percentage:!0,taker:.002,maker:.002}},precisionMode:l,options:{"account-category":"cash","account-group":void 0,fetchClosedOrders:{method:"accountGroupGetOrderHist"}},exceptions:{exact:{1900:u,2100:n,5002:d,6001:d,6010:o,60060:c,600503:c,100001:u,100002:u,100003:u,100004:u,100005:u,100006:u,100007:u,100008:d,100009:n,100010:u,100011:u,100012:u,100013:u,100101:a,150001:u,200001:n,200002:a,200003:a,200004:a,200005:a,200006:a,200007:a,200008:a,200009:a,200010:n,200011:a,200012:a,200013:a,200014:h,200015:h,300001:c,300002:c,300003:c,300004:c,300005:c,300006:c,300007:c,300008:c,300009:c,300011:o,300012:d,300013:c,300020:c,300021:c,300031:c,310001:o,310002:c,310003:c,310004:d,310005:c,510001:a,900001:a},broad:{}},commonCurrencies:{BOND:"BONDED",BTCBEAR:"BEAR",BTCBULL:"BULL",BYN:"Beyond Finance"}})}getAccount(e={}){const t=this.safeValue(e,"account",this.options["account"]);return t.toLowerCase().capitalize()}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=await this.publicGetMarginAssets(e),r=await this.publicGetCashAssets(e),s=this.safeValue(t,"data",[]),n=this.safeValue(i,"data",[]),a=this.safeValue(r,"data",[]),o=this.indexBy(s,"assetCode"),c=this.indexBy(n,"assetCode"),d=this.indexBy(a,"assetCode"),h=this.deepExtend(o,c,d),u=Object.keys(h),l={};for(let f=0;f<u.length;f++){const e=u[f],t=h[e],i=this.safeCurrencyCode(e),r=this.safeString2(t,"precisionScale","nativeScale"),s=this.parsePrecision(r),n=this.safeNumber2(t,"withdrawFee","withdrawalFee"),a=this.safeString2(t,"status","statusCode"),o="Normal"===a,c="borrowAssetCode"in t;l[i]={id:e,code:i,info:t,type:void 0,margin:c,name:this.safeString(t,"assetName"),active:o,fee:n,precision:parseInt(r),limits:{amount:{min:this.parseNumber(s),max:void 0},withdraw:{min:this.safeNumber(t,"minWithdrawalAmt"),max:void 0}}}}return l}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=await this.publicGetCashProducts(e),r=await this.publicGetFuturesContracts(e),s=this.safeValue(t,"data",[]),n=this.indexBy(s,"symbol"),a=this.safeValue(i,"data",[]),o=this.safeValue(r,"data",[]),c=this.arrayConcat(a,o),d=this.indexBy(c,"symbol"),h=this.deepExtend(n,d),u=Object.keys(h),l=[];for(let f=0;f<u.length;f++){const e=u[f],t=h[e],i=this.safeString(t,"baseAsset"),r=this.safeString(t,"quoteAsset"),s=this.safeCurrencyCode(i),n=this.safeCurrencyCode(r),a={amount:this.safeNumber(t,"lotSize"),price:this.safeNumber(t,"tickSize")},o=this.safeString(t,"status"),c="Normal"===o,d="useLot"in t?"spot":"future",p="spot"===d,m="future"===d,g=this.safeValue(t,"marginTradable",!1);let y=e;m||(y=s+"/"+n);const v=this.safeNumber(t,"commissionReserveRate");l.push({id:e,symbol:y,base:s,quote:n,baseId:i,quoteId:r,info:t,type:d,spot:p,margin:g,future:m,active:c,precision:a,taker:v,maker:v,limits:{amount:{min:this.safeNumber(t,"minQty"),max:this.safeNumber(t,"maxQty")},price:{min:this.safeNumber(t,"tickSize"),max:void 0},cost:{min:this.safeNumber(t,"minNotional"),max:this.safeNumber(t,"maxNotional")}}})}return l}async fetchAccounts(e={}){let t=this.safeString(this.options,"account-group"),i=void 0;if(void 0===t){i=await this.privateGetInfo(e);const r=this.safeValue(i,"data",{});t=this.safeString(r,"accountGroup"),this.options["account-group"]=t}return[{id:t,type:void 0,currency:void 0,info:i}]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"account-category","cash"),i=this.safeValue(this.options,"fetchBalance",{});let r=this.safeString(i,"account-category",t);r=this.safeString(e,"account-category",r),e=this.omit(e,"account-category");const s=this.safeValue(this.accounts,0,{}),n=this.safeString(s,"id"),a={"account-group":n};let o="accountCategoryGetBalance";"futures"===r?o="accountGroupGetFuturesCollateralBalance":a["account-category"]=r;const c=await this[o](this.extend(a,e)),d={info:c,timestamp:void 0,datetime:void 0},h=this.safeValue(c,"data",[]);for(let u=0;u<h.length;u++){const e=h[u],t=this.safeCurrencyCode(this.safeString(e,"asset")),i=this.account();i["free"]=this.safeString(e,"availableBalance"),i["total"]=this.safeString(e,"totalBalance"),d[t]=i}return this.parseBalance(d,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]},n=await this.publicGetDepth(this.extend(s,i)),a=this.safeValue(n,"data",{}),o=this.safeValue(a,"data",{}),c=this.safeInteger(o,"ts"),d=this.parseOrderBook(o,e,c);return d["nonce"]=this.safeInteger(o,"seqnum"),d}parseTicker(e,t){const i=void 0,r=this.safeString(e,"symbol");let s=void 0;if(r in this.markets_by_id)t=this.markets_by_id[r];else if(void 0!==r){const t=this.safeString(e,"type");if("spot"===t){const[e,t]=r.split("/"),i=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t);s=i+"/"+n}}void 0===s&&void 0!==t&&(s=t["symbol"]);const n=this.safeNumber(e,"close"),a=this.safeValue(e,"bid",[]),o=this.safeValue(e,"ask",[]),c=this.safeNumber(e,"open");let d=void 0,h=void 0,u=void 0;return void 0!==c&&void 0!==n&&(d=n-c,c>0&&(h=d/c*100),u=this.sum(c,n)/2),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(a,0),bidVolume:this.safeNumber(a,1),ask:this.safeNumber(o,0),askVolume:this.safeNumber(o,1),vwap:void 0,open:c,close:n,last:n,previousClose:void 0,change:d,percentage:h,average:u,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTicker(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbol"]=t.join(",")}const r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data",[]);return this.parseTickers(s,e)}parseOHLCV(e,t){const i=this.safeValue(e,"data",{});return[this.safeInteger(i,"ts"),this.safeNumber(i,"o"),this.safeNumber(i,"h"),this.safeNumber(i,"l"),this.safeNumber(i,"c"),this.safeNumber(i,"v")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],interval:this.timeframes[t]},o=this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCV",{}),d=this.safeInteger(c,"limit",500);void 0!==i?(a["from"]=i,r=void 0===r?d:Math.min(r,d),a["to"]=this.sum(i,r*o*1e3,1)):void 0!==r&&(a["n"]=r);const h=await this.publicGetBarhist(this.extend(a,s)),u=this.safeValue(h,"data",[]);return this.parseOHLCVs(u,n,t,i,r)}parseTrade(e,t){const i=this.safeInteger(e,"ts"),r=this.safeString2(e,"price","p"),s=this.safeString(e,"q"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(f.stringMul(r,s)),c=this.safeValue(e,"bm",!1),d=c?"maker":"taker",h=c?"buy":"sell";let u=void 0;return void 0===u&&void 0!==t&&(u=t["symbol"]),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:void 0,order:void 0,type:void 0,takerOrMaker:d,side:h,price:n,amount:a,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["n"]=i);const a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){const t={PendingNew:"open",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled",Rejected:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"/"),n=this.safeInteger2(e,"timestamp","sendingTime"),a=this.safeInteger(e,"lastExecTime"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"orderQty"),d=this.safeNumber(e,"avgPx"),h=this.safeNumber2(e,"cumFilledQty","cumQty"),u=this.safeString(e,"orderId");let l=this.safeString(e,"id");void 0!==l&&l.length<1&&(l=void 0);const f=this.safeStringLower(e,"orderType"),p=this.safeStringLower(e,"side"),m=this.safeNumber(e,"cumFee");let g=void 0;if(void 0!==m){const t=this.safeString(e,"feeAsset"),i=this.safeCurrencyCode(t);g={cost:m,currency:i}}const y=this.safeNumber(e,"stopPrice");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:a,symbol:s,type:f,timeInForce:void 0,postOnly:void 0,side:p,price:o,stopPrice:y,amount:c,cost:void 0,average:d,filled:h,remaining:void 0,status:i,fee:g,trades:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets(),await this.loadAccounts();const a=this.market(e),o=this.safeString(this.options,"account-category","cash"),d=this.safeValue(this.options,"createOrder",{});let h=this.safeString(d,"account-category",o);h=this.safeString(n,"account-category",h),n=this.omit(n,"account-category");const u=this.safeValue(this.accounts,0,{}),l=this.safeValue(u,"id"),f=this.safeString2(n,"clientOrderId","id"),p={"account-group":l,"account-category":h,symbol:a["id"],time:this.milliseconds(),orderQty:this.amountToPrecision(e,r),orderType:t,side:i};if(void 0!==f&&(p["id"]=f,n=this.omit(n,["clientOrderId","id"])),"limit"!==t&&"stop_limit"!==t||(p["orderPrice"]=this.priceToPrecision(e,s)),"stop_limit"===t||"stop_market"===t){const i=this.safeNumber(n,"stopPrice");if(void 0===i)throw new c(this.id+" createOrder() requires a stopPrice parameter for "+t+" orders");p["stopPrice"]=this.priceToPrecision(e,i),n=this.omit(n,"stopPrice")}const m=await this.accountCategoryPostOrder(this.extend(p,n)),g=this.safeValue(m,"data",{}),y=this.safeValue(g,"info",{});return this.parseOrder(y,a)}async fetchOrder(e,t,i={}){await this.loadMarkets(),await this.loadAccounts();const r=this.safeString(this.options,"account-category","cash"),s=this.safeValue(this.options,"fetchOrder",{});let n=this.safeString(s,"account-category",r);n=this.safeString(i,"account-category",n),i=this.omit(i,"account-category");const a=this.safeValue(this.accounts,0,{}),o=this.safeValue(a,"id"),c={"account-group":o,"account-category":n,orderId:e},d=await this.accountCategoryGetOrderStatus(this.extend(c,i)),h=this.safeValue(d,"data",{});return this.parseOrder(h)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let s=void 0;void 0!==e&&(s=this.market(e));const n=this.safeString(this.options,"account-category","cash"),a=this.safeValue(this.options,"fetchOpenOrders",{});let o=this.safeString(a,"account-category",n);o=this.safeString(r,"account-category",o),r=this.omit(r,"account-category");const c=this.safeValue(this.accounts,0,{}),d=this.safeValue(c,"id"),h={"account-group":d,"account-category":o},u=await this.accountCategoryGetOrderOpen(this.extend(h,r)),l=this.safeValue(u,"data",[]);if("futures"===o)return this.parseOrders(l,s,t,i);const f=[];for(let p=0;p<l.length;p++){const e=this.parseOrder(l[p],s);f.push(e)}return this.filterBySymbolSinceLimit(f,e,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let s=void 0;void 0!==e&&(s=this.market(e));const n=this.safeString(this.options,"account-category"),a=this.safeValue(this.options,"fetchClosedOrders",{});let o=this.safeString(a,"account-category",n);o=this.safeString(r,"account-category",o),r=this.omit(r,"account-category");const c=this.safeValue(this.accounts,0,{}),d=this.safeValue(c,"id"),h={"account-group":d};void 0!==e&&(s=this.market(e),h["symbol"]=s["id"]);const u=this.safeValue(a,"method","accountGroupGetOrderHist");"accountGroupGetOrderHist"===u?void 0!==o&&(h["category"]=o):h["account-category"]=o,void 0!==t&&(h["startTime"]=t),void 0!==i&&(h["pageSize"]=i);const l=await this[u](this.extend(h,r));let f=this.safeValue(l,"data");const p=Array.isArray(f);return p||(f=this.safeValue(f,"data",[])),this.parseOrders(f,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new s(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const r=this.market(t),n=this.safeString(this.options,"account-category","cash"),a=this.safeValue(this.options,"cancelOrder",{});let o=this.safeString(a,"account-category",n);o=this.safeString(i,"account-category",o),i=this.omit(i,"account-category");const c=this.safeValue(this.accounts,0,{}),d=this.safeValue(c,"id"),h=this.safeString2(i,"clientOrderId","id"),u={"account-group":d,"account-category":o,symbol:r["id"],time:this.milliseconds(),id:"foobar"};void 0===h?u["orderId"]=e:(u["id"]=h,i=this.omit(i,["clientOrderId","id"]));const l=await this.accountCategoryDeleteOrder(this.extend(u,i)),f=this.safeValue(l,"data",{}),p=this.safeValue(f,"info",{});return this.parseOrder(p,r)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=this.safeString(this.options,"account-category","cash"),r=this.safeValue(this.options,"cancelAllOrders",{});let s=this.safeString(r,"account-category",i);s=this.safeString(t,"account-category",s),t=this.omit(t,"account-category");const n=this.safeValue(this.accounts,0,{}),a=this.safeValue(n,"id"),o={"account-group":a,"account-category":s,time:this.milliseconds()};let c=void 0;void 0!==e&&(c=this.market(e),o["symbol"]=c["id"]);const d=await this.accountCategoryDeleteOrderAll(this.extend(o,t));return d}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"tagId"),s=this.safeString(e,r);this.checkAddress(i);const n=void 0===t?void 0:t["code"];return{currency:n,address:i,tag:s,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=this.safeString(t,"chainName");t=this.omit(t,"chainName");const n={asset:i["id"]},a=await this.privateGetWalletDepositAddress(this.extend(n,t)),o=this.safeValue(a,"data",{}),c=this.safeValue(o,"address",[]),d=c.length;let h=void 0;if(d>1){const e=this.indexBy(c,"chainName");if(void 0===r){const t=Object.keys(e),i=t.join(", ");throw new s(this.id+" fetchDepositAddress returned more than one address, a chainName parameter is required, one of "+i)}h=this.safeValue(e,r,{})}else h=this.safeValue(c,0,{});const u=this.parseDepositAddress(h,i);return this.extend(u,{info:a})}async fetchDeposits(e,t,i,r={}){const s={txType:"deposit"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchWithdrawals(e,t,i,r={}){const s={txType:"withdrawal"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["asset"]=n["id"]),void 0!==t&&(s["startTs"]=t),void 0!==i&&(s["pageSize"]=i);const a=await this.privateGetWalletTransactions(this.extend(s,r)),o=this.safeValue(a,"data",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,n,t,i)}parseTransactionStatus(e){const t={reviewing:"pending",pending:"pending",confirmed:"ok",rejected:"rejected"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"requestId"),r=this.safeNumber(e,"amount"),s=this.safeValue(e,"destAddress",{}),n=this.safeString(s,"address"),a=this.safeString(s,"destTag"),o=this.safeString(e,"networkTransactionId"),c=this.safeString(e,"transactionType"),d=this.safeInteger(e,"time"),h=this.safeString(e,"asset"),u=this.safeCurrencyCode(h,t),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeNumber(e,"commission");return{info:e,id:i,currency:u,amount:r,address:n,addressTo:n,addressFrom:void 0,tag:a,tagTo:a,tagFrom:void 0,status:l,type:c,updated:void 0,txid:o,timestamp:d,datetime:this.iso8601(d),fee:{currency:u,cost:f}}}sign(e,t="public",i="GET",r={},s,n){let a="",o=r;const c="accountCategory"===t;(c||"accountGroup"===t)&&(a+=this.implodeParams("/{account-group}",r),o=this.omit(r,"account-group"));const d=this.implodeParams(e,o);if(a+="/api/pro/"+this.version,c&&(a+=this.implodeParams("/{account-category}",o),o=this.omit(o,"account-category")),a+="/"+d,o=this.omit(o,this.extractParams(e)),"public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.milliseconds().toString(),t=e+"+"+d,r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s={"x-auth-key":this.apiKey,"x-auth-timestamp":e,"x-auth-signature":r},"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):(s["Content-Type"]="application/json",n=this.json(o))}return a=this.urls["api"]+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message"),l=void 0!==h&&"0"!==h;if(l||void 0!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new a(e)}}}},"6b75":function(e,t,i){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}i.d(t,"a",(function(){return r}))},"6b75e":function(e,t,i){"use strict";(function(e,r){var s=i("f654"),n=i("8936"),a=i("a177"),o=i("9e6e"),c=i("2ceb");for(var d in c)t[d]=c[d];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;var h=31,u=139;function l(e){if("number"!==typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||o.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},l.prototype.write=function(e,t,i,r,s,n,a){return this._write(!0,e,t,i,r,s,n,a)},l.prototype.writeSync=function(e,t,i,r,s,n,a){return this._write(!1,e,t,i,r,s,n,a)},l.prototype._write=function(i,n,a,o,c,d,h,u){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==t.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===n,"must provide flush value"),this.write_in_progress=!0,n!==t.Z_NO_FLUSH&&n!==t.Z_PARTIAL_FLUSH&&n!==t.Z_SYNC_FLUSH&&n!==t.Z_FULL_FLUSH&&n!==t.Z_FINISH&&n!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),c=0,o=0),this.strm.avail_in=c,this.strm.input=a,this.strm.next_in=o,this.strm.avail_out=u,this.strm.output=d,this.strm.next_out=h,this.flush=n,!i)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return r.nextTick((function(){l._process(),l._after()})),this},l.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},l.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(this.strm.input[e]!==h){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;this.strm.input[e]===u?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:this.err=o.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));while(this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0])this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},l.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(e,i,r,n,a){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(e>=8&&e<=15,"invalid windowBits"),s(i>=-1&&i<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(n===t.Z_FILTERED||n===t.Z_HUFFMAN_ONLY||n===t.Z_RLE||n===t.Z_FIXED||n===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,r,n,a),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(e,i,r,s,c){switch(this.level=e,this.windowBits=i,this.memLevel=r,this.strategy=s,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new n,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=o.inflateReset(this.strm);break;default:break}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=l}).call(this,i("b639").Buffer,i("4362"))},"6d61":function(e,t,i){"use strict";var r=i("23e7"),s=i("da84"),n=i("94ca"),a=i("6eeb"),o=i("f183"),c=i("2266"),d=i("19aa"),h=i("861d"),u=i("d039"),l=i("1c7e"),f=i("d44e"),p=i("7156");e.exports=function(e,t,i){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),y=m?"set":"add",v=s[e],b=v&&v.prototype,w=v,S={},k=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!h(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!h(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!h(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})},_=n(e,"function"!=typeof v||!(g||b.forEach&&!u((function(){(new v).entries().next()}))));if(_)w=i.getConstructor(t,e,m,y),o.REQUIRED=!0;else if(n(e,!0)){var O=new w,T=O[y](g?{}:-0,1)!=O,C=u((function(){O.has(1)})),I=l((function(e){new v(e)})),x=!g&&u((function(){var e=new v,t=5;while(t--)e[y](t,t);return!e.has(-0)}));I||(w=t((function(t,i){d(t,w,e);var r=p(new v,t,w);return void 0!=i&&c(i,r[y],{that:r,AS_ENTRIES:m}),r})),w.prototype=b,b.constructor=w),(C||x)&&(k("delete"),k("has"),m&&k("get")),(x||T)&&k(y),g&&b.clear&&delete b.clear}return S[e]=w,r({global:!0,forced:w!=v},S),f(w,e),g||i.setStrong(w,e,m),w}},"6dd3":function(e,t,i){"use strict";const r=i("90db"),{RateLimitExceeded:s,BadSymbol:n,OrderNotFound:a,ExchangeError:o,AuthenticationError:c,ArgumentsRequired:d,ExchangeNotAvailable:h}=i("74b0"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bw",name:"BW",countries:["CN"],rateLimit:1500,version:"v1",has:{cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!1,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchL2OrderBook:!1,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!0,privateAPI:!1,publicAPI:!1,withdraw:!1},timeframes:{"1m":"1M","5m":"5M","15m":"15M","30m":"30M","1h":"1H","1w":"1W"},hostname:"bw.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/69436317-31128c80-0d52-11ea-91d1-eb7bb5818812.jpg",api:"https://www.{hostname}",www:"https://www.bw.com",doc:"https://github.com/bw-exchange/api_docs_en/wiki",fees:"https://www.bw.com/feesRate",referral:"https://www.bw.com/regGetCommission/N3JuT1R3bWxKTE0"},requiredCredentials:{apiKey:!0,secret:!0},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{}},exceptions:{exact:{999:c,1e3:h,2012:a,5017:n,10001:s}},api:{public:{get:["api/data/v1/klines","api/data/v1/ticker","api/data/v1/tickers","api/data/v1/trades","api/data/v1/entrusts","exchange/config/controller/website/marketcontroller/getByWebId","exchange/config/controller/website/currencycontroller/getCurrencyList"]},private:{get:["exchange/entrust/controller/website/EntrustController/getEntrustById","exchange/entrust/controller/website/EntrustController/getUserEntrustRecordFromCacheWithPage","exchange/entrust/controller/website/EntrustController/getUserEntrustList","exchange/fund/controller/website/fundwebsitecontroller/getwithdrawaddress","exchange/fund/controller/website/fundwebsitecontroller/getpayoutcoinrecord","exchange/entrust/controller/website/EntrustController/getUserEntrustList"],post:["exchange/fund/controller/website/fundcontroller/getPayinAddress","exchange/fund/controller/website/fundcontroller/getPayinCoinRecord","exchange/fund/controller/website/fundcontroller/findbypage","exchange/entrust/controller/website/EntrustController/addEntrust","exchange/entrust/controller/website/EntrustController/cancelEntrust"]}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteMarketcontrollerGetByWebId(e),i=this.safeValue(t,"datas",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"marketId"),n=parseInt(t),a=this.safeStringUpper(e,"name");let[o,c]=a.split("_");o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=this.safeString(e,"sellerCurrencyId"),h=this.safeString(e,"buyerCurrencyId"),u=parseInt(d),l=parseInt(h),f=o+"/"+c,p=this.safeInteger(e,"state"),m=1===p,g=this.safeNumber(e,"defaultFee");r.push({id:t,active:m,numericId:n,symbol:f,base:o,quote:c,baseId:d,quoteId:h,baseNumericId:u,quoteNumericId:l,maker:g,taker:g,info:e,precision:{amount:this.safeInteger(e,"amountDecimal"),price:this.safeInteger(e,"priceDecimal")},limits:{amount:{min:this.safeNumber(e,"minAmount"),max:void 0},price:{min:0,max:void 0},cost:{min:0,max:void 0}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteCurrencycontrollerGetCurrencyList(e),i=this.safeValue(t,"datas",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currencyId"),n=this.safeCurrencyCode(this.safeStringUpper(e,"name")),a=this.safeInteger(e,"state"),o=1===a;r[n]={id:t,code:n,info:e,name:n,active:o,fee:this.safeNumber(e,"drawFee"),precision:void 0,limits:{amount:{min:this.safeNumber(e,"limitAmount",0),max:void 0},withdraw:{min:void 0,max:this.safeNumber(e,"onceDrawLimit")}}}}return r}parseTicker(e,t){const i=this.safeString(e,0),r=this.safeSymbol(i,t),s=this.milliseconds(),n=parseFloat(this.safeValue(e,1)),a=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:parseFloat(this.safeValue(e,2)),low:parseFloat(this.safeValue(e,3)),bid:parseFloat(this.safeValue(e,7)),bidVolume:this.safeNumber(a,"quantity"),ask:parseFloat(this.safeValue(e,8)),askVolume:this.safeNumber(o,"quantity"),vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:parseFloat(this.safeValue(e,5)),percentage:void 0,average:void 0,baseVolume:parseFloat(this.safeValue(e,4)),quoteVolume:parseFloat(this.safeValue(e,9)),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketId:i["id"]},s=await this.publicGetApiDataV1Ticker(this.extend(r,t)),n=this.safeValue(s,"datas",[]);return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetApiDataV1Tickers(t),r=this.safeValue(i,"datas",[]),s={};for(let n=0;n<r.length;n++){const t=this.parseTicker(r[n]),i=t["symbol"];(void 0===e||this.inArray(i,e))&&(s[i]=t)}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={marketId:r["id"]};void 0!==t&&(s["dataSize"]=t);const n=await this.publicGetApiDataV1Entrusts(this.extend(s,i)),a=this.safeValue(n,"datas",[]),o=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,o)}parseTrade(e,t){const i=this.safeTimestamp(e,2),r=this.safeString(e,5),s=this.safeString(e,6),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(u.stringMul(r,s)),c=this.safeString(e,1);let d=void 0;if(void 0!==c)if(c in this.markets_by_id)t=this.markets_by_id[c];else{const t=this.safeString(e,3),[i,r]=t.split("_"),s=this.safeCurrencyCode(i),n=this.safeCurrencyCode(r);d=s+"/"+n}void 0===d&&void 0!==t&&(d=t["symbol"]);const h=this.safeString(e,4),l="ask"===h?"sell":"buy";return{id:void 0,timestamp:i,datetime:this.iso8601(i),symbol:d,order:void 0,type:"limit",side:l,takerOrMaker:void 0,price:n,amount:a,cost:o,fee:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={marketId:s["id"]};void 0!==i&&(n["dataSize"]=i);const a=await this.publicGetApiDataV1Trades(this.extend(n,r)),o=this.safeValue(a,"datas",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,3),this.safeNumber(e,4),this.safeNumber(e,5),this.safeNumber(e,6),this.safeNumber(e,7),this.safeNumber(e,8)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={marketId:n["id"],type:this.timeframes[t],dataSize:500};void 0!==r&&(a["dataSize"]=r);const o=await this.publicGetApiDataV1Klines(this.extend(a,s)),c=this.safeValue(o,"datas",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostExchangeFundControllerWebsiteFundcontrollerFindbypage(e),i=this.safeValue(t,"datas",{}),r=this.safeValue(i,"list",[]),s={info:t};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currencyTypeId"),i=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"amount"),a["used"]=this.safeString(e,"freeze"),s[i]=a}return this.parseBalance(s,!1)}async createOrder(e,t,i,r,s,n={}){if(void 0===s)throw new o(this.id+" allows limit orders only");await this.loadMarkets();const a=this.market(e),c={amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s),type:"buy"===i?1:0,rangeType:0,marketId:a["id"]},d=await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerAddEntrust(this.extend(c,n)),h=this.safeValue(d,"datas"),u=this.safeString(h,"entrustId");return{id:u,info:d,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:r,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:"open",fee:void 0,trades:void 0,clientOrderId:void 0}}parseOrderStatus(e){const t={"-3":"canceled","-2":"canceled","-1":"canceled",0:"open",1:"canceled",2:"closed",3:"open",4:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"marketId"),r=this.safeSymbol(i,t),s=this.safeInteger(e,"createTime");let n=this.safeString(e,"type");"0"===n?n="sell":"1"===n&&(n="buy");const a=this.safeNumber(e,"amount"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"completeAmount"),d=this.safeNumber2(e,"availabelAmount","availableAmount"),h=this.safeNumber(e,"totalMoney"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder({info:e,id:this.safeString(e,"entrustId"),clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:n,price:o,stopPrice:void 0,amount:a,cost:h,average:void 0,filled:c,remaining:d,status:u,fee:void 0,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={marketId:r["id"],entrustId:e},n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetEntrustById(this.extend(s,i)),a=this.safeValue(n,"datas",{});return this.parseOrder(a,r)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={marketId:r["id"],entrustId:e},n=await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerCancelEntrust(this.extend(s,i));return{info:n,id:e}}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={marketId:s["id"]};void 0!==i&&(n["pageSize"]=i);const a=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustRecordFromCacheWithPage(this.extend(n,r)),o=this.safeValue(a,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,s,t,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={marketId:s["id"]};void 0!==i&&(n["pageSize"]=i),void 0!==t&&(n["startDateTime"]=t);const a=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(n,r)),o=this.safeValue(a,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,s,t,i)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={marketId:s["id"]};void 0!==t&&(n["startDateTime"]=t),void 0!==i&&(n["pageSize"]=i);const a=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(n,r)),o=this.safeValue(a,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,s,t,i)}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeHostname(this.urls["api"])+"/"+e;if("GET"===i?Object.keys(r).length&&(a+="?"+this.urlencode(r)):n=this.json(r),"private"===t){const e=this.milliseconds().toString();let t="";if("GET"===i){const e=this.keysort(r),i=Object.keys(e);for(let r=0;r<i.length;r++){const s=i[r];t+=s+e[s].toString()}}else t=n;const a=this.apiKey+e+t+this.secret,o=this.hash(this.encode(a),"md5");s||(s={}),s["Apiid"]=this.apiKey,s["Timestamp"]=e,s["Sign"]=o}return{url:a,method:i,body:n,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currencyTypeName:i["name"]},s=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinAddress(this.extend(r,t)),n=this.safeValue(s,"datas",{}),a=this.safeString(n,"address"),o=this.safeString(n,"memo");return this.checkAddress(a),{currency:e,address:this.checkAddress(a),tag:o,info:s}}parseTransactionStatus(e){const t={"-1":"canceled",0:"pending",1:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"depositId","withdrawalId"),r=this.safeString2(e,"depositAddress","withdrawalAddress"),s=this.safeString2(e,"currencyId","currencyTypeId");let n=void 0;s in this.currencies_by_id&&(t=this.currencies_by_id[s]),void 0===n&&void 0!==t&&(n=t["code"]);const a="depositId"in e?"deposit":"withdrawal",o=this.safeNumber2(e,"actuallyAmount","amount"),c=this.parseTransactionStatus(this.safeString2(e,"verifyStatus","state")),d=this.safeInteger(e,"createTime"),h=this.safeString(e,"txId");let u=void 0;const l=this.safeNumber(e,"fees");return void 0!==l&&(u={cost:l,currency:n}),{info:e,id:i,txid:h,timestamp:d,datetime:this.iso8601(d),addressFrom:void 0,address:r,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:a,amount:o,currency:n,status:c,updated:void 0,fee:u}}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={currencyTypeName:s["name"]};void 0!==i&&(n["pageSize"]=i);const a=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinCoinRecord(this.extend(n,r)),o=this.safeValue(a,"datas",{}),c=this.safeValue(o,"list",[]);return this.parseTransactions(c,e,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={currencyId:s["id"]};void 0!==i&&(n["pageSize"]=i);const a=await this.privateGetExchangeFundControllerWebsiteFundwebsitecontrollerGetpayoutcoinrecord(this.extend(n,r)),o=this.safeValue(a,"datas",{}),c=this.safeValue(o,"list",[]);return this.parseTransactions(c,e,t,i)}handleErrors(e,t,i,r,s,n,a,c,d){if(!a)return;const h=this.safeValue(a,"resMsg"),u=this.safeString(h,"code");if("1"!==u){const e=this.id+" "+this.json(a);throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),new o(e)}}}},"6ece":function(e,t,i){},"6eeb":function(e,t,i){var r=i("da84"),s=i("9112"),n=i("5135"),a=i("ce4e"),o=i("8925"),c=i("69f3"),d=c.get,h=c.enforce,u=String(String).split("String");(e.exports=function(e,t,i,o){var c,d=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||n(i,"name")||s(i,"name",t),c=h(i),c.source||(c.source=u.join("string"==typeof t?t:""))),e!==r?(d?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=i:s(e,t,i)):l?e[t]=i:a(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||o(this)}))},"6f53":function(e,t,i){var r=i("83ab"),s=i("df75"),n=i("fc6a"),a=i("d1e7").f,o=function(e){return function(t){var i,o=n(t),c=s(o),d=c.length,h=0,u=[];while(d>h)i=c[h++],r&&!a.call(o,i)||u.push(e?[i,o[i]]:o[i]);return u}};e.exports={entries:o(!0),values:o(!1)}},"6f87":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.size=0,this.hash=Object.create(null),e&&e.forEach(this.add,this)}return e.prototype.add=function(e){return this.hash[e]=!0,this.size=Object.keys(this.hash).length,this},e.prototype.has=function(e){return e in this.hash},e.prototype.toArray=function(){return Object.keys(this.hash)},e}();t.UniqPrimitiveCollection=r},"6f8f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=r.split("").reduce((function(e,t,i){return e[t]=i,e}),{});t.default={encode:function(e){if(!e.length)return"";for(var t=[0],i=0;i<e.length;i++){for(var s=0;s<t.length;s++)t[s]<<=8;t[0]+=e[i];for(var n=0,a=0;a<t.length;a++)t[a]+=n,n=t[a]/58|0,t[a]%=58;while(n)t.push(n%58),n=n/58|0}for(i=0;0===e[i]&&i<e.length-1;i++)t.push(0);return t.reverse().map((function(e){return r[e]})).join("")},decode:function(e){if(!e.length)return new Uint8Array(0);for(var t=[0],i=0;i<e.length;i++){var r=e[i];if(!(r in s))throw'There is no character "'+r+'" in the Base58 sequence!';for(var n=0;n<t.length;n++)t[n]*=58;t[0]+=s[r];var a=0;for(n=0;n<t.length;n++)t[n]+=a,a=t[n]>>8,t[n]&=255;while(a)t.push(255&a),a>>=8}for(i=0;"1"===e[i]&&i<e.length-1;i++)t.push(0);return new Uint8Array(t.reverse())}}},"6ff5":function(e,t,i){var r=i("fd46"),s=i("0e30"),n=s(r("slice",(function(e,t,i){return Array.prototype.slice.call(i,e,t)})));e.exports=n},7037:function(e,t,i){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"70ea":function(e,t,i){var r=i("001c");function s(e){return function t(i){return 0===arguments.length||r(i)?t:e.apply(this,arguments)}}e.exports=s},"713a":function(e,t,i){"use strict";var r=i("8212");t["a"]=r["a"]},7140:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,OrderNotFound:n,InvalidOrder:a,BadRequest:o,AuthenticationError:c,RateLimitExceeded:d,RequestTimeout:h,BadSymbol:u,AddressPending:l,PermissionDenied:f,InsufficientFunds:p}=i("74b0"),{ROUND:m}=i("5ea4"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"vcc",name:"VCC Exchange",countries:["VN"],rateLimit:1e3,version:"v3",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!1,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0},timeframes:{"1m":"60000","5m":"300000","15m":"900000","30m":"1800000","1h":"3600000","2h":"7200000","4h":"14400000","6h":"21600000","12h":"43200000","1d":"86400000","1w":"604800000"},urls:{logo:"https://user-images.githubusercontent.com/1294454/100545356-8427f500-326c-11eb-9539-7d338242d61b.jpg",api:{public:"https://api.vcc.exchange",private:"https://api.vcc.exchange"},www:"https://vcc.exchange",doc:["https://vcc.exchange/api"],fees:"https://support.vcc.exchange/hc/en-us/articles/360016401754",referral:"https://vcc.exchange?ref=l4xhrH"},api:{public:{get:["summary","exchange_info","assets","ticker","trades/{market_pair}","orderbook/{market_pair}","chart/bars","tick_sizes"]},private:{get:["user","balance","orders/{order_id}","orders/open","orders","orders/trades","deposit-address","transactions"],post:["orders"],put:["orders/{order_id}/cancel","orders/cancel-by-type","orders/cancel-all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{},broad:{"limit may not be greater than":o,"Insufficient balance":p,Unauthenticated:c,"signature is invalid":c,Timeout:h,"Too many requests":d,"quantity field is required":a,"price field is required":a,error_security_level:f,"pair is invalid":u,"type is invalid":a,"Data not found":n}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"symbols"),s=[];for(let n=0;n<r.length;n++){const e=this.safeValue(r,n),t=this.safeString(e,"symbol"),i=t.replace("/","_"),a=this.safeString(e,"coin"),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=this.safeValue(e,"active"),u=this.safeValue(e,"precision",{}),l=this.safeValue(e,"limits",{}),f=this.safeValue(l,"amount",{}),p=this.safeValue(l,"price",{}),m=this.safeValue(l,"cost",{}),g={info:e,id:i,symbol:t,base:c,quote:d,baseId:a,quoteId:o,active:h,precision:{price:this.safeInteger(u,"price"),amount:this.safeInteger(u,"amount"),cost:this.safeInteger(u,"cost")},limits:{amount:{min:this.safeNumber(f,"min"),max:void 0},price:{min:this.safeNumber(p,"min"),max:void 0},cost:{min:this.safeNumber(m,"min"),max:void 0}}};s.push(g)}return s}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={},r=this.safeValue(t,"data"),s=Object.keys(r);for(let n=0;n<s.length;n++){const e=this.safeStringLower(s,n),t=this.safeValue(r,s[n]),a=this.safeCurrencyCode(e),o=this.safeValue(t,"can_deposit"),c=this.safeValue(t,"can_withdraw"),d=o&&c;i[a]={id:e,code:a,name:this.safeString(t,"name"),active:d,fee:this.safeNumber(t,"withdrawal_fee"),precision:this.safeInteger(t,"decimal"),limits:{withdraw:{min:this.safeNumber(t,"min_withdraw"),max:this.safeNumber(t,"max_withdraw")}}}}return i}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.extend({symbol:i["id"]},this.omit(t,"symbol")),s=await this.privateGetTradingFeeSymbol(r);return{info:s,maker:this.safeNumber(s,"provideLiquidityRate"),taker:this.safeNumber(s,"takeLiquidityRate")}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"data"),r={info:t,timestamp:void 0,datetime:void 0},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),a=this.safeValue(i,e),o=this.account();o["free"]=this.safeString(a,"available_balance"),o["total"]=this.safeString(a,"balance"),r[t]=o}return this.parseBalance(r,!1)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={coin:n["baseId"],currency:n["quoteId"],resolution:this.timeframes[t]};r=void 0===r?100:r,r=Math.min(100,r);const o=this.parseTimeframe(t);if(void 0===i){const e=this.seconds();a["to"]=e,a["from"]=e-r*o}else{const e=parseInt(i/1e3);a["from"]=e,a["to"]=this.sum(e,r*o)}const c=await this.publicGetChartBars(this.extend(a,s));return this.parseOHLCVs(c,n,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market_pair:r["id"],level:2};if(void 0!==t){if(0!==t&&5!==t&&10!==t&&20!==t&&50!==t&&100!==t&&500!==t)throw new o(this.id+" fetchOrderBook limit must be 0, 5, 10, 20, 50, 100, 500 if specified");s["depth"]=t}const n=await this.publicGetOrderbookMarketPair(this.extend(s,i)),a=this.safeValue(n,"data"),c=this.safeValue(a,"timestamp");return this.parseOrderBook(a,e,c,"bids","asks",0,1)}parseTicker(e,t){const i=this.milliseconds(),r=this.safeNumber(e,"base_volume"),s=this.safeNumber(e,"quote_volume"),n=this.safeNumber(e,"open_price"),a=this.safeNumber(e,"last_price");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(o=a-n,d=this.sum(a,n)/2,n>0&&(c=o/n*100));const h=this.vwap(r,s),u=void 0===t?void 0:t["symbol"];return{symbol:u,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"max_price"),low:this.safeNumber(e,"min_price"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:h,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:r,quoteVolume:s,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=this.safeValue(i,"data"),n=Object.keys(s);for(let a=0;a<n.length;a++){const e=n[a],t=this.safeMarket(e,void 0,"_"),i=t["symbol"];r[i]=this.parseTicker(s[e],t)}return this.filterByArray(r,"symbol",e)}parseTrade(e,t){const i=this.safeInteger2(e,"trade_timestamp","created_at"),r=this.safeStringUpper(e,"coin"),s=this.safeStringUpper(e,"currency");let n=void 0;void 0!==r&&void 0!==s&&(n=r+"_"+s),t=this.safeMarket(n,t,"_");const a=t["symbol"],o=this.safeString(e,"price"),c=this.safeString2(e,"base_volume","quantity"),d=this.parseNumber(o),h=this.parseNumber(c);let u=this.safeNumber2(e,"quote_volume","amount");void 0===u&&(u=this.parseNumber(g.stringMul(o,c)));const l=this.safeString2(e,"type","trade_type"),f=this.safeString2(e,"trade_id","id"),p=this.safeNumber(e,"fee");let m=void 0;return void 0!==p&&(m={cost:p,currency:t["quote"]}),{info:e,id:f,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:a,type:void 0,side:l,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:m}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market_pair:s["id"]};void 0!==i&&(n["count"]=Math.min(1e3,i));const a=await this.publicGetTradesMarketPair(this.extend(n,r)),o=this.safeValue(a,"data");return this.parseTrades(o,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["limit"]=Math.min(1e3,i)),void 0!==t&&(s["start"]=t);const a=await this.privateGetTransactions(this.extend(s,r));let o=this.safeValue(a,"data",{});return o=this.safeValue(o,"data",[]),this.parseTransactions(o,n,t,i)}async fetchDeposits(e,t,i,r={}){const s={type:"deposit"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchWithdrawals(e,t,i,r={}){const s={type:"withdraw"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"created_at"),s=this.safeInteger(e,"updated_at"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n,t),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeNumber(e,"amount");void 0!==c&&(c=Math.abs(c));const d=this.safeString(e,"blockchain_address"),h=this.safeString(e,"transaction_id"),u=this.safeString(e,"destination_tag");let l=void 0;const f=this.safeNumber(e,"fee");void 0!==f&&(l={cost:f,currency:a});const p=c>0?"deposit":"withdrawal";return{info:e,id:i,txid:h,timestamp:r,datetime:this.iso8601(r),address:d,addressTo:d,addressFrom:void 0,tag:u,tagTo:u,tagFrom:void 0,type:p,amount:c,currency:a,status:o,updated:s,fee:l}}parseTransactionStatus(e){const t={pending:"pending",error:"failed",success:"ok",cancel:"canceled"};return this.safeString(t,e,e)}parseTransactionType(e){const t={deposit:"deposit",withdraw:"withdrawal"};return this.safeString(t,e,e)}costToPrecision(e,t){return this.decimalToPrecision(t,m,this.markets[e]["precision"]["cost"],this.precisionMode,this.paddingMode)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),c={coin:o["baseId"],currency:o["quoteId"],trade_type:i,type:t};if("ceiling_market"===t){const i=this.safeValue(n,"ceiling");if(void 0!==i)c["ceiling"]=this.costToPrecision(e,i);else{if(void 0===s)throw new a(this.id+" createOrder() requires a price argument or a ceiling parameter for "+t+" orders");c["ceiling"]=this.costToPrecision(e,r*s)}}else c["quantity"]=this.amountToPrecision(e,r);"limit"===t&&(c["price"]=this.priceToPrecision(e,s));const d=this.safeValue2(n,"stop_price","stopPrice");void 0!==d&&(c["is_stop"]=1,c["stop_condition"]="buy"===i?"le":"ge",c["stop_price"]=this.priceToPrecision(e,s)),n=this.omit(n,["stop_price","stopPrice"]);const h=await this.privatePostOrders(this.extend(c,n)),u=this.safeValue(h,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePutOrdersOrderIdCancel(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){const i=this.safeString(t,"type"),r=void 0===i?"privatePutOrdersCancelAll":"privatePutOrdersCancelByType",s={};void 0!==i&&(s["type"]=i),await this.loadMarkets();const n=await this[r](this.extend(s,t));let a=this.safeValue(n,"data",{});return a=this.safeValue(n,"data",[]),this.parseOrders(a)}parseOrderStatus(e){const t={pending:"open",stopping:"open",executing:"open",executed:"closed",canceled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeValue(e,"created_at"),r=this.safeValue(e,"updated_at"),s=this.safeStringUpper(e,"coin"),n=this.safeStringUpper(e,"currency"),a=s+"_"+n;t=this.safeMarket(a,t,"_");const o=t["symbol"],c=this.safeNumber(e,"quantity"),d=this.safeNumber(e,"executed_quantity"),h=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeNumber(e,"ceiling"),l=this.safeString(e,"id"),f=this.safeNumber(e,"price"),p=this.safeNumber(e,"executed_price"),m=this.safeNumber(e,"remaining"),g=this.safeString(e,"type"),y=this.safeString(e,"trade_type"),v={currency:t["quote"],cost:this.safeNumber(e,"fee"),rate:this.safeNumber(e,"fee_rate")};let b=void 0;r!==i&&(b=r);const w=this.safeNumber(e,"stopPrice");return this.safeOrder({id:l,clientOrderId:l,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:b,status:h,symbol:o,type:g,timeInForce:void 0,postOnly:void 0,side:y,price:f,stopPrice:w,average:p,amount:c,cost:u,filled:d,remaining:m,fee:v,trades:void 0,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrdersOrderId(this.extend(r,i)),n=this.safeValue(s,"data");return this.parseOrder(n)}async fetchOrdersWithMethod(e,t,i,r,s={}){await this.loadMarkets();const n={};let a=void 0;void 0!==t&&(a=this.market(t),n["coin"]=a["baseId"],n["currency"]=a["quoteId"]),void 0!==i&&(n["start_date"]=i),void 0!==r&&(n["limit"]=Math.min(1e3,r));const o=await this[e](this.extend(n,s));let c=this.safeValue(o,"data",{});return c=this.safeValue(c,"data",[]),this.parseOrders(c,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrdersOpen",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrders",e,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["coin"]=n["baseId"],s["currency"]=n["quoteId"]),void 0!==t&&(s["start_date"]=t),void 0!==i&&(s["limit"]=Math.min(1e3,i));const a=await this.privateGetOrdersTrades(this.extend(s,r));let o=this.safeValue(a,"data",{});return o=this.safeValue(o,"data",[]),this.parseTrades(o,n,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetDepositAddress(this.extend(r,t)),n=this.safeValue(s,"data"),a=this.safeString(n,"status");if("REQUESTED"===a)throw new l(this.id+" is generating "+e+" deposit address, call fetchDepositAddress one more time later to retrieve the generated address");const o=this.safeString(n,"blockchain_address");this.checkAddress(o);const c=this.safeString(n,"blockchain_tag"),d=this.safeString(n,"currency");return{currency:this.safeCurrencyCode(d),address:o,tag:c,info:n}}sign(e,t="public",i="GET",r={},s,n){let a=this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(Object.keys(o).length&&(a+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();"GET"!==i&&(n=this.json(o));const t=i+" "+a,r=this.hmac(this.encode(t),this.encode(this.secret),"sha256");s={Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json",timestamp:e,signature:r}}return a=this.urls["api"][t]+"/"+a,{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"message");if(void 0!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],a,e),new s(e)}}}},7156:function(e,t,i){var r=i("861d"),s=i("d2bb");e.exports=function(e,t,i){var n,a;return s&&"function"==typeof(n=t.constructor)&&n!==i&&r(a=n.prototype)&&a!==i.prototype&&s(e,a),e}},"71d9":function(e,t,i){"use strict";var r=i("3835"),s=i("5530"),n=(i("a9e3"),i("0481"),i("5e23"),i("8dd9")),a=i("adda"),o=i("80d2"),c=i("d9bd");t["a"]=n["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var e=this.computedContentHeight;if(!this.isExtended)return e;var t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return Object(s["a"])(Object(s["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return Object(s["a"])(Object(s["a"])({},this.measurableStyles),{},{height:Object(o["g"])(this.computedHeight)})}},created:function(){var e=this,t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((function(t){var i=Object(r["a"])(t,2),s=i[0],n=i[1];e.$attrs.hasOwnProperty(s)&&Object(c["a"])(s,n,e)}))},methods:{genBackground:function(){var e={height:Object(o["g"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(a["a"],{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(o["g"])(this.computedContentHeight)}},Object(o["s"])(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(o["g"])(this.extensionHeight)}},Object(o["s"])(this,"extension"))}},render:function(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;var t=[this.genContent()],i=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,i,t)}})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7435:function(e,t,i){var r=i("70ea"),s=i("64eb"),n=r((function(e){return s(e.length,(function(t,i){var r=Array.prototype.slice.call(arguments,0);return r[0]=i,r[1]=t,e.apply(this,r)}))}));e.exports=n},"7435e":function(e,t,i){},"746f":function(e,t,i){var r=i("428f"),s=i("5135"),n=i("e538"),a=i("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});s(t,e)||a(t,e,{value:n.f(e)})}},7496:function(e,t,i){"use strict";var r=i("5530"),s=(i("df86"),i("7560")),n=i("58df");t["a"]=Object(n["a"])(s["a"]).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark:function(){return this.$vuetify.theme.dark}},beforeCreate:function(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render:function(e){var t=e("div",{staticClass:"v-application--wrap"},this.$slots.default);return e("div",{staticClass:"v-application",class:Object(r["a"])({"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl},this.themeClasses),attrs:{"data-app":!0},domProps:{id:this.id}},[t])}})},"74b0":function(e,t,i){"use strict";const r=i("7a21");function s(e,t,i={}){for(const[r,n]of Object.entries(t)){const t=Object.assign(i,{[r]:class extends e{constructor(e){super(e),this.constructor=t,this.__proto__=t.prototype,this.name=r,this.message=e,Object.setPrototypeOf(this,t.prototype)}}})[r];s(t,n,i)}return i}e.exports=s(Error,r)},"74d2":function(e,t,i){(function(e){(function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function n(e,t,i){if(n.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var a;"object"===typeof e?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;try{a=i("b639").Buffer}catch(x){}function o(e,t,i){for(var s=0,n=Math.min(e.length,i),a=0,o=t;o<n;o++){var c,d=e.charCodeAt(o)-48;s<<=4,c=d>=49&&d<=54?d-49+10:d>=17&&d<=22?d-17+10:d,s|=c,a|=c}return r(!(240&a),"Invalid character in "+e),s}function c(e,t,i,s){for(var n=0,a=0,o=Math.min(e.length,i),c=t;c<o;c++){var d=e.charCodeAt(c)-48;n*=s,a=d>=49?d-49+10:d>=17?d-17+10:d,r(d>=0&&a<s,"Invalid character"),n+=a}return n}function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}n.isBN=function(e){return e instanceof n||null!==e&&"object"===typeof e&&e.constructor.wordSize===n.wordSize&&Array.isArray(e.words)},n.max=function(e,t){return e.cmp(t)>0?e:t},n.min=function(e,t){return e.cmp(t)<0?e:t},n.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var s=0;"-"===e[0]&&s++,16===t?this._parseHex(e,s):this._parseBase(e,t,s),"-"===e[0]&&(this.negative=1),this._strip(),"le"===i&&this._initArray(this.toArray(),t,i)},n.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},n.prototype._initArray=function(e,t,i){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var n,a,o=0;if("be"===i)for(s=e.length-1,n=0;s>=0;s-=3)a=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[n]|=a<<o&67108863,this.words[n+1]=a>>>26-o&67108863,o+=24,o>=26&&(o-=26,n++);else if("le"===i)for(s=0,n=0;s<e.length;s+=3)a=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[n]|=a<<o&67108863,this.words[n+1]=a>>>26-o&67108863,o+=24,o>=26&&(o-=26,n++);return this._strip()},n.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s,n=0;for(i=e.length-6,r=0;i>=t;i-=6)s=o(e,i,i+6),this.words[r]|=s<<n&67108863,this.words[r+1]|=s>>>26-n&4194303,n+=24,n>=26&&(n-=26,r++);i+6!==t&&(s=o(e,t,i+6),this.words[r]|=s<<n&67108863,this.words[r+1]|=s>>>26-n&4194303),this._strip()},n.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var n=e.length-i,a=n%r,o=Math.min(n,n-a)+i,d=0,h=i;h<o;h+=r)d=c(e,h,h+r,t),this.imuln(s),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==a){var u=1;for(d=c(e,h,e.length,t),h=0;h<a;h++)u*=t;this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},n.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},n.prototype._move=function(e){e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red},n.prototype.clone=function(){var e=new n(null);return this.copy(e),e},n.prototype._expand=function(e){while(this.length<e)this.words[this.length++]=0;return this},n.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?n.prototype[Symbol.for("nodejs.util.inspect.custom")]=d:n.prototype.inspect=d;var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(e,t){var i;if(e=e||10,t=0|t||1,16===e||"hex"===e){i="";for(var s=0,n=0,a=0;a<this.length;a++){var o=this.words[a],c=(16777215&(o<<s|n)).toString(16);n=o>>>24-s&16777215,i=0!==n||a!==this.length-1?h[6-c.length]+c+i:c+i,s+=2,s>=26&&(s-=26,a--)}0!==n&&(i=n.toString(16)+i);while(i.length%t!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],f=l[e];i="";var p=this.clone();p.negative=0;while(!p.isZero()){var m=p.modrn(f).toString(e);p=p.idivn(f),i=p.isZero()?m+i:h[d-m.length]+m+i}this.isZero()&&(i="0"+i);while(i.length%t!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},n.prototype.toJSON=function(){return this.toString(16,2)},a&&(n.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),n.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var f=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};function p(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=e.words[r]>>>s&1}return t}function m(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],n=0|t.words[0],a=s*n,o=67108863&a,c=a/67108864|0;i.words[0]=o;for(var d=1;d<r;d++){for(var h=c>>>26,u=67108863&c,l=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=l;f++){var p=d-f|0;s=0|e.words[p],n=0|t.words[f],a=s*n+u,h+=a/67108864|0,u=67108863&a}i.words[d]=0|u,c=0|h}return 0!==c?i.words[d]=0|c:i.length--,i._strip()}n.prototype.toArrayLike=function(e,t,i){this._strip();var s=this.byteLength(),n=i||Math.max(1,s);r(s<=n,"byte array longer than desired length"),r(n>0,"Requested array length <= 0");var a=f(e,n),o="le"===t?"LE":"BE";return this["_toArrayLike"+o](a,s),a},n.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,s=0,n=0;s<this.length;s++){var a=this.words[s]<<n|r;e[i++]=255&a,i<e.length&&(e[i++]=a>>8&255),i<e.length&&(e[i++]=a>>16&255),6===n?(i<e.length&&(e[i++]=a>>24&255),r=0,n=0):(r=a>>>24,n+=2)}if(i<e.length){e[i++]=r;while(i<e.length)e[i++]=0}},n.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,s=0,n=0;s<this.length;s++){var a=this.words[s]<<n|r;e[i--]=255&a,i>=0&&(e[i--]=a>>8&255),i>=0&&(e[i--]=a>>16&255),6===n?(i>=0&&(e[i--]=a>>24&255),r=0,n=0):(r=a>>>24,n+=2)}if(i>=0){e[i--]=r;while(i>=0)e[i--]=0}},Math.clz32?n.prototype._countBits=function(e){return 32-Math.clz32(e)}:n.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},n.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},n.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},n.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(e){while(this.length<e.length)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},n.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},n.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},n.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},n.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},n.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},n.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},n.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},n.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},n.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},n.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},n.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},n.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this._strip()},n.prototype.notn=function(e){return this.clone().inotn(e)},n.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this._strip()},n.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,n=0;n<r.length;n++)t=(0|i.words[n])+(0|r.words[n])+s,this.words[n]=67108863&t,s=t>>>26;for(;0!==s&&n<i.length;n++)t=(0|i.words[n])+s,this.words[n]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this},n.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},n.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var n=0,a=0;a<r.length;a++)t=(0|i.words[a])-(0|r.words[a])+n,n=t>>26,this.words[a]=67108863&t;for(;0!==n&&a<i.length;a++)t=(0|i.words[a])+n,n=t>>26,this.words[a]=67108863&t;if(0===n&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,i){var r,s,n,a=e.words,o=t.words,c=i.words,d=0,h=0|a[0],u=8191&h,l=h>>>13,f=0|a[1],p=8191&f,m=f>>>13,g=0|a[2],y=8191&g,v=g>>>13,b=0|a[3],w=8191&b,S=b>>>13,k=0|a[4],_=8191&k,O=k>>>13,T=0|a[5],C=8191&T,I=T>>>13,x=0|a[6],E=8191&x,A=x>>>13,N=0|a[7],M=8191&N,P=N>>>13,B=0|a[8],R=8191&B,D=B>>>13,L=0|a[9],V=8191&L,j=L>>>13,q=0|o[0],U=8191&q,G=q>>>13,F=0|o[1],H=8191&F,z=F>>>13,K=0|o[2],W=8191&K,$=K>>>13,Y=0|o[3],X=8191&Y,Q=Y>>>13,Z=0|o[4],J=8191&Z,ee=Z>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ne=8191&se,ae=se>>>13,oe=0|o[7],ce=8191&oe,de=oe>>>13,he=0|o[8],ue=8191&he,le=he>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19,r=Math.imul(u,U),s=Math.imul(u,G),s=s+Math.imul(l,U)|0,n=Math.imul(l,G);var ge=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,U),s=Math.imul(p,G),s=s+Math.imul(m,U)|0,n=Math.imul(m,G),r=r+Math.imul(u,H)|0,s=s+Math.imul(u,z)|0,s=s+Math.imul(l,H)|0,n=n+Math.imul(l,z)|0;var ye=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,U),s=Math.imul(y,G),s=s+Math.imul(v,U)|0,n=Math.imul(v,G),r=r+Math.imul(p,H)|0,s=s+Math.imul(p,z)|0,s=s+Math.imul(m,H)|0,n=n+Math.imul(m,z)|0,r=r+Math.imul(u,W)|0,s=s+Math.imul(u,$)|0,s=s+Math.imul(l,W)|0,n=n+Math.imul(l,$)|0;var ve=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,U),s=Math.imul(w,G),s=s+Math.imul(S,U)|0,n=Math.imul(S,G),r=r+Math.imul(y,H)|0,s=s+Math.imul(y,z)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(v,z)|0,r=r+Math.imul(p,W)|0,s=s+Math.imul(p,$)|0,s=s+Math.imul(m,W)|0,n=n+Math.imul(m,$)|0,r=r+Math.imul(u,X)|0,s=s+Math.imul(u,Q)|0,s=s+Math.imul(l,X)|0,n=n+Math.imul(l,Q)|0;var be=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(_,U),s=Math.imul(_,G),s=s+Math.imul(O,U)|0,n=Math.imul(O,G),r=r+Math.imul(w,H)|0,s=s+Math.imul(w,z)|0,s=s+Math.imul(S,H)|0,n=n+Math.imul(S,z)|0,r=r+Math.imul(y,W)|0,s=s+Math.imul(y,$)|0,s=s+Math.imul(v,W)|0,n=n+Math.imul(v,$)|0,r=r+Math.imul(p,X)|0,s=s+Math.imul(p,Q)|0,s=s+Math.imul(m,X)|0,n=n+Math.imul(m,Q)|0,r=r+Math.imul(u,J)|0,s=s+Math.imul(u,ee)|0,s=s+Math.imul(l,J)|0,n=n+Math.imul(l,ee)|0;var we=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(C,U),s=Math.imul(C,G),s=s+Math.imul(I,U)|0,n=Math.imul(I,G),r=r+Math.imul(_,H)|0,s=s+Math.imul(_,z)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(O,z)|0,r=r+Math.imul(w,W)|0,s=s+Math.imul(w,$)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(S,$)|0,r=r+Math.imul(y,X)|0,s=s+Math.imul(y,Q)|0,s=s+Math.imul(v,X)|0,n=n+Math.imul(v,Q)|0,r=r+Math.imul(p,J)|0,s=s+Math.imul(p,ee)|0,s=s+Math.imul(m,J)|0,n=n+Math.imul(m,ee)|0,r=r+Math.imul(u,ie)|0,s=s+Math.imul(u,re)|0,s=s+Math.imul(l,ie)|0,n=n+Math.imul(l,re)|0;var Se=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(E,U),s=Math.imul(E,G),s=s+Math.imul(A,U)|0,n=Math.imul(A,G),r=r+Math.imul(C,H)|0,s=s+Math.imul(C,z)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(I,z)|0,r=r+Math.imul(_,W)|0,s=s+Math.imul(_,$)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(O,$)|0,r=r+Math.imul(w,X)|0,s=s+Math.imul(w,Q)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(S,Q)|0,r=r+Math.imul(y,J)|0,s=s+Math.imul(y,ee)|0,s=s+Math.imul(v,J)|0,n=n+Math.imul(v,ee)|0,r=r+Math.imul(p,ie)|0,s=s+Math.imul(p,re)|0,s=s+Math.imul(m,ie)|0,n=n+Math.imul(m,re)|0,r=r+Math.imul(u,ne)|0,s=s+Math.imul(u,ae)|0,s=s+Math.imul(l,ne)|0,n=n+Math.imul(l,ae)|0;var ke=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(M,U),s=Math.imul(M,G),s=s+Math.imul(P,U)|0,n=Math.imul(P,G),r=r+Math.imul(E,H)|0,s=s+Math.imul(E,z)|0,s=s+Math.imul(A,H)|0,n=n+Math.imul(A,z)|0,r=r+Math.imul(C,W)|0,s=s+Math.imul(C,$)|0,s=s+Math.imul(I,W)|0,n=n+Math.imul(I,$)|0,r=r+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(O,Q)|0,r=r+Math.imul(w,J)|0,s=s+Math.imul(w,ee)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(S,ee)|0,r=r+Math.imul(y,ie)|0,s=s+Math.imul(y,re)|0,s=s+Math.imul(v,ie)|0,n=n+Math.imul(v,re)|0,r=r+Math.imul(p,ne)|0,s=s+Math.imul(p,ae)|0,s=s+Math.imul(m,ne)|0,n=n+Math.imul(m,ae)|0,r=r+Math.imul(u,ce)|0,s=s+Math.imul(u,de)|0,s=s+Math.imul(l,ce)|0,n=n+Math.imul(l,de)|0;var _e=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,U),s=Math.imul(R,G),s=s+Math.imul(D,U)|0,n=Math.imul(D,G),r=r+Math.imul(M,H)|0,s=s+Math.imul(M,z)|0,s=s+Math.imul(P,H)|0,n=n+Math.imul(P,z)|0,r=r+Math.imul(E,W)|0,s=s+Math.imul(E,$)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(A,$)|0,r=r+Math.imul(C,X)|0,s=s+Math.imul(C,Q)|0,s=s+Math.imul(I,X)|0,n=n+Math.imul(I,Q)|0,r=r+Math.imul(_,J)|0,s=s+Math.imul(_,ee)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(O,ee)|0,r=r+Math.imul(w,ie)|0,s=s+Math.imul(w,re)|0,s=s+Math.imul(S,ie)|0,n=n+Math.imul(S,re)|0,r=r+Math.imul(y,ne)|0,s=s+Math.imul(y,ae)|0,s=s+Math.imul(v,ne)|0,n=n+Math.imul(v,ae)|0,r=r+Math.imul(p,ce)|0,s=s+Math.imul(p,de)|0,s=s+Math.imul(m,ce)|0,n=n+Math.imul(m,de)|0,r=r+Math.imul(u,ue)|0,s=s+Math.imul(u,le)|0,s=s+Math.imul(l,ue)|0,n=n+Math.imul(l,le)|0;var Oe=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(V,U),s=Math.imul(V,G),s=s+Math.imul(j,U)|0,n=Math.imul(j,G),r=r+Math.imul(R,H)|0,s=s+Math.imul(R,z)|0,s=s+Math.imul(D,H)|0,n=n+Math.imul(D,z)|0,r=r+Math.imul(M,W)|0,s=s+Math.imul(M,$)|0,s=s+Math.imul(P,W)|0,n=n+Math.imul(P,$)|0,r=r+Math.imul(E,X)|0,s=s+Math.imul(E,Q)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(A,Q)|0,r=r+Math.imul(C,J)|0,s=s+Math.imul(C,ee)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(I,ee)|0,r=r+Math.imul(_,ie)|0,s=s+Math.imul(_,re)|0,s=s+Math.imul(O,ie)|0,n=n+Math.imul(O,re)|0,r=r+Math.imul(w,ne)|0,s=s+Math.imul(w,ae)|0,s=s+Math.imul(S,ne)|0,n=n+Math.imul(S,ae)|0,r=r+Math.imul(y,ce)|0,s=s+Math.imul(y,de)|0,s=s+Math.imul(v,ce)|0,n=n+Math.imul(v,de)|0,r=r+Math.imul(p,ue)|0,s=s+Math.imul(p,le)|0,s=s+Math.imul(m,ue)|0,n=n+Math.imul(m,le)|0,r=r+Math.imul(u,pe)|0,s=s+Math.imul(u,me)|0,s=s+Math.imul(l,pe)|0,n=n+Math.imul(l,me)|0;var Te=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(V,H),s=Math.imul(V,z),s=s+Math.imul(j,H)|0,n=Math.imul(j,z),r=r+Math.imul(R,W)|0,s=s+Math.imul(R,$)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(D,$)|0,r=r+Math.imul(M,X)|0,s=s+Math.imul(M,Q)|0,s=s+Math.imul(P,X)|0,n=n+Math.imul(P,Q)|0,r=r+Math.imul(E,J)|0,s=s+Math.imul(E,ee)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(A,ee)|0,r=r+Math.imul(C,ie)|0,s=s+Math.imul(C,re)|0,s=s+Math.imul(I,ie)|0,n=n+Math.imul(I,re)|0,r=r+Math.imul(_,ne)|0,s=s+Math.imul(_,ae)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(O,ae)|0,r=r+Math.imul(w,ce)|0,s=s+Math.imul(w,de)|0,s=s+Math.imul(S,ce)|0,n=n+Math.imul(S,de)|0,r=r+Math.imul(y,ue)|0,s=s+Math.imul(y,le)|0,s=s+Math.imul(v,ue)|0,n=n+Math.imul(v,le)|0,r=r+Math.imul(p,pe)|0,s=s+Math.imul(p,me)|0,s=s+Math.imul(m,pe)|0,n=n+Math.imul(m,me)|0;var Ce=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(V,W),s=Math.imul(V,$),s=s+Math.imul(j,W)|0,n=Math.imul(j,$),r=r+Math.imul(R,X)|0,s=s+Math.imul(R,Q)|0,s=s+Math.imul(D,X)|0,n=n+Math.imul(D,Q)|0,r=r+Math.imul(M,J)|0,s=s+Math.imul(M,ee)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(P,ee)|0,r=r+Math.imul(E,ie)|0,s=s+Math.imul(E,re)|0,s=s+Math.imul(A,ie)|0,n=n+Math.imul(A,re)|0,r=r+Math.imul(C,ne)|0,s=s+Math.imul(C,ae)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(I,ae)|0,r=r+Math.imul(_,ce)|0,s=s+Math.imul(_,de)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(O,de)|0,r=r+Math.imul(w,ue)|0,s=s+Math.imul(w,le)|0,s=s+Math.imul(S,ue)|0,n=n+Math.imul(S,le)|0,r=r+Math.imul(y,pe)|0,s=s+Math.imul(y,me)|0,s=s+Math.imul(v,pe)|0,n=n+Math.imul(v,me)|0;var Ie=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(V,X),s=Math.imul(V,Q),s=s+Math.imul(j,X)|0,n=Math.imul(j,Q),r=r+Math.imul(R,J)|0,s=s+Math.imul(R,ee)|0,s=s+Math.imul(D,J)|0,n=n+Math.imul(D,ee)|0,r=r+Math.imul(M,ie)|0,s=s+Math.imul(M,re)|0,s=s+Math.imul(P,ie)|0,n=n+Math.imul(P,re)|0,r=r+Math.imul(E,ne)|0,s=s+Math.imul(E,ae)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(A,ae)|0,r=r+Math.imul(C,ce)|0,s=s+Math.imul(C,de)|0,s=s+Math.imul(I,ce)|0,n=n+Math.imul(I,de)|0,r=r+Math.imul(_,ue)|0,s=s+Math.imul(_,le)|0,s=s+Math.imul(O,ue)|0,n=n+Math.imul(O,le)|0,r=r+Math.imul(w,pe)|0,s=s+Math.imul(w,me)|0,s=s+Math.imul(S,pe)|0,n=n+Math.imul(S,me)|0;var xe=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(V,J),s=Math.imul(V,ee),s=s+Math.imul(j,J)|0,n=Math.imul(j,ee),r=r+Math.imul(R,ie)|0,s=s+Math.imul(R,re)|0,s=s+Math.imul(D,ie)|0,n=n+Math.imul(D,re)|0,r=r+Math.imul(M,ne)|0,s=s+Math.imul(M,ae)|0,s=s+Math.imul(P,ne)|0,n=n+Math.imul(P,ae)|0,r=r+Math.imul(E,ce)|0,s=s+Math.imul(E,de)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(A,de)|0,r=r+Math.imul(C,ue)|0,s=s+Math.imul(C,le)|0,s=s+Math.imul(I,ue)|0,n=n+Math.imul(I,le)|0,r=r+Math.imul(_,pe)|0,s=s+Math.imul(_,me)|0,s=s+Math.imul(O,pe)|0,n=n+Math.imul(O,me)|0;var Ee=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(V,ie),s=Math.imul(V,re),s=s+Math.imul(j,ie)|0,n=Math.imul(j,re),r=r+Math.imul(R,ne)|0,s=s+Math.imul(R,ae)|0,s=s+Math.imul(D,ne)|0,n=n+Math.imul(D,ae)|0,r=r+Math.imul(M,ce)|0,s=s+Math.imul(M,de)|0,s=s+Math.imul(P,ce)|0,n=n+Math.imul(P,de)|0,r=r+Math.imul(E,ue)|0,s=s+Math.imul(E,le)|0,s=s+Math.imul(A,ue)|0,n=n+Math.imul(A,le)|0,r=r+Math.imul(C,pe)|0,s=s+Math.imul(C,me)|0,s=s+Math.imul(I,pe)|0,n=n+Math.imul(I,me)|0;var Ae=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(V,ne),s=Math.imul(V,ae),s=s+Math.imul(j,ne)|0,n=Math.imul(j,ae),r=r+Math.imul(R,ce)|0,s=s+Math.imul(R,de)|0,s=s+Math.imul(D,ce)|0,n=n+Math.imul(D,de)|0,r=r+Math.imul(M,ue)|0,s=s+Math.imul(M,le)|0,s=s+Math.imul(P,ue)|0,n=n+Math.imul(P,le)|0,r=r+Math.imul(E,pe)|0,s=s+Math.imul(E,me)|0,s=s+Math.imul(A,pe)|0,n=n+Math.imul(A,me)|0;var Ne=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(V,ce),s=Math.imul(V,de),s=s+Math.imul(j,ce)|0,n=Math.imul(j,de),r=r+Math.imul(R,ue)|0,s=s+Math.imul(R,le)|0,s=s+Math.imul(D,ue)|0,n=n+Math.imul(D,le)|0,r=r+Math.imul(M,pe)|0,s=s+Math.imul(M,me)|0,s=s+Math.imul(P,pe)|0,n=n+Math.imul(P,me)|0;var Me=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(V,ue),s=Math.imul(V,le),s=s+Math.imul(j,ue)|0,n=Math.imul(j,le),r=r+Math.imul(R,pe)|0,s=s+Math.imul(R,me)|0,s=s+Math.imul(D,pe)|0,n=n+Math.imul(D,me)|0;var Pe=(d+r|0)+((8191&s)<<13)|0;d=(n+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(V,pe),s=Math.imul(V,me),s=s+Math.imul(j,pe)|0,n=Math.imul(j,me);var Be=(d+r|0)+((8191&s)<<13)|0;return d=(n+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=ve,c[3]=be,c[4]=we,c[5]=Se,c[6]=ke,c[7]=_e,c[8]=Oe,c[9]=Te,c[10]=Ce,c[11]=Ie,c[12]=xe,c[13]=Ee,c[14]=Ae,c[15]=Ne,c[16]=Me,c[17]=Pe,c[18]=Be,0!==d&&(c[19]=d,i.length++),i};function y(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,n=0;n<i.length-1;n++){var a=s;s=0;for(var o=67108863&r,c=Math.min(n,t.length-1),d=Math.max(0,n-e.length+1);d<=c;d++){var h=n-d,u=0|e.words[h],l=0|t.words[d],f=u*l,p=67108863&f;a=a+(f/67108864|0)|0,p=p+o|0,o=67108863&p,a=a+(p>>>26)|0,s+=a>>>26,a&=67108863}i.words[n]=o,r=a,a=s}return 0!==r?i.words[n]=r:i.length--,i._strip()}function v(e,t,i){return y(e,t,i)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),n.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?y(this,e,t):v(this,e,t),i},b.prototype.makeRBT=function(e){for(var t=new Array(e),i=n.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},b.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},b.prototype.permute=function(e,t,i,r,s,n){for(var a=0;a<n;a++)r[a]=t[e[a]],s[a]=i[e[a]]},b.prototype.transform=function(e,t,i,r,s,n){this.permute(n,e,t,i,r,s);for(var a=1;a<s;a<<=1)for(var o=a<<1,c=Math.cos(2*Math.PI/o),d=Math.sin(2*Math.PI/o),h=0;h<s;h+=o)for(var u=c,l=d,f=0;f<a;f++){var p=i[h+f],m=r[h+f],g=i[h+f+a],y=r[h+f+a],v=u*g-l*y;y=u*y+l*g,g=v,i[h+f]=p+g,r[h+f]=m+y,i[h+f+a]=p-g,r[h+f+a]=m-y,f!==o&&(v=c*u-d*l,l=c*l+d*u,u=v)}},b.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},b.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},b.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},b.prototype.convert13b=function(e,t,i,s){for(var n=0,a=0;a<t;a++)n+=0|e[a],i[2*a]=8191&n,n>>>=13,i[2*a+1]=8191&n,n>>>=13;for(a=2*t;a<s;++a)i[a]=0;r(0===n),r(0===(-8192&n))},b.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},b.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),n=this.stub(r),a=new Array(r),o=new Array(r),c=new Array(r),d=new Array(r),h=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,d,r),this.transform(a,n,o,c,r,s),this.transform(d,n,h,u,r,s);for(var f=0;f<r;f++){var p=o[f]*h[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*h[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,n,r,s),this.conjugate(l,n,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},n.prototype.mul=function(e){var t=new n(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},n.prototype.mulf=function(e){var t=new n(null);return t.words=new Array(this.length+e.length),v(this,e,t)},n.prototype.imul=function(e){return this.clone().mulTo(e,this)},n.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var i=0,s=0;s<this.length;s++){var n=(0|this.words[s])*e,a=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=a>>>26,this.words[s]=67108863&a}return 0!==i&&(this.words[s]=i,this.length++),t?this.ineg():this},n.prototype.muln=function(e){return this.clone().imuln(e)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(e){var t=p(e);if(0===t.length)return new n(1);for(var i=this,r=0;r<t.length;r++,i=i.sqr())if(0!==t[r])break;if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},n.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,n=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&n,c=(0|this.words[t])-o<<i;this.words[t]=c|a,a=o>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this._strip()},n.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},n.prototype.iushrn=function(e,t,i){var s;r("number"===typeof e&&e>=0),s=t?(t-t%26)/26:0;var n=e%26,a=Math.min((e-n)/26,this.length),o=67108863^67108863>>>n<<n,c=i;if(s-=a,s=Math.max(0,s),c){for(var d=0;d<a;d++)c.words[d]=this.words[d];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,d=0;d<this.length;d++)this.words[d]=this.words[d+a];else this.words[0]=0,this.length=1;var h=0;for(d=this.length-1;d>=0&&(0!==h||d>=s);d--){var u=0|this.words[d];this.words[d]=h<<26-n|u>>>n,h=u&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},n.prototype.shln=function(e){return this.clone().ishln(e)},n.prototype.ushln=function(e){return this.clone().iushln(e)},n.prototype.shrn=function(e){return this.clone().ishrn(e)},n.prototype.ushrn=function(e){return this.clone().iushrn(e)},n.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return!1;var n=this.words[i];return!!(n&s)},n.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this._strip()},n.prototype.maskn=function(e){return this.clone().imaskn(e)},n.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},n.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},n.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},n.prototype.addn=function(e){return this.clone().iaddn(e)},n.prototype.subn=function(e){return this.clone().isubn(e)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(e,t,i){var s,n,a=e.length+i;this._expand(a);var o=0;for(s=0;s<e.length;s++){n=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;n-=67108863&c,o=(n>>26)-(c/67108864|0),this.words[s+i]=67108863&n}for(;s<this.length-i;s++)n=(0|this.words[s+i])+o,o=n>>26,this.words[s+i]=67108863&n;if(0===o)return this._strip();for(r(-1===o),o=0,s=0;s<this.length;s++)n=-(0|this.words[s])+o,o=n>>26,this.words[s]=67108863&n;return this.negative=1,this._strip()},n.prototype._wordDiv=function(e,t){var i=this.length-e.length,r=this.clone(),s=e,a=0|s.words[s.length-1],o=this._countBits(a);i=26-o,0!==i&&(s=s.ushln(i),r.iushln(i),a=0|s.words[s.length-1]);var c,d=r.length-s.length;if("mod"!==t){c=new n(null),c.length=d+1,c.words=new Array(c.length);for(var h=0;h<c.length;h++)c.words[h]=0}var u=r.clone()._ishlnsubmul(s,1,d);0===u.negative&&(r=u,c&&(c.words[d]=1));for(var l=d-1;l>=0;l--){var f=67108864*(0|r.words[s.length+l])+(0|r.words[s.length+l-1]);f=Math.min(f/a|0,67108863),r._ishlnsubmul(s,f,l);while(0!==r.negative)f--,r.negative=0,r._ishlnsubmul(s,1,l),r.isZero()||(r.negative^=1);c&&(c.words[l]=f)}return c&&c._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:c||null,mod:r}},n.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(a=o.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:s,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new n(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new n(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new n(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,a,o},n.prototype.div=function(e){return this.divmod(e,"div",!1).div},n.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},n.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},n.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),n=i.cmp(r);return n<0||1===s&&0===n?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},n.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,s=0,n=this.length-1;n>=0;n--)s=(i*s+(0|this.words[n]))%e;return t?-s:s},n.prototype.modn=function(e){return this.modrn(e)},n.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,s=this.length-1;s>=0;s--){var n=(0|this.words[s])+67108864*i;this.words[s]=n/e|0,i=n%e}return this._strip(),t?this.ineg():this},n.prototype.divn=function(e){return this.clone().idivn(e)},n.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();var s=new n(1),a=new n(0),o=new n(0),c=new n(1),d=0;while(t.isEven()&&i.isEven())t.iushrn(1),i.iushrn(1),++d;var h=i.clone(),u=t.clone();while(!t.isZero()){for(var l=0,f=1;0===(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0){t.iushrn(l);while(l-- >0)(s.isOdd()||a.isOdd())&&(s.iadd(h),a.isub(u)),s.iushrn(1),a.iushrn(1)}for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(u)),o.iushrn(1),c.iushrn(1)}t.cmp(i)>=0?(t.isub(i),s.isub(o),a.isub(c)):(i.isub(t),o.isub(s),c.isub(a))}return{a:o,b:c,gcd:i.iushln(d)}},n.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();var s,a=new n(1),o=new n(0),c=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0){t.iushrn(d);while(d-- >0)a.isOdd()&&a.iadd(c),a.iushrn(1)}for(var u=0,l=1;0===(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0){i.iushrn(u);while(u-- >0)o.isOdd()&&o.iadd(c),o.iushrn(1)}t.cmp(i)>=0?(t.isub(i),a.isub(o)):(i.isub(t),o.isub(a))}return s=0===t.cmpn(1)?a:o,s.cmpn(0)<0&&s.iadd(e),s},n.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);do{while(t.isEven())t.iushrn(1);while(i.isEven())i.iushrn(1);var s=t.cmp(i);if(s<0){var n=t;t=i,i=n}else if(0===s||0===i.cmpn(1))break;t.isub(i)}while(1);return i.iushln(r)},n.prototype.invm=function(e){return this.egcd(e).a.umod(e)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(e){return this.words[0]&e},n.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var n=s,a=i;0!==n&&a<this.length;a++){var o=0|this.words[a];o+=n,n=o>>>26,o&=67108863,this.words[a]=o}return 0!==n&&(this.words[a]=n,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},n.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},n.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},n.prototype.gtn=function(e){return 1===this.cmpn(e)},n.prototype.gt=function(e){return 1===this.cmp(e)},n.prototype.gten=function(e){return this.cmpn(e)>=0},n.prototype.gte=function(e){return this.cmp(e)>=0},n.prototype.ltn=function(e){return-1===this.cmpn(e)},n.prototype.lt=function(e){return-1===this.cmp(e)},n.prototype.lten=function(e){return this.cmpn(e)<=0},n.prototype.lte=function(e){return this.cmp(e)<=0},n.prototype.eqn=function(e){return 0===this.cmpn(e)},n.prototype.eq=function(e){return 0===this.cmp(e)},n.red=function(e){return new C(e)},n.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(e){return this.red=e,this},n.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},n.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},n.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},n.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},n.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},n.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},n.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},n.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new n(t,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"===typeof e){var t=n._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new n(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),t=i.bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i._strip(),i},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},s(k,S),k.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=n&i,s=10;s<e.length;s++){var a=0|e.words[s];e.words[s-10]=(a&i)<<4|n>>>22,n=a}n>>>=22,e.words[s-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},k.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(_,S),s(O,S),s(T,S),T.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},n._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new k;else if("p224"===e)t=new _;else if("p192"===e)t=new O;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return w[e]=t,t},C.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(e.umod(this.m)._forceRed(this)._move(e),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},C.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var i=this.m.add(new n(1)).iushrn(2);return this.pow(e,i)}var s=this.m.subn(1),a=0;while(!s.isZero()&&0===s.andln(1))a++,s.iushrn(1);r(!s.isZero());var o=new n(1).toRed(this),c=o.redNeg(),d=this.m.subn(1).iushrn(1),h=this.m.bitLength();h=new n(2*h*h).toRed(this);while(0!==this.pow(h,d).cmp(c))h.redIAdd(c);var u=this.pow(h,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=a;while(0!==f.cmp(o)){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new n(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new n(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=4,r=new Array(1<<i);r[0]=new n(1).toRed(this),r[1]=e;for(var s=2;s<r.length;s++)r[s]=this.mul(r[s-1],e);var a=r[0],o=0,c=0,d=t.bitLength()%26;for(0===d&&(d=26),s=t.length-1;s>=0;s--){for(var h=t.words[s],u=d-1;u>=0;u--){var l=h>>u&1;a!==r[0]&&(a=this.sqr(a)),0!==l||0!==o?(o<<=1,o|=l,c++,(c===i||0===s&&0===u)&&(a=this.mul(a,r[o]),c=0,o=0)):c=0}d=26}return a},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},n.mont=function(e){return new I(e)},s(I,C),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new n(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},I.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(e,this)}).call(this,i("62e4")(e))},7503:function(e,t,i){"use strict";i.r(t),i.d(t,"parse",(function(){return m})),i.d(t,"stringify",(function(){return g})),i.d(t,"toJSON",(function(){return y})),i.d(t,"fromJSON",(function(){return v}));
/*! (c) 2020 Andrea Giammarchi */
const{parse:r,stringify:s}=JSON,{keys:n}=Object,a=String,o="string",c={},d="object",h=(e,t)=>t,u=e=>e instanceof a?a(e):e,l=(e,t)=>typeof t===o?new a(t):t,f=(e,t,i,r)=>{const s=[];for(let o=n(i),{length:h}=o,u=0;u<h;u++){const n=o[u],h=i[n];if(h instanceof a){const a=e[h];typeof a!==d||t.has(a)?i[n]=r.call(i,n,a):(t.add(a),i[n]=c,s.push({k:n,a:[e,t,a,r]}))}else i[n]!==c&&(i[n]=r.call(i,n,h))}for(let{length:n}=s,a=0;a<n;a++){const{k:e,a:t}=s[a];i[e]=r.call(i,e,f.apply(null,t))}return i},p=(e,t,i)=>{const r=a(t.push(i)-1);return e.set(i,r),r},m=(e,t)=>{const i=r(e,l).map(u),s=i[0],n=t||h,a=typeof s===d&&s?f(i,new Set,s,n):s;return n.call({"":a},"",a)},g=(e,t,i)=>{const r=t&&typeof t===d?(e,i)=>""===e||-1<t.indexOf(e)?i:void 0:t||h,n=new Map,a=[],c=[];let u=+p(n,a,r.call({"":e},"",e)),l=!u;while(u<a.length)l=!0,c[u]=s(a[u++],f,i);return"["+c.join(",")+"]";function f(e,t){if(l)return l=!l,t;const i=r.call(this,e,t);switch(typeof i){case d:if(null===i)return i;case o:return n.get(i)||p(n,a,i)}return i}},y=e=>r(g(e)),v=e=>m(s(e))},7560:function(e,t,i){"use strict";i.d(t,"b",(function(){return a}));var r=i("5530"),s=i("2b0e"),n=s["a"].extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(e,t){e!==t&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});function a(e){var t=Object(r["a"])(Object(r["a"])({},e.props),e.injections),i=n.options.computed.isDark.call(t);return n.options.computed.themeClasses.call({isDark:i})}t["a"]=n},7581:function(e,t,i){"use strict";const r=i("90db"),{BadSymbol:s,BadRequest:n,ExchangeError:a,ArgumentsRequired:o,OrderNotFound:c,OnMaintenance:d}=i("74b0"),h=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinone",name:"CoinOne",countries:["KR"],rateLimit:667,version:"v2",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchClosedOrders:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},precision:{price:4,amount:4,cost:8},exceptions:{405:d,104:c,108:s,107:n},commonCurrencies:{SOC:"Soda Coin"}})}async fetchMarkets(e={}){const t={currency:"all"},i=await this.publicGetTicker(t),r=[],s="krw",n=this.safeCurrencyCode(s),a=Object.keys(i);for(let o=0;o<a.length;o++){const e=a[o],t=this.safeValue(i,e,{}),c=this.safeValue(t,"currency");if(void 0===c)continue;const d=this.safeCurrencyCode(e);r.push({info:t,id:e,symbol:d+"/"+n,base:d,quote:n,baseId:e,quoteId:s,active:!0})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostAccountBalance(e),i={info:t},r=this.omit(t,["errorCode","result","normalWallets"]),s=Object.keys(r);for(let n=0;n<s.length;n++){const e=s[n],t=r[e],a=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(t,"avail"),o["total"]=this.safeString(t,"balance"),i[a]=o}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={currency:r["id"],format:"json"},n=await this.publicGetOrderbook(this.extend(s,i)),a=this.safeTimestamp(n,"timestamp");return this.parseOrderBook(n,e,a,"bid","ask","price","qty")}async fetchTickers(e,t={}){await this.loadMarkets();const i={currency:"all",format:"json"},r=await this.publicGetTicker(this.extend(i,t)),s={},n=Object.keys(r),a=this.safeTimestamp(r,"timestamp");for(let o=0;o<n.length;o++){const e=n[o];let t=e,i=void 0;if(e in this.markets_by_id){i=this.markets_by_id[e],t=i["symbol"];const n=r[e];s[t]=this.parseTicker(n,i),s[t]["timestamp"]=a}}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i["id"],format:"json"},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeNumber(e,"first"),s=this.safeNumber(e,"last");let n=void 0;void 0!==r&&void 0!==s&&(n=this.sum(r,s)/2);const a=this.safeNumber(e,"yesterday_last");let o=void 0,c=void 0;void 0!==s&&void 0!==a&&(o=s-a,0!==a&&(c=o/a*100));const d=void 0!==t?t["symbol"]:void 0;return{symbol:d,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:r,close:s,last:s,previousClose:a,change:o,percentage:c,average:n,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp"),r=void 0!==t?t["symbol"]:void 0,s=this.safeString(e,"is_ask");let n=this.safeString(e,"type");void 0!==s?"1"===s?n="sell":"0"===s&&(n="buy"):"ask"===n?n="sell":"bid"===n&&(n="buy");const a=this.safeString(e,"price"),o=this.safeString(e,"qty"),c=this.parseNumber(a),d=this.parseNumber(o),u=this.parseNumber(h.stringMul(a,o)),l=this.safeString(e,"orderId");let f=this.safeNumber(e,"fee"),p=void 0;if(void 0!==f){f=Math.abs(f);let i=this.safeNumber(e,"feeRate");i=Math.abs(i);let r=void 0;void 0!==t&&(r="sell"===n?t["quote"]:t["base"]),p={cost:f,currency:r,rate:i}}return{id:this.safeString(e,"id"),info:e,timestamp:i,datetime:this.iso8601(i),order:l,symbol:r,type:void 0,side:n,takerOrMaker:void 0,price:c,amount:d,cost:u,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currency:s["id"],format:"json"},a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"completeOrders",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,n={}){if("limit"!==t)throw new a(this.id+" allows limit orders only");await this.loadMarkets();const o={price:s,currency:this.marketId(e),qty:r},c="privatePostOrder"+this.capitalize(t)+this.capitalize(i),d=await this[c](this.extend(o,n));return this.parseOrder(d)}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_id:e,currency:r["id"]},n=await this.privatePostOrderOrderInfo(this.extend(s,i)),a=this.safeValue(n,"info",{});return a["status"]=this.safeString(a,"status"),this.parseOrder(a,r)}parseOrderStatus(e){const t={live:"open",partially_filled:"open",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeNumber(e,"price"),s=this.safeTimestamp(e,"timestamp");let n=this.safeString(e,"type");"ask"===n?n="sell":"bid"===n&&(n="buy");const a=this.safeNumber(e,"remainQty"),o=this.safeNumber(e,"qty");let c=this.safeString(e,"status");"live"===c&&void 0!==a&&void 0!==o&&a<o&&(c="canceled"),c=this.parseOrderStatus(c);let d=void 0,h=void 0,u=void 0;const l=this.safeStringLower(e,"currency");void 0!==l&&(l in this.markets_by_id?t=this.markets_by_id[l]:(h=this.safeCurrencyCode(l),u="KRW",d=h+"/"+u)),void 0===d&&void 0!==t&&(d=t["symbol"],h=t["base"],u=t["quote"]);let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t="sell"===n?u:h;f={cost:p,rate:this.safeNumber(e,"feeRate"),currency:t}}return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:d,type:"limit",timeInForce:void 0,postOnly:void 0,side:n,price:r,stopPrice:void 0,cost:void 0,average:void 0,amount:o,filled:void 0,remaining:a,status:c,fee:f,trades:void 0})}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" allows fetching closed orders with a specific symbol");await this.loadMarkets();const s=this.market(e),n={currency:s["id"]},o=await this.privatePostOrderLimitOrders(this.extend(n,r)),c=this.safeValue(o,"limitOrders",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={currency:s["id"]},a=await this.privatePostOrderCompleteOrders(this.extend(n,r)),c=this.safeValue(a,"completeOrders",[]);return this.parseTrades(c,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");const r=this.safeNumber(i,"price"),s=this.safeNumber(i,"qty"),n=this.safeInteger(i,"is_ask");if(void 0===r||void 0===s||void 0===n)throw new o(this.id+" cancelOrder() requires {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument.");await this.loadMarkets();const a={order_id:e,price:r,qty:s,is_ask:n,currency:this.marketId(t)},c=await this.privatePostOrderCancel(this.extend(a,i));return c}sign(e,t="public",i="GET",r={},s,n){const a=this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));let c=this.urls["api"]+"/";if("public"===t)c+=a,Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),c+=this.version+"/"+a;const e=this.nonce().toString(),t=this.json(this.extend({access_token:this.apiKey,nonce:e},r)),i=this.stringToBase64(t);n=this.decode(i);const o=this.secret.toUpperCase(),d=this.hmac(i,this.encode(o),"sha512");s={"Content-Type":"application/json","X-COINONE-PAYLOAD":i,"X-COINONE-SIGNATURE":d}}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0!==o){if(!("result"in o))throw new a(this.id+" "+n);{const e=o["result"];if("success"!==e){const e=this.safeString(o,"errorCode"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new a(t)}}}}}},"75b3":function(e,t,i){(function(t){
/*!
 * RSA library for Node.js
 *
 * Author: rzcoder
 * License MIT
 */
var r=i("8996"),s=i("4ab0")._,n=i("4203"),a=i("38e4");e.exports=function(){var e={browser:["md5","ripemd160","sha1","sha256","sha512"]},i="pkcs1",o="pkcs1",c={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};function d(e,n,a){if(!(this instanceof d))return new d(e,n,a);s.isObject(n)&&(a=n,n=void 0),this.$options={signingScheme:o,signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:i,encryptionSchemeOptions:{hash:"sha1",label:null},environment:"browser",rsaUtils:this},this.keyPair=new r.Key,this.$cache={},t.isBuffer(e)||s.isString(e)?this.importKey(e,n):s.isObject(e)&&this.generateKeyPair(e.b,e.e),this.setOptions(a)}return d.prototype.setOptions=function(t){if(t=t||{},t.environment&&(this.$options.environment=t.environment),t.signingScheme){if(s.isString(t.signingScheme)){var r=t.signingScheme.toLowerCase().split("-");1==r.length?e.node.indexOf(r[0])>-1?(this.$options.signingSchemeOptions={hash:r[0]},this.$options.signingScheme=o):(this.$options.signingScheme=r[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:r[1]},this.$options.signingScheme=r[0])}else s.isObject(t.signingScheme)&&(this.$options.signingScheme=t.signingScheme.scheme||o,this.$options.signingSchemeOptions=s.omit(t.signingScheme,"scheme"));if(!n.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(t.encryptionScheme){if(s.isString(t.encryptionScheme)?(this.$options.encryptionScheme=t.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):s.isObject(t.encryptionScheme)&&(this.$options.encryptionScheme=t.encryptionScheme.scheme||i,this.$options.encryptionSchemeOptions=s.omit(t.encryptionScheme,"scheme")),!n.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},d.prototype.importKey=function(e,t){if(!e)throw Error("Empty key given");if(t&&(t=c[t]||t),!a.detectAndImport(this.keyPair,e,t)&&void 0===t)throw Error("Key format must be specified");return this.$cache={},this},d.prototype.isPrivate=function(){return this.keyPair.isPrivate()},d.prototype.isPublic=function(e){return this.keyPair.isPublic(e)},d.prototype.isEmpty=function(e){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},d.prototype.sign=function(e,t,i){if(!this.isPrivate())throw Error("This is not private key");var r=this.keyPair.sign(this.$getDataForEncrypt(e,i));return t&&"buffer"!=t&&(r=r.toString(t)),r},d.prototype.$getDataForEncrypt=function(e,i){if(s.isString(e)||s.isNumber(e))return t.from(""+e,i||"utf8");if(t.isBuffer(e))return e;if(s.isObject(e))return t.from(JSON.stringify(e));throw Error("Unexpected data type")},d}()}).call(this,i("b639").Buffer)},"75eb":function(e,t,i){"use strict";var r=i("ade3"),s=i("53ca"),n=(i("159b"),i("9d65")),a=i("80d2"),o=i("58df"),c=i("d9bd");function d(e){var t=Object(s["a"])(e);return"boolean"===t||"string"===t||e.nodeType===Node.ELEMENT_NODE}t["a"]=Object(o["a"])(n["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:d},contentClass:{type:String,default:""}},data:function(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:function(){this.$nextTick(this.initDetach)}},beforeMount:function(){var e=this;this.$nextTick((function(){if(e.activatorNode){var t=Array.isArray(e.activatorNode)?e.activatorNode:[e.activatorNode];t.forEach((function(t){if(t.elm&&e.$el.parentNode){var i=e.$el===e.$el.parentNode.firstChild?e.$el:e.$el.nextSibling;e.$el.parentNode.insertBefore(t.elm,i)}}))}}))},mounted:function(){this.hasContent&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){var e=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];e.forEach((function(e){e.elm&&e.elm.parentNode&&e.elm.parentNode.removeChild(e.elm)}))}}catch(t){console.log(t)}},methods:{getScopeIdAttrs:function(){var e=Object(a["p"])(this.$vnode,"context.$options._scopeId");return e&&Object(r["a"])({},e,"")},initDetach:function(){var e;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||(e=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,e?(e.appendChild(this.$refs.content),this.hasDetached=!0):Object(c["c"])("Unable to locate target ".concat(this.attach||"[data-app]"),this))}}})},"75f1":function(e,t){e.exports=Number.isInteger||function(e){return e<<0===e}},7612:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i("6497"),n=r(i("6f8f")),a=i("abf9"),o=i("fe34");t.base64Decode=function(e){return o.stringToBytes(s.decode64(e),"raw")},t.base64Encode=function(e){return s.encode64(o.bytesToString(a._fromIn(e),"raw"))},t.base58Decode=function(e){return n.default.decode(e)},t.base58Encode=function(e){return n.default.encode(a._fromIn(e))},t.base16Decode=function(e){return o.stringToBytes(s.hexToBytes(e),"raw")},t.base16Encode=function(e){return s.bytesToHex(o.bytesToString(a._fromIn(e),"raw"))}},7727:function(e,t,i){"use strict";const r=i("4a34");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binanceusdm",name:"Binance USD-M",urls:{logo:"https://user-images.githubusercontent.com/1294454/117738721-668c8d80-b205-11eb-8c49-3fad84c4a07f.jpg",doc:["https://binance-docs.github.io/apidocs/futures/en/","https://binance-docs.github.io/apidocs/spot/en"]},has:{fetchPositions:!0,fetchIsolatedPositions:!0,fetchFundingRate:!0,fetchFundingHistory:!0,setLeverage:!0,setMarginMode:!0},options:{defaultType:"future",leverageBrackets:void 0,marginTypes:{}}})}async transferIn(e,t,i={}){return await this.futuresTransfer(e,t,1,i)}async transferOut(e,t,i={}){return await this.futuresTransfer(e,t,2,i)}}},7736:function(e,t,i){"use strict";var r=i("74d2"),s=i("fee7"),n=s.utils,a=n.assert;function o(e,t){if(e instanceof o)return e;a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam}e.exports=o},"77ed":function(e,t,i){},"780f":function(e,t,i){"use strict";e.exports=n;var r=i("27bf"),s=Object.create(i("3a7c"));function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}s.inherits=i("3fb5"),s.inherits(n,r),n.prototype._transform=function(e,t,i){i(null,e)}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a21":function(e,t,i){"use strict";const r={BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},ArgumentsRequired:{},BadRequest:{BadSymbol:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{},OrderImmediatelyFillable:{},OrderNotFillable:{},DuplicateOrderId:{}},NotSupported:{}},NetworkError:{DDoSProtection:{RateLimitExceeded:{}},ExchangeNotAvailable:{OnMaintenance:{}},InvalidNonce:{},RequestTimeout:{}}}};e.exports=r},"7a77":function(e,t,i){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,i){"use strict";var r=i("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,i,s,n,a){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),r.isString(s)&&o.push("path="+s),r.isString(n)&&o.push("domain="+n),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7ab5":function(e){e.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')},"7b0b":function(e,t,i){var r=i("1d80");e.exports=function(e){return Object(r(e))}},"7bc6":function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return o}));i("5530"),i("3835"),i("ac1f"),i("466d"),i("a15b"),i("d81d"),i("1276"),i("b0c0"),i("5319"),i("498a"),i("d3b7"),i("25f0"),i("38cf"),i("99af"),i("fb6a"),i("2ca0"),i("07ac");var r=i("d9bd");i("80d2"),i("8da5");function s(e){return!!e&&!!e.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function n(e){var t;if("number"===typeof e)t=e;else{if("string"!==typeof e)throw new TypeError("Colors can only be numbers or strings, recieved ".concat(null==e?e:e.constructor.name," instead"));var i="#"===e[0]?e.substring(1):e;3===i.length&&(i=i.split("").map((function(e){return e+e})).join("")),6!==i.length&&Object(r["c"])("'".concat(e,"' is not a valid rgb color")),t=parseInt(i,16)}return t<0?(Object(r["c"])("Colors cannot be negative: '".concat(e,"'")),t=0):(t>16777215||isNaN(t))&&(Object(r["c"])("'".concat(e,"' is not a valid rgb color")),t=16777215),t}function a(e){var t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function o(e){return a(n(e))}},"7be7":function(e,t,i){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(i("3609")),n=i("e6f8"),a=i("fe34"),o=function(e){return a.stringToBytes(s.default.getBytesSync(e),"raw")},c=function(){try{new e(1)}catch(t){throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}};t.random=function(i,r){switch(r){case"Array8":return Array.from(o(i));case"Array16":return Array.from(t.random(i,"Uint16Array"));case"Array32":return Array.from(t.random(i,"Uint32Array"));case"Buffer":return c(),e.from(o(i));case"Uint8Array":return o(i);case"Uint16Array":return new Uint16Array(i).map((function(e){return o(2).reduce((function(e,t,i){return e|t<<8*(1-i)}),0)}));case"Uint32Array":return new Uint32Array(i).map((function(e){return o(4).reduce((function(e,t,i){return e|t<<8*(1-i)}),0)}));default:throw new Error(r+" is unsupported.")}},t.randomBytes=function(e){return t.random(e,"Uint8Array")},t.randomSeed=function(e){return void 0===e&&(e=15),t.random(e,"Array32").map((function(e){return n.seedWordsList[e%n.seedWordsList.length]})).join(" ")}}).call(this,i("b639").Buffer)},"7c73":function(e,t,i){var r,s=i("825a"),n=i("37e8"),a=i("7839"),o=i("d012"),c=i("1be4"),d=i("cc12"),h=i("f772"),u=">",l="<",f="prototype",p="script",m=h("IE_PROTO"),g=function(){},y=function(e){return l+p+u+e+l+"/"+p+u},v=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=d("iframe"),i="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(i),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=r?v(r):b();var e=a.length;while(e--)delete w[f][a[e]];return w()};o[m]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(g[f]=s(e),i=new g,g[f]=null,i[m]=e):i=w(),void 0===t?i:n(i,t)}},"7ce0":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ExchangeNotAvailable:n,OnMaintenance:a,ArgumentsRequired:o,BadRequest:c,AccountSuspended:d,InvalidAddress:h,PermissionDenied:u,InsufficientFunds:l,InvalidNonce:f,InvalidOrder:p,OrderNotFound:m,AuthenticationError:g,RequestTimeout:y,BadSymbol:v,RateLimitExceeded:b,NetworkError:w}=i("74b0"),{TICK_SIZE:S,TRUNCATE:k}=i("5ea4"),_=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex5",name:"OKEX",countries:["CN","US"],version:"v5",rateLimit:1e3,has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchPosition:!0,fetchPositions:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1H","2h":"2H","4h":"4H","6h":"6H","12h":"12H","1d":"1D","1w":"1W","1M":"1M","3M":"3M","6M":"6M","1y":"1Y"},hostname:"www.okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com/join/1888677",test:{rest:"https://testnet.okex.com"}},api:{public:{get:["market/tickers","market/ticker","market/index-tickers","market/books","market/candles","market/history-candles","market/index-candles","market/mark-price-candles","market/trades","market/platform-24-volume","market/oracle","public/instruments","public/delivery-exercise-history","public/open-interest","public/funding-rate","public/funding-rate-history","public/price-limit","public/opt-summary","public/estimated-price","public/discount-rate-interest-free-quota","public/time","public/liquidation-orders","public/mark-price","public/tier","system/status"]},private:{get:["account/account-position-risk","account/balance","account/positions","account/bills","account/bills-archive","account/config","account/max-size","account/max-avail-size","account/leverage-info","account/max-loan","account/trade-fee","account/interest-accrued","account/interest-rate","account/max-withdrawal","asset/deposit-address","asset/balances","asset/deposit-history","asset/withdrawal-history","asset/currencies","asset/bills","trade/order","trade/orders-pending","trade/orders-history","trade/orders-history-archive","trade/fills","trade/orders-algo-pending","trade/orders-algo-history","account/subaccount/balances","asset/subaccount/bills","users/subaccount/list"],post:["account/set-position-mode","account/set-leverage","account/position/margin-balance","account/set-greeks","asset/transfer","asset/withdrawal","asset/purchase_redempt","trade/order","trade/batch-orders","trade/cancel-order","trade/cancel-batch-orders","trade/amend-order","trade/amend-batch-orders","trade/close-position","trade/order-algo","trade/cancel-algos","users/subaccount/delete-apikey","users/subaccount/modify-apikey","users/subaccount/apikey","asset/subaccount/transfer"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:5e-4,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,2:s,5e4:c,50001:a,50002:c,50004:y,50005:n,50006:c,50007:d,50008:g,50009:d,50010:s,50011:b,50012:s,50013:n,50014:s,50015:s,50016:s,50017:s,50018:s,50019:s,50020:s,50021:s,50022:s,50023:s,50024:s,50025:s,50026:s,50027:s,50028:s,50100:s,50101:s,50102:f,50103:g,50104:g,50105:g,50106:g,50107:g,50108:s,50109:s,50110:u,50111:g,50112:g,50113:g,50114:g,50115:c,51e3:c,51001:v,51002:v,51003:c,51004:p,51005:p,51006:p,51007:p,51008:l,51009:d,51010:l,51011:p,51012:s,51014:s,51015:v,51016:p,51017:s,51018:s,51019:s,51020:p,51021:v,51022:v,51023:s,51024:d,51025:s,51026:v,51027:v,51028:v,51029:v,51030:v,51031:p,51100:p,51101:p,51102:p,51103:p,51104:p,51105:p,51106:p,51107:p,51108:p,51109:p,51110:p,51111:c,51112:p,51113:b,51115:p,51116:p,51117:p,51118:p,51119:l,51120:p,51121:p,51122:p,51124:p,51125:p,51126:p,51127:l,51128:p,51129:p,51130:v,51131:l,51132:p,51133:p,51134:p,51135:p,51136:p,51137:p,51138:p,51139:p,51201:p,51202:p,51203:p,51204:p,51205:p,51250:p,51251:p,51252:p,51253:p,51254:p,51255:p,51256:p,51257:p,51258:p,51259:p,51260:p,51261:p,51262:p,51263:p,51264:p,51265:p,51267:p,51268:p,51269:p,51270:p,51271:p,51272:p,51273:p,51274:p,51275:p,51276:p,51277:p,51278:p,51279:p,51280:p,51400:m,51401:m,51402:m,51403:p,51404:p,51405:s,51406:s,51407:c,51408:s,51409:s,51410:s,51500:s,51501:s,51502:l,51503:s,51506:s,51508:s,51509:s,51510:s,51511:s,51600:s,51601:s,51602:s,51603:m,52e3:s,54e3:s,54001:s,58e3:s,58001:g,58002:u,58003:s,58004:d,58005:s,58006:s,58007:s,58100:s,58101:d,58102:b,58103:s,58104:s,58105:s,58106:s,58107:s,58108:s,58109:s,58110:s,58111:s,58112:s,58114:s,58115:s,58116:s,58117:s,58200:s,58201:s,58202:s,58203:h,58204:d,58205:s,58206:s,58207:h,58208:s,58209:s,58210:s,58211:s,58212:s,58213:g,58300:s,58350:l,59e3:s,59001:s,59100:s,59101:s,59102:s,59103:l,59104:s,59105:s,59106:s,59107:s,59108:l,59109:s,59200:l,59201:l,59300:s,59301:s,59401:s,59500:s,59501:s,59502:s,59503:s,59504:s,59505:s,59506:s,59507:s,59508:d,60001:g,60002:g,60003:g,60004:g,60005:g,60006:f,60007:g,60008:g,60009:g,60010:g,60011:g,60012:c,60013:c,60014:b,60015:w,60016:n,60017:c,60018:c,60019:c,63999:s},broad:{}},precisionMode:S,options:{fetchOHLCV:{type:"Candles"},createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","{instrument_id}/constituents":"public"}},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchStatus(e={}){const t=await this.publicGetSystemStatus(e),i=this.safeValue(t,"data",[]),r=this.milliseconds(),s={info:t,updated:r,status:"ok",eta:void 0};for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString(e,"state");"ongoing"===t&&(s["eta"]=this.safeInteger(e,"end"),s["status"]="maintenance")}return this.status=this.extend(this.status,s),this.status}async fetchTime(e={}){const t=await this.publicGetPublicTime(e),i=this.safeValue(t,"data",[]),r=this.safeValue(i,0,{});return this.safeInteger(r,"ts")}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instId"),i=this.safeStringLower(e,"instType"),r="spot"===i,s="futures"===i,n="swap"===i,a="option"===i;let o=this.safeString(e,"baseCcy"),c=this.safeString(e,"quoteCcy");const d=this.safeString(e,"uly");if(void 0!==d&&!r){const e=d.split("-");o=this.safeString(e,0),c=this.safeString(e,1)}const h=this.safeCurrencyCode(o),u=this.safeCurrencyCode(c),l=r?h+"/"+u:t,f=this.safeString(e,"tickSz"),p={amount:this.safeNumber(e,"lotSz"),price:this.parseNumber(f)},m=this.safeString(e,"minSz"),g=this.parseNumber(m);let y=void 0;void 0!==g&&void 0!==f&&(y=this.parseNumber(_.stringMul(f,m)));const v=!0,b=this.safeValue2(this.fees,i,"trading",{});return this.extend(b,{id:t,symbol:l,base:h,quote:u,baseId:o,quoteId:c,info:e,type:i,spot:r,futures:s,swap:n,option:a,active:v,precision:p,limits:{amount:{min:g,max:void 0},price:{min:p["price"],max:void 0},cost:{min:y,max:void 0}}})}async fetchMarketsByType(e,t={}){const i=e.toUpperCase(),r={instType:i};if("OPTION"===i){const e=this.safeValue(this.options,"defaultUnderlying","BTC-USD"),i=this.safeString2(t,"uly","marketId",e);if(void 0===i)throw new o(this.id+" fetchMarketsByType requires an underlying uly or marketId parameter for options markets");r["uly"]=i}const s=await this.publicGetPublicInstruments(this.extend(r,t)),n=this.safeValue(s,"data",[]);return this.parseMarkets(n)}async fetchCurrencies(e={}){const t=await this.privateGetAssetCurrencies(e),i=this.safeValue(t,"data",[]),r={},s=this.groupBy(i,"ccy"),n=Object.keys(s);for(let a=0;a<n.length;a++){const e=n[a],t=s[e],i=this.safeValue(t,0),o=this.safeString(i,"ccy"),c=this.safeCurrencyCode(o),d=1e-8;let h=this.safeString(i,"name");void 0!==h&&h.length<1&&(h=void 0);const u=this.safeValue(i,"canDep"),l=this.safeValue(i,"canWd"),f=this.safeValue(i,"canInternal"),p=!!(u&&l&&f);r[c]={id:o,code:c,info:t,type:void 0,name:h,active:p,fee:this.safeNumber(i,"minFee"),precision:d,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(i,"ccy"),max:void 0}}}}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={instId:r["id"]};t=void 0===t?20:t,void 0!==t&&(s["sz"]=t);const n=await this.publicGetMarketBooks(this.extend(s,i)),a=this.safeValue(n,"data",[]),o=this.safeValue(a,0,{}),c=this.safeInteger(o,"ts");return this.parseOrderBook(o,e,c)}parseTicker(e,t){const i=this.safeInteger(e,"ts"),r=this.safeString(e,"instId");t=this.safeMarket(r,t,"-");const s=t["symbol"],n=this.safeNumber(e,"last"),a=this.safeNumber(e,"open24h"),o=this.safeNumber(e,"volCcy24h"),c=this.safeNumber(e,"vol24h"),d=this.vwap(c,o);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low24h"),bid:this.safeNumber(e,"bidPx"),bidVolume:this.safeNumber(e,"bidSz"),ask:this.safeNumber(e,"askPx"),askVolume:this.safeNumber(e,"askSz"),vwap:d,open:a,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instId:i["id"]},s=await this.publicGetMarketTicker(this.extend(r,t)),n=this.safeValue(s,"data",[]),a=this.safeValue(n,0,{});return this.parseTicker(a,i)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const r=e.toUpperCase(),s={instType:e.toUpperCase()};if("OPTION"===r){const e=this.safeValue(this.options,"defaultUnderlying","BTC-USD"),t=this.safeString2(i,"uly","marketId",e);if(void 0===t)throw new o(this.id+" fetchTickersByType requires an underlying uly or marketId parameter for options markets");s["uly"]=t}const n=await this.publicGetMarketTickers(this.extend(s,i)),a=this.safeValue(n,"data",[]);return this.parseTickers(a,t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){const i=this.safeString(e,"tradeId"),r=this.safeString(e,"instId");t=this.safeMarket(r,t,"-");const s=t["symbol"],n=this.safeInteger(e,"ts"),a=this.safeString2(e,"fillPx","px"),o=this.safeString2(e,"fillSz","sz"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(_.stringMul(a,o)),u=this.safeString(e,"side"),l=this.safeString(e,"ordId"),f=this.safeString(e,"fee");let p=void 0;if(void 0!==f){const t=_.stringNeg(f),i=this.safeString(e,"feeCcy"),r=this.safeCurrencyCode(i);p={cost:this.parseNumber(t),currency:r}}let m=this.safeString(e,"execType");return"T"===m?m="taker":"M"===m&&(m="maker"),{info:e,timestamp:n,datetime:this.iso8601(n),symbol:s,id:i,order:l,type:void 0,takerOrMaker:m,side:u,price:c,amount:d,cost:h,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={instId:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetMarketTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={instId:n["id"],bar:this.timeframes[t]};void 0!==r&&(a["limit"]=r);const o=this.safeValue(this.options,"fetchOHLCV",{}),c=this.safeString(o,"type","Candles"),d=this.safeString(s,"type",c);s=this.omit(s,"type");const h="publicGetMarket"+d;void 0!==i&&(a["before"]=i);const u=await this[h](this.extend(a,s)),l=this.safeValue(u,"data",[]);return this.parseOHLCVs(l,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t={},i=await this.privateGetAccountBalance(this.extend(t,e)),r={info:i},s=this.safeValue(i,"data",[]),n=this.safeValue(s,0,{}),a=this.safeInteger(n,"uTime"),o=this.safeValue(n,"details",[]);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeString(e,"ccy"),i=this.safeCurrencyCode(t),s=this.account(),n=this.safeString(e,"eq"),a=this.safeString(e,"availEq");n.length<1||a.length<1?(s["free"]=this.safeString(e,"availBal"),s["used"]=this.safeString(e,"frozenBal")):(s["total"]=n,s["free"]=a),r[i]=s}return r["timestamp"]=a,r["datetime"]=this.iso8601(a),this.parseBalance(r,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={instId:a["id"],tdMode:"cash",side:i,ordType:t},c=this.safeString2(n,"clOrdId","clientOrderId");if(void 0!==c&&(o["clOrdId"]=c,n=this.omit(n,["clOrdId","clientOrderId"])),"market"===t)if("buy"===i){let e=this.safeNumber(n,"sz");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new p(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'sz' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const i=a["precision"]["price"];o["sz"]=this.decimalToPrecision(e,k,i,this.precisionMode)}else o["sz"]=this.amountToPrecision(e,r);else o["px"]=this.priceToPrecision(e,s),o["sz"]=this.amountToPrecision(e,r);const d=await this.privatePostTradeOrder(this.extend(o,n)),h=this.safeValue(d,"data",[]),u=this.safeValue(h,0),l=this.parseOrder(u,a);return this.extend(l,{type:t,side:i})}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={instId:r["id"]},n=this.safeString2(i,"clOrdId","clientOrderId");void 0!==n?s["clOrdId"]=n:s["ordId"]=e;const a=this.omit(i,["clOrdId","clientOrderId"]),c=await this.privatePostTradeCancelOrder(this.extend(s,a)),d=this.safeValue(c,"data",[]),h=this.safeValue(d,0);return this.parseOrder(h,r)}parseOrderStatus(e){const t={canceled:"canceled",live:"open",partially_filled:"open",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"ordId"),r=this.safeInteger(e,"cTime"),s=this.safeInteger(e,"fillTime"),n=this.safeString(e,"side");let a=this.safeString(e,"ordType"),o=void 0,c=void 0;"post_only"===a?(o=!0,a="limit"):"fok"===a?(c="FOK",a="limit"):"ioc"===a&&(c="IOC",a="limit");const d=this.safeString(e,"instId"),h=this.safeSymbol(d,t,"-"),u=this.safeNumber(e,"sz"),l=this.safeNumber(e,"accFillSz"),f=this.safeNumber2(e,"px","slOrdPx"),p=this.safeNumber(e,"avgPx"),m=this.parseOrderStatus(this.safeString(e,"state")),g=this.safeString(e,"fee");let y=void 0;if(void 0!==g){const t=_.stringNeg(g),i=this.safeString(e,"feeCcy"),r=this.safeCurrencyCode(i);y={cost:this.parseNumber(t),currency:r}}let v=this.safeString(e,"clOrdId");void 0!==v&&v.length<1&&(v=void 0);const b=this.safeNumber(e,"slTriggerPx");return this.safeOrder({info:e,id:i,clientOrderId:v,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:this.iso8601(s),symbol:h,type:a,timeInForce:c,postOnly:o,side:n,price:f,stopPrice:b,average:p,cost:void 0,amount:u,filled:l,remaining:void 0,status:m,fee:y,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={instId:r["id"]},n=this.safeString2(i,"clOrdId","clientOrderId");void 0!==n?s["clOrdId"]=n:s["ordId"]=e;const a=this.omit(i,["clOrdId","clientOrderId"]),c=await this.privateGetTradeOrder(this.extend(s,a)),d=this.safeValue(c,"data",[]),h=this.safeValue(d,0);return this.parseOrder(h,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["instId"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetTradeOrdersPending(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeString(this.options,"defaultType"),n=this.safeString(this.options,"fetchClosedOrders",{});let a=this.safeString(n,"type",s);a=this.safeString(r,"type",a),r=this.omit(r,"type");const o={};let c=void 0;void 0!==e&&(c=this.market(e),(c["futures"]||c["swap"])&&(a=c["type"]),o["instId"]=c["id"]),o["instType"]=a.toUpperCase(),void 0!==i&&(o["limit"]=i);const d=this.safeString(n,"method","privateGetTradeOrdersHistory"),h=await this[d](this.extend(o,r)),u=this.safeValue(h,"data",[]);return this.parseOrders(u,c,t,i)}async fetchMyTrades(e,t,i,r={}){const s={};let n=void 0;await this.loadMarkets(),void 0!==e&&(n=this.market(e),s["instId"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetTradeFills(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,n,t,i,r)}async fetchOrderTrades(e,t,i,r,s={}){const n={ordId:e};return await this.fetchMyTrades(t,i,r,this.extend(n,s))}parseDepositAddress(e,t){const i=this.safeString(e,"addr");let r=this.safeString2(e,"tag","pmtId");r=this.safeString(e,"memo",r);const s=this.safeString(e,"ccy"),n=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:n,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=e.split("-"),r=this.currency(i[0]),s={ccy:r["id"]},n=await this.privateGetAssetDepositAddress(this.extend(s,t)),a=this.safeValue(n,"data",[]),o=this.parseDepositAddresses(a),c=this.safeValue(o,e);if(void 0===c)throw new h(this.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");return c}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);void 0!==r&&(i=i+":"+r);const c=this.safeString(n,"fee");if(void 0===c)throw new o(this.id+" withdraw() requires a `fee` string parameter, network transaction fee must be  0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const d={ccy:a["id"],toAddr:i,dest:"4",amt:this.numberToString(t),fee:this.numberToString(c)};"password"in n?d["pwd"]=n["password"]:"pwd"in n?d["pwd"]=n["pwd"]:this.password&&(d["pwd"]=this.password);const h=this.omit(n,["fee","password","pwd"]);if(!("pwd"in d))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a password / pwd parameter");const u=await this.privatePostAssetWithdrawal(this.extend(d,h)),l=this.safeValue(u,"data",[]),f=this.safeValue(l,0);return this.parseTransaction(f,a)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["ccy"]=n["id"]),void 0!==t&&(s["after"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetAssetDepositHistory(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,n,t,i,r)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["ccy"]=n["id"]),void 0!==t&&(s["after"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetAssetWithdrawalHistory(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,n,t,i,r)}parseTransactionStatus(e){const t={"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0,r=void 0;const s=this.safeString(e,"wdId"),n=this.safeString(e,"from"),a=this.safeString(e,"to"),o=a;let c=this.safeString2(e,"tag","memo");c=this.safeString2(e,"pmtId",c),void 0!==s?(i="withdrawal",r=s):(r=this.safeString(e,"depId"),i="deposit");const d=this.safeString(e,"ccy"),h=this.safeCurrencyCode(d),u=this.safeNumber(e,"amt"),l=this.parseTransactionStatus(this.safeString(e,"state")),f=this.safeString(e,"txId"),p=this.safeInteger(e,"ts");let m=void 0;return m="deposit"===i?0:this.safeNumber(e,"fee"),{info:e,id:r,currency:h,amount:u,addressFrom:n,addressTo:a,address:o,tagFrom:void 0,tagTo:c,tag:c,status:l,type:i,updated:void 0,txid:f,timestamp:p,datetime:this.iso8601(p),fee:{currency:h,cost:m}}}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.safeString(t,"type");t=this.omit(t,"type");const s={instId:i["id"]};void 0!==r&&(s["instType"]=r.toUpperCase()),t=this.omit(t,"type");const n=await this.privateGetAccountPositions(t),a=this.safeValue(n,"data",[]);return this.safeValue(a,0)}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString(t,"type");t=this.omit(t,"type");const r={};void 0!==i&&(r["instType"]=i.toUpperCase()),t=this.omit(t,"type");const s=await this.privateGetAccountPositions(t);return this.safeValue(s,"data",[])}sign(e,t="public",i="GET",r={},s,n){const a=Array.isArray(r),o="/api/"+this.version+"/"+this.implodeParams(e,r),c=this.omit(r,this.extractParams(e));let d=this.implodeHostname(this.urls["api"]["rest"])+o;if("public"===t)Object.keys(c).length&&(d+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());s={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);d+=e,t+=e}}else(a||Object.keys(c).length)&&(n=this.json(c),t+=n),s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["OK-ACCESS-SIGN"]=r}return{url:d,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(!o)return;const h=this.safeString(o,"code");if("0"!==h){const e=this.id+" "+a,t=this.safeValue(o,"data",[]);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeString(r,"sCode"),n=this.safeString(r,"sMsg");this.throwExactlyMatchedException(this.exceptions["exact"],s,e),this.throwBroadlyMatchedException(this.exceptions["broad"],n,e)}throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),new s(e)}}}},"7d18":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPublicKey=function(e){return void 0!==e.publicKey},t.isPrivateKey=function(e){return void 0!==e.privateKey}},"7d3e":function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,ExchangeError:n,OrderNotFound:a,AuthenticationError:o,InsufficientFunds:c,InvalidOrder:d,InvalidNonce:h,NotSupported:u,OnMaintenance:l,RateLimitExceeded:f,BadRequest:p,PermissionDenied:m}=i("74b0"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1.1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","45m":"45","1h":"60","2h":"120","3h":"180","4h":"240","1d":"D","1w":"W","1M":"M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:{public:"https://api.exmo.com",private:"https://api.exmo.com",web:"https://exmo.me"},www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{web:{get:["ctrl/feesAndLimits","en/docs/fees"]},public:{get:["currency","currency/list/extended","order_book","pair_settings","ticker","trades","candles_history","required_amount","payments/providers/crypto/list"]},private:{post:["user_info","order_create","order_cancel","stop_market_order_create","stop_market_order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","code_check","wallet_history","wallet_operations"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1}},options:{useWebapiForFetchingFees:!1,feesAndLimits:{success:1,ctlr:"feesAndLimits",error:"",data:{limits:[{pair:"BTC/USD",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/RUB",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"2000000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"BTC/EUR",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/GBP",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTC/UAH",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"15000000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"BTC/PLN",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"20000000",min_a:"50",max_a:"2000000",taker:"0.4",maker:"0.4"},{pair:"BTC/TRY",min_q:"0.0001",max_q:"1000",min_p:"1",max_p:"800000",min_a:"40",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"BTC/KZT",min_q:"0.0001",max_q:"1000",min_p:"1000",max_p:"12000000",min_a:"1000",max_a:"100000000",taker:"0.4",maker:"0.4"},{pair:"BTC/USDT",min_q:"0.0001",max_q:"1000",min_p:"0.01",max_p:"30000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"ETH/BTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETH/USD",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/RUB",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"XRP/BTC",min_q:"1",max_q:"5000000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XRP/USD",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/RUB",min_q:"1",max_q:"5000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ADA/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ADA/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ADA/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ALGO/EXM",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ALGO/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"50",taker:"0.4",maker:"0.4"},{pair:"ALGO/USDT",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0",maker:"0"},{pair:"ALGO/RUB",min_q:"1",max_q:"1000000",min_p:"0.000001",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ALGO/EUR",min_q:"1",max_q:"1000000",min_p:"0.001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ATOM/EXM",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ATOM/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ATOM/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ATOM/EUR",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/USD",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"30000",min_a:"0.0001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/RUB",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"2000000",min_a:"0.0001",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"BCH/EUR",min_q:"0.003",max_q:"5000",min_p:"0.01",max_p:"300000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BCH/UAH",min_q:"0.003",max_q:"5000",min_p:"0.1",max_p:"30000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"BCH/BTC",min_q:"0.003",max_q:"5000",min_p:"0.00000001",max_p:"5",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BCH/ETH",min_q:"0.003",max_q:"5000",min_p:"0.0000001",max_p:"200",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"BCH/USDT",min_q:"0.003",max_q:"5000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"BTG/USD",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"BTG/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTG/ETH",min_q:"0.01",max_q:"100000",min_p:"0.0001",max_p:"100",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"BTT/RUB",min_q:"1",max_q:"500000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTT/UAH",min_q:"1",max_q:"500000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"BTT/BTC",min_q:"1",max_q:"500000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"CRON/BTC",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"CRON/ETH",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"CRON/USDT",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0",maker:"0"},{pair:"CRON/EXM",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"DAI/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DAI/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"0.5",max_a:"30000000",taker:"0.4",maker:"0.4"},{pair:"DAI/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DAI/ETH",min_q:"1",max_q:"500000",min_p:"0.000001",max_p:"10",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"DASH/USD",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DASH/RUB",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"DASH/UAH",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"200000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"DASH/BTC",min_q:"0.01",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DASH/USDT",min_q:"0.01",max_q:"10000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"DCR/RUB",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"3000000",taker:"0.4",maker:"0.4"},{pair:"DCR/UAH",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.25",max_a:"1000000",taker:"0.4",maker:"0.4"},{pair:"DCR/BTC",min_q:"0.01",max_q:"50000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"DOGE/USD",min_q:"100",max_q:"500000000",min_p:"0.0000001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"DOGE/BTC",min_q:"100",max_q:"500000000",min_p:"0.0000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"EOS/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"EOS/EUR",min_q:"0.01",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"EOS/BTC",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETC/USD",min_q:"0.2",max_q:"100000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETC/RUB",min_q:"0.2",max_q:"100000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ETC/BTC",min_q:"0.2",max_q:"100000",min_p:"0.0001",max_p:"0.5",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETH/EUR",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/GBP",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/UAH",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"1000000",min_a:"90",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ETH/PLN",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"50",max_a:"2000000",taker:"0.4",maker:"0.4"},{pair:"ETH/TRY",min_q:"0.001",max_q:"5000",min_p:"0.1",max_p:"80000",min_a:"10",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ETH/KZT",min_q:"0.001",max_q:"5000",min_p:"4",max_p:"40000000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ETH/USDT",min_q:"0.001",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"ETH/LTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"100000",min_a:"0.05",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"ETZ/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ETZ/ETH",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ETZ/USDT",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"1000",taker:"0",maker:"0"},{pair:"EXM/USDT",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000",taker:"0",maker:"0"},{pair:"EXM/ETH",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"GAS/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"GAS/BTC",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"GNT/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"GNT/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"GUSD/USD",min_q:"1",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"GUSD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"GUSD/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"HP/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"HB/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"LSK/USD",min_q:"0.1",max_q:"500000",min_p:"0.1",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LSK/RUB",min_q:"0.1",max_q:"500000",min_p:"0.001",max_p:"100000",min_a:"0.5",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"LSK/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"1",min_a:"0.0015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"LTC/USD",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LTC/RUB",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"LTC/EUR",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"LTC/UAH",min_q:"0.05",max_q:"10000",min_p:"0.01",max_p:"300000",min_a:"5",max_a:"18000000",taker:"0.4",maker:"0.4"},{pair:"LTC/BTC",min_q:"0.05",max_q:"10000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MKR/BTC",min_q:"0.0001",max_q:"1000",min_p:"0.0001",max_p:"100",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MKR/DAI",min_q:"0.0001",max_q:"1000",min_p:"0.5",max_p:"500000",min_a:"0.005",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"MNC/USD",min_q:"10",max_q:"500000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"MNC/BTC",min_q:"10",max_q:"500000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"MNC/ETH",min_q:"10",max_q:"500000000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"NEO/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"NEO/RUB",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1500000",min_a:"50",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"NEO/BTC",min_q:"0.1",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"OMG/USD",min_q:"0.01",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"OMG/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"OMG/ETH",min_q:"0.01",max_q:"500000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ONG/EXM",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ONG/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ONG/RUB",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"250000",taker:"0.4",maker:"0.4"},{pair:"ONG/UAH",min_q:"1",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"50",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ONT/EXM",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"ONT/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"ONT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"100",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"ONT/UAH",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"200",max_a:"250000",taker:"0.4",maker:"0.4"},{pair:"PTI/RUB",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"600000",min_a:"10",max_a:"600000",taker:"0.4",maker:"0.4"},{pair:"PTI/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"PTI/EOS",min_q:"1",max_q:"50000000",min_p:"0.0000001",max_p:"5000",min_a:"0.01",max_a:"20000",taker:"0.4",maker:"0.4"},{pair:"PTI/USDT",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000",taker:"0",maker:"0"},{pair:"QTUM/USD",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"10000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"QTUM/BTC",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"QTUM/ETH",min_q:"0.1",max_q:"500000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ROOBEE/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"SMART/USD",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"SMART/RUB",min_q:"10",max_q:"100000000",min_p:"0.0001",max_p:"100000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"SMART/EUR",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"1000",min_a:"1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"SMART/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"TRX/USD",min_q:"1",max_q:"50000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"TRX/EUR",min_q:"0.01",max_q:"50000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"TRX/RUB",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"TRX/UAH",min_q:"1",max_q:"50000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"TRX/BTC",min_q:"1",max_q:"50000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USDC/USD",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDC/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USDC/ETH",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"100",min_a:"0.001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"USDC/USDT",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000",taker:"0",maker:"0"},{pair:"USDT/USD",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"USDT/EUR",min_q:"0.01",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/GBP",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"USDT/UAH",min_q:"0.01",max_q:"500000",min_p:"1",max_p:"3000",min_a:"2",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"USDT/KZT",min_q:"1",max_q:"500000",min_p:"200",max_p:"4000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"VLX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"WAVES/USD",min_q:"0.5",max_q:"500000",min_p:"0.001",max_p:"3500",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"WAVES/RUB",min_q:"0.5",max_q:"500000",min_p:"0.01",max_p:"10000",min_a:"1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"WAVES/BTC",min_q:"0.5",max_q:"500000",min_p:"0.000001",max_p:"1",min_a:"0.0001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"WAVES/ETH",min_q:"0.5",max_q:"500000",min_p:"0.00001",max_p:"30",min_a:"0.0035",max_a:"3500",taker:"0.4",maker:"0.4"},{pair:"XEM/USD",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XEM/EUR",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XEM/UAH",min_q:"1",max_q:"10000000",min_p:"0.0001",max_p:"30000",min_a:"10",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"XEM/BTC",min_q:"10",max_q:"10000000",min_p:"0.0000001",max_p:"1",min_a:"0.00015",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XLM/USD",min_q:"0.01",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XLM/RUB",min_q:"0.01",max_q:"5000000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"XLM/TRY",min_q:"0.01",max_q:"5000000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"XLM/BTC",min_q:"1",max_q:"5000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XMR/USD",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XMR/RUB",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"600000",min_a:"10",max_a:"16000000",taker:"0.4",maker:"0.4"},{pair:"XMR/EUR",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XMR/UAH",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"300000",min_a:"5",max_a:"16000000",taker:"0.4",maker:"0.4"},{pair:"XMR/BTC",min_q:"0.01",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"XMR/ETH",min_q:"0.01",max_q:"10000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"XRP/EUR",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/GBP",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XRP/TRY",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"6000000",taker:"0.4",maker:"0.4"},{pair:"XRP/UAH",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"15000000",taker:"0.4",maker:"0.4"},{pair:"XRP/USDT",min_q:"1",max_q:"5000000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000",taker:"0",maker:"0"},{pair:"XRP/ETH",min_q:"1",max_q:"5000000",min_p:"0.00000001",max_p:"10",min_a:"0.00001",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"XTZ/USD",min_q:"0.1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"100000",taker:"0.4",maker:"0.4"},{pair:"XTZ/RUB",min_q:"0.1",max_q:"100000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"XTZ/BTC",min_q:"0.1",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.00001",max_a:"10",taker:"0.4",maker:"0.4"},{pair:"XTZ/ETH",min_q:"0.1",max_q:"100000",min_p:"0.0000001",max_p:"10",min_a:"0.0001",max_a:"1000",taker:"0.4",maker:"0.4"},{pair:"ZEC/USD",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZEC/RUB",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"100000",min_a:"0.1",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"ZEC/EUR",min_q:"0.01",max_q:"10000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZEC/BTC",min_q:"0.01",max_q:"10000",min_p:"0.00001",max_p:"10",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ZRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000",taker:"0.4",maker:"0.4"},{pair:"ZRX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"ZRX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000",taker:"0.4",maker:"0.4"},{pair:"ZAG/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100",taker:"0.4",maker:"0.4"},{pair:"USD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000",taker:"0.4",maker:"0.4"},{pair:"EXM/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0000001",max_a:"1",taker:"0.4",maker:"0.4"}],fees:[{group:"crypto",title:"Cryptocurrency",items:[{prov:"EXM",dep:"0%",wd:"1 EXM"},{prov:"BTC",dep:"0%",wd:"0.0004 BTC"},{prov:"LTC",dep:"0%",wd:"0.01 LTC"},{prov:"DOGE",dep:"0%",wd:"1 Doge"},{prov:"DASH",dep:"0%",wd:"0.002 DASH"},{prov:"ETH",dep:"0%",wd:"0.003 ETH"},{prov:"WAVES",dep:"0%",wd:"0.001 WAVES"},{prov:"ZEC",dep:"0%",wd:"0.001 ZEC"},{prov:"USDT",dep:"0%",wd:""},{prov:"XMR",dep:"0%",wd:"0.001 XMR"},{prov:"XRP",dep:"0%",wd:"0.02 XRP"},{prov:"ETC",dep:"0%",wd:"0.01 ETC"},{prov:"BCH",dep:"0%",wd:"0.001 BCH"},{prov:"BTG",dep:"0%",wd:"0.001 BTG"},{prov:"EOS",dep:"0%",wd:"0.05 EOS"},{prov:"XLM",dep:"0%",wd:"0.01 XLM"},{prov:"OMG",dep:"0.1 OMG",wd:"0.5 OMG"},{prov:"TRX",dep:"0%",wd:"1 TRX"},{prov:"ADA",dep:"0%",wd:"1 ADA"},{prov:"NEO",dep:"0%",wd:"0%"},{prov:"GAS",dep:"0%",wd:"0%"},{prov:"ZRX",dep:"0%",wd:"1 ZRX"},{prov:"GNT",dep:"0%",wd:"1 GNT"},{prov:"GUSD",dep:"0%",wd:"0.5 GUSD"},{prov:"LSK",dep:"0%",wd:"0.1 LSK"},{prov:"XEM",dep:"0%",wd:"5 XEM"},{prov:"SMART",dep:"0%",wd:"0.5 SMART"},{prov:"QTUM",dep:"0%",wd:"0.01 QTUM"},{prov:"HB",dep:"0%",wd:"10 HB"},{prov:"DAI",dep:"0%",wd:"1 DAI"},{prov:"MKR",dep:"0%",wd:"0.005 MKR"},{prov:"MNC",dep:"0%",wd:"15 MNC"},{prov:"PTI",dep:"-",wd:"10 PTI"},{prov:"ETZ",dep:"0%",wd:"1 ETZ"},{prov:"USDC",dep:"0%",wd:"0.5 USDC"},{prov:"ROOBEE",dep:"0%",wd:"200 ROOBEE"},{prov:"DCR",dep:"0%",wd:"0.01 DCR"},{prov:"ZAG",dep:"0%",wd:"0%"},{prov:"BTT",dep:"0 BTT",wd:"100 BTT"},{prov:"VLX",dep:"0%",wd:"1 VLX"},{prov:"CRON",dep:"0%",wd:"5 CRON"},{prov:"ONT",dep:"0%",wd:"1 ONT"},{prov:"ONG",dep:"0%",wd:"5 ONG"},{prov:"ALGO",dep:"0%",wd:"0.01 ALGO"},{prov:"ATOM",dep:"0%",wd:"0.05 ATOM"}]},{group:"usd",title:"USD",items:[{prov:"Payeer",dep:"3.95%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"0%",wd:"2.49%"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5% + 0.5 USD",wd:"-"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"Frick Bank",dep:"0 USD",wd:"-"}]},{group:"eur",title:"EUR",items:[{prov:"Visa/MasterCard",dep:"4.5% + 0.5  EUR",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Visa",dep:"2.95%",wd:"-"},{prov:"Frick Internal Transfer",dep:"0 EUR",wd:"-"},{prov:"SEPA Frick Bank",dep:"0 EUR",wd:"1 EUR"},{prov:"WIRE Frick Bank",dep:"0%",wd:"20 EUR"},{prov:"SEPA Weg Ag",dep:"-",wd:"1 EUR"}]},{group:"gbp",title:"GBP",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"WIRE Frick Bank",dep:"10 GBP",wd:"-"}]},{group:"rub",title:"RUB",items:[{prov:"Payeer",dep:"2.49%",wd:"3.49%"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Qiwi",dep:"1.49%",wd:"2.49%"},{prov:"Yandex Money",dep:"1.49%",wd:"1.95 %"},{prov:"AdvCash",dep:"0.99%",wd:"0.99%"},{prov:"Visa/MasterCard",dep:"2.99%",wd:"3.99% + 60 RUB"}]},{group:"pln",title:"PLN",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"try",title:"TRY",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Visa",dep:"3.05%",wd:"-"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5% + 2 TRY",wd:"-"},{prov:"AdvCash",dep:"0%",wd:"-"}]},{group:"uah",title:"UAH",items:[{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Terminal",dep:"2.6%",wd:"-"},{prov:"Visa/MasterCard EasyTransfer",dep:"-",wd:"2.99%"},{prov:"Visa/MasterCard",dep:"1% + 5 UAH",wd:"-"}]},{group:"kzt",title:"KZT",items:[{prov:"Visa/MasterCard",dep:"3.5%",wd:"2.99% + 450 KZT"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"0%",wd:"-"}]}]}}},exceptions:{exact:{40005:o,40009:h,40015:n,40016:l,40017:o,40032:m,40034:f,50052:c,50054:c,50304:a,50173:a,50277:d,50319:d,50321:d},broad:{"range period is too long":p,"invalid syntax":p,"API rate limit exceeded":f}},orders:{}})}async fetchTradingFees(e={}){if(this.options["useWebapiForFetchingFees"]){const t=await this.webGetEnDocsFees(e);let i=t.split('<td class="th_fees_2" colspan="2">'),r=i.length;if(2!==r)throw new u(this.id+" fetchTradingFees format has changed");const s=i[1];if(i=s.split("</td>"),r=i.length,r<2)throw new u(this.id+" fetchTradingFees format has changed");const n=.01*parseFloat(i[0].replace("%","")),a=n,o=n;return{maker:o,taker:a}}return{maker:this.fees["trading"]["maker"],taker:this.fees["trading"]["taker"]}}parseFixedFloatValue(e){if(void 0===e||"-"===e)return;if(""===e)return 0;const t=e.indexOf("%")>=0,i=e.split(" "),r=i[0].replace("%",""),s=parseFloat(r);if(s>0&&t)throw new n(this.id+" parseFixedFloatValue detected an unsupported non-zero percentage-based fee "+e);return s}async fetchFundingFees(e={}){let t=void 0;t=this.options["useWebapiForFetchingFees"]?await this.webGetCtrlFeesAndLimits(e):this.options["feesAndLimits"];const i={},r={},s=this.safeValue(t["data"],"fees"),n=this.indexBy(s,"group"),a=n["crypto"]["items"];for(let d=0;d<a.length;d++){const e=a[d],t=this.safeCurrencyCode(this.safeString(e,"prov")),s=this.safeString(e,"wd"),n=this.safeString(e,"dep");void 0!==s&&(i[t]=this.parseFixedFloatValue(s)),void 0!==n&&(r[t]=this.parseFixedFloatValue(n))}const o=this.toArray(this.omit(n,"crypto"));for(let d=0;d<o.length;d++){const e=this.safeCurrencyCode(this.safeString(o[d],"title"));i[e]=void 0,r[e]=void 0}const c={info:t,withdraw:i,deposit:r};return this.options["fundingFees"]=c,c}async fetchCurrencies(e={}){const t=await this.fetchFundingFees(e),i=Object.keys(t["withdraw"]),r=this.indexBy(t["info"]["data"]["limits"],"pair"),s=Object.keys(r),n={},a={},o={},c={},d={},h={};for(let l=0;l<s.length;l++){const e=s[l],t=r[e],[i,u]=e.split("/"),f=this.safeCurrencyCode(i),p=this.safeCurrencyCode(u),m=this.safeNumber(t,"max_q"),g=this.safeNumber(t,"max_p"),y=this.safeNumber(t,"max_a"),v=this.safeNumber(t,"min_q"),b=this.safeNumber(t,"min_p"),w=this.safeNumber(t,"min_a");n[f]=Math.min(this.safeNumber(n,f,v),v),c[f]=Math.max(this.safeNumber(c,f,m),m),a[p]=Math.min(this.safeNumber(a,p,b),b),o[p]=Math.min(this.safeNumber(o,p,w),w),d[p]=Math.max(this.safeNumber(d,p,g),g),h[p]=Math.max(this.safeNumber(h,p,y),y)}const u={};for(let l=0;l<i.length;l++){const e=i[l],r=this.safeCurrencyCode(e),s=this.safeValue(t["withdraw"],r),f=!0;u[r]={id:e,code:r,name:r,active:f,fee:s,precision:8,limits:{amount:{min:this.safeNumber(n,r),max:this.safeNumber(c,r)},price:{min:this.safeNumber(a,r),max:this.safeNumber(d,r)},cost:{min:this.safeNumber(o,r),max:this.safeNumber(h,r)}},info:e}}return u}async fetchMarkets(e={}){const t=await this.publicGetPairSettings(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],n=t[e],a=e.replace("_","/"),[o,c]=a.split("/"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=this.safeString(n,"commission_taker_percent"),l=this.safeString(n,"commission_maker_percent"),f=this.parseNumber(g.stringDiv(u,"100")),p=this.parseNumber(g.stringDiv(l,"100"));r.push({id:e,symbol:a,base:d,quote:h,baseId:o,quoteId:c,active:!0,taker:f,maker:p,limits:{amount:{min:this.safeNumber(n,"min_quantity"),max:this.safeNumber(n,"max_quantity")},price:{min:this.safeNumber(n,"min_price"),max:this.safeNumber(n,"max_price")},cost:{min:this.safeNumber(n,"min_amount"),max:this.safeNumber(n,"max_amount")}},precision:{amount:8,price:this.safeInteger(n,"price_precision")},info:n})}return r}async fetchOHLCV(e,t="1m",i,r,n={}){await this.loadMarkets();const a=this.market(e),o={symbol:a["id"],resolution:this.timeframes[t]},c=this.safeValue(this.options,"fetchOHLCV"),d=this.safeInteger(c,"maxLimit",3e3),h=this.parseTimeframe(t),u=this.milliseconds();if(void 0===i){if(void 0===r)throw new s(this.id+" fetchOHLCV() requires a since argument or a limit argument");if(r>d)throw new p(this.id+" fetchOHLCV will serve "+d.toString()+" candles at most");o["from"]=parseInt(u/1e3)-r*h-1,o["to"]=parseInt(u/1e3)}else if(o["from"]=parseInt(i/1e3)-1,void 0===r)o["to"]=parseInt(u/1e3);else{if(r>d)throw new p(this.id+" fetchOHLCV will serve "+d.toString()+" candles at most");const e=this.sum(i,r*h*1e3);o["to"]=parseInt(e/1e3)}const l=await this.publicGetCandlesHistory(this.extend(o,n)),f=this.safeValue(l,"candles",[]);return this.parseOHLCVs(f,a,t,i,r)}parseOHLCV(e,t){return[this.safeInteger(e,"t"),this.safeNumber(e,"o"),this.safeNumber(e,"h"),this.safeNumber(e,"l"),this.safeNumber(e,"c"),this.safeNumber(e,"v")]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t},r=this.safeValue(t,"balances",{}),s=this.safeValue(t,"reserved",{}),n=Object.keys(r);for(let a=0;a<n.length;a++){const e=n[a],t=this.currencyId(e),o=this.account();t in r&&(o["free"]=this.safeString(r,t)),t in s&&(o["used"]=this.safeString(s,t)),i[e]=o}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pair:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderBook(this.extend(s,i)),a=this.safeValue(n,r["id"]);return this.parseOrderBook(a,e,void 0,"bid","ask")}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join(","),r.length>2048){const e=this.ids.length;throw new n(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join(",");const s={pair:r};void 0!==t&&(s["limit"]=t);const a=await this.publicGetOrderBook(this.extend(s,i)),o={},c=Object.keys(a);for(let n=0;n<c.length;n++){const e=c[n];let t=e;if(e in this.markets_by_id){const i=this.markets_by_id[e];t=i["symbol"]}o[t]=this.parseOrderBook(a[e],void 0,"bid","ask")}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last_trade");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy_price"),bidVolume:void 0,ask:this.safeNumber(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"vol_curr"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.markets_by_id[e],a=t["symbol"],o=i[e];r[a]=this.parseTicker(o,t)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.market(e);return this.parseTicker(i[r["id"]],r)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;const s=this.safeString(e,"trade_id"),n=this.safeString(e,"order_id"),a=this.safeNumber(e,"price"),o=this.safeNumber(e,"quantity"),c=this.safeNumber(e,"amount"),d=this.safeString(e,"type"),h=void 0,u=this.safeString(e,"pair");if(void 0!==u)if(u in this.markets_by_id)t=this.markets_by_id[u];else{const[e,t]=u.split("_"),i=this.safeCurrencyCode(e),s=this.safeCurrencyCode(t);r=i+"/"+s}void 0===r&&void 0!==t&&(r=t["symbol"]);const l=this.safeString(e,"exec_type");let f=void 0;const p=this.safeNumber(e,"commission_amount");if(void 0!==p){const t=this.safeString(e,"commission_currency"),i=this.safeCurrencyCode(t);let r=this.safeNumber(e,"commission_percent");void 0!==r&&(r/=1e3),f={cost:p,currency:i,rate:r}}return{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:n,type:h,side:d,takerOrMaker:l,price:a,amount:o,cost:c,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]},a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,s["id"],[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument (a single symbol or an array)");await this.loadMarkets();let n=void 0,a=void 0;if(Array.isArray(e)){const t=e.length;if(t<1)throw new s(this.id+" fetchMyTrades() requires a non-empty symbol array");const i=this.marketIds(e);n=i.join(",")}else a=this.market(e),n=a["id"];const o={pair:n};void 0!==i&&(o["limit"]=i);const c=await this.privatePostUserTrades(this.extend(o,r));let d=[];const h=Object.keys(c);for(let s=0;s<h.length;s++){const e=h[s];let r=void 0;if(e in this.markets_by_id)a=this.markets_by_id[e],r=a["symbol"];else{const[t,i]=e.split("_"),s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(i);r=s+"/"+n}const n=c[e],o=this.parseTrades(n,a,t,i,{symbol:r});d=this.arrayConcat(d,o)}return this.filterBySinceLimit(d,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a="market"===t?t+"_":"",o=this.market(e);"market"===t&&void 0===s&&(s=0);const c={pair:o["id"],quantity:this.amountToPrecision(e,r),type:a+i,price:this.priceToPrecision(e,s)},d=await this.privatePostOrderCreate(this.extend(c,n)),h=this.safeString(d,"order_id"),u=this.milliseconds();r=parseFloat(r),s=parseFloat(s);const l="open";return{id:h,info:d,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:l,symbol:e,type:t,side:i,price:s,cost:s*r,amount:r,remaining:r,filled:0,fee:void 0,trades:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostOrderCancel(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e.toString()},s=await this.privatePostOrderTrades(this.extend(r,i)),n=this.parseOrder(s);return this.extend(n,{id:e.toString()})}async fetchOrderTrades(e,t,i,r,s={}){let n=void 0;void 0!==t&&(n=this.market(t));const a={order_id:e.toString()},o=await this.privatePostOrderTrades(this.extend(a,s)),c=this.safeValue(o,"trades");return this.parseTrades(c,n,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostUserOpenOrders(r),n=Object.keys(s);let a=[];for(let o=0;o<n.length;o++){const e=n[o];let t=void 0;e in this.markets_by_id&&(t=this.markets_by_id[e]);const i=this.parseOrders(s[e],t);a=this.arrayConcat(a,i)}return this.filterBySymbolSinceLimit(a,e,t,i)}parseOrder(e,t){let i=this.safeString(e,"order_id"),r=this.safeTimestamp(e,"created"),s=void 0;const n=this.safeString(e,"type");if(void 0===t){let i=void 0;"pair"in e?i=e["pair"]:"in_currency"in e&&"out_currency"in e&&(i="buy"===n?e["in_currency"]+"_"+e["out_currency"]:e["out_currency"]+"_"+e["in_currency"]),void 0!==i&&i in this.markets_by_id&&(t=this.markets_by_id[i])}let a=this.safeNumber(e,"quantity");if(void 0===a){const t="buy"===n?"in_amount":"out_amount";a=this.safeNumber(e,t)}let o=this.safeNumber(e,"price"),c=this.safeNumber(e,"amount"),d=0;const h=[],u=this.safeValue(e,"trades",[]);let l=void 0,f=void 0,p=void 0;const m=u.length;if(m>0){l=0;for(let e=0;e<m;e++){const s=this.parseTrade(u[e],t);void 0===i&&(i=s["order"]),void 0===r&&(r=s["timestamp"]),r>s["timestamp"]&&(r=s["timestamp"]),d=this.sum(d,s["amount"]),l=this.sum(l,s["fee"]["cost"]),h.push(s)}f=h[m-1]["timestamp"]}let g=this.safeString(e,"status"),y=void 0;void 0!==a&&(y=a-d,g=d>=a?"closed":"open"),void 0===t&&(t=this.getMarketFromTrades(h));let v=void 0;void 0!==t&&(s=t["symbol"],v=t["quote"]),void 0===c?void 0!==o&&(c=o*d):d>0&&(void 0===p&&(p=c/d),void 0===o&&(o=c/d));const b={cost:l,currency:v};return{id:i,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:f,status:g,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:n,price:o,stopPrice:void 0,cost:c,amount:a,filled:d,remaining:y,average:p,trades:h,fee:b,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostDepositAddress(t),r=this.safeString(i,e);let s=void 0,n=void 0;if(r){const e=r.split(",");s=e[0];const t=e.length;t>1&&(n=e[1])}return this.checkAddress(s),{currency:e,address:s,tag:n,info:i}}getMarketFromTrades(e){const t=this.indexBy(e,"pair"),i=Object.keys(t),r=i.length;if(1===r)return this.markets[i[0]]}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const n=this.currency(e),a={amount:t,currency:n["id"],address:i};void 0!==r&&(a["invoice"]=r);const o=await this.privatePostWithdrawCrypt(this.extend(a,s));return{info:o,id:o["task_id"]}}parseTransactionStatus(e){const t={transferred:"ok",paid:"ok",pending:"pending",processing:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"dt");let r=this.safeNumber(e,"amount");void 0!==r&&(r=Math.abs(r));const s=this.parseTransactionStatus(this.safeString(e,"status")),n=this.safeString(e,"txid"),a=this.safeString(e,"type"),o=this.safeString(e,"curr"),c=this.safeCurrencyCode(o,t);let d=void 0;const h=void 0;let u=void 0;const l=this.safeString(e,"account");if("deposit"===a)u=l;else if("withdrawal"===a&&(d=l,void 0!==d)){const e=d.split(":"),t=e.length;2===t&&(d=this.safeString(e,1),d=d.replace(" ",""))}let f=void 0;if(!this.fees["funding"]["percentage"]){const t="withdrawal"===a?"withdraw":"deposit";let i=this.safeNumber(this.options["fundingFees"][t],c);const s=this.safeString(e,"provider");"cashback"===s&&(i=0),void 0!==i&&("withdrawal"===a&&(r-=i),f={cost:i,currency:c,rate:void 0})}return{info:e,id:void 0,timestamp:i,datetime:this.iso8601(i),currency:c,amount:r,address:d,addressTo:d,addressFrom:void 0,tag:h,tagTo:h,tagFrom:void 0,status:s,type:a,updated:void 0,comment:u,txid:n,fee:f}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s["date"]=parseInt(t/1e3));let n=void 0;void 0!==e&&(n=this.currency(e));const a=await this.privatePostWalletHistory(this.extend(s,r));return this.parseTransactions(a["history"],n,t,i)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/";if("web"!==t&&(a+=this.version+"/"),a+=e,"public"===t||"web"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce();n=this.urlencode(this.extend({nonce:e},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}}return{url:a,method:i,body:n,headers:s}}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o&&("result"in o||"errmsg"in o)){let e=this.safeValue(o,"result",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){let e=void 0;const t=this.safeString2(o,"error","errmsg"),i=t.split(":"),r=i.length;if(r>1){const t=i[0].split(" "),r=t.length;e=r>1?t[1]:t[0]}const s=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,s),this.throwBroadlyMatchedException(this.exceptions["broad"],t,s),new n(s)}}}}},"7d72":function(e,t,i){"use strict";var r=i("8707").Buffer,s=r.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=n(e);if("string"!==typeof t&&(r.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=p,this.end=m,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=g,this.end=y,t=3;break;default:return this.write=v,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function c(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function d(e,t,i){var r=t.length-1;if(r<i)return 0;var s=c(t[r]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--r<i||-2===s?0:(s=c(t[r]),s>=0?(s>0&&(e.lastNeed=s-2),s):--r<i||-2===s?0:(s=c(t[r]),s>=0?(s>0&&(2===s?s=0:e.lastNeed=s-3),s):0))}function h(e,t,i){if(128!==(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,""}}function u(e){var t=this.lastTotal-this.lastNeed,i=h(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var i=d(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function g(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"7db0":function(e,t,i){"use strict";var r=i("23e7"),s=i("b727").find,n=i("44d2"),a="find",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n(a)},"7dd0":function(e,t,i){"use strict";var r=i("23e7"),s=i("9ed3"),n=i("e163"),a=i("d2bb"),o=i("d44e"),c=i("9112"),d=i("6eeb"),h=i("b622"),u=i("c430"),l=i("3f8c"),f=i("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=h("iterator"),y="keys",v="values",b="entries",w=function(){return this};e.exports=function(e,t,i,h,f,S,k){s(i,t,h);var _,O,T,C=function(e){if(e===f&&N)return N;if(!m&&e in E)return E[e];switch(e){case y:return function(){return new i(this,e)};case v:return function(){return new i(this,e)};case b:return function(){return new i(this,e)}}return function(){return new i(this)}},I=t+" Iterator",x=!1,E=e.prototype,A=E[g]||E["@@iterator"]||f&&E[f],N=!m&&A||C(f),M="Array"==t&&E.entries||A;if(M&&(_=n(M.call(new e)),p!==Object.prototype&&_.next&&(u||n(_)===p||(a?a(_,p):"function"!=typeof _[g]&&c(_,g,w)),o(_,I,!0,!0),u&&(l[I]=w))),f==v&&A&&A.name!==v&&(x=!0,N=function(){return A.call(this)}),u&&!k||E[g]===N||c(E,g,N),l[t]=N,f)if(O={values:C(v),keys:S?N:C(y),entries:C(b)},k)for(T in O)(m||x||!(T in E))&&d(E,T,O[T]);else r({target:t,proto:!0,forced:m||x},O);return O}},"7e2b":function(e,t,i){"use strict";var r=i("2b0e");function s(e){return function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(t,r)||this.$delete(this.$data[e],r);for(var s in t)this.$set(this.$data[e],s,t[s])}}t["a"]=r["a"].extend({data:function(){return{attrs$:{},listeners$:{}}},created:function(){this.$watch("$attrs",s("attrs$"),{immediate:!0}),this.$watch("$listeners",s("listeners$"),{immediate:!0})}})},"7e63":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("abf9"),s=i("fe34");t.Seed={isSeedWithNonce:function(e){return void 0!==e.nonce},toBinary:function(e){return t.Seed.isSeedWithNonce(e)?{seed:t.Seed.toBinary(e.seed).seed,nonce:e.nonce}:{seed:r._fromRawIn(e),nonce:void 0}},toString:function(e){return s.bytesToString(t.Seed.toBinary(e).seed)}}},"7e8f":function(e,t,i){"use strict";var r=i("fc50");function s(e){const t=function(t,i){return"string"===typeof t&&"//"===t.slice(0,2)?e("https:"+t,i):e(t,i)};return t.http=e.http,t.https=e.https,t}e.exports=function(e){return e&&e.Promise&&(r.Promise=e.Promise),{fetch:s(r),Headers:r.Headers,Request:r.Request,Response:r.Response}}},"7eb1":function(e,t,i){"use strict";var r=30,s=12;e.exports=function(e,t){var i,n,a,o,c,d,h,u,l,f,p,m,g,y,v,b,w,S,k,_,O,T,C,I,x;i=e.state,n=e.next_in,I=e.input,a=n+(e.avail_in-5),o=e.next_out,x=e.output,c=o-(t-e.avail_out),d=o+(e.avail_out-257),h=i.dmax,u=i.wsize,l=i.whave,f=i.wnext,p=i.window,m=i.hold,g=i.bits,y=i.lencode,v=i.distcode,b=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;e:do{g<15&&(m+=I[n++]<<g,g+=8,m+=I[n++]<<g,g+=8),S=y[m&b];t:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,0===k)x[o++]=65535&S;else{if(!(16&k)){if(0===(64&k)){S=y[(65535&S)+(m&(1<<k)-1)];continue t}if(32&k){i.mode=s;break e}e.msg="invalid literal/length code",i.mode=r;break e}_=65535&S,k&=15,k&&(g<k&&(m+=I[n++]<<g,g+=8),_+=m&(1<<k)-1,m>>>=k,g-=k),g<15&&(m+=I[n++]<<g,g+=8,m+=I[n++]<<g,g+=8),S=v[m&w];i:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,!(16&k)){if(0===(64&k)){S=v[(65535&S)+(m&(1<<k)-1)];continue i}e.msg="invalid distance code",i.mode=r;break e}if(O=65535&S,k&=15,g<k&&(m+=I[n++]<<g,g+=8,g<k&&(m+=I[n++]<<g,g+=8)),O+=m&(1<<k)-1,O>h){e.msg="invalid distance too far back",i.mode=r;break e}if(m>>>=k,g-=k,k=o-c,O>k){if(k=O-k,k>l&&i.sane){e.msg="invalid distance too far back",i.mode=r;break e}if(T=0,C=p,0===f){if(T+=u-k,k<_){_-=k;do{x[o++]=p[T++]}while(--k);T=o-O,C=x}}else if(f<k){if(T+=u+f-k,k-=f,k<_){_-=k;do{x[o++]=p[T++]}while(--k);if(T=0,f<_){k=f,_-=k;do{x[o++]=p[T++]}while(--k);T=o-O,C=x}}}else if(T+=f-k,k<_){_-=k;do{x[o++]=p[T++]}while(--k);T=o-O,C=x}while(_>2)x[o++]=C[T++],x[o++]=C[T++],x[o++]=C[T++],_-=3;_&&(x[o++]=C[T++],_>1&&(x[o++]=C[T++]))}else{T=o-O;do{x[o++]=x[T++],x[o++]=x[T++],x[o++]=x[T++],_-=3}while(_>2);_&&(x[o++]=x[T++],_>1&&(x[o++]=x[T++]))}break}}break}}while(n<a&&o<d);_=g>>3,n-=_,g-=_<<3,m&=(1<<g)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=o<d?d-o+257:257-(o-d),i.hold=m,i.bits=g}},"7f9a":function(e,t,i){var r=i("da84"),s=i("8925"),n=r.WeakMap;e.exports="function"===typeof n&&/native code/.test(s(n))},"7fd8":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,RateLimitExceeded:a,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinfalcon",name:"CoinFalcon",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees",referral:"https://coinfalcon.com/?ref=CFJSVGTUPASB"},api:{public:{get:["markets","markets/{market}","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/orders/{id}","user/orders/{id}/trades","user/trades","user/fees","account/withdrawals/{id}","account/withdrawals","account/deposit/{id}","account/deposits","account/deposit_address"],post:["user/orders","account/withdraw"],delete:["user/orders/{id}","account/withdrawals/{id}"]}},fees:{trading:{tierBased:!0,maker:0,taker:.002}},precision:{amount:8,price:8}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],[t,n]=e["name"].split("-"),a=this.safeCurrencyCode(t),o=this.safeCurrencyCode(n),c=a+"/"+o,d={amount:this.safeInteger(e,"size_precision"),price:this.safeInteger(e,"price_precision")};r.push({id:e["name"],symbol:c,base:a,quote:o,baseId:t,quoteId:n,active:!0,precision:d,limits:{amount:{min:Math.pow(10,-d["amount"]),max:void 0},price:{min:Math.pow(10,-d["price"]),max:void 0},cost:{min:void 0,max:void 0}},info:e})}return r}parseTicker(e,t){const i=this.safeString(e,"name"),r=this.safeSymbol(i,t,"-"),s=this.milliseconds(),n=parseFloat(e["last_price"]);return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeNumber(e,"change_in_24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers(t);return i[e]}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),r=this.safeValue(i,"data"),s={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e),level:"3"},s=await this.publicGetMarketsMarketOrders(this.extend(r,i)),n=this.safeValue(s,"data",{});return this.parseOrderBook(n,e,void 0,"bids","asks","price","size")}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"price"),s=this.safeString(e,"size"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(c.stringMul(r,s)),d=t["symbol"],h=this.safeString(e,"id"),u=this.safeString(e,"side"),l=this.safeString(e,"order_id");let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"fee_currency_code");f={cost:p,currency:this.safeCurrencyCode(t)}}return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,id:h,order:l,type:void 0,side:u,takerOrMaker:void 0,price:n,amount:a,cost:o,fee:f}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==t&&(n["start_time"]=this.iso8601(t)),void 0!==i&&(n["limit"]=i);const a=await this.privateGetUserTrades(this.extend(n,r)),c=this.safeValue(a,"data",[]);return this.parseTrades(c,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==t&&(n["since"]=this.iso8601(t));const a=await this.publicGetMarketsMarketTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAccounts(e),i={info:t},r=this.safeValue(t,"data");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency_code"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"available_balance"),a["used"]=this.safeString(e,"hold_balance"),a["total"]=this.safeString(e,"balance"),i[n]=a}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={fulfilled:"closed",canceled:"canceled",pending:"open",open:"open",partially_filled:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.parse8601(this.safeString(e,"created_at")),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"size"),o=this.safeNumber(e,"size_filled"),c=this.parseOrderStatus(this.safeString(e,"status"));let d=this.safeString(e,"operation_type");void 0!==d&&(d=d.split("_"),d=d[0]);const h=this.safeString(e,"order_type"),u=this.safeValue(e,"post_only");return this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,status:c,symbol:r,type:d,timeInForce:void 0,postOnly:u,side:h,price:n,stopPrice:void 0,cost:void 0,amount:a,filled:o,remaining:void 0,trades:void 0,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={market:a["id"],size:this.amountToPrecision(e,r),order_type:i};"limit"===t&&(s=this.priceToPrecision(e,s),o["price"]=s.toString()),o["operation_type"]=t+"_order";const c=await this.privatePostUserOrders(this.extend(o,n)),d=this.safeValue(c,"data",{});return this.parseOrder(d,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateDeleteUserOrdersId(this.extend(r,i)),n=this.market(t),a=this.safeValue(s,"data",{});return this.parseOrder(a,n)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetUserOrdersId(this.extend(r,i)),n=this.safeValue(s,"data",{});return this.parseOrder(n)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["market"]=n["id"]),void 0!==t&&(s["since_time"]=this.iso8601(t));const a=await this.privateGetUserOrders(this.extend(s,r)),o=this.safeValue(a,"data",[]),c=this.filterByArray(o,"status",["pending","open","partially_filled"],!1);return this.parseOrders(c,n,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/api/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):n=this.json(o);const e=this.seconds().toString();let t=[e,i,a].join("|");n&&(t+="|"+n);const r=this.hmac(this.encode(t),this.encode(this.secret));s={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":e,"CF-API-SIGNATURE":r,"Content-Type":"application/json"}}const c=this.urls["api"]+a;return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,o,c,d,h,u){if(e<400)return;const l=this.safeValue({401:n,429:a},e,s);throw new l(c)}}},"80d2":function(e,t,i){"use strict";i.d(t,"i",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"B",(function(){return c})),i.d(t,"b",(function(){return h})),i.d(t,"o",(function(){return u})),i.d(t,"j",(function(){return l})),i.d(t,"p",(function(){return f})),i.d(t,"r",(function(){return p})),i.d(t,"h",(function(){return m})),i.d(t,"u",(function(){return g})),i.d(t,"l",(function(){return v})),i.d(t,"n",(function(){return b})),i.d(t,"g",(function(){return w})),i.d(t,"w",(function(){return S})),i.d(t,"x",(function(){return _})),i.d(t,"C",(function(){return O})),i.d(t,"y",(function(){return T})),i.d(t,"c",(function(){return I})),i.d(t,"F",(function(){return x})),i.d(t,"v",(function(){return E})),i.d(t,"G",(function(){return A})),i.d(t,"E",(function(){return N})),i.d(t,"k",(function(){return M})),i.d(t,"D",(function(){return P})),i.d(t,"t",(function(){return B})),i.d(t,"q",(function(){return R})),i.d(t,"s",(function(){return D})),i.d(t,"f",(function(){return L})),i.d(t,"A",(function(){return V})),i.d(t,"e",(function(){return j})),i.d(t,"d",(function(){return q})),i.d(t,"z",(function(){return U})),i.d(t,"m",(function(){return G}));var r=i("3835"),s=i("53ca"),n=(i("5530"),i("ac1f"),i("5319"),i("498a"),i("99af"),i("b64b"),i("1276"),i("a630"),i("3ca3"),i("a9e3"),i("dca8"),i("2ca0"),i("fb6a"),i("4e827"),i("d81d"),i("d3b7"),i("25f0"),i("4de4"),i("b0c0"),i("38cf"),i("b680"),i("cb29"),i("2b0e"));function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return n["a"].extend({name:i||e.replace(/__/g,"-"),functional:!0,render:function(i,r){var s=r.data,n=r.children;return s.staticClass="".concat(e," ").concat(s.staticClass||"").trim(),i(t,s,n)}})}function o(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=function s(n){i(n),e.removeEventListener(t,s,r)};e.addEventListener(t,s,r)}var c=!1;try{if("undefined"!==typeof window){var d=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testListener",d,d),window.removeEventListener("testListener",d,d)}}catch(F){console.warn(F)}function h(e,t,i,r){e.addEventListener(t,i,!!c&&r)}function u(e,t,i){var r=t.length-1;if(r<0)return void 0===e?i:e;for(var s=0;s<r;s++){if(null==e)return i;e=e[t[s]]}return null==e||void 0===e[t[r]]?i:e[t[r]]}function l(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime())return!1;if(e!==Object(e)||t!==Object(t))return!1;var i=Object.keys(e);return i.length===Object.keys(t).length&&i.every((function(i){return l(e[i],t[i])}))}function f(e,t,i){return null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),u(e,t.split("."),i)):i}function p(e,t,i){if(null==t)return void 0===e?i:e;if(e!==Object(e))return void 0===i?e:i;if("string"===typeof t)return f(e,t,i);if(Array.isArray(t))return u(e,t,i);if("function"!==typeof t)return i;var r=t(e,i);return"undefined"===typeof r?i:r}function m(e){return Array.from({length:e},(function(e,t){return t}))}function g(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return 0;var t=+window.getComputedStyle(e).getPropertyValue("z-index");return t||g(e.parentNode)}var y={"&":"&amp;","<":"&lt;",">":"&gt;"};function v(e){return e.replace(/[&<>]/g,(function(e){return y[e]||e}))}function b(e,t){for(var i={},r=0;r<t.length;r++){var s=t[r];"undefined"!==typeof e[s]&&(i[s]=e[s])}return i}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return null==e||""===e?void 0:isNaN(+e)?String(e):"".concat(Number(e)).concat(t)}function S(e){return(e||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function k(e){return null!==e&&"object"===Object(s["a"])(e)}var _=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function O(e,t){var i=e.$vuetify.icons.component;if(t.startsWith("$")){var r="$vuetify.icons.values.".concat(t.split("$").pop().split(".").pop()),s=f(e,r,t);if("string"!==typeof s)return s;t=s}return null==i?t:{component:i,props:{icon:t}}}function T(e){return Object.keys(e)}var C=/-(\w)/g,I=function(e){return e.replace(C,(function(e,t){return t?t.toUpperCase():""}))};function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}function E(e,t,i){for(var r,s=t[0],n=[],a=0;a<e.length;a++){var o,c=e[a],d=f(c,s,null);if(r!==d)r=d,n.push({name:null!=(o=d)?o:"",items:[]});n[n.length-1].items.push(c)}return n}function A(e){return null!=e?Array.isArray(e)?e:[e]:[]}function N(e,t,i,s,n){if(null===t||!t.length)return e;var a=new Intl.Collator(s,{sensitivity:"accent",usage:"sort"});return e.sort((function(e,s){for(var o=0;o<t.length;o++){var c=t[o],d=f(e,c),h=f(s,c);if(i[o]){var u=[h,d];d=u[0],h=u[1]}if(n&&n[c]){var l=n[c](d,h);if(!l)continue;return l}if(null!==d||null!==h){if(d instanceof Date&&h instanceof Date)return d.getTime()-h.getTime();var p=[d,h].map((function(e){return(e||"").toString().toLocaleLowerCase()})),m=Object(r["a"])(p,2);if(d=m[0],h=m[1],d!==h)return isNaN(d)||isNaN(h)?a.compare(d,h):Number(d)-Number(h)}}return 0}))}function M(e,t,i){return null!=e&&null!=t&&"boolean"!==typeof e&&-1!==e.toString().toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}function P(e,t){return t?(t=t.toString().toLowerCase(),""===t.trim()?e:e.filter((function(e){return Object.keys(e).some((function(i){return M(f(e,i),t,e)}))}))):e}function B(e,t,i){return e.$slots[t]&&e.$scopedSlots[t]&&e.$scopedSlots[t].name?i?"v-slot":"scoped":e.$slots[t]?"normal":e.$scopedSlots[t]?"scoped":void 0}function R(e,t){return Object.keys(t).filter((function(t){return t.startsWith(e)})).reduce((function(i,r){return i[r.replace(e,"")]=t[r],i}),{})}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.$scopedSlots[t]?e.$scopedSlots[t](i instanceof Function?i():i):!e.$slots[t]||i&&!r?void 0:e.$slots[t]}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(i,e))}function V(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e+i.repeat(Math.max(0,t-e.length))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],r=0;while(r<e.length)i.push(e.substr(r,t)),r+=t;return i}function q(e){return e?Object.keys(e).reduce((function(t,i){return t[I(i)]=e[i],t}),{}):{}}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in t){var r=e[i],s=t[i];k(r)&&k(s)?e[i]=U(r,s):e[i]=s}return e}function G(e,t){return Array(e).fill(t)}},"815d":function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},"81d5":function(e,t,i){"use strict";var r=i("7b0b"),s=i("23cb"),n=i("50c4");e.exports=function(e){var t=r(this),i=n(t.length),a=arguments.length,o=s(a>1?arguments[1]:void 0,i),c=a>2?arguments[2]:void 0,d=void 0===c?i:s(c,i);while(d>o)t[o++]=e;return t}},8212:function(e,t,i){"use strict";var r=i("5530"),s=(i("a9e3"),i("3408"),i("a9ad")),n=i("24b2"),a=i("a236"),o=i("80d2"),c=i("58df");t["a"]=Object(c["a"])(s["a"],n["a"],a["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes:function(){return Object(r["a"])({"v-avatar--left":this.left,"v-avatar--right":this.right},this.roundedClasses)},styles:function(){return Object(r["a"])({height:Object(o["g"])(this.size),minWidth:Object(o["g"])(this.size),width:Object(o["g"])(this.size)},this.measurableStyles)}},render:function(e){var t={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return e("div",this.setBackgroundColor(this.color,t),this.$slots.default)}})},"825a":function(e,t,i){var r=i("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},8336:function(e,t,i){"use strict";var r=i("53ca"),s=i("3835"),n=i("5530"),a=(i("c7cd"),i("a9e3"),i("caad"),i("86cc"),i("10d2")),o=(i("99af"),i("8d4f"),i("90a2")),c=i("a9ad"),d=i("80d2"),h=c["a"].extend({name:"v-progress-circular",directives:{intersect:o["a"]},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:function(){return{radius:20,isVisible:!0}},computed:{calculatedSize:function(){return Number(this.size)+(this.button?8:0)},circumference:function(){return 2*Math.PI*this.radius},classes:function(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray:function(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles:function(){return{height:Object(d["g"])(this.calculatedSize),width:Object(d["g"])(this.calculatedSize)}},svgStyles:function(){return{transform:"rotate(".concat(Number(this.rotate),"deg)")}},viewBoxSize:function(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle:function(e,t){return this.$createElement("circle",{class:"v-progress-circular__".concat(e),attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":t}})},genSvg:function(){var e=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"".concat(this.viewBoxSize," ").concat(this.viewBoxSize," ").concat(2*this.viewBoxSize," ").concat(2*this.viewBoxSize)}},e)},genInfo:function(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve:function(e,t,i){this.isVisible=i}},render:function(e){return e("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),u=h,l=i("4e82"),f=i("f2e7"),p=i("c995"),m=i("fe6c"),g=i("1c87"),y=i("af2b"),v=i("58df"),b=i("d9bd"),w=Object(v["a"])(a["a"],g["a"],m["a"],y["a"],Object(l["a"])("btnToggle"),Object(f["b"])("inputValue"));t["a"]=w.extend().extend({name:"v-btn",props:{activeClass:{type:String,default:function(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:function(){return{proxyClass:"v-btn--active"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({"v-btn":!0},g["a"].options.computed.classes.call(this)),{},{"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top},this.themeClasses),this.groupClasses),this.elevationClasses),this.sizeableClasses)},computedElevation:function(){if(!this.disabled)return p["a"].options.computed.computedElevation.call(this)},computedRipple:function(){var e,t=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(e=this.ripple)?e:t)},hasBg:function(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated:function(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound:function(){return Boolean(this.icon||this.fab)},styles:function(){return Object(n["a"])({},this.measurableStyles)}},created:function(){var e=this,t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach((function(t){var i=Object(s["a"])(t,2),r=i[0],n=i[1];e.$attrs.hasOwnProperty(r)&&Object(b["a"])(r,n,e)}))},methods:{click:function(e){!this.retainFocusOnClick&&!this.fab&&e.detail&&this.$el.blur(),this.$emit("click",e),this.btnToggle&&this.toggle()},genContent:function(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader:function(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(u,{props:{indeterminate:!0,size:23,width:2}})])}},render:function(e){var t=[this.genContent(),this.loading&&this.genLoader()],i=this.generateRouteLink(),s=i.tag,n=i.data,a=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===s&&(n.attrs.type=this.type,n.attrs.disabled=this.disabled),n.attrs.value=["string","number"].includes(Object(r["a"])(this.value))?this.value:JSON.stringify(this.value),e(s,this.disabled?n:a(this.color,n),t)}})},"83ab":function(e,t,i){var r=i("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,i){"use strict";var r=i("d925"),s=i("e683");e.exports=function(e,t){return e&&!r(t)?s(e,t):t}},8418:function(e,t,i){"use strict";var r=i("c04e"),s=i("9bf2"),n=i("5c6c");e.exports=function(e,t,i){var a=r(t);a in e?s.f(e,a,n(0,i)):e[a]=i}},"841c":function(e,t,i){"use strict";var r=i("d784"),s=i("825a"),n=i("1d80"),a=i("129f"),o=i("14c3");r("search",(function(e,t,i){return[function(t){var i=n(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,i):new RegExp(t)[e](String(i))},function(e){var r=i(t,this,e);if(r.done)return r.value;var n=s(this),c=String(e),d=n.lastIndex;a(d,0)||(n.lastIndex=0);var h=o(n,c);return a(n.lastIndex,d)||(n.lastIndex=d),null===h?-1:h.index}]}))},"84eb":function(e,t){e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},"857a":function(e,t,i){var r=i("1d80"),s=/"/g;e.exports=function(e,t,i,n){var a=String(r(e)),o="<"+t;return""!==i&&(o+=" "+i+'="'+String(n).replace(s,"&quot;")+'"'),o+">"+a+"</"+t+">"}},"85aa":function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=s(i("3ca1")),a=s(i("fe7e")),o="function"===typeof fetch?fetch:i("a18f");function c(e){return o(n.default(e.url,e.base),u(e.options)).then(d)}function d(e){return e.text().then((function(t){return e.ok?a.default(t):Promise.reject(h(t))}))}function h(e){try{return JSON.parse(e)}catch(t){return e}}function u(e){return void 0===e&&(e=Object.create(null)),r({credentials:"include"},e)}t.default=c},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8654:function(e,t,i){"use strict";var r=i("15fd"),s=i("2909"),n=i("5530"),a=(i("a9e3"),i("0481"),i("d3b7"),i("25f0"),i("caad"),i("2b19"),i("4ff9"),i("c37a")),o=(i("99af"),i("e9b1"),i("7560")),c=i("58df"),d=Object(c["a"])(o["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render:function(e,t){var i=t.props,r=parseInt(i.max,10),s=parseInt(i.value,10),a=r?"".concat(s," / ").concat(r):String(i.value),c=r&&s>r;return e("div",{staticClass:"v-counter",class:Object(n["a"])({"error--text":c},Object(o["b"])(t))},a)}}),h=d,u=i("ba87"),l=i("90a2"),f=i("d9bd"),p=i("2b0e");function m(e){return p["a"].extend({name:"intersectable",mounted:function(){l["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed:function(){l["a"].unbind(this.$el)},methods:{onObserve:function(t,i,r){if(r)for(var s=0,n=e.onVisible.length;s<n;s++){var a=this[e.onVisible[s]];"function"!==typeof a?Object(f["c"])(e.onVisible[s]+" method is not available on the instance but referenced in intersectable mixin options"):a()}}}})}var g=i("297c"),y=i("38cb"),v=i("dc22"),b=i("5607"),w=i("dd89"),S=i("80d2"),k=["title"],_=Object(c["a"])(a["a"],m({onVisible:["onResize","tryAutofocus"]}),g["a"]),O=["color","file","time","date","datetime-local","week","month"];t["a"]=_.extend().extend({name:"v-text-field",directives:{resize:v["a"],ripple:b["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,persistentPlaceholder:Boolean,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:function(){return{badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped})},computedColor:function(){var e=y["a"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":e},computedCounterValue:function(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):Object(s["a"])((this.internalValue||"").toString()).length},hasCounter:function(){return!1!==this.counter&&null!=this.counter},hasDetails:function(){return a["a"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("input",this.lazyValue)}},isDirty:function(){var e;return(null==(e=this.lazyValue)?void 0:e.toString().length)>0||this.badInput},isEnclosed:function(){return this.filled||this.isSolo||this.outlined},isLabelActive:function(){return this.isDirty||O.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var e=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(e-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:e,right:"auto"}:{left:"auto",right:e}},showLabel:function(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue:function(){return this.isFocused||this.isLabelActive||this.persistentPlaceholder}},watch:{outlined:"setLabelWidth",label:function(){this.$nextTick(this.setLabelWidth)},prefix:function(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value:function(e){this.lazyValue=e}},created:function(){this.$attrs.hasOwnProperty("box")&&Object(f["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(f["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(f["c"])("shaped should be used with either filled or outlined",this)},mounted:function(){var e=this;this.$watch((function(){return e.labelValue}),this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame((function(){return e.isBooted=!0}))},methods:{focus:function(){this.onFocus()},blur:function(e){var t=this;window.requestAnimationFrame((function(){t.$refs.input&&t.$refs.input.blur()}))},clearableCallback:function(){var e=this;this.$refs.input&&this.$refs.input.focus(),this.$nextTick((function(){return e.internalValue=null}))},genAppendSlot:function(){var e=[];return this.$slots["append-outer"]?e.push(this.$slots["append-outer"]):this.appendOuterIcon&&e.push(this.genIcon("appendOuter")),this.genSlot("append","outer",e)},genPrependInnerSlot:function(){var e=[];return this.$slots["prepend-inner"]?e.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&e.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",e)},genIconSlot:function(){var e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","inner",e)},genInputSlot:function(){var e=a["a"].options.methods.genInputSlot.call(this),t=this.genPrependInnerSlot();return t&&(e.children=e.children||[],e.children.unshift(t)),e},genClearIcon:function(){return this.clearable?this.isDirty?this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback)]):this.genSlot("append","inner",[this.$createElement("div")]):null},genCounter:function(){var e;if(!this.hasCounter)return null;var t=!0===this.counter?this.attrs$.maxlength:this.counter,i={dark:this.dark,light:this.light,max:t,value:this.computedCounterValue};return null!=(e=null==this.$scopedSlots.counter?void 0:this.$scopedSlots.counter({props:i}))?e:this.$createElement(h,{props:i})},genControl:function(){return a["a"].options.methods.genControl.call(this)},genDefaultSlot:function(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset:function(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel:function(){if(!this.showLabel)return null;var e={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(u["a"],e,this.$slots.label||this.label)},genLegend:function(){var e=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,t=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(S["g"])(e)}},[t])},genInput:function(){var e=Object.assign({},this.listeners$);delete e.change;var t=this.attrs$,i=(t.title,Object(r["a"])(t,k));return this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:Object(n["a"])(Object(n["a"])({},i),{},{autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.persistentPlaceholder||this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type}),on:Object.assign(e,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages:function(){if(!this.showDetails)return null;var e=a["a"].options.methods.genMessages.call(this),t=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[e,t])},genTextFieldSlot:function(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix:function(e){return this.$createElement("div",{class:"v-text-field__".concat(e),ref:e},this[e])},onBlur:function(e){var t=this;this.isFocused=!1,e&&this.$nextTick((function(){return t.$emit("blur",e)}))},onClick:function(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus:function(e){if(this.$refs.input){var t=Object(w["a"])(this.$el);if(t)return t.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,e&&this.$emit("focus",e)))}},onInput:function(e){var t=e.target;this.internalValue=t.value,this.badInput=t.validity&&t.validity.badInput},onKeyDown:function(e){e.keyCode===S["x"].enter&&this.$emit("change",this.internalValue),this.$emit("keydown",e)},onMouseDown:function(e){e.target!==this.$refs.input&&(e.preventDefault(),e.stopPropagation()),a["a"].options.methods.onMouseDown.call(this,e)},onMouseUp:function(e){this.hasMouseDown&&this.focus(),a["a"].options.methods.onMouseUp.call(this,e)},setLabelWidth:function(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth:function(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth:function(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus:function(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;var e=Object(w["a"])(this.$el);return!(!e||e.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue:function(e){this.hasColor=e,e?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize:function(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}})},"86cc":function(e,t,i){},8707:function(e,t,i){var r=i("b639"),s=r.Buffer;function n(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=a),n(s,a),a.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return s(e,t,i)},a.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"===typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return s(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},"870b":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,BadRequest:a,OrderNotFound:o,InvalidAddress:c}=i("74b0"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"therock",name:"TheRockTrading",countries:["MT"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds","funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}},exceptions:{exact:{"Request already running":a,"cannot specify multiple address types":a,"Currency is not included in the list":a,"Record not found":o},broad:{"before must be greater than after param":a,"must be shorter than 60 days":a,"must be a multiple of (period param) in minutes":a,"Address allocation limit reached for currency":c,"is not a valid value for param currency":a," is invalid":c}}})}async fetchMarkets(e={}){const t=await this.publicGetFunds(e),i=this.safeValue(t,"funds"),r=[];if(void 0===i)throw new s(this.id+" fetchMarkets got an unexpected response");for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),n=this.safeString(e,"trade_currency"),a=this.safeString(e,"base_currency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeNumber(e,"buy_fee"),u=this.safeNumber(e,"sell_fee");let l=Math.max(h,u);l/=100;const f=l;r.push({id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,info:e,active:!0,maker:f,taker:l,precision:{amount:this.safeInteger(e,"trade_currency_decimals"),price:this.safeInteger(e,"base_currency_decimals")},limits:{amount:{min:this.safeNumber(e,"minimum_quantity_offer"),max:void 0},price:{min:this.safeNumber(e,"minimum_price_offer"),max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i=this.safeValue(t,"balances",[]),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"trading_balance"),a["total"]=this.safeString(e,"balance"),r[n]=a}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetFundsIdOrderbook(this.extend(r,i)),n=this.parse8601(this.safeString(s,"date"));return this.parseOrderBook(s,e,n,"bids","asks","price","amount")}parseTicker(e,t){const i=this.parse8601(e["date"]);let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:this.safeNumber(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume_traded"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetFundsTickers(t),r=this.indexBy(i["tickers"],"fund_id"),s=Object.keys(r),n={};for(let a=0;a<s.length;a++){const e=s[a],t=this.safeMarket(e),i=t["symbol"],o=r[e];n[i]=this.parseTicker(o,t)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetFundsIdTicker(this.extend({id:i["id"]},t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeString(e,"fund_id"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"date")),n=this.safeString(e,"id"),a=this.safeString(e,"order_id"),o=this.safeString(e,"side"),c=this.safeString(e,"price"),h=this.safeString(e,"amount"),u=this.parseNumber(c),l=this.parseNumber(h),f=this.parseNumber(d.stringMul(c,h));let p=void 0,m=void 0;const g=this.safeValue(e,"transactions",[]),y=this.groupBy(g,"type"),v=this.safeValue(y,"paid_commission",[]);for(let d=0;d<v.length;d++)void 0===m&&(m=0),m=this.sum(m,this.safeNumber(v[d],"price"));return void 0!==m&&(p={cost:m,currency:t["quote"]}),{info:e,id:n,order:a,timestamp:s,datetime:this.iso8601(s),symbol:r,type:void 0,side:o,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:p}}parseLedgerEntryDirection(e){const t={affiliate_earnings:"in",atm_payment:"in",bought_currency_from_fund:"out",bought_shares:"out",paid_commission:"out",paypal_payment:"in",pos_payment:"in",released_currency_to_fund:"out",rollover_commission:"out",sold_currency_to_fund:"in",sold_shares:"in",transfer_received:"in",transfer_sent:"out",withdraw:"out"};return this.safeString(t,e,e)}parseLedgerEntryType(e){const t={affiliate_earnings:"referral",atm_payment:"transaction",bought_currency_from_fund:"trade",bought_shares:"trade",paid_commission:"fee",paypal_payment:"transaction",pos_payment:"transaction",released_currency_to_fund:"trade",rollover_commission:"fee",sold_currency_to_fund:"trade",sold_shares:"trade",transfer_received:"transfer",transfer_sent:"transfer",withdraw:"transaction"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r=void 0,s=this.safeString(e,"type");const n=this.parseLedgerEntryDirection(s);s=this.parseLedgerEntryType(s),"trade"!==s&&"fee"!==s||(r=this.safeString(e,"trade_id"));const a=this.safeString(e,"currency"),o=this.safeCurrencyCode(a),c=this.safeNumber(e,"price"),d=this.parse8601(this.safeString(e,"date")),h="ok";return{info:e,id:i,direction:n,account:void 0,referenceId:r,referenceAccount:void 0,type:s,currency:o,amount:c,before:void 0,after:void 0,status:h,timestamp:d,datetime:this.iso8601(d),fee:void 0}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==t&&(s["after"]=this.iso8601(t));const a=await this.privateGetTransactions(this.extend(s,r)),o=this.safeValue(a,"transactions",[]);return this.parseLedger(o,n,t,i)}parseTransactionType(e){const t={withdraw:"withdrawal",atm_payment:"deposit"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parseTransactionType(this.safeString(e,"type")),s=this.safeValue(e,"transfer_detail",{}),n=this.safeString(s,"method");let a=void 0,o=void 0;void 0!==n&&"wire_transfer"!==n&&(a=this.safeString(s,"id"),o=this.safeString(s,"recipient"));const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.safeNumber(e,"price"),u=this.parse8601(this.safeString(e,"date")),l="ok";return{info:e,id:i,currency:d,amount:h,addressFrom:void 0,addressTo:o,address:o,tagFrom:void 0,tagTo:void 0,tag:void 0,status:l,type:r,updated:void 0,txid:a,timestamp:u,datetime:this.iso8601(u),fee:void 0}}async fetchWithdrawals(e,t,i,r={}){const s={type:"withdraw"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchDeposits(e,t,i,r={}){const s={type:"atm_payment"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==t&&(s["after"]=this.iso8601(t)),r=this.extend(s,r);const a=await this.privateGetTransactions(r),o=this.safeValue(a,"transactions",[]),c=["withdraw","atm_payment"],d=this.filterByArray(o,"type",c,!1);return this.parseTransactions(d,n,t,i)}parseOrderStatus(e){const t={active:"open",executed:"closed",deleted:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"fund_id"),s=this.safeSymbol(r,t),n=this.parseOrderStatus(this.safeString(e,"status")),a=this.parse8601(this.safeString(e,"date")),o=this.safeString(e,"type"),c=this.safeString(e,"side"),d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"amount_unfilled");let u=void 0;void 0!==d&&void 0!==h&&(u=d-h);const l=this.safeNumber(e,"price");let f=this.safeValue(e,"trades"),p=void 0,m=void 0,g=void 0;if(void 0!==f){const e=f.length;if(e>0){f=this.parseTrades(f,t,void 0,void 0,{orderId:i}),p=0,u=0;for(let t=0;t<e;t++){const e=f[t];p=this.sum(p,e["cost"]),u=this.sum(u,e["amount"])}u>0&&(m=p/u),g=f[e-1]["timestamp"]}else p=0}const y=this.safeNumber(e,"conditional_price");return{id:i,clientOrderId:void 0,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:g,status:n,symbol:s,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:l,stopPrice:y,cost:p,amount:d,filled:u,average:m,remaining:h,fee:void 0,trades:f}}async fetchOpenOrders(e,t,i,r={}){const s={status:"active"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"executed"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={fund_id:s["id"]};void 0!==t&&(a["after"]=this.iso8601(t));const o=await this.privateGetFundsFundIdOrders(this.extend(a,r)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,s,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={id:e,fund_id:r["id"]},a=await this.privatePostFundsFundIdOrdersId(this.extend(s,i));return this.parseOrder(a)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets(),"market"===t&&(s=0);const a={fund_id:this.marketId(e),side:i,amount:r,price:s},o=await this.privatePostFundsFundIdOrders(this.extend(a,n));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e,fund_id:this.marketId(t)},s=await this.privateDeleteFundsFundIdOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={id:s["id"]};void 0!==i&&(a["per_page"]=i),void 0!==t&&(a["after"]=this.iso8601(t));const o=await this.privateGetFundsIdTrades(this.extend(a,r));return this.parseTrades(o["trades"],s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={id:s["id"]};void 0!==i&&(n["per_page"]=i),void 0!==t&&(n["after"]=this.iso8601(t));const a=await this.publicGetFundsIdTrades(this.extend(n,r));return this.parseTrades(a["trades"],s,t,i)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(s=void 0===s?{}:s,"private"===t){if(this.checkRequiredCredentials(),Object.keys(o).length)if("POST"===i)n=this.json(o),s["Content-Type"]="application/json";else{const e=this.rawencode(o);e.length&&(a+="?"+e)}const e=this.nonce().toString(),t=e+a;s["X-TRT-KEY"]=this.apiKey,s["X-TRT-NONCE"]=e,s["X-TRT-SIGN"]=this.hmac(this.encode(t),this.encode(this.secret),"sha512")}else"public"===t&&Object.keys(o).length&&(a+="?"+this.rawencode(o));return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"errors",[]),u=h.length;if(u>0){const e=this.id+" "+a;for(let t=0;t<u;t++){const i=h[t],r=this.safeString(i,"message");this.throwExactlyMatchedException(this.exceptions["exact"],r,e),this.throwBroadlyMatchedException(this.exceptions["broad"],r,e)}throw new s(e)}}}},8925:function(e,t,i){var r=i("c6cd"),s=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return s.call(e)}),e.exports=r.inspectSource},8936:function(e,t,i){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},8940:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,InvalidNonce:a,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d,DDoSProtection:h}=i("74b0"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOpenOrders:"emulated",fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://trade.coinegg.com/web",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html",referral:"https://www.coinegg.com/user/register?invite=523218"},api:{web:{get:["symbol/ticker?right_coin={quote}","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/region/{quote}","depth/region/{quote}","orders/region/{quote}"]},private:{post:["balance","trade_add/region/{quote}","trade_cancel/region/{quote}","trade_view/region/{quote}","trade_list/region/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:n,104:n,105:n,106:a,200:o,201:c,202:c,203:d,402:h},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc","usdt"]},commonCurrencies:{JBC:"JubaoCoin",SBTC:"Super Bitcoin"}})}async fetchMarkets(e={}){const t=this.options["quoteIds"],i=[];for(let r=0;r<t.length;r++){const e=t[r],s=await this.webGetSymbolTickerRightCoinQuote({quote:e}),n=this.safeValue(s,"data",[]);for(let t=0;t<n.length;t++){const r=n[t],s=r["symbol"],a=s.split("_")[0];let o=a.toUpperCase(),c=e.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=o+"/"+c,h={amount:8,price:8};i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:e,active:!0,precision:h,limits:{amount:{min:Math.pow(10,-h["amount"]),max:Math.pow(10,h["amount"])},price:{min:Math.pow(10,-h["price"]),max:Math.pow(10,h["price"])},cost:{min:void 0,max:void 0}},info:r})}}return i}parseTicker(e,t){const i=t["symbol"],r=this.milliseconds(),s=this.safeNumber(e,"last"),n=this.safeNumber(e,"change");let a=void 0,o=void 0,c=void 0;if(void 0!==n){const e=n/100;a=s/this.sum(1,e),o=s-a,c=this.sum(s,a)/2}return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:a,close:s,last:s,previousClose:void 0,change:o,percentage:n,average:c,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"quoteVol"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={coin:i["baseId"],quote:i["quoteId"]},s=await this.publicGetTickerRegionQuote(this.extend(r,t));return this.parseTicker(s,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={coin:r["baseId"],quote:r["quoteId"]},n=await this.publicGetDepthRegionQuote(this.extend(s,i));return this.parseOrderBook(n,e)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"price"),s=this.safeString(e,"amount"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(u.stringMul(r,s)),c=t["symbol"],d="limit",h=this.safeString(e,"type"),l=this.safeString(e,"tid");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,order:void 0,type:d,side:h,takerOrMaker:void 0,price:n,amount:a,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={coin:s["baseId"],quote:s["quoteId"]},a=await this.publicGetOrdersRegionQuote(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.safeValue(t,"data",{}),s=this.omit(r,"uid"),n=Object.keys(s);for(let a=0;a<n.length;a++){const e=n[a],[t,r]=e.split("_"),o=this.safeCurrencyCode(t);o in i||(i[o]=this.account());const c="lock"===r?"used":"free";i[o][c]=this.safeString(s,e)}return this.parseBalance(i,!1)}parseOrder(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const r=this.parse8601(this.safeString(e,"datetime")),s=this.safeNumber(e,"price"),n=this.safeNumber(e,"amount_original"),a=this.safeNumber(e,"amount_outstanding");let o=this.safeString(e,"status");o="cancelled"===o?"canceled":a?"open":"closed";const c=this.safeValue(e,"info",e),d="limit",h=this.safeString(e,"type"),u=this.safeString(e,"id");return this.safeOrder({id:u,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:i,type:d,timeInForce:void 0,postOnly:void 0,side:h,price:s,stopPrice:void 0,cost:void 0,amount:n,filled:void 0,remaining:a,trades:void 0,fee:void 0,info:c,average:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={coin:a["baseId"],quote:a["quoteId"],type:i,amount:r,price:s},c=await this.privatePostTradeAddRegionQuote(this.extend(o,n)),d=this.safeString(c,"id"),h=this.parseOrder({id:d,datetime:this.ymdhms(this.milliseconds()),amount_original:r,amount_outstanding:r,price:s,type:i,info:c},a);return h}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,coin:r["baseId"],quote:r["quoteId"]};return await this.privatePostTradeCancelRegionQuote(this.extend(s,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,coin:r["baseId"],quote:r["quoteId"]},n=await this.privatePostTradeViewRegionQuote(this.extend(s,i)),a=this.safeValue(n,"data");return this.parseOrder(a,r)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={coin:s["baseId"],quote:s["quoteId"]};void 0!==t&&(n["since"]=t/1e3);const a=await this.privatePostTradeListRegionQuote(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={type:"open"};return await this.fetchOrders(e,t,i,this.extend(s,r))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="rest";"web"===t&&(a=t);let o=this.urls["api"][a]+"/"+this.implodeParams(e,r),c=this.omit(r,this.extractParams(e));if("public"===t||"web"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),c=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},c));const e=this.hash(this.encode(this.secret)),t=this.hmac(this.encode(c),this.encode(e));c+="&signature="+t,"GET"===i?o+="?"+c:(s={"Content-type":"application/x-www-form-urlencoded"},n=c)}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"result");if(void 0===h)return;if(!0===h)return;const u=this.safeString(o,"code"),l=this.errorMessages,f=this.safeString(l,u,"Unknown Error"),p=this.id+" "+f;throw this.throwExactlyMatchedException(this.exceptions,u,p),new s(this.id+" "+f)}}},8961:function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,BadSymbol:a,BadRequest:o,InvalidOrder:c,ArgumentsRequired:d,OrderNotFound:h,InsufficientFunds:u,DDoSProtection:l}=i("74b0"),{TICK_SIZE:f}=i("5ea4"),p=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ripio",name:"Ripio",countries:["AR","BR"],rateLimit:50,version:"v1",pro:!0,has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/94507548-a83d6a80-0218-11eb-9998-28b9cec54165.jpg",api:{public:"https://api.exchange.ripio.com/api",private:"https://api.exchange.ripio.com/api"},www:"https://exchange.ripio.com",doc:["https://exchange.ripio.com/en/api/"],fees:"https://exchange.ripio.com/en/fee"},api:{public:{get:["rate/all/","rate/{pair}/","orderbook/{pair}/","tradehistory/{pair}/","pair/","currency/","orderbook/{pair}/depth/"]},private:{get:["balances/exchange_balances/","order/{pair}/{order_id}/","order/{pair}/","trade/{pair}/"],post:["order/{pair}/","order/{pair}/{order_id}/cancel/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:0,maker:0}},precisionMode:f,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{},broad:{"Authentication credentials were not provided":s,"Disabled pair":a,"Invalid order type":c,"Your balance is not enough":u,"Order couldn't be created":n,"not found":h,"Invalid pair":a,"amount must be a number":o,"Total must be at least":c,"Account not found":o,"Wrong password provided":s,"User tokens limit":l,"Something unexpected ocurred":n,account_balance:o}}})}async fetchMarkets(e={}){const t=await this.publicGetPair(e),i=[],r=this.safeValue(t,"results",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"base"),n=this.safeString(e,"quote"),a=this.safeString(e,"symbol"),o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:this.safeNumber(e,"min_amount"),price:this.safeNumber(e,"price_tick")},u={amount:{min:this.safeNumber(e,"min_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"min_value"),max:void 0}},l=this.safeValue(e,"enabled",!0),f=this.safeValue(e,"fees",[]),p=this.safeValue(f,0,{}),m=this.safeNumber(p,"maker_fee",0),g=this.safeNumber(p,"taker_fee",0);i.push({id:a,symbol:d,base:o,quote:c,baseId:t,quoteId:n,precision:h,maker:m,taker:g,limits:u,info:e,active:l})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i=this.safeValue(t,"results",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.safeString(e,"name"),o=this.safeValue(e,"enabled",!0),c=this.safeInteger(e,"decimal_places");r[n]={id:t,code:n,name:a,info:e,active:o,fee:void 0,precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return r}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"pair"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"last_price"),a=this.safeNumber(e,"avg");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bid_volume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"ask_volume"),vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:a,baseVolume:void 0,quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},s=await this.publicGetRatePair(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetRateAll(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetOrderbookPair(this.extend(r,i)),n=this.parseOrderBook(s,e,void 0,"buy","sell","price","amount");return n["nonce"]=this.safeInteger(s,"updated_id"),n}parseTrade(e,t){const i=this.safeString(e,"id");let r=this.safeInteger(e,"timestamp");r=this.safeTimestamp(e,"created_at",r);let s=this.safeString(e,"side");const n=this.safeString(e,"taker_side"),a=n===s?"taker":"maker";void 0!==s&&(s=s.toLowerCase());const o=this.safeString2(e,"price","match_price"),c=this.safeString2(e,"amount","exchanged"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(p.stringMul(o,c)),l=this.safeString(e,"pair");t=this.safeMarket(l,t);const f=this.safeNumber(e,a+"_fee"),m=this.safeString(e,a);let g=void 0;return void 0!==f&&(g={cost:f,currency:"buy"===s?t["base"]:t["quote"]}),{id:i,order:m,timestamp:r,datetime:this.iso8601(r),symbol:t["symbol"],type:void 0,side:s,price:d,amount:h,cost:u,takerOrMaker:a,fee:g,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]},a=await this.publicGetTradehistoryPair(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalancesExchangeBalances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"available"),a["used"]=this.safeString(e,"locked"),i[n]=a}return this.parseBalance(i,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=t.toUpperCase(),c=i.toUpperCase(),d={pair:a["id"],order_type:o,side:c,amount:this.amountToPrecision(e,r)};"LIMIT"===o&&(d["limit_price"]=this.priceToPrecision(e,s));const h=await this.privatePostOrderPair(this.extend(d,n));return this.parseOrder(h,a)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={pair:r["id"],order_id:e},n=await this.privatePostOrderPairOrderIdCancel(this.extend(s,i));return this.parseOrder(n,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={pair:r["id"],order_id:e},n=await this.privateGetOrderPairOrderId(this.extend(s,i));return this.parseOrder(n,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==i&&(n["offset"]=i);const a=await this.privateGetOrderPair(this.extend(n,r)),o=this.safeValue(a,"results",{}),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={status:"OPEN,PART"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"CLOS,CANC,COMP"};return await this.fetchOrders(e,t,i,this.extend(s,r))}parseOrderStatus(e){const t={OPEN:"open",PART:"open",CLOS:"canceled",CANC:"canceled",COMP:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeNumber(e,"amount");let s=this.safeNumber(e,"notional");const n=this.safeStringLower(e,"order_type"),a="market"===n?"fill_price":"limit_price",o=this.safeNumber(e,a),c=this.safeStringLower(e,"side"),d=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeTimestamp(e,"created_at");let u=this.safeValue(e,"fill_price"),l=this.safeNumber(e,"filled"),f=void 0;const p=this.safeValue(e,"fills");let m=void 0,g=void 0;if(void 0!==p){const e=p.length;if(e>0){l=0,s=0,m=this.parseTrades(p,t,void 0,void 0,{order:i,side:c});for(let e=0;e<m.length;e++){const t=m[e];l=this.sum(t["amount"],l),s=this.sum(t["cost"],s),g=t["timestamp"]}void 0===u&&l>0&&(u=s/l)}}void 0!==l&&(void 0===s&&void 0!==o&&(s=o*l),void 0!==r&&(f=Math.max(0,r-l)));const y=this.safeString(e,"pair"),v=this.safeSymbol(y,t,"_"),b=this.safeNumber(e,"stop_price");return{id:i,clientOrderId:void 0,info:e,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:g,symbol:v,type:n,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:b,amount:r,cost:s,average:u,filled:l,remaining:f,status:d,fee:void 0,trades:m}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.privateGetTradePair(this.extend(n,r)),o=this.safeValue(a,"results",{}),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}sign(e,t="public",i="GET",r={},s,n){const a="/"+this.version+"/"+this.implodeParams(e,r);let o=this.urls["api"][t]+a;const c=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(c).length&&(o+="?"+this.urlencode(c)):"private"===t&&(this.checkRequiredCredentials(),"POST"===i?n=this.json(c):Object.keys(c).length&&(o+="?"+this.urlencode(c)),s={"Content-Type":"application/json",Authorization:"Bearer "+this.apiKey}),{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"detail");if(void 0!==h){const e=this.id+" "+a;this.throwBroadlyMatchedException(this.exceptions["broad"],h,e)}const u=this.safeValue(o,"errors");if(void 0!==u){const e=this.id+" "+a,t=Object.keys(u);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeValue(u,r,[]),n=this.safeString(s,0);this.throwBroadlyMatchedException(this.exceptions["broad"],n,e)}throw new n(e)}}}},"896c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUBLIC_KEY_LENGTH=32,t.PRIVATE_KEY_LENGTH=32,t.SIGNATURE_LENGTH=64,t.ADDRESS_LENGTH=26,t.MAIN_NET_CHAIN_ID=87,t.TEST_NET_CHAIN_ID=84},8996:function(e,t,i){var r=i("4ab0")._,s=i("1ea0"),n=i("4ab0"),a=i("4203");e.exports.Key=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.setOptions=function(e){var t=a[e.signingScheme],i=a[e.encryptionScheme];t===i?this.signingScheme=this.encryptionScheme=i.makeScheme(this,e):(this.encryptionScheme=i.makeScheme(this,e),this.signingScheme=t.makeScheme(this,e))},e.prototype.setPrivate=function(e,t,i,a,o,c,d,h){if(!(e&&t&&i&&e.length>0&&(r.isNumber(t)||t.length>0)&&i.length>0))throw Error("Invalid RSA private key");this.n=new s(e),this.e=r.isNumber(t)?t:n.get32IntFromBuffer(t,0),this.d=new s(i),a&&o&&c&&d&&h&&(this.p=new s(a),this.q=new s(o),this.dmp1=new s(c),this.dmq1=new s(d),this.coeff=new s(h)),this.$$recalculateCache()},e.prototype.$doPrivate=function(e){if(this.p||this.q)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(i)<0)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.prototype.sign=function(e){return this.signingScheme.sign.apply(this.signingScheme,arguments)},e.prototype.isPrivate=function(){return this.n&&this.e&&this.d||!1},Object.defineProperty(e.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),Object.defineProperty(e.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),Object.defineProperty(e.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),e.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},e}()},"899c":function(e,t,i){},"8a79":function(e,t,i){"use strict";var r=i("23e7"),s=i("06cf").f,n=i("50c4"),a=i("5a34"),o=i("1d80"),c=i("ab13"),d=i("c430"),h="".endsWith,u=Math.min,l=c("endsWith"),f=!d&&!l&&!!function(){var e=s(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!l},{endsWith:function(e){var t=String(o(this));a(e);var i=arguments.length>1?arguments[1]:void 0,r=n(t.length),s=void 0===i?r:u(n(i),r),c=String(e);return h?h.call(t,c,s):t.slice(s-c.length,s)===c}})},"8aa5":function(e,t,i){"use strict";var r=i("6547").charAt;e.exports=function(e,t,i){return t+(i?r(e,t).length:1)}},"8adc":function(e,t,i){},"8ae5":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,ExchangeNotAvailable:a,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"exx",name:"EXX",countries:["CN"],rateLimit:100,userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate",referral:"https://www.exx.com/r/fde4260159e53ab8a58cc9186d35501f?recommQd=1"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}},commonCurrencies:{DOS:"DEMOS",TV:"TIV"},exceptions:{103:n}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],n=t[e],[a,o]=e.split("_"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=!0===n["isOpen"],l=this.safeString(n,"amountScale"),f=this.safeString(n,"priceScale"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:parseInt(l),price:parseInt(f)};r.push({id:e,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:u,precision:g,limits:{amount:{min:this.parseNumber(p),max:void 0},price:{min:this.parseNumber(m),max:void 0},cost:{min:this.safeNumber(n,"minAmount"),max:void 0}},info:n})}return r}parseTicker(e,t){const i=t["symbol"],r=this.safeInteger(e,"date");e=e["ticker"];const s=this.safeNumber(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:this.safeNumber(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i["id"]},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={},s=this.milliseconds(),n=Object.keys(i);for(let a=0;a<n.length;a++){const e=n[a];if(!(e in this.markets_by_id))continue;const t=this.markets_by_id[e],o=t["symbol"],c={date:s,ticker:i[e]};r[o]=this.parseTicker(c,t)}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.marketId(e)},s=await this.publicGetDepth(this.extend(r,i)),n=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,n)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"price"),s=this.safeString(e,"amount"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(c.stringMul(r,s));let d=void 0;void 0!==t&&(d=t["symbol"]);const h="limit",u=this.safeString(e,"type"),l=this.safeString(e,"tid");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,order:void 0,type:h,side:u,takerOrMaker:void 0,price:n,amount:a,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currency:s["id"]},a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetBalance(e),i={info:t},r=this.safeValue(t,"funds"),s=Object.keys(r);for(let n=0;n<s.length;n++){const e=s[n],t=r[e],a=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(t,"balance"),o["used"]=this.safeString(t,"freeze"),o["total"]=this.safeString(t,"total"),i[a]=o}return this.parseBalance(i,!1)}parseOrder(e,t){const i=t["symbol"],r=parseInt(e["trade_date"]),s=this.safeNumber(e,"price"),n=this.safeNumber(e,"trade_money"),a=this.safeNumber(e,"total_amount"),o=this.safeNumber(e,"trade_amount",0);let c=this.safeInteger(e,"status");c=1===c?"canceled":2===c?"closed":"open";let d=void 0;return"fees"in e&&(d={cost:this.safeNumber(e,"fees"),currency:t["quote"]}),this.safeOrder({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:c,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:e["type"],price:s,stopPrice:void 0,cost:n,amount:a,filled:o,remaining:void 0,trades:void 0,fee:d,info:e,average:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={currency:a["id"],type:i,price:s,amount:r},c=await this.privateGetOrder(this.extend(o,n)),d=this.safeString(c,"id"),h=this.parseOrder({id:d,trade_date:this.milliseconds(),total_amount:r,price:s,type:i,info:c},a);return h}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,currency:r["id"]},n=await this.privateGetCancel(this.extend(s,i));return n}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,currency:r["id"]},n=await this.privateGetGetOrder(this.extend(s,i));return this.parseOrder(n,r)}async fetchOpenOrders(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");const s=this.market(e),n={currency:s["id"]},a=await this.privateGetGetOpenOrders(this.extend(n,r));return Array.isArray(a)?this.parseOrders(a,s,t,i):[]}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+e;if("public"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},r))),t=this.hmac(this.encode(e),this.encode(this.secret),"sha512");a+="?"+e+"&signature="+t,s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,o,c,d,h){if(void 0===c)return;const u=this.safeString(c,"code"),l=this.safeString(c,"message"),f=this.id+" "+o;if("100"===u)return;if(void 0!==u){if(this.throwExactlyMatchedException(this.exceptions,u,f),"308"===u)return;throw new s(f)}const p=this.safeValue(c,"result");if(void 0!==p&&!p)throw""===l?new a(f):new s(f)}}},"8b0d":function(e,t,i){},"8b37":function(e,t,i){},"8b98":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InsufficientFunds:n,InvalidOrder:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcturk",name:"BTCTurk",countries:["TR"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchMyTrades:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153926-efbef500-c2c0-11ea-9842-05b63612c4b9.jpg",api:{public:"https://api.btcturk.com/api/v2",private:"https://api.btcturk.com/api/v1",graph:"https://graph-api.btcturk.com/v1"},www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["orderbook","ticker","trades","server/exchangeinfo"]},private:{get:["users/balances","openOrders","allOrders","users/transactions/trade"],post:["order","cancelOrder"],delete:["order"]},graph:{get:["ohlcs"]}},fees:{trading:{maker:.00236,taker:.003*1.18}},exceptions:{exact:{FAILED_ORDER_WITH_OPEN_ORDERS:n,FAILED_LIMIT_ORDER:a,FAILED_MARKET_ORDER:a}}})}async fetchMarkets(e={}){const t=await this.publicGetServerExchangeinfo(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"symbols",[]),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"name"),i=this.safeString(e,"numerator"),a=this.safeString(e,"denominator"),o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(e,"filters");let u=void 0,l=void 0,f=void 0,p=void 0,m=void 0;for(let r=0;r<h.length;r++){const e=h[r],t=this.safeString(e,"filterType");"PRICE_FILTER"===t&&(u=this.safeNumber(e,"minPrice"),l=this.safeNumber(e,"maxPrice"),f=this.safeNumber(e,"minAmount"),p=this.safeNumber(e,"maxAmount"),m=this.safeNumber(e,"minExchangeValue"))}const g=this.safeString(e,"status"),y="TRADING"===g,v={price:{min:u,max:l},amount:{min:f,max:p},cost:{min:m,max:void 0}},b={price:this.safeInteger(e,"denominatorScale"),amount:this.safeInteger(e,"numeratorScale")};s.push({info:e,symbol:d,id:t,base:o,quote:c,baseId:i,quoteId:a,limits:v,precision:b,active:y})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUsersBalances(e),i=this.safeValue(t,"data",[]),r={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"asset"),n=this.safeCurrencyCode(t),a=this.account();a["total"]=this.safeString(e,"balance"),a["free"]=this.safeString(e,"free"),a["used"]=this.safeString(e,"locked"),r[n]=a}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pairSymbol:r["id"]},n=await this.publicGetOrderbook(this.extend(s,i)),a=this.safeValue(n,"data"),o=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,o,"bids","asks",0,1)}parseTicker(e,t){const i=this.safeString(e,"pair"),r=this.safeSymbol(i,t),s=this.safeInteger(e,"timestamp"),n=this.safeNumber(e,"last");return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:n,last:n,previousClose:void 0,change:this.safeNumber(e,"daily"),percentage:this.safeNumber(e,"dailyPercent"),average:this.safeNumber(e,"average"),baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeValue(i,"data");return this.parseTickers(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeInteger2(e,"date","timestamp"),r=this.safeString2(e,"tid","id"),s=this.safeString(e,"orderId"),n=this.safeString(e,"price"),a=o.stringAbs(this.safeString(e,"amount")),c=this.parseNumber(n),d=this.parseNumber(a),h=this.parseNumber(o.stringMul(n,a)),u=this.safeString(e,"pair"),l=this.safeSymbol(u,t),f=this.safeString2(e,"side","orderType");let p=void 0;const m=this.safeString(e,"fee");if(void 0!==m){const t=this.safeString(e,"denominatorSymbol");p={cost:this.parseNumber(o.stringAbs(m)),currency:this.safeCurrencyCode(t)}}return{info:e,id:r,order:s,timestamp:i,datetime:this.iso8601(i),symbol:l,type:void 0,side:f,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pairSymbol:s["id"]};void 0!==i&&(n["last"]=i);const a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"data");return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1d",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={pair:n["id"]};void 0!==r&&(a["last"]=r);const o=await this.graphGetOhlcs(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={orderType:i,orderMethod:t,pairSymbol:a["id"],quantity:this.amountToPrecision(e,r)};"market"!==t&&(o["price"]=this.priceToPrecision(e,s)),"clientOrderId"in n?o["newClientOrderId"]=n["clientOrderId"]:"newClientOrderId"in n||(o["newClientOrderId"]=this.uuid());const c=await this.privatePostOrder(this.extend(o,n)),d=this.safeValue(c,"data");return this.parseOrder(d,a)}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteOrder(this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["pairSymbol"]=n["id"]);const a=await this.privateGetOpenOrders(this.extend(s,r)),o=this.safeValue(a,"data"),c=this.safeValue(o,"bids",[]),d=this.safeValue(o,"asks",[]);return this.parseOrders(this.arrayConcat(c,d),n,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pairSymbol:s["id"]};void 0!==i&&(n["last"]=i),void 0!==t&&(n["startTime"]=Math.floor(t/1e3));const a=await this.privateGetAllOrders(this.extend(n,r)),o=this.safeValue(a,"data");return this.parseOrders(o,s,t,i)}parseOrderStatus(e){const t={Untouched:"open",Partial:"open",Canceled:"canceled",Closed:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"price"),s=new o(r);let n=void 0;const a="0"===s.toString();a||(n=this.parseNumber(s));const c=this.safeString(e,"quantity"),d=this.parseNumber(o.stringAbs(c)),h=this.safeNumber(e,"leftAmount"),u=this.safeNumber(e,"pairSymbol"),l=this.safeSymbol(u,t),f=this.safeString(e,"type"),p=this.safeString(e,"method"),m=this.safeString(e,"orderClientId"),g=this.safeInteger2(e,"updateTime","datetime"),y=this.safeString(e,"status"),v=this.parseOrderStatus(y);return this.safeOrder({info:e,id:i,price:n,amount:d,remaining:h,filled:void 0,cost:void 0,average:void 0,status:v,side:f,type:p,clientOrderId:m,timestamp:g,datetime:this.iso8601(g),symbol:l,fee:void 0})}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n=await this.privateGetUsersTransactionsTrade(),a=this.safeValue(n,"data");return this.parseTrades(a,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},n,a){if("btctrader"===this.id)throw new s(this.id+" is an abstract base API for BTCExchange, BTCTurk");let o=this.urls["api"][t]+"/"+e;if("GET"===i||"DELETE"===i?Object.keys(r).length&&(o+="?"+this.urlencode(r)):a=this.json(r),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret),i=this.apiKey+e;n={"X-PCK":this.apiKey,"X-Stamp":e,"X-Signature":this.hmac(this.encode(i),t,"sha256","base64"),"Content-Type":"application/json"}}return{url:o,method:i,body:a,headers:n}}handleErrors(e,t,i,r,n,a,o,c,d){const h=this.safeString(o,"code","0"),u=this.safeString(o,"message"),l=void 0===u?a:u;if(this.throwExactlyMatchedException(this.exceptions["exact"],u,this.id+" "+l),"0"!==h)throw new s(this.id+" "+l)}}},"8c05":function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},"8c2d":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,BadSymbol:n,AuthenticationError:a,InsufficientFunds:o,InvalidOrder:c,ArgumentsRequired:d,OrderNotFound:h,InvalidAddress:u,BadRequest:l,RateLimitExceeded:f,PermissionDenied:p,ExchangeNotAvailable:m,AccountSuspended:g,OnMaintenance:y}=i("74b0"),{SIGNIFICANT_DIGITS:v,DECIMAL_PLACES:b,TRUNCATE:w,ROUND:S}=i("5ea4"),k=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitvavo",name:"Bitvavo",countries:["NL"],rateLimit:500,version:"v2",certified:!0,pro:!0,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchMarkets:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83165440-2f1cf200-a116-11ea-9046-a255d09fb2ed.jpg",api:{public:"https://api.bitvavo.com",private:"https://api.bitvavo.com"},www:"https://bitvavo.com/",doc:"https://docs.bitvavo.com/",fees:"https://bitvavo.com/en/fees",referral:"https://bitvavo.com/?a=24F34952F7"},api:{public:{get:["time","markets","assets","{market}/book","{market}/trades","{market}/candles","ticker/price","ticker/book","ticker/24h"]},private:{get:["order","orders","ordersOpen","trades","balance","deposit","depositHistory","withdrawalHistory"],post:["order","withdrawal"],put:["order"],delete:["order","orders"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.002,tiers:{taker:[[0,.0025],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,.001]],maker:[[0,.002],[5e4,.0015],[1e5,.001],[25e4,6e-4],[5e5,3e-4],[1e6,1e-4],[25e5,-1e-4],[5e6,-3e-4],[1e7,-5e-4]]}}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{101:s,102:l,103:f,104:f,105:p,107:m,108:m,109:m,110:l,200:l,201:l,202:l,203:n,204:l,205:l,206:l,210:c,211:c,212:c,213:c,214:c,215:c,216:o,217:c,230:s,231:s,232:l,233:c,234:c,235:s,236:l,240:h,300:a,301:a,302:a,303:a,304:a,305:a,306:a,307:p,308:a,309:a,310:p,311:p,312:p,315:l,317:g,400:s,401:s,402:p,403:p,404:y,405:s,406:l,407:s,408:o,409:u,410:s,411:l,412:u,413:u,414:s},broad:{"start parameter is invalid":l,"symbol parameter is invalid":n,"amount parameter is invalid":c,"orderId parameter is invalid":c}},options:{"BITVAVO-ACCESS-WINDOW":1e4,fetchCurrencies:{expires:1e3}},precisionMode:v,commonCurrencies:{MIOTA:"IOTA"}})}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e]["precision"])}amountToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e]["precision"]["amount"],b)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,S,this.markets[e]["precision"]["price"],this.precisionMode),this.decimalToPrecision(t,w,8,b)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"time")}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=await this.fetchCurrenciesFromCache(e),r=this.indexBy(i,"symbol"),s=[];for(let n=0;n<t.length;n++){const e=t[n],i=this.safeString(e,"market"),a=this.safeString(e,"base"),o=this.safeString(e,"quote"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeString(e,"status"),l="trading"===u,f=this.safeValue(r,a);let p=void 0;void 0!==f&&(p=this.safeInteger(f,"decimals",8));const m={price:this.safeInteger(e,"pricePrecision"),amount:p};s.push({id:i,symbol:h,base:c,quote:d,baseId:a,quoteId:o,info:e,active:l,precision:m,limits:{amount:{min:this.safeNumber(e,"minOrderInBaseAsset"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minOrderInQuoteAsset"),max:void 0}}})}return s}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetAssets(e);this.options["fetchCurrencies"]=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options["fetchCurrencies"],"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s),a=this.safeValue(e,"depositStatus"),o="OK"===a,c=this.safeValue(e,"withdrawalStatus"),d="OK"===c,h=o&&d,u=this.safeString(e,"name"),l=this.safeInteger(e,"decimals",8);i[n]={id:s,info:e,code:n,name:u,active:h,fee:this.safeNumber(e,"withdrawalFee"),precision:l,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"withdrawalMinAmount"),max:void 0}}}}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetTicker24h(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.safeInteger(e,"timestamp"),n=this.safeNumber(e,"last"),a=this.safeNumber(e,"volume"),o=this.safeNumber(e,"volumeQuote"),c=this.vwap(a,o);let d=void 0,h=void 0,u=void 0;const l=this.safeNumber(e,"open");void 0!==l&&void 0!==n&&(d=n-l,l>0&&(h=d/l*100),u=this.sum(l,n)/2);const f={symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidSize"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askSize"),vwap:c,open:l,close:n,last:n,previousClose:void 0,change:d,percentage:h,average:u,baseVolume:a,quoteVolume:o,info:e};return f}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24h(t);return this.parseTickers(i,e)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==i&&(n["limit"]=i),void 0!==t&&(n["start"]=t);const a=await this.publicGetMarketTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"price"),r=this.safeString(e,"amount"),s=this.parseNumber(i),n=this.parseNumber(r),a=this.parseNumber(k.stringMul(i,r)),o=this.safeInteger(e,"timestamp"),c=this.safeString(e,"side"),d=this.safeString2(e,"id","fillId"),h=this.safeInteger(e,"market"),u=this.safeSymbol(h,t,"-"),l=this.safeValue(e,"taker");let f=void 0;void 0!==l&&(f=l?"taker":"maker");const p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"feeCurrency"),i=this.safeCurrencyCode(t);m={cost:p,currency:i}}const g=this.safeString(e,"orderId");return{info:e,id:d,symbol:u,timestamp:o,datetime:this.iso8601(o),order:g,type:void 0,side:c,takerOrMaker:f,price:s,amount:n,cost:a,fee:m}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e)};void 0!==t&&(r["depth"]=t);const s=await this.publicGetMarketBook(this.extend(r,i)),n=this.parseOrderBook(s,e);return n["nonce"]=this.safeInteger(s,"nonce"),n}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={market:n["id"],interval:this.timeframes[t]};if(void 0!==i){const e=this.parseTimeframe(t);a["start"]=i,void 0===r&&(r=1440),a["end"]=this.sum(i,r*e*1e3)}void 0!==r&&(a["limit"]=r);const o=await this.publicGetMarketCandles(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"available"),a["used"]=this.safeString(e,"inOrder"),i[n]=a}return this.parseBalance(i,!1)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={symbol:i["id"]},s=await this.privateGetDeposit(this.extend(r,t)),n=this.safeString(s,"address"),a=this.safeString(s,"paymentId");return this.checkAddress(n),{currency:e,address:n,tag:a,info:s}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={market:a["id"],side:i,orderType:t},c="stopLossLimit"===t||"takeProfitLimit"===t,h="stopLoss"===t||"takeProfit"===t;if("market"===t){let t=void 0;if(t=void 0!==s?r*s:this.safeNumber2(n,"cost","amountQuote"),void 0!==t){const e=a["precision"]["price"];o["amountQuote"]=this.decimalToPrecision(t,w,e,this.precisionMode)}else o["amount"]=this.amountToPrecision(e,r);n=this.omit(n,["cost","amountQuote"])}else if("limit"===t)o["price"]=this.priceToPrecision(e,s),o["amount"]=this.amountToPrecision(e,r);else if(h||c){let i=this.safeNumber2(n,"stopPrice","triggerAmount");if(void 0===i){if(c)throw new d(this.id+" createOrder requires a stopPrice parameter for a "+t+" order");if(h){if(void 0===s)throw new d(this.id+" createOrder requires a price argument or a stopPrice parameter for a "+t+" order");i=s}}c&&(o["price"]=this.priceToPrecision(e,s)),n=this.omit(n,["stopPrice","triggerAmount"]),o["triggerAmount"]=this.priceToPrecision(e,i),o["triggerType"]="price",o["amount"]=this.amountToPrecision(e,r)}const u=await this.privatePostOrder(this.extend(o,n));return this.parseOrder(u,a)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o=this.market(t);let c={};const h=this.safeNumber(a,"amountRemaining");if(a=this.omit(a,"amountRemaining"),void 0!==n&&(c["price"]=this.priceToPrecision(t,n)),void 0!==s&&(c["amount"]=this.amountToPrecision(t,s)),void 0!==h&&(c["amountRemaining"]=this.amountToPrecision(t,h)),c=this.extend(c,a),Object.keys(c).length){c["orderId"]=e,c["market"]=o["id"];const t=await this.privatePutOrder(this.extend(c,a));return this.parseOrder(t,o)}throw new d(this.id+" editOrder() requires an amount argument, or a price argument, or non-empty params")}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={orderId:e,market:r["id"]},n=await this.privateDeleteOrder(this.extend(s,i));return this.parseOrder(n,r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;void 0!==e&&(r=this.market(e),i["market"]=r["id"]);const s=await this.privateDeleteOrders(this.extend(i,t));return this.parseOrders(s,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={orderId:e,market:r["id"]},n=await this.privateGetOrder(this.extend(s,i));return this.parseOrder(n,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const a=await this.privateGetOrders(this.extend(n,r));return this.parseOrders(a,s,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["market"]=n["id"]);const a=await this.privateGetOrdersOpen(this.extend(s,r));return this.parseOrders(a,n,t,i)}parseOrderStatus(e){const t={new:"open",canceled:"canceled",canceledAuction:"canceled",canceledSelfTradePrevention:"canceled",canceledIOC:"canceled",canceledFOK:"canceled",canceledMarketProtection:"canceled",canceledPostOnly:"canceled",filled:"closed",partiallyFilled:"open",expired:"canceled",rejected:"canceled",awaitingTrigger:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeInteger(e,"created"),s=this.safeString(e,"market"),n=this.safeSymbol(s,t,"-"),a=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"side"),c=this.safeString(e,"orderType"),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"amount"),u=this.safeNumber(e,"amountRemaining"),l=this.safeNumber(e,"filledAmount"),f=this.safeNumber(e,"filledAmountQuote");let p=void 0;const m=this.safeNumber(e,"feePaid");if(void 0!==m){const t=this.safeString(e,"feeCurrency"),i=this.safeCurrencyCode(t);p={cost:m,currency:i}}const g=this.safeValue(e,"fills",[]),y=this.parseTrades(g,t,void 0,void 0,{symbol:n,order:i,side:o,type:c}),v=this.safeString(e,"timeInForce"),b=this.safeValue(e,"postOnly"),w=this.safeNumber(e,"triggerPrice");return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:c,timeInForce:v,postOnly:b,side:o,price:d,stopPrice:w,amount:h,cost:f,average:void 0,filled:l,remaining:u,status:a,fee:p,trades:y})}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const a=await this.privateGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={symbol:n["id"],amount:this.currencyToPrecision(e,t),address:i};void 0!==r&&(a["paymentId"]=r);const o=await this.privatePostWithdrawal(this.extend(a,s));return this.parseTransaction(o,n)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["symbol"]=n["id"]),void 0!==t&&(s["start"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetWithdrawalHistory(this.extend(s,r));return this.parseTransactions(a,n,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["symbol"]=n["id"]),void 0!==t&&(s["start"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetDepositHistory(this.extend(s,r));return this.parseTransactions(a,n,t,i)}parseTransactionStatus(e){const t={awaiting_processing:"pending",awaiting_email_confirmation:"pending",awaiting_bitvavo_inspection:"pending",approved:"pending",sending:"pending",in_mempool:"pending",processed:"pending",completed:"ok",canceled:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=void 0,r=this.safeInteger(e,"timestamp"),s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s,t),a=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeNumber(e,"amount"),c=this.safeString(e,"address"),d=this.safeString(e,"txId");let h=void 0;const u=this.safeNumber(e,"fee");void 0!==u&&(h={cost:u,currency:n});let l=void 0;l="success"in e?"withdrawal":void 0===a?"deposit":"withdrawal";const f=this.safeString(e,"paymentId");return{info:e,id:i,txid:d,timestamp:r,datetime:this.iso8601(r),addressFrom:void 0,address:c,addressTo:c,tagFrom:void 0,tag:f,tagTo:f,type:l,amount:o,currency:n,status:a,updated:void 0,fee:h}}sign(e,t="public",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e));let o="/"+this.version+"/"+this.implodeParams(e,r);const c="GET"===i||"DELETE"===i;if(c&&Object.keys(a).length&&(o+="?"+this.urlencode(a)),"private"===t){this.checkRequiredCredentials();let e="";c||Object.keys(a).length&&(n=this.json(a),e=n);const t=this.milliseconds().toString(),r=t+i+o+e,d=this.hmac(this.encode(r),this.encode(this.secret)),h=this.safeString(this.options,"BITVAVO-ACCESS-WINDOW","10000");s={"BITVAVO-ACCESS-KEY":this.apiKey,"BITVAVO-ACCESS-SIGNATURE":d,"BITVAVO-ACCESS-TIMESTAMP":t,"BITVAVO-ACCESS-WINDOW":h},c||(s["Content-Type"]="application/json")}return o=this.urls["api"][t]+o,{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"errorCode"),u=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+a;throw this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),this.throwExactlyMatchedException(this.exceptions["exact"],h,e),new s(e)}}}},"8c4f":function(e,t,i){"use strict";
/*!
  * vue-router v3.5.2
  * (c) 2021 Evan You
  * @license MIT
  */function r(e,t){0}function s(e,t){for(var i in t)e[i]=t[i];return e}var n=/[!'()*]/g,a=function(e){return"%"+e.charCodeAt(0).toString(16)},o=/%2C/g,c=function(e){return encodeURIComponent(e).replace(n,a).replace(o,",")};function d(e){try{return decodeURIComponent(e)}catch(t){0}return e}function h(e,t,i){void 0===t&&(t={});var r,s=i||l;try{r=s(e||"")}catch(o){r={}}for(var n in t){var a=t[n];r[n]=Array.isArray(a)?a.map(u):u(a)}return r}var u=function(e){return null==e||"object"===typeof e?e:String(e)};function l(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var i=e.replace(/\+/g," ").split("="),r=d(i.shift()),s=i.length>0?d(i.join("=")):null;void 0===t[r]?t[r]=s:Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]})),t):t}function f(e){var t=e?Object.keys(e).map((function(t){var i=e[t];if(void 0===i)return"";if(null===i)return c(t);if(Array.isArray(i)){var r=[];return i.forEach((function(e){void 0!==e&&(null===e?r.push(c(t)):r.push(c(t)+"="+c(e)))})),r.join("&")}return c(t)+"="+c(i)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function m(e,t,i,r){var s=r&&r.options.stringifyQuery,n=t.query||{};try{n=g(n)}catch(o){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:n,params:t.params||{},fullPath:b(t,s),matched:e?v(e):[]};return i&&(a.redirectedFrom=b(i,s)),Object.freeze(a)}function g(e){if(Array.isArray(e))return e.map(g);if(e&&"object"===typeof e){var t={};for(var i in e)t[i]=g(e[i]);return t}return e}var y=m(null,{path:"/"});function v(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function b(e,t){var i=e.path,r=e.query;void 0===r&&(r={});var s=e.hash;void 0===s&&(s="");var n=t||f;return(i||"/")+n(r)+s}function w(e,t,i){return t===y?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&(i||e.hash===t.hash&&S(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(i||e.hash===t.hash&&S(e.query,t.query)&&S(e.params,t.params))))}function S(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),r=Object.keys(t).sort();return i.length===r.length&&i.every((function(i,s){var n=e[i],a=r[s];if(a!==i)return!1;var o=t[i];return null==n||null==o?n===o:"object"===typeof n&&"object"===typeof o?S(n,o):String(n)===String(o)}))}function k(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&_(e.query,t.query)}function _(e,t){for(var i in t)if(!(i in e))return!1;return!0}function O(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var r in i.instances){var s=i.instances[r],n=i.enteredCbs[r];if(s&&n){delete i.enteredCbs[r];for(var a=0;a<n.length;a++)s._isBeingDestroyed||n[a](s)}}}}var T={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,r=t.children,n=t.parent,a=t.data;a.routerView=!0;var o=n.$createElement,c=i.name,d=n.$route,h=n._routerViewCache||(n._routerViewCache={}),u=0,l=!1;while(n&&n._routerRoot!==n){var f=n.$vnode?n.$vnode.data:{};f.routerView&&u++,f.keepAlive&&n._directInactive&&n._inactive&&(l=!0),n=n.$parent}if(a.routerViewDepth=u,l){var p=h[c],m=p&&p.component;return m?(p.configProps&&C(m,a,p.route,p.configProps),o(m,a,r)):o()}var g=d.matched[u],y=g&&g.components[c];if(!g||!y)return h[c]=null,o();h[c]={component:y},a.registerRouteInstance=function(e,t){var i=g.instances[c];(t&&i!==e||!t&&i===e)&&(g.instances[c]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){g.instances[c]=t.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[c]&&(g.instances[c]=e.componentInstance),O(d)};var v=g.props&&g.props[c];return v&&(s(h[c],{route:d,configProps:v}),C(y,a,d,v)),o(y,a,r)}};function C(e,t,i,r){var n=t.props=I(i,r);if(n){n=t.props=s({},n);var a=t.attrs=t.attrs||{};for(var o in n)e.props&&o in e.props||(a[o]=n[o],delete n[o])}}function I(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function x(e,t,i){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var s=t.split("/");i&&s[s.length-1]||s.pop();for(var n=e.replace(/^\//,"").split("/"),a=0;a<n.length;a++){var o=n[a];".."===o?s.pop():"."!==o&&s.push(o)}return""!==s[0]&&s.unshift(""),s.join("/")}function E(e){var t="",i="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var s=e.indexOf("?");return s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),{path:e,query:i,hash:t}}function A(e){return e.replace(/\/\//g,"/")}var N=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},M=Q,P=V,B=j,R=G,D=X,L=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function V(e,t){var i,r=[],s=0,n=0,a="",o=t&&t.delimiter||"/";while(null!=(i=L.exec(e))){var c=i[0],d=i[1],h=i.index;if(a+=e.slice(n,h),n=h+c.length,d)a+=d[1];else{var u=e[n],l=i[2],f=i[3],p=i[4],m=i[5],g=i[6],y=i[7];a&&(r.push(a),a="");var v=null!=l&&null!=u&&u!==l,b="+"===g||"*"===g,w="?"===g||"*"===g,S=i[2]||o,k=p||m;r.push({name:f||s++,prefix:l||"",delimiter:S,optional:w,repeat:b,partial:v,asterisk:!!y,pattern:k?H(k):y?".*":"[^"+F(S)+"]+?"})}}return n<e.length&&(a+=e.substr(n)),a&&r.push(a),r}function j(e,t){return G(V(e,t),t)}function q(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function U(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function G(e,t){for(var i=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(i[r]=new RegExp("^(?:"+e[r].pattern+")$",K(t)));return function(t,r){for(var s="",n=t||{},a=r||{},o=a.pretty?q:encodeURIComponent,c=0;c<e.length;c++){var d=e[c];if("string"!==typeof d){var h,u=n[d.name];if(null==u){if(d.optional){d.partial&&(s+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(N(u)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(h=o(u[l]),!i[c].test(h))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(0===l?d.prefix:d.delimiter)+h}}else{if(h=d.asterisk?U(u):o(u),!i[c].test(h))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+h+'"');s+=d.prefix+h}}else s+=d}return s}}function F(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function z(e,t){return e.keys=t,e}function K(e){return e&&e.sensitive?"":"i"}function W(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return z(e,t)}function $(e,t,i){for(var r=[],s=0;s<e.length;s++)r.push(Q(e[s],t,i).source);var n=new RegExp("(?:"+r.join("|")+")",K(i));return z(n,t)}function Y(e,t,i){return X(V(e,i),t,i)}function X(e,t,i){N(t)||(i=t||i,t=[]),i=i||{};for(var r=i.strict,s=!1!==i.end,n="",a=0;a<e.length;a++){var o=e[a];if("string"===typeof o)n+=F(o);else{var c=F(o.prefix),d="(?:"+o.pattern+")";t.push(o),o.repeat&&(d+="(?:"+c+d+")*"),d=o.optional?o.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")",n+=d}}var h=F(i.delimiter||"/"),u=n.slice(-h.length)===h;return r||(n=(u?n.slice(0,-h.length):n)+"(?:"+h+"(?=$))?"),n+=s?"$":r&&u?"":"(?="+h+"|$)",z(new RegExp("^"+n,K(i)),t)}function Q(e,t,i){return N(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?W(e,t):N(e)?$(e,t,i):Y(e,t,i)}M.parse=P,M.compile=B,M.tokensToFunction=R,M.tokensToRegExp=D;var Z=Object.create(null);function J(e,t,i){t=t||{};try{var r=Z[e]||(Z[e]=M.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(s){return""}finally{delete t[0]}}function ee(e,t,i,r){var n="string"===typeof e?{path:e}:e;if(n._normalized)return n;if(n.name){n=s({},e);var a=n.params;return a&&"object"===typeof a&&(n.params=s({},a)),n}if(!n.path&&n.params&&t){n=s({},n),n._normalized=!0;var o=s(s({},t.params),n.params);if(t.name)n.name=t.name,n.params=o;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;n.path=J(c,o,"path "+t.path)}else 0;return n}var d=E(n.path||""),u=t&&t.path||"/",l=d.path?x(d.path,u,i||n.append):u,f=h(d.query,n.query,r&&r.options.parseQuery),p=n.hash||d.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:l,query:f,hash:p}}var te,ie=[String,Object],re=[String,Array],se=function(){},ne={name:"RouterLink",props:{to:{type:ie,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:re,default:"click"}},render:function(e){var t=this,i=this.$router,r=this.$route,n=i.resolve(this.to,r,this.append),a=n.location,o=n.route,c=n.href,d={},h=i.options.linkActiveClass,u=i.options.linkExactActiveClass,l=null==h?"router-link-active":h,f=null==u?"router-link-exact-active":u,p=null==this.activeClass?l:this.activeClass,g=null==this.exactActiveClass?f:this.exactActiveClass,y=o.redirectedFrom?m(null,ee(o.redirectedFrom),null,i):o;d[g]=w(r,y,this.exactPath),d[p]=this.exact||this.exactPath?d[g]:k(r,y);var v=d[g]?this.ariaCurrentValue:null,b=function(e){ae(e)&&(t.replace?i.replace(a,se):i.push(a,se))},S={click:ae};Array.isArray(this.event)?this.event.forEach((function(e){S[e]=b})):S[this.event]=b;var _={class:d},O=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:o,navigate:b,isActive:d[p],isExactActive:d[g]});if(O){if(1===O.length)return O[0];if(O.length>1||!O.length)return 0===O.length?e():e("span",{},O)}if("a"===this.tag)_.on=S,_.attrs={href:c,"aria-current":v};else{var T=oe(this.$slots.default);if(T){T.isStatic=!1;var C=T.data=s({},T.data);for(var I in C.on=C.on||{},C.on){var x=C.on[I];I in S&&(C.on[I]=Array.isArray(x)?x:[x])}for(var E in S)E in C.on?C.on[E].push(S[E]):C.on[E]=b;var A=T.data.attrs=s({},T.data.attrs);A.href=c,A["aria-current"]=v}else _.on=S}return e(this.tag,_,this.$slots.default)}};function ae(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function oe(e){if(e)for(var t,i=0;i<e.length;i++){if(t=e[i],"a"===t.tag)return t;if(t.children&&(t=oe(t.children)))return t}}function ce(e){if(!ce.installed||te!==e){ce.installed=!0,te=e;var t=function(e){return void 0!==e},i=function(e,i){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",T),e.component("RouterLink",ne);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var de="undefined"!==typeof window;function he(e,t,i,r,s){var n=t||[],a=i||Object.create(null),o=r||Object.create(null);e.forEach((function(e){ue(n,a,o,e,s)}));for(var c=0,d=n.length;c<d;c++)"*"===n[c]&&(n.push(n.splice(c,1)[0]),d--,c--);return{pathList:n,pathMap:a,nameMap:o}}function ue(e,t,i,r,s,n){var a=r.path,o=r.name;var c=r.pathToRegexpOptions||{},d=fe(a,s,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var h={path:d,regex:le(d,c),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:o,parent:s,matchAs:n,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var s=n?A(n+"/"+r.path):void 0;ue(e,t,i,r,h,s)})),t[h.path]||(e.push(h.path),t[h.path]=h),void 0!==r.alias)for(var u=Array.isArray(r.alias)?r.alias:[r.alias],l=0;l<u.length;++l){var f=u[l];0;var p={path:f,children:r.children};ue(e,t,i,p,s,h.path||"/")}o&&(i[o]||(i[o]=h))}function le(e,t){var i=M(e,[],t);return i}function fe(e,t,i){return i||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:A(t.path+"/"+e)}function pe(e,t){var i=he(e),r=i.pathList,s=i.pathMap,n=i.nameMap;function a(e){he(e,r,s,n)}function o(e,t){var i="object"!==typeof e?n[e]:void 0;he([t||e],r,s,n,i),i&&i.alias.length&&he(i.alias.map((function(e){return{path:e,children:[t]}})),r,s,n,i)}function c(){return r.map((function(e){return s[e]}))}function d(e,i,a){var o=ee(e,i,!1,t),c=o.name;if(c){var d=n[c];if(!d)return l(null,o);var h=d.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof o.params&&(o.params={}),i&&"object"===typeof i.params)for(var u in i.params)!(u in o.params)&&h.indexOf(u)>-1&&(o.params[u]=i.params[u]);return o.path=J(d.path,o.params,'named route "'+c+'"'),l(d,o,a)}if(o.path){o.params={};for(var f=0;f<r.length;f++){var p=r[f],m=s[p];if(me(m.regex,o.path,o.params))return l(m,o,a)}}return l(null,o)}function h(e,i){var r=e.redirect,s="function"===typeof r?r(m(e,i,null,t)):r;if("string"===typeof s&&(s={path:s}),!s||"object"!==typeof s)return l(null,i);var a=s,o=a.name,c=a.path,h=i.query,u=i.hash,f=i.params;if(h=a.hasOwnProperty("query")?a.query:h,u=a.hasOwnProperty("hash")?a.hash:u,f=a.hasOwnProperty("params")?a.params:f,o){n[o];return d({_normalized:!0,name:o,query:h,hash:u,params:f},void 0,i)}if(c){var p=ge(c,e),g=J(p,f,'redirect route with path "'+p+'"');return d({_normalized:!0,path:g,query:h,hash:u},void 0,i)}return l(null,i)}function u(e,t,i){var r=J(i,t.params,'aliased route with path "'+i+'"'),s=d({_normalized:!0,path:r});if(s){var n=s.matched,a=n[n.length-1];return t.params=s.params,l(a,t)}return l(null,t)}function l(e,i,r){return e&&e.redirect?h(e,r||i):e&&e.matchAs?u(e,i,e.matchAs):m(e,i,r,t)}return{match:d,addRoute:o,getRoutes:c,addRoutes:a}}function me(e,t,i){var r=t.match(e);if(!r)return!1;if(!i)return!0;for(var s=1,n=r.length;s<n;++s){var a=e.keys[s-1];a&&(i[a.name||"pathMatch"]="string"===typeof r[s]?d(r[s]):r[s])}return!0}function ge(e,t){return x(e,t.parent?t.parent.path:"/",!0)}var ye=de&&window.performance&&window.performance.now?window.performance:Date;function ve(){return ye.now().toFixed(3)}var be=ve();function we(){return be}function Se(e){return be=e}var ke=Object.create(null);function _e(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=s({},window.history.state);return i.key=we(),window.history.replaceState(i,"",t),window.addEventListener("popstate",Ce),function(){window.removeEventListener("popstate",Ce)}}function Oe(e,t,i,r){if(e.app){var s=e.options.scrollBehavior;s&&e.app.$nextTick((function(){var n=Ie(),a=s.call(e,t,i,r?n:null);a&&("function"===typeof a.then?a.then((function(e){Be(e,n)})).catch((function(e){0})):Be(a,n))}))}}function Te(){var e=we();e&&(ke[e]={x:window.pageXOffset,y:window.pageYOffset})}function Ce(e){Te(),e.state&&e.state.key&&Se(e.state.key)}function Ie(){var e=we();if(e)return ke[e]}function xe(e,t){var i=document.documentElement,r=i.getBoundingClientRect(),s=e.getBoundingClientRect();return{x:s.left-r.left-t.x,y:s.top-r.top-t.y}}function Ee(e){return Me(e.x)||Me(e.y)}function Ae(e){return{x:Me(e.x)?e.x:window.pageXOffset,y:Me(e.y)?e.y:window.pageYOffset}}function Ne(e){return{x:Me(e.x)?e.x:0,y:Me(e.y)?e.y:0}}function Me(e){return"number"===typeof e}var Pe=/^#\d/;function Be(e,t){var i="object"===typeof e;if(i&&"string"===typeof e.selector){var r=Pe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var s=e.offset&&"object"===typeof e.offset?e.offset:{};s=Ne(s),t=xe(r,s)}else Ee(e)&&(t=Ae(e))}else i&&Ee(e)&&(t=Ae(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var Re=de&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function De(e,t){Te();var i=window.history;try{if(t){var r=s({},i.state);r.key=we(),i.replaceState(r,"",e)}else i.pushState({key:Se(ve())},"",e)}catch(n){window.location[t?"replace":"assign"](e)}}function Le(e){De(e,!0)}function Ve(e,t,i){var r=function(s){s>=e.length?i():e[s]?t(e[s],(function(){r(s+1)})):r(s+1)};r(0)}var je={redirected:2,aborted:4,cancelled:8,duplicated:16};function qe(e,t){return He(e,t,je.redirected,'Redirected when going from "'+e.fullPath+'" to "'+Ke(t)+'" via a navigation guard.')}function Ue(e,t){var i=He(e,t,je.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return i.name="NavigationDuplicated",i}function Ge(e,t){return He(e,t,je.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Fe(e,t){return He(e,t,je.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function He(e,t,i,r){var s=new Error(r);return s._isRouter=!0,s.from=e,s.to=t,s.type=i,s}var ze=["params","query","hash"];function Ke(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return ze.forEach((function(i){i in e&&(t[i]=e[i])})),JSON.stringify(t,null,2)}function We(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function $e(e,t){return We(e)&&e._isRouter&&(null==t||e.type===t)}function Ye(e){return function(t,i,r){var s=!1,n=0,a=null;Xe(e,(function(e,t,i,o){if("function"===typeof e&&void 0===e.cid){s=!0,n++;var c,d=et((function(t){Je(t)&&(t=t.default),e.resolved="function"===typeof t?t:te.extend(t),i.components[o]=t,n--,n<=0&&r()})),h=et((function(e){var t="Failed to resolve async component "+o+": "+e;a||(a=We(e)?e:new Error(t),r(a))}));try{c=e(d,h)}catch(l){h(l)}if(c)if("function"===typeof c.then)c.then(d,h);else{var u=c.component;u&&"function"===typeof u.then&&u.then(d,h)}}})),s||r()}}function Xe(e,t){return Qe(e.map((function(e){return Object.keys(e.components).map((function(i){return t(e.components[i],e.instances[i],e,i)}))})))}function Qe(e){return Array.prototype.concat.apply([],e)}var Ze="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Je(e){return e.__esModule||Ze&&"Module"===e[Symbol.toStringTag]}function et(e){var t=!1;return function(){var i=[],r=arguments.length;while(r--)i[r]=arguments[r];if(!t)return t=!0,e.apply(this,i)}}var tt=function(e,t){this.router=e,this.base=it(t),this.current=y,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function it(e){if(!e)if(de){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function rt(e,t){var i,r=Math.max(e.length,t.length);for(i=0;i<r;i++)if(e[i]!==t[i])break;return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}function st(e,t,i,r){var s=Xe(e,(function(e,r,s,n){var a=nt(e,t);if(a)return Array.isArray(a)?a.map((function(e){return i(e,r,s,n)})):i(a,r,s,n)}));return Qe(r?s.reverse():s)}function nt(e,t){return"function"!==typeof e&&(e=te.extend(e)),e.options[t]}function at(e){return st(e,"beforeRouteLeave",ct,!0)}function ot(e){return st(e,"beforeRouteUpdate",ct)}function ct(e,t){if(t)return function(){return e.apply(t,arguments)}}function dt(e){return st(e,"beforeRouteEnter",(function(e,t,i,r){return ht(e,i,r)}))}function ht(e,t,i){return function(r,s,n){return e(r,s,(function(e){"function"===typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),n(e)}))}}tt.prototype.listen=function(e){this.cb=e},tt.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},tt.prototype.onError=function(e){this.errorCbs.push(e)},tt.prototype.transitionTo=function(e,t,i){var r,s=this;try{r=this.router.match(e,this.current)}catch(a){throw this.errorCbs.forEach((function(e){e(a)})),a}var n=this.current;this.confirmTransition(r,(function(){s.updateRoute(r),t&&t(r),s.ensureURL(),s.router.afterHooks.forEach((function(e){e&&e(r,n)})),s.ready||(s.ready=!0,s.readyCbs.forEach((function(e){e(r)})))}),(function(e){i&&i(e),e&&!s.ready&&($e(e,je.redirected)&&n===y||(s.ready=!0,s.readyErrorCbs.forEach((function(t){t(e)}))))}))},tt.prototype.confirmTransition=function(e,t,i){var s=this,n=this.current;this.pending=e;var a=function(e){!$e(e)&&We(e)&&(s.errorCbs.length?s.errorCbs.forEach((function(t){t(e)})):(r(!1,"uncaught error during route navigation:"),console.error(e))),i&&i(e)},o=e.matched.length-1,c=n.matched.length-1;if(w(e,n)&&o===c&&e.matched[o]===n.matched[c])return this.ensureURL(),a(Ue(n,e));var d=rt(this.current.matched,e.matched),h=d.updated,u=d.deactivated,l=d.activated,f=[].concat(at(u),this.router.beforeHooks,ot(h),l.map((function(e){return e.beforeEnter})),Ye(l)),p=function(t,i){if(s.pending!==e)return a(Ge(n,e));try{t(e,n,(function(t){!1===t?(s.ensureURL(!0),a(Fe(n,e))):We(t)?(s.ensureURL(!0),a(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(a(qe(n,e)),"object"===typeof t&&t.replace?s.replace(t):s.push(t)):i(t)}))}catch(r){a(r)}};Ve(f,p,(function(){var i=dt(l),r=i.concat(s.router.resolveHooks);Ve(r,p,(function(){if(s.pending!==e)return a(Ge(n,e));s.pending=null,t(e),s.router.app&&s.router.app.$nextTick((function(){O(e)}))}))}))},tt.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},tt.prototype.setupListeners=function(){},tt.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=y,this.pending=null};var ut=function(e){function t(t,i){e.call(this,t,i),this._startLocation=lt(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,r=Re&&i;r&&this.listeners.push(_e());var s=function(){var i=e.current,s=lt(e.base);e.current===y&&s===e._startLocation||e.transitionTo(s,(function(e){r&&Oe(t,e,i,!0)}))};window.addEventListener("popstate",s),this.listeners.push((function(){window.removeEventListener("popstate",s)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var r=this,s=this,n=s.current;this.transitionTo(e,(function(e){De(A(r.base+e.fullPath)),Oe(r.router,e,n,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var r=this,s=this,n=s.current;this.transitionTo(e,(function(e){Le(A(r.base+e.fullPath)),Oe(r.router,e,n,!1),t&&t(e)}),i)},t.prototype.ensureURL=function(e){if(lt(this.base)!==this.current.fullPath){var t=A(this.base+this.current.fullPath);e?De(t):Le(t)}},t.prototype.getCurrentLocation=function(){return lt(this.base)},t}(tt);function lt(e){var t=window.location.pathname,i=t.toLowerCase(),r=e.toLowerCase();return!e||i!==r&&0!==i.indexOf(A(r+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var ft=function(e){function t(t,i,r){e.call(this,t,i),r&&pt(this.base)||mt()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,r=Re&&i;r&&this.listeners.push(_e());var s=function(){var t=e.current;mt()&&e.transitionTo(gt(),(function(i){r&&Oe(e.router,i,t,!0),Re||bt(i.fullPath)}))},n=Re?"popstate":"hashchange";window.addEventListener(n,s),this.listeners.push((function(){window.removeEventListener(n,s)}))}},t.prototype.push=function(e,t,i){var r=this,s=this,n=s.current;this.transitionTo(e,(function(e){vt(e.fullPath),Oe(r.router,e,n,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var r=this,s=this,n=s.current;this.transitionTo(e,(function(e){bt(e.fullPath),Oe(r.router,e,n,!1),t&&t(e)}),i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;gt()!==t&&(e?vt(t):bt(t))},t.prototype.getCurrentLocation=function(){return gt()},t}(tt);function pt(e){var t=lt(e);if(!/^\/#/.test(t))return window.location.replace(A(e+"/#"+t)),!0}function mt(){var e=gt();return"/"===e.charAt(0)||(bt("/"+e),!1)}function gt(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function yt(e){var t=window.location.href,i=t.indexOf("#"),r=i>=0?t.slice(0,i):t;return r+"#"+e}function vt(e){Re?De(yt(e)):window.location.hash=e}function bt(e){Re?Le(yt(e)):window.location.replace(yt(e))}var wt=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var r=this.stack[i];this.confirmTransition(r,(function(){var e=t.current;t.index=i,t.updateRoute(r),t.router.afterHooks.forEach((function(t){t&&t(r,e)}))}),(function(e){$e(e,je.duplicated)&&(t.index=i)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(tt),St=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pe(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Re&&!1!==e.fallback,this.fallback&&(t="hash"),de||(t="abstract"),this.mode=t,t){case"history":this.history=new ut(this,e.base);break;case"hash":this.history=new ft(this,e.base,this.fallback);break;case"abstract":this.history=new wt(this,e.base);break;default:0}},kt={currentRoute:{configurable:!0}};function _t(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function Ot(e,t,i){var r="hash"===i?"#"+t:t;return e?A(e+"/"+r):r}St.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},kt.currentRoute.get=function(){return this.history&&this.history.current},St.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var i=this.history;if(i instanceof ut||i instanceof ft){var r=function(e){var r=i.current,s=t.options.scrollBehavior,n=Re&&s;n&&"fullPath"in e&&Oe(t,e,r,!1)},s=function(e){i.setupListeners(),r(e)};i.transitionTo(i.getCurrentLocation(),s,s)}i.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},St.prototype.beforeEach=function(e){return _t(this.beforeHooks,e)},St.prototype.beforeResolve=function(e){return _t(this.resolveHooks,e)},St.prototype.afterEach=function(e){return _t(this.afterHooks,e)},St.prototype.onReady=function(e,t){this.history.onReady(e,t)},St.prototype.onError=function(e){this.history.onError(e)},St.prototype.push=function(e,t,i){var r=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){r.history.push(e,t,i)}));this.history.push(e,t,i)},St.prototype.replace=function(e,t,i){var r=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){r.history.replace(e,t,i)}));this.history.replace(e,t,i)},St.prototype.go=function(e){this.history.go(e)},St.prototype.back=function(){this.go(-1)},St.prototype.forward=function(){this.go(1)},St.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},St.prototype.resolve=function(e,t,i){t=t||this.history.current;var r=ee(e,t,i,this),s=this.match(r,t),n=s.redirectedFrom||s.fullPath,a=this.history.base,o=Ot(a,n,this.mode);return{location:r,route:s,href:o,normalizedTo:r,resolved:s}},St.prototype.getRoutes=function(){return this.matcher.getRoutes()},St.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},St.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(St.prototype,kt),St.install=ce,St.version="3.5.2",St.isNavigationFailure=$e,St.NavigationFailureType=je,St.START_LOCATION=y,de&&window.Vue&&window.Vue.use(St),t["a"]=St},"8c88":function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,o)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBalanceAddressAssetId=t.fetchAssetsBalance=t.fetchAssetsAddressLimit=t.fetchAssetDistribution=t.fetchAssetsDetails=t.fetchDetails=void 0;var a=i("3ee4"),o=n(i("85aa")),c=i("b640");function d(e,t,i){void 0===i&&(i=Object.create(null));var r=!Array.isArray(t);return Promise.all(c.toArray(t).map((function(t){return o.default({base:e,url:"/assets/details/"+t,options:i})}))).then((function(e){return r?e[0]:e}))}function h(e,t,i){void 0===i&&(i=Object.create(null));var r=t.map((function(e){return"id="+e})).join("&"),s=t.length?"?"+r:"";return o.default({base:e,url:"/assets/details"+s,options:i})}function u(e,t,i,r,s){return void 0===s&&(s=Object.create(null)),o.default({base:e,url:"/assets/"+t+"/distribution/"+i+"/limit/"+r,options:s})}function l(e,t,i,r){return void 0===r&&(r=Object.create(null)),o.default({base:e,url:"assets/nft/"+t+"/limit/"+i,options:r})}function f(e,t,i){return void 0===i&&(i=Object.create(null)),r(this,void 0,void 0,(function(){var r,n,c;return s(this,(function(s){switch(s.label){case 0:return[4,o.default({base:e,url:"/assets/balance/"+t,options:i})];case 1:return r=s.sent(),n=r.balances.reduce((function(e,t,i){return t.issueTransaction||(e[t.assetId]=i),e}),{}),[4,h(e,Object.keys(n),i)];case 2:return c=s.sent(),c.forEach((function(e){if(!("error"in e)){var t=n[e.assetId],i=r.balances[t];i&&(i.issueTransaction={id:e.originTransactionId,name:e.name,decimals:e.decimals,description:e.description,quantity:e.quantity,reissuable:e.reissuable,sender:e.issuer,senderPublicKey:e.issuerPublicKey,timestamp:e.issueTimestamp,height:e.issueHeight,script:e.scripted?"-":null,proofs:[],fee:Math.pow(10,8),feeAssetId:null,version:3,type:a.TRANSACTION_TYPE.ISSUE,chainId:0})}})),[2,r]}}))}))}function p(e,t,i,r){return void 0===r&&(r=Object.create(null)),o.default({base:e,url:"/assets/balance/"+t+"/"+i,options:r})}t.fetchDetails=d,t.fetchAssetsDetails=h,t.fetchAssetDistribution=u,t.fetchAssetsAddressLimit=l,t.fetchAssetsBalance=f,t.fetchBalanceAddressAssetId=p},"8ce9":function(e,t,i){},"8d4f":function(e,t,i){},"8da5":function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return d}));var r=i("80d2"),s=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],n=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},a=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],o=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function c(e){for(var t=Array(3),i=n,a=s,o=0;o<3;++o)t[o]=Math.round(255*Object(r["f"])(i(a[o][0]*e[0]+a[o][1]*e[1]+a[o][2]*e[2])));return(t[0]<<16)+(t[1]<<8)+(t[2]<<0)}function d(e){for(var t=[0,0,0],i=o,r=a,s=i((e>>16&255)/255),n=i((e>>8&255)/255),c=i((e>>0&255)/255),d=0;d<3;++d)t[d]=r[d][0]*s+r[d][1]*n+r[d][2]*c;return t}},"8dd9":function(e,t,i){"use strict";var r=i("5530"),s=(i("25a8"),i("7e2b")),n=i("a9ad"),a=i("c995"),o=i("24b2"),c=i("a236"),d=i("7560"),h=i("58df");t["a"]=Object(h["a"])(s["a"],n["a"],a["a"],o["a"],c["a"],d["a"]).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])(Object(r["a"])({"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped},this.themeClasses),this.elevationClasses),this.roundedClasses)},styles:function(){return this.measurableStyles}},render:function(e){var t={class:this.classes,style:this.styles,on:this.listeners$};return e(this.tag,this.setBackgroundColor(this.color,t),this.$slots.default)}})},"8df3":function(e,t,i){"use strict";var r=i("f0be"),s=i("fee7"),n=i("74d2"),a=s.inherits,o=r.base,c=s.utils.assert;function d(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function h(e,t,i,r,s){o.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(i,16),this.z=r?new n(r,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(d,o),e.exports=d,d.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},d.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},d.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},d.prototype.pointFromX=function(e,t){e=new n(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),a=r.redMul(s.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},d.prototype.pointFromY=function(e,t){e=new n(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.one),s=i.redMul(this.d).redAdd(this.one),a=r.redMul(s.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},d.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(s)},a(h,o.BasePoint),d.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},d.prototype.point=function(e,t,i,r){return new h(this,e,t,i,r)},h.fromJSON=function(e,t){return new h(e,t[0],t[1],t[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},h.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),n=r.redAdd(t),a=n.redSub(i),o=r.redSub(t),c=s.redMul(a),d=n.redMul(o),h=s.redMul(o),u=a.redMul(n);return this.curve.point(c,d,u,h)},h.prototype._projDbl=function(){var e,t,i,r=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),n=this.y.redSqr();if(this.curve.twisted){var a=this.curve._mulA(s),o=a.redAdd(n);if(this.zOne)e=r.redSub(s).redSub(n).redMul(o.redSub(this.curve.two)),t=o.redMul(a.redSub(n)),i=o.redSqr().redSub(o).redSub(o);else{var c=this.z.redSqr(),d=o.redSub(c).redISub(c);e=r.redSub(s).redISub(n).redMul(d),t=o.redMul(a.redSub(n)),i=o.redMul(d)}}else{a=s.redAdd(n),c=this.curve._mulC(this.c.redMul(this.z)).redSqr(),d=a.redSub(c).redSub(c);e=this.curve._mulC(r.redISub(a)).redMul(d),t=this.curve._mulC(a).redMul(s.redISub(n)),i=a.redMul(d)}return this.curve.point(e,t,i)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),n=i.redSub(t),a=s.redSub(r),o=s.redAdd(r),c=i.redAdd(t),d=n.redMul(a),h=o.redMul(c),u=n.redMul(c),l=a.redMul(o);return this.curve.point(d,h,l,u)},h.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),s=r.redSqr(),n=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(a),c=s.redSub(o),d=s.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(a),u=r.redMul(c).redMul(h);return this.curve.twisted?(t=r.redMul(d).redMul(a.redSub(this.curve._mulA(n))),i=c.redMul(d)):(t=r.redMul(d).redMul(a.redSub(n)),i=this.curve._mulC(c).redMul(d)),this.curve.point(u,t,i)},h.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},h.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},h.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},h.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},"8df4":function(e,t,i){"use strict";var r=i("7a77");function s(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new r(e),t(i.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e,t=new s((function(t){e=t}));return{token:t,cancel:e}},e.exports=s},"8e1a":function(e,t,i){var r=i("70ea"),s=r((function(e){return function(){return e}}));e.exports=s},"8e94":function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=i("a1c6"),n=function(e){function t(i,r){var s=e.call(this)||this;return s.win=i,s.type=r,s.handler=function(e){s.trigger("message",e)},r===t.PROTOCOL_TYPES.LISTEN&&s.win.addEventListener("message",s.handler,!1),s}return r(t,e),t.prototype.dispatch=function(e){return this.win.postMessage(e,"*"),this},t.prototype.destroy=function(){this.type===t.PROTOCOL_TYPES.LISTEN&&this.win.removeEventListener("message",this.handler,!1),this.win=t._fakeWin},t._fakeWin=function(){var e=function(){return null};return{postMessage:e,addEventListener:e,removeEventListener:e}}(),t}(s.EventEmitter);t.WindowProtocol=n,function(e){e.PROTOCOL_TYPES={LISTEN:"listen",DISPATCH:"dispatch"}}(n=t.WindowProtocol||(t.WindowProtocol={})),t.WindowProtocol=n},"8efc":function(e,t,i){},"8fea":function(e,t,i){"use strict";var r=i("3835"),s=i("53ca"),n=i("5530"),a=(i("4de4"),i("498a"),i("a9e3"),i("7db0"),i("c740"),i("a434"),i("4e827"),i("d81d"),i("a630"),i("3ca3"),i("b0c0"),i("99af"),i("91f4"),i("2909")),o=(i("fb6a"),i("ac1f"),i("841c"),i("80d2")),c=i("2b0e"),d=c["a"].extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},sortBy:{type:[String,Array],default:function(){return[]}},sortDesc:{type:[Boolean,Array],default:function(){return[]}},customSort:{type:Function,default:o["E"]},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:function(){return[]}},groupDesc:{type:[Boolean,Array],default:function(){return[]}},customGroup:{type:Function,default:o["v"]},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:o["D"]},serverItemsLength:{type:Number,default:-1}},data:function(){var e={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(o["G"])(this.sortBy),sortDesc:Object(o["G"])(this.sortDesc),groupBy:Object(o["G"])(this.groupBy),groupDesc:Object(o["G"])(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(e=Object.assign(e,this.options));var t,i,r=e,s=r.sortBy,n=r.sortDesc,c=r.groupBy,d=r.groupDesc,h=s.length-n.length,u=c.length-d.length;h>0&&(t=e.sortDesc).push.apply(t,Object(a["a"])(Object(o["m"])(h,!1)));u>0&&(i=e.groupDesc).push.apply(i,Object(a["a"])(Object(o["m"])(u,!1)));return{internalOptions:e}},computed:{itemsLength:function(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount:function(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart:function(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop:function(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped:function(){return!!this.internalOptions.groupBy.length},pagination:function(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems:function(){var e=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(e=this.customFilter(e,this.search)),e},computedItems:function(){var e=this.filteredItems.slice();return(!this.disableSort||this.internalOptions.groupBy.length)&&this.serverItemsLength<=0&&(e=this.sortItems(e)),!this.disablePagination&&this.serverItemsLength<=0&&(e=this.paginateItems(e)),e},groupedItems:function(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps:function(){return{sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length}},computedOptions:function(){return Object(n["a"])({},this.options)}},watch:{computedOptions:{handler:function(e,t){Object(o["j"])(e,t)||this.updateOptions(e)},deep:!0,immediate:!0},internalOptions:{handler:function(e,t){Object(o["j"])(e,t)||this.$emit("update:options",e)},deep:!0,immediate:!0},page:function(e){this.updateOptions({page:e})},"internalOptions.page":function(e){this.$emit("update:page",e)},itemsPerPage:function(e){this.updateOptions({itemsPerPage:e})},"internalOptions.itemsPerPage":function(e){this.$emit("update:items-per-page",e)},sortBy:function(e){this.updateOptions({sortBy:Object(o["G"])(e)})},"internalOptions.sortBy":function(e,t){!Object(o["j"])(e,t)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?e:e[0])},sortDesc:function(e){this.updateOptions({sortDesc:Object(o["G"])(e)})},"internalOptions.sortDesc":function(e,t){!Object(o["j"])(e,t)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?e:e[0])},groupBy:function(e){this.updateOptions({groupBy:Object(o["G"])(e)})},"internalOptions.groupBy":function(e,t){!Object(o["j"])(e,t)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?e:e[0])},groupDesc:function(e){this.updateOptions({groupDesc:Object(o["G"])(e)})},"internalOptions.groupDesc":function(e,t){!Object(o["j"])(e,t)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?e:e[0])},multiSort:function(e){this.updateOptions({multiSort:e})},"internalOptions.multiSort":function(e){this.$emit("update:multi-sort",e)},mustSort:function(e){this.updateOptions({mustSort:e})},"internalOptions.mustSort":function(e){this.$emit("update:must-sort",e)},pageCount:{handler:function(e){this.$emit("page-count",e)},immediate:!0},computedItems:{handler:function(e){this.$emit("current-items",e)},immediate:!0},pagination:{handler:function(e,t){Object(o["j"])(e,t)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle:function(e,t,i,r,s,n){var a=t.slice(),c=i.slice(),d=a.findIndex((function(t){return t===e}));return d<0?(n||(a=[],c=[]),a.push(e),c.push(!1)):d>=0&&!c[d]?c[d]=!0:s?c[d]=!1:(a.splice(d,1),c.splice(d,1)),Object(o["j"])(a,t)&&Object(o["j"])(c,i)||(r=1),{by:a,desc:c,page:r}},group:function(e){var t=this.toggle(e,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1),i=t.by,r=t.desc,s=t.page;this.updateOptions({groupBy:i,groupDesc:r,page:s})},sort:function(e){if(Array.isArray(e))return this.sortArray(e);var t=this.toggle(e,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort),i=t.by,r=t.desc,s=t.page;this.updateOptions({sortBy:i,sortDesc:r,page:s})},sortArray:function(e){var t=this,i=e.map((function(e){var i=t.internalOptions.sortBy.findIndex((function(t){return t===e}));return i>-1&&t.internalOptions.sortDesc[i]}));this.updateOptions({sortBy:e,sortDesc:i})},updateOptions:function(e){this.internalOptions=Object(n["a"])(Object(n["a"])(Object(n["a"])({},this.internalOptions),e),{},{page:this.serverItemsLength<0?Math.max(1,Math.min(e.page||this.internalOptions.page,this.pageCount)):e.page||this.internalOptions.page})},sortItems:function(e){var t=[],i=[];return this.disableSort||(t=this.internalOptions.sortBy,i=this.internalOptions.sortDesc),this.internalOptions.groupBy.length&&(t=[].concat(Object(a["a"])(this.internalOptions.groupBy),Object(a["a"])(t)),i=[].concat(Object(a["a"])(this.internalOptions.groupDesc),Object(a["a"])(i))),this.customSort(e,t,i,this.locale)},groupItems:function(e){return this.customGroup(e,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems:function(e){return-1===this.serverItemsLength&&e.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,Math.ceil(e.length/this.internalOptions.itemsPerPage))||1),e.slice(this.pageStart,this.pageStop)}},render:function(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}}),h=(i("b64b"),i("07ac"),i("caad"),i("2532"),i("d3b7"),i("25f0"),i("495d"),i("b85c")),u=i("ade3"),l=(i("1276"),i("4ec9"),i("ddb0"),i("2ca0"),i("4ff9"),i("68dd"),i("8adc"),i("58df")),f=i("0789"),p=i("9d26"),m=i("a9ad"),g=i("4e82"),y=i("7560"),v=i("f2e7"),b=i("1c87"),w=i("af2b"),S=i("d9bd"),k=Object(l["a"])(m["a"],w["a"],b["a"],y["a"],Object(g["a"])("chipGroup"),Object(v["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({"v-chip":!0},b["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(b["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var e=this,t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((function(t){var i=Object(r["a"])(t,2),s=i[0],n=i[1];e.$attrs.hasOwnProperty(s)&&Object(S["a"])(s,n,e)}))},methods:{click:function(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter:function(){var e=[];return this.isActive&&e.push(this.$createElement(p["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(f["b"],e)},genClose:function(){var e=this;return this.$createElement(p["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("click:close"),e.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(e){var t=[this.genContent()],i=this.generateRouteLink(),r=i.tag,s=i.data;s.attrs=Object(n["a"])(Object(n["a"])({},s.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex}),s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);var a=this.textColor||this.outlined&&this.color;return e(r,this.setTextColor(a,s),t)}}),_=k,O=(i("ee6f"),i("480e")),T=i("4ad4"),C=i("16b7"),I=i("b848"),x=i("fe6c"),E=i("21be"),A=i("75eb"),N=Object(l["a"])(E["a"],x["a"],T["a"],A["a"]),M=N.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function(){return{activatorNode:[],absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},relativeYOffset:0,hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function(){var e=this.dimensions.activator,t=this.dimensions.content,i=(!1!==this.attach?e.offsetLeft:e.left)||0,r=Math.max(e.width,t.width),s=0;if(s+=this.left?i-(r-e.width):i,this.offsetX){var n=isNaN(Number(this.maxWidth))?e.width:Math.min(e.width,Number(this.maxWidth));s+=this.left?-n:e.width}return this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),s},computedTop:function(){var e=this.dimensions.activator,t=this.dimensions.content,i=0;return this.top&&(i+=e.height-t.height),!1!==this.attach?i+=e.offsetTop:i+=e.top+this.pageYOffset,this.offsetY&&(i+=this.top?-e.height:e.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator:function(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator},absoluteYOffset:function(){return this.pageYOffset-this.relativeYOffset}},watch:{disabled:function(e){e&&this.callDeactivate()},isActive:function(e){this.disabled||(e?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function(){this.hasWindow="undefined"!==typeof window,this.hasWindow&&window.addEventListener("resize",this.updateDimensions,!1)},beforeDestroy:function(){this.hasWindow&&window.removeEventListener("resize",this.updateDimensions,!1)},methods:{absolutePosition:function(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(e){return Object(o["g"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,e))},calcTop:function(){return Object(o["g"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow:function(e,t){var i=e+t-this.pageWidth+12;return e=(!this.left||this.right)&&i>0?Math.max(e-i,0):Math.max(e,12),e+this.getOffsetLeft()},calcYOverflow:function(e){var t=this.getInnerHeight(),i=this.absoluteYOffset+t,r=this.dimensions.activator,s=this.dimensions.content.height,n=e+s,a=i<n;return a&&this.offsetOverflow&&r.top>s?e=this.pageYOffset+(r.top-s):a&&!this.allowOverflow?e=i-s-12:e<this.absoluteYOffset&&!this.allowOverflow&&(e=this.absoluteYOffset+12),e<12?12:e},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function(){if(!1===this.attach){var e=this.getActivator();while(e){if("fixed"===window.getComputedStyle(e).position)return void(this.activatorFixed=!0);e=e.offsetParent}this.activatorFixed=!1}},deactivate:function(){},genActivatorListeners:function(){var e=this,t=T["a"].options.methods.genActivatorListeners.call(this),i=t.click;return t.click=function(t){e.openOnClick&&i&&i(t),e.absoluteX=t.clientX,e.absoluteY=t.clientY},t},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(e){var t=e.getBoundingClientRect();return{top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right),width:Math.round(t.width),height:Math.round(t.height)}},measure:function(e){if(!e||!this.hasWindow)return null;var t=this.getRoundedBoundedClientRect(e);if(!1!==this.attach){var i=window.getComputedStyle(e);t.left=parseInt(i.marginLeft),t.top=parseInt(i.marginTop)}return t},sneakPeek:function(e){var t=this;requestAnimationFrame((function(){var i=t.$refs.content;i&&"none"===i.style.display?(i.style.display="inline-block",e(),i.style.display="none"):e()}))},startTransition:function(){var e=this;return new Promise((function(t){return requestAnimationFrame((function(){e.isContentActive=e.hasJustFocused=e.isActive,t()}))}))},updateDimensions:function(){var e=this;this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var t={activator:Object(n["a"])({},this.dimensions.activator),content:Object(n["a"])({},this.dimensions.content)};if(!this.hasActivator||this.absolute)t.activator=this.absolutePosition();else{var i=this.getActivator();if(!i)return;t.activator=this.measure(i),t.activator.offsetLeft=i.offsetLeft,!1!==this.attach?t.activator.offsetTop=i.offsetTop:t.activator.offsetTop=0}this.sneakPeek((function(){if(e.$refs.content){if(e.$refs.content.offsetParent){var i=e.getRoundedBoundedClientRect(e.$refs.content.offsetParent);e.relativeYOffset=window.pageYOffset+i.top,t.activator.top-=e.relativeYOffset,t.activator.left-=window.pageXOffset+i.left}t.content=e.measure(e.$refs.content)}e.dimensions=t}))}}}),P=i("e4d3"),B=i("a236"),R=i("a293"),D=i("dc22"),L=Object(l["a"])(I["a"],C["a"],M,P["a"],B["a"],v["a"],y["a"]),V=L.extend({name:"v-menu",directives:{ClickOutside:R["a"],Resize:D["a"]},provide:function(){return{isInMenu:!0,theme:this.theme}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile:function(){return this.tiles[this.listIndex]},calculatedLeft:function(){var e=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(o["g"])(this.calcXOverflow(this.calcLeftAuto(),e))||"0":this.calcLeft(e)||"0"},calculatedMaxHeight:function(){var e=this.auto?"200px":Object(o["g"])(this.maxHeight);return e||"0"},calculatedMaxWidth:function(){return Object(o["g"])(this.maxWidth)||"0"},calculatedMinWidth:function(){if(this.minWidth)return Object(o["g"])(this.minWidth)||"0";var e=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),t=isNaN(parseInt(this.calculatedMaxWidth))?e:parseInt(this.calculatedMaxWidth);return Object(o["g"])(Math.min(t,e))||"0"},calculatedTop:function(){var e=this.auto?Object(o["g"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return e||"0"},hasClickableTiles:function(){return Boolean(this.tiles.find((function(e){return e.tabIndex>-1})))},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive:function(e){e||(this.listIndex=-1)},isContentActive:function(e){this.hasJustFocused=e},listIndex:function(e,t){if(e in this.tiles){var i=this.tiles[e];i.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=i.offsetTop-i.clientHeight}t in this.tiles&&this.tiles[t].classList.remove("v-list-item--highlighted")}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(S["e"])("full-width",this)},mounted:function(){this.isActive&&this.callActivate()},methods:{activate:function(){var e=this;this.updateDimensions(),requestAnimationFrame((function(){e.startTransition().then((function(){e.$refs.content&&(e.calculatedTopAuto=e.calcTopAuto(),e.auto&&(e.$refs.content.scrollTop=e.calcScrollPosition()))}))}))},calcScrollPosition:function(){var e=this.$refs.content,t=e.querySelector(".v-list-item--active"),i=e.scrollHeight-e.offsetHeight;return t?Math.min(i,Math.max(0,t.offsetTop-e.offsetHeight/2+t.offsetHeight/2)):e.scrollTop},calcLeftAuto:function(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var e=this.$refs.content,t=e.querySelector(".v-list-item--active");if(t||(this.selectedIndex=null),this.offsetY||!t)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(t);var i=t.offsetTop-this.calcScrollPosition(),r=e.querySelector(".v-list-item").offsetTop;return this.computedTop-i-r-1},changeListIndex:function(e){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(e.keyCode!==o["x"].tab){if(e.keyCode===o["x"].down)this.nextTile();else if(e.keyCode===o["x"].up)this.prevTile();else if(e.keyCode===o["x"].end)this.lastTile();else if(e.keyCode===o["x"].home)this.firstTile();else{if(e.keyCode!==o["x"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}e.preventDefault()}else this.isActive=!1},closeConditional:function(e){var t=e.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(t)},genActivatorAttributes:function(){var e=T["a"].options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?Object(n["a"])(Object(n["a"])({},e),{},{"aria-activedescendant":this.activeTile.id}):e},genActivatorListeners:function(){var e=M.options.methods.genActivatorListeners.call(this);return this.disableKeys||(e.keydown=this.onKeyDown),e},genTransition:function(){var e=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[e]):e},genDirectives:function(){var e=this,t=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&t.push({name:"click-outside",value:{handler:function(){e.isActive=!1},closeConditional:this.closeConditional,include:function(){return[e.$el].concat(Object(a["a"])(e.getOpenDependentElements()))}}}),t},genContent:function(){var e=this,t={attrs:Object(n["a"])(Object(n["a"])({},this.getScopeIdAttrs()),{},{role:"role"in this.$attrs?this.$attrs.role:"menu"}),staticClass:"v-menu__content",class:Object(n["a"])(Object(n["a"])(Object(n["a"])({},this.rootThemeClasses),this.roundedClasses),{},Object(u["a"])({"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},this.contentClass.trim(),!0)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(t){var i=t.target;i.getAttribute("disabled")||e.closeOnContentClick&&(e.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(t.on=t.on||{},t.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(t.on=t.on||{},t.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(t.on=t.on||{},t.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",t,this.getContentSlot())},getTiles:function(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler:function(){var e=this;this.runDelay("open",(function(){e.hasJustFocused||(e.hasJustFocused=!0)}))},mouseLeaveHandler:function(e){var t=this;this.runDelay("close",(function(){t.$refs.content.contains(e.relatedTarget)||requestAnimationFrame((function(){t.isActive=!1,t.callDeactivate()}))}))},nextTile:function(){var e=this.tiles[this.listIndex+1];if(!e){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===e.tabIndex&&this.nextTile()},prevTile:function(){var e=this.tiles[this.listIndex-1];if(!e){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===e.tabIndex&&this.prevTile()},lastTile:function(){var e=this.tiles[this.tiles.length-1];e&&(this.listIndex=this.tiles.length-1,-1===e.tabIndex&&this.prevTile())},firstTile:function(){var e=this.tiles[0];e&&(this.listIndex=0,-1===e.tabIndex&&this.nextTile())},onKeyDown:function(e){var t=this;if(e.keyCode===o["x"].esc){setTimeout((function(){t.isActive=!1}));var i=this.getActivator();this.$nextTick((function(){return i&&i.focus()}))}else!this.isActive&&[o["x"].up,o["x"].down].includes(e.keyCode)&&(this.isActive=!0);this.$nextTick((function(){return t.changeListIndex(e)}))},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render:function(e){var t=this,i={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return e("div",i,[!this.activator&&this.genActivator(),this.showLazyContent((function(){return[t.$createElement(O["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.genTransition()])]}))])}}),j=V,q=(i("a15b"),i("159b"),i("cf36"),i("5607")),U=i("132d"),G=i("d9f7"),F=c["a"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:q["a"]},props:Object(n["a"])(Object(n["a"])(Object(n["a"])({},m["a"].options.props),y["a"].options.props),{},{disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}}),render:function(e,t){var i=t.props,r=t.data,s=(t.listeners,[]),n=i.offIcon;if(i.indeterminate?n=i.indeterminateIcon:i.value&&(n=i.onIcon),s.push(e(U["a"],m["a"].options.methods.setTextColor(i.value&&i.color,{props:{disabled:i.disabled,dark:i.dark,light:i.light}}),n)),i.ripple&&!i.disabled){var a=e("div",m["a"].options.methods.setTextColor(i.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));s.push(a)}return e("div",Object(G["a"])(r,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":i.disabled},on:{click:function(e){e.stopPropagation(),r.on&&r.on.input&&!i.disabled&&Object(o["G"])(r.on.input).forEach((function(e){return e(!i.value)}))}}}),[e("div",{staticClass:"v-input--selection-controls__input"},s)])}}),H=i("b810"),z=i("24e2"),K=(i("61d2"),Object(l["a"])(m["a"],b["a"],y["a"],Object(g["a"])("listItemGroup"),Object(v["b"])("inputValue"))),W=K.extend().extend({name:"v-list-item",directives:{Ripple:q["a"]},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default:function(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:function(){return{proxyClass:"v-list-item--active"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-list-item":!0},b["a"].options.computed.classes.call(this)),{},{"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine},this.themeClasses)},isClickable:function(){return Boolean(b["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created:function(){this.$attrs.hasOwnProperty("avatar")&&Object(S["e"])("avatar",this)},methods:{click:function(e){e.detail&&this.$el.blur(),this.$emit("click",e),this.to||this.toggle()},genAttrs:function(){var e=Object(n["a"])({"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1},this.$attrs);return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(e.role="option",e["aria-selected"]=String(this.isActive)):this.isInMenu?(e.role=this.isClickable?"menuitem":void 0,e.id=e.id||"list-item-".concat(this._uid)):this.isInList&&(e.role="listitem")),e}},render:function(e){var t=this,i=this.generateRouteLink(),r=i.tag,s=i.data;s.attrs=Object(n["a"])(Object(n["a"])({},s.attrs),this.genAttrs()),s[this.to?"nativeOn":"on"]=Object(n["a"])(Object(n["a"])({},s[this.to?"nativeOn":"on"]),{},{keydown:function(e){e.keyCode===o["x"].enter&&t.click(e),t.$emit("keydown",e)}}),this.inactive&&(r="div"),this.inactive&&this.to&&(s.on=s.nativeOn,delete s.nativeOn);var a=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return e(r,this.setTextColor(this.color,s),a)}}),$=c["a"].extend({name:"v-list-item-action",functional:!0,render:function(e,t){var i=t.data,r=t.children,s=void 0===r?[]:r;i.staticClass=i.staticClass?"v-list-item__action ".concat(i.staticClass):"v-list-item__action";var n=s.filter((function(e){return!1===e.isComment&&" "!==e.text}));return n.length>1&&(i.staticClass+=" v-list-item__action--stack"),e("div",i,s)}}),Y=(i("0481"),i("3ad0"),i("8dd9")),X=Y["a"].extend().extend({name:"v-list",provide:function(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},Y["a"].options.computed.classes.call(this)),{},{"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine})}},methods:{register:function(e){this.groups.push(e)},unregister:function(e){var t=this.groups.findIndex((function(t){return t._uid===e._uid}));t>-1&&this.groups.splice(t,1)},listClick:function(e){if(!this.expand){var t,i=Object(h["a"])(this.groups);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.toggle(e)}}catch(s){i.e(s)}finally{i.f()}}}},render:function(e){var t={staticClass:"v-list",class:this.classes,style:this.styles,attrs:Object(n["a"])({role:this.isInNav||this.isInMenu?void 0:"list"},this.attrs$)};return e(this.tag,this.setBackgroundColor(this.color,t),[this.$slots.default])}}),Q=(i("4d63"),i("466d"),i("db42"),c["a"].extend({name:"v-list-item-icon",functional:!0,render:function(e,t){var i=t.data,r=t.children;return i.staticClass="v-list-item__icon ".concat(i.staticClass||"").trim(),e("div",i,r)}})),Z=i("7e2b"),J=i("9d65"),ee=i("3206"),te=Object(l["a"])(Z["a"],J["a"],m["a"],Object(ee["a"])("list"),v["a"]),ie=(te.extend().extend({name:"v-list-group",directives:{ripple:q["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:[String,RegExp],noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes:function(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive:function(e){!this.subGroup&&e&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created:function(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list&&this.list.unregister(this)},methods:{click:function(e){var t=this;this.disabled||(this.isBooted=!0,this.$emit("click",e),this.$nextTick((function(){return t.isActive=!t.isActive})))},genIcon:function(e){return this.$createElement(p["a"],e)},genAppendIcon:function(){var e=!this.subGroup&&this.appendIcon;return e||this.$slots.appendIcon?this.$createElement(Q,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(e)]):null},genHeader:function(){return this.$createElement(W,{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:Object(u["a"])({},this.activeClass,this.isActive),props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(n["a"])(Object(n["a"])({},this.listeners$),{},{click:this.click})},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:e.isActive}]},Object(o["s"])(e))]}))},genPrependIcon:function(){var e=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return e||this.$slots.prependIcon?this.$createElement(Q,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(e)]):null},onRouteChange:function(e){if(this.group){var t=this.matchRoute(e.path);t&&this.isActive!==t&&this.list&&this.list.listClick(this._uid),this.isActive=t}},toggle:function(e){var t=this,i=this._uid===e;i&&(this.isBooted=!0),this.$nextTick((function(){return t.isActive=i}))},matchRoute:function(e){return null!==e.match(this.group)}},render:function(e){return e("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),e(f["a"],this.genItems())])}}),i("899c"),i("166a"),i("a452")),re=Object(l["a"])(ie["a"],y["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return Object(n["a"])({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){if(!this.multiple)return this.selectedItems[0]},selectedItems:function(){var e=this;return this.items.filter((function(t,i){return e.toggleMethod(e.getValue(t,i))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var e=this;if(!this.multiple)return function(t){return e.internalValue===t};var t=this.internalValue;return Array.isArray(t)?function(e){return t.includes(e)}:function(){return!1}}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(S["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(e,t){return null==e.value||""===e.value?t:e.value},onClick:function(e){this.updateInternalValue(this.getValue(e,this.items.indexOf(e)))},register:function(e){var t=this,i=this.items.push(e)-1;e.$on("change",(function(){return t.onClick(e)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(e,i)},unregister:function(e){if(!this._isDestroyed){var t=this.items.indexOf(e),i=this.getValue(e,t);this.items.splice(t,1);var r=this.selectedValues.indexOf(i);if(!(r<0)){if(!this.mandatory)return this.updateInternalValue(i);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(e){return e!==i})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(e,t){var i=this.getValue(e,t);e.isActive=this.toggleMethod(i)},updateItemsState:function(){var e=this;this.$nextTick((function(){if(e.mandatory&&!e.selectedItems.length)return e.updateMandatory();e.items.forEach(e.updateItem)}))},updateInternalValue:function(e){this.multiple?this.updateMultiple(e):this.updateSingle(e)},updateMandatory:function(e){if(this.items.length){var t=this.items.slice();e&&t.reverse();var i=t.find((function(e){return!e.disabled}));if(i){var r=this.items.indexOf(i);this.updateInternalValue(this.getValue(i,r))}}},updateMultiple:function(e){var t=Array.isArray(this.internalValue)?this.internalValue:[],i=t.slice(),r=i.findIndex((function(t){return t===e}));this.mandatory&&r>-1&&i.length-1<1||null!=this.max&&r<0&&i.length+1>this.max||(r>-1?i.splice(r,1):i.push(e),this.internalValue=i)},updateSingle:function(e){var t=e===this.internalValue;this.mandatory&&t||(this.internalValue=t?void 0:e)}},render:function(e){return e(this.tag,this.genData(),this.$slots.default)}}),se=(re.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}}),Object(l["a"])(re,m["a"]).extend({name:"v-list-item-group",provide:function(){return{isInGroup:!0,listItemGroup:this}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},re.options.computed.classes.call(this)),{},{"v-list-item-group":!0})}},methods:{genData:function(){return this.setTextColor(this.color,Object(n["a"])(Object(n["a"])({},re.options.methods.genData.call(this)),{},{attrs:{role:"listbox"}}))}}}),i("713a")),ne=(se["a"].extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-list-item__avatar--horizontal":this.horizontal},se["a"].options.computed.classes.call(this)),{},{"v-avatar--tile":this.tile||this.horizontal})}},render:function(e){var t=se["a"].options.render.call(this,e);return t.data=t.data||{},t.data.staticClass+=" v-list-item__avatar",t}}),Object(o["i"])("v-list-item__action-text","span"),Object(o["i"])("v-list-item__content","div")),ae=Object(o["i"])("v-list-item__title","div"),oe=(Object(o["i"])("v-list-item__subtitle","div"),Object(l["a"])(m["a"],y["a"]).extend({name:"v-select-list",directives:{ripple:q["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:function(){return[]}}},computed:{parsedItems:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},tileActiveClass:function(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile:function(){var e={attrs:{role:void 0},on:{mousedown:function(e){return e.preventDefault()}}};return this.$createElement(W,e,[this.genTileContent(this.noDataText)])}},methods:{genAction:function(e,t){var i=this;return this.$createElement($,[this.$createElement(F,{props:{color:this.color,value:t,ripple:!1},on:{input:function(){return i.$emit("select",e)}}})])},genDivider:function(e){return this.$createElement(H["a"],{props:e})},genFilteredText:function(e){if(e=e||"",!this.searchInput||this.noFilter)return Object(o["l"])(e);var t=this.getMaskedCharacters(e),i=t.start,r=t.middle,s=t.end;return"".concat(Object(o["l"])(i)).concat(this.genHighlight(r)).concat(Object(o["l"])(s))},genHeader:function(e){return this.$createElement(z["a"],{props:e},e.header)},genHighlight:function(e){return'<span class="v-list-item__mask">'.concat(Object(o["l"])(e),"</span>")},getMaskedCharacters:function(e){var t=(this.searchInput||"").toString().toLocaleLowerCase(),i=e.toLocaleLowerCase().indexOf(t);if(i<0)return{start:e,middle:"",end:""};var r=e.slice(0,i),s=e.slice(i,i+t.length),n=e.slice(i+t.length);return{start:r,middle:s,end:n}},genTile:function(e){var t=this,i=e.item,r=e.index,s=e.disabled,a=void 0===s?null:s,o=e.value,c=void 0!==o&&o;c||(c=this.hasItem(i)),i===Object(i)&&(a=null!==a?a:this.getDisabled(i));var d={attrs:{"aria-selected":String(c),id:"list-item-".concat(this._uid,"-").concat(r),role:"option"},on:{mousedown:function(e){e.preventDefault()},click:function(){return a||t.$emit("select",i)}},props:{activeClass:this.tileActiveClass,disabled:a,ripple:!0,inputValue:c}};if(!this.$scopedSlots.item)return this.$createElement(W,d,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(i,c):null,this.genTileContent(i,r)]);var h=this,u=this.$scopedSlots.item({parent:h,item:i,attrs:Object(n["a"])(Object(n["a"])({},d.attrs),d.props),on:d.on});return this.needsTile(u)?this.$createElement(W,d,u):u},genTileContent:function(e){var t=this.genFilteredText(this.getText(e));return this.$createElement(ne,[this.$createElement(ae,{domProps:{innerHTML:t}})])},hasItem:function(e){return this.parsedItems.indexOf(this.getValue(e))>-1},needsTile:function(e){return 1!==e.length||null==e[0].componentOptions||"v-list-item"!==e[0].componentOptions.Ctor.options.name},getDisabled:function(e){return Boolean(Object(o["r"])(e,this.itemDisabled,!1))},getText:function(e){return String(Object(o["r"])(e,this.itemText,e))},getValue:function(e){return Object(o["r"])(e,this.itemValue,this.getText(e))}},render:function(){for(var e=[],t=this.items.length,i=0;i<t;i++){var r=this.items[i];this.hideSelected&&this.hasItem(r)||(null==r?e.push(this.genTile({item:r,index:i})):r.header?e.push(this.genHeader(r)):r.divider?e.push(this.genDivider(r)):e.push(this.genTile({item:r,index:i})))}return e.length||e.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&e.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&e.push(this.$slots["append-item"]),this.$createElement(X,{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},e)}})),ce=i("c37a"),de=i("8654"),he=c["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:o["j"]}}}),ue=c["a"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),le={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},fe=Object(l["a"])(de["a"],he,I["a"],ue),pe=fe.extend().extend({name:"v-select",directives:{ClickOutside:R["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:function(){return le}},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data:function(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems:function(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes:function(){return Object(n["a"])(Object(n["a"])({},de["a"].options.computed.classes.call(this)),{},{"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple})},computedItems:function(){return this.allItems},computedOwns:function(){return"list-".concat(this._uid)},computedCounterValue:function(){var e=this.multiple?this.selectedItems:(this.getText(this.selectedItems[0])||"").toString();return"function"===typeof this.counterValue?this.counterValue(e):e.length},directives:function(){var e=this;return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:function(){return e.getOpenDependentElements()}}}]:void 0},dynamicHeight:function(){return"auto"},hasChips:function(){return this.chips||this.smallChips},hasSlot:function(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty:function(){return this.selectedItems.length>0},listData:function(){var e=this.$vnode&&this.$vnode.context.$options._scopeId,t=e?Object(u["a"])({},e,!0):{};return{attrs:Object(n["a"])(Object(n["a"])({},t),{},{id:this.computedOwns}),props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList:function(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(S["b"])("assert: staticList should not be called if slots are used"),this.$createElement(oe,this.listData)},virtualizedItems:function(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:function(){return!0},$_menuProps:function(){var e="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(e)&&(e=e.reduce((function(e,t){return e[t.trim()]=!0,e}),{})),Object(n["a"])(Object(n["a"])({},le),{},{eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:e.offsetY?1:0},e)}},watch:{internalValue:function(e){this.initialValue=e,this.setSelectedItems()},isMenuActive:function(e){var t=this;window.setTimeout((function(){return t.onMenuActiveChange(e)}))},items:{immediate:!0,handler:function(e){var t=this;this.cacheItems&&this.$nextTick((function(){t.cachedItems=t.filterDuplicates(t.cachedItems.concat(e))})),this.setSelectedItems()}}},methods:{blur:function(e){de["a"].options.methods.blur.call(this,e),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu:function(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback:function(){var e=this;this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick((function(){return e.$refs.input&&e.$refs.input.focus()})),this.openOnClear&&(this.isMenuActive=!0)},closeConditional:function(e){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(e.target))&&this.$el&&!this.$el.contains(e.target)&&e.target!==this.$el},filterDuplicates:function(e){for(var t=new Map,i=0;i<e.length;++i){var r=e[i];if(r.header||r.divider)t.set(r,r);else{var s=this.getValue(r);!t.has(s)&&t.set(s,r)}}return Array.from(t.values())},findExistingIndex:function(e){var t=this,i=this.getValue(e);return(this.internalValue||[]).findIndex((function(e){return t.valueComparator(t.getValue(e),i)}))},getContent:function(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection:function(e,t){var i=this,r=this.isDisabled||this.getDisabled(e),s=!r&&this.isInteractive;return this.$createElement(_,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&s,disabled:r,inputValue:t===this.selectedIndex,small:this.smallChips},on:{click:function(e){s&&(e.stopPropagation(),i.selectedIndex=t)},"click:close":function(){return i.onChipInput(e)}},key:JSON.stringify(this.getValue(e))},this.getText(e))},genCommaSelection:function(e,t,i){var r=t===this.selectedIndex&&this.computedColor,s=this.isDisabled||this.getDisabled(e);return this.$createElement("div",this.setTextColor(r,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":s},key:JSON.stringify(this.getValue(e))}),"".concat(this.getText(e)).concat(i?"":", "))},genDefaultSlot:function(){var e=this.genSelections(),t=this.genInput();return Array.isArray(e)?e.push(t):(e.children=e.children||[],e.children.push(t)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,e,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon:function(e,t,i){var r=ce["a"].options.methods.genIcon.call(this,e,t,i);return"append"===e&&(r.children[0].data=Object(G["a"])(r.children[0].data,{attrs:{tabindex:r.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),r},genInput:function(){var e=de["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data=Object(G["a"])(e.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":Object(o["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(o["p"])(e.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),e},genHiddenInput:function(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot:function(){var e=de["a"].options.methods.genInputSlot.call(this);return e.data.attrs=Object(n["a"])(Object(n["a"])({},e.data.attrs),{},{role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns}),e},genList:function(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot:function(){var e=this,t=["prepend-item","no-data","append-item"].filter((function(t){return e.$slots[t]})).map((function(t){return e.$createElement("template",{slot:t},e.$slots[t])}));return this.$createElement(oe,Object(n["a"])({},this.listData),t)},genMenu:function(){var e=this,t=this.$_menuProps;return t.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?t.attach=this.$el:t.attach=this.attach,this.$createElement(j,{attrs:{role:void 0},props:t,on:{input:function(t){e.isMenuActive=t,e.isFocused=t},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections:function(){var e,t=this.selectedItems.length,i=new Array(t);e=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(t--)i[t]=e(this.selectedItems[t],t,t===i.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},i)},genSlotSelection:function(e,t){var i=this;return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:e,index:t,select:function(e){e.stopPropagation(),i.selectedIndex=t},selected:t===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex:function(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled:function(e){return Object(o["r"])(e,this.itemDisabled,!1)},getText:function(e){return Object(o["r"])(e,this.itemText,e)},getValue:function(e){return Object(o["r"])(e,this.itemValue,this.getText(e))},onBlur:function(e){e&&this.$emit("blur",e)},onChipInput:function(e){this.multiple?this.selectItem(e):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick:function(e){this.isInteractive&&(this.isAppendInner(e.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",e))},onEscDown:function(e){e.preventDefault(),this.isMenuActive&&(e.stopPropagation(),this.isMenuActive=!1)},onKeyPress:function(e){var t=this;if(!this.multiple&&this.isInteractive&&!this.disableLookup){var i=1e3,r=performance.now();r-this.keyboardLookupLastTime>i&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=e.key.toLowerCase(),this.keyboardLookupLastTime=r;var s=this.allItems.findIndex((function(e){var i=(t.getText(e)||"").toString();return i.toLowerCase().startsWith(t.keyboardLookupPrefix)})),n=this.allItems[s];-1!==s&&(this.lastItem=Math.max(this.lastItem,s+5),this.setValue(this.returnObject?n:this.getValue(n)),this.$nextTick((function(){return t.$refs.menu.getTiles()})),setTimeout((function(){return t.setMenuIndex(s)})))}},onKeyDown:function(e){var t=this;if(!this.isReadonly||e.keyCode===o["x"].tab){var i=e.keyCode,r=this.$refs.menu;if(this.$emit("keydown",e),r)return this.isMenuActive&&i!==o["x"].tab&&this.$nextTick((function(){r.changeListIndex(e),t.$emit("update:list-index",r.listIndex)})),[o["x"].enter,o["x"].space].includes(i)&&this.activateMenu(),!this.isMenuActive&&[o["x"].up,o["x"].down,o["x"].home,o["x"].end].includes(i)?this.onUpDown(e):i===o["x"].esc?this.onEscDown(e):i===o["x"].tab?this.onTabDown(e):i===o["x"].space?this.onSpaceDown(e):void 0}},onMenuActiveChange:function(e){if(!(this.multiple&&!e||this.getMenuIndex()>-1)){var t=this.$refs.menu;if(t&&this.isDirty){this.$refs.menu.getTiles();for(var i=0;i<t.tiles.length;i++)if("true"===t.tiles[i].getAttribute("aria-selected")){this.setMenuIndex(i);break}}}},onMouseUp:function(e){var t=this;this.hasMouseDown&&3!==e.which&&this.isInteractive&&this.isAppendInner(e.target)&&this.$nextTick((function(){return t.isMenuActive=!t.isMenuActive})),de["a"].options.methods.onMouseUp.call(this,e)},onScroll:function(){var e=this;if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;var t=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;t&&(this.lastItem+=20)}else requestAnimationFrame((function(){return e.getContent().scrollTop=0}))},onSpaceDown:function(e){e.preventDefault()},onTabDown:function(e){var t=this.$refs.menu;if(t){var i=t.activeTile;!this.multiple&&i&&this.isMenuActive?(e.preventDefault(),e.stopPropagation(),i.click()):this.blur(e)}},onUpDown:function(e){var t=this,i=this.$refs.menu;if(i){if(e.preventDefault(),this.multiple)return this.activateMenu();var r=e.keyCode;i.isBooted=!0,window.requestAnimationFrame((function(){if(i.getTiles(),!i.hasClickableTiles)return t.activateMenu();switch(r){case o["x"].up:i.prevTile();break;case o["x"].down:i.nextTile();break;case o["x"].home:i.firstTile();break;case o["x"].end:i.lastTile();break}t.selectItem(t.allItems[t.getMenuIndex()])}))}},selectItem:function(e){var t=this;if(this.multiple){var i=(this.internalValue||[]).slice(),r=this.findExistingIndex(e);-1!==r?i.splice(r,1):i.push(e),this.setValue(i.map((function(e){return t.returnObject?e:t.getValue(e)}))),this.$nextTick((function(){t.$refs.menu&&t.$refs.menu.updateDimensions()}));var s=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick((function(){return t.setMenuIndex(s)}))}else this.setValue(this.returnObject?e:this.getValue(e)),this.isMenuActive=!1},setMenuIndex:function(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},setSelectedItems:function(){var e,t=this,i=[],r=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue],s=Object(h["a"])(r);try{var n=function(){var r=e.value,s=t.allItems.findIndex((function(e){return t.valueComparator(t.getValue(e),t.getValue(r))}));s>-1&&i.push(t.allItems[s])};for(s.s();!(e=s.n()).done;)n()}catch(a){s.e(a)}finally{s.f()}this.selectedItems=i},setValue:function(e){this.valueComparator(e,this.internalValue)||(this.internalValue=e,this.$emit("change",e))},isAppendInner:function(e){var t=this.$refs["append-inner"];return t&&(t===e||t.contains(e))}}}),me=i("afdd"),ge=c["a"].extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:function(){return[5,10,15,-1]}},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon:function(){return this.options.itemsPerPage<=0||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||this.pagination.pageStop<0},computedDataItemsPerPageOptions:function(){var e=this;return this.itemsPerPageOptions.map((function(t){return"object"===Object(s["a"])(t)?t:e.genDataItemsPerPageOption(t)}))}},methods:{updateOptions:function(e){this.$emit("update:options",Object.assign({},this.options,e))},onFirstPage:function(){this.updateOptions({page:1})},onPreviousPage:function(){this.updateOptions({page:this.options.page-1})},onNextPage:function(){this.updateOptions({page:this.options.page+1})},onLastPage:function(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage:function(e){this.updateOptions({itemsPerPage:e,page:1})},genDataItemsPerPageOption:function(e){return{text:-1===e?this.$vuetify.lang.t(this.itemsPerPageAllText):String(e),value:e}},genItemsPerPageSelect:function(){var e=this.options.itemsPerPage,t=this.computedDataItemsPerPageOptions;return t.length<=1?null:(t.find((function(t){return t.value===e}))||(e=t[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(pe,{attrs:{"aria-label":this.$vuetify.lang.t(this.itemsPerPageText)},props:{disabled:this.disableItemsPerPage,items:t,value:e,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo:function(){var e=[""],t=this.pagination.itemsLength,i=this.pagination.pageStart,r=this.pagination.pageStop;return this.pagination.itemsLength&&this.pagination.itemsPerPage?(i=this.pagination.pageStart+1,r=t<this.pagination.pageStop||this.pagination.pageStop<0?t:this.pagination.pageStop,e=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:i,pageStop:r,itemsLength:t})]:[this.$vuetify.lang.t(this.pageText,i,r,t)]):this.$scopedSlots["page-text"]&&(e=[this.$scopedSlots["page-text"]({pageStart:i,pageStop:r,itemsLength:t})]),this.$createElement("div",{class:"v-data-footer__pagination"},e)},genIcon:function(e,t,i,r){return this.$createElement(me["a"],{props:{disabled:t||this.disablePagination,icon:!0,text:!0},on:{click:e},attrs:{"aria-label":i}},[this.$createElement(p["a"],r)])},genIcons:function(){var e=[],t=[];return e.push(this.genIcon(this.onPreviousPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),t.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(e.unshift(this.genIcon(this.onFirstPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),t.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||-1===this.options.itemsPerPage,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},e),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},t)]}},render:function(){return this.$createElement("div",{staticClass:"v-data-footer"},[Object(o["s"])(this,"prepend"),this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}}),ye=c["a"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(e){return!isNaN(Number(e))||["xs","sm","md","lg","xl"].includes(String(e))}}},computed:{isMobile:function(){var e=this.$vuetify.breakpoint,t=e.mobile,i=e.width,r=e.name,s=e.mobileBreakpoint;if(s===this.mobileBreakpoint)return t;var n=parseInt(this.mobileBreakpoint,10),a=!isNaN(n);return a?i<n:r===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(S["d"])("mobile-break-point","mobile-breakpoint",this)}}),ve=Object(l["a"])(ye,y["a"]).extend({name:"v-data-iterator",props:Object(n["a"])(Object(n["a"])({},d.options.props),{},{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},mobileBreakpoint:Object(n["a"])(Object(n["a"])({},ye.options.props.mobileBreakpoint),{},{default:600}),singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[],shiftKeyDown:!1,lastEntry:-1}},computed:{everyItem:function(){var e=this;return!!this.selectableItems.length&&this.selectableItems.every((function(t){return e.isSelected(t)}))},someItems:function(){var e=this;return this.selectableItems.some((function(t){return e.isSelected(t)}))},sanitizedFooterProps:function(){return Object(o["d"])(this.footerProps)},selectableItems:function(){var e=this;return this.internalCurrentItems.filter((function(t){return e.isSelectable(t)}))}},watch:{value:{handler:function(e){var t=this;this.selection=e.reduce((function(e,i){return e[Object(o["p"])(i,t.itemKey)]=i,e}),{})},immediate:!0},selection:function(e,t){Object(o["j"])(Object.keys(e),Object.keys(t))||this.$emit("input",Object.values(e))},expanded:{handler:function(e){var t=this;this.expansion=e.reduce((function(e,i){return e[Object(o["p"])(i,t.itemKey)]=!0,e}),{})},immediate:!0},expansion:function(e,t){var i=this;if(!Object(o["j"])(e,t)){var r=Object.keys(e).filter((function(t){return e[t]})),s=r.length?this.items.filter((function(e){return r.includes(String(Object(o["p"])(e,i.itemKey)))})):[];this.$emit("update:expanded",s)}}},created:function(){var e=this,t=[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]];t.forEach((function(t){var i=Object(r["a"])(t,2),s=i[0],n=i[1];e.$attrs.hasOwnProperty(s)&&Object(S["a"])(s,n,e)}));var i=["expand","content-class","content-props","content-tag"];i.forEach((function(t){e.$attrs.hasOwnProperty(t)&&Object(S["e"])(t)}))},mounted:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},methods:{onKeyDown:function(e){e.keyCode===o["x"].shift&&(this.shiftKeyDown=!0)},onKeyUp:function(e){e.keyCode===o["x"].shift&&(this.shiftKeyDown=!1)},toggleSelectAll:function(e){for(var t=Object.assign({},this.selection),i=0;i<this.selectableItems.length;i++){var r=this.selectableItems[i];if(this.isSelectable(r)){var s=Object(o["p"])(r,this.itemKey);e?t[s]=r:delete t[s]}}this.selection=t,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:e})},isSelectable:function(e){return!1!==Object(o["p"])(e,this.selectableKey)},isSelected:function(e){return!!this.selection[Object(o["p"])(e,this.itemKey)]||!1},select:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isSelectable(e)){var s=this.singleSelect?{}:Object.assign({},this.selection),n=Object(o["p"])(e,this.itemKey);i?s[n]=e:delete s[n];var a=this.selectableItems.findIndex((function(e){return Object(o["p"])(e,t.itemKey)===n}));if(-1===this.lastEntry?this.lastEntry=a:this.shiftKeyDown&&!this.singleSelect&&r&&this.multipleSelect(i,r,s,a),this.lastEntry=a,this.singleSelect&&r){var c=Object.keys(this.selection),d=c.length&&Object(o["p"])(this.selection[c[0]],this.itemKey);d&&d!==n&&this.$emit("item-selected",{item:this.selection[d],value:!1})}this.selection=s,r&&this.$emit("item-selected",{item:e,value:i})}},multipleSelect:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=r<this.lastEntry?r:this.lastEntry,n=r<this.lastEntry?this.lastEntry:r,a=s;a<=n;a++){var c=this.selectableItems[a],d=Object(o["p"])(c,this.itemKey);e?i[d]=c:delete i[d],t&&this.$emit("item-selected",{currentItem:c,value:e})}},isExpanded:function(e){return this.expansion[Object(o["p"])(e,this.itemKey)]||!1},expand:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.singleExpand?{}:Object.assign({},this.expansion),r=Object(o["p"])(e,this.itemKey);t?i[r]=!0:delete i[r],this.expansion=i,this.$emit("item-expanded",{item:e,value:t})},createItemProps:function(e,t){var i=this;return{item:e,index:t,select:function(t){return i.select(e,t)},isSelected:this.isSelected(e),expand:function(t){return i.expand(e,t)},isExpanded:this.isExpanded(e),isMobile:this.isMobile}},genEmptyWrapper:function(e){return this.$createElement("div",e)},genEmpty:function(e,t){if(0===e&&this.loading){var i=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(i)}if(0===e){var r=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(r)}if(0===t){var s=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(s)}return null},genItems:function(e){var t=this,i=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return i?[i]:this.$scopedSlots.default?this.$scopedSlots.default(Object(n["a"])(Object(n["a"])({},e),{},{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,isMobile:this.isMobile,expand:this.expand})):this.$scopedSlots.item?e.items.map((function(e,i){return t.$scopedSlots.item(t.createItemProps(e,i))})):[]},genFooter:function(e){if(this.hideDefaultFooter)return null;var t={props:Object(n["a"])(Object(n["a"])({},this.sanitizedFooterProps),{},{options:e.options,pagination:e.pagination}),on:{"update:options":function(t){return e.updateOptions(t)}}},i=Object(o["q"])("footer.",this.$scopedSlots);return this.$createElement(ge,Object(n["a"])({scopedSlots:i},t))},genDefaultScopedSlot:function(e){var t=Object(n["a"])(Object(n["a"])({},e),{},{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(o["s"])(this,"header",t,!0),this.genItems(e),this.genFooter(e),Object(o["s"])(this,"footer",t,!0)])}},render:function(){var e=this;return this.$createElement(d,{props:this.$props,on:{"update:options":function(t,i){return!Object(o["j"])(t,i)&&e.$emit("update:options",t)},"update:page":function(t){return e.$emit("update:page",t)},"update:items-per-page":function(t){return e.$emit("update:items-per-page",t)},"update:sort-by":function(t){return e.$emit("update:sort-by",t)},"update:sort-desc":function(t){return e.$emit("update:sort-desc",t)},"update:group-by":function(t){return e.$emit("update:group-by",t)},"update:group-desc":function(t){return e.$emit("update:group-desc",t)},pagination:function(t,i){return!Object(o["j"])(t,i)&&e.$emit("pagination",t)},"current-items":function(t){e.internalCurrentItems=t,e.$emit("current-items",t)},"page-count":function(t){return e.$emit("page-count",t)}},scopedSlots:{default:this.genDefaultScopedSlot}})}}),be=(i("f823"),Object(l["a"])().extend({directives:{ripple:q["a"]},props:{headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1}}},checkboxColor:String,sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll:function(){var e,t=this,i={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems,color:null!=(e=this.checkboxColor)?e:""},on:{input:function(e){return t.$emit("toggle-select-all",e)}}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](i):this.$createElement(F,Object(n["a"])({staticClass:"v-data-table__checkbox"},i))},genSortIcon:function(){return this.$createElement(p["a"],{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}})),we=Object(l["a"])(be).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip:function(e){var t=this,i=[e.item.text],r=this.options.sortBy.findIndex((function(t){return t===e.item.value})),s=r>=0,n=this.options.sortDesc[r];return i.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:s,asc:s&&!n,desc:s&&n}},[this.genSortIcon()])),this.$createElement(_,{staticClass:"sortable",on:{click:function(i){i.stopPropagation(),t.$emit("sort",e.item.value)}}},i)},genSortSelect:function(e){var t=this;return this.$createElement(pe,{props:{label:this.$vuetify.lang.t(this.sortByText),items:e,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],menuProps:{closeOnContentClick:!0}},on:{change:function(e){return t.$emit("sort",e)}},scopedSlots:{selection:function(e){return t.genSortChip(e)}}})}},render:function(e){var t=[],i=this.headers.find((function(e){return"data-table-select"===e.value}));i&&!this.singleSelect&&t.push(this.$createElement("div",{class:["v-data-table-header-mobile__select"].concat(Object(a["a"])(Object(o["G"])(i.class))),attrs:{width:i.width}},[this.genSelectAll()]));var r=this.headers.filter((function(e){return!1!==e.sortable&&"data-table-select"!==e.value})).map((function(e){return{text:e.text,value:e.value}}));!this.disableSort&&r.length&&t.push(this.genSortSelect(r));var s=e("th",[e("div",{staticClass:"v-data-table-header-mobile__wrapper"},t)]),n=e("tr",[s]);return e("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[n])}}),Se=Object(l["a"])(be).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle:function(e){var t=this;return this.$createElement("span",{on:{click:function(i){i.stopPropagation(),t.$emit("group",e.value)}}},["group"])},getAria:function(e,t){var i=this,r=function(e){return i.$vuetify.lang.t("$vuetify.dataTable.ariaLabel.".concat(e))},s="none",n=[r("sortNone"),r("activateAscending")];return e?(t?(s="descending",n=[r("sortDescending"),r(this.options.mustSort?"activateAscending":"activateNone")]):(s="ascending",n=[r("sortAscending"),r("activateDescending")]),{ariaSort:s,ariaLabel:n.join(" ")}):{ariaSort:s,ariaLabel:n.join(" ")}},genHeader:function(e){var t=this,i={attrs:{role:"columnheader",scope:"col","aria-label":e.text||""},style:{width:Object(o["g"])(e.width),minWidth:Object(o["g"])(e.width)},class:["text-".concat(e.align||"start")].concat(Object(a["a"])(Object(o["G"])(e.class)),[e.divider&&"v-data-table__divider"]),on:{}},r=[];if("data-table-select"===e.value&&!this.singleSelect)return this.$createElement("th",i,[this.genSelectAll()]);if(r.push(this.$scopedSlots[e.value]?this.$scopedSlots[e.value]({header:e}):this.$createElement("span",[e.text])),!this.disableSort&&(e.sortable||!e.hasOwnProperty("sortable"))){i.on.click=function(){return t.$emit("sort",e.value)};var s=this.options.sortBy.findIndex((function(t){return t===e.value})),n=s>=0,c=this.options.sortDesc[s];i.class.push("sortable");var d=this.getAria(n,c),h=d.ariaLabel,u=d.ariaSort;i.attrs["aria-label"]+="".concat(e.text?": ":"").concat(h),i.attrs["aria-sort"]=u,n&&(i.class.push("active"),i.class.push(c?"desc":"asc")),"end"===e.align?r.unshift(this.genSortIcon()):r.push(this.genSortIcon()),this.options.multiSort&&n&&r.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[String(s+1)]))}return this.showGroupBy&&!1!==e.groupable&&r.push(this.genGroupByToggle(e)),this.$createElement("th",i,r)}},render:function(){var e=this;return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map((function(t){return e.genHeader(t)})))])}});function ke(e){if(e.model&&e.on&&e.on.input)if(Array.isArray(e.on.input)){var t=e.on.input.indexOf(e.model.callback);t>-1&&e.on.input.splice(t,1)}else delete e.on.input}function _e(e,t){var i=[];for(var r in e)e.hasOwnProperty(r)&&i.push(t("template",{slot:r},e[r]));return i}var Oe=c["a"].extend({name:"v-data-table-header",functional:!0,props:Object(n["a"])(Object(n["a"])({},be.options.props),{},{mobile:Boolean}),render:function(e,t){var i=t.props,r=t.data,s=t.slots;ke(r);var n=_e(s(),e);return r=Object(G["a"])(r,{props:i}),i.mobile?e(we,r,n):e(Se,r,n)}}),Te=c["a"].extend({name:"row",functional:!0,props:{headers:Array,index:Number,item:Object,rtl:Boolean},render:function(e,t){var i=t.props,r=t.slots,s=t.data,n=r(),a=i.headers.map((function(t){var r=[],a=Object(o["p"])(i.item,t.value),c=t.value,d=s.scopedSlots&&s.scopedSlots[c],h=n[c];d?r.push(d({item:i.item,isMobile:!1,header:t,index:i.index,value:a})):h?r.push(h):r.push(null==a?a:String(a));var u="text-".concat(t.align||"start");return e("td",{class:[u,t.cellClass,{"v-data-table__divider":t.divider}]},r)}));return e("tr",s,a)}}),Ce=c["a"].extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render:function(e,t){var i=t.slots,r=t.props,s=i(),n=[];return s["column.header"]?n.push(e("tr",{staticClass:r.headerClass},s["column.header"])):s["row.header"]&&n.push.apply(n,Object(a["a"])(s["row.header"])),s["row.content"]&&r.value&&n.push.apply(n,Object(a["a"])(s["row.content"])),s["column.summary"]?n.push(e("tr",{staticClass:r.summaryClass},s["column.summary"])):s["row.summary"]&&n.push.apply(n,Object(a["a"])(s["row.summary"])),n}}),Ie=(i("8b37"),Object(l["a"])(y["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(o["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})),xe=c["a"].extend({name:"row",functional:!0,props:{headers:Array,hideDefaultHeader:Boolean,index:Number,item:Object,rtl:Boolean},render:function(e,t){var i=t.props,r=t.slots,s=t.data,a=r(),c=i.headers.map((function(t){var r={"v-data-table__mobile-row":!0},n=[],c=Object(o["p"])(i.item,t.value),d=t.value,h=s.scopedSlots&&s.scopedSlots[d],u=a[d];h?n.push(h({item:i.item,isMobile:!0,header:t,index:i.index,value:c})):u?n.push(u):n.push(null==c?c:String(c));var l=[e("div",{staticClass:"v-data-table__mobile-row__cell"},n)];return"dataTableSelect"===t.value||i.hideDefaultHeader||l.unshift(e("div",{staticClass:"v-data-table__mobile-row__header"},[t.text])),e("td",{class:r},l)}));return e("tr",Object(n["a"])(Object(n["a"])({},s),{},{staticClass:"v-data-table__mobile-table-row"}),c)}}),Ee=i("297c");function Ae(e,t,i){return function(r){var s=Object(o["p"])(e,r.value);return r.filter?r.filter(s,t,e):i(s,t,e)}}function Ne(e,t,i,r,s){return t="string"===typeof t?t.trim():null,e.filter((function(e){var n=i.every(Ae(e,t,o["k"])),a=!t||r.some(Ae(e,t,s));return n&&a}))}t["a"]=Object(l["a"])(ve,Ee["a"]).extend({name:"v-data-table",directives:{ripple:q["a"]},props:{headers:{type:Array,default:function(){return[]}},showSelect:Boolean,checkboxColor:String,showExpand:Boolean,showGroupBy:Boolean,height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:o["k"]},itemClass:{type:[String,Function],default:function(){return""}},loaderHeight:{type:[Number,String],default:4}},data:function(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders:function(){var e=this;if(!this.headers)return[];var t=this.headers.filter((function(t){return void 0===t.value||!e.internalGroupBy.find((function(e){return e===t.value}))})),i={text:"",sortable:!1,width:"1px"};if(this.showSelect){var r=t.findIndex((function(e){return"data-table-select"===e.value}));r<0?t.unshift(Object(n["a"])(Object(n["a"])({},i),{},{value:"data-table-select"})):t.splice(r,1,Object(n["a"])(Object(n["a"])({},i),t[r]))}if(this.showExpand){var s=t.findIndex((function(e){return"data-table-expand"===e.value}));s<0?t.unshift(Object(n["a"])(Object(n["a"])({},i),{},{value:"data-table-expand"})):t.splice(s,1,Object(n["a"])(Object(n["a"])({},i),t[s]))}return t},colspanAttrs:function(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},columnSorters:function(){return this.computedHeaders.reduce((function(e,t){return t.sort&&(e[t.value]=t.sort),e}),{})},headersWithCustomFilters:function(){return this.headers.filter((function(e){return e.filter&&(!e.hasOwnProperty("filterable")||!0===e.filterable)}))},headersWithoutCustomFilters:function(){return this.headers.filter((function(e){return!e.filter&&(!e.hasOwnProperty("filterable")||!0===e.filterable)}))},sanitizedHeaderProps:function(){return Object(o["d"])(this.headerProps)},computedItemsPerPage:function(){var e=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,t=this.sanitizedFooterProps.itemsPerPageOptions;if(t&&!t.find((function(t){return"number"===typeof t?t===e:t.value===e}))){var i=t[0];return"object"===Object(s["a"])(i)?i.value:i}return e}},created:function(){var e=this,t=[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]];t.forEach((function(t){var i=Object(r["a"])(t,2),s=i[0],n=i[1];e.$attrs.hasOwnProperty(s)&&Object(S["a"])(s,n,e)}))},mounted:function(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy:function(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths:function(){this.widths=Array.from(this.$el.querySelectorAll("th")).map((function(e){return e.clientWidth}))},customFilterWithColumns:function(e,t){return Ne(e,t,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders:function(e,t,i,r){return this.customSort(e,t,i,r,this.columnSorters)},createItemProps:function(e,t){var i=ve.options.methods.createItemProps.call(this,e,t);return Object.assign(i,{headers:this.computedHeaders})},genCaption:function(e){return this.caption?[this.$createElement("caption",[this.caption])]:Object(o["s"])(this,"caption",e,!0)},genColgroup:function(e){var t=this;return this.$createElement("colgroup",this.computedHeaders.map((function(e){return t.$createElement("col",{class:{divider:e.divider}})})))},genLoading:function(){var e=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[this.genProgress()]),t=this.$createElement("tr",{staticClass:"v-data-table__progress"},[e]);return this.$createElement("thead",[t])},genHeaders:function(e){var t={props:Object(n["a"])(Object(n["a"])({},this.sanitizedHeaderProps),{},{headers:this.computedHeaders,options:e.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,checkboxColor:this.checkboxColor,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort}),on:{sort:e.sort,group:e.group,"toggle-select-all":this.toggleSelectAll}},i=[Object(o["s"])(this,"header",Object(n["a"])(Object(n["a"])({},t),{},{isMobile:this.isMobile}))];if(!this.hideDefaultHeader){var r=Object(o["q"])("header.",this.$scopedSlots);i.push(this.$createElement(Oe,Object(n["a"])(Object(n["a"])({},t),{},{scopedSlots:r})))}return this.loading&&i.push(this.genLoading()),i},genEmptyWrapper:function(e){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},e)])},genItems:function(e,t){var i=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return i?[i]:t.groupedItems?this.genGroupedRows(t.groupedItems,t):this.genRows(e,t)},genGroupedRows:function(e,t){var i=this;return e.map((function(e){return i.openCache.hasOwnProperty(e.name)||i.$set(i.openCache,e.name,!0),i.$scopedSlots.group?i.$scopedSlots.group({group:e.name,options:t.options,isMobile:i.isMobile,items:e.items,headers:i.computedHeaders}):i.genDefaultGroupedRow(e.name,e.items,t)}))},genDefaultGroupedRow:function(e,t,i){var r=this,s=!!this.openCache[e],n=[this.$createElement("template",{slot:"row.content"},this.genRows(t,i))],a=function(){return r.$set(r.openCache,e,!r.openCache[e])},o=function(){return i.updateOptions({groupBy:[],groupDesc:[]})};if(this.$scopedSlots["group.header"])n.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:e,groupBy:i.options.groupBy,isMobile:this.isMobile,items:t,headers:this.computedHeaders,isOpen:s,toggle:a,remove:o})]));else{var c=this.$createElement(me["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:a}},[this.$createElement(p["a"],[s?"$minus":"$plus"])]),d=this.$createElement(me["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:o}},[this.$createElement(p["a"],["$close"])]),h=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[c,"".concat(i.options.groupBy[0],": ").concat(e),d]);n.unshift(this.$createElement("template",{slot:"column.header"},[h]))}return this.$scopedSlots["group.summary"]&&n.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:e,groupBy:i.options.groupBy,isMobile:this.isMobile,items:t,headers:this.computedHeaders,isOpen:s,toggle:a})])),this.$createElement(Ce,{key:e,props:{value:s}},n)},genRows:function(e,t){return this.$scopedSlots.item?this.genScopedRows(e,t):this.genDefaultRows(e,t)},genScopedRows:function(e,t){for(var i=[],r=0;r<e.length;r++){var s=e[r];i.push(this.$scopedSlots.item(Object(n["a"])(Object(n["a"])({},this.createItemProps(s,r)),{},{isMobile:this.isMobile}))),this.isExpanded(s)&&i.push(this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,index:r,item:s}))}return i},genDefaultRows:function(e,t){var i=this;return this.$scopedSlots["expanded-item"]?e.map((function(e,t){return i.genDefaultExpandedRow(e,t)})):e.map((function(e,t){return i.genDefaultSimpleRow(e,t)}))},genDefaultExpandedRow:function(e,t){var i=this.isExpanded(e),r={"v-data-table__expanded v-data-table__expanded__row":i},s=this.genDefaultSimpleRow(e,t,r),n=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,item:e})]);return this.$createElement(Ce,{props:{value:i}},[this.$createElement("template",{slot:"row.header"},[s]),this.$createElement("template",{slot:"row.content"},[n])])},genDefaultSimpleRow:function(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Object(o["q"])("item.",this.$scopedSlots),a=this.createItemProps(e,t);if(this.showSelect){var c=s["data-table-select"];s["data-table-select"]=c?function(){return c(Object(n["a"])(Object(n["a"])({},a),{},{isMobile:i.isMobile}))}:function(){var t;return i.$createElement(F,{staticClass:"v-data-table__checkbox",props:{value:a.isSelected,disabled:!i.isSelectable(e),color:null!=(t=i.checkboxColor)?t:""},on:{input:function(e){return a.select(e)}}})}}if(this.showExpand){var d=s["data-table-expand"];s["data-table-expand"]=d?function(){return d(a)}:function(){return i.$createElement(p["a"],{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":a.isExpanded},on:{click:function(e){e.stopPropagation(),a.expand(!a.isExpanded)}}},[i.expandIcon])}}return this.$createElement(this.isMobile?xe:Te,{key:Object(o["p"])(e,this.itemKey),class:Object(G["b"])(Object(n["a"])(Object(n["a"])({},r),{},{"v-data-table__selected":a.isSelected}),Object(o["r"])(e,this.itemClass)),props:{headers:this.computedHeaders,hideDefaultHeader:this.hideDefaultHeader,index:t,item:e,rtl:this.$vuetify.rtl},scopedSlots:s,on:{click:function(){return i.$emit("click:row",e,a)},contextmenu:function(e){return i.$emit("contextmenu:row",e,a)},dblclick:function(e){return i.$emit("dblclick:row",e,a)}}})},genBody:function(e){var t=Object(n["a"])(Object(n["a"])({},e),{},{expand:this.expand,headers:this.computedHeaders,isExpanded:this.isExpanded,isMobile:this.isMobile,isSelected:this.isSelected,select:this.select});return this.$scopedSlots.body?this.$scopedSlots.body(t):this.$createElement("tbody",[Object(o["s"])(this,"body.prepend",t,!0),this.genItems(e.items,e),Object(o["s"])(this,"body.append",t,!0)])},genFoot:function(e){return null==this.$scopedSlots.foot?void 0:this.$scopedSlots.foot(e)},genFooters:function(e){var t={props:Object(n["a"])({options:e.options,pagination:e.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText"},this.sanitizedFooterProps),on:{"update:options":function(t){return e.updateOptions(t)}},widths:this.widths,headers:this.computedHeaders},i=[Object(o["s"])(this,"footer",t,!0)];return this.hideDefaultFooter||i.push(this.$createElement(ge,Object(n["a"])(Object(n["a"])({},t),{},{scopedSlots:Object(o["q"])("footer.",this.$scopedSlots)}))),i},genDefaultScopedSlot:function(e){var t={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(Ie,{props:t,class:{"v-data-table--mobile":this.isMobile}},[this.proxySlot("top",Object(o["s"])(this,"top",Object(n["a"])(Object(n["a"])({},e),{},{isMobile:this.isMobile}),!0)),this.genCaption(e),this.genColgroup(e),this.genHeaders(e),this.genBody(e),this.genFoot(e),this.proxySlot("bottom",this.genFooters(e))])},proxySlot:function(e,t){return this.$createElement("template",{slot:e},t)}},render:function(){var e=this;return this.$createElement(d,{props:Object(n["a"])(Object(n["a"])({},this.$props),{},{customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage}),on:{"update:options":function(t,i){e.internalGroupBy=t.groupBy||[],!Object(o["j"])(t,i)&&e.$emit("update:options",t)},"update:page":function(t){return e.$emit("update:page",t)},"update:items-per-page":function(t){return e.$emit("update:items-per-page",t)},"update:sort-by":function(t){return e.$emit("update:sort-by",t)},"update:sort-desc":function(t){return e.$emit("update:sort-desc",t)},"update:group-by":function(t){return e.$emit("update:group-by",t)},"update:group-desc":function(t){return e.$emit("update:group-desc",t)},pagination:function(t,i){return!Object(o["j"])(t,i)&&e.$emit("pagination",t)},"current-items":function(t){e.internalCurrentItems=t,e.$emit("current-items",t)},"page-count":function(t){return e.$emit("page-count",t)}},scopedSlots:{default:this.genDefaultScopedSlot}})}})},"8ff2":function(e,t,i){},"90a2":function(e,t,i){"use strict";var r=i("53ca");function s(e,t){if("undefined"!==typeof window&&"IntersectionObserver"in window){var i=t.modifiers||{},s=t.value,a="object"===Object(r["a"])(s)?s:{handler:s,options:{}},o=a.handler,c=a.options,d=new IntersectionObserver((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(e._observe){var s=t.some((function(e){return e.isIntersecting}));!o||i.quiet&&!e._observe.init||i.once&&!s&&e._observe.init||o(t,r,s),s&&i.once?n(e):e._observe.init=!0}}),c);e._observe={init:!1,observer:d},d.observe(e)}}function n(e){e._observe&&(e._observe.observer.unobserve(e),delete e._observe)}var a={inserted:s,unbind:n};t["a"]=a},"90db":function(e,t,i){"use strict";const r=i("113d"),{isNode:s,keys:n,values:a,deepExtend:o,extend:c,clone:d,flatten:h,unique:u,indexBy:l,sortBy:f,groupBy:p,aggregate:m,uuid:g,unCamelCase:y,precisionFromString:v,throttle:b,capitalize:w,now:S,timeout:k,TimedOut:_,buildOHLCVC:O,decimalToPrecision:T,defaultFetch:C}=r,{ExchangeError:I,BadSymbol:x,InvalidAddress:E,NotSupported:A,AuthenticationError:N,DDoSProtection:M,RequestTimeout:P,ExchangeNotAvailable:B,RateLimitExceeded:R}=i("74b0"),{TRUNCATE:D,ROUND:L,DECIMAL_PLACES:V,NO_PADDING:j}=r.precisionConstants,q=(i("74d2"),i("5524"));e.exports=class{describe(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!0,rateLimit:2e3,certified:!1,pro:!1,has:{loadMarkets:!0,cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchOrderTrades:!1,fetchStatus:"emulated",fetchTicker:!0,fetchTickers:!1,fetchTime:!1,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!1,privateAPI:!0,publicAPI:!0,signIn:!1,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1,privateKey:!1,walletAddress:!1,token:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},status:{status:"ok",updated:void 0,eta:void 0,url:void 0},exceptions:void 0,httpExceptions:{422:I,418:M,429:R,404:B,409:B,410:B,500:B,501:B,502:B,520:B,521:B,522:B,525:B,526:B,400:B,403:B,405:B,503:B,530:B,408:P,504:P,401:N,511:N},dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH",BCHABC:"BCH",BCHSV:"BSV"},precisionMode:V,paddingMode:j,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}constructor(e={}){Object.assign(this,r),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.quoteJsonNumbers=!0,this.number=Number,this.reduceFees=!0,this.fetchImplementation=C,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.userAgent=void 0,this.twofa=void 0,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.privateKey=void 0,this.walletAddress=void 0,this.token=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders=void 0,this.trades={},this.transactions={},this.ohlcvs={},this.myTrades=void 0,this.requiresWeb3=!1,this.requiresEddsa=!1,this.precision={},this.enableLastJsonResponse=!0,this.enableLastHttpResponse=!0,this.enableLastResponseHeaders=!0,this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0;const t=(e=this)=>{if(null!==e){const i=Object.getOwnPropertyNames(e);for(let e=0;e<i.length;e++){const t=i[e];this[y(t)]=this[t]}t(Object.getPrototypeOf(e))}};t();const i=Object.entries(this.describe()).concat(Object.entries(e));for(let r=0;r<i.length;r++){const[e,t]=i[r];t&&Object.getPrototypeOf(t)===Object.prototype?this[e]=o(this[e],t):this[e]=t}const n={keepAlive:!0};!this.httpAgent&&C.http&&s&&(this.httpAgent=new C.http.Agent(n)),!this.httpsAgent&&C.https&&s&&(this.httpsAgent=new C.https.Agent(n));const a=Object.keys(this.has);for(let r=0;r<a.length;r++){const e=a[r];this["has"+w(e)]=!!this.has[e]}this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets)}defaults(){return{}}nonce(){return this.seconds()}encodeURIComponent(...e){return encodeURIComponent(...e)}checkRequiredCredentials(e=!0){const t=Object.keys(this.requiredCredentials);for(let i=0;i<t.length;i++){const r=t[i];if(this.requiredCredentials[r]&&!this[r]){if(e)throw new N(this.id+" requires `"+r+"` credential");return e}}return!0}checkAddress(e){if(void 0===e)throw new E(this.id+" address is undefined");if(1===u(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new E(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+this.json(e)+'"');return e}initRestRateLimiter(){if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=b(this.tokenBucket),this.executeRestRequest=(e,t="GET",i,r)=>{const n=this.fetchImplementation,a={method:t,headers:i,body:r,timeout:this.timeout};this.agent?a["agent"]=this.agent:this.httpAgent&&0===e.indexOf("http://")?a["agent"]=this.httpAgent:this.httpsAgent&&0===e.indexOf("https://")&&(a["agent"]=this.httpsAgent);const o=n(e,this.extend(a,this.fetchOptions)).catch(i=>{if(s)throw new B([this.id,t,e,i.type,i.message].join(" "));throw i}).then(s=>this.handleRestResponse(s,e,t,i,r));return k(this.timeout,o).catch(i=>{if(i instanceof _)throw new P(this.id+" "+t+" "+e+" request timed out ("+this.timeout+" ms)");throw i})}}setSandboxMode(e){if(e){if(!("test"in this.urls))throw new A(this.id+" does not have a sandbox URL");"string"===typeof this.urls["api"]?(this.urls["apiBackup"]=this.urls["api"],this.urls["api"]=this.urls["test"]):(this.urls["apiBackup"]=d(this.urls["api"]),this.urls["api"]=d(this.urls["test"]))}else"apiBackup"in this.urls&&("string"===typeof this.urls["api"]?this.urls["api"]=this.urls["apiBackup"]:this.urls["api"]=d(this.urls["apiBackup"]))}defineRestApi(e,t,i=[]){const r=Object.keys(e);for(let s=0;s<r.length;s++){const n=r[s],a=e[n];if(Array.isArray(a)){const e=n.toUpperCase(),r=n.toLowerCase(),s=this.capitalize(r);for(let n=0;n<a.length;n++){const o=a[n].trim(),c=o.split(/[^a-zA-Z0-9]/),d=c.map(this.capitalize).join(""),h=c.map(e=>e.trim().toLowerCase()).filter(e=>e.length>0).join("_"),u=[i[0]].concat(i.slice(1).map(this.capitalize)).join(""),l=[i[0]].concat(i.slice(1).map(e=>e.trim()).filter(e=>e.length>0)).join("_"),f=u+s+this.capitalize(d),p=l+"_"+r+"_"+h,m=i.length>1?i:i[0],g=async i=>this[t](o,m,e,i||{});this[f]=g,this[p]=g}}else this.defineRestApi(a,t,i.concat([n]))}}print(...e){console.log(...e)}setHeaders(e){return e}fetch(e,t="GET",i,r){return s&&this.userAgent&&("string"===typeof this.userAgent?i=c({"User-Agent":this.userAgent},i):"object"===typeof this.userAgent&&"User-Agent"in this.userAgent&&(i=c(this.userAgent,i))),"function"===typeof this.proxy?(e=this.proxy(e),s&&(i=c({Origin:this.origin},i))):"string"===typeof this.proxy&&(this.proxy.length&&s&&(i=c({Origin:this.origin},i)),e=this.proxy+e),i=c(this.headers,i),i=this.setHeaders(i),this.verbose&&this.print("fetch:\n",this.id,t,e,"\nRequest:\n",i,"\n",r,"\n"),this.executeRestRequest(e,t,i,r)}async fetch2(e,t="public",i="GET",r={},s,n){this.enableRateLimit&&await this.throttle(this.rateLimit);const a=this.sign(e,t,i,r,s,n);return this.fetch(a.url,a.method,a.headers,a.body)}request(e,t="public",i="GET",r={},s,n){return this.fetch2(e,t,i,r,s,n)}parseJson(e){try{if(this.isJsonEncodedObject(e))return JSON.parse(this.onJsonResponse(e))}catch(t){return}}throwExactlyMatchedException(e,t,i){if(t in e)throw new e[t](i)}throwBroadlyMatchedException(e,t,i){const r=this.findBroadlyMatchedKey(e,t);if(void 0!==r)throw new e[r](i)}findBroadlyMatchedKey(e,t){const i=Object.keys(e);for(let r=0;r<i.length;r++){const e=i[r];if(t.indexOf(e)>=0)return e}}handleErrors(e,t,i,r,s,n,a,o,c){}handleHttpStatusCode(e,t,i,r,s){const n=e.toString();if(n in this.httpExceptions){const a=this.httpExceptions[n];throw new a([this.id,r,i,e,t,s].join(" "))}}getResponseHeaders(e){const t={};return e.headers.forEach((e,i)=>{i=i.split("-").map(e=>w(e)).join("-"),t[i]=e}),t}handleRestResponse(e,t,i="GET",r,s){return e.text().then(n=>{const a=this.getResponseHeaders(e),o=this.onRestResponse(e.status,e.statusText,t,i,a,n,r,s),c=this.parseJson(o);return this.enableLastResponseHeaders&&(this.last_response_headers=a),this.enableLastHttpResponse&&(this.last_http_response=n),this.enableLastJsonResponse&&(this.last_json_response=c),this.verbose&&this.print("handleRestResponse:\n",this.id,i,t,e.status,e.statusText,"\nResponse:\n",a,"\n",n,"\n"),this.handleErrors(e.status,e.statusText,t,i,a,n,c,r,s),this.handleHttpStatusCode(e.status,e.statusText,t,i,n),c||n})}onRestResponse(e,t,i,r,s,n,a,o){return n.trim()}onJsonResponse(e){return this.quoteJsonNumbers?e.replace(/":([+.0-9eE-]+)([,}])/g,'":"$1"$2'):e}setMarkets(e,t){const i=Object.values(e).map(e=>o({limits:this.limits,precision:this.precision},this.fees["trading"],e));if(this.markets=l(i,"symbol"),this.markets_by_id=l(e,"id"),this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),t)this.currencies=o(t,this.currencies);else{let e=i.filter(e=>"base"in e).map(e=>({id:e.baseId||e.base,numericId:void 0!==e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8})),t=i.filter(e=>"quote"in e).map(e=>({id:e.quoteId||e.quote,numericId:void 0!==e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8}));e=f(e,"code"),t=f(t,"code"),this.baseCurrencies=l(e,"code"),this.quoteCurrencies=l(t,"code");const r=e.concat(t),s=p(r,"code"),n=Object.keys(s).map(e=>s[e].reduce((e,t)=>e.precision>t.precision?e:t,s[e][0])),a=f(h(n),"code");this.currencies=o(l(a,"code"),this.currencies)}return this.currencies_by_id=l(this.currencies,"id"),this.markets}async loadMarketsHelper(e=!1,t={}){if(!e&&this.markets)return this.markets_by_id?this.markets:this.setMarkets(this.markets);let i=void 0;this.has.fetchCurrencies&&(i=await this.fetchCurrencies());const r=await this.fetchMarkets(t);return this.setMarkets(r,i)}loadMarkets(e=!1,t={}){return(e&&!this.reloadingMarkets||!this.marketsLoading)&&(this.reloadingMarkets=!0,this.marketsLoading=this.loadMarketsHelper(e,t).then(e=>(this.reloadingMarkets=!1,e),e=>{throw this.reloadingMarkets=!1,e})),this.marketsLoading}async loadAccounts(e=!1,t={}){if(e)this.accounts=await this.fetchAccounts(t);else{if(this.accounts)return this.accounts;this.accounts=await this.fetchAccounts(t)}return this.accountsById=this.indexBy(this.accounts,"id"),this.accounts}fetchBidsAsks(e,t={}){throw new A(this.id+" fetchBidsAsks not supported yet")}async fetchOHLCVC(e,t="1m",i,r,s={}){if(!this.has["fetchTrades"])throw new A(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const n=await this.fetchTrades(e,i,r,s),a=O(n,t,i,r);return a}async fetchOHLCV(e,t="1m",i,r,s={}){if(!this.has["fetchTrades"])throw new A(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const n=await this.fetchTrades(e,i,r,s),a=O(n,t,i,r);return a.map(e=>e.slice(0,-1))}parseTradingViewOHLCV(e,t,i="1m",r,s){const n=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(n,t,i,r,s)}convertTradingViewToOHLCV(e,t="t",i="o",r="h",s="l",n="c",a="v",o=!1){const c=[];for(let d=0;d<e[t].length;d++)c.push([o?e[t][d]:1e3*e[t][d],e[i][d],e[r][d],e[s][d],e[n][d],e[a][d]]);return c}convertOHLCVToTradingView(e,t="t",i="o",r="h",s="l",n="c",a="v",o=!1){const c={};c[t]=[],c[i]=[],c[r]=[],c[s]=[],c[n]=[],c[a]=[];for(let d=0;d<e.length;d++)c[t].push(o?e[d][0]:parseInt(e[d][0]/1e3)),c[i].push(e[d][1]),c[r].push(e[d][2]),c[s].push(e[d][3]),c[n].push(e[d][4]),c[a].push(e[d][5]);return c}async fetchTicker(e,t={}){if(this.has["fetchTickers"]){const i=await this.fetchTickers([e],t),r=this.safeValue(i,e);if(void 0===r)throw new E(this.id+" fetchTickers could not find a ticker for "+e);return r}throw new A(this.id+" fetchTicker not supported yet")}fetchTickers(e,t={}){throw new A(this.id+" fetchTickers not supported yet")}fetchOrder(e,t,i={}){throw new A(this.id+" fetchOrder not supported yet")}fetchUnifiedOrder(e,t={}){return this.fetchOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}createOrder(e,t,i,r,s,n={}){throw new A(this.id+" createOrder not supported yet")}cancelOrder(e,t,i={}){throw new A(this.id+" cancelOrder not supported yet")}cancelUnifiedOrder(e,t={}){return this.cancelOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}fetchOrders(e,t,i,r={}){throw new A(this.id+" fetchOrders not supported yet")}fetchOpenOrders(e,t,i,r={}){throw new A(this.id+" fetchOpenOrders not supported yet")}fetchClosedOrders(e,t,i,r={}){throw new A(this.id+" fetchClosedOrders not supported yet")}fetchMyTrades(e,t,i,r={}){throw new A(this.id+" fetchMyTrades not supported yet")}fetchTransactions(e,t,i,r={}){throw new A(this.id+" fetchTransactions not supported yet")}fetchDeposits(e,t,i,r={}){throw new A(this.id+" fetchDeposits not supported yet")}fetchWithdrawals(e,t,i,r={}){throw new A(this.id+" fetchWithdrawals not supported yet")}async fetchDepositAddress(e,t={}){if(this.has["fetchDepositAddresses"]){const i=await this.fetchDepositAddresses([e],t),r=this.safeValue(i,e);if(void 0===r)throw new E(this.id+" fetchDepositAddress could not find a deposit address for "+e+", make sure you have created a corresponding deposit address in your wallet on the exchange website");return r}throw new A(this.id+" fetchDepositAddress not supported yet")}fetchCurrencies(e={}){return new Promise((e,t)=>e(this.currencies))}fetchMarkets(e={}){return new Promise((e,t)=>e(Object.values(this.markets)))}async fetchOrderStatus(e,t,i={}){const r=await this.fetchOrder(e,t,i);return r["status"]}account(){return{free:void 0,used:void 0,total:void 0}}commonCurrencyCode(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}currencyId(e){if(void 0===this.currencies)throw new I(this.id+" currencies not loaded");if(e in this.currencies)return this.currencies[e]["id"];const t={},i=Object.keys(this.commonCurrencies);for(let r=0;r<i.length;r++){const e=i[r];t[this.commonCurrencies[e]]=e}return this.safeString(t,e,e)}currency(e){if(void 0===this.currencies)throw new I(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new I(this.id+" does not have currency code "+e)}market(e){if(void 0===this.markets)throw new I(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new x(this.id+" does not have market symbol "+e)}marketId(e){const t=this.market(e);return void 0!==t?t["id"]:e}marketIds(e){return e.map(e=>this.marketId(e))}currencyIds(e){return e.map(e=>this.currencyId(e))}symbol(e){return this.market(e).symbol||e}implodeHostname(e){return this.implodeParams(e,{hostname:this.hostname})}parseBidAsk(e,t=0,i=1){const r=this.safeNumber(e,t),s=this.safeNumber(e,i);return[r,s]}parseBidsAsks(e,t=0,i=1){return Object.values(e||[]).map(e=>this.parseBidAsk(e,t,i))}async fetchL2OrderBook(e,t,i={}){const r=await this.fetchOrderBook(e,t,i);return c(r,{bids:f(m(r.bids),0,!0),asks:f(m(r.asks),0)})}parseOrderBook(e,t,i,r="bids",s="asks",n=0,a=1){return{symbol:t,bids:f(r in e?this.parseBidsAsks(e[r],n,a):[],0,!0),asks:f(s in e?this.parseBidsAsks(e[s],n,a):[],0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}parseBalance(e,t=!0){const i=Object.keys(this.omit(e,["info","timestamp","datetime","free","used","total"]));e["free"]={},e["used"]={},e["total"]={};for(let r=0;r<i.length;r++){const s=i[r];void 0===e[s].total&&void 0!==e[s].free&&void 0!==e[s].used&&(e[s].total=t?this.sum(e[s].free,e[s].used):q.stringAdd(e[s].free,e[s].used)),void 0===e[s].free&&void 0!==e[s].total&&void 0!==e[s].used&&(e[s].free=t?this.sum(e[s].total,-e[s].used):q.stringSub(e[s].total,e[s].used)),void 0===e[s].used&&void 0!==e[s].total&&void 0!==e[s].free&&(e[s].used=t?this.sum(e[s].total,-e[s].free):q.stringSub(e[s].total,e[s].free)),e[s].free=this.parseNumber(e[s].free),e[s].used=this.parseNumber(e[s].used),e[s].total=this.parseNumber(e[s].total),e.free[s]=e[s].free,e.used[s]=e[s].used,e.total[s]=e[s].total}return e}async fetchBalance(e={}){throw new A(this.id+" fetchBalance not supported yet")}async fetchPartialBalance(e,t={}){const i=await this.fetchBalance(t);return i[e]}fetchFreeBalance(e={}){return this.fetchPartialBalance("free",e)}fetchUsedBalance(e={}){return this.fetchPartialBalance("used",e)}fetchTotalBalance(e={}){return this.fetchPartialBalance("total",e)}async fetchStatus(e={}){if(this.has["fetchTime"]){const t=await this.fetchTime(e);this.status=this.extend(this.status,{updated:t})}return this.status}async fetchTradingFees(e={}){throw new A(this.id+" fetchTradingFees not supported yet")}async fetchTradingFee(e,t={}){if(!this.has["fetchTradingFees"])throw new A(this.id+" fetchTradingFee not supported yet");return await this.fetchTradingFees(t)}async loadTradingLimits(e,t=!1,i={}){if(this.has["fetchTradingLimits"]&&(t||!("limitsLoaded"in this.options))){const t=await this.fetchTradingLimits(e);for(let i=0;i<e.length;i++){const r=e[i];this.markets[r]=this.deepExtend(this.markets[r],t[r])}this.options["limitsLoaded"]=this.milliseconds()}return this.markets}filterBySinceLimit(e,t,i,r="timestamp",s=!1){const n=void 0!==t&&null!==t;return n&&(e=e.filter(e=>e[r]>=t)),void 0!==i&&null!==i&&(e=s?e.slice(-i):e.slice(0,i)),e}filterByValueSinceLimit(e,t,i,r,s,n="timestamp",a=!1){const o=void 0!==i&&null!==i,c=void 0!==r&&null!==r;return(o||c)&&(e=e.filter(e=>(!o||e[t]===i)&&(!c||e[n]>=r))),void 0!==s&&null!==s&&(e=a?e.slice(-s):e.slice(0,s)),e}filterBySymbolSinceLimit(e,t,i,r,s=!1){return this.filterByValueSinceLimit(e,"symbol",t,i,r,"timestamp",s)}filterByCurrencySinceLimit(e,t,i,r,s=!1){return this.filterByValueSinceLimit(e,"currency",t,i,r,"timestamp",s)}filterByArray(e,t,i,r=!0){if(e=Object.values(e),void 0===i||null===i)return r?l(e,t):e;const s=[];for(let n=0;n<e.length;n++)i.includes(e[n][t])&&s.push(e[n]);return r?l(s,t):s}safeTicker(e,t){const i=this.safeValue(e,"symbol");void 0===i&&(e["symbol"]=this.safeSymbol(void 0,t));const r=this.safeInteger(e,"timestamp");void 0!==r&&(e["timestamp"]=r,e["datetime"]=this.iso8601(r));const s=this.safeValue(e,"baseVolume"),n=this.safeValue(e,"quoteVolume"),a=this.safeValue(e,"vwap");void 0===a&&(e["vwap"]=this.vwap(s,n));const o=this.safeValue(e,"close"),c=this.safeValue(e,"last");return void 0===o&&void 0!==c?e["close"]=c:void 0===c&&void 0!==o&&(e["last"]=o),e}parseTickers(e,t,i={}){const r=[],s=Object.values(e||[]);for(let n=0;n<s.length;n++)r.push(this.extend(this.parseTicker(s[n]),i));return this.filterByArray(r,"symbol",t)}parseDepositAddresses(e,t){let i=[];for(let r=0;r<e.length;r++){const t=this.parseDepositAddress(e[r]);i.push(t)}return t&&(i=this.filterByArray(i,"currency",t)),this.indexBy(i,"currency")}parseTrades(e,t,i,r,s={}){let n=Object.values(e||[]).map(e=>this.extend(this.parseTrade(e,t),s));n=f(n,"timestamp");const a=void 0!==t?t["symbol"]:void 0,o=void 0===i;return this.filterBySymbolSinceLimit(n,a,i,r,o)}parseTransactions(e,t,i,r,s={}){let n=Object.values(e||[]).map(e=>this.extend(this.parseTransaction(e,t),s));n=this.sortBy(n,"timestamp");const a=void 0!==t?t["code"]:void 0,o=void 0===i;return this.filterByCurrencySinceLimit(n,a,i,r,o)}parseTransfers(e,t,i,r,s={}){let n=Object.values(e||[]).map(e=>this.extend(this.parseTransfer(e,t),s));n=this.sortBy(n,"timestamp");const a=void 0!==t?t["code"]:void 0,o=void 0===i;return this.filterByCurrencySinceLimit(n,a,i,r,o)}parseLedger(e,t,i,r,s={}){let n=[];const a=Object.values(e||[]);for(let d=0;d<a.length;d++){const e=this.parseLedgerEntry(a[d],t);if(Array.isArray(e))for(let t=0;t<e.length;t++)n.push(this.extend(e[t],s));else n.push(this.extend(e,s))}n=this.sortBy(n,"timestamp");const o=void 0!==t?t["code"]:void 0,c=void 0===i;return this.filterByCurrencySinceLimit(n,o,i,r,c)}parseOrders(e,t,i,r,s={}){let n=Array.isArray(e)?Object.values(e).map(e=>this.extend(this.parseOrder(e,t),s)):Object.entries(e).map(([e,i])=>this.extend(this.parseOrder(this.extend({id:e},i),t),s));n=f(n,"timestamp");const a=void 0!==t?t["symbol"]:void 0,o=void 0===i;return this.filterBySymbolSinceLimit(n,a,i,r,o)}safeCurrency(e,t){return void 0===e&&void 0!==t?t:void 0!==this.currencies_by_id&&e in this.currencies_by_id?this.currencies_by_id[e]:{id:e,code:void 0===e?e:this.commonCurrencyCode(e.toUpperCase())}}safeCurrencyCode(e,t){return t=this.safeCurrency(e,t),t["code"]}safeMarket(e,t,i){if(void 0!==e)if(void 0!==this.markets_by_id&&e in this.markets_by_id)t=this.markets_by_id[e];else if(void 0!==i){const[t,r]=e.split(i),s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(r),a=s+"/"+n;return{id:e,symbol:a,base:s,quote:n,baseId:t,quoteId:r}}return void 0!==t?t:{id:e,symbol:e,base:void 0,quote:void 0,baseId:void 0,quoteId:void 0}}safeSymbol(e,t,i){return t=this.safeMarket(e,t,i),t["symbol"]}filterBySymbol(e,t){return void 0!==t?e.filter(e=>e.symbol===t):e}parseOHLCV(e,t){return Array.isArray(e)?e.slice(0,6):e}parseOHLCVs(e,t,i="1m",r,s){const n=e.map(e=>this.parseOHLCV(e,t)),a=this.sortBy(n,0),o=void 0===r;return this.filterBySinceLimit(a,r,s,0,o)}editLimitBuyOrder(e,t,...i){return this.editLimitOrder(e,t,"buy",...i)}editLimitSellOrder(e,t,...i){return this.editLimitOrder(e,t,"sell",...i)}editLimitOrder(e,t,...i){return this.editOrder(e,t,"limit",...i)}async editOrder(e,t,...i){if(!this.enableRateLimit)throw new I(this.id+" editOrder() requires enableRateLimit = true");return await this.cancelOrder(e,t),this.createOrder(t,...i)}createLimitOrder(e,t,i,r,s={}){return this.createOrder(e,"limit",t,i,r,s)}createMarketOrder(e,t,i,r,s={}){return this.createOrder(e,"market",t,i,r,s)}createLimitBuyOrder(e,t,i,r={}){return this.createOrder(e,"limit","buy",t,i,r)}createLimitSellOrder(e,t,i,r={}){return this.createOrder(e,"limit","sell",t,i,r)}createMarketBuyOrder(e,t,i={}){return this.createOrder(e,"market","buy",t,void 0,i)}createMarketSellOrder(e,t,i={}){return this.createOrder(e,"market","sell",t,void 0,i)}costToPrecision(e,t){return T(t,D,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}priceToPrecision(e,t){return T(t,L,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}amountToPrecision(e,t){return T(t,D,this.markets[e].precision.amount,this.precisionMode,this.paddingMode)}feeToPrecision(e,t){return T(t,L,this.markets[e].precision.price,this.precisionMode,this.paddingMode)}currencyToPrecision(e,t){return T(t,L,this.currencies[e]["precision"],this.precisionMode,this.paddingMode)}calculateFee(e,t,i,r,s,n="taker",a={}){const o=this.markets[e],c=this.safeString(o,"feeSide","quote");let d="quote",h=void 0;"quote"===c?h=r*s:"base"===c?h=r:"get"===c?(h=r,"sell"===i?h*=s:d="base"):"give"===c&&(h=r,"buy"===i?h*=s:d="base");const u=o[n];return void 0!==h&&(h*=u),{type:n,currency:o[d],rate:u,cost:h}}checkRequiredDependencies(){}remove0xPrefix(e){return"0x"===e.slice(0,2)?e.slice(2):e}hashMessage(e){const t=this.base16ToBinary(this.remove0xPrefix(e)),i=this.stringToBinary("Ethereum Signed Message:\n"+t.sigBytes);return"0x"+this.hash(this.binaryConcat(i,t),"keccak","hex")}signHash(e,t){const i=this.ecdsa(e.slice(-64),t.slice(-64),"secp256k1",void 0);return{r:"0x"+i["r"],s:"0x"+i["s"],v:27+i["v"]}}signMessage(e,t){return this.signHash(this.hashMessage(e),t.slice(-64))}signMessageString(e,t){const i=this.signMessage(e,t);return i["r"]+this.remove0xPrefix(i["s"])+this.binaryToBase16(this.numberToBE(i["v"]))}oath(){if("undefined"!==typeof this.twofa)return this.totp(this.twofa);throw new I(this.id+" this.twofa has not been set")}reduceFeesByCurrency(e){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeValue(r,"currency");void 0!==s&&(s in t?t[s]["cost"]=this.sum(t[s]["cost"],r["cost"]):t[s]={cost:r["cost"],currency:s})}return Object.values(t)}safeOrder(e){let t=this.safeValue(e,"amount"),i=this.safeValue(e,"remaining"),r=this.safeValue(e,"filled"),s=this.safeValue(e,"cost"),n=this.safeValue(e,"average"),a=this.safeValue(e,"price"),o=this.safeInteger(e,"lastTradeTimestamp");const c=void 0===r,d=void 0===s,h=void 0===o,u=void 0===this.safeValue(e,"fee"),l=void 0===this.safeValue(e,"fees"),f=u||l,p=this.safeValue(e,"fees",[]);if(c||d||f){const t=this.safeValue(e,"trades");if(Array.isArray(t)){c&&(r=0),d&&(s=0);for(let e=0;e<t.length;e++){const i=t[e],n=this.safeValue(i,"amount");c&&void 0!==n&&(r=this.sum(r,n));const a=this.safeValue(i,"cost");d&&void 0!==a&&(s=this.sum(s,a));const u=this.safeValue(i,"timestamp");if(h&&void 0!==u&&(o=void 0===o?u:Math.max(o,u)),f){const e=this.safeValue(i,"fees");if(void 0!==e)for(let t=0;t<e.length;t++){const i=e[t];p.push(this.extend({},i))}else{const e=this.safeValue(i,"fee");void 0!==e&&p.push(this.extend({},e))}}}}}if(f){const t=this.reduceFees?this.reduceFeesByCurrency(p):p,i=t.length;u||0!==i||t.push(e["fee"]),l&&(e["fees"]=t),u&&1===i&&(e["fee"]=t[0])}void 0===t&&(void 0!==r&&void 0!==i?t=this.sum(r,i):"closed"===this.safeString(e,"status")&&(t=r)),void 0===r&&void 0!==t&&void 0!==i&&(r=Math.max(this.sum(t,-i),0)),void 0===i&&void 0!==t&&void 0!==r&&(i=Math.max(this.sum(t,-r),0)),void 0===n&&void 0!==r&&void 0!==s&&r>0&&(n=s/r);const m=void 0!==n||void 0!==a;d&&void 0!==r&&m&&(s=void 0===n?a*r:n*r);const g=this.safeValue(e,"type"),y=void 0===a||0===a;return y&&"market"===g&&(a=n),this.extend(e,{lastTradeTimestamp:o,price:a,amount:t,cost:s,average:n,filled:r,remaining:i})}parseNumber(e,t){if(void 0===e)return t;try{return this.number(e)}catch(i){return t}}safeNumber(e,t,i){const r=this.safeString(e,t);return this.parseNumber(r,i)}safeNumber2(e,t,i,r){const s=this.safeString2(e,t,i);return this.parseNumber(s,r)}parsePrecision(e){if(void 0!==e)return"1e"+q.stringNeg(e)}}},"90e3":function(e,t){var i=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+r).toString(36)}},9112:function(e,t,i){var r=i("83ab"),s=i("9bf2"),n=i("5c6c");e.exports=r?function(e,t,i){return s.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,r,s){var n,a,o=8*s-r-1,c=(1<<o)-1,d=c>>1,h=-7,u=i?s-1:0,l=i?-1:1,f=e[t+u];for(u+=l,n=f&(1<<-h)-1,f>>=-h,h+=o;h>0;n=256*n+e[t+u],u+=l,h-=8);for(a=n&(1<<-h)-1,n>>=-h,h+=r;h>0;a=256*a+e[t+u],u+=l,h-=8);if(0===n)n=1-d;else{if(n===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),n-=d}return(f?-1:1)*a*Math.pow(2,n-r)},t.write=function(e,t,i,r,s,n){var a,o,c,d=8*n-s-1,h=(1<<d)-1,u=h>>1,l=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:n-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+u>=1?l/c:l*Math.pow(2,1-u),t*c>=2&&(a++,c/=2),a+u>=h?(o=0,a=h):a+u>=1?(o=(t*c-1)*Math.pow(2,s),a+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,s),a=0));s>=8;e[i+f]=255&o,f+=p,o/=256,s-=8);for(a=a<<s|o,d+=s;d>0;e[i+f]=255&a,f+=p,a/=256,d-=8);e[i+f-p]|=128*m}},"91c7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("b640"),s=i("feef"),n=i("ff3f");function a(e,t,i){var a=!Array.isArray(t),o=Date.now(),c=[],d=i&&i.confirmations||0,h=i&&i.maxWaitTime||0,u=i&&i.requestInterval||250,l=function(t){return s.fetchStatus(e,t.map(r.prop("id"))).then((function(e){var i=r.indexBy(r.prop("id"),e.statuses),s=t.some((function(e){return i[e.id].status===n.TRANSACTION_STATUSES.NOT_FOUND}));if(s)throw new Error("One transaction is not in blockchain!");var a=t.filter((function(e){return!(i[e.id].confirmations>=d)||(c.push(e),!1)}));if(a.length)return h&&Date.now()-o>h?Promise.reject("Timeout error!"):r.wait(u).then((function(){return l(a)}))}))};return l(r.toArray(t)).then((function(){return a?r.head(c):c}))}t.default=a},"91dd":function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,n){t=t||"&",i=i||"=";var a={};if("string"!==typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var c=1e3;n&&"number"===typeof n.maxKeys&&(c=n.maxKeys);var d=e.length;c>0&&d>c&&(d=c);for(var h=0;h<d;++h){var u,l,f,p,m=e[h].replace(o,"%20"),g=m.indexOf(i);g>=0?(u=m.substr(0,g),l=m.substr(g+1)):(u=m,l=""),f=decodeURIComponent(u),p=decodeURIComponent(l),r(a,f)?s(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"91f4":function(e,t,i){},"925e":function(e,t,i){(function(t,r,s){var n=i("a9f1"),a=i("3fb5"),o=i("c90b"),c=i("e372"),d=i("d938"),h=o.IncomingMessage,u=o.readyStates;function l(e,t){return n.fetch&&t?"fetch":n.mozchunkedarraybuffer?"moz-chunked-arraybuffer":n.msstream?"ms-stream":n.arraybuffer&&e?"arraybuffer":n.vbArray&&e?"text:vbarray":"text"}var f=e.exports=function(e){var i,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var s=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!n.abortController)s=!1,i=!0;else if("prefer-streaming"===e.mode)i=!1;else if("allow-wrong-content-type"===e.mode)i=!n.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");i=!0}r._mode=l(i,s),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};function p(e){try{var t=e.status;return null!==t&&0!==t}catch(i){return!1}}a(f,c.Writable),f.prototype.setHeader=function(e,t){var i=this,r=e.toLowerCase();-1===m.indexOf(r)&&(i._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var i=e._opts,a=e._headers,o=null;"GET"!==i.method&&"HEAD"!==i.method&&(o=n.arraybuffer?d(t.concat(e._body)):n.blobConstructor?new r.Blob(e._body.map((function(e){return d(e)})),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(a).forEach((function(e){var t=a[e].name,i=a[e].value;Array.isArray(i)?i.forEach((function(e){c.push([t,e])})):c.push([t,i])})),"fetch"===e._mode){var h=null;if(n.abortController){var l=new AbortController;h=l.signal,e._fetchAbortController=l,"requestTimeout"in i&&0!==i.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),i.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:o||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:h}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(p){return void s.nextTick((function(){e.emit("error",p)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!i.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(f.timeout=i.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case u.LOADING:case u.DONE:e._onXHRProgress();break}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(o)}catch(p){return void s.nextTick((function(){e.emit("error",p)}))}}}},f.prototype._onXHRProgress=function(){var e=this;p(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,i){var r=this;r._body.push(e),i()},f.prototype.abort=f.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},f.prototype.end=function(e,t,i){var r=this;"function"===typeof e&&(i=e,e=void 0),c.Writable.prototype.end.call(r,e,t,i)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,i("b639").Buffer,i("c8ba"),i("4362"))},9263:function(e,t,i){"use strict";var r=i("ad6d"),s=i("9f7f"),n=i("5692"),a=i("7c73"),o=i("69f3").get,c=i("fce3"),d=i("107c"),h=RegExp.prototype.exec,u=n("native-string-replace",String.prototype.replace),l=h,f=function(){var e=/a/,t=/b*/g;return h.call(e,"a"),h.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),p=s.UNSUPPORTED_Y||s.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],g=f||m||p||c||d;g&&(l=function(e){var t,i,s,n,c,d,g,y=this,v=o(y),b=v.raw;if(b)return b.lastIndex=y.lastIndex,t=l.call(b,e),y.lastIndex=b.lastIndex,t;var w=v.groups,S=p&&y.sticky,k=r.call(y),_=y.source,O=0,T=e;if(S&&(k=k.replace("y",""),-1===k.indexOf("g")&&(k+="g"),T=String(e).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==e[y.lastIndex-1])&&(_="(?: "+_+")",T=" "+T,O++),i=new RegExp("^(?:"+_+")",k)),m&&(i=new RegExp("^"+_+"$(?!\\s)",k)),f&&(s=y.lastIndex),n=h.call(S?i:y,T),S?n?(n.input=n.input.slice(O),n[0]=n[0].slice(O),n.index=y.lastIndex,y.lastIndex+=n[0].length):y.lastIndex=0:f&&n&&(y.lastIndex=y.global?n.index+n[0].length:s),m&&n&&n.length>1&&u.call(n[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n&&w)for(n.groups=d=a(null),c=0;c<w.length;c++)g=w[c],d[g[0]]=n[g[1]];return n}),e.exports=l},"926c":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s}=i("74b0"),n=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"flowbtc",name:"flowBTC",countries:["BR"],version:"v1",rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443317-01c0d080-c5fe-11ea-95c2-9ebe1a8fafd9.jpg",api:"https://publicapi.flowbtc.com.br",www:"https://www.flowbtc.com.br",doc:"https://www.flowbtc.com.br/api.html"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.005}}})}async fetchMarkets(e={}){const t=await this.publicPostGetProductPairs(e),i=this.safeValue(t,"productPairs"),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),n=this.safeString(e,"product1Label"),a=this.safeString(e,"product2Label"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d={amount:this.safeInteger(e,"product1DecimalPlaces"),price:this.safeInteger(e,"product2DecimalPlaces")},h=o+"/"+c;r[h]={id:t,symbol:h,base:o,quote:c,baseId:n,quoteId:a,precision:d,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e,active:void 0}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"currencies"),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=e["name"],n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"balance"),a["total"]=this.safeString(e,"hold"),r[n]=a}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={productPair:r["id"]},n=await this.publicPostGetOrderBook(this.extend(s,i));return this.parseOrderBook(n,e,void 0,"bids","asks","px","qty")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={productPair:i["id"]},s=await this.publicPostGetTicker(this.extend(r,t)),n=this.milliseconds(),a=this.safeNumber(s,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"volume24hr"),quoteVolume:this.safeNumber(s,"volume24hrProduct2"),info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"unixtime"),r=0===e["incomingOrderSide"]?"buy":"sell",s=this.safeString(e,"tid"),a=this.safeString(e,"px"),o=this.safeString(e,"qty"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(n.stringMul(a,o));return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t["symbol"],id:s,order:void 0,type:void 0,side:r,price:c,amount:d,cost:h,takerOrMaker:void 0,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={ins:s["id"],startIndex:-1},a=await this.publicPostGetTrades(this.extend(n,r));return this.parseTrades(a["trades"],s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a="market"===t?1:0,o={ins:this.marketId(e),side:i,orderType:a,qty:r,px:this.priceToPrecision(e,s)},c=await this.privatePostCreateOrder(this.extend(o,n));return{info:c,id:c["serverOrderId"]}}async cancelOrder(e,t,i={}){if(await this.loadMarkets(),"ins"in i){const t={serverOrderId:e};return await this.privatePostCancelOrder(this.extend(t,i))}throw new s(this.id+" cancelOrder() requires an `ins` symbol parameter for cancelling an order")}sign(e,t="public",i="GET",r={},s,n){const a=this.urls["api"]+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(n=this.json(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=e.toString()+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));n=this.json(this.extend({apiKey:this.apiKey,apiNonce:e,apiSig:i.toUpperCase()},r)),s={"Content-Type":"application/json"}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("isAccepted"in o&&o["isAccepted"])return o;throw new s(this.id+" "+this.json(o))}}},9483:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r,s=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function n(e,t){void 0===t&&(t={});var i=t.registrationOptions;void 0===i&&(i={}),delete t.registrationOptions;var n=function(e){var i=[],r=arguments.length-1;while(r-- >0)i[r]=arguments[r+1];t&&t[e]&&t[e].apply(t,i)};"serviceWorker"in navigator&&r.then((function(){s()?(c(e,n,i),navigator.serviceWorker.ready.then((function(e){n("ready",e)})).catch((function(e){return a(n,e)}))):(o(e,n,i),navigator.serviceWorker.ready.then((function(e){n("ready",e)})).catch((function(e){return a(n,e)})))}))}function a(e,t){navigator.onLine||e("offline"),e("error",t)}function o(e,t,i){navigator.serviceWorker.register(e,i).then((function(e){t("registered",e),e.waiting?t("updated",e):e.onupdatefound=function(){t("updatefound",e);var i=e.installing;i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?t("updated",e):t("cached",e))}}})).catch((function(e){return a(t,e)}))}function c(e,t,i){fetch(e).then((function(r){404===r.status?(t("error",new Error("Service worker not found at "+e)),d()):-1===r.headers.get("content-type").indexOf("javascript")?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+r.headers.get("content-type"))),d()):o(e,t,i)})).catch((function(e){return a(t,e)}))}function d(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){return a(emit,e)}))}"undefined"!==typeof window&&(r="undefined"!==typeof Promise?new Promise((function(e){return window.addEventListener("load",e)})):{then:function(e){return window.addEventListener("load",e)}})},9490:function(e,t,i){(function(e){var r=i("925e"),s=i("c90b"),n=i("53a8"),a=i("8c05"),o=i("0b16"),c=t;c.request=function(t,i){t="string"===typeof t?o.parse(t):n(t);var s=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||s,c=t.hostname||t.host,d=t.port,h=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?a+"//"+c:"")+(d?":"+d:"")+h,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new r(t);return i&&u.on("response",i),u},c.get=function(e,t){var i=c.request(e,t);return i.end(),i},c.ClientRequest=r,c.IncomingMessage=s.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=a,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,i("c8ba"))},"94ca":function(e,t,i){var r=i("d039"),s=/#|\.prototype\./,n=function(e,t){var i=o[a(e)];return i==d||i!=c&&("function"==typeof t?r(t):!!t)},a=n.normalize=function(e){return String(e).replace(s,".").toLowerCase()},o=n.data={},c=n.NATIVE="N",d=n.POLYFILL="P";e.exports=n},"95ed":function(e,t,i){},"966d":function(e,t,i){"use strict";(function(t){function i(e,i,r,s){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var n,a,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,i)}));case 3:return t.nextTick((function(){e.call(null,i,r)}));case 4:return t.nextTick((function(){e.call(null,i,r,s)}));default:n=new Array(o-1),a=0;while(a<n.length)n[a++]=arguments[a];return t.nextTick((function(){e.apply(null,n)}))}}"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:i}:e.exports=t}).call(this,i("4362"))},"96cf":function(e,t,i){var r=function(e){"use strict";var t,i=Object.prototype,r=i.hasOwnProperty,s="function"===typeof Symbol?Symbol:{},n=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(M){c=function(e,t,i){return e[t]=i}}function d(e,t,i,r){var s=t&&t.prototype instanceof g?t:g,n=Object.create(s.prototype),a=new E(r||[]);return n._invoke=T(e,i,a),n}function h(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(M){return{type:"throw",arg:M}}}e.wrap=d;var u="suspendedStart",l="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var b={};b[n]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(A([])));S&&S!==i&&r.call(S,n)&&(b=S);var k=v.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function i(s,n,a,o){var c=h(e[s],e,n);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"===typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,a,o)}),(function(e){i("throw",e,a,o)})):t.resolve(u).then((function(e){d.value=e,a(d)}),(function(e){return i("throw",e,a,o)}))}o(c.arg)}var s;function n(e,r){function n(){return new t((function(t,s){i(e,r,t,s)}))}return s=s?s.then(n,n):n()}this._invoke=n}function T(e,t,i){var r=u;return function(s,n){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===s)throw n;return N()}i.method=s,i.arg=n;while(1){var a=i.delegate;if(a){var o=C(a,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(e,t,i);if("normal"===c.type){if(r=i.done?p:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=p,i.method="throw",i.arg=c.arg)}}}function C(e,i){var r=e.iterator[i.method];if(r===t){if(i.delegate=null,"throw"===i.method){if(e.iterator["return"]&&(i.method="return",i.arg=t,C(e,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var s=h(r,e.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var n=s.arg;return n?n.done?(i[e.resultName]=n.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):n:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var i=e[n];if(i)return i.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var s=-1,a=function i(){while(++s<e.length)if(r.call(e,s))return i.value=e[s],i.done=!1,i;return i.value=t,i.done=!0,i};return a.next=a}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=k.constructor=v,v.constructor=y,y.displayName=c(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,o,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},_(O.prototype),O.prototype[a]=function(){return this},e.AsyncIterator=O,e.async=function(t,i,r,s,n){void 0===n&&(n=Promise);var a=new O(d(t,i,r,s),n);return e.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(k),c(k,o,"Generator"),k[n]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},e.values=A,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function s(r,s){return o.type="throw",o.arg=e,i.next=r,s&&(i.method="next",i.arg=t),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),d=r.call(a,"finallyLoc");if(c&&d){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),x(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var s=r.arg;x(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:A(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(s){Function("r","regeneratorRuntime = r")(r)}},9782:function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,ExchangeError:n,BadSymbol:a,InvalidOrder:o,PermissionDenied:c,InvalidAddress:d,AuthenticationError:h,InvalidNonce:u,BadRequest:l,InsufficientFunds:f,OrderNotFound:p}=i("74b0"),{TRUNCATE:m}=i("5ea4"),g=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"aofex",name:"AOFEX",countries:["GB"],rateLimit:1e3,hostname:"openapi.aofex.com",has:{fetchMarkets:!0,fetchCurrencies:!1,fetchOrderBook:!0,fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchOHLCV:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchClosedOrder:!0,fetchOrderTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","6h":"6hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77670271-056d1080-6f97-11ea-9ac2-4268e9ed0c1f.jpg",api:{public:"https://{hostname}/openApi",private:"https://{hostname}/openApi"},www:"https://aofex.com",doc:"https://aofex.zendesk.com/hc/en-us/sections/360005576574-API",fees:"https://aofex.zendesk.com/hc/en-us/articles/360025814934-Fees-on-AOFEX",referral:"https://aofex.com/#/register?key=9763840"},api:{public:{get:["market/symbols","market/trade","market/depth","market/kline","market/precision","market/24kline","market/gears_depth","market/detail"]},private:{get:["entrust/currentList","entrust/historyList","entrust/rate","wallet/list","entrust/detail"],post:["entrust/add","entrust/cancel"]}},fees:{trading:{maker:.0019,taker:.002}},exceptions:{exact:{20001:n,20401:c,20500:n,20501:a,20502:n,20503:n,20504:f,20505:l,20506:h,20507:n,20508:d,20509:f,20510:o,20511:o,20512:o,20513:o,20514:o,20515:o,20516:o,20517:o,50518:o,20519:u,20520:u,20521:l,20522:n,20523:h,20524:c,20525:h,20526:c,20527:c,20528:c,20529:h,20530:c},broad:{}},options:{fetchBalance:{show_all:"0"}},commonCurrencies:{CPC:"Consensus Planet Coin"}})}async fetchMarkets(e={}){let t=await this.publicGetMarketSymbols(e),i=await this.publicGetMarketPrecision();i=this.safeValue(i,"result",{}),t=this.safeValue(t,"result",[]);const r=[];for(let s=0;s<t.length;s++){const e=t[s],n=this.safeString(e,"symbol"),a=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeInteger(e,"id"),l=this.safeValue(i,n,{}),f=this.safeString(e,"maker_fee"),p=this.safeString(e,"taker_fee"),m=this.parseNumber(g.stringDiv(f,"1000")),y=this.parseNumber(g.stringDiv(p,"1000"));r.push({id:n,numericId:u,symbol:h,baseId:a,quoteId:o,base:c,quote:d,active:void 0,maker:m,taker:y,precision:{amount:this.safeInteger(l,"amount"),price:this.safeInteger(l,"price")},limits:{amount:{min:this.safeNumber(e,"min_size"),max:this.safeNumber(e,"max_size")},price:{min:this.safeNumber(e,"min_price"),max:this.safeNumber(e,"max_price")},cost:{min:void 0,max:void 0}},info:e})}return r}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e);void 0===r&&(r=150);const a={symbol:n["id"],period:this.timeframes[t],size:r},o=await this.publicGetMarketKline(this.extend(a,s)),c=this.safeValue(o,"result",{}),d=this.safeValue(c,"data",[]);return this.parseOHLCVs(d,n,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeValue(t,"show_all","0"),r={show_all:i},s=await this.privateGetWalletList(this.extend(r,e)),n={info:s,timestamp:void 0,datetime:void 0},a=this.safeValue(s,"result",[]);for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r["free"]=this.safeString(e,"available"),r["used"]=this.safeString(e,"frozen"),n[i]=r}return this.parseBalance(n,!1)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.privateGetEntrustRate(this.extend(r,t)),n=this.safeValue(s,"result",{});return{info:s,symbol:e,maker:this.safeNumber(n,"fromFee"),taker:this.safeNumber(n,"toFee")}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetMarketDepth(this.extend(r,i)),n=this.safeValue(s,"result",{}),a=this.safeInteger(n,"ts");return this.parseOrderBook(n,e,a)}parseTicker(e,t){const i=this.safeTimestamp(e,"id");let r=void 0;t&&(r=t["symbol"]);const s=this.safeNumber(e,"open"),n=this.safeNumber(e,"close");let a=void 0;a=void 0!==r?parseFloat(this.priceToPrecision(r,n-s)):n-s;const o=this.sum(n,s)/2,c=a/s*100,d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"vol");let u=this.vwap(d,h);return void 0!==u&&(u=parseFloat(this.priceToPrecision(r,u))),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:u,open:s,close:n,last:n,previousClose:void 0,change:a,percentage:c,average:o,baseVolume:d,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbol"]=t.join(",")}const r=await this.publicGetMarket24kline(this.extend(i,t)),s=this.safeValue(r,"result",[]),n={};for(let a=0;a<s.length;a++){const e=this.safeString(s[a],"symbol"),t=this.safeMarket(e,void 0,"-"),i=t["symbol"],r=this.safeValue(s[a],"data",{});n[i]=this.parseTicker(r,t)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetMarketDetail(this.extend(r,t)),n=this.safeValue(s,"result",{});return this.parseTicker(n,i)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"ctime")),s=this.safeTimestamp(e,"ts",r)-288e5;let n=void 0;void 0===n&&void 0!==t&&(n=t["symbol"]);const a=this.safeString(e,"direction"),o=this.safeString(e,"price"),c=this.safeString2(e,"amount","number"),d=this.parseNumber(o),h=this.parseNumber(c);let u=this.safeNumber(e,"total_price");void 0===u&&(u=this.parseNumber(g.stringMul(o,c)));const l=this.safeNumber(e,"fee");let f=void 0;if(void 0!==l){let e=void 0;void 0!==t&&("buy"===a?e=t["base"]:"sell"===a&&(e=t["quote"])),f={cost:l,currency:e}}return{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:n,order:void 0,type:void 0,side:a,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.publicGetMarketTrade(this.extend(n,r)),o=this.safeValue(a,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){const t={1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_sn"),r=this.safeString(e,"status"),s=this.parseOrderStatus(r),n=this.safeString(e,"symbol");t=this.safeMarket(n,t,"-");let a=this.parse8601(this.safeString(e,"ctime"));void 0!==a&&(a-=288e5);const o=this.safeString(e,"type"),c="2"===o?"limit":"market",d=this.safeString(e,"side");let h=void 0,u=void 0,l=void 0,f=void 0;const p=this.safeNumber(e,"number"),m=this.safeNumber(e,"total_price");"limit"===c?(l=p,u=this.safeNumber(e,"price")):(f=this.safeNumber(e,"deal_price"),l="buy"===d?this.safeNumber(e,"deal_number"):p);const g=this.safeValue(e,"trades",[]);for(let b=0;b<g.length;b++)g[b]["direction"]=d;const y=this.parseTrades(g,t,void 0,void 0,{symbol:t["symbol"],order:i,type:c});"limit"===c?h=m:"buy"===d&&(h=p);let v=void 0;return"limit"===c&&"3"===r&&(v=l),this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:s,symbol:t["symbol"],type:c,timeInForce:void 0,postOnly:void 0,side:d,price:u,stopPrice:void 0,cost:h,average:f,amount:l,filled:v,remaining:void 0,trades:y,fee:void 0})}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const r={order_sn:e},s=await this.privateGetEntrustDetail(this.extend(r,i)),n=this.safeValue(s,"result",{}),a=this.safeValue(n,"trades",[]),o=this.safeValue(n,"entrust",{});return o["trades"]=a,this.parseOrder(o)}async fetchOrderTrades(e,t,i,r,s={}){const n=await this.fetchClosedOrder(e,t,s);return this.safeValue(n,"trades",[])}async fetchOrdersWithMethod(e,t,i,r,s={}){await this.loadMarkets();const n={direct:"prev"};let a=void 0;void 0!==t&&(a=this.market(t),n["symbol"]=a["id"]),void 0!==r&&(n["limit"]=r);const o=await this[e](this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetEntrustCurrentList",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetEntrustHistoryList",e,t,i,r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),c=i+"-"+t,d={symbol:a["id"],type:c};if("limit"===t)d["amount"]=this.amountToPrecision(e,r),d["price"]=this.priceToPrecision(e,s);else if("market"===t)if("buy"===i){const e=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);let t=r;if(e){if(void 0===s)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument");t=r*s}const i=a["precision"]["price"];d["amount"]=this.decimalToPrecision(t,m,i,this.precisionMode)}else d["amount"]=this.amountToPrecision(e,r);const h=await this.privatePostEntrustAdd(this.extend(d,n)),u=this.safeValue(h,"result",{}),l=this.parseOrder(u,a),f=this.milliseconds();return this.extend(l,{timestamp:f,datetime:this.iso8601(f),amount:r,price:s,type:t,side:i})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_ids:e},s=await this.privatePostEntrustCancel(this.extend(r,i)),n=this.safeValue(s,"result",{}),a=this.safeValue(n,"success",[]);if(!this.inArray(e,a))throw new p(this.id+" order id "+e+" not found in successfully canceled orders: "+this.json(s));const o=void 0;return{info:s,id:e,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,status:"canceled",symbol:t,type:void 0,side:void 0,price:void 0,cost:void 0,average:void 0,amount:void 0,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,clientOrderId:void 0}}async cancelAllOrders(e,t={}){if(void 0===e)throw new s(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},n=await this.privatePostEntrustCancel(this.extend(r,t));return n}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.implodeHostname(this.urls["api"][t])+"/"+e,o=Object.keys(r);const c=o.length;if("public"===t)c>0&&(a+="?"+this.urlencode(r));else{const e=this.nonce().toString(),t=this.uuid(),d=t.slice(0,5),h=e+"_"+d,u={};u[this.apiKey]=this.apiKey,u[this.secret]=this.secret,u[h]=h;for(let i=0;i<c;i++){const e=o[i];u[e]=e+"="+r[e]}const l=this.keysort(u);let f="";o=Object.keys(l);for(let i=0;i<o.length;i++){const e=o[i];f+=l[e]}const p=this.hash(this.encode(f),"sha1");s={Nonce:h,Token:this.apiKey,Signature:p},"POST"===i?(s["Content-Type"]="application/x-www-form-urlencoded",c>0&&(n=this.urlencode(r))):c>0&&(a+="?"+this.urlencode(r))}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"errno");if(void 0!==h&&"0"!==h){const e=this.safeString(o,"errmsg"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new n(t)}}}},"97ba":function(e,t,i){var r=i("02ff"),s=Object.prototype.toString,n=function(){return"[object Arguments]"===s.call(arguments)?function(e){return"[object Arguments]"===s.call(e)}:function(e){return r("callee",e)}}();e.exports=n},"97bab":function(e,t,i){var r=i("70ea"),s=i("84eb"),n=i("1772"),a=r((function(e){return!!s(e)||!!e&&("object"===typeof e&&(!n(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}));e.exports=a},"98b3":function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,NotSupported:a,PermissionDenied:o,InvalidNonce:c,OrderNotFound:d,InsufficientFunds:h,InvalidAddress:u,InvalidOrder:l,ArgumentsRequired:f,OnMaintenance:p,ExchangeNotAvailable:m}=i("74b0");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitstamp",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v2",userAgent:this.userAgents["chrome"],pro:!0,has:{CORS:!0,cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchFees:!0,fetchLedger:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:{public:"https://www.bitstamp.net/api",private:"https://www.bitstamp.net/api",v1:"https://www.bitstamp.net/api"},www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"259200"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ohlc/{pair}/","order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","cancel_all_orders/","cancel_all_orders/{pair}/","buy/{pair}/","buy/market/{pair}/","buy/instant/{pair}/","sell/{pair}/","sell/market/{pair}/","sell/instant/{pair}/","btc_withdrawal/","btc_address/","ripple_withdrawal/","ripple_address/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","xlm_withdrawal/","xlm_address/","pax_withdrawal/","pax_address/","link_withdrawal/","link_address/","usdc_withdrawal/","usdc_address/","omg_withdrawal/","omg_address/","dai_withdrawal/","dai_address/","knc_withdrawal/","knc_address/","mkr_withdrawal/","mkr_address/","zrx_withdrawal/","zrx_address/","gusd_withdrawal/","gusd_address/","aave_withdrawal/","aave_address/","bat_withdrawal/","bat_address/","uma_withdrawal/","uma_address/","snx_withdrawal/","snx_address/","uni_withdrawal/","uni_address/","yfi_withdrawal/","yfi_address","audio_withdrawal/","audio_address/","crv_withdrawal/","crv_address/","algo_withdrawal/","algo_address/","comp_withdrawal/","comp_address/","grt_withdrawal","grt_address/","usdt_withdrawal/","usdt_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["unconfirmed_btc/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.005,maker:.005,tiers:{taker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[5e7,.001],[1e8,.07/100],[5e8,5e-4],[2e9,3e-4],[6e9,1e-4],[1e10,5e-5],[10000000001,0]],maker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[5e7,.001],[1e8,.07/100],[5e8,5e-4],[2e9,3e-4],[6e9,1e-4],[1e10,5e-5],[10000000001,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:1e-4,LTC:.001,ETH:.001,XRP:.02,XLM:.005,PAX:.5,USD:25,EUR:3},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,XLM:0,PAX:0,USD:7.5,EUR:0}}},exceptions:{exact:{"No permission found":o,"API key not found":s,"IP address not allowed":o,"Invalid nonce":c,"Invalid signature":s,"Authentication failed":s,"Missing key, signature and nonce parameters":s,"Your account is frozen":o,"Please update your profile with your FATCA information, before using API.":o,"Order not found":d,"Price is more than 20% below market price.":l,"Bitstamp.net is under scheduled maintenance.":p,"Order could not be placed.":m},broad:{"Minimum order size is":l,"Check your account balance for details.":h,"Ensure this value has at least":u}}})}async fetchMarkets(e={}){const t=await this.fetchMarketsFromCache(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name");let[n,a]=s.split("/");const o=n.toLowerCase(),c=a.toLowerCase();n=this.safeCurrencyCode(n),a=this.safeCurrencyCode(a);const d=n+"/"+a,h=o+"_"+c,u=this.safeString(e,"url_symbol"),l=this.safeString(e,"base_decimals"),f=this.safeString(e,"counter_decimals"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:parseInt(l),price:parseInt(f)},y=this.safeString(e,"minimum_order"),v=y.split(" "),b=v[0],w=this.safeString(e,"trading"),S="Enabled"===w;i.push({id:u,symbol:d,base:n,quote:a,baseId:o,quoteId:c,symbolId:h,info:e,active:S,precision:g,limits:{amount:{min:this.parseNumber(p),max:void 0},price:{min:this.parseNumber(m),max:void 0},cost:{min:this.parseNumber(b),max:void 0}}})}return i}constructCurrencyObject(e,t,i,r,s,n){let a="crypto";const o=this.describe();return this.isFiat(t)&&(a="fiat"),{id:e,code:t,info:n,type:a,name:i,active:!0,fee:this.safeNumber(o["fees"]["funding"]["withdraw"],t),precision:r,limits:{amount:{min:Math.pow(10,-r),max:void 0},price:{min:Math.pow(10,-r),max:void 0},cost:{min:s,max:void 0},withdraw:{min:void 0,max:void 0}}}}async fetchMarketsFromCache(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetTradingPairsInfo(e);this.options["fetchMarkets"]=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options["fetchMarkets"],"response")}async fetchCurrencies(e={}){const t=await this.fetchMarketsFromCache(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name");let[n,a]=s.split("/");const o=n.toLowerCase(),c=a.toLowerCase();n=this.safeCurrencyCode(n),a=this.safeCurrencyCode(a);const d=this.safeString(e,"description"),[h,u]=d.split(" / "),l=this.safeString(e,"minimum_order"),f=l.split(" "),p=f[0];if(!(n in i)){const t=this.safeInteger(e,"base_decimals");i[n]=this.constructCurrencyObject(o,n,h,t,void 0,e)}if(!(a in i)){const t=this.safeInteger(e,"counter_decimals");i[a]=this.constructCurrencyObject(c,a,u,t,parseFloat(p),e)}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetOrderBookPair(this.extend(r,i)),n=this.safeInteger(s,"microtimestamp"),a=parseInt(n/1e3),o=this.parseOrderBook(s,e,a);return o["nonce"]=n,o}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetTickerPair(this.extend(i,t)),s=this.safeTimestamp(r,"timestamp"),n=this.safeNumber(r,"vwap"),a=this.safeNumber(r,"volume");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:n,open:this.safeNumber(r,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:o,info:r}}getCurrencyIdFromTransaction(e){const t=this.safeStringLower(e,"currency");if(void 0!==t)return t;e=this.omit(e,["fee","price","datetime","type","status","id"]);const i=Object.keys(e);for(let r=0;r<i.length;r++){const t=i[r];if(t.indexOf("_")<0){const i=this.safeNumber(e,t);if(void 0!==i&&0!==i)return t}}}getMarketFromTrade(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);const t=Object.keys(e),i=t.length;if(i>2)throw new n(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===i){let e=t[0]+t[1];if(e in this.markets_by_id)return this.markets_by_id[e];if(e=t[1]+t[0],e in this.markets_by_id)return this.markets_by_id[e]}}getMarketFromTrades(e){const t=this.indexBy(e,"symbol"),i=Object.keys(t),r=i.length;if(1===r)return this.markets[i[0]]}parseTrade(e,t){const i=this.safeString2(e,"id","tid");let r=void 0,s=void 0,n=this.safeNumber(e,"price"),a=this.safeNumber(e,"amount");const o=this.safeString(e,"order_id"),c=void 0;let d=this.safeNumber(e,"cost");if(void 0===t){const i=Object.keys(e);for(let e=0;e<i.length;e++)if(i[e].indexOf("_")>=0){const r=i[e].replace("_","");r in this.markets_by_id&&(t=this.markets_by_id[r])}void 0===t&&(t=this.getMarketFromTrade(e))}const h=this.safeNumber(e,"fee");let u=void 0;void 0!==t&&(n=this.safeNumber(e,t["symbolId"],n),a=this.safeNumber(e,t["baseId"],a),d=this.safeNumber(e,t["quoteId"],d),u=t["quote"],r=t["symbol"]);let l=this.safeString2(e,"date","datetime");void 0!==l&&(l.indexOf(" ")>=0?l=this.parse8601(l):(l=parseInt(l),l*=1e3)),"id"in e?void 0!==a&&(a<0?(s="sell",a=-a):s="buy"):(s=this.safeString(e,"type"),"1"===s?s="sell":"0"===s&&(s="buy")),void 0===d&&void 0!==n&&void 0!==a&&(d=n*a),void 0!==d&&(d=Math.abs(d));let f=void 0;return void 0!==h&&(f={cost:h,currency:u}),{id:i,info:e,timestamp:l,datetime:this.iso8601(l),symbol:r,order:o,type:c,side:s,takerOrMaker:void 0,price:n,amount:a,cost:d,fee:f}}parseTradingFee(e,t){const i=this.market(t),r=this.safeNumber(e,i["id"]+"_fee");return{symbol:t,maker:r,taker:r}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"],time:"hour"},a=await this.publicGetTransactionsPair(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={pair:n["id"],step:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0===r){if(void 0===i)throw new f(this.id+" fetchOHLCV() requires a since argument or a limit argument");{r=1e3;const e=parseInt(i/1e3);a["start"]=e,a["end"]=this.sum(e,r*o),a["limit"]=r}}else{if(void 0!==i){const e=parseInt(i/1e3);a["start"]=e,a["end"]=this.sum(e,r*o)}a["limit"]=Math.min(r,1e3)}const c=await this.publicGetOhlcPair(this.extend(a,s)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"ohlc",[]);return this.parseOHLCVs(h,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],n=this.currency(e),a=n["id"],o=this.account();o["free"]=this.safeString(t,a+"_available"),o["used"]=this.safeString(t,a+"_reserved"),o["total"]=this.safeString(t,a+"_balance"),i[e]=o}return this.parseBalance(i,!1)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i={};let r="privatePostBalance",s=void 0;void 0!==e&&(s=this.market(e),i["pair"]=s["id"],r+="Pair");const n=await this[r](this.extend(i,t));return{info:n,symbol:e,maker:n["fee"],taker:n["fee"]}}praseTradingFees(e){const t={info:e},i=Object.keys(this.markets);for(let r=0;r<i.length;r++){const s=i[r],n=this.parseTradingFee(e,s);t[s]=n}return t}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e);return this.praseTradingFees(t)}parseFundingFees(e){const t={},i=Object.keys(e);for(let r=0;r<i.length;r++){const s=i[r];if(s.indexOf("_withdrawal_fee")>=0){const i=s.split("_")[0],r=this.safeCurrencyCode(i);t[r]=this.safeNumber(e,s)}}return{info:e,withdraw:t,deposit:{}}}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e);return this.parseFundingFees(t)}async fetchFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i=this.praseTradingFees(t);delete i["info"];const r=this.parseFundingFees(t);return delete r["info"],{info:t,trading:i,funding:r}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e);let o="privatePost"+this.capitalize(i);const c={pair:a["id"],amount:this.amountToPrecision(e,r)};"market"===t?o+="Market":"instant"===t?o+="Instant":c["price"]=this.priceToPrecision(e,s),o+="Pair";const d=await this[o](this.extend(c,n)),h=this.parseOrder(d,a);return this.extend(h,{type:t})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();let i=void 0;const r={};let s="privatePostCancelAllOrders";return void 0!==e&&(i=this.market(e),r["pair"]=i["id"],s="privatePostCancelAllOrdersPair"),await this[s](this.extend(r,t))}parseOrderStatus(e){const t={"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"};return this.safeString(t,e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrderStatus(this.safeString(s,"status"))}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0;void 0!==t&&(r=this.market(t));const s={id:e},n=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrder(n,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n="privatePostUserTransactions",a=void 0;void 0!==e&&(a=this.market(e),s["pair"]=a["id"],n+="Pair"),void 0!==i&&(s["limit"]=i);const o=await this[n](this.extend(s,r)),c=this.filterBy(o,"type","2");return this.parseTrades(c,a,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["limit"]=i);const n=await this.privatePostUserTransactions(this.extend(s,r));let a=void 0;void 0!==e&&(a=this.currency(e));const o=this.filterByArray(n,"type",["0","1"],!1);return this.parseTransactions(o,a,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};s["timedelta"]=void 0!==t?this.milliseconds()-t:5e7;const n=await this.privatePostWithdrawalRequests(this.extend(s,r));return this.parseTransactions(n,void 0,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"datetime")),r=this.safeString(e,"id"),s=this.getCurrencyIdFromTransaction(e),n=this.safeCurrencyCode(s,t),a=this.safeNumber(e,"fee");let o=void 0,c=void 0;"amount"in e?c=this.safeNumber(e,"amount"):void 0!==t?(c=this.safeNumber(e,t["id"],c),o=t["code"]):void 0!==n&&void 0!==s&&(c=this.safeNumber(e,s,c),o=n),void 0!==c&&(c=Math.abs(c));let d="ok";"status"in e&&(d=this.parseTransactionStatus(this.safeString(e,"status")));let h=void 0;if("type"in e){const t=this.safeString(e,"type");"0"===t?h="deposit":"1"===t&&(h="withdrawal")}else h="withdrawal";const u=this.safeString(e,"transaction_id");let l=void 0,f=this.safeString(e,"address");if(void 0!==f){const e=f.split("?dt="),t=e.length;t>1&&(f=e[0],l=e[1])}const p=void 0,m=f,g=void 0,y=l;let v=void 0;return void 0!==a&&(v={currency:o,cost:a,rate:void 0}),{info:e,id:r,txid:u,timestamp:i,datetime:this.iso8601(i),addressFrom:p,addressTo:m,address:f,tagFrom:g,tagTo:y,tag:l,type:h,amount:c,currency:n,status:d,updated:void 0,fee:v}}parseTransactionStatus(e){const t={0:"pending",1:"pending",2:"ok",3:"canceled",4:"failed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=this.safeString(e,"type");void 0!==r&&(r="1"===r?"sell":"buy");const s=this.parse8601(this.safeString(e,"datetime")),n=this.safeStringLower(e,"currency_pair");let a=this.safeSymbol(n,t,"/");const o=this.parseOrderStatus(this.safeString(e,"status")),c=this.safeNumber(e,"amount"),d=this.safeValue(e,"transactions",[]),h=this.parseTrades(d,t),u=h.length;u&&(a=h[0]["symbol"]);const l=this.safeNumber(e,"price");return this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:o,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:void 0,cost:void 0,amount:c,filled:void 0,remaining:void 0,trades:h,fee:void 0,info:e,average:void 0})}parseLedgerEntryType(e){const t={0:"transaction",1:"transaction",2:"trade",14:"transfer"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.parseLedgerEntryType(this.safeString(e,"type"));if("trade"===i){const t=this.parseTrade(e);let r=void 0;const s=Object.keys(e);for(let e=0;e<s.length;e++)if(s[e].indexOf("_")>=0){const t=s[e].replace("_","");t in this.markets_by_id&&(r=this.markets_by_id[t])}void 0===r&&(r=this.getMarketFromTrade(e));const n="buy"===t["side"]?"in":"out";return{id:t["id"],info:e,timestamp:t["timestamp"],datetime:t["datetime"],direction:n,account:void 0,referenceId:t["order"],referenceAccount:void 0,type:i,currency:r["base"],amount:t["amount"],before:void 0,after:void 0,status:"ok",fee:t["fee"]}}{const t=this.parseTransaction(e);let r=void 0;if("amount"in e){const t=this.safeNumber(e,"amount");r=t>0?"in":"out"}else if("currency"in t&&void 0!==t["currency"]){const i=this.currencyId(t["currency"]),s=this.safeNumber(e,i);r=s>0?"in":"out"}return{id:t["id"],info:e,timestamp:t["timestamp"],datetime:t["datetime"],direction:r,account:void 0,referenceId:t["txid"],referenceAccount:void 0,type:i,currency:t["currency"],amount:t["amount"],before:void 0,after:void 0,status:t["status"],fee:t["fee"]}}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["limit"]=i);const n=await this.privatePostUserTransactions(this.extend(s,r));let a=void 0;return void 0!==e&&(a=this.currency(e)),this.parseLedger(n,a,t,i)}async fetchOpenOrders(e,t,i,r={}){let s=void 0;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const n=await this.privatePostOpenOrdersAll(r);return this.parseOrders(n,s,t,i,{status:"open",type:"limit"})}getCurrencyName(e){return e.toLowerCase()}isFiat(e){return"USD"===e||"EUR"===e||"GBP"===e}async fetchDepositAddress(e,t={}){if(this.isFiat(e))throw new a(this.id+" fiat fetchDepositAddress() for "+e+" is not supported!");const i=this.getCurrencyName(e),r="privatePost"+this.capitalize(i)+"Address",s=await this[r](t),n=this.safeString(s,"address"),o=this.safeString2(s,"memo_id","destination_tag");return this.checkAddress(n),{currency:e,address:n,tag:o,info:s}}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const n={amount:t};let a=void 0;if(this.isFiat(e)){a="privatePostWithdrawalOpen";const t=this.currency(e);n["iban"]=i,n["account_currency"]=t["id"]}else{const t=this.getCurrencyName(e);a="privatePost"+this.capitalize(t)+"Withdrawal","XRP"===e&&void 0!==r&&(n["destination_tag"]=r),n["address"]=i}const o=await this[a](this.extend(n,s));return{info:o,id:o["id"]}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/";"v1"!==t&&(a+=this.version+"/"),a+=this.implodeParams(e,r);let o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.safeValue(this.options,"auth","v2");if("v1"===e||"v1"===t){const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),n=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded"}}else{const e="BITSTAMP "+this.apiKey,t=this.uuid(),r=this.milliseconds().toString(),c="v2";let d="";s={"X-Auth":e,"X-Auth-Nonce":t,"X-Auth-Timestamp":r,"X-Auth-Version":c},"POST"===i&&(Object.keys(o).length?(n=this.urlencode(o),d="application/x-www-form-urlencoded",s["Content-Type"]=d):(n=this.urlencode({foo:"bar"}),d="application/x-www-form-urlencoded",s["Content-Type"]=d));const h=n||"",u=e+i+a.replace("https://","")+d+t+r+c+h,l=this.hmac(this.encode(u),this.encode(this.secret));s["X-Auth-Signature"]=l}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,a,o,c,d,h){if(void 0===c)return;const u=this.safeString(c,"status"),l=this.safeValue(c,"error");if("error"===u||void 0!==l){let e=[];if("string"===typeof l)e.push(l);else if(void 0!==l){const t=Object.keys(l);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeValue(l,r);Array.isArray(s)?e=this.arrayConcat(e,s):e.push(s)}}const t=this.safeValue(c,"reason",{});if("string"===typeof t)e.push(t);else{const i=this.safeValue(t,"__all__",[]);for(let t=0;t<i.length;t++)e.push(i[t])}const i=this.safeString(c,"code");if("API0005"===i)throw new s(this.id+" invalid signature, use the uid for the main account if you have subaccounts");const r=this.id+" "+o;for(let s=0;s<e.length;s++){const t=e[s];this.throwExactlyMatchedException(this.exceptions["exact"],t,r),this.throwBroadlyMatchedException(this.exceptions["broad"],t,r)}throw new n(r)}}}},"98d1":function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,DDoSProtection:n,AuthenticationError:a,InvalidOrder:o,ArgumentsRequired:c}=i("74b0"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lbank",name:"LBank",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://github.com/LBank-exchange/lbank-official-api-docs",fees:"https://lbankinfo.zendesk.com/hc/en-gb/articles/360012072873-Trading-Fees",referral:"https://www.lbex.io/invite?icode=7QCY"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline","accuracy"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history","withdraw","withdrawCancel","withdraws","withdrawConfigs"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}},commonCurrencies:{VET_ERC20:"VEN",PNT:"Penta"},options:{cacheSecretAsPem:!0}})}async fetchMarkets(e={}){const t=await this.publicGetAccuracy(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=e["symbol"],n=s.split("_");let a=void 0,o=void 0;const c=n.length;c>2?(a=n[0]+"_"+n[1],o=n[2]):(a=n[0],o=n[1]);const d=this.safeCurrencyCode(a),h=this.safeCurrencyCode(o),u=d+"/"+h,l={amount:this.safeInteger(e,"quantityAccuracy"),price:this.safeInteger(e,"priceAccuracy")};i.push({id:s,symbol:u,base:d,quote:h,baseId:a,quoteId:o,active:!0,precision:l,limits:{amount:{min:Math.pow(10,-l["amount"]),max:void 0},price:{min:Math.pow(10,-l["price"]),max:Math.pow(10,l["price"])},cost:{min:void 0,max:void 0}},info:s})}return i}parseTicker(e,t){let i=void 0;if(void 0===t){const t=this.safeString(e,"symbol");if(t in this.markets_by_id){const e=this.markets_by_id[t];i=e["symbol"]}else{const e=t.split("_");let r=void 0,s=void 0;const n=e.length;n>2?(r=e[0]+"_"+e[1],s=e[2]):(r=e[0],s=e[1]);const a=this.safeCurrencyCode(r),o=this.safeCurrencyCode(s);i=a+"/"+o}}const r=this.safeInteger(e,"timestamp"),s=e;e=s["ticker"];const n=this.safeNumber(e,"latest"),a=this.safeNumber(e,"change");let o=void 0;if(void 0!==a){const e=this.sum(1,a/100);e>0&&(o=n/this.sum(1,e))}let c=void 0,d=void 0;return void 0!==n&&void 0!==o&&(c=n-o,d=this.sum(n,o)/2),void 0!==t&&(i=t["symbol"]),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:c,percentage:a,average:d,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"turnover"),info:s}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={symbol:"all"},r=await this.publicGetTicker(this.extend(i,t)),s={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t=60,i={}){await this.loadMarkets();let r=60;void 0!==t&&(r=Math.min(t,r));const s={symbol:this.marketId(e),size:r},n=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(n,e)}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const r=this.safeInteger(e,"date_ms"),s=this.safeString(e,"price"),n=this.safeString(e,"amount"),a=this.parseNumber(s),o=this.parseNumber(n),c=this.parseNumber(d.stringMul(s,n)),h=this.safeString(e,"tid"),u=void 0;let l=this.safeString(e,"type");return l=l.replace("_market",""),{id:h,info:this.safeValue(e,"info",e),timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:u,side:l,takerOrMaker:void 0,price:a,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"],size:100};void 0!==t&&(n["time"]=parseInt(t)),void 0!==i&&(n["size"]=i);const a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="5m",i,r=1e3,s={}){await this.loadMarkets();const n=this.market(e);if(void 0===i)throw new c(this.id+" fetchOHLCV() requires a `since` argument");if(void 0===r)throw new c(this.id+" fetchOHLCV() requires a `limit` argument");const a={symbol:n["id"],type:this.timeframes[t],size:r,time:parseInt(i/1e3)},o=await this.publicGetKline(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"info",{}),s=this.safeValue(r,"free",{}),n=this.safeValue(r,"freeze",{}),a=this.safeValue(r,"asset",{}),o=Object.keys(s);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),r=this.account();r["free"]=this.safeString(s,e),r["used"]=this.safeString(n,e),r["total"]=this.safeString(a,e),i[t]=r}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"};return this.safeString(t,e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"_"),s=this.safeInteger(e,"create_time"),n=this.safeNumber(e,"price"),a=this.safeNumber(e,"amount",0),o=this.safeNumber(e,"deal_amount",0),c=this.safeNumber(e,"avg_price"),d=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeString(e,"order_id"),u=this.safeString(e,"order_type"),l=this.safeString(e,"type");return this.safeOrder({id:h,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:d,symbol:r,type:u,timeInForce:void 0,postOnly:void 0,side:l,price:n,stopPrice:void 0,cost:void 0,amount:a,filled:o,remaining:void 0,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e),average:c})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e);let o={symbol:a["id"],type:i,amount:r};"market"===t?o["type"]+="_market":o["price"]=s;const c=await this.privatePostCreateOrder(this.extend(o,n));return o=this.omit(o,"type"),o["order_id"]=c["order_id"],o["type"]=i,o["order_type"]=t,o["create_time"]=this.milliseconds(),o["info"]=c,this.parseOrder(o,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:r["id"],order_id:e},n=await this.privatePostCancelOrder(this.extend(s,i));return n}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:r["id"],order_id:e},n=await this.privatePostOrdersInfo(this.extend(s,i)),a=this.safeValue(n,"orders",[]),o=this.parseOrders(a,r),c=o.length;return 1===c?o[0]:o}async fetchOrders(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s=this.market(e),n={symbol:s["id"],current_page:1,page_length:i},a=await this.privatePostOrdersInfoHistory(this.extend(n,r)),o=this.safeValue(a,"orders",[]);return this.parseOrders(o,void 0,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r),n=this.filterBy(s,"status","closed"),a=this.filterBy(s,"status","cancelled"),o=this.arrayConcat(n,a);return this.filterBySymbolSinceLimit(o,e,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={assetCode:n["id"],amount:t,account:i};void 0!==r&&(a["memo"]=r);const o=this.privatePostWithdraw(this.extend(a,s));return{id:this.safeString(o,"id"),info:o}}convertSecretToPem(e){const t=64,i=e.length-0;let r=parseInt(i/t);r=this.sum(r,1);let s="-----BEGIN PRIVATE KEY-----\n";for(let n=0;n<r;n++){const e=n*t,i=this.sum(e,t);s+=this.secret.slice(e,i)+"\n"}return s+"-----END PRIVATE KEY-----"}sign(e,t="public",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e));let o=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,r);if(o+=".do","public"===t)Object.keys(a).length&&(o+="?"+this.urlencode(a));else{this.checkRequiredCredentials();const e=this.keysort(this.extend({api_key:this.apiKey},r)),t=this.rawencode(e),i=this.hash(this.encode(t)).toUpperCase(),a=this.safeValue(this.options,"cacheSecretAsPem",!0);let o=void 0;a?(o=this.safeValue(this.options,"pem"),void 0===o&&(o=this.convertSecretToPem(this.secret),this.options["pem"]=o)):o=this.convertSecretToPem(this.secret);const c=this.binaryToBase64(this.rsa(i,this.encode(o),"RS256"));e["sign"]=c,n=this.urlencode(e),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},c,d){const h=await this.fetch2(e,t,i,r,c,d),u=this.safeString(h,"result");if("false"===u){const e=this.safeString(h,"error_code"),t=this.safeString({1e4:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001",10022:"Insufficient key authority"},e,this.json(h)),i=this.safeValue({10002:a,10004:n,10005:a,10006:a,10007:a,10009:o,10010:o,10011:o,10012:o,10013:o,10014:o,10015:o,10016:o,10022:a},e,s);throw new i(t)}return h}}},9911:function(e,t,i){"use strict";var r=i("23e7"),s=i("857a"),n=i("af03");r({target:"String",proto:!0,forced:n("link")},{link:function(e){return s(this,"a","href",e)}})},"99af":function(e,t,i){"use strict";var r=i("23e7"),s=i("d039"),n=i("e8b5"),a=i("861d"),o=i("7b0b"),c=i("50c4"),d=i("8418"),h=i("65f0"),u=i("1dde"),l=i("b622"),f=i("2d00"),p=l("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=f>=51||!s((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=u("concat"),b=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},w=!y||!v;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,i,r,s,n,a=o(this),u=h(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?a:arguments[t],b(n)){if(s=c(n.length),l+s>m)throw TypeError(g);for(i=0;i<s;i++,l++)i in n&&d(u,l,n[i])}else{if(l>=m)throw TypeError(g);d(u,l++,n)}return u.length=l,u}})},"99d9":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return c}));var r=i("b0af"),s=i("80d2"),n=Object(s["i"])("v-card__actions"),a=Object(s["i"])("v-card__subtitle"),o=Object(s["i"])("v-card__text"),c=Object(s["i"])("v-card__title");r["a"]},"9ab4":function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return d}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},r(e,t)};function s(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var n=function(){return n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function a(e,t,i,r){var s,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(n<3?s(a):n>3?s(t,i,a):s(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a}function o(e,t,i,r){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}function d(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<i;t++)for(var n=arguments[t],a=0,o=n.length;a<o;a++,s++)r[s]=n[a];return r}},"9b5c":function(e,t,i){var r=i("5259");i("6497"),i("4a92"),i("3609"),function(){if(r.prime)e.exports=r.prime;else{var t=e.exports=r.prime=r.prime||{},i=r.jsbn.BigInteger,s=[6,4,2,4,2,4,6,2],n=new i(null);n.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"===typeof t&&(i=t,t={}),t=t||{};var s=t.algorithm||"PRIMEINC";"string"===typeof s&&(s={name:s}),s.options=s.options||{};var n=t.prng||r.random,a={nextBytes:function(e){for(var t=n.getBytesSync(e.length),i=0;i<e.length;++i)e[i]=t.charCodeAt(i)}};if("PRIMEINC"===s.name)return o(e,a,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function o(e,t,i,r){return"workers"in i?h(e,t,i,r):c(e,t,i,r)}function c(e,t,i,r){var s=u(e,t),n=0,a=l(s.bitLength());"millerRabinTests"in i&&(a=i.millerRabinTests);var o=10;"maxBlockTime"in i&&(o=i.maxBlockTime),d(s,e,t,n,a,o,r)}function d(e,t,i,n,a,o,c){var h=+new Date;do{if(e.bitLength()>t&&(e=u(t,i)),e.isProbablePrime(a))return c(null,e);e.dAddOffset(s[n++%8],0)}while(o<0||+new Date-h<o);r.util.setImmediate((function(){d(e,t,i,n,a,o,c)}))}function h(e,t,s,n){if("undefined"===typeof Worker)return c(e,t,s,n);var a=u(e,t),o=s.workers,d=s.workLoad||100,h=30*d/8,l=s.workerScript||"forge/prime.worker.js";if(-1===o)return r.util.estimateCores((function(e,t){e&&(t=2),o=t-1,f()}));function f(){o=Math.max(1,o);for(var r=[],s=0;s<o;++s)r[s]=new Worker(l);for(s=0;s<o;++s)r[s].addEventListener("message",f);var c=!1;function f(s){if(!c){0;var o=s.data;if(o.found){for(var l=0;l<r.length;++l)r[l].terminate();return c=!0,n(null,new i(o.prime,16))}a.bitLength()>e&&(a=u(e,t));var f=a.toString(16);s.target.postMessage({hex:f,workLoad:d}),a.dAddOffset(h,0)}}}f()}function u(e,t){var r=new i(e,t),s=e-1;return r.testBit(s)||r.bitwiseTo(i.ONE.shiftLeft(s),a,r),r.dAddOffset(31-r.mod(n).byteValue(),0),r}function l(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}}()},"9bdd":function(e,t,i){var r=i("825a"),s=i("2a62");e.exports=function(e,t,i,n){try{return n?t(r(i)[0],i[1]):t(i)}catch(a){throw s(e),a}}},"9bf2":function(e,t,i){var r=i("83ab"),s=i("0cfb"),n=i("825a"),a=i("c04e"),o=Object.defineProperty;t.f=r?o:function(e,t,i){if(n(e),t=a(t,!0),n(i),s)try{return o(e,t,i)}catch(r){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},"9c4b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){(function(e){e.LOG_LEVEL={PRODUCTION:0,ERRORS:1,VERBOSE:2},e.logLevel=e.LOG_LEVEL.PRODUCTION,e.methodsData={log:{save:!1,logLevel:e.LOG_LEVEL.VERBOSE},info:{save:!1,logLevel:e.LOG_LEVEL.VERBOSE},warn:{save:!1,logLevel:e.LOG_LEVEL.VERBOSE},error:{save:!0,logLevel:e.LOG_LEVEL.ERRORS}}})(e.console||(e.console={}))}(t.config||(t.config={}))},"9ca6":function(e,t,i){var r=i("5259");i("bb2b"),e.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1},"9d26":function(e,t,i){"use strict";var r=i("132d");t["a"]=r["a"]},"9d65":function(e,t,i){"use strict";var r=i("d9bd"),s=i("2b0e");t["a"]=s["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||this.eager||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},created:function(){"lazy"in this.$attrs&&Object(r["e"])("lazy",this)},methods:{showLazyContent:function(e){return this.hasContent&&e?e():[this.$createElement()]}}})},"9d74":function(e,t,i){var r=i("5a7c"),s=r((function(e,t){return e<=t}));e.exports=s},"9d8b":function(e,t,i){var r=i("5259");i("f484"),i("fb3e"),i("ca87"),i("c7e6"),i("9ca6"),i("deb0"),i("66b0"),i("1ae3"),i("4778"),i("6497");var s=r.asn1,n=e.exports=r.pki=r.pki||{},a=n.oids,o={};o["CN"]=a["commonName"],o["commonName"]="CN",o["C"]=a["countryName"],o["countryName"]="C",o["L"]=a["localityName"],o["localityName"]="L",o["ST"]=a["stateOrProvinceName"],o["stateOrProvinceName"]="ST",o["O"]=a["organizationName"],o["organizationName"]="O",o["OU"]=a["organizationalUnitName"],o["organizationalUnitName"]="OU",o["E"]=a["emailAddress"],o["emailAddress"]="E";var c=r.pki.rsa.publicKeyValidator,d={name:"Certificate",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:s.Class.UNIVERSAL,type:s.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:s.Class.UNIVERSAL,type:s.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:s.Class.UNIVERSAL,type:s.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:s.Class.UNIVERSAL,type:s.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:s.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:s.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:s.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},h={name:"rsapss",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:s.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:s.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:s.Class.UNIVERSAL,type:s.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:s.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:s.Class.UNIVERSAL,type:s.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0}]}]}]},l={name:"CertificationRequest",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"===typeof t&&(t={shortName:t});for(var i,r=null,s=0;null===r&&s<e.attributes.length;++s)i=e.attributes[s],(t.type&&t.type===i.type||t.name&&t.name===i.name||t.shortName&&t.shortName===i.shortName)&&(r=i);return r}n.RDNAttributesAsArray=function(e,t){for(var i,r,n,c=[],d=0;d<e.value.length;++d){i=e.value[d];for(var h=0;h<i.value.length;++h)n={},r=i.value[h],n.type=s.derToOid(r.value[0].value),n.value=r.value[1].value,n.valueTagClass=r.value[1].type,n.type in a&&(n.name=a[n.type],n.name in o&&(n.shortName=o[n.name])),t&&(t.update(n.type),t.update(n.value)),c.push(n)}return c},n.CRIAttributesAsArray=function(e){for(var t=[],i=0;i<e.length;++i)for(var r=e[i],c=s.derToOid(r.value[0].value),d=r.value[1].value,h=0;h<d.length;++h){var u={};if(u.type=c,u.value=d[h].value,u.valueTagClass=d[h].type,u.type in a&&(u.name=a[u.type],u.name in o&&(u.shortName=o[u.name])),u.type===a.extensionRequest){u.extensions=[];for(var l=0;l<u.value.length;++l)u.extensions.push(n.certificateExtensionFromAsn1(u.value[l]))}t.push(u)}return t};var p=function(e,t,i){var r={};if(e!==a["RSASSA-PSS"])return r;i&&(r={hash:{algorithmOid:a["sha1"]},mgf:{algorithmOid:a["mgf1"],hash:{algorithmOid:a["sha1"]}},saltLength:20});var n={},o=[];if(!s.validate(t,h,n,o)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=o,c}return void 0!==n.hashOid&&(r.hash=r.hash||{},r.hash.algorithmOid=s.derToOid(n.hashOid)),void 0!==n.maskGenOid&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=s.derToOid(n.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=s.derToOid(n.maskGenHashOid)),void 0!==n.saltLength&&(r.saltLength=n.saltLength.charCodeAt(0)),r};function m(e){for(var t,i,n=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),a=e.attributes,o=0;o<a.length;++o){t=a[o];var c=t.value,d=s.Type.PRINTABLESTRING;"valueTagClass"in t&&(d=t.valueTagClass,d===s.Type.UTF8&&(c=r.util.encodeUtf8(c))),i=s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.type).getBytes()),s.create(s.Class.UNIVERSAL,d,!1,c)])]),n.value.push(i)}return n}function g(e){for(var t,i=0;i<e.length;++i){if(t=e[i],"undefined"===typeof t.name&&(t.type&&t.type in n.oids?t.name=n.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=n.oids[o[t.shortName]])),"undefined"===typeof t.type){if(!t.name||!(t.name in n.oids)){var r=new Error("Attribute type not specified.");throw r.attribute=t,r}t.type=n.oids[t.name]}if("undefined"===typeof t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=s.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var c=0;c<t.extensions.length;++c)t.value.push(n.certificateExtensionToAsn1(y(t.extensions[c])))}if("undefined"===typeof t.value){r=new Error("Attribute value not specified.");throw r.attribute=t,r}}}function y(e,t){if(t=t||{},"undefined"===typeof e.name&&e.id&&e.id in n.oids&&(e.name=n.oids[e.id]),"undefined"===typeof e.id){if(!e.name||!(e.name in n.oids)){var i=new Error("Extension ID not specified.");throw i.extension=e,i}e.id=n.oids[e.name]}if("undefined"!==typeof e.value)return e;if("keyUsage"===e.name){var o=0,c=0,d=0;e.digitalSignature&&(c|=128,o=7),e.nonRepudiation&&(c|=64,o=6),e.keyEncipherment&&(c|=32,o=5),e.dataEncipherment&&(c|=16,o=4),e.keyAgreement&&(c|=8,o=3),e.keyCertSign&&(c|=4,o=2),e.cRLSign&&(c|=2,o=1),e.encipherOnly&&(c|=1,o=0),e.decipherOnly&&(d|=128,o=7);var h=String.fromCharCode(o);0!==d?h+=String.fromCharCode(c)+String.fromCharCode(d):0!==c&&(h+=String.fromCharCode(c)),e.value=s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,h)}else if("basicConstraints"===e.name)e.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(s.create(s.Class.UNIVERSAL,s.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var l in e)!0===e[l]&&(l in a?u.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a[l]).getBytes())):-1!==l.indexOf(".")&&u.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(l).getBytes())))}else if("nsCertType"===e.name){o=0,c=0;e.client&&(c|=128,o=7),e.server&&(c|=64,o=6),e.email&&(c|=32,o=5),e.objsign&&(c|=16,o=4),e.reserved&&(c|=8,o=3),e.sslCA&&(c|=4,o=2),e.emailCA&&(c|=2,o=1),e.objCA&&(c|=1,o=0);h=String.fromCharCode(o);0!==c&&(h+=String.fromCharCode(c)),e.value=s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,h)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);for(var f=0;f<e.altNames.length;++f){b=e.altNames[f];h=b.value;if(7===b.type&&b.ip){if(h=r.util.bytesFromIP(b.ip),null===h){i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=e,i}}else 8===b.type&&(h=b.oid?s.oidToDer(s.oidToDer(b.oid)):s.oidToDer(h));e.value.value.push(s.create(s.Class.CONTEXT_SPECIFIC,b.type,!1,h))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=s.create(s.Class.UNIVERSAL,s.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);u=e.value.value;if(e.keyIdentifier){var g=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var y=[s.create(s.Class.CONTEXT_SPECIFIC,4,!0,[m(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];u.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var v=r.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);u.push(s.create(s.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===e.name){e.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);u=e.value.value;var b,w=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),S=s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[]);for(f=0;f<e.altNames.length;++f){b=e.altNames[f];h=b.value;if(7===b.type&&b.ip){if(h=r.util.bytesFromIP(b.ip),null===h){i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=e,i}}else 8===b.type&&(h=b.oid?s.oidToDer(s.oidToDer(b.oid)):s.oidToDer(h));S.value.push(s.create(s.Class.CONTEXT_SPECIFIC,b.type,!1,h))}w.value.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[S])),u.push(w)}if("undefined"===typeof e.value){i=new Error("Extension value not specified.");throw i.extension=e,i}return e}function v(e,t){switch(e){case a["RSASSA-PSS"]:var i=[];return void 0!==t.hash.algorithmOid&&i.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.hash.algorithmOid).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&i.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.mgf.algorithmOid).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.mgf.hash.algorithmOid).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&i.push(s.create(s.Class.CONTEXT_SPECIFIC,2,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(t.saltLength).getBytes())])),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,i);default:return s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")}}function b(e){var t=s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var i=e.attributes,n=0;n<i.length;++n){var a=i[n],o=a.value,c=s.Type.UTF8;"valueTagClass"in a&&(c=a.valueTagClass),c===s.Type.UTF8&&(o=r.util.encodeUtf8(o));var d=!1;"valueConstructed"in a&&(d=a.valueConstructed);var h=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.type).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,c,d,o)])]);t.value.push(h)}return t}n.certificateFromPem=function(e,t,i){var a=r.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=s.fromDer(a.body,i);return n.certificateFromAsn1(c,t)},n.certificateToPem=function(e,t){var i={type:"CERTIFICATE",body:s.toDer(n.certificateToAsn1(e)).getBytes()};return r.pem.encode(i,{maxline:t})},n.publicKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var i=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw i.headerType=t.type,i}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=s.fromDer(t.body);return n.publicKeyFromAsn1(a)},n.publicKeyToPem=function(e,t){var i={type:"PUBLIC KEY",body:s.toDer(n.publicKeyToAsn1(e)).getBytes()};return r.pem.encode(i,{maxline:t})},n.publicKeyToRSAPublicKeyPem=function(e,t){var i={type:"RSA PUBLIC KEY",body:s.toDer(n.publicKeyToRSAPublicKey(e)).getBytes()};return r.pem.encode(i,{maxline:t})},n.getPublicKeyFingerprint=function(e,t){t=t||{};var i,a=t.md||r.md.sha1.create(),o=t.type||"RSAPublicKey";switch(o){case"RSAPublicKey":i=s.toDer(n.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=s.toDer(n.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(i);var c=a.digest();if("hex"===t.encoding){var d=c.toHex();return t.delimiter?d.match(/.{2}/g).join(t.delimiter):d}if("binary"===t.encoding)return c.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return c},n.certificationRequestFromPem=function(e,t,i){var a=r.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=s.fromDer(a.body,i);return n.certificationRequestFromAsn1(c,t)},n.certificationRequestToPem=function(e,t){var i={type:"CERTIFICATE REQUEST",body:s.toDer(n.certificationRequestToAsn1(e)).getBytes()};return r.pem.encode(i,{maxline:t})},n.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){g([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){g([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,i){g(t),e.subject.attributes=t,delete e.subject.uniqueId,i&&(e.subject.uniqueId=i),e.subject.hash=null},e.setIssuer=function(t,i){g(t),e.issuer.attributes=t,delete e.issuer.uniqueId,i&&(e.issuer.uniqueId=i),e.issuer.hash=null},e.setExtensions=function(t){for(var i=0;i<t.length;++i)y(t[i],{cert:e});e.extensions=t},e.getExtension=function(t){"string"===typeof t&&(t={name:t});for(var i,r=null,s=0;null===r&&s<e.extensions.length;++s)i=e.extensions[s],(t.id&&i.id===t.id||t.name&&i.name===t.name)&&(r=i);return r},e.sign=function(t,i){e.md=i||r.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=n.getTBSCertificate(e);var d=s.toDer(e.tbsCertificate);e.md.update(d.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var i=!1;if(!e.issued(t)){var o=t.issuer,c=e.subject,d=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw d.expectedIssuer=o.attributes,d.actualIssuer=c.attributes,d}var h=t.md;if(null===h){if(t.signatureOid in a){var u=a[t.signatureOid];switch(u){case"sha1WithRSAEncryption":h=r.md.sha1.create();break;case"md5WithRSAEncryption":h=r.md.md5.create();break;case"sha256WithRSAEncryption":h=r.md.sha256.create();break;case"sha384WithRSAEncryption":h=r.md.sha384.create();break;case"sha512WithRSAEncryption":h=r.md.sha512.create();break;case"RSASSA-PSS":h=r.md.sha256.create();break}}if(null===h){d=new Error("Could not compute certificate digest. Unknown signature OID.");throw d.signatureOid=t.signatureOid,d}var l=t.tbsCertificate||n.getTBSCertificate(t),f=s.toDer(l);h.update(f.getBytes())}if(null!==h){var p;switch(t.signatureOid){case a.sha1WithRSAEncryption:p=void 0;break;case a["RSASSA-PSS"]:var m,g;if(m=a[t.signatureParameters.mgf.hash.algorithmOid],void 0===m||void 0===r.md[m]){d=new Error("Unsupported MGF hash function.");throw d.oid=t.signatureParameters.mgf.hash.algorithmOid,d.name=m,d}if(g=a[t.signatureParameters.mgf.algorithmOid],void 0===g||void 0===r.mgf[g]){d=new Error("Unsupported MGF function.");throw d.oid=t.signatureParameters.mgf.algorithmOid,d.name=g,d}if(g=r.mgf[g].create(r.md[m].create()),m=a[t.signatureParameters.hash.algorithmOid],void 0===m||void 0===r.md[m])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:m};p=r.pss.create(r.md[m].create(),g,t.signatureParameters.saltLength);break}i=e.publicKey.verify(h.digest().getBytes(),t.signature,p)}return i},e.isIssuer=function(t){var i=!1,r=e.issuer,s=t.subject;if(r.hash&&s.hash)i=r.hash===s.hash;else if(r.attributes.length===s.attributes.length){var n,a;i=!0;for(var o=0;i&&o<r.attributes.length;++o)n=r.attributes[o],a=s.attributes[o],n.type===a.type&&n.value===a.value||(i=!1)}return i},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return n.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a["subjectKeyIdentifier"],i=0;i<e.extensions.length;++i){var s=e.extensions[i];if(s.id===t){var n=e.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(s.subjectKeyIdentifier)===n}}return!1},e},n.certificateFromAsn1=function(e,t){var i={},o=[];if(!s.validate(e,d,i,o)){var c=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw c.errors=o,c}var h=s.derToOid(i.publicKeyOid);if(h!==n.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=n.createCertificate();u.version=i.certVersion?i.certVersion.charCodeAt(0):0;var l=r.util.createBuffer(i.certSerialNumber);u.serialNumber=l.toHex(),u.signatureOid=r.asn1.derToOid(i.certSignatureOid),u.signatureParameters=p(u.signatureOid,i.certSignatureParams,!0),u.siginfo.algorithmOid=r.asn1.derToOid(i.certinfoSignatureOid),u.siginfo.parameters=p(u.siginfo.algorithmOid,i.certinfoSignatureParams,!1),u.signature=i.certSignature;var m=[];if(void 0!==i.certValidity1UTCTime&&m.push(s.utcTimeToDate(i.certValidity1UTCTime)),void 0!==i.certValidity2GeneralizedTime&&m.push(s.generalizedTimeToDate(i.certValidity2GeneralizedTime)),void 0!==i.certValidity3UTCTime&&m.push(s.utcTimeToDate(i.certValidity3UTCTime)),void 0!==i.certValidity4GeneralizedTime&&m.push(s.generalizedTimeToDate(i.certValidity4GeneralizedTime)),m.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(m.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=m[0],u.validity.notAfter=m[1],u.tbsCertificate=i.tbsCertificate,t){if(u.md=null,u.signatureOid in a){h=a[u.signatureOid];switch(h){case"sha1WithRSAEncryption":u.md=r.md.sha1.create();break;case"md5WithRSAEncryption":u.md=r.md.md5.create();break;case"sha256WithRSAEncryption":u.md=r.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=r.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=r.md.sha512.create();break;case"RSASSA-PSS":u.md=r.md.sha256.create();break}}if(null===u.md){c=new Error("Could not compute certificate digest. Unknown signature OID.");throw c.signatureOid=u.signatureOid,c}var y=s.toDer(u.tbsCertificate);u.md.update(y.getBytes())}var v=r.md.sha1.create();u.issuer.getField=function(e){return f(u.issuer,e)},u.issuer.addField=function(e){g([e]),u.issuer.attributes.push(e)},u.issuer.attributes=n.RDNAttributesAsArray(i.certIssuer,v),i.certIssuerUniqueId&&(u.issuer.uniqueId=i.certIssuerUniqueId),u.issuer.hash=v.digest().toHex();var b=r.md.sha1.create();return u.subject.getField=function(e){return f(u.subject,e)},u.subject.addField=function(e){g([e]),u.subject.attributes.push(e)},u.subject.attributes=n.RDNAttributesAsArray(i.certSubject,b),i.certSubjectUniqueId&&(u.subject.uniqueId=i.certSubjectUniqueId),u.subject.hash=b.digest().toHex(),i.certExtensions?u.extensions=n.certificateExtensionsFromAsn1(i.certExtensions):u.extensions=[],u.publicKey=n.publicKeyFromAsn1(i.subjectPublicKeyInfo),u},n.certificateExtensionsFromAsn1=function(e){for(var t=[],i=0;i<e.value.length;++i)for(var r=e.value[i],s=0;s<r.value.length;++s)t.push(n.certificateExtensionFromAsn1(r.value[s]));return t},n.certificateExtensionFromAsn1=function(e){var t={};if(t.id=s.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===s.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var i=s.fromDer(t.value),n=0,o=0;i.value.length>1&&(n=i.value.charCodeAt(1),o=i.value.length>2?i.value.charCodeAt(2):0),t.digitalSignature=128===(128&n),t.nonRepudiation=64===(64&n),t.keyEncipherment=32===(32&n),t.dataEncipherment=16===(16&n),t.keyAgreement=8===(8&n),t.keyCertSign=4===(4&n),t.cRLSign=2===(2&n),t.encipherOnly=1===(1&n),t.decipherOnly=128===(128&o)}else if("basicConstraints"===t.name){i=s.fromDer(t.value);i.value.length>0&&i.value[0].type===s.Type.BOOLEAN?t.cA=0!==i.value[0].value.charCodeAt(0):t.cA=!1;var c=null;i.value.length>0&&i.value[0].type===s.Type.INTEGER?c=i.value[0].value:i.value.length>1&&(c=i.value[1].value),null!==c&&(t.pathLenConstraint=s.derToInteger(c))}else if("extKeyUsage"===t.name){i=s.fromDer(t.value);for(var d=0;d<i.value.length;++d){var h=s.derToOid(i.value[d].value);h in a?t[a[h]]=!0:t[h]=!0}}else if("nsCertType"===t.name){i=s.fromDer(t.value),n=0;i.value.length>1&&(n=i.value.charCodeAt(1)),t.client=128===(128&n),t.server=64===(64&n),t.email=32===(32&n),t.objsign=16===(16&n),t.reserved=8===(8&n),t.sslCA=4===(4&n),t.emailCA=2===(2&n),t.objCA=1===(1&n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var u;t.altNames=[];i=s.fromDer(t.value);for(var l=0;l<i.value.length;++l){u=i.value[l];var f={type:u.type,value:u.value};switch(t.altNames.push(f),u.type){case 1:case 2:case 6:break;case 7:f.ip=r.util.bytesToIP(u.value);break;case 8:f.oid=s.derToOid(u.value);break;default:}}}else if("subjectKeyIdentifier"===t.name){i=s.fromDer(t.value);t.subjectKeyIdentifier=r.util.bytesToHex(i.value)}return t},n.certificationRequestFromAsn1=function(e,t){var i={},o=[];if(!s.validate(e,l,i,o)){var c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw c.errors=o,c}var d=s.derToOid(i.publicKeyOid);if(d!==n.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var h=n.createCertificationRequest();if(h.version=i.csrVersion?i.csrVersion.charCodeAt(0):0,h.signatureOid=r.asn1.derToOid(i.csrSignatureOid),h.signatureParameters=p(h.signatureOid,i.csrSignatureParams,!0),h.siginfo.algorithmOid=r.asn1.derToOid(i.csrSignatureOid),h.siginfo.parameters=p(h.siginfo.algorithmOid,i.csrSignatureParams,!1),h.signature=i.csrSignature,h.certificationRequestInfo=i.certificationRequestInfo,t){if(h.md=null,h.signatureOid in a){d=a[h.signatureOid];switch(d){case"sha1WithRSAEncryption":h.md=r.md.sha1.create();break;case"md5WithRSAEncryption":h.md=r.md.md5.create();break;case"sha256WithRSAEncryption":h.md=r.md.sha256.create();break;case"sha384WithRSAEncryption":h.md=r.md.sha384.create();break;case"sha512WithRSAEncryption":h.md=r.md.sha512.create();break;case"RSASSA-PSS":h.md=r.md.sha256.create();break}}if(null===h.md){c=new Error("Could not compute certification request digest. Unknown signature OID.");throw c.signatureOid=h.signatureOid,c}var u=s.toDer(h.certificationRequestInfo);h.md.update(u.getBytes())}var m=r.md.sha1.create();return h.subject.getField=function(e){return f(h.subject,e)},h.subject.addField=function(e){g([e]),h.subject.attributes.push(e)},h.subject.attributes=n.RDNAttributesAsArray(i.certificationRequestInfoSubject,m),h.subject.hash=m.digest().toHex(),h.publicKey=n.publicKeyFromAsn1(i.subjectPublicKeyInfo),h.getAttribute=function(e){return f(h,e)},h.addAttribute=function(e){g([e]),h.attributes.push(e)},h.attributes=n.CRIAttributesAsArray(i.certificationRequestInfoAttributes||[]),h},n.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){g([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){g([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){g(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){g(t),e.attributes=t},e.sign=function(t,i){e.md=i||r.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=n.getCertificationRequestInfo(e);var d=s.toDer(e.certificationRequestInfo);e.md.update(d.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,i=e.md;if(null===i){if(e.signatureOid in a){var o=a[e.signatureOid];switch(o){case"sha1WithRSAEncryption":i=r.md.sha1.create();break;case"md5WithRSAEncryption":i=r.md.md5.create();break;case"sha256WithRSAEncryption":i=r.md.sha256.create();break;case"sha384WithRSAEncryption":i=r.md.sha384.create();break;case"sha512WithRSAEncryption":i=r.md.sha512.create();break;case"RSASSA-PSS":i=r.md.sha256.create();break}}if(null===i){var c=new Error("Could not compute certification request digest. Unknown signature OID.");throw c.signatureOid=e.signatureOid,c}var d=e.certificationRequestInfo||n.getCertificationRequestInfo(e),h=s.toDer(d);i.update(h.getBytes())}if(null!==i){var u;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,f;if(l=a[e.signatureParameters.mgf.hash.algorithmOid],void 0===l||void 0===r.md[l]){c=new Error("Unsupported MGF hash function.");throw c.oid=e.signatureParameters.mgf.hash.algorithmOid,c.name=l,c}if(f=a[e.signatureParameters.mgf.algorithmOid],void 0===f||void 0===r.mgf[f]){c=new Error("Unsupported MGF function.");throw c.oid=e.signatureParameters.mgf.algorithmOid,c.name=f,c}if(f=r.mgf[f].create(r.md[l].create()),l=a[e.signatureParameters.hash.algorithmOid],void 0===l||void 0===r.md[l]){c=new Error("Unsupported RSASSA-PSS hash function.");throw c.oid=e.signatureParameters.hash.algorithmOid,c.name=l,c}u=r.pss.create(r.md[l].create(),f,e.signatureParameters.saltLength);break}t=e.publicKey.verify(i.digest().getBytes(),e.signature,u)}return t},e};var w=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z");function k(e){return e>=w&&e<S?s.create(s.Class.UNIVERSAL,s.Type.UTCTIME,!1,s.dateToUtcTime(e)):s.create(s.Class.UNIVERSAL,s.Type.GENERALIZEDTIME,!1,s.dateToGeneralizedTime(e))}n.getTBSCertificate=function(e){var t=k(e.validity.notBefore),i=k(e.validity.notAfter),a=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(e.version).getBytes())]),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber)),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.siginfo.algorithmOid).getBytes()),v(e.siginfo.algorithmOid,e.siginfo.parameters)]),m(e.issuer),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[t,i]),m(e.subject),n.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,[s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(s.create(s.Class.CONTEXT_SPECIFIC,2,!0,[s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(n.certificateExtensionsToAsn1(e.extensions)),a},n.getCertificationRequestInfo=function(e){var t=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(e.version).getBytes()),m(e.subject),n.publicKeyToAsn1(e.publicKey),b(e)]);return t},n.distinguishedNameToAsn1=function(e){return m(e)},n.certificateToAsn1=function(e){var t=e.tbsCertificate||n.getTBSCertificate(e);return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[t,s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},n.certificateExtensionsToAsn1=function(e){var t=s.create(s.Class.CONTEXT_SPECIFIC,3,!0,[]),i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);t.value.push(i);for(var r=0;r<e.length;++r)i.value.push(n.certificateExtensionToAsn1(e[r]));return t},n.certificateExtensionToAsn1=function(e){var t=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);t.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.id).getBytes())),e.critical&&t.value.push(s.create(s.Class.UNIVERSAL,s.Type.BOOLEAN,!1,String.fromCharCode(255)));var i=e.value;return"string"!==typeof e.value&&(i=s.toDer(i).getBytes()),t.value.push(s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,i)),t},n.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||n.getCertificationRequestInfo(e);return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[t,s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},n.createCaStore=function(e){var t={certs:{}};function i(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=r.md.sha1.create();e.attributes=n.RDNAttributesAsArray(m(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){var t=i(e.issuer);return t},t.addCertificate=function(e){if("string"===typeof e&&(e=r.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var i=t.certs[e.subject.hash];r.util.isArray(i)||(i=[i]),i.push(e),t.certs[e.subject.hash]=i}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"===typeof e&&(e=r.pki.certificateFromPem(e));var t=i(e.subject);if(!t)return!1;r.util.isArray(t)||(t=[t]);for(var a=s.toDer(n.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){var c=s.toDer(n.certificateToAsn1(t[o])).getBytes();if(a===c)return!0}return!1},t.listAllCertificates=function(){var e=[];for(var i in t.certs)if(t.certs.hasOwnProperty(i)){var s=t.certs[i];if(r.util.isArray(s))for(var n=0;n<s.length;++n)e.push(s[n]);else e.push(s)}return e},t.removeCertificate=function(e){var o;if("string"===typeof e&&(e=r.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var c=i(e.subject);if(!r.util.isArray(c))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var d=s.toDer(n.certificateToAsn1(e)).getBytes(),h=0;h<c.length;++h){var u=s.toDer(n.certificateToAsn1(c[h])).getBytes();d===u&&(o=c[h],c.splice(h,1))}return 0===c.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var c=e[o];t.addCertificate(c)}return t},n.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},n.verifyCertificateChain=function(e,t,i){"function"===typeof i&&(i={verify:i}),i=i||{},t=t.slice(0);var s=t.slice(0),a=i.validityCheckDate;"undefined"===typeof a&&(a=new Date);var o=!0,c=null,d=0;do{var h=t.shift(),u=null,l=!1;if(a&&(a<h.validity.notBefore||a>h.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:n.certificateError.certificate_expired,notBefore:h.validity.notBefore,notAfter:h.validity.notAfter,now:a}),null===c){if(u=t[0]||e.getIssuer(h),null===u&&h.isIssuer(h)&&(l=!0,u=h),u){var f=u;r.util.isArray(f)||(f=[f]);var p=!1;while(!p&&f.length>0){u=f.shift();try{p=u.verify(h)}catch(_){}}p||(c={message:"Certificate signature is invalid.",error:n.certificateError.bad_certificate})}null!==c||u&&!l||e.hasCertificate(h)||(c={message:"Certificate is not trusted.",error:n.certificateError.unknown_ca})}if(null===c&&u&&!h.isIssuer(u)&&(c={message:"Certificate issuer is invalid.",error:n.certificateError.bad_certificate}),null===c)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===c&&g<h.extensions.length;++g){var y=h.extensions[g];y.critical&&!(y.name in m)&&(c={message:"Certificate has an unsupported critical extension.",error:n.certificateError.unsupported_certificate})}if(null===c&&(!o||0===t.length&&(!u||l))){var v=h.getExtension("basicConstraints"),b=h.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==v||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:n.certificateError.bad_certificate})),null!==c||null===v||v.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:n.certificateError.bad_certificate}),null===c&&null!==b&&"pathLenConstraint"in v){var w=d-1;w>v.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:n.certificateError.bad_certificate})}}var S=null===c||c.error,k=i.verify?i.verify(S,d,s):S;if(!0!==k)throw!0===S&&(c={message:"The application rejected the certificate.",error:n.certificateError.bad_certificate}),(k||0===k)&&("object"!==typeof k||r.util.isArray(k)?"string"===typeof k&&(c.error=k):(k.message&&(c.message=k.message),k.error&&(c.error=k.error))),c;c=null,o=!1,++d}while(t.length>0);return!0}},"9dbb":function(e,t,i){(function(e,i){i(t)})(0,(function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function i(e){return new Promise((function(t,i){e.onsuccess=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function r(e,t,r){var s,n=new Promise((function(n,a){s=e[t].apply(e,r),i(s).then(n,a)}));return n.request=s,n}function s(e,t,i){var s=r(e,t,i);return s.then((function(e){if(e)return new h(e,s.request)}))}function n(e,t,i){i.forEach((function(i){Object.defineProperty(e.prototype,i,{get:function(){return this[t][i]},set:function(e){this[t][i]=e}})}))}function a(e,t,i,s){s.forEach((function(s){s in i.prototype&&(e.prototype[s]=function(){return r(this[t],s,arguments)})}))}function o(e,t,i,r){r.forEach((function(r){r in i.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,i,r){r.forEach((function(r){r in i.prototype&&(e.prototype[r]=function(){return s(this[t],r,arguments)})}))}function d(e){this._index=e}function h(e,t){this._cursor=e,this._request=t}function u(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise((function(t,i){e.oncomplete=function(){t()},e.onerror=function(){i(e.error)},e.onabort=function(){i(e.error)}}))}function f(e,t,i){this._db=e,this.oldVersion=t,this.transaction=new l(i)}function p(e){this._db=e}function m(e,t,i){var s=r(indexedDB,"open",[e,t]),n=s.request;return n&&(n.onupgradeneeded=function(e){i&&i(new f(n.result,e.oldVersion,n.transaction))}),s.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}n(d,"_index",["name","keyPath","multiEntry","unique"]),a(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(d,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(h,"_cursor",["direction","key","primaryKey","value"]),a(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(h.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),i(t._request).then((function(e){if(e)return new h(e,t._request)}))}))})})),u.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},u.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},n(u,"_store",["name","keyPath","indexNames","autoIncrement"]),a(u,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(u,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(u,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new u(this._tx.objectStore.apply(this._tx,arguments))},n(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new u(this._db.createObjectStore.apply(this._db,arguments))},n(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},n(p,"_db",["name","version","objectStoreNames"]),o(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[u,d].forEach((function(i){e in i.prototype&&(i.prototype[e.replace("open","iterate")]=function(){var i=t(arguments),r=i[i.length-1],s=this._store||this._index,n=s[e].apply(s,i.slice(0,-1));n.onsuccess=function(){r(n.result)}})}))})),[d,u].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var i=this,r=[];return new Promise((function(s){i.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():s(r)):s(r)}))}))})})),e.openDb=m,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}))},"9e29":function(e,t,i){},"9e6e":function(e,t,i){"use strict";var r=i("be7f"),s=i("c834"),n=i("eeda"),a=i("7eb1"),o=i("6853"),c=0,d=1,h=2,u=4,l=5,f=6,p=0,m=1,g=2,y=-2,v=-3,b=-4,w=-5,S=8,k=1,_=2,O=3,T=4,C=5,I=6,x=7,E=8,A=9,N=10,M=11,P=12,B=13,R=14,D=15,L=16,V=17,j=18,q=19,U=20,G=21,F=22,H=23,z=24,K=25,W=26,$=27,Y=28,X=29,Q=30,Z=31,J=32,ee=852,te=592,ie=15,re=ie;function se(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):y}function oe(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,ae(e)):y}function ce(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,oe(e))):y}function de(e,t){var i,r;return e?(r=new ne,e.state=r,r.window=null,i=ce(e,t),i!==p&&(e.state=null),i):y}function he(e){return de(e,re)}var ue,le,fe=!0;function pe(e){if(fe){var t;ue=new r.Buf32(512),le=new r.Buf32(32),t=0;while(t<144)e.lens[t++]=8;while(t<256)e.lens[t++]=9;while(t<280)e.lens[t++]=7;while(t<288)e.lens[t++]=8;o(d,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;while(t<32)e.lens[t++]=5;o(h,e.lens,0,32,le,0,e.work,{bits:5}),fe=!1}e.lencode=ue,e.lenbits=9,e.distcode=le,e.distbits=5}function me(e,t,i,s){var n,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),s>=a.wsize?(r.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>s&&(n=s),r.arraySet(a.window,t,i-s,n,a.wnext),s-=n,s?(r.arraySet(a.window,t,i-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}function ge(e,t){var i,ee,te,ie,re,ne,ae,oe,ce,de,he,ue,le,fe,ge,ye,ve,be,we,Se,ke,_e,Oe,Te,Ce=0,Ie=new r.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;i=e.state,i.mode===P&&(i.mode=B),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,ne=e.avail_in,oe=i.hold,ce=i.bits,de=ne,he=ae,_e=p;e:for(;;)switch(i.mode){case k:if(0===i.wrap){i.mode=B;break}while(ce<16){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(2&i.wrap&&35615===oe){i.check=0,Ie[0]=255&oe,Ie[1]=oe>>>8&255,i.check=n(i.check,Ie,2,0),oe=0,ce=0,i.mode=_;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&oe)<<8)+(oe>>8))%31){e.msg="incorrect header check",i.mode=Q;break}if((15&oe)!==S){e.msg="unknown compression method",i.mode=Q;break}if(oe>>>=4,ce-=4,ke=8+(15&oe),0===i.wbits)i.wbits=ke;else if(ke>i.wbits){e.msg="invalid window size",i.mode=Q;break}i.dmax=1<<ke,e.adler=i.check=1,i.mode=512&oe?N:P,oe=0,ce=0;break;case _:while(ce<16){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(i.flags=oe,(255&i.flags)!==S){e.msg="unknown compression method",i.mode=Q;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Q;break}i.head&&(i.head.text=oe>>8&1),512&i.flags&&(Ie[0]=255&oe,Ie[1]=oe>>>8&255,i.check=n(i.check,Ie,2,0)),oe=0,ce=0,i.mode=O;case O:while(ce<32){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}i.head&&(i.head.time=oe),512&i.flags&&(Ie[0]=255&oe,Ie[1]=oe>>>8&255,Ie[2]=oe>>>16&255,Ie[3]=oe>>>24&255,i.check=n(i.check,Ie,4,0)),oe=0,ce=0,i.mode=T;case T:while(ce<16){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}i.head&&(i.head.xflags=255&oe,i.head.os=oe>>8),512&i.flags&&(Ie[0]=255&oe,Ie[1]=oe>>>8&255,i.check=n(i.check,Ie,2,0)),oe=0,ce=0,i.mode=C;case C:if(1024&i.flags){while(ce<16){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}i.length=oe,i.head&&(i.head.extra_len=oe),512&i.flags&&(Ie[0]=255&oe,Ie[1]=oe>>>8&255,i.check=n(i.check,Ie,2,0)),oe=0,ce=0}else i.head&&(i.head.extra=null);i.mode=I;case I:if(1024&i.flags&&(ue=i.length,ue>ne&&(ue=ne),ue&&(i.head&&(ke=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,ee,ie,ue,ke)),512&i.flags&&(i.check=n(i.check,ee,ue,ie)),ne-=ue,ie+=ue,i.length-=ue),i.length))break e;i.length=0,i.mode=x;case x:if(2048&i.flags){if(0===ne)break e;ue=0;do{ke=ee[ie+ue++],i.head&&ke&&i.length<65536&&(i.head.name+=String.fromCharCode(ke))}while(ke&&ue<ne);if(512&i.flags&&(i.check=n(i.check,ee,ue,ie)),ne-=ue,ie+=ue,ke)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=E;case E:if(4096&i.flags){if(0===ne)break e;ue=0;do{ke=ee[ie+ue++],i.head&&ke&&i.length<65536&&(i.head.comment+=String.fromCharCode(ke))}while(ke&&ue<ne);if(512&i.flags&&(i.check=n(i.check,ee,ue,ie)),ne-=ue,ie+=ue,ke)break e}else i.head&&(i.head.comment=null);i.mode=A;case A:if(512&i.flags){while(ce<16){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(oe!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Q;break}oe=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=P;break;case N:while(ce<32){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}e.adler=i.check=se(oe),oe=0,ce=0,i.mode=M;case M:if(0===i.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=ne,i.hold=oe,i.bits=ce,g;e.adler=i.check=1,i.mode=P;case P:if(t===l||t===f)break e;case B:if(i.last){oe>>>=7&ce,ce-=7&ce,i.mode=$;break}while(ce<3){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}switch(i.last=1&oe,oe>>>=1,ce-=1,3&oe){case 0:i.mode=R;break;case 1:if(pe(i),i.mode=U,t===f){oe>>>=2,ce-=2;break e}break;case 2:i.mode=V;break;case 3:e.msg="invalid block type",i.mode=Q}oe>>>=2,ce-=2;break;case R:oe>>>=7&ce,ce-=7&ce;while(ce<32){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if((65535&oe)!==(oe>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Q;break}if(i.length=65535&oe,oe=0,ce=0,i.mode=D,t===f)break e;case D:i.mode=L;case L:if(ue=i.length,ue){if(ue>ne&&(ue=ne),ue>ae&&(ue=ae),0===ue)break e;r.arraySet(te,ee,ie,ue,re),ne-=ue,ie+=ue,ae-=ue,re+=ue,i.length-=ue;break}i.mode=P;break;case V:while(ce<14){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(i.nlen=257+(31&oe),oe>>>=5,ce-=5,i.ndist=1+(31&oe),oe>>>=5,ce-=5,i.ncode=4+(15&oe),oe>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Q;break}i.have=0,i.mode=j;case j:while(i.have<i.ncode){while(ce<3){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}i.lens[xe[i.have++]]=7&oe,oe>>>=3,ce-=3}while(i.have<19)i.lens[xe[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Oe={bits:i.lenbits},_e=o(c,i.lens,0,19,i.lencode,0,i.work,Oe),i.lenbits=Oe.bits,_e){e.msg="invalid code lengths set",i.mode=Q;break}i.have=0,i.mode=q;case q:while(i.have<i.nlen+i.ndist){for(;;){if(Ce=i.lencode[oe&(1<<i.lenbits)-1],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,ge<=ce)break;if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(ve<16)oe>>>=ge,ce-=ge,i.lens[i.have++]=ve;else{if(16===ve){Te=ge+2;while(ce<Te){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(oe>>>=ge,ce-=ge,0===i.have){e.msg="invalid bit length repeat",i.mode=Q;break}ke=i.lens[i.have-1],ue=3+(3&oe),oe>>>=2,ce-=2}else if(17===ve){Te=ge+3;while(ce<Te){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=ge,ce-=ge,ke=0,ue=3+(7&oe),oe>>>=3,ce-=3}else{Te=ge+7;while(ce<Te){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=ge,ce-=ge,ke=0,ue=11+(127&oe),oe>>>=7,ce-=7}if(i.have+ue>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Q;break}while(ue--)i.lens[i.have++]=ke}}if(i.mode===Q)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Q;break}if(i.lenbits=9,Oe={bits:i.lenbits},_e=o(d,i.lens,0,i.nlen,i.lencode,0,i.work,Oe),i.lenbits=Oe.bits,_e){e.msg="invalid literal/lengths set",i.mode=Q;break}if(i.distbits=6,i.distcode=i.distdyn,Oe={bits:i.distbits},_e=o(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Oe),i.distbits=Oe.bits,_e){e.msg="invalid distances set",i.mode=Q;break}if(i.mode=U,t===f)break e;case U:i.mode=G;case G:if(ne>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=ne,i.hold=oe,i.bits=ce,a(e,he),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,ne=e.avail_in,oe=i.hold,ce=i.bits,i.mode===P&&(i.back=-1);break}for(i.back=0;;){if(Ce=i.lencode[oe&(1<<i.lenbits)-1],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,ge<=ce)break;if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(ye&&0===(240&ye)){for(be=ge,we=ye,Se=ve;;){if(Ce=i.lencode[Se+((oe&(1<<be+we)-1)>>be)],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,be+ge<=ce)break;if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=be,ce-=be,i.back+=be}if(oe>>>=ge,ce-=ge,i.back+=ge,i.length=ve,0===ye){i.mode=W;break}if(32&ye){i.back=-1,i.mode=P;break}if(64&ye){e.msg="invalid literal/length code",i.mode=Q;break}i.extra=15&ye,i.mode=F;case F:if(i.extra){Te=i.extra;while(ce<Te){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}i.length+=oe&(1<<i.extra)-1,oe>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=H;case H:for(;;){if(Ce=i.distcode[oe&(1<<i.distbits)-1],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,ge<=ce)break;if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(0===(240&ye)){for(be=ge,we=ye,Se=ve;;){if(Ce=i.distcode[Se+((oe&(1<<be+we)-1)>>be)],ge=Ce>>>24,ye=Ce>>>16&255,ve=65535&Ce,be+ge<=ce)break;if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=be,ce-=be,i.back+=be}if(oe>>>=ge,ce-=ge,i.back+=ge,64&ye){e.msg="invalid distance code",i.mode=Q;break}i.offset=ve,i.extra=15&ye,i.mode=z;case z:if(i.extra){Te=i.extra;while(ce<Te){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}i.offset+=oe&(1<<i.extra)-1,oe>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Q;break}i.mode=K;case K:if(0===ae)break e;if(ue=he-ae,i.offset>ue){if(ue=i.offset-ue,ue>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Q;break}ue>i.wnext?(ue-=i.wnext,le=i.wsize-ue):le=i.wnext-ue,ue>i.length&&(ue=i.length),fe=i.window}else fe=te,le=re-i.offset,ue=i.length;ue>ae&&(ue=ae),ae-=ue,i.length-=ue;do{te[re++]=fe[le++]}while(--ue);0===i.length&&(i.mode=G);break;case W:if(0===ae)break e;te[re++]=i.length,ae--,i.mode=G;break;case $:if(i.wrap){while(ce<32){if(0===ne)break e;ne--,oe|=ee[ie++]<<ce,ce+=8}if(he-=ae,e.total_out+=he,i.total+=he,he&&(e.adler=i.check=i.flags?n(i.check,te,he,re-he):s(i.check,te,he,re-he)),he=ae,(i.flags?oe:se(oe))!==i.check){e.msg="incorrect data check",i.mode=Q;break}oe=0,ce=0}i.mode=Y;case Y:if(i.wrap&&i.flags){while(ce<32){if(0===ne)break e;ne--,oe+=ee[ie++]<<ce,ce+=8}if(oe!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Q;break}oe=0,ce=0}i.mode=X;case X:_e=m;break e;case Q:_e=v;break e;case Z:return b;case J:default:return y}return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=ne,i.hold=oe,i.bits=ce,(i.wsize||he!==e.avail_out&&i.mode<Q&&(i.mode<$||t!==u))&&me(e,e.output,e.next_out,he-e.avail_out)?(i.mode=Z,b):(de-=e.avail_in,he-=e.avail_out,e.total_in+=de,e.total_out+=he,i.total+=he,i.wrap&&he&&(e.adler=i.check=i.flags?n(i.check,te,he,e.next_out-he):s(i.check,te,he,e.next_out-he)),e.data_type=i.bits+(i.last?64:0)+(i.mode===P?128:0)+(i.mode===U||i.mode===D?256:0),(0===de&&0===he||t===u)&&_e===p&&(_e=w),_e)}function ye(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function ve(e,t){var i;return e&&e.state?(i=e.state,0===(2&i.wrap)?y:(i.head=t,t.done=!1,p)):y}function be(e,t){var i,r,n,a=t.length;return e&&e.state?(i=e.state,0!==i.wrap&&i.mode!==M?y:i.mode===M&&(r=1,r=s(r,t,a,0),r!==i.check)?v:(n=me(e,t,a,a),n?(i.mode=Z,b):(i.havedict=1,p))):y}t.inflateReset=oe,t.inflateReset2=ce,t.inflateResetKeep=ae,t.inflateInit=he,t.inflateInit2=de,t.inflate=ge,t.inflateEnd=ye,t.inflateGetHeader=ve,t.inflateSetDictionary=be,t.inflateInfo="pako inflate (from Nodeca project)"},"9ed3":function(e,t,i){"use strict";var r=i("ae93").IteratorPrototype,s=i("7c73"),n=i("5c6c"),a=i("d44e"),o=i("3f8c"),c=function(){return this};e.exports=function(e,t,i){var d=t+" Iterator";return e.prototype=s(r,{next:n(1,i)}),a(e,d,!1,!0),o[d]=c,e}},"9eef":function(e,t,i){"use strict";var r=String.prototype.replace,s=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,s,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},"9f7f":function(e,t,i){var r=i("d039"),s=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=r((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,i){"use strict";var r=i("23e7"),s=i("44ad"),n=i("fc6a"),a=i("a640"),o=[].join,c=s!=Object,d=a("join",",");r({target:"Array",proto:!0,forced:c||!d},{join:function(e){return o.call(n(this),void 0===e?",":e)}})},a177:function(e,t,i){"use strict";var r,s=i("be7f"),n=i("07f4"),a=i("c834"),o=i("eeda"),c=i("4dc6"),d=0,h=1,u=3,l=4,f=5,p=0,m=1,g=-2,y=-3,v=-5,b=-1,w=1,S=2,k=3,_=4,O=0,T=2,C=8,I=9,x=15,E=8,A=29,N=256,M=N+1+A,P=30,B=19,R=2*M+1,D=15,L=3,V=258,j=V+L+1,q=32,U=42,G=69,F=73,H=91,z=103,K=113,W=666,$=1,Y=2,X=3,Q=4,Z=3;function J(e,t){return e.msg=c[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){var t=e.length;while(--t>=0)e[t]=0}function ie(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function re(e,t){n._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ie(e.strm)}function se(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,i,r){var n=e.avail_in;return n>r&&(n=r),0===n?0:(e.avail_in-=n,s.arraySet(t,e.input,e.next_in,n,i),1===e.state.wrap?e.adler=a(e.adler,t,n,i):2===e.state.wrap&&(e.adler=o(e.adler,t,n,i)),e.next_in+=n,e.total_in+=n,n)}function oe(e,t){var i,r,s=e.max_chain_length,n=e.strstart,a=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0,d=e.window,h=e.w_mask,u=e.prev,l=e.strstart+V,f=d[n+a-1],p=d[n+a];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(i=t,d[i+a]===p&&d[i+a-1]===f&&d[i]===d[n]&&d[++i]===d[n+1]){n+=2,i++;do{}while(d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&n<l);if(r=V-(l-n),n=l-V,r>a){if(e.match_start=t,a=r,r>=o)break;f=d[n+a-1],p=d[n+a]}}}while((t=u[t&h])>c&&0!==--s);return a<=e.lookahead?a:e.lookahead}function ce(e){var t,i,r,n,a,o=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-j)){s.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,i=e.hash_size,t=i;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--i);i=o,t=i;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--i);n+=o}if(0===e.strm.avail_in)break;if(i=ae(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=L){a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;while(e.insert)if(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+L-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,e.lookahead+e.insert<L)break}}while(e.lookahead<j&&0!==e.strm.avail_in)}function de(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ce(e),0===e.lookahead&&t===d)return $;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,re(e,!1),0===e.strm.avail_out))return $;if(e.strstart-e.block_start>=e.w_size-j&&(re(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===l?(re(e,!0),0===e.strm.avail_out?X:Q):(e.strstart>e.block_start&&(re(e,!1),e.strm.avail_out),$)}function he(e,t){for(var i,r;;){if(e.lookahead<j){if(ce(e),e.lookahead<j&&t===d)return $;if(0===e.lookahead)break}if(i=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-j&&(e.match_length=oe(e,i)),e.match_length>=L)if(r=n._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(re(e,!1),0===e.strm.avail_out))return $}return e.insert=e.strstart<L-1?e.strstart:L-1,t===l?(re(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?$:Y}function ue(e,t){for(var i,r,s;;){if(e.lookahead<j){if(ce(e),e.lookahead<j&&t===d)return $;if(0===e.lookahead)break}if(i=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-j&&(e.match_length=oe(e,i),e.match_length<=5&&(e.strategy===w||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-L,r=n._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,r&&(re(e,!1),0===e.strm.avail_out))return $}else if(e.match_available){if(r=n._tr_tally(e,0,e.window[e.strstart-1]),r&&re(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return $}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=n._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===l?(re(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?$:Y}function le(e,t){for(var i,r,s,a,o=e.window;;){if(e.lookahead<=V){if(ce(e),e.lookahead<=V&&t===d)return $;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(s=e.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){a=e.strstart+V;do{}while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<a);e.match_length=V-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(i=n._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(re(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===l?(re(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?$:Y}function fe(e,t){for(var i;;){if(0===e.lookahead&&(ce(e),0===e.lookahead)){if(t===d)return $;break}if(e.match_length=0,i=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(re(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===l?(re(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?$:Y}function pe(e,t,i,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=s}function me(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*R),this.dyn_dtree=new s.Buf16(2*(2*P+1)),this.bl_tree=new s.Buf16(2*(2*B+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(D+1),this.heap=new s.Buf16(2*M+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*M+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?U:K,e.adler=2===t.wrap?0:1,t.last_flush=d,n._tr_init(t),p):J(e,g)}function ve(e){var t=ye(e);return t===p&&me(e.state),t}function be(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g}function we(e,t,i,r,n,a){if(!e)return g;var o=1;if(t===b&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),n<1||n>I||i!==C||r<8||r>15||t<0||t>9||a<0||a>_)return J(e,g);8===r&&(r=9);var c=new ge;return e.state=c,c.strm=e,c.wrap=o,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=n+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+L-1)/L),c.window=new s.Buf8(2*c.w_size),c.head=new s.Buf16(c.hash_size),c.prev=new s.Buf16(c.w_size),c.lit_bufsize=1<<n+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new s.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=i,ve(e)}function Se(e,t){return we(e,t,C,x,E,O)}function ke(e,t){var i,s,a,c;if(!e||!e.state||t>f||t<0)return e?J(e,g):g;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===W&&t!==l)return J(e,0===e.avail_out?v:g);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===U)if(2===s.wrap)e.adler=0,se(s,31),se(s,139),se(s,8),s.gzhead?(se(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),se(s,255&s.gzhead.time),se(s,s.gzhead.time>>8&255),se(s,s.gzhead.time>>16&255),se(s,s.gzhead.time>>24&255),se(s,9===s.level?2:s.strategy>=S||s.level<2?4:0),se(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(se(s,255&s.gzhead.extra.length),se(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=o(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=G):(se(s,0),se(s,0),se(s,0),se(s,0),se(s,0),se(s,9===s.level?2:s.strategy>=S||s.level<2?4:0),se(s,Z),s.status=K);else{var y=C+(s.w_bits-8<<4)<<8,b=-1;b=s.strategy>=S||s.level<2?0:s.level<6?1:6===s.level?2:3,y|=b<<6,0!==s.strstart&&(y|=q),y+=31-y%31,s.status=K,ne(s,y),0!==s.strstart&&(ne(s,e.adler>>>16),ne(s,65535&e.adler)),e.adler=1}if(s.status===G)if(s.gzhead.extra){a=s.pending;while(s.gzindex<(65535&s.gzhead.extra.length)){if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),ie(e),a=s.pending,s.pending===s.pending_buf_size))break;se(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++}s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=F)}else s.status=F;if(s.status===F)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),ie(e),a=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,se(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===c&&(s.gzindex=0,s.status=H)}else s.status=H;if(s.status===H)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),ie(e),a=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,se(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===c&&(s.status=z)}else s.status=z;if(s.status===z&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ie(e),s.pending+2<=s.pending_buf_size&&(se(s,255&e.adler),se(s,e.adler>>8&255),e.adler=0,s.status=K)):s.status=K),0!==s.pending){if(ie(e),0===e.avail_out)return s.last_flush=-1,p}else if(0===e.avail_in&&ee(t)<=ee(i)&&t!==l)return J(e,v);if(s.status===W&&0!==e.avail_in)return J(e,v);if(0!==e.avail_in||0!==s.lookahead||t!==d&&s.status!==W){var w=s.strategy===S?fe(s,t):s.strategy===k?le(s,t):r[s.level].func(s,t);if(w!==X&&w!==Q||(s.status=W),w===$||w===X)return 0===e.avail_out&&(s.last_flush=-1),p;if(w===Y&&(t===h?n._tr_align(s):t!==f&&(n._tr_stored_block(s,0,0,!1),t===u&&(te(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),ie(e),0===e.avail_out))return s.last_flush=-1,p}return t!==l?p:s.wrap<=0?m:(2===s.wrap?(se(s,255&e.adler),se(s,e.adler>>8&255),se(s,e.adler>>16&255),se(s,e.adler>>24&255),se(s,255&e.total_in),se(s,e.total_in>>8&255),se(s,e.total_in>>16&255),se(s,e.total_in>>24&255)):(ne(s,e.adler>>>16),ne(s,65535&e.adler)),ie(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?p:m)}function _e(e){var t;return e&&e.state?(t=e.state.status,t!==U&&t!==G&&t!==F&&t!==H&&t!==z&&t!==K&&t!==W?J(e,g):(e.state=null,t===K?J(e,y):p)):g}function Oe(e,t){var i,r,n,o,c,d,h,u,l=t.length;if(!e||!e.state)return g;if(i=e.state,o=i.wrap,2===o||1===o&&i.status!==U||i.lookahead)return g;1===o&&(e.adler=a(e.adler,t,l,0)),i.wrap=0,l>=i.w_size&&(0===o&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new s.Buf8(i.w_size),s.arraySet(u,t,l-i.w_size,i.w_size,0),t=u,l=i.w_size),c=e.avail_in,d=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,ce(i);while(i.lookahead>=L){r=i.strstart,n=i.lookahead-(L-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+L-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=L-1,ce(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=L-1,i.match_available=0,e.next_in=d,e.input=h,e.avail_in=c,i.wrap=o,p}r=[new pe(0,0,0,0,de),new pe(4,4,8,4,he),new pe(4,5,16,8,he),new pe(4,6,32,32,he),new pe(4,4,16,16,ue),new pe(8,16,32,32,ue),new pe(8,16,128,128,ue),new pe(8,32,128,256,ue),new pe(32,128,258,1024,ue),new pe(32,258,258,4096,ue)],t.deflateInit=Se,t.deflateInit2=we,t.deflateReset=ve,t.deflateResetKeep=ye,t.deflateSetHeader=be,t.deflate=ke,t.deflateEnd=_e,t.deflateSetDictionary=Oe,t.deflateInfo="pako deflate (from Nodeca project)"},a18f:function(e,t,i){"use strict";var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof s)return s;throw new Error("unable to locate global object")},s=r();e.exports=t=s.fetch,s.fetch&&(t.default=s.fetch.bind(s)),t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response},a1c6:function(e,t,i){!function(t,i){e.exports=i()}(0,(function(){return(()=>{"use strict";var e={660:(e,t)=>{t.__esModule=!0,t.EventEmitter=void 0;var i=function(){function e(e){this._events=Object.create(null),this.catchHandler=e||function(){}}return e.prototype.hasListeners=function(e){return!(!this._events[e]||!this._events[e].length)},e.prototype.getActiveEvents=function(){var e=this;return Object.keys(this._events).filter((function(t){return e.hasListeners(t)}))},e.prototype.trigger=function(e,t){var i=this;this._events[e]&&(this._events[e].slice().forEach((function(r){try{r.handler.call(r.context,t)}catch(e){i.catchHandler(e)}r.once&&i.off(e,r.handler)})),this._events[e].length||delete this._events[e])},e.prototype.on=function(e,t,i){this._on(e,t,i,!1)},e.prototype.once=function(e,t,i){this._on(e,t,i,!0)},e.prototype.off=function(e,t){var i=this,r="string"==typeof e?e:null,s="function"==typeof t?t:"function"==typeof e?e:null;if(r)if(s){if(r in this._events){var n=this._events[r].map((function(e){return e.handler})).indexOf(s);this._events[r].splice(n,1)}}else delete this._events[r];else Object.keys(this._events).forEach((function(e){i.off(e,s)}))},e.prototype._on=function(e,t,i,r){this._events[e]||(this._events[e]=[]),this._events[e].push({handler:t,context:i,once:r})},e}();t.EventEmitter=i},607:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};t.__esModule=!0;var n=i(660);s(i(660),t),t.default=n.EventEmitter}},t={};return function i(r){if(t[r])return t[r].exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,i),s.exports}(607)})()}))},a228:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,DDoSProtection:a,InvalidOrder:o,InsufficientFunds:c}=i("74b0"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcalpha",name:"BTC-Alpha",countries:["US"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!1,fetchTrades:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42625213-dabaa5da-85cf-11e8-8f99-aa8f8f7699f0.jpg",api:"https://btc-alpha.com/api",www:"https://btc-alpha.com",doc:"https://btc-alpha.github.io/api-docs",fees:"https://btc-alpha.com/fees/",referral:"https://btc-alpha.com/?r=123788"},api:{public:{get:["currencies/","pairs/","orderbook/{pair_name}/","exchanges/","charts/{pair}/{type}/chart/"]},private:{get:["wallets/","orders/own/","order/{id}/","exchanges/own/","deposits/","withdraws/"],post:["order/","order-cancel/"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.00135,LTC:.0035,XMR:.018,ZEC:.002,ETH:.01,ETC:.01,SIB:1.5,CCRB:4,PZM:.05,ITI:.05,DCY:5,R:5,ATB:.05,BRIA:.05,KZC:.05,HWC:1,SPA:1,SMS:.001,REC:.01,SUP:1,BQ:100,GDS:.1,EVN:300,TRKC:.01,UNI:1,STN:1,BCH:void 0,QBIC:.5}}},commonCurrencies:{CBC:"Cashbery"},exceptions:{exact:{},broad:{"Out of balance":c}}})}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name"),n=this.safeString(e,"currency1"),a=this.safeString(e,"currency2"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),h=o+"/"+c,u=this.safeString(e,"price_precision"),l=this.parsePrecision(u),f={amount:8,price:parseInt(u)},p=this.safeString(e,"minimum_order_size");i.push({id:s,symbol:h,base:o,quote:c,active:!0,precision:f,limits:{amount:{min:this.parseNumber(p),max:this.safeNumber(e,"maximum_order_size")},price:{min:this.parseNumber(l),max:void 0},cost:{min:this.parseNumber(d.stringMul(l,p)),max:void 0}},info:e,baseId:void 0,quoteId:void 0})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair_name:this.marketId(e)};t&&(r["limit_sell"]=t,r["limit_buy"]=t);const s=await this.publicGetOrderbookPairName(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buy","sell","price","amount")}parseBidsAsks(e,t=0,i=1){const r=[];for(let s=0;s<e.length;s++){const n=e[s];n&&r.push(this.parseBidAsk(n,t,i))}return r}parseTrade(e,t){let i=void 0;void 0===t&&(t=this.safeValue(this.markets_by_id,e["pair"])),void 0!==t&&(i=t["symbol"]);const r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"price"),n=this.safeString(e,"amount"),a=this.parseNumber(s),o=this.parseNumber(n),c=this.parseNumber(d.stringMul(s,n)),h=this.safeString2(e,"id","tid"),u=this.safeString2(e,"my_side","side"),l=this.safeString(e,"o_id");return{id:h,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:l,type:"limit",side:u,takerOrMaker:void 0,price:a,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["pair"]=s["id"]),void 0!==i&&(n["limit"]=i);const a=await this.publicGetExchanges(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={pair:n["id"],type:this.timeframes[t]};void 0!==r&&(a["limit"]=r),void 0!==i&&(a["since"]=parseInt(i/1e3));const o=await this.publicGetChartsPairTypeChart(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),n=this.safeCurrencyCode(s),a=this.account();a["used"]=this.safeString(e,"reserve"),a["total"]=this.safeString(e,"balance"),i[n]=a}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={1:"open",2:"canceled",3:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){let i=void 0;void 0===t&&(t=this.safeValue(this.markets_by_id,e["pair"])),void 0!==t&&(i=t["symbol"]);const r=this.safeTimestamp(e,"date"),s=this.safeNumber(e,"price"),n=this.safeNumber(e,"amount"),a=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString2(e,"oid","id");let c=this.safeValue(e,"trades",[]);c=this.parseTrades(c,t);const d=this.safeString2(e,"my_side","type");let h=void 0;const u=c.length;if(u>0){h=0;for(let e=0;e<u;e++)h=this.sum(h,c[e]["amount"])}let l=void 0;return void 0!==n&&n>0&&void 0!==h&&(l=Math.max(0,n-h)),{id:o,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,status:a,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:d,price:s,stopPrice:void 0,cost:void 0,amount:n,filled:h,remaining:l,trades:c,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),c={pair:a["id"],type:i,amount:r,price:this.priceToPrecision(e,s)},d=await this.privatePostOrder(this.extend(c,n));if(!d["success"])throw new o(this.id+" "+this.json(d));const h=this.parseOrder(d,a);return r=h["amount"]>0?h["amount"]:r,this.extend(h,{amount:r})}async cancelOrder(e,t,i={}){const r={order:e},s=await this.privatePostOrderCancel(this.extend(r,i));return s}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["pair"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetOrdersOwn(this.extend(s,r));return this.parseOrders(a,n,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={status:"1"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"3"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==e){const t=this.market(e);s["pair"]=t["id"]}void 0!==i&&(s["limit"]=i);const n=await this.privateGetExchangesOwn(this.extend(s,r));return this.parseTrades(n,void 0,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){const a=this.urlencode(this.keysort(this.omit(r,this.extractParams(e))));let o=this.urls["api"]+"/";if("charts/{pair}/{type}/chart/"!==e&&(o+="v1/"),o+=this.implodeParams(e,r),s={Accept:"application/json"},"public"===t)a.length&&(o+="?"+a);else{this.checkRequiredCredentials();let e=this.apiKey;"POST"===i?(s["Content-Type"]="application/x-www-form-urlencoded",n=a,e+=n):a.length&&(o+="?"+a),s["X-KEY"]=this.apiKey,s["X-SIGN"]=this.hmac(this.encode(e),this.encode(this.secret)),s["X-NONCE"]=this.nonce().toString()}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,o,c,d,h,u){if(void 0===d)return;const l=this.safeString(d,"error"),f=this.id+" "+c;if(void 0!==l&&(this.throwExactlyMatchedException(this.exceptions["exact"],l,f),this.throwBroadlyMatchedException(this.exceptions["broad"],l,f)),401===e||403===e)throw new n(f);if(429===e)throw new a(f);if(!(e<400))throw new s(f)}}},a236:function(e,t,i){"use strict";var r=i("ade3"),s=i("b85c"),n=(i("ac1f"),i("1276"),i("a15b"),i("2b0e"));t["a"]=n["a"].extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses:function(){var e=[],t="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)e.push("rounded-0");else if("string"===typeof t){var i,n=t.split(" "),a=Object(s["a"])(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;e.push("rounded-".concat(o))}}catch(c){a.e(c)}finally{a.f()}}else t&&e.push("rounded");return e.length>0?Object(r["a"])({},e.join(" "),!0):{}}}})},a293:function(e,t,i){"use strict";var r=i("53ca"),s=i("dd89");function n(){return!0}function a(e,t,i){if(!e||!1===o(e,i))return!1;var n=Object(s["a"])(t);if(n instanceof ShadowRoot&&n.host===e.target)return!1;var a=("object"===Object(r["a"])(i.value)&&i.value.include||function(){return[]})();return a.push(t),!a.some((function(t){return t.contains(e.target)}))}function o(e,t){var i="object"===Object(r["a"])(t.value)&&t.value.closeConditional||n;return i(e)}function c(e,t,i){var r="function"===typeof i.value?i.value:i.value.handler;t._clickOutside.lastMousedownWasOutside&&a(e,t,i)&&setTimeout((function(){o(e,i)&&r&&r(e)}),0)}function d(e,t){var i=Object(s["a"])(e);t(document.body),i instanceof ShadowRoot&&t(i)}var h={inserted:function(e,t){var i=function(i){return c(i,e,t)},r=function(i){e._clickOutside.lastMousedownWasOutside=a(i,e,t)};d(e,(function(e){e.addEventListener("click",i,!0),e.addEventListener("mousedown",r,!0)})),e._clickOutside={lastMousedownWasOutside:!0,onClick:i,onMousedown:r}},unbind:function(e){e._clickOutside&&(d(e,(function(t){t&&e._clickOutside&&(t.removeEventListener("click",e._clickOutside.onClick,!0),t.removeEventListener("mousedown",e._clickOutside.onMousedown,!0))})),delete e._clickOutside)}};t["a"]=h},a2bf:function(e,t,i){"use strict";var r=i("e8b5"),s=i("50c4"),n=i("0366"),a=function(e,t,i,o,c,d,h,u){var l,f=c,p=0,m=!!h&&n(h,u,3);while(p<o){if(p in i){if(l=m?m(i[p],p,t):i[p],d>0&&r(l))f=a(e,t,l,s(l.length),f,d-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=l}f++}p++}return f};e.exports=a},a2cd:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},r(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function n(e,t,i,r){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}Object.create;function o(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}Object.create},a3d4:function(e,t,i){"use strict";i.d(t,"Signer",(function(){return b}));var r=i("9ab4"),s=i("a4f4"),n=i("451a"),a=i("ad47"),o=i("8c88"),c=i("91c7"),d=i.n(c),h=i("3ac3"),u=i.n(h),l=i("ab8c"),f=i.n(l),p=i("3ee4"),m=i("5306"),g=i("53a4"),y=i("f29a"),v=i("c260"),b=(i("c2f1"),function(){function e(e){var t,i=this;this._issue=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].ISSUE}))}},this._transfer=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].TRANSFER}))}},this._reissue=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].REISSUE}))}},this._burn=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].BURN}))}},this._lease=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].LEASE}))}},this._exchange=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].EXCHANGE}))}},this._cancelLease=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].CANCEL_LEASE}))}},this._alias=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].ALIAS}))}},this._massTransfer=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].MASS_TRANSFER}))}},this._data=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].DATA}))}},this._sponsorship=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].SPONSORSHIP}))}},this._setScript=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].SET_SCRIPT}))}},this._setAssetScript=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].SET_ASSET_SCRIPT}))}},this._invoke=function(e){return function(t){return i._createPipelineAPI(e,Object(r["a"])(Object(r["a"])({},t),{type:p["TRANSACTION_TYPE"].INVOKE_SCRIPT}))}},this._logger=Object(n["makeConsole"])(Object(n["makeOptions"])(null!==(t=null===e||void 0===e?void 0:e.LOG_LEVEL)&&void 0!==t?t:"production","Signer")),this._handleError=Object(y["a"])(this._logger),this._options=Object(r["a"])(Object(r["a"])({},s["a"]),e||{});var a=Object(m["c"])(this._options),o=a.isValid,c=a.invalidOptions;if(!o){var d=this._handleError(g["a"].SIGNER_OPTIONS,[c]);throw d}var h=function(e){var t=i._handleError(g["a"].NETWORK_BYTE,[{error:e.message,node:i._options.NODE_URL}]);return i._logger.error(t),t};try{this._networkBytePromise=f()(this._options.NODE_URL).catch((function(e){return Promise.reject(h(e))}))}catch(u){throw h(u)}this._logger.info("Signer instance has been successfully created. Options: ",e)}return Object.defineProperty(e.prototype,"_connectPromise",{get:function(){return this.__connectPromise||Promise.reject("Has no provider!")},set:function(e){this.__connectPromise=e},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){return this.currentProvider.on(e,t),this._logger.info('Handler for "'+e+'" has been added.'),this},e.prototype.once=function(e,t){return this.currentProvider.once(e,t),this._logger.info('One-Time handler for "'+e+'" has been added.'),this},e.prototype.off=function(e,t){return this.currentProvider.off(e,t),this._logger.info('Handler for "'+e+'" has been removed.'),this},e.prototype.broadcast=function(e,t){return u()(this._options.NODE_URL,e,t)},e.prototype.getNetworkByte=function(){return this._networkBytePromise},e.prototype.setProvider=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,i,s=this;return Object(r["e"])(this,(function(r){if(t=Object(m["b"])(e),!t.isValid)throw i=this._handleError(g["a"].PROVIDER_INTERFACE,[t.invalidProperties]),i;return this.currentProvider=e,this._logger.info("Provider has been set."),this._connectPromise=this._networkBytePromise.then((function(t){return e.connect({NETWORK_BYTE:t,NODE_URL:s._options.NODE_URL}).then((function(){return s._logger.info("Provider has conneced to node."),e})).catch((function(e){var t=s._handleError(g["a"].PROVIDER_CONNECT,[{error:e.message,node:s._options.NODE_URL}]);return s._logger.error(t),Promise.reject(t)}))})),[2]}))}))},e.prototype.getBalance=function(){var e=this;return Promise.all([Object(a["fetchBalanceDetails"])(this._options.NODE_URL,this._userData.address).then((function(e){return{assetId:"WAVES",assetName:"Waves",decimals:8,amount:String(e.available),isMyAsset:!1,tokens:Number(e.available)*Math.pow(10,8),sponsorship:null,isSmart:!1}})),Object(o["fetchAssetsBalance"])(this._options.NODE_URL,this._userData.address).then((function(t){return t.balances.map((function(t){return{assetId:t.assetId,assetName:t.issueTransaction.name,decimals:t.issueTransaction.decimals,amount:String(t.balance),isMyAsset:t.issueTransaction.sender===e._userData.address,tokens:t.balance*Math.pow(10,t.issueTransaction.decimals),isSmart:!!t.issueTransaction.script,sponsorship:null!=t.sponsorBalance&&t.sponsorBalance>Math.pow(10,8)&&(t.minSponsoredAssetFee||0)<t.balance?t.minSponsoredAssetFee:null}}))}))]).then((function(e){var t=e[0],i=e[1];return Object(r["f"])([t],i)}))},e.prototype.login=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,i;return Object(r["e"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,this.currentProvider.login()];case 1:return e._userData=r.sent(),this._logger.info("Logged in."),[2,this._userData];case 2:if(t=r.sent(),"Error: User rejection!"===t)throw t;throw i=this._handleError(g["a"].PROVIDER_INTERNAL,t.message),i;case 3:return[2]}}))}))},e.prototype.logout=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,i;return Object(r["e"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentProvider.logout()];case 1:return r.sent(),this._userData=void 0,this._logger.info("Logged out."),[3,3];case 2:throw e=r.sent(),t=e.message,i=this._handleError(g["a"].PROVIDER_INTERNAL,t),i;case 3:return[2]}}))}))},e.prototype.signMessage=function(e){return this._connectPromise.then((function(t){return t.signMessage(e)}))},e.prototype.signTypedData=function(e){return this._connectPromise.then((function(t){return t.signTypedData(e)}))},e.prototype.getSponsoredBalances=function(){return this.getBalance().then((function(e){return e.filter((function(e){return!!e.sponsorship}))}))},e.prototype.batch=function(e){var t=this,i=function(){return t._sign(e).then((function(e){return e}))};return{sign:i,broadcast:function(e){return i().then((function(i){return t.broadcast(i,e)}))}}},e.prototype.issue=function(e){return this._issue([])(e)},e.prototype.transfer=function(e){return this._transfer([])(e)},e.prototype.reissue=function(e){return this._reissue([])(e)},e.prototype.burn=function(e){return this._burn([])(e)},e.prototype.lease=function(e){return this._lease([])(e)},e.prototype.exchange=function(e){return this._exchange([])(e)},e.prototype.cancelLease=function(e){return this._cancelLease([])(e)},e.prototype.alias=function(e){return this._alias([])(e)},e.prototype.massTransfer=function(e){return this._massTransfer([])(e)},e.prototype.data=function(e){return this._data([])(e)},e.prototype.sponsorship=function(e){return this._sponsorship([])(e)},e.prototype.setScript=function(e){return this._setScript([])(e)},e.prototype.setAssetScript=function(e){return this._setAssetScript([])(e)},e.prototype.invoke=function(e){return this._invoke([])(e)},e.prototype.waitTxConfirm=function(e,t){return d()(this._options.NODE_URL,e,{confirmations:t})},e.prototype._createPipelineAPI=function(e,t){var i=this,s=this,n=e.length?Object(r["f"])(e,[t]):[t],a=Array.isArray(n)?n:[n];return Object(r["a"])(Object(r["a"])({},{issue:this._issue(a),transfer:this._transfer(a),reissue:this._reissue(a),burn:this._burn(a),lease:this._lease(a),exchange:this._exchange(a),cancelLease:this._cancelLease(a),alias:this._alias(a),massTransfer:this._massTransfer(a),data:this._data(a),sponsorship:this._sponsorship(a),setScript:this._setScript(a),setAssetScript:this._setAssetScript(a),invoke:this._invoke(a)}),{sign:function(){return i._sign(n)},broadcast:function(e){return this.sign().then((function(t){return s.broadcast(t,e)}))}})},e.prototype._validate=function(e){var t=Array.isArray(e)?e:[e],i=function(e){return m["a"][e.type](e)},s=function(e){return Object.keys(m["a"]).includes(String(e))},n=t.filter((function(e){var t=e.type;return!s(t)})),a=t.filter((function(e){var t=e.type;return s(t)})),o=a.map(i).filter((function(e){var t=e.isValid;return!t}));return 0===o.length&&0===n.length?{isValid:!0,errors:[]}:{isValid:!1,errors:Object(r["f"])(o.map((function(e){var t=e.transaction,i=e.method,r=e.invalidFields;return"Validation error for "+i+" transaction: "+JSON.stringify(t)+". Invalid arguments: "+(null===r||void 0===r?void 0:r.join(", "))})),n.map((function(e){return"Validation error for transaction "+JSON.stringify(e)+". Unknown transaction type: "+e.type})))}},e.prototype._sign=function(e){var t=this._validate(e);if(t.isValid)return this._connectPromise.then((function(t){return t.sign(e)}));var i=this._handleError(g["a"].API_ARGUMENTS,[t.errors]);throw i},Object(r["c"])([v["c"]],e.prototype,"on",null),Object(r["c"])([v["c"]],e.prototype,"once",null),Object(r["c"])([v["c"]],e.prototype,"off",null),Object(r["c"])([v["c"],v["b"]],e.prototype,"getBalance",null),Object(r["c"])([v["c"]],e.prototype,"login",null),Object(r["c"])([v["c"]],e.prototype,"logout",null),Object(r["c"])([v["a"]],e.prototype,"_sign",null),e}())},a434:function(e,t,i){"use strict";var r=i("23e7"),s=i("23cb"),n=i("a691"),a=i("50c4"),o=i("7b0b"),c=i("65f0"),d=i("8418"),h=i("1dde"),u=h("splice"),l=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var i,r,h,u,g,y,v=o(this),b=a(v.length),w=s(e,b),S=arguments.length;if(0===S?i=r=0:1===S?(i=0,r=b-w):(i=S-2,r=f(l(n(t),0),b-w)),b+i-r>p)throw TypeError(m);for(h=c(v,r),u=0;u<r;u++)g=w+u,g in v&&d(h,u,v[g]);if(h.length=r,i<r){for(u=w;u<b-r;u++)g=u+r,y=u+i,g in v?v[y]=v[g]:delete v[y];for(u=b;u>b-r+i;u--)delete v[u-1]}else if(i>r)for(u=b-r;u>w;u--)g=u+r-1,y=u+i-1,g in v?v[y]=v[g]:delete v[y];for(u=0;u<i;u++)v[u+w]=arguments[u+2];return v.length=b-r+i,h}})},a438:function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},a452:function(e,t,i){"use strict";var r=i("ade3"),s=i("2b0e");function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return s["a"].extend({name:"proxyable",model:{prop:e,event:t},props:Object(r["a"])({},e,{required:!1}),data:function(){return{internalLazyValue:this[e]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(e){e!==this.internalLazyValue&&(this.internalLazyValue=e,this.$emit(t,e))}}},watch:Object(r["a"])({},e,(function(e){this.internalLazyValue=e}))})}var a=n();t["a"]=a},a463:function(e,t,i){"use strict";const r=i("90db"),s=i("5524"),n=i("113d"),a=i("74b0"),o="1.52.89";r.ccxtVersion=o;const c={aax:i("19e9"),aofex:i("9782"),ascendex:i("6b3f"),bequant:i("324d"),bibox:i("51d3"),bigone:i("d8be"),binance:i("4a34"),binancecoinm:i("591d"),binanceus:i("27b6"),binanceusdm:i("7727"),bit2c:i("f803"),bitbank:i("35d5"),bitbay:i("13ab"),bitbns:i("2e05"),bitcoincom:i("123c"),bitfinex:i("56af"),bitfinex2:i("1237"),bitflyer:i("b9ff"),bitforex:i("3b1e"),bitget:i("5e97"),bithumb:i("4fed"),bitmart:i("0eb2"),bitmex:i("e49b"),bitpanda:i("2a83"),bitso:i("fd8c"),bitstamp:i("98b3"),bitstamp1:i("5f92"),bittrex:i("5657"),bitvavo:i("8c2d"),bitz:i("de89"),bl3p:i("ccf3"),braziliex:i("a620"),btcalpha:i("a228"),btcbox:i("b9df"),btcmarkets:i("531c"),btctradeua:i("b761"),btcturk:i("8b98"),buda:i("6624"),bw:i("6dd3"),bybit:i("0fc2"),cdax:i("56d3"),cex:i("f832"),coinbase:i("20e7"),coinbaseprime:i("f331"),coinbasepro:i("6299"),coincheck:i("ffca"),coinegg:i("8940"),coinex:i("3b44"),coinfalcon:i("7fd8"),coinfloor:i("2410"),coinmarketcap:i("42cd"),coinmate:i("1f96"),coinone:i("7581"),coinspot:i("63de"),crex24:i("6901"),currencycom:i("3570"),delta:i("bee0"),deribit:i("33ab"),digifinex:i("c11f"),eqonex:i("57a2"),equos:i("67c2"),exmo:i("7d3e"),exx:i("8ae5"),flowbtc:i("926c"),ftx:i("be02"),gateio:i("3924"),gemini:i("485e"),gopax:i("4040"),hbtc:i("edc5"),hitbtc:i("01b4"),hollaex:i("63f9"),huobijp:i("a996"),huobipro:i("0406"),idex:i("d312"),independentreserve:i("b64c"),indodax:i("b109"),itbit:i("f59e"),kraken:i("276e"),kucoin:i("f6e8"),kuna:i("45d6"),latoken:i("d6be"),lbank:i("98d1"),liquid:i("47ee"),luno:i("566f"),lykke:i("ef50"),mercado:i("57ba"),mixcoins:i("d225"),ndax:i("014f"),novadax:i("a569"),oceanex:i("3ab5"),okcoin:i("1087"),okex:i("2aa1"),okex5:i("7ce0"),paymium:i("bd90"),phemex:i("1ee7"),poloniex:i("a5ef"),probit:i("dbd3"),qtrade:i("1f5d"),ripio:i("8961"),stex:i("c9bc"),therock:i("870b"),tidebit:i("c9a9"),tidex:i("e79f"),timex:i("2021"),upbit:i("5d0c"),vcc:i("7140"),wavesexchange:i("0a57"),whitebit:i("01ab"),xena:i("2c9e"),yobit:i("b8fe"),zaif:i("b43e"),zb:i("c6a7")};e.exports=Object.assign({version:o,Exchange:r,Precise:s,exchanges:Object.keys(c)},c,n,a)},a4b3:function(e,t,i){"use strict";t.__esModule=!0;var r=Object.create(null),s=function(e){var t,i=new Float64Array(16);if(e)for(t=0;t<e.length;t++)i[t]=e[t];return i},n=(new Uint8Array(16),new Uint8Array(32));n[0]=9;var a=s(),o=s([1]),c=s([56129,1]),d=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,i,r){e[t]=i>>24&255,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function m(e,t,i,r,s){var n,a=0;for(n=0;n<s;n++)a|=e[t+n]^i[r+n];return(1&a-1>>>8)-1}function g(e,t,i,r){return m(e,t,i,r,32)}function y(e,t){for(var i=0;i<16;i++)e[i]=0|t[i]}function v(e){var t,i,r=1;for(t=0;t<16;t++)i=e[t]+r+65535,r=Math.floor(i/65536),e[t]=i-65536*r;e[0]+=r-1+37*(r-1)}function b(e,t,i){for(var r,s=~(i-1),n=0;n<16;n++)r=s&(e[n]^t[n]),e[n]^=r,t[n]^=r}function w(e,t){var i,r,n,a=s(),o=s();for(i=0;i<16;i++)o[i]=t[i];for(v(o),v(o),v(o),r=0;r<2;r++){for(a[0]=o[0]-65517,i=1;i<15;i++)a[i]=o[i]-65535-(a[i-1]>>16&1),a[i-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),n=a[15]>>16&1,a[14]&=65535,b(o,a,1-n)}for(i=0;i<16;i++)e[2*i]=255&o[i],e[2*i+1]=o[i]>>8}function S(e,t){var i=new Uint8Array(32),r=new Uint8Array(32);return w(i,e),w(r,t),g(i,0,r,0)}function k(e){var t=new Uint8Array(32);return w(t,e),1&t[0]}function _(e,t){for(var i=0;i<16;i++)e[i]=t[2*i]+(t[2*i+1]<<8);e[15]&=32767}function O(e,t,i){for(var r=0;r<16;r++)e[r]=t[r]+i[r]}function T(e,t,i){for(var r=0;r<16;r++)e[r]=t[r]-i[r]}function C(e,t,i){var r,s,n=0,a=0,o=0,c=0,d=0,h=0,u=0,l=0,f=0,p=0,m=0,g=0,y=0,v=0,b=0,w=0,S=0,k=0,_=0,O=0,T=0,C=0,I=0,x=0,E=0,A=0,N=0,M=0,P=0,B=0,R=0,D=i[0],L=i[1],V=i[2],j=i[3],q=i[4],U=i[5],G=i[6],F=i[7],H=i[8],z=i[9],K=i[10],W=i[11],$=i[12],Y=i[13],X=i[14],Q=i[15];r=t[0],n+=r*D,a+=r*L,o+=r*V,c+=r*j,d+=r*q,h+=r*U,u+=r*G,l+=r*F,f+=r*H,p+=r*z,m+=r*K,g+=r*W,y+=r*$,v+=r*Y,b+=r*X,w+=r*Q,r=t[1],a+=r*D,o+=r*L,c+=r*V,d+=r*j,h+=r*q,u+=r*U,l+=r*G,f+=r*F,p+=r*H,m+=r*z,g+=r*K,y+=r*W,v+=r*$,b+=r*Y,w+=r*X,S+=r*Q,r=t[2],o+=r*D,c+=r*L,d+=r*V,h+=r*j,u+=r*q,l+=r*U,f+=r*G,p+=r*F,m+=r*H,g+=r*z,y+=r*K,v+=r*W,b+=r*$,w+=r*Y,S+=r*X,k+=r*Q,r=t[3],c+=r*D,d+=r*L,h+=r*V,u+=r*j,l+=r*q,f+=r*U,p+=r*G,m+=r*F,g+=r*H,y+=r*z,v+=r*K,b+=r*W,w+=r*$,S+=r*Y,k+=r*X,_+=r*Q,r=t[4],d+=r*D,h+=r*L,u+=r*V,l+=r*j,f+=r*q,p+=r*U,m+=r*G,g+=r*F,y+=r*H,v+=r*z,b+=r*K,w+=r*W,S+=r*$,k+=r*Y,_+=r*X,O+=r*Q,r=t[5],h+=r*D,u+=r*L,l+=r*V,f+=r*j,p+=r*q,m+=r*U,g+=r*G,y+=r*F,v+=r*H,b+=r*z,w+=r*K,S+=r*W,k+=r*$,_+=r*Y,O+=r*X,T+=r*Q,r=t[6],u+=r*D,l+=r*L,f+=r*V,p+=r*j,m+=r*q,g+=r*U,y+=r*G,v+=r*F,b+=r*H,w+=r*z,S+=r*K,k+=r*W,_+=r*$,O+=r*Y,T+=r*X,C+=r*Q,r=t[7],l+=r*D,f+=r*L,p+=r*V,m+=r*j,g+=r*q,y+=r*U,v+=r*G,b+=r*F,w+=r*H,S+=r*z,k+=r*K,_+=r*W,O+=r*$,T+=r*Y,C+=r*X,I+=r*Q,r=t[8],f+=r*D,p+=r*L,m+=r*V,g+=r*j,y+=r*q,v+=r*U,b+=r*G,w+=r*F,S+=r*H,k+=r*z,_+=r*K,O+=r*W,T+=r*$,C+=r*Y,I+=r*X,x+=r*Q,r=t[9],p+=r*D,m+=r*L,g+=r*V,y+=r*j,v+=r*q,b+=r*U,w+=r*G,S+=r*F,k+=r*H,_+=r*z,O+=r*K,T+=r*W,C+=r*$,I+=r*Y,x+=r*X,E+=r*Q,r=t[10],m+=r*D,g+=r*L,y+=r*V,v+=r*j,b+=r*q,w+=r*U,S+=r*G,k+=r*F,_+=r*H,O+=r*z,T+=r*K,C+=r*W,I+=r*$,x+=r*Y,E+=r*X,A+=r*Q,r=t[11],g+=r*D,y+=r*L,v+=r*V,b+=r*j,w+=r*q,S+=r*U,k+=r*G,_+=r*F,O+=r*H,T+=r*z,C+=r*K,I+=r*W,x+=r*$,E+=r*Y,A+=r*X,N+=r*Q,r=t[12],y+=r*D,v+=r*L,b+=r*V,w+=r*j,S+=r*q,k+=r*U,_+=r*G,O+=r*F,T+=r*H,C+=r*z,I+=r*K,x+=r*W,E+=r*$,A+=r*Y,N+=r*X,M+=r*Q,r=t[13],v+=r*D,b+=r*L,w+=r*V,S+=r*j,k+=r*q,_+=r*U,O+=r*G,T+=r*F,C+=r*H,I+=r*z,x+=r*K,E+=r*W,A+=r*$,N+=r*Y,M+=r*X,P+=r*Q,r=t[14],b+=r*D,w+=r*L,S+=r*V,k+=r*j,_+=r*q,O+=r*U,T+=r*G,C+=r*F,I+=r*H,x+=r*z,E+=r*K,A+=r*W,N+=r*$,M+=r*Y,P+=r*X,B+=r*Q,r=t[15],w+=r*D,S+=r*L,k+=r*V,_+=r*j,O+=r*q,T+=r*U,C+=r*G,I+=r*F,x+=r*H,E+=r*z,A+=r*K,N+=r*W,M+=r*$,P+=r*Y,B+=r*X,R+=r*Q,n+=38*S,a+=38*k,o+=38*_,c+=38*O,d+=38*T,h+=38*C,u+=38*I,l+=38*x,f+=38*E,p+=38*A,m+=38*N,g+=38*M,y+=38*P,v+=38*B,b+=38*R,s=1,r=n+s+65535,s=Math.floor(r/65536),n=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,n+=s-1+37*(s-1),s=1,r=n+s+65535,s=Math.floor(r/65536),n=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,n+=s-1+37*(s-1),e[0]=n,e[1]=a,e[2]=o,e[3]=c,e[4]=d,e[5]=h,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=w}function I(e,t){C(e,t,t)}function x(e,t){var i,r=s();for(i=0;i<16;i++)r[i]=t[i];for(i=253;i>=0;i--)I(r,r),2!==i&&4!==i&&C(r,r,t);for(i=0;i<16;i++)e[i]=r[i]}function E(e,t){var i,r=s();for(i=0;i<16;i++)r[i]=t[i];for(i=250;i>=0;i--)I(r,r),1!==i&&C(r,r,t);for(i=0;i<16;i++)e[i]=r[i]}function A(e,t,i){var r,n,a=new Uint8Array(32),o=new Float64Array(80),d=s(),h=s(),u=s(),l=s(),f=s(),p=s();for(n=0;n<31;n++)a[n]=t[n];for(a[31]=127&t[31]|64,a[0]&=248,_(o,i),n=0;n<16;n++)h[n]=o[n],l[n]=d[n]=u[n]=0;for(d[0]=l[0]=1,n=254;n>=0;--n)r=a[n>>>3]>>>(7&n)&1,b(d,h,r),b(u,l,r),O(f,d,u),T(d,d,u),O(u,h,l),T(h,h,l),I(l,f),I(p,d),C(d,u,d),C(u,h,f),O(f,d,u),T(d,d,u),I(h,d),T(u,l,p),C(d,u,c),O(d,d,l),C(u,u,d),C(d,l,p),C(l,h,o),I(h,f),b(d,h,r),b(u,l,r);for(n=0;n<16;n++)o[n+16]=d[n],o[n+32]=u[n],o[n+48]=h[n],o[n+64]=l[n];var m=o.subarray(32),g=o.subarray(16);return x(m,m),C(g,g,m),w(e,g),0}function N(e,t){return A(e,t,n)}var M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(e,t,i,r){var s,n,a,o,c,d,h,u,l,f,p,m,g,y,v,b,w,S,k,_,O,T,C,I,x,E,A=new Int32Array(16),N=new Int32Array(16),P=e[0],B=e[1],R=e[2],D=e[3],L=e[4],V=e[5],j=e[6],q=e[7],U=t[0],G=t[1],F=t[2],H=t[3],z=t[4],K=t[5],W=t[6],$=t[7],Y=0;while(r>=128){for(k=0;k<16;k++)_=8*k+Y,A[k]=i[_+0]<<24|i[_+1]<<16|i[_+2]<<8|i[_+3],N[k]=i[_+4]<<24|i[_+5]<<16|i[_+6]<<8|i[_+7];for(k=0;k<80;k++)if(s=P,n=B,a=R,o=D,c=L,d=V,h=j,u=q,l=U,f=G,p=F,m=H,g=z,y=K,v=W,b=$,O=q,T=$,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=(L>>>14|z<<18)^(L>>>18|z<<14)^(z>>>9|L<<23),T=(z>>>14|L<<18)^(z>>>18|L<<14)^(L>>>9|z<<23),C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,O=L&V^~L&j,T=z&K^~z&W,C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,O=M[2*k],T=M[2*k+1],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,O=A[k%16],T=N[k%16],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,w=65535&x|E<<16,S=65535&C|I<<16,O=w,T=S,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=(P>>>28|U<<4)^(U>>>2|P<<30)^(U>>>7|P<<25),T=(U>>>28|P<<4)^(P>>>2|U<<30)^(P>>>7|U<<25),C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,O=P&B^P&R^B&R,T=U&G^U&F^G&F,C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,u=65535&x|E<<16,b=65535&C|I<<16,O=o,T=m,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=w,T=S,C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,o=65535&x|E<<16,m=65535&C|I<<16,B=s,R=n,D=a,L=o,V=c,j=d,q=h,P=u,G=l,F=f,H=p,z=m,K=g,W=y,$=v,U=b,k%16===15)for(_=0;_<16;_++)O=A[_],T=N[_],C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=A[(_+9)%16],T=N[(_+9)%16],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,w=A[(_+1)%16],S=N[(_+1)%16],O=(w>>>1|S<<31)^(w>>>8|S<<24)^w>>>7,T=(S>>>1|w<<31)^(S>>>8|w<<24)^(S>>>7|w<<25),C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,w=A[(_+14)%16],S=N[(_+14)%16],O=(w>>>19|S<<13)^(S>>>29|w<<3)^w>>>6,T=(S>>>19|w<<13)^(w>>>29|S<<3)^(S>>>6|w<<26),C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,A[_]=65535&x|E<<16,N[_]=65535&C|I<<16;O=P,T=U,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[0],T=t[0],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[0]=P=65535&x|E<<16,t[0]=U=65535&C|I<<16,O=B,T=G,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[1],T=t[1],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[1]=B=65535&x|E<<16,t[1]=G=65535&C|I<<16,O=R,T=F,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[2],T=t[2],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[2]=R=65535&x|E<<16,t[2]=F=65535&C|I<<16,O=D,T=H,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[3],T=t[3],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[3]=D=65535&x|E<<16,t[3]=H=65535&C|I<<16,O=L,T=z,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[4],T=t[4],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[4]=L=65535&x|E<<16,t[4]=z=65535&C|I<<16,O=V,T=K,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[5],T=t[5],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[5]=V=65535&x|E<<16,t[5]=K=65535&C|I<<16,O=j,T=W,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[6],T=t[6],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[6]=j=65535&x|E<<16,t[6]=W=65535&C|I<<16,O=q,T=$,C=65535&T,I=T>>>16,x=65535&O,E=O>>>16,O=e[7],T=t[7],C+=65535&T,I+=T>>>16,x+=65535&O,E+=O>>>16,I+=C>>>16,x+=I>>>16,E+=x>>>16,e[7]=q=65535&x|E<<16,t[7]=$=65535&C|I<<16,Y+=128,r-=128}return r}function B(e,t,i){var r,s=new Int32Array(8),n=new Int32Array(8),a=new Uint8Array(256),o=i;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,n[0]=4089235720,n[1]=2227873595,n[2]=4271175723,n[3]=1595750129,n[4]=2917565137,n[5]=725511199,n[6]=4215389547,n[7]=327033209,P(s,n,t,i),i%=128,r=0;r<i;r++)a[r]=t[o-i+r];for(a[i]=128,i=256-128*(i<112?1:0),a[i-9]=0,p(a,i-8,o/536870912|0,o<<3),P(s,n,a,i),r=0;r<8;r++)p(e,8*r,s[r],n[r]);return 0}function R(e,t){var i=s(),r=s(),n=s(),a=s(),o=s(),c=s(),d=s(),u=s(),l=s();T(i,e[1],e[0]),T(l,t[1],t[0]),C(i,i,l),O(r,e[0],e[1]),O(l,t[0],t[1]),C(r,r,l),C(n,e[3],t[3]),C(n,n,h),C(a,e[2],t[2]),O(a,a,a),T(o,r,i),T(c,a,n),O(d,a,n),O(u,r,i),C(e[0],o,c),C(e[1],u,d),C(e[2],d,c),C(e[3],o,u)}function D(e,t,i){for(var r=0;r<4;r++)b(e[r],t[r],i)}function L(e,t){var i=s(),r=s(),n=s();x(n,t[2]),C(i,t[0],n),C(r,t[1],n),w(e,r),e[31]^=k(i)<<7}function V(e,t,i){var r,s;for(y(e[0],a),y(e[1],o),y(e[2],o),y(e[3],a),s=255;s>=0;--s)r=i[s/8|0]>>(7&s)&1,D(e,t,r),R(t,e),R(e,e),D(e,t,r)}function j(e,t){var i=[s(),s(),s(),s()];y(i[0],u),y(i[1],l),y(i[2],o),C(i[3],u,l),V(e,i,t)}var q=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function U(e,t){var i,r,s,n;for(r=63;r>=32;--r){for(i=0,s=r-32,n=r-12;s<n;++s)t[s]+=i-16*t[r]*q[s-(r-32)],i=t[s]+128>>8,t[s]-=256*i;t[s]+=i,t[r]=0}for(i=0,s=0;s<32;s++)t[s]+=i-(t[31]>>4)*q[s],i=t[s]>>8,t[s]&=255;for(s=0;s<32;s++)t[s]-=i*q[s];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function G(e){var t,i=new Float64Array(64);for(t=0;t<64;t++)i[t]=e[t];for(t=0;t<64;t++)e[t]=0;U(e,i)}function F(e,t,i,r){new Uint8Array(64);var n,a,o=new Uint8Array(64),c=new Uint8Array(64),d=new Float64Array(64),h=[s(),s(),s(),s()];for(n=0;n<i;n++)e[64+n]=t[n];for(n=0;n<32;n++)e[32+n]=r[n];for(B(c,e.subarray(32),i+32),G(c),j(h,c),L(e,h),n=0;n<32;n++)e[n+32]=r[32+n];for(B(o,e,i+64),G(o),n=0;n<64;n++)d[n]=0;for(n=0;n<32;n++)d[n]=c[n];for(n=0;n<32;n++)for(a=0;a<32;a++)d[n+a]+=o[n]*r[a];return U(e.subarray(32),d),i+64}function H(e,t,i,r,n){new Uint8Array(64);var a,o,c=new Uint8Array(64),d=new Uint8Array(64),h=new Float64Array(64),u=[s(),s(),s(),s()];for(e[0]=254,a=1;a<32;a++)e[a]=255;for(a=0;a<32;a++)e[32+a]=r[a];for(a=0;a<i;a++)e[64+a]=t[a];for(a=0;a<64;a++)e[i+64+a]=n[a];for(B(d,e,i+128),G(d),j(u,d),L(e,u),a=0;a<32;a++)e[a+32]=r[32+a];for(B(c,e,i+64),G(c),a=0;a<64;a++)e[i+64+a]=0;for(a=0;a<64;a++)h[a]=0;for(a=0;a<32;a++)h[a]=d[a];for(a=0;a<32;a++)for(o=0;o<32;o++)h[a+o]+=c[a]*r[o];return U(e.subarray(32,i+64),h),i+64}function z(e,t,i,r,n){for(var a=new Uint8Array(64),o=[s(),s(),s(),s()],c=0;c<32;c++)a[c]=r[c];a[0]&=248,a[31]&=127,a[31]|=64,j(o,a),L(a.subarray(32),o);var d,h=128&a[63];return d=n?H(e,t,i,a,n):F(e,t,i,a),e[63]|=h,d}function K(e,t){var i=s(),r=s(),n=s(),c=s(),h=s(),u=s(),l=s();return y(e[2],o),_(e[1],t),I(n,e[1]),C(c,n,d),T(n,n,e[2]),O(c,e[2],c),I(h,c),I(u,h),C(l,u,h),C(i,l,n),C(i,i,c),E(i,i),C(i,i,n),C(i,i,c),C(i,i,c),C(e[0],i,c),I(r,e[0]),C(r,r,c),S(r,n)&&C(e[0],e[0],f),I(r,e[0]),C(r,r,c),S(r,n)?-1:(k(e[0])===t[31]>>7&&T(e[0],a,e[0]),C(e[3],e[0],e[1]),0)}function W(e,t,i,r){var n,a,o=new Uint8Array(32),c=new Uint8Array(64),d=[s(),s(),s(),s()],h=[s(),s(),s(),s()];if(a=-1,i<64)return-1;if(K(h,r))return-1;for(n=0;n<i;n++)e[n]=t[n];for(n=0;n<32;n++)e[n+32]=r[n];if(B(c,e,i),G(c),V(d,h,c),j(h,t.subarray(32)),R(d,h),L(o,d),i-=64,g(t,0,o,0)){for(n=0;n<i;n++)e[n]=0;return-1}for(n=0;n<i;n++)e[n]=t[n+64];return a=i,a}function $(e){var t=new Uint8Array(32),i=s(),r=s(),n=s();return _(i,e),O(r,i,o),T(n,i,o),x(r,r),C(r,r,n),w(t,r),t}function Y(e,t,i,r){var s=$(r);return s[31]|=128&t[63],t[63]&=127,W(e,t,i,s)}function X(){for(var e,t,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}r.sharedKey=function(e,t){if(X(t,e),32!==t.length)throw new Error("wrong public key length");if(32!==e.length)throw new Error("wrong secret key length");var i=new Uint8Array(32);return A(i,e,t),i},r.signMessage=function(e,t,i){if(X(t,e),32!==e.length)throw new Error("wrong secret key length");if(i){if(X(i),64!==i.length)throw new Error("wrong random data length");var r=new Uint8Array(128+t.length);return z(r,t,t.length,e,i),new Uint8Array(r.subarray(0,64+t.length))}var s=new Uint8Array(64+t.length);return z(s,t,t.length,e),s},r.openMessage=function(e,t){if(X(t,e),32!==e.length)throw new Error("wrong public key length");var i=new Uint8Array(t.length),r=Y(i,t,t.length,e);if(r<0)return null;for(var s=new Uint8Array(r),n=0;n<s.length;n++)s[n]=i[n];return s},r.sign=function(e,t,i){if(X(e,t),32!==e.length)throw new Error("wrong secret key length");if(i&&(X(i),64!==i.length))throw new Error("wrong random data length");var r=new Uint8Array((i?128:64)+t.length);z(r,t,t.length,e,i);for(var s=new Uint8Array(64),n=0;n<s.length;n++)s[n]=r[n];return s},r.verify=function(e,t,i){if(X(t,i,e),64!==i.length)throw new Error("wrong signature length");if(32!==e.length)throw new Error("wrong public key length");var r,s=new Uint8Array(64+t.length),n=new Uint8Array(64+t.length);for(r=0;r<64;r++)s[r]=i[r];for(r=0;r<t.length;r++)s[r+64]=t[r];return Y(n,s,s.length,e)>=0},r.generateKeyPair=function(e){if(X(e),32!==e.length)throw new Error("wrong seed length");for(var t=new Uint8Array(32),i=new Uint8Array(32),r=0;r<32;r++)t[r]=e[r];return N(i,t),t[0]&=248,t[31]&=127,t[31]|=64,i[31]&=127,{public:i,private:t}},t["default"]=r},a4b4:function(e,t,i){var r=i("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,i){"use strict";var r=i("23e7"),s=i("da84"),n=i("d066"),a=i("c430"),o=i("83ab"),c=i("4930"),d=i("fdbf"),h=i("d039"),u=i("5135"),l=i("e8b5"),f=i("861d"),p=i("825a"),m=i("7b0b"),g=i("fc6a"),y=i("c04e"),v=i("5c6c"),b=i("7c73"),w=i("df75"),S=i("241c"),k=i("057f"),_=i("7418"),O=i("06cf"),T=i("9bf2"),C=i("d1e7"),I=i("9112"),x=i("6eeb"),E=i("5692"),A=i("f772"),N=i("d012"),M=i("90e3"),P=i("b622"),B=i("e538"),R=i("746f"),D=i("d44e"),L=i("69f3"),V=i("b727").forEach,j=A("hidden"),q="Symbol",U="prototype",G=P("toPrimitive"),F=L.set,H=L.getterFor(q),z=Object[U],K=s.Symbol,W=n("JSON","stringify"),$=O.f,Y=T.f,X=k.f,Q=C.f,Z=E("symbols"),J=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ie=E("wks"),re=s.QObject,se=!re||!re[U]||!re[U].findChild,ne=o&&h((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,i){var r=$(z,t);r&&delete z[t],Y(e,t,i),r&&e!==z&&Y(z,t,r)}:Y,ae=function(e,t){var i=Z[e]=b(K[U]);return F(i,{type:q,tag:e,description:t}),o||(i.description=t),i},oe=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ce=function(e,t,i){e===z&&ce(J,t,i),p(e);var r=y(t,!0);return p(i),u(Z,r)?(i.enumerable?(u(e,j)&&e[j][r]&&(e[j][r]=!1),i=b(i,{enumerable:v(0,!1)})):(u(e,j)||Y(e,j,v(1,{})),e[j][r]=!0),ne(e,r,i)):Y(e,r,i)},de=function(e,t){p(e);var i=g(t),r=w(i).concat(pe(i));return V(r,(function(t){o&&!ue.call(i,t)||ce(e,t,i[t])})),e},he=function(e,t){return void 0===t?b(e):de(b(e),t)},ue=function(e){var t=y(e,!0),i=Q.call(this,t);return!(this===z&&u(Z,t)&&!u(J,t))&&(!(i||!u(this,t)||!u(Z,t)||u(this,j)&&this[j][t])||i)},le=function(e,t){var i=g(e),r=y(t,!0);if(i!==z||!u(Z,r)||u(J,r)){var s=$(i,r);return!s||!u(Z,r)||u(i,j)&&i[j][r]||(s.enumerable=!0),s}},fe=function(e){var t=X(g(e)),i=[];return V(t,(function(e){u(Z,e)||u(N,e)||i.push(e)})),i},pe=function(e){var t=e===z,i=X(t?J:g(e)),r=[];return V(i,(function(e){!u(Z,e)||t&&!u(z,e)||r.push(Z[e])})),r};if(c||(K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),i=function(e){this===z&&i.call(J,e),u(this,j)&&u(this[j],t)&&(this[j][t]=!1),ne(this,t,v(1,e))};return o&&se&&ne(z,t,{configurable:!0,set:i}),ae(t,e)},x(K[U],"toString",(function(){return H(this).tag})),x(K,"withoutSetter",(function(e){return ae(M(e),e)})),C.f=ue,T.f=ce,O.f=le,S.f=k.f=fe,_.f=pe,B.f=function(e){return ae(P(e),e)},o&&(Y(K[U],"description",{configurable:!0,get:function(){return H(this).description}}),a||x(z,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),V(w(ie),(function(e){R(e)})),r({target:q,stat:!0,forced:!c},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var i=K(t);return ee[t]=i,te[i]=t,i},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){se=!0},useSimple:function(){se=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!o},{create:he,defineProperty:ce,defineProperties:de,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:h((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(m(e))}}),W){var me=!c||h((function(){var e=K();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,i){var r,s=[e],n=1;while(arguments.length>n)s.push(arguments[n++]);if(r=t,(f(t)||void 0!==e)&&!oe(e))return l(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!oe(t))return t}),s[1]=t,W.apply(null,s)}})}K[U][G]||I(K[U],G,K[U].valueOf),D(K,q),N[j]=!0},a4f4:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r={NODE_URL:"https://nodes.wavesplatform.com",LOG_LEVEL:"production"};Math.pow(10,8)},a523:function(e,t,i){"use strict";i("4de4"),i("b64b"),i("2ca0"),i("99af"),i("20f6"),i("4b85"),i("498a"),i("a15b");var r=i("2b0e");function s(e){return r["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,i){var r=i.props,s=i.data,n=i.children;s.staticClass="".concat(e," ").concat(s.staticClass||"").trim();var a=s.attrs;if(a){s.attrs={};var o=Object.keys(a).filter((function(e){if("slot"===e)return!1;var t=a[e];return e.startsWith("data-")?(s.attrs[e]=t,!1):t||"string"===typeof t}));o.length&&(s.staticClass+=" ".concat(o.join(" ")))}return r.id&&(s.domProps=s.domProps||{},s.domProps.id=r.id),t(r.tag,s,n)}})}var n=i("d9f7");t["a"]=s("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var i,r=t.props,s=t.data,a=t.children,o=s.attrs;return o&&(s.attrs={},i=Object.keys(o).filter((function(e){if("slot"===e)return!1;var t=o[e];return e.startsWith("data-")?(s.attrs[e]=t,!1):t||"string"===typeof t}))),r.id&&(s.domProps=s.domProps||{},s.domProps.id=r.id),e(r.tag,Object(n["a"])(s,{staticClass:"container",class:Array({"container--fluid":r.fluid}).concat(i||[])}),a)}})},a569:function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,PermissionDenied:a,BadRequest:o,CancelPending:c,OrderNotFound:d,InsufficientFunds:h,RateLimitExceeded:u,InvalidOrder:l,AccountSuspended:f,BadSymbol:p,OnMaintenance:m}=i("74b0"),{TRUNCATE:g}=i("5ea4"),y=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"novadax",name:"NovaDAX",countries:["BR"],rateLimit:50,version:"v1",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"ONE_MIN","5m":"FIVE_MIN","15m":"FIFTEEN_MIN","30m":"HALF_HOU","1h":"ONE_HOU","1d":"ONE_DAY","1w":"ONE_WEE","1M":"ONE_MON"},urls:{logo:"https://user-images.githubusercontent.com/1294454/92337550-2b085500-f0b3-11ea-98e7-5794fb07dd3b.jpg",api:{public:"https://api.novadax.com",private:"https://api.novadax.com"},www:"https://www.novadax.com.br",doc:["https://doc.novadax.com/pt-BR/"],fees:"https://www.novadax.com.br/fees-and-limits",referral:"https://www.novadax.com.br/?s=ccxt"},api:{public:{get:["common/symbol","common/symbols","common/timestamp","market/tickers","market/ticker","market/depth","market/trades","market/kline/history"]},private:{get:["orders/get","orders/list","orders/fill","orders/fills","account/getBalance","account/subs","account/subs/balance","account/subs/transfer/record","wallet/query/deposit-withdraw"],post:["orders/create","orders/cancel","account/withdraw/coin","account/subs/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.005,maker:.003}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{A99999:n,A10001:o,A10002:n,A10003:s,A10004:u,A10005:a,A10006:f,A10007:o,A10011:p,A10012:p,A10013:m,A30001:d,A30002:l,A30003:l,A30004:l,A30005:l,A30006:l,A30007:h,A30008:l,A30009:l,A30010:c,A30011:l,A30012:l},broad:{}},options:{fetchOHLCV:{volume:"amount"}}})}async fetchTime(e={}){const t=await this.publicGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){const t=await this.publicGetCommonSymbols(e),i=[],r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),a=this.safeString(e,"symbol"),o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:this.safeInteger(e,"amountPrecision"),price:this.safeInteger(e,"pricePrecision"),cost:this.safeInteger(e,"valuePrecision")},u={amount:{min:this.safeNumber(e,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minOrderValue"),max:void 0}},l=this.safeString(e,"status"),f="ONLINE"===l;i.push({id:a,symbol:d,base:o,quote:c,baseId:t,quoteId:n,precision:h,limits:u,info:e,active:f})}return i}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"_"),n=this.safeNumber(e,"open24h"),a=this.safeNumber(e,"lastPrice");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(c=a-n,o=c/n*100,d=this.sum(a,n)/2);const h=this.safeNumber(e,"baseVolume24h"),u=this.safeNumber(e,"quoteVolume24h"),l=this.vwap(h,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low24h"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:l,open:n,close:a,last:a,previousClose:void 0,change:c,percentage:o,average:d,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetMarketTicker(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),r=this.safeValue(i,"data",[]),s={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r["limit"]=t);const s=await this.publicGetMarketDepth(this.extend(r,i)),n=this.safeValue(s,"data",{}),a=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,e,a,"bids","asks")}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"orderId"),s=this.safeInteger(e,"timestamp"),n=this.safeStringLower(e,"side"),a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),d=this.parseNumber(o);let h=this.safeNumber(e,"volume");void 0===h&&(h=this.parseNumber(y.stringMul(a,o)));const u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t,"_"),f=this.safeStringLower(e,"role"),p=this.safeString(e,"fee");let m=void 0;if(void 0!==p){const e=p.split(" "),t=this.safeString(e,1),i=this.safeCurrencyCode(t);m={cost:this.safeNumber(e,0),currency:i}}return{id:i,order:r,timestamp:s,datetime:this.iso8601(s),symbol:l,type:void 0,side:n,price:c,amount:d,cost:h,takerOrMaker:f,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetMarketTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],unit:this.timeframes[t]},o=this.parseTimeframe(t),c=this.seconds();if(void 0===r&&(r=3e3),void 0===i)a["from"]=c-r*o,a["to"]=c;else{const e=parseInt(i/1e3);a["from"]=e,a["to"]=this.sum(e,r*o)}const d=await this.publicGetMarketKlineHistory(this.extend(a,s)),h=this.safeValue(d,"data",[]);return this.parseOHLCVs(h,n,t,i,r)}parseOHLCV(e,t){const i=this.safeValue(this.options,"fetchOHLCV",{}),r=this.safeString(i,"volume","amount");return[this.safeTimestamp(e,"score"),this.safeNumber(e,"openPrice"),this.safeNumber(e,"highPrice"),this.safeNumber(e,"lowPrice"),this.safeNumber(e,"closePrice"),this.safeNumber(e,r)]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountGetBalance(e),i=this.safeValue(t,"data",[]),r={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["total"]=this.safeString(e,"available"),a["free"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"hold"),r[n]=a}return this.parseBalance(r,!1)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=t.toUpperCase(),c=i.toUpperCase(),d={symbol:a["id"],type:o,side:c};if("LIMIT"===o)d["price"]=this.priceToPrecision(e,s),d["amount"]=this.amountToPrecision(e,r);else if("MARKET"===o)if("SELL"===c)d["amount"]=this.amountToPrecision(e,r);else if("BUY"===c){let e=this.safeNumber(n,"value");const t=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(t){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new l(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'value' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const i=a["precision"]["price"];d["value"]=this.decimalToPrecision(e,g,i,this.precisionMode)}const h=await this.privatePostOrdersCreate(this.extend(d,n)),u=this.safeValue(h,"data",{});return this.parseOrder(u,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrdersCancel(this.extend(r,i)),n=this.safeValue(s,"data",{});return this.parseOrder(n)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersGet(this.extend(r,i)),n=this.safeValue(s,"data",{});return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["symbol"]=n["id"]),void 0!==i&&(s["limit"]=i),void 0!==t&&(s["fromTimestamp"]=t);const a=await this.privateGetOrdersList(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseOrders(o,n,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={status:"SUBMITTED,PROCESSING,PARTIAL_FILLED,CANCELING"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"FILLED,CANCELED,REJECTED"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n={id:e},a=await this.privateGetOrdersFill(this.extend(n,s));let o=void 0;void 0!==t&&(o=this.market(t));const c=this.safeValue(a,"data",[]);return this.parseTrades(c,o,i,r)}parseOrderStatus(e){const t={SUBMITTED:"open",PROCESSING:"open",PARTIAL_FILLED:"open",CANCELING:"open",FILLED:"closed",CANCELED:"canceled",REJECTED:"rejected"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeNumber(e,"amount"),s=this.safeNumber(e,"price"),n=this.safeNumber(e,"filledValue"),a=this.safeStringLower(e,"type"),o=this.safeStringLower(e,"side"),c=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeInteger(e,"timestamp"),h=this.safeNumber(e,"averagePrice"),u=this.safeNumber(e,"filledAmount");let l=void 0;const f=this.safeNumber(e,"filledFee");void 0!==f&&(l={cost:f,currency:void 0});const p=this.safeString(e,"symbol"),m=this.safeSymbol(p,t,"_");return this.safeOrder({id:i,clientOrderId:void 0,info:e,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:m,type:a,timeInForce:void 0,postOnly:void 0,side:o,price:s,stopPrice:void 0,amount:r,cost:n,average:h,filled:u,remaining:void 0,status:c,fee:l,trades:void 0})}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const n=this.currency(e),a={code:n["id"],amount:this.currencyToPrecision(e,t),wallet:i};void 0!==r&&(a["tag"]=r);const o=await this.privatePostAccountWithdrawCoin(this.extend(a,s));return this.parseTransaction(o,n)}async fetchAccounts(e={}){const t=await this.privateGetAccountSubs(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"subId"),n=this.safeString(e,"subAccount");r.push({id:t,type:n,currency:void 0,info:e})}return r}async fetchDeposits(e,t,i,r={}){const s={type:"coin_in"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchWithdrawals(e,t,i,r={}){const s={type:"coin_out"};return await this.fetchTransactions(e,t,i,this.extend(s,r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["size"]=i);const a=await this.privateGetWalletQueryDepositWithdraw(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,n,t,i)}parseTransactionStatus(e){const t=e.split(" ");e=this.safeString(t,1,e);const i={Pending:"pending",confirming:"pending",SUCCESS:"ok",FAIL:"failed"};return this.safeString(i,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","data");let r=this.safeString(e,"type");"COIN_IN"===r?r="deposit":"COIN_OUT"===r&&(r="withdraw");const s=this.safeNumber(e,"amount"),n=this.safeString(e,"address"),a=this.safeString(e,"addressTag"),o=this.safeString(e,"txHash"),c=this.safeInteger(e,"createdAt"),d=this.safeInteger(e,"updatedAt"),h=this.safeString(e,"currency"),u=this.safeCurrencyCode(h,t),l=this.parseTransactionStatus(this.safeString(e,"state"));return{info:e,id:i,currency:u,amount:s,address:n,addressTo:n,addressFrom:void 0,tag:a,tagTo:a,tagFrom:void 0,status:l,type:r,updated:d,txid:o,timestamp:c,datetime:this.iso8601(c),fee:void 0}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["symbol"]=n["id"]),void 0!==i&&(s["limit"]=i),void 0!==t&&(s["fromTimestamp"]=t);const a=await this.privateGetOrdersFills(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,n,t,i)}sign(e,t="public",i="GET",r={},s,n){const a="/"+this.version+"/"+this.implodeParams(e,r);let o=this.urls["api"][t]+a;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();s={"X-Nova-Access-Key":this.apiKey,"X-Nova-Timestamp":e};let t=void 0;"POST"===i?(n=this.json(c),t=this.hash(n,"md5"),s["Content-Type"]="application/json"):(Object.keys(c).length&&(o+="?"+this.urlencode(c)),t=this.urlencode(this.keysort(c)));const r=i+"\n"+a+"\n"+t+"\n"+e;s["X-Nova-Signature"]=this.hmac(this.encode(r),this.encode(this.secret))}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code");if("A10000"!==h){const e=this.safeString(o,"message"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new n(t)}}}},a5ef:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ExchangeNotAvailable:n,RequestTimeout:a,AuthenticationError:o,PermissionDenied:c,DDoSProtection:d,InsufficientFunds:h,OrderNotFound:u,InvalidOrder:l,AccountSuspended:f,CancelPending:p,InvalidNonce:m,OnMaintenance:g,BadSymbol:y}=i("74b0"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"poloniex",name:"Poloniex",countries:["US"],rateLimit:1e3,certified:!1,pro:!0,has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrder:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,cancelAllOrders:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://www.poloniex.com",doc:"https://docs.poloniex.com",fees:"https://poloniex.com/fees",referral:"https://poloniex.com/signup?c=UBFZJRPJ"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","cancelAllOrders","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnOrderStatus","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{feeSide:"get",maker:9e-4,taker:9e-4},funding:{}},limits:{amount:{min:1e-6,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",KEY:"KEYCoin",PLX:"ParallaxCoin",REPV2:"REP",STR:"XLM",SOC:"SOCC",XAP:"API Coin",USDTTRON:"USDT",USDTETH:"USDT"},options:{limits:{cost:{min:{BTC:1e-4,ETH:1e-4,USDT:1,TRX:100,BNB:.06,USDC:1,USDJ:1,TUSD:1e-4,DAI:1,PAX:1,BUSD:1}}}},exceptions:{exact:{"You may only place orders that reduce your position.":l,"Invalid order number, or you are not the person who placed the order.":u,"Permission denied":c,"Connection timed out. Please try again.":a,"Internal error. Please try again.":n,"Currently in maintenance mode.":g,"Order not found, or you are not the person who placed it.":u,"Invalid API key/secret pair.":o,"Please do not make more than 8 API calls per second.":d,"Rate must be greater than zero.":l,"Invalid currency pair.":y,"Invalid currencyPair parameter.":y,"Trading is disabled in this market.":y,"Invalid orderNumber parameter.":u},broad:{"Total must be at least":l,"This account is frozen.":f,"Not enough":h,"Nonce must be greater":m,"You have already called cancelOrder or moveOrder on this order.":p,"Amount must be at least":l,"is either completed or does not exist":u,"Error pulling ":s}}})}parseOHLCV(e,t){return[this.safeTimestamp(e,"date"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"quoteVolume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={currencyPair:n["id"],period:this.timeframes[t]};if(void 0===i)a["end"]=this.seconds(),a["start"]=void 0===r?a["end"]-this.parseTimeframe("1w"):a["end"]-r*this.parseTimeframe(t);else if(a["start"]=parseInt(i/1e3),void 0!==r){const e=this.sum(a["start"],r*this.parseTimeframe(t));a["end"]=e}const o=await this.publicGetReturnChartData(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t),r=this.safeValue(this.options,"currenciesByNumericId");return(void 0===r||e)&&(this.options["currenciesByNumericId"]=this.indexBy(this.currencies,"numericId")),i}async fetchMarkets(e={}){const t=await this.publicGetReturnTicker(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],n=t[e],[a,o]=e.split("_"),c=this.safeCurrencyCode(o),d=this.safeCurrencyCode(a),h=c+"/"+d,u=this.extend(this.limits,{cost:{min:this.safeValue(this.options["limits"]["cost"]["min"],d)}}),l=this.safeString(n,"isFrozen"),f="1"!==l,p=this.safeInteger(n,"id");r.push({id:e,numericId:p,symbol:h,baseId:o,quoteId:a,base:c,quote:d,active:f,limits:u,info:n})}return r}async fetchBalance(e={}){await this.loadMarkets();const t={account:"all"},i=await this.privatePostReturnCompleteBalances(this.extend(t,e)),r={info:i,timestamp:void 0,datetime:void 0},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeValue(i,e,{}),a=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(t,"available"),o["used"]=this.safeString(t,"onOrders"),r[a]=o}return this.parseBalance(r,!1)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostReturnFeeInfo(e);return{info:t,maker:this.safeNumber(t,"makerFee"),taker:this.safeNumber(t,"takerFee"),withdraw:{},deposit:{}}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e)};void 0!==t&&(r["depth"]=t);const s=await this.publicGetReturnOrderBook(this.extend(r,i)),n=this.parseOrderBook(s,e);return n["nonce"]=this.safeInteger(s,"seq"),n}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const r={currencyPair:"all"};void 0!==t&&(r["depth"]=t);const s=await this.publicGetReturnOrderBook(this.extend(r,i)),n=Object.keys(s),a={};for(let o=0;o<n.length;o++){const e=n[o];let t=void 0;if(e in this.markets_by_id)t=this.markets_by_id[e]["symbol"];else{const[i,r]=e.split("_"),s=this.safeCurrencyCode(r),n=this.safeCurrencyCode(i);t=s+"/"+n}const i=this.parseOrderBook(s[e],t);i["nonce"]=this.safeInteger(s[e],"seq"),a[t]=i}return a}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t["symbol"]);let s=void 0,n=void 0,a=void 0;const o=this.safeNumber(e,"last"),c=this.safeNumber(e,"percentChange");return-1!==c&&(s=o/this.sum(1,c),n=o-s,a=this.sum(o,s)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24hr"),low:this.safeNumber(e,"low24hr"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:s,close:o,last:o,previousClose:void 0,change:n,percentage:100*c,average:a,baseVolume:this.safeNumber(e,"quoteVolume"),quoteVolume:this.safeNumber(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetReturnTicker(t),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n];let t=void 0,a=void 0;if(e in this.markets_by_id)a=this.markets_by_id[e],t=a["symbol"];else{const[i,r]=e.split("_"),s=this.safeCurrencyCode(r),n=this.safeCurrencyCode(i);t=s+"/"+n,a={symbol:t}}const o=i[e];s[t]=this.parseTicker(o,a)}return this.filterByArray(s,"symbol",e)}async fetchCurrencies(e={}){const t=await this.publicGetReturnCurrencies(e),i=Object.keys(t),r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[e],a=8,o="1e-8",c=this.safeCurrencyCode(e),d=0===n["delisted"]&&!n["disabled"],h=this.safeInteger(n,"id"),u=this.safeNumber(n,"txFee");r[c]={id:e,numericId:h,code:c,info:n,name:n["name"],active:d,fee:u,precision:a,limits:{amount:{min:this.parseNumber(o),max:void 0},withdraw:{min:u,max:void 0}}}}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetReturnTicker(t),s=r[i["id"]];return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeString2(e,"globalTradeID","tradeID"),r=this.safeString(e,"orderNumber"),s=this.parse8601(this.safeString(e,"date"));let n=void 0;if(!t&&"currencyPair"in e){const i=this.safeString(e,"currencyPair");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const[e,t]=i.split("_"),r=this.safeCurrencyCode(t),s=this.safeCurrencyCode(e);n=r+"/"+s}}void 0===n&&void 0!==t&&(n=t["symbol"]);const a=this.safeString(e,"type");let o=void 0;const c=this.safeString(e,"rate"),d=this.safeString(e,"amount"),h=this.parseNumber(c),u=this.parseNumber(d);let l=void 0,f=this.safeString(e,"total");void 0===f?(f=v.stringMul(c,d),l=this.parseNumber(f)):l=this.parseNumber(f);const p=this.safeString(e,"feeDisplay");if(void 0!==p){const e=p.split(" "),t=this.safeNumber(e,0);if(void 0!==t){const i=this.safeString(e,1),r=this.safeCurrencyCode(i);let s=this.safeString(e,2);if(void 0!==s){s=s.replace("(","");const e=s.split("%");s=this.safeString(e,0),s=parseFloat(s)/100}o={cost:t,currency:r,rate:s}}}else{const i=this.safeString(e,"fee");if(void 0!==i&&void 0!==t){const e="buy"===a?t["base"]:t["quote"],r="buy"===a?d:f,s=v.stringDiv(i,r);o={cost:this.parseNumber(i),currency:e,rate:this.parseNumber(s)}}}let m=void 0;const g=this.safeNumber(e,"takerAdjustment");return void 0!==g&&(m="taker"),{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:n,order:r,type:"limit",side:a,takerOrMaker:m,price:h,amount:u,cost:l,fee:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currencyPair:s["id"]};void 0!==t&&(n["start"]=parseInt(t/1e3),n["end"]=this.seconds());const a=await this.publicGetReturnTradeHistory(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n=s?s["id"]:"all",a={currencyPair:n};void 0!==t&&(a["start"]=parseInt(t/1e3),a["end"]=this.sum(this.seconds(),1)),void 0!==i&&(a["limit"]=parseInt(i));const o=await this.privatePostReturnTradeHistory(this.extend(a,r));let c=[];if(void 0!==s)c=this.parseTrades(o,s);else if(o){const e=Object.keys(o);for(let t=0;t<e.length;t++){const i=e[t];let r=void 0;if(i in this.markets_by_id){r=this.markets_by_id[i];const e=this.parseTrades(o[i],r);for(let t=0;t<e.length;t++)c.push(e[t])}else{const[e,t]=i.split("_"),r=this.safeCurrencyCode(t),s=this.safeCurrencyCode(e),n=r+"/"+s,a=o[i];for(let i=0;i<a.length;i++){const e={symbol:n,base:r,quote:s};c.push(this.parseTrade(a[i],e))}}}}return this.filterBySinceLimit(c,t,i)}parseOrderStatus(e){const t={Open:"open","Partially filled":"open"};return this.safeString(t,e,e)}parseOrder(e,t){let i=this.safeInteger(e,"timestamp");void 0===i&&(i=this.parse8601(this.safeString(e,"date")));let r=void 0;const s=this.safeString(e,"currencyPair");if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("_"),i=this.safeCurrencyCode(t),n=this.safeCurrencyCode(e);r=i+"/"+n}void 0===r&&void 0!==t&&(r=t["symbol"]);let n=void 0,a=this.safeValue(e,"resultingTrades");Array.isArray(a)||(a=this.safeValue(a,this.safeString(t,"id",s))),void 0!==a&&(n=this.parseTrades(a,t));const o=this.safeNumber2(e,"price","rate");let c=this.safeNumber(e,"amount"),d=this.safeNumber(e,"startingAmount"),h=void 0,u=0;void 0!==d?void 0!==c&&(h=d-c,void 0!==o&&(u=h*o)):d=c;let l=this.parseOrderStatus(this.safeString(e,"status")),f=void 0,p=void 0;if(void 0===h&&void 0!==n){h=0,u=0;const e=n.length;if(e>0){p=n[0]["timestamp"];for(let t=0;t<e;t++){const e=n[t],i=e["amount"],r=e["price"];h=this.sum(h,i),u=this.sum(u,r*i),p=Math.max(p,e["timestamp"])}}void 0!==d&&(c=Math.max(d-h,0),h>=d&&(l="closed"))}void 0!==h&&void 0!==u&&h>0&&(f=u/h);let m=this.safeString(e,"type");const g=this.safeString(e,"side",m);m===g&&(m=void 0);const y=this.safeString(e,"orderNumber");let v=void 0;const b=this.safeNumber(e,"fee");if(void 0!==b){let e=void 0;void 0!==t&&(e="buy"===g?t["base"]:t["quote"]),v={cost:b,currency:e}}const w=this.safeString(e,"clientOrderId");return{info:e,id:y,clientOrderId:w,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:p,status:l,symbol:r,type:m,timeInForce:void 0,postOnly:void 0,side:g,price:o,stopPrice:void 0,cost:u,average:f,amount:d,filled:h,remaining:c,trades:n,fee:v}}parseOpenOrders(e,t,i){for(let r=0;r<e.length;r++){const s=e[r],n=this.extend(s,{status:"open",type:"limit",side:s["type"],price:s["rate"]});i.push(this.parseOrder(n,t))}return i}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n=s?s["id"]:"all",a={currencyPair:n},o=await this.privatePostReturnOpenOrders(this.extend(a,r)),c={status:"open"};if(void 0===s){const e=Object.keys(o);let r=[];for(let t=0;t<e.length;t++){const i=e[t],s=o[i],n=this.markets_by_id[i];r=this.arrayConcat(r,this.parseOrders(s,n,void 0,void 0,c))}return this.filterBySinceLimit(r,t,i)}return this.parseOrders(o,s,t,i,c)}async createOrder(e,t,i,r,n,a={}){if("market"===t)throw new s(this.id+" createOrder() does not accept market orders");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e);r=this.amountToPrecision(e,r);const d={currencyPair:c["id"],rate:this.priceToPrecision(e,n),amount:r},h=this.safeString(a,"clientOrderId");void 0!==h&&(d["clientOrderId"]=h,a=this.omit(a,"clientOrderId"));const u=this.milliseconds(),l=await this[o](this.extend(d,a));return this.parseOrder(this.extend({timestamp:u,status:"open",type:t,side:i,price:n,amount:r},l),c)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets(),n=parseFloat(n);const o={orderNumber:e,rate:this.priceToPrecision(t,n)};void 0!==s&&(o["amount"]=this.amountToPrecision(t,s));const c=await this.privatePostMoveOrder(this.extend(o,a));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeValue(i,"clientOrderId");return void 0===s?r["orderNumber"]=e:r["clientOrderId"]=s,i=this.omit(i,"clientOrderId"),await this.privatePostCancelOrder(this.extend(r,i))}async cancelAllOrders(e,t={}){const i={};let r=void 0;void 0!==e&&(r=this.market(e),i["currencyPair"]=r["id"]);const s=await this.privatePostCancelAllOrders(this.extend(i,t));return s}async fetchOpenOrder(e,t,i={}){await this.loadMarkets(),e=e.toString();const r={orderNumber:e},s=await this.privatePostReturnOrderStatus(this.extend(r,i)),n=this.safeValue(s["result"],e);if(void 0===n)throw new u(this.id+" order id "+e+" not found");return this.parseOrder(n)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const r={orderNumber:e},s=await this.privatePostReturnOrderTrades(this.extend(r,i)),n=this.parseTrades(s),a=this.safeValue(n,0);if(void 0===a)throw new u(this.id+" order id "+e+" not found");t=this.safeString(a,"symbol",t);const o=this.safeString(a,"side"),c=this.safeNumber(a,"timestamp");return e=this.safeValue(a["info"],"globalTradeID",e),this.safeOrder({info:s,id:e,clientOrderId:this.safeValue(a,"clientOrderId"),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:"closed",symbol:t,type:this.safeString(a,"type"),timeInForce:void 0,postOnly:void 0,side:o,price:void 0,stopPrice:void 0,cost:void 0,average:void 0,amount:void 0,filled:void 0,remaining:void 0,trades:n,fee:void 0})}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r=await this.fetchOpenOrders(t,void 0,void 0,i),s=this.indexBy(r,"id");return e in s?"open":"closed"}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n={orderNumber:e},a=await this.privatePostReturnOrderTrades(this.extend(n,s));return this.parseTrades(a)}async createDepositAddress(e,t={}){await this.loadMarkets();let i=void 0,r=void 0;e in this.currencies?(r=this.currency(e),i=r["id"]):i=e;const s={currency:i},n=await this.privatePostGenerateNewAddress(this.extend(s,t));let a=void 0,o=void 0;if(1===n["success"]&&(a=this.safeString(n,"response")),this.checkAddress(a),void 0!==r){const e=this.safeString(r["info"],"depositAddress");void 0!==e&&(o=a,a=e)}return{currency:e,address:a,tag:o,info:n}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostReturnDepositAddresses(t);let r=void 0,s=void 0;e in this.currencies?(s=this.currency(e),r=s["id"]):r=e;let n=this.safeString(i,r),a=void 0;if(this.checkAddress(n),void 0!==s){const e=this.safeString(s["info"],"depositAddress");void 0!==e&&(a=n,n=e)}return{currency:e,address:n,tag:a,info:i}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency:n["id"],amount:t,address:i};void 0!==r&&(a["paymentId"]=r);const o=await this.privatePostWithdraw(this.extend(a,s));return{info:o,id:this.safeString(o,"withdrawalNumber")}}async fetchTransactionsHelper(e,t,i,r={}){await this.loadMarkets();const s=31104e3,n=this.seconds(),a=void 0!==t?parseInt(t/1e3):n-10*s,o={start:a,end:n};void 0!==i&&(o["limit"]=i);const c=await this.privatePostReturnDepositsWithdrawals(this.extend(o,r));return c}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=await this.fetchTransactionsHelper(e,t,i,r);let n=void 0;void 0!==e&&(n=this.currency(e));const a=this.safeValue(s,"withdrawals",[]),o=this.safeValue(s,"deposits",[]),c=this.parseTransactions(a,n,t,i),d=this.parseTransactions(o,n,t,i),h=this.arrayConcat(d,c);return this.filterByCurrencySinceLimit(this.sortBy(h,"timestamp"),e,t,i)}async fetchWithdrawals(e,t,i,r={}){const s=await this.fetchTransactionsHelper(e,t,i,r);let n=void 0;void 0!==e&&(n=this.currency(e));const a=this.safeValue(s,"withdrawals",[]),o=this.parseTransactions(a,n,t,i);return this.filterByCurrencySinceLimit(o,e,t,i)}async fetchDeposits(e,t,i,r={}){const s=await this.fetchTransactionsHelper(e,t,i,r);let n=void 0;void 0!==e&&(n=this.currency(e));const a=this.safeValue(s,"deposits",[]),o=this.parseTransactions(a,n,t,i);return this.filterByCurrencySinceLimit(o,e,t,i)}parseTransactionStatus(e){const t={COMPLETE:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r);let n=this.safeString(e,"status","pending"),a=this.safeString(e,"txid");if(void 0!==n){const e=n.split(": "),t=e.length;n=e[0],t>1&&void 0===a&&(a=e[1]),n=this.parseTransactionStatus(n)}const o="withdrawalNumber"in e?"withdrawal":"deposit",c=this.safeString(e,"type",o),d=this.safeString2(e,"withdrawalNumber","depositNumber");let h=this.safeNumber(e,"amount");const u=this.safeString(e,"address"),l=this.safeString(e,"paymentID"),f=this.safeNumber(e,"fee",0);return"withdrawal"===c&&(h-=f),{info:e,id:d,currency:s,amount:h,address:u,tag:l,status:n,type:c,updated:void 0,txid:a,timestamp:i,datetime:this.iso8601(i),fee:{currency:s,cost:f}}}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),r={currencyPair:i["id"]},s=await this.privatePostGetMarginPosition(this.extend(r,t));return s}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t];const o=this.extend({command:e},r);return"public"===t?a+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o["nonce"]=this.nonce(),n=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}),{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"error"in o){const e=o["error"],t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new s(t)}}}},a620:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InvalidOrder:n,AuthenticationError:a,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"braziliex",name:"Braziliex",countries:["BR"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php",referral:"https://braziliex.com/?ref=5FE61AB6F6D67DA885BC98BA27223465"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order","order_status"]}},commonCurrencies:{EPC:"Epacoin",ABC:"Anti Bureaucracy Coin"},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8},options:{fetchCurrencies:{expires:1e3}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencies(e);this.options["fetchCurrencies"]=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options["fetchCurrencies"],"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options["currencies"]={timestamp:this.milliseconds(),response:t};const i=Object.keys(t),r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[e],a=this.safeInteger(n,"decimal"),o=this.safeCurrencyCode(e);let c=1===this.safeInteger(n,"active");const d=this.safeInteger(n,"under_maintenance");0!==d&&(c=!1);const h=1===this.safeInteger(n,"is_withdrawal_active"),u=1===this.safeInteger(n,"is_deposit_active");h&&u||(c=!1),r[o]={id:e,code:o,name:n["name"],active:c,precision:a,funding:{withdraw:{active:h,fee:this.safeNumber(n,"txWithdrawalFee")},deposit:{active:u,fee:this.safeNumber(n,"txDepositFee")}},limits:{amount:{min:Math.pow(10,-a),max:Math.pow(10,a)},withdraw:{min:this.safeNumber(n,"MinWithdrawal"),max:Math.pow(10,a)},deposit:{min:this.safeNumber(n,"minDeposit"),max:void 0}},info:n}}return r}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=await this.publicGetTicker(),r=Object.keys(i),s=[];for(let n=0;n<r.length;n++){const e=r[n],a=i[e],[o,c]=e.split("_"),d=o.toUpperCase(),h=c.toUpperCase(),u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),f=u+"/"+l,p=this.safeValue(t,o,{}),m=this.safeValue(t,c,{}),g=this.safeInteger(m,"is_fiat",0);let y=void 0;y=g?this.safeNumber(p,"minAmountTradeFIAT"):this.safeNumber(p,"minAmountTrade"+h);const v=this.safeInteger(a,"active"),b=1===v,w={amount:8,price:8};s.push({id:e,symbol:f,base:u,quote:l,baseId:o,quoteId:c,active:b,precision:w,limits:{amount:{min:Math.pow(10,-w["amount"]),max:Math.pow(10,w["amount"])},price:{min:Math.pow(10,-w["price"]),max:Math.pow(10,w["price"])},cost:{min:y,max:void 0}},info:a})}return s}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t["symbol"]);const r=this.milliseconds(),s=this.safeNumber(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"highestBid24"),low:this.safeNumber(e,"lowestAsk24"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:this.safeNumber(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"baseVolume24"),quoteVolume:this.safeNumber(e,"quoteVolume24"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetTickerMarket(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeMarket(e),a=t["symbol"];r[a]=this.parseTicker(i[e],t)}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e)},s=await this.publicGetOrderbookMarket(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"date_exec","date")),r=this.safeString(e,"price"),s=this.safeString(e,"amount"),n=this.parseNumber(r),a=this.parseNumber(s);let o=void 0;void 0!==t&&(o=t["symbol"]);let d=this.safeNumber(e,"total");void 0===d&&(d=this.parseNumber(c.stringMul(r,s)));const h=this.safeString(e,"order_number"),u="limit",l=this.safeString(e,"type"),f=this.safeString(e,"_id");return{id:f,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,order:h,type:u,side:l,takerOrMaker:void 0,price:n,amount:a,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.publicGetTradehistoryMarket(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostCompleteBalance(e),i={info:t},r=Object.keys(t);for(let s=0;s<r.length;s++){const e=r[s],n=t[e],a=this.safeCurrencyCode(e),o=this.account();o["free"]=this.safeString(n,"available"),o["total"]=this.safeString(n,"total"),i[a]=o}return this.parseBalance(i,!1)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"_");let s=this.safeInteger(e,"timestamp");void 0===s&&(s=this.parse8601(this.safeString(e,"date")));const n=this.safeNumber(e,"price"),a=this.safeNumber(e,"total"),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"progress"),d=o*c,h=this.safeString(e,"order_number"),u=this.safeValue(e,"fee"),l=1===c?"closed":"open",f=this.safeString(e,"type");return this.safeOrder({id:h,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:l,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:f,price:n,stopPrice:void 0,cost:a,amount:o,filled:d,remaining:void 0,trades:void 0,fee:u,info:e,average:void 0})}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i),d={market:o["id"],price:s,amount:r},h=await this[c](this.extend(d,a)),u=this.safeInteger(h,"success");if(1!==u)throw new n(this.id+" "+this.json(h));const l=this.safeString(h,"message");let f=l.split(" / ");f=f.slice(1);const p=f[5].split(" "),m=f[2].split(" "),g=f[3].split(" "),y=f[4].split(" "),v=this.parseOrder({timestamp:this.milliseconds(),order_number:h["order_number"],type:this.safeStringLower(f,0),market:f[0].toLowerCase(),amount:this.safeString(m,1),price:this.safeString(g,1),total:this.safeString(y,1),fee:{cost:this.safeNumber(p,1),currency:this.safeString(p,2)},progress:"0.0",info:h},o);return v}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={order_number:e,market:r["id"]};return await this.privatePostCancelOrder(this.extend(s,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_number:e,market:r["id"]},n=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrder(n,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.privatePostOpenOrders(this.extend(n,r)),o=this.safeValue(a,"order_open",[]);return this.parseOrders(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.privatePostTradeHistory(this.extend(n,r)),o=this.safeValue(a,"trade_history",[]);return this.parseTrades(o,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostDepositAddress(this.extend(r,t)),n=this.safeString(s,"deposit_address");this.checkAddress(n);const a=this.safeString(s,"payment_id");return{currency:e,address:n,tag:a,info:s}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+t,o=this.omit(r,this.extractParams(e));if("public"===t)a+="/"+this.implodeParams(e,r),Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),o=this.extend({command:e,nonce:this.nonce()},o),n=this.urlencode(o);const t=this.hmac(this.encode(n),this.encode(this.secret),"sha512");s={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:t}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,o){const c=await this.fetch2(e,t,i,r,n,o);if("string"===typeof c&&c.length<1)throw new s(this.id+" returned empty response");if("success"in c){const e=this.safeInteger(c,"success");if(0===e){const e=this.safeString(c,"message");if("Invalid APIKey"===e)throw new a(e);throw new s(e)}}return c}}},a630:function(e,t,i){var r=i("23e7"),s=i("4df4"),n=i("1c7e"),a=!n((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:s})},a640:function(e,t,i){"use strict";var r=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&r((function(){i.call(null,t||function(){throw 1},1)}))}},a681:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},s=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a},n=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=i("7be7"),o=i("29b2"),c=i("7612"),d=i("fe34"),h=i("efc3"),u=i("f9ee"),l=i("02cf"),f=i("381b"),p=i("6af3"),m=i("367a"),g=i("3494"),y=i("aa00");t.crypto=function(e){if(e&&""==e.seed)throw new Error("Empty seed is not allowed.");var t=function(e,t){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return e.apply(void 0,n([t],i))}},i=function(t){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=t.apply(void 0,n(i));return!e||e&&"Base58"===e.output?c.base58Encode(s):s}},s=function(t){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=t.apply(void 0,n(i));return!e||e&&"Base58"===e.output?{privateKey:c.base58Encode(s.privateKey),publicKey:c.base58Encode(s.publicKey)}:s}},v=e&&e.seed?e.seed:void 0,b={seedWithNonce:v?t(l.seedWithNonce,v):l.seedWithNonce,signBytes:i(v?t(f.signBytes,v):f.signBytes),keyPair:s(v?t(l.keyPair,v):l.keyPair),publicKey:i(v?t(l.publicKey,v):l.publicKey),privateKey:i(v?t(l.privateKey,v):l.privateKey),address:i(v?t(l.address,v):l.address)};return r({},b,{sharedKey:i(o.sharedKey),buildAddress:l.buildAddress,blake2b:u.blake2b,keccak:u.keccak,sha256:u.sha256,base64Encode:c.base64Encode,base64Decode:c.base64Decode,base58Encode:c.base58Encode,base58Decode:c.base58Decode,base16Encode:c.base16Encode,base16Decode:c.base16Decode,stringToBytes:d.stringToBytes,bytesToString:d.bytesToString,random:a.random,randomSeed:a.randomSeed,randomBytes:a.randomBytes,verifySignature:p.verifySignature,verifyPublicKey:p.verifyPublicKey,verifyAddress:p.verifyAddress,messageDecrypt:o.messageDecrypt,messageEncrypt:o.messageEncrypt,aesDecrypt:o.aesDecrypt,aesEncrypt:o.aesEncrypt,encryptSeed:g.encryptSeed,decryptSeed:g.decryptSeed,rsaKeyPair:m.rsaKeyPair,rsaKeyPairSync:m.rsaKeyPairSync,rsaSign:m.rsaSign,rsaVerify:m.rsaVerify,merkleVerify:y.merkleVerify,split:h.split,concat:h.concat})}},a691:function(e,t){var i=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},a79d:function(e,t,i){"use strict";var r=i("23e7"),s=i("c430"),n=i("fea9"),a=i("d039"),o=i("d066"),c=i("4840"),d=i("cdf9"),h=i("6eeb"),u=!!n&&a((function(){n.prototype["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(e){var t=c(this,o("Promise")),i="function"==typeof e;return this.then(i?function(i){return d(t,e()).then((function(){return i}))}:e,i?function(i){return d(t,e()).then((function(){throw i}))}:e)}}),!s&&"function"==typeof n){var l=o("Promise").prototype["finally"];n.prototype["finally"]!==l&&h(n.prototype,"finally",l,{unsafe:!0})}},a7b5:function(e,t,i){"use strict";var r=i("74d2"),s=i("b9b3"),n=s.assert,a=s.cachedProperty,o=s.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),n(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},a8e9:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return C})),i.d(t,"c",(function(){return T})),i.d(t,"d",(function(){return _})),i.d(t,"e",(function(){return V})),i.d(t,"f",(function(){return E})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return A})),i.d(t,"i",(function(){return o})),i.d(t,"j",(function(){return c})),i.d(t,"k",(function(){return j})),i.d(t,"l",(function(){return l})),i.d(t,"m",(function(){return m})),i.d(t,"n",(function(){return g})),i.d(t,"o",(function(){return v})),i.d(t,"p",(function(){return b})),i.d(t,"q",(function(){return S})),i.d(t,"r",(function(){return f})),i.d(t,"s",(function(){return p})),i.d(t,"t",(function(){return y})),i.d(t,"u",(function(){return w})),i.d(t,"v",(function(){return k}));var r=i("fbb0"),s=function(e){for(var t=[],i=0,r=0;r<e.length;r++){var s=e.charCodeAt(r);s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=63&s|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=63&s|128)}return t},n=function(e){var t=[],i=0,r=0;while(i<e.length){var s=e[i++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){var n=e[i++];t[r++]=String.fromCharCode((31&s)<<6|63&n)}else if(s>239&&s<365){n=e[i++];var a=e[i++],o=e[i++],c=((7&s)<<18|(63&n)<<12|(63&a)<<6|63&o)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{n=e[i++],a=e[i++];t[r++]=String.fromCharCode((15&s)<<12|(63&n)<<6|63&a)}}return t.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],s=0;s<e.length;s+=3){var n=e[s],a=s+1<e.length,o=a?e[s+1]:0,c=s+2<e.length,d=c?e[s+2]:0,h=n>>2,u=(3&n)<<4|o>>4,l=(15&o)<<2|d>>6,f=63&d;c||(f=64,a||(l=64)),r.push(i[h],i[u],i[l],i[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):n(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],s=0;s<e.length;){var n=i[e.charAt(s++)],a=s<e.length,o=a?i[e.charAt(s)]:0;++s;var c=s<e.length,d=c?i[e.charAt(s)]:64;++s;var h=s<e.length,u=h?i[e.charAt(s)]:64;if(++s,null==n||null==o||null==d||null==u)throw Error();var l=n<<2|o>>4;if(r.push(l),64!==d){var f=o<<4&240|d>>2;if(r.push(f),64!==u){var p=d<<6&192|u;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(e){return c(void 0,e)}function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var i=t;return new Date(i.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&d(r)&&(e[r]=c(e[r],t[r]));return e}function d(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,i){e.resolve=t,e.reject=i}))}return e.prototype.wrapCallback=function(e){var t=this;return function(i,r){i?t.reject(i):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(i):e(i,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var i={alg:"none",type:"JWT"},s=t||"demo-project",n=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=Object(r["a"])({iss:"https://securetoken.google.com/"+s,aud:s,iat:n,exp:n+3600,auth_time:n,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),d="";return[a.encodeString(JSON.stringify(i),!1),a.encodeString(JSON.stringify(c),!1),d].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function f(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function p(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function g(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function v(){return l().indexOf("Electron/")>=0}function b(){var e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return l().indexOf("MSAppHost/")>=0}function S(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise((function(e,t){try{var i=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=function(){s.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=function(){i=!1},s.onerror=function(){var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function _(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var O="FirebaseError",T=function(e){function t(i,r,s){var n=e.call(this,r)||this;return n.code=i,n.customData=s,n.name=O,Object.setPrototypeOf(n,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,C.prototype.create),n}return Object(r["b"])(t,e),t}(Error),C=function(){function e(e,t,i){this.service=e,this.serviceName=t,this.errors=i}return e.prototype.create=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=t[0]||{},s=this.service+"/"+e,n=this.errors[e],a=n?I(n,r):"Error",o=this.serviceName+": "+a+" ("+s+").",c=new T(s,o,r);return c},e}();function I(e,t){return e.replace(x,(function(e,i){var r=t[i];return null!=r?String(r):"<"+i+"?>"}))}var x=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var i=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)i[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)i[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var s=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(s<<1|s>>>31)}var n,a,o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(n=h^c&(d^h),a=1518500249):(n=c^d^h,a=1859775393):r<60?(n=c&d|h&(c|d),a=2400959708):(n=c^d^h,a=3395469782);s=(o<<5|o>>>27)+n+u+a+i[r]&4294967295;u=h,h=d,d=4294967295&(c<<30|c>>>2),c=o,o=s}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var i=t-this.blockSize,r=0,s=this.buf_,n=this.inbuf_;while(r<t){if(0===n)while(r<=i)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(s[n]=e.charCodeAt(r),++n,++r,n===this.blockSize){this.compress_(s),n=0;break}}else while(r<t)if(s[n]=e[r],++n,++r,n===this.blockSize){this.compress_(s),n=0;break}}this.inbuf_=n,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(i=0;i<5;i++)for(var s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}})();function A(e,t){var i=new N(e,t);return i.subscribe.bind(i)}var N=function(){function e(e,t){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(i)})).catch((function(e){i.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,i){var r,s=this;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=M(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{s.finalError?r.error(s.finalError):r.complete()}catch(e){}})),this.observers.push(r),n},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var i=this;this.task.then((function(){if(void 0!==i.observers&&void 0!==i.observers[e])try{t(i.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function M(e,t){if("object"!==typeof e||null===e)return!1;for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s in e&&"function"===typeof e[s])return!0}return!1}function P(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var B=1e3,R=2,D=144e5,L=.5;function V(e,t,i){void 0===t&&(t=B),void 0===i&&(i=R);var r=t*Math.pow(i,e),s=Math.round(L*r*(Math.random()-.5)*2);return Math.min(D,r+s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j(e){return e&&e._delegate?e._delegate:e}}).call(this,i("c8ba"))},a996:function(e,t,i){"use strict";const r=i("0406"),{NotSupported:s}=i("74b0");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobijp",name:"Huobi Japan",countries:["JP"],hostname:"api-cloud.huobi.co.jp",pro:!0,has:{fetchDepositAddress:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/85734211-85755480-b705-11ea-8b35-0b7f1db33a2f.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}"},www:"https://www.huobi.co.jp",referral:"https://www.huobi.co.jp/register/?invite_code=znnq3",doc:"https://api-doc.huobi.co.jp",fees:"https://www.huobi.co.jp/support/fee"}})}async fetchDepositAddress(e,t={}){throw new s(this.id+" fetchDepositAddress not supported yet")}}},a9ad:function(e,t,i){"use strict";var r=i("3835"),s=i("ade3"),n=i("5530"),a=(i("ac1f"),i("1276"),i("498a"),i("d3b7"),i("25f0"),i("2b0e")),o=i("d9bd"),c=i("7bc6");t["a"]=a["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof t.style?(Object(o["b"])("style must be an object",this),t):"string"===typeof t.class?(Object(o["b"])("class must be an object",this),t):(Object(c["d"])(e)?t.style=Object(n["a"])(Object(n["a"])({},t.style),{},{"background-color":"".concat(e),"border-color":"".concat(e)}):e&&(t.class=Object(n["a"])(Object(n["a"])({},t.class),{},Object(s["a"])({},e,!0))),t)},setTextColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof t.style)return Object(o["b"])("style must be an object",this),t;if("string"===typeof t.class)return Object(o["b"])("class must be an object",this),t;if(Object(c["d"])(e))t.style=Object(n["a"])(Object(n["a"])({},t.style),{},{color:"".concat(e),"caret-color":"".concat(e)});else if(e){var i=e.toString().trim().split(" ",2),a=Object(r["a"])(i,2),d=a[0],h=a[1];t.class=Object(n["a"])(Object(n["a"])({},t.class),{},Object(s["a"])({},d+"--text",!0)),h&&(t.class["text--"+h]=!0)}return t}}})},a9b0:function(e,t,i){"use strict";const r=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r),s=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e5]+100+400+8e3).replace(/[018]/g,s),n=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+1e3+4e3+8e5).replace(/[018]/g,n);e.exports={uuid:r,uuid16:s,uuid22:n,unCamelCase:e=>e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,e=>e[0]+"_"+e[1]).replace(/[A-Z0-9][A-Z0-9][a-z]/g,e=>e[0]+"_"+e[1]+e[2]).toLowerCase(),capitalize:e=>e.length?e.charAt(0).toUpperCase()+e.slice(1):e,strip:e=>e.replace(/^\s+|\s+$/g,"")}},a9e3:function(e,t,i){"use strict";var r=i("83ab"),s=i("da84"),n=i("94ca"),a=i("6eeb"),o=i("5135"),c=i("c6b6"),d=i("7156"),h=i("c04e"),u=i("d039"),l=i("7c73"),f=i("241c").f,p=i("06cf").f,m=i("9bf2").f,g=i("58a8").trim,y="Number",v=s[y],b=v.prototype,w=c(l(b))==y,S=function(e){var t,i,r,s,n,a,o,c,d=h(e,!1);if("string"==typeof d&&d.length>2)if(d=g(d),t=d.charCodeAt(0),43===t||45===t){if(i=d.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+d}for(n=d.slice(2),a=n.length,o=0;o<a;o++)if(c=n.charCodeAt(o),c<48||c>s)return NaN;return parseInt(n,r)}return+d};if(n(y,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,_=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof _&&(w?u((function(){b.valueOf.call(i)})):c(i)!=y)?d(new v(S(t)),i,_):S(t)},O=r?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;O.length>T;T++)o(v,k=O[T])&&!o(_,k)&&m(_,k,p(v,k));_.prototype=b,b.constructor=_,a(s,y,_)}},a9f1:function(e,t,i){(function(e){t.fetch=o(e.fetch)&&o(e.ReadableStream),t.writableStream=o(e.WritableStream),t.abortController=o(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var i;function r(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){i=null}}else i=null;return i}function s(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var n="undefined"!==typeof e.ArrayBuffer,a=n&&o(e.ArrayBuffer.prototype.slice);function o(e){return"function"===typeof e}t.arraybuffer=t.fetch||n&&s("arraybuffer"),t.msstream=!t.fetch&&a&&s("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&n&&s("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&o(r().overrideMimeType),t.vbArray=o(e.VBArray),i=null}).call(this,i("c8ba"))},aa00:function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=i("f9ee"),n=i("efc3");function a(e,t,i){var a=Uint8Array.from([0]),o=Uint8Array.from([1]);if(32!==e.length)throw new Error("Failed to parse merkleProof: Invalid rootHash length");var c=s.blake2b(n.concat(a,i)),d=[],h=t.map((function(e){return e}));while(h.length>0){var u=0===h[0]?"L":"R",l=h[1];if(l<1)throw new Error("Failed to parse merkleProof: Wrong hash size");var f=h.slice(2,2+l);d.push([u,f]),h=h.slice(2+l)}var p=d.reduce((function(e,t){var i=r(t,2),a=i[0],c=i[1];return s.blake2b(n.concat(o,"R"===a?n.concat(c,e):n.concat(e,c)))}),c);return p.every((function(t,i){return t===e[i]}))}t.merkleVerify=a},aa3f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();t.Adapter=r},ab13:function(e,t,i){var r=i("b622"),s=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[s]=!1,"/./"[e](t)}catch(r){}}return!1}},ab8c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("5884");function s(e){return r.fetchHeadersLast(e).then((function(e){return c(e.generator)[1]}))}t.default=s;for(var n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",a={},o=0;o<n.length;o++)a[n.charAt(o)]=o;function c(e){var t,i,r,s,n;if(0===e.length)return new Uint8Array(0);n=void 0,s=void 0,t=[0],n=0;while(n<e.length){if(i=e[n],!(i in a))throw"Base58.decode received unacceptable input. Character '"+i+"' is not in the Base58 alphabet.";s=0;while(s<t.length)t[s]*=58,s++;t[0]+=a[i],r=0,s=0;while(s<t.length)t[s]+=r,r=t[s]>>8,t[s]&=255,++s;while(r)t.push(255&r),r>>=8;n++}n=0;while("1"===e[n]&&n<e.length-1)t.push(0),n++;return new Uint8Array(t.reverse())}},abf9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("7612"),s=i("fe34"),n=function(e){return"string"===typeof e||e instanceof String},a=function(e){return e instanceof Uint8Array},o=function(e){return!1};t._fromIn=function(e){return n(e)?r.base58Decode(e):a(e)?e:Uint8Array.from(e)},t._fromRawIn=function(e){if(o(e))throw new Error("");return n(e)?s.stringToBytes(e):a(e)?e:Uint8Array.from(e)}},abfd:function(e,t,i){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<i;t++)for(var n=arguments[t],a=0,o=n.length;a<o;a++,s++)r[s]=n[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s;i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return f}));var n,a=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(n||(n={}));var o={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},c=n.INFO,d=(s={},s[n.DEBUG]="log",s[n.VERBOSE]="log",s[n.INFO]="info",s[n.WARN]="warn",s[n.ERROR]="error",s),h=function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(!(t<e.logLevel)){var n=(new Date).toISOString(),a=d[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+n+"]  "+e.name+":"],i))}},u=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=h,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?o[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.DEBUG],e)),this._logHandler.apply(this,r([this,n.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.VERBOSE],e)),this._logHandler.apply(this,r([this,n.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.INFO],e)),this._logHandler.apply(this,r([this,n.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.WARN],e)),this._logHandler.apply(this,r([this,n.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.ERROR],e)),this._logHandler.apply(this,r([this,n.ERROR],e))},e}();function l(e){a.forEach((function(t){t.setLogLevel(e)}))}function f(e,t){for(var i=function(i){var r=null;t&&t.level&&(r=o[t.level]),i.userLogHandler=null===e?null:function(t,i){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];var o=s.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");i>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:n[i].toLowerCase(),message:o,args:s,type:t.name})}},r=0,s=a;r<s.length;r++){var c=s[r];i(c)}}},ac1f:function(e,t,i){"use strict";var r=i("23e7"),s=i("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ac9b:function(e,t){e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},ad47:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAddresses=t.fetchPublicKey=t.fetchSeed=t.fetchSeq=t.fetchEffectiveBalance=t.fetchEffectiveBalanceConfirmations=t.fetchBalance=t.fetchValidate=t.data=t.fetchScriptInfo=t.fetchBalanceConfirmations=t.fetchBalanceDetails=t.fetchScriptInfoMeta=t.fetchDataKey=void 0;var s=r(i("85aa")),n=r(i("f963"));function a(e,t,i,r){return void 0===r&&(r=Object.create(null)),s.default({base:e,url:"/addresses/data/"+t+"/"+encodeURIComponent(i),options:r})}function o(e,t){return s.default({base:e,url:"/addresses/scriptInfo/"+t+"/meta"})}function c(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/addresses/balance/details/"+t,options:i})}function d(e,t,i,r){return void 0===r&&(r=Object.create(null)),s.default({base:e,url:"/addresses/balance/"+t+"/"+i,options:r})}function h(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/addresses/scriptInfo/"+t,options:i})}function u(e,t,i,r){return void 0===i&&(i=Object.create(null)),void 0===r&&(r=Object.create(null)),s.default({base:e,url:"/addresses/data/"+t+n.default(i),options:r})}function l(e,t){return s.default({base:e,url:"/addresses/validate/"+t})}function f(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/addresses/balance/"+t,options:i})}function p(e,t,i,r){return void 0===r&&(r=Object.create(null)),s.default({base:e,url:"/addresses/effectiveBalance/"+t+"/"+i,options:r})}function m(e,t,i){return void 0===i&&(i=Object.create(null)),s.default({base:e,url:"/addresses/effectiveBalance/"+t,options:i})}function g(e,t,i){return s.default({base:e,url:"/addresses/seq/"+t+"/"+i})}function y(e,t){return s.default({base:e,url:"/addresses/seed/"+t})}function v(e,t){return s.default({base:e,url:"/addresses/publicKey/"+t})}function b(e){return s.default({base:e,url:"/addresses"})}t.fetchDataKey=a,t.fetchScriptInfoMeta=o,t.fetchBalanceDetails=c,t.fetchBalanceConfirmations=d,t.fetchScriptInfo=h,t.data=u,t.fetchValidate=l,t.fetchBalance=f,t.fetchEffectiveBalanceConfirmations=p,t.fetchEffectiveBalance=m,t.fetchSeq=g,t.fetchSeed=y,t.fetchPublicKey=v,t.fetchAddresses=b},ad6d:function(e,t,i){"use strict";var r=i("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ad71:function(e,t,i){"use strict";(function(t,r){var s=i("966d");e.exports=k;var n,a=i("e3db");k.ReadableState=S;i("faa1").EventEmitter;var o=function(e,t){return e.listeners(t).length},c=i("429b"),d=i("8707").Buffer,h=t.Uint8Array||function(){};function u(e){return d.from(e)}function l(e){return d.isBuffer(e)||e instanceof h}var f=Object.create(i("3a7c"));f.inherits=i("3fb5");var p=i(2),m=void 0;m=p&&p.debuglog?p.debuglog("stream"):function(){};var g,y=i("5e1a"),v=i("4681");f.inherits(k,c);var b=["error","close","destroy","pause","resume"];function w(e,t,i){if("function"===typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function S(e,t){n=n||i("b19a"),e=e||{};var r=t instanceof n;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,a=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:r&&(a||0===a)?a:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=i("7d72").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||i("b19a"),!(this instanceof k))return new k(e);this._readableState=new S(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,i,r,s){var n,a=e._readableState;null===t?(a.reading=!1,A(e,a)):(s||(n=T(a,t)),n?e.emit("error",n):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=u(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):O(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):P(e,a)):O(e,a,t,!1))):r||(a.reading=!1));return C(a)}function O(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&N(e)),P(e,t)}function T(e,t){var i;return l(t)||"string"===typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function C(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(k.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=v.destroy,k.prototype._undestroy=v.undestroy,k.prototype._destroy=function(e,t){this.push(null),t(e)},k.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"===typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=d.from(e,t),t=""),i=!0),_(this,e,t,!1,i)},k.prototype.unshift=function(e){return _(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return g||(g=i("7d72").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var I=8388608;function x(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=x(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,N(e)}}function N(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?s.nextTick(M,e):M(e))}function M(e){m("emit readable"),e.emit("readable"),j(e)}function P(e,t){t.readingMore||(t.readingMore=!0,s.nextTick(B,e,t))}function B(e,t){var i=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){if(m("maybeReadMore read 0"),e.read(0),i===t.length)break;i=t.length}t.readingMore=!1}function R(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}function D(e){m("readable nexttick read 0"),e.read(0)}function L(e,t){t.resumeScheduled||(t.resumeScheduled=!0,s.nextTick(V,e,t))}function V(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;m("flow",t.flowing);while(t.flowing&&null!==e.read());}function q(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=U(e,t.buffer,t.decoder),i);var i}function U(e,t,i){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?G(e,t):F(e,t),r}function G(e,t){var i=t.head,r=1,s=i.data;e-=s.length;while(i=i.next){var n=i.data,a=e>n.length?n.length:e;if(a===n.length?s+=n:s+=n.slice(0,e),e-=a,0===e){a===n.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=n.slice(a));break}++r}return t.length-=r,s}function F(e,t){var i=d.allocUnsafe(e),r=t.head,s=1;r.data.copy(i),e-=r.data.length;while(r=r.next){var n=r.data,a=e>n.length?n.length:e;if(n.copy(i,i.length-e,0,a),e-=a,0===e){a===n.length?(++s,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=n.slice(a));break}++s}return t.length-=s,i}function H(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,s.nextTick(z,t,e))}function z(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}k.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?H(this):N(this),null;if(e=E(e,t),0===e&&t.ended)return 0===t.length&&H(this),null;var r,s=t.needReadable;return m("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&(s=!0,m("length less than watermark",s)),t.ended||t.reading?(s=!1,m("reading or ended",s)):s&&(m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(i,t))),r=e>0?q(e,t):null,null===r?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&H(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},k.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,m("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,c=a?h:S;function d(e,t){m("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function h(){m("onend"),e.end()}n.endEmitted?s.nextTick(c):i.once("end",c),e.on("unpipe",d);var u=R(i);e.on("drain",u);var l=!1;function f(){m("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",d),i.removeListener("end",h),i.removeListener("end",S),i.removeListener("data",g),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}var p=!1;function g(t){m("ondata"),p=!1;var r=e.write(t);!1!==r||p||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==K(n.pipes,e))&&!l&&(m("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function y(t){m("onerror",t),S(),e.removeListener("error",y),0===o(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),S()}function b(){m("onfinish"),e.removeListener("close",v),S()}function S(){m("unpipe"),i.unpipe(e)}return i.on("data",g),w(e,"error",y),e.once("close",v),e.once("finish",b),e.emit("pipe",i),n.flowing||(m("pipe resume"),i.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var r=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<s;n++)r[n].emit("unpipe",this,i);return this}var a=K(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},k.prototype.on=function(e,t){var i=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&N(this):s.nextTick(D,this))}return i},k.prototype.addListener=k.prototype.on,k.prototype.resume=function(){var e=this._readableState;return e.flowing||(m("resume"),e.flowing=!0,L(this,e)),this},k.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},k.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var s in e.on("end",(function(){if(m("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(s){if(m("wrapped data"),i.decoder&&(s=i.decoder.write(s)),(!i.objectMode||null!==s&&void 0!==s)&&(i.objectMode||s&&s.length)){var n=t.push(s);n||(r=!0,e.pause())}})),e)void 0===this[s]&&"function"===typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var n=0;n<b.length;n++)e.on(b[n],this.emit.bind(this,b[n]));return this._read=function(t){m("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),k._fromList=q}).call(this,i("c8ba"),i("4362"))},adda:function(e,t,i){"use strict";var r=i("53ca"),s=(i("a9e3"),i("a15b"),i("8a79"),i("2ca0"),i("8efc"),i("90a2")),n=(i("36a7"),i("24b2")),a=i("58df"),o=Object(a["a"])(n["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio:function(){return Number(this.aspectRatio)},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},this.$slots.default)}},render:function(e){return e("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),c=o,d=i("7560"),h=i("d9f7"),u=i("d9bd"),l="undefined"!==typeof window&&"IntersectionObserver"in window;t["a"]=Object(a["a"])(c,d["a"]).extend({name:"v-img",directives:{intersect:s["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio:function(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc:function(){return this.src&&"object"===Object(r["a"])(this.src)?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage:function(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];var e=[],t=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&e.push("linear-gradient(".concat(this.gradient,")")),t&&e.push('url("'.concat(t,'")'));var i=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:e.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[i]):i}},watch:{src:function(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(e,t,i){if(!l||i||this.eager){if(this.normalisedSrc.lazySrc){var r=new Image;r.src=this.normalisedSrc.lazySrc,this.pollForSize(r,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError:function(){this.hasError=!0,this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var e=this,t=new Image;this.image=t,t.onload=function(){t.decode?t.decode().catch((function(t){Object(u["c"])("Failed to decode image, trying to render anyway\n\n"+"src: ".concat(e.normalisedSrc.src)+(t.message?"\nOriginal error: ".concat(t.message):""),e)})).then(e.onLoad):e.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=function r(){var s=e.naturalHeight,n=e.naturalWidth;s||n?(t.naturalWidth=n,t.calculatedAspectRatio=n/s):e.complete||!t.isLoading||t.hasError||null==i||setTimeout(r,i)};r()},genContent:function(){var e=c.options.methods.genContent.call(this);return this.naturalWidth&&this._b(e.data,"div",{style:{width:"".concat(this.naturalWidth,"px")}}),e},__genPlaceholder:function(){if(this.$slots.placeholder){var e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render:function(e){var t=c.options.render.call(this,e),i=Object(h["a"])(t.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:l?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return t.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],e(t.tag,i,t.children)}})},addb:function(e,t){var i=Math.floor,r=function(e,t){var a=e.length,o=i(a/2);return a<8?s(e,t):n(r(e.slice(0,o),t),r(e.slice(o),t),t)},s=function(e,t){var i,r,s=e.length,n=1;while(n<s){r=n,i=e[n];while(r&&t(e[r-1],i)>0)e[r]=e[--r];r!==n++&&(e[r]=i)}return e},n=function(e,t,i){var r=e.length,s=t.length,n=0,a=0,o=[];while(n<r||a<s)n<r&&a<s?o.push(i(e[n],t[a])<=0?e[n++]:t[a++]):o.push(n<r?e[n++]:t[a++]);return o};e.exports=r},ade3:function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,"a",(function(){return r}))},ae1c:function(e,t,i){var r=i("fd46"),s=i("70ea"),n=i("6ff5"),a=s(r("tail",n(1,1/0)));e.exports=a},ae93:function(e,t,i){"use strict";var r,s,n,a=i("d039"),o=i("e163"),c=i("9112"),d=i("5135"),h=i("b622"),u=i("c430"),l=h("iterator"),f=!1,p=function(){return this};[].keys&&(n=[].keys(),"next"in n?(s=o(o(n)),s!==Object.prototype&&(r=s)):f=!0);var m=void 0==r||a((function(){var e={};return r[l].call(e)!==e}));m&&(r={}),u&&!m||d(r,l)||c(r,l,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},aea5:function(e,t,i){var r=i("5a7c"),s=r((function(e,t){return e>=t}));e.exports=s},aef9:function(e,t,i){"use strict";const r=Date.now,s=()=>1e3*r(),n=r,a=()=>Math.floor(r()/1e3),o=()=>{const e=12219292800,t=1e7*e,i=10*s()+t,r=i.toString(16),n=r.slice(7,15)+r.slice(3,7)+"1"+r.slice(0,3),a="9696",o="ff".repeat(6);return n+a+o},c=setTimeout,d=(e,t,i=c,s=r()+t)=>{let n=()=>{},a=!0;const o=i(()=>{a=!0;const t=s-r();t>0?n=d(e,t,i,s):e()},t);return function(){a&&(a=!1,clearTimeout(o)),n()}};class h extends Error{constructor(){const e="timed out";super(e),this.constructor=h,this.__proto__=h.prototype,this.message=e}}const u=e=>{let t=void 0;if(t="number"===typeof e?Math.floor(e):parseInt(e,10),!(Number.isNaN(t)||t<0))try{return new Date(t).toISOString()}catch(i){return}},l=e=>{if("string"===typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{const t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(Number.isNaN(t))return;return t}catch(t){return}},f=e=>{if("string"===typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(t){return}return l(e)}},p=e=>new Date(e).toUTCString(),m=(e,t="-")=>{t=t||"";const i=new Date(e),r=i.getUTCFullYear().toString();let s=i.getUTCMonth()+1,n=i.getUTCDate();return s=s<10?"0"+s:s.toString(),n=n<10?"0"+n:n.toString(),s+t+n+t+r},g=(e,t="-")=>{t=t||"";const i=new Date(e),r=i.getUTCFullYear().toString();let s=i.getUTCMonth()+1,n=i.getUTCDate();return s=s<10?"0"+s:s.toString(),n=n<10?"0"+n:n.toString(),r+t+s+t+n},y=(e,t=" ")=>{const i=new Date(e),r=i.getUTCFullYear();let s=i.getUTCMonth()+1,n=i.getUTCDate(),a=i.getUTCHours(),o=i.getUTCMinutes(),c=i.getUTCSeconds();return s=s<10?"0"+s:s,n=n<10?"0"+n:n,a=a<10?"0"+a:a,o=o<10?"0"+o:o,c=c<10?"0"+c:c,r+"-"+s+"-"+n+t+a+":"+o+":"+c};e.exports={now:r,microseconds:s,milliseconds:n,seconds:a,iso8601:u,parse8601:l,rfc2616:p,uuidv1:o,parseDate:f,mdy:m,ymd:g,ymdhms:y,setTimeout_safe:d,sleep:e=>new Promise(t=>d(t,e)),TimedOut:h,timeout:async(e,t)=>{let i=()=>{};const r=new Promise(t=>i=d(t,e));try{return await Promise.race([t,r.then(()=>{throw new h})])}finally{i()}}}},af03:function(e,t,i){var r=i("d039");e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},af2b:function(e,t,i){"use strict";i("c96a");var r=i("2b0e");t["a"]=r["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium:function(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses:function(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},afc2:function(e,t,i){var r=i("00b3"),s=i("001c");function n(e,t,i){return function(){var a=[],o=0,c=e,d=0;while(d<t.length||o<arguments.length){var h;d<t.length&&(!s(t[d])||o>=arguments.length)?h=t[d]:(h=arguments[o],o+=1),a[d]=h,s(h)||(c-=1),d+=1}return c<=0?i.apply(this,a):r(c,n(e,a,i))}}e.exports=n},afdd:function(e,t,i){"use strict";var r=i("8336");t["a"]=r["a"]},b041:function(e,t,i){"use strict";var r=i("00ee"),s=i("f5df");e.exports=r?{}.toString:function(){return"[object "+s(this)+"]"}},b0af:function(e,t,i){"use strict";var r=i("5530"),s=(i("a9e3"),i("0481"),i("615b"),i("10d2")),n=i("297c"),a=i("1c87"),o=i("58df");t["a"]=Object(o["a"])(n["a"],a["a"],s["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({"v-card":!0},a["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},s["a"].options.computed.classes.call(this))},styles:function(){var e=Object(r["a"])({},s["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=n["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),i=t.tag,r=t.data;return r.style=this.styles,this.isClickable&&(r.attrs=r.attrs||{},r.attrs.tabindex=0),e(i,this.setBackgroundColor(this.color,r),[this.genProgress(),this.$slots.default])}})},b0c0:function(e,t,i){var r=i("83ab"),s=i("9bf2").f,n=Function.prototype,a=n.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in n)&&s(n,c,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(e){return""}}})},b109:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,InsufficientFunds:a,InvalidOrder:o,OrderNotFound:c,AuthenticationError:d,BadSymbol:h}=i("74b0"),u=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"indodax",name:"INDODAX",countries:["ID"],has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchTrades:!0,withdraw:!0},version:"2.0",urls:{logo:"https://user-images.githubusercontent.com/51840849/87070508-9358c880-c221-11ea-8dc5-5391afbbb422.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://github.com/btcid/indodax-official-api-docs",referral:"https://indodax.com/ref/testbitcoincoid/1"},api:{public:{get:["server_time","pairs","{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}},exceptions:{exact:{invalid_pair:h,"Insufficient balance.":a,"invalid order.":c,"Invalid credentials. API not found or session has expired.":d,"Invalid credentials. Bad sign.":d},broad:{"Minimum price":o,"Minimum order":o}},options:{recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},commonCurrencies:{STR:"XLM",BCHABC:"BCH",BCHSV:"BSV",DRK:"DASH",NEM:"XEM"}})}nonce(){return this.milliseconds()-this.options["timeDifference"]}async fetchTime(e={}){const t=await this.publicGetServerTime(e);return this.safeInteger(t,"server_time")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options["timeDifference"]=i-t,this.options["timeDifference"]}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"ticker_id"),n=this.safeString(e,"traded_currency"),a=this.safeString(e,"base_currency"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeNumber(e,"trade_fee_percent"),u=this.safeInteger(e,"is_maintenance"),l=!u,f=this.safeInteger(e,"price_round"),p={amount:8,price:f},m={amount:{min:this.safeNumber(e,"trade_min_traded_currency"),max:void 0},price:{min:this.safeNumber(e,"trade_min_base_currency"),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,symbol:d,base:o,quote:c,baseId:n,quoteId:a,taker:h,percentage:!0,precision:p,limits:m,info:e,active:l})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeValue(i,"balance",{}),s=this.safeValue(i,"balance_hold",{}),n=this.safeTimestamp(i,"server_time"),a={info:t,timestamp:n,datetime:this.iso8601(n)},o=Object.keys(r);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),i=this.account();i["free"]=this.safeString(r,e),i["used"]=this.safeString(s,e),a[t]=i}return this.parseBalance(a,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetPairDepth(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buy","sell")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},s=await this.publicGetPairTicker(this.extend(r,t)),n=s["ticker"],a=this.safeTimestamp(n,"server_time"),o="vol_"+i["baseId"].toLowerCase(),c="vol_"+i["quoteId"].toLowerCase(),d=this.safeNumber(n,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(n,"high"),low:this.safeNumber(n,"low"),bid:this.safeNumber(n,"buy"),bidVolume:void 0,ask:this.safeNumber(n,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(n,o),quoteVolume:this.safeNumber(n,c),info:n}}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid");let s=void 0;void 0!==t&&(s=t["symbol"]);const n=void 0,a=this.safeString(e,"type"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),d=this.parseNumber(o),h=this.parseNumber(c),l=this.parseNumber(u.stringMul(o,c));return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:n,side:a,order:void 0,takerOrMaker:void 0,price:d,amount:h,cost:l,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]},a=await this.publicGetPairTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOrderStatus(e){const t={open:"open",filled:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){let i=void 0;"type"in e&&(i=e["type"]);const r=this.parseOrderStatus(this.safeString(e,"status","open"));let s=void 0,n=void 0;const a=this.safeNumber(e,"price");let o=void 0,c=void 0;if(void 0!==t){s=t["symbol"];let i=t["quoteId"],r=t["baseId"];"idr"===t["quoteId"]&&"order_rp"in e&&(i="rp"),"idr"===t["baseId"]&&"remain_rp"in e&&(r="rp"),n=this.safeNumber(e,"order_"+i),n||(o=this.safeNumber(e,"order_"+r),c=this.safeNumber(e,"remain_"+r))}const d=this.safeInteger(e,"submit_time"),h=void 0,u=this.safeString(e,"order_id");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:a,stopPrice:void 0,cost:n,average:void 0,amount:o,filled:void 0,remaining:c,status:r,fee:h,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol");await this.loadMarkets();const r=this.market(t),s={pair:r["id"],order_id:e},a=await this.privatePostGetOrder(this.extend(s,i)),o=a["return"],c=this.parseOrder(this.extend({id:e},o["order"]),r);return this.extend({info:a},c)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["pair"]=s["id"]);const a=await this.privatePostOpenOrders(this.extend(n,r)),o=a["return"]["orders"];if(!o)return[];if(void 0!==e)return this.parseOrders(o,s,t,i);const c=Object.keys(o);let d=[];for(let h=0;h<c.length;h++){const e=c[h],r=o[e];s=this.markets_by_id[e];const n=this.parseOrders(r,s,t,i);d=this.arrayConcat(d,n)}return d}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s["pair"]=a["id"]);const o=await this.privatePostOrderHistory(this.extend(s,r));let c=this.parseOrders(o["return"]["orders"],a);return c=this.filterBy(c,"status","closed"),this.filterBySymbolSinceLimit(c,e,t,i)}async createOrder(e,t,i,r,n,a={}){if("limit"!==t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,price:n},d=o["baseId"];"buy"===i?c[o["quoteId"]]=r*n:c[o["baseId"]]=r,c[d]=r;const h=await this.privatePostTrade(this.extend(c,a)),u=this.safeValue(h,"return",{}),l=this.safeString(u,"order_id");return{info:h,id:l}}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");const r=this.safeValue(i,"side");if(void 0===r)throw new n(this.id+' cancelOrder() requires an extra "side" param');await this.loadMarkets();const s=this.market(t),a={order_id:e,pair:s["id"],type:r};return await this.privatePostCancelOrder(this.extend(a,i))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a=this.milliseconds(),o={currency:n["id"],withdraw_amount:t,withdraw_address:i,request_id:a.toString()};r&&(o["withdraw_memo"]=r);const c=await this.privatePostWithdrawCoin(this.extend(o,s));let d=void 0;return"txid"in c&&c["txid"].length>0&&(d=c["txid"]),{info:c,id:d}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t];return"public"===t?a+="/"+this.implodeParams(e,r):(this.checkRequiredCredentials(),n=this.urlencode(this.extend({method:e,timestamp:this.nonce(),recvWindow:this.options["recvWindow"]},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}),{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;if(Array.isArray(o))return;const h=this.safeValue(o,"error","");if(!("success"in o)&&""===h)return;if(1===this.safeInteger(o,"success",0)){if("return"in o)return;throw new s(this.id+": malformed response: "+this.json(o))}const u=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,u),this.throwBroadlyMatchedException(this.exceptions["broad"],h,u),new s(u)}}},b19a:function(e,t,i){"use strict";var r=i("966d"),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=u;var n=Object.create(i("3a7c"));n.inherits=i("3fb5");var a=i("ad71"),o=i("dc14");n.inherits(u,a);for(var c=s(o.prototype),d=0;d<c.length;d++){var h=c[d];u.prototype[h]||(u.prototype[h]=o.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},b1a8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("6783");(function(e){e[e["Event"]=0]="Event",e[e["Action"]=1]="Action",e[e["Response"]=2]="Response"})(t.EventType||(t.EventType={})),function(e){e[e["Success"]=0]="Success",e[e["Error"]=1]="Error"}(t.ResponseStatus||(t.ResponseStatus={}));var s=function(){function e(e,t){var i=this;this.id=r.uniqueId("bus"),this._timeout=t||5e3,this._adapter=e,this._adapter.addListener((function(e){return i._onMessage(e)})),this._eventHandlers=Object.create(null),this._activeRequestHash=Object.create(null),this._requestHandlers=Object.create(null),r.console.info('Create Bus with id "'+this.id+'"')}return e.prototype.dispatchEvent=function(t,i){return this._adapter.send(e._createEvent(t,i)),r.console.info('Dispatch event "'+t+'"',i),this},e.prototype.request=function(e,t,i){var s=this;return new Promise((function(n,a){var o,c=r.uniqueId(s.id+"-action"),d=i||s._timeout;-1!==(i||s._timeout)&&(o=setTimeout((function(){delete s._activeRequestHash[c];var t=new Error('Timeout error for request with name "'+e+'" and timeout '+d+"!");r.console.error(t),a(t)}),d));var h=function(){o&&clearTimeout(o)};s._activeRequestHash[c]={reject:function(t){h(),r.console.error('Error request with name "'+e+'"',t),a(t)},resolve:function(t){h(),r.console.info('Request with name "'+e+'" success resolved!',t),n(t)}},s._adapter.send({id:c,type:1,name:e,data:t}),r.console.info('Request with name "'+e+'"',t)}))},e.prototype.on=function(e,t,i){return this._addEventHandler(e,t,i,!1)},e.prototype.once=function(e,t,i){return this._addEventHandler(e,t,i,!0)},e.prototype.off=function(e,t){var i=this;return e?this._eventHandlers[e]?t?(this._eventHandlers[e]=this._eventHandlers[e].filter((function(e){return e.handler!==t})),this._eventHandlers[e].length||delete this._eventHandlers[e],this):(this._eventHandlers[e].slice().forEach((function(t){i.off(e,t.handler)})),this):this:(Object.keys(this._eventHandlers).forEach((function(e){return i.off(e,t)})),this)},e.prototype.registerRequestHandler=function(e,t){if(this._requestHandlers[e])throw new Error("Duplicate request handler!");return this._requestHandlers[e]=t,this},e.prototype.unregisterHandler=function(e){return this._requestHandlers[e]&&delete this._requestHandlers[e],this},e.prototype.changeAdapter=function(t){var i=this,r=new e(t,this._timeout);return Object.keys(this._eventHandlers).forEach((function(e){i._eventHandlers[e].forEach((function(t){t.once?r.once(e,t.handler,t.context):r.on(e,t.handler,t.context)}))})),Object.keys(this._requestHandlers).forEach((function(e){r.registerRequestHandler(e,i._requestHandlers[e])})),r},e.prototype.destroy=function(){r.console.info("Destroy Bus"),this.off(),this._adapter.destroy()},e.prototype._addEventHandler=function(e,t,i,r){return this._eventHandlers[e]||(this._eventHandlers[e]=[]),this._eventHandlers[e].push({handler:t,once:r,context:i}),this},e.prototype._onMessage=function(e){switch(e.type){case 0:r.console.info('Has event with name "'+String(e.name)+'"',e.data),this._fireEvent(String(e.name),e.data);break;case 1:r.console.info('Start action with id "'+e.id+'" and name "'+String(e.name)+'"',e.data),this._createResponse(e);break;case 2:r.console.info('Start response with name "'+e.id+'" and status "'+e.status+'"',e.content),this._fireEndAction(e);break}},e.prototype._createResponse=function(t){var i=this,s=function(e){r.console.error(e),i._adapter.send({id:t.id,type:2,status:1,content:String(e)})};if(this._requestHandlers[String(t.name)])try{var n=this._requestHandlers[String(t.name)](t.data);e._isPromise(n)?n.then((function(e){i._adapter.send({id:t.id,type:2,status:0,content:e})}),s):this._adapter.send({id:t.id,type:2,status:0,content:n})}catch(a){s(a)}else s(new Error('Has no handler for "'+String(t.name)+'" action!'))},e.prototype._fireEndAction=function(e){if(this._activeRequestHash[e.id]){switch(e.status){case 1:this._activeRequestHash[e.id].reject(e.content);break;case 0:this._activeRequestHash[e.id].resolve(e.content);break}delete this._activeRequestHash[e.id]}},e.prototype._fireEvent=function(e,t){this._eventHandlers[e]&&(this._eventHandlers[e]=this._eventHandlers[e].slice().filter((function(e){try{e.handler.call(e.context,t)}catch(i){r.console.warn(i)}return!e.once})),this._eventHandlers[e].length||delete this._eventHandlers[e])},e._createEvent=function(e,t){return{type:0,name:e,data:t}},e._isPromise=function(e){return e&&e.then&&"function"===typeof e.then},e}();t.Bus=s},b383:function(e,t,i){"use strict";t.decode=t.parse=i("91dd"),t.encode=t.stringify=i("e099")},b3ef:function(e,t,i){"use strict";(function(e){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=i("9c4b"),n=i("d47d"),a=function(e){return e.console}("undefined"!==typeof self?self:e),o=Object.create(null);function c(e){o[e]||(o[e]=[])}function d(e,t){o[e].push(t)}function h(){return n.keys(s.config.console.methodsData).reduce((function(e,t){return e[t]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];s.config.console.logLevel<s.config.console.methodsData[t].logLevel?s.config.console.methodsData[t].save&&(c(t),d(t,e)):a[t].apply(a,e)},e}),Object.create(null))}t.console=r({},h(),{getSavedMessages:function(e){return o[e]||[]}})}).call(this,i("c8ba"))},b43e:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,BadRequest:n}=i("74b0"),a=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zaif",name:"Zaif",countries:["JP"],rateLimit:2e3,version:"1",has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["https://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:.001,maker:0}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}},options:{fees:{"BTC/JPY":{maker:0,taker:0},"BCH/JPY":{maker:0,taker:.003},"BCH/BTC":{maker:0,taker:.003},"PEPECASH/JPY":{maker:0,taker:1e-4},"PEPECASH/BT":{maker:0,taker:1e-4}}},exceptions:{exact:{"unsupported currency_pair":n},broad:{}}})}async fetchMarkets(e={}){const t=await this.publicGetCurrencyPairsAll(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency_pair"),n=this.safeString(e,"name"),[a,o]=n.split("/"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:-Math.log10(this.safeNumber(e,"item_unit_step")),price:this.safeInteger(e,"aux_unit_point")},l=this.safeValue(this.options["fees"],h,this.fees["trading"]),f=l["taker"],p=l["maker"];i.push({id:s,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:!0,precision:u,taker:f,maker:p,limits:{amount:{min:this.safeNumber(e,"item_unit_min"),max:void 0},price:{min:this.safeNumber(e,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeValue(i,"deposit"),s={info:t,timestamp:void 0,datetime:void 0},n=this.safeValue(i,"funds",{}),a=Object.keys(n);for(let o=0;o<a.length;o++){const e=a[o],t=this.safeCurrencyCode(e),i=this.safeString(n,e),c=this.account();c["free"]=i,c["total"]=i,void 0!==r&&e in r&&(c["total"]=this.safeString(r,e)),s[t]=c}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetDepthPair(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetTickerPair(this.extend(i,t)),s=this.milliseconds(),n=this.safeNumber(r,"vwap"),a=this.safeNumber(r,"volume");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:n,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:o,info:r}}parseTrade(e,t){let i=this.safeString(e,"trade_type");i="bid"===i?"buy":"sell";const r=this.safeTimestamp(e,"date"),s=this.safeString2(e,"id","tid"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),d=this.parseNumber(o),h=this.parseNumber(a.stringMul(n,o)),u=this.safeString(e,"currency_pair"),l=this.safeSymbol(u,t,"_");return{id:s,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:void 0,side:i,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};let a=await this.publicGetTradesPair(this.extend(n,r));const o=a.length;if(1===o){const e=a[0];Object.keys(e).length||(a=[])}return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,n,a={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" allows limit orders only");const o={currency_pair:this.marketId(e),action:"buy"===i?"bid":"ask",amount:r,price:n},c=await this.privatePostTrade(this.extend(o,a));return{info:c,id:c["return"]["order_id"].toString()}}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrder(e,t){let i=this.safeString(e,"action");i="bid"===i?"buy":"sell";const r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"currency_pair"),n=this.safeSymbol(s,t,"_"),a=this.safeNumber(e,"price"),o=this.safeNumber(e,"amount"),c=this.safeString(e,"id");return this.safeOrder({id:c,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:n,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:a,stopPrice:void 0,cost:void 0,amount:o,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["currency_pair"]=s["id"]);const a=await this.privatePostActiveOrders(this.extend(n,r));return this.parseOrders(a["return"],s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["currency_pair"]=s["id"]);const a=await this.privatePostTradeHistory(this.extend(n,r));return this.parseOrders(a["return"],s,t,i)}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);if("JPY"===e)throw new s(this.id+" withdraw() does not allow "+e+" withdrawals");const o={currency:a["id"],amount:t,address:i};void 0!==r&&(o["message"]=r);const c=await this.privatePostWithdraw(this.extend(o,n));return{info:c,id:c["return"]["txid"],fee:c["return"]["fee"]}}nonce(){const e=parseFloat(this.milliseconds()/1e3);return e.toFixed(8)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/";if("public"===t)a+="api/"+this.version+"/"+this.implodeParams(e,r);else if("fapi"===t)a+="fapi/"+this.version+"/"+this.implodeParams(e,r);else{this.checkRequiredCredentials(),a+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";const i=this.nonce();n=this.urlencode(this.extend({method:e,nonce:i},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.id+" "+a,u=this.safeString(o,"error");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions["exact"],u,h),this.throwBroadlyMatchedException(this.exceptions["broad"],u,h),new s(h);const l=this.safeValue(o,"success",!0);if(!l)throw new s(h)}}},b50d:function(e,t,i){"use strict";var r=i("c532"),s=i("467f"),n=i("7aac"),a=i("30b5"),o=i("83b9"),c=i("c345"),d=i("3934"),h=i("2d83");e.exports=function(e){return new Promise((function(t,i){var u=e.data,l=e.headers;r.isFormData(u)&&delete l["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(p+":"+m)}var g=o(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?f.response:f.responseText,a={data:n,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};s(t,i,a),f=null}},f.onabort=function(){f&&(i(h("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(h("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(h(t,e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||d(g))&&e.xsrfCookieName?n.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&r.forEach(l,(function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete l[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),i(e),f=null)})),u||(u=null),f.send(u)}))}},b575:function(e,t,i){var r,s,n,a,o,c,d,h,u=i("da84"),l=i("06cf").f,f=i("2cf4").set,p=i("1cdc"),m=i("a4b4"),g=i("605d"),y=u.MutationObserver||u.WebKitMutationObserver,v=u.document,b=u.process,w=u.Promise,S=l(u,"queueMicrotask"),k=S&&S.value;k||(r=function(){var e,t;g&&(e=b.domain)&&e.exit();while(s){t=s.fn,s=s.next;try{t()}catch(i){throw s?a():n=void 0,i}}n=void 0,e&&e.enter()},p||g||m||!y||!v?w&&w.resolve?(d=w.resolve(void 0),d.constructor=w,h=d.then,a=function(){h.call(d,r)}):a=g?function(){b.nextTick(r)}:function(){f.call(u,r)}:(o=!0,c=v.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=o=!o})),e.exports=k||function(e){var t={fn:e,next:void 0};n&&(n.next=t),s||(s=t,a()),n=t}},b61d:function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},b622:function(e,t,i){var r=i("da84"),s=i("5692"),n=i("5135"),a=i("90e3"),o=i("4930"),c=i("fdbf"),d=s("wks"),h=r.Symbol,u=c?h:h&&h.withoutSetter||a;e.exports=function(e){return n(d,e)&&(o||"string"==typeof d[e])||(o&&n(h,e)?d[e]=h[e]:d[e]=u("Symbol."+e)),d[e]}},b639:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i("1fb5"),s=i("9152"),n=i("e3db");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=d.prototype):(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,i){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return h(this,e,t,i)}function h(e,t,i,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,i,r):"string"===typeof t?p(e,t,i):y(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,i,r){return u(t),t<=0?c(e,t):void 0!==i?"string"===typeof r?c(e,t).fill(i,r):c(e,t).fill(i):c(e,t)}function f(e,t){if(u(t),e=c(e,t<0?0:0|v(t)),!d.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function p(e,t,i){if("string"===typeof i&&""!==i||(i="utf8"),!d.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(t,i);e=c(e,r);var s=e.write(t,i);return s!==r&&(e=e.slice(0,s)),e}function m(e,t){var i=t.length<0?0:0|v(t.length);e=c(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function g(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r),d.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=d.prototype):e=m(e,t),e}function y(e,t){if(d.isBuffer(t)){var i=0|v(t.length);return e=c(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):m(e,t);if("Buffer"===t.type&&n(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),d.alloc(+e)}function w(e,t){if(d.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return J(e).length;default:if(r)return X(e).length;t=(""+t).toLowerCase(),r=!0}}function S(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return L(this,t,i);case"utf8":case"utf-8":return M(this,t,i);case"ascii":return R(this,t,i);case"latin1":case"binary":return D(this,t,i);case"base64":return N(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function k(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function _(e,t,i,r,s){if(0===e.length)return-1;if("string"===typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=s?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(s)return-1;i=e.length-1}else if(i<0){if(!s)return-1;i=0}if("string"===typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:O(e,t,i,r,s);if("number"===typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):O(e,[t],i,r,s);throw new TypeError("val must be string, number or Buffer")}function O(e,t,i,r,s){var n,a=1,o=e.length,c=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,i/=2}function d(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(s){var h=-1;for(n=i;n<o;n++)if(d(e,n)===d(t,-1===h?0:n-h)){if(-1===h&&(h=n),n-h+1===c)return h*a}else-1!==h&&(n-=n-h),h=-1}else for(i+c>o&&(i=o-c),n=i;n>=0;n--){for(var u=!0,l=0;l<c;l++)if(d(e,n+l)!==d(t,l)){u=!1;break}if(u)return n}return-1}function T(e,t,i,r){i=Number(i)||0;var s=e.length-i;r?(r=Number(r),r>s&&(r=s)):r=s;var n=t.length;if(n%2!==0)throw new TypeError("Invalid hex string");r>n/2&&(r=n/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[i+a]=o}return a}function C(e,t,i,r){return ee(X(t,e.length-i),e,i,r)}function I(e,t,i,r){return ee(Q(t),e,i,r)}function x(e,t,i,r){return I(e,t,i,r)}function E(e,t,i,r){return ee(J(t),e,i,r)}function A(e,t,i,r){return ee(Z(t,e.length-i),e,i,r)}function N(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function M(e,t,i){i=Math.min(e.length,i);var r=[],s=t;while(s<i){var n,a,o,c,d=e[s],h=null,u=d>239?4:d>223?3:d>191?2:1;if(s+u<=i)switch(u){case 1:d<128&&(h=d);break;case 2:n=e[s+1],128===(192&n)&&(c=(31&d)<<6|63&n,c>127&&(h=c));break;case 3:n=e[s+1],a=e[s+2],128===(192&n)&&128===(192&a)&&(c=(15&d)<<12|(63&n)<<6|63&a,c>2047&&(c<55296||c>57343)&&(h=c));break;case 4:n=e[s+1],a=e[s+2],o=e[s+3],128===(192&n)&&128===(192&a)&&128===(192&o)&&(c=(15&d)<<18|(63&n)<<12|(63&a)<<6|63&o,c>65535&&c<1114112&&(h=c))}null===h?(h=65533,u=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),s+=u}return B(r)}t.Buffer=d,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=o(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,i){return h(null,e,t,i)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,i){return l(null,e,t,i)},d.allocUnsafe=function(e){return f(null,e)},d.allocUnsafeSlow=function(e){return f(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,s=0,n=Math.min(i,r);s<n;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=d.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var a=e[i];if(!d.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,s),s+=a.length}return r},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):S.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,i,r,s){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||i>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=i)return 0;if(r>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,s>>>=0,this===e)return 0;for(var n=s-r,a=i-t,o=Math.min(n,a),c=this.slice(r,s),h=e.slice(t,i),u=0;u<o;++u)if(c[u]!==h[u]){n=c[u],a=h[u];break}return n<a?-1:a<n?1:0},d.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},d.prototype.indexOf=function(e,t,i){return _(this,e,t,i,!0)},d.prototype.lastIndexOf=function(e,t,i){return _(this,e,t,i,!1)},d.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var s=this.length-t;if((void 0===i||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var n=!1;;)switch(r){case"hex":return T(this,e,t,i);case"utf8":case"utf-8":return C(this,e,t,i);case"ascii":return I(this,e,t,i);case"latin1":case"binary":return x(this,e,t,i);case"base64":return E(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),n=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function B(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var i="",r=0;while(r<t)i+=String.fromCharCode.apply(String,e.slice(r,r+=P));return i}function R(e,t,i){var r="";i=Math.min(e.length,i);for(var s=t;s<i;++s)r+=String.fromCharCode(127&e[s]);return r}function D(e,t,i){var r="";i=Math.min(e.length,i);for(var s=t;s<i;++s)r+=String.fromCharCode(e[s]);return r}function L(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var s="",n=t;n<i;++n)s+=Y(e[n]);return s}function V(e,t,i){for(var r=e.slice(t,i),s="",n=0;n<r.length;n+=2)s+=String.fromCharCode(r[n]+256*r[n+1]);return s}function j(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function q(e,t,i,r,s,n){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<n)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function U(e,t,i,r){t<0&&(t=65535+t+1);for(var s=0,n=Math.min(e.length-i,2);s<n;++s)e[i+s]=(t&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function G(e,t,i,r){t<0&&(t=4294967295+t+1);for(var s=0,n=Math.min(e.length-i,4);s<n;++s)e[i+s]=t>>>8*(r?s:3-s)&255}function F(e,t,i,r,s,n){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function H(e,t,i,r,n){return n||F(e,t,i,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,i,r,23,4),i+4}function z(e,t,i,r,n){return n||F(e,t,i,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,i,r,52,8),i+8}d.prototype.slice=function(e,t){var i,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=d.prototype;else{var s=t-e;i=new d(s,void 0);for(var n=0;n<s;++n)i[n]=this[n+e]}return i},d.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||j(e,t,this.length);var r=this[e],s=1,n=0;while(++n<t&&(s*=256))r+=this[e+n]*s;return r},d.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||j(e,t,this.length);var r=this[e+--t],s=1;while(t>0&&(s*=256))r+=this[e+--t]*s;return r},d.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||j(e,t,this.length);var r=this[e],s=1,n=0;while(++n<t&&(s*=256))r+=this[e+n]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||j(e,t,this.length);var r=t,s=1,n=this[e+--r];while(r>0&&(s*=256))n+=this[e+--r]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n},d.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),s.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),s.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),s.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),s.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t|=0,i|=0,!r){var s=Math.pow(2,8*i)-1;q(this,e,t,i,s,0)}var n=1,a=0;this[t]=255&e;while(++a<i&&(n*=256))this[t+a]=e/n&255;return t+i},d.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t|=0,i|=0,!r){var s=Math.pow(2,8*i)-1;q(this,e,t,i,s,0)}var n=i-1,a=1;this[t+n]=255&e;while(--n>=0&&(a*=256))this[t+n]=e/a&255;return t+i},d.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*i-1);q(this,e,t,i,s-1,-s)}var n=0,a=1,o=0;this[t]=255&e;while(++n<i&&(a*=256))e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+i},d.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*i-1);q(this,e,t,i,s-1,-s)}var n=i-1,a=1,o=0;this[t+n]=255&e;while(--n>=0&&(a*=256))e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+i},d.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,i){return H(this,e,t,!0,i)},d.prototype.writeFloatBE=function(e,t,i){return H(this,e,t,!1,i)},d.prototype.writeDoubleLE=function(e,t,i){return z(this,e,t,!0,i)},d.prototype.writeDoubleBE=function(e,t,i){return z(this,e,t,!1,i)},d.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var s,n=r-i;if(this===e&&i<t&&t<r)for(s=n-1;s>=0;--s)e[s+t]=this[s+i];else if(n<1e3||!d.TYPED_ARRAY_SUPPORT)for(s=0;s<n;++s)e[s+t]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+n),t);return n},d.prototype.fill=function(e,t,i,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,i=this.length):"string"===typeof i&&(r=i,i=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var n;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(n=t;n<i;++n)this[n]=e;else{var a=d.isBuffer(e)?e:X(new d(e,r).toString()),o=a.length;for(n=0;n<i-t;++n)this[n+t]=a[n%o]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function W(e){if(e=$(e).replace(K,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function $(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var i;t=t||1/0;for(var r=e.length,s=null,n=[],a=0;a<r;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!s){if(i>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&n.push(239,191,189);continue}s=i;continue}if(i<56320){(t-=3)>-1&&n.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(t-=3)>-1&&n.push(239,191,189);if(s=null,i<128){if((t-=1)<0)break;n.push(i)}else if(i<2048){if((t-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function Q(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function Z(e,t){for(var i,r,s,n=[],a=0;a<e.length;++a){if((t-=2)<0)break;i=e.charCodeAt(a),r=i>>8,s=i%256,n.push(s),n.push(r)}return n}function J(e){return r.toByteArray(W(e))}function ee(e,t,i,r){for(var s=0;s<r;++s){if(s+i>=t.length||s>=e.length)break;t[s+i]=e[s]}return s}function te(e){return e!==e}}).call(this,i("c8ba"))},b640:function(e,t,i){"use strict";function r(e){if("object"===typeof e&&null!==e){if("function"===typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1}function s(e){return Array.isArray(e)?e:[e]}function n(e){return e[0]}function a(e){return new Promise((function(t){setTimeout(t,e)}))}function o(e){return function(t){return t[e]}}function c(e){return function(t){return t.map(e)}}function d(e){return function(t){return t.filter(e)}}function h(e,t){return t.reduce((function(t,i){return t[e(i)]=i,t}),{})}function u(e){return function(t){return e[t.type]&&"function"===typeof e[t.type]?e[t.type](t):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=t.switchTransactionByType=t.uniq=t.indexBy=t.filter=t.map=t.deepAssign=t.assign=t.values=t.entries=t.keys=t.prop=t.wait=t.head=t.toArray=t.isObject=void 0,t.isObject=r,t.toArray=s,t.head=n,t.wait=a,t.prop=o,t.keys=function(e){return Object.keys(e)},t.entries=function(e){return t.keys(e).map((function(t){return[t,e[t]]}))},t.values=function(e){return t.keys(e).map((function(t){return e[t]}))},t.assign=function(e,i){return t.entries(i).reduce((function(t,i){var r=i[0],s=i[1];return e[r]=s,e}),e)},t.deepAssign=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.reduce((function(e,i){return t.keys(i).forEach((function(s){Array.isArray(e[s])&&Array.isArray(i[s])?e[s]=Array.from(new Set(e[s].concat(i[s]))):r(e[s])&&r(i[s])?e[s]=t.deepAssign(e[s],i[s]):e[s]=i[s]})),e}),e[0]||{})},t.map=c,t.filter=d,t.indexBy=h,t.uniq=function(e){return t.keys(e.reduce((function(e,t){return null!=t&&(e[t]=t),e}),Object.create(null)))},t.switchTransactionByType=u,t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}},b64b:function(e,t,i){var r=i("23e7"),s=i("7b0b"),n=i("df75"),a=i("d039"),o=a((function(){n(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(e){return n(s(e))}})},b64c:function(e,t,i){"use strict";const r=i("90db"),s=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182090-1e9e9080-c2ec-11ea-8e49-563db9a38f37.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetAllOrders","GetTradeHistorySummary","GetRecentTrades","GetFxRates","GetOrderMinimumVolumes","GetCryptoWithdrawalFees"]},private:{post:["GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetFiatBankAccounts","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","GetTrades","GetBrokerageFees","GetDigitalCurrencyWithdrawal","PlaceLimitOrder","PlaceMarketOrder","CancelOrder","SynchDigitalCurrencyDepositAddressWithBlockchain","RequestFiatWithdrawal","WithdrawFiatCurrency","WithdrawDigitalCurrency"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}},commonCurrencies:{PLA:"PlayChip"}})}async fetchMarkets(e={}){const t=await this.publicGetGetValidPrimaryCurrencyCodes(e),i=await this.publicGetGetValidSecondaryCurrencyCodes(e),r=await this.publicGetGetOrderMinimumVolumes(e),s=[];for(let n=0;n<t.length;n++){const e=t[n],a=this.safeCurrencyCode(e),o=this.safeNumber(r,e);for(let t=0;t<i.length;t++){const r=i[t],n=this.safeCurrencyCode(r),c=e+"/"+r,d=a+"/"+n;s.push({id:c,symbol:d,base:a,quote:n,baseId:e,quoteId:r,info:c,active:void 0,precision:this.precision,limits:{amount:{min:o,max:void 0}}})}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccounts(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"CurrencyCode"),n=this.safeCurrencyCode(s),a=this.account();a["free"]=this.safeString(e,"AvailableBalance"),a["total"]=this.safeString(e,"TotalBalance"),i[n]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={primaryCurrencyCode:r["baseId"],secondaryCurrencyCode:r["quoteId"]},n=await this.publicGetGetOrderBook(this.extend(s,i)),a=this.parse8601(this.safeString(n,"CreatedTimestampUtc"));return this.parseOrderBook(n,e,a,"BuyOrders","SellOrders","Price","Volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"CreatedTimestampUtc"));let r=void 0;t&&(r=t["symbol"]);const s=this.safeNumber(e,"LastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"DayHighestPrice"),low:this.safeNumber(e,"DayLowestPrice"),bid:this.safeNumber(e,"CurrentHighestBidPrice"),bidVolume:void 0,ask:this.safeNumber(e,"CurrentLowestOfferPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"DayAvgPrice"),baseVolume:this.safeNumber(e,"DayVolumeXbtInSecondaryCurrrency"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={primaryCurrencyCode:i["baseId"],secondaryCurrencyCode:i["quoteId"]},s=await this.publicGetGetMarketSummary(this.extend(r,t));return this.parseTicker(s,i)}parseOrder(e,t){let i=void 0;const r=this.safeString(e,"PrimaryCurrencyCode"),s=this.safeString(e,"SecondaryCurrencyCode");let n=void 0,a=void 0;void 0!==r&&void 0!==s?(n=this.safeCurrencyCode(r),a=this.safeCurrencyCode(s),i=n+"/"+a):void 0!==t&&(i=t["symbol"],n=t["base"],a=t["quote"]);let o=this.safeString2(e,"Type","OrderType"),c=void 0;o.indexOf("Bid")>=0?c="buy":o.indexOf("Offer")>=0&&(c="sell"),o.indexOf("Market")>=0?o="market":o.indexOf("Limit")>=0&&(o="limit");const d=this.parse8601(this.safeString(e,"CreatedTimestampUtc")),h=this.safeNumber2(e,"VolumeOrdered","Volume"),u=this.safeNumber(e,"VolumeFilled"),l=this.safeNumber(e,"Outstanding"),f=this.safeNumber(e,"FeePercent");let p=void 0;void 0!==f&&(p=f*u);const m={rate:f,cost:p,currency:n},g=this.safeString(e,"OrderGuid"),y=this.parseOrderStatus(this.safeString(e,"Status")),v=this.safeNumber(e,"Value"),b=this.safeNumber(e,"AvgPrice"),w=this.safeNumber(e,"Price");return this.safeOrder({info:e,id:g,clientOrderId:void 0,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:i,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:w,stopPrice:void 0,cost:v,average:b,amount:h,filled:u,remaining:l,status:y,fee:m,trades:void 0})}parseOrderStatus(e){const t={Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"};return this.safeString(t,e,e)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostGetOrderDetails(this.extend({orderGuid:e},i));let s=void 0;return void 0!==t&&(s=this.market(t)),this.parseOrder(r,s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.ordered({});let n=void 0;void 0!==e&&(n=this.market(e),s["primaryCurrencyCode"]=n["baseId"],s["secondaryCurrencyCode"]=n["quoteId"]),void 0===i&&(i=50),s["pageIndex"]=1,s["pageSize"]=i;const a=await this.privatePostGetOpenOrders(this.extend(s,r)),o=this.safeValue(a,"Data",[]);return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.ordered({});let n=void 0;void 0!==e&&(n=this.market(e),s["primaryCurrencyCode"]=n["baseId"],s["secondaryCurrencyCode"]=n["quoteId"]),void 0===i&&(i=50),s["pageIndex"]=1,s["pageSize"]=i;const a=await this.privatePostGetClosedOrders(this.extend(s,r)),o=this.safeValue(a,"Data",[]);return this.parseOrders(o,n,t,i)}async fetchMyTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.safeInteger(r,"pageIndex",1);void 0===i&&(i=50);const n=this.ordered({pageIndex:s,pageSize:i}),a=await this.privatePostGetTrades(this.extend(n,r));let o=void 0;return void 0!==e&&(o=this.market(e)),this.parseTrades(a["Data"],o,t,i)}parseTrade(e,t){const i=this.parse8601(e["TradeTimestampUtc"]),r=this.safeString(e,"TradeGuid"),n=this.safeString(e,"OrderGuid"),a=this.safeString2(e,"Price","SecondaryCurrencyTradePrice"),o=this.safeString2(e,"VolumeTraded","PrimaryCurrencyAmount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(s.stringMul(a,o)),u=this.safeString(e,"PrimaryCurrencyCode"),l=this.safeString(e,"SecondaryCurrencyCode");let f=void 0;void 0!==u&&void 0!==l&&(f=u+"/"+l);const p=this.safeSymbol(f,t,"/");let m=this.safeString(e,"OrderType");return void 0!==m&&(m.indexOf("Bid")>=0?m="buy":m.indexOf("Offer")>=0&&(m="sell")),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,order:n,type:void 0,side:m,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={primaryCurrencyCode:s["baseId"],secondaryCurrencyCode:s["quoteId"],numberOfRecentTradesToRetrieve:50},a=await this.publicGetGetRecentTrades(this.extend(n,r));return this.parseTrades(a["Trades"],s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=this.capitalize(t),c="privatePostPlace"+o+"Order";let d=o;d+="sell"===i?"Offer":"Bid";const h=this.ordered({primaryCurrencyCode:a["baseId"],secondaryCurrencyCode:a["quoteId"],orderType:d});"limit"===t&&(h["price"]=s),h["volume"]=r;const u=await this[c](this.extend(h,n));return{info:u,id:u["OrderGuid"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderGuid:e};return await this.privatePostCancelOrder(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+e;if("public"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=[a,"apiKey="+this.apiKey,"nonce="+e.toString()],i=Object.keys(r);for(let s=0;s<i.length;s++){const e=i[s],n=r[e].toString();t.push(e+"="+n)}const o=t.join(","),c=this.hmac(this.encode(o),this.encode(this.secret)),d=this.ordered({});d["apiKey"]=this.apiKey,d["nonce"]=e,d["signature"]=c.toUpperCase();for(let s=0;s<i.length;s++){const e=i[s];d[e]=r[e]}n=this.json(d),s={"Content-Type":"application/json"}}return{url:a,method:i,body:n,headers:s}}}},b680:function(e,t,i){"use strict";var r=i("23e7"),s=i("a691"),n=i("408a"),a=i("1148"),o=i("d039"),c=1..toFixed,d=Math.floor,h=function(e,t,i){return 0===t?i:t%2===1?h(e,t-1,i*e):h(e*e,t/2,i)},u=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},l=function(e,t,i){var r=-1,s=i;while(++r<6)s+=t*e[r],e[r]=s%1e7,s=d(s/1e7)},f=function(e,t){var i=6,r=0;while(--i>=0)r+=e[i],e[i]=d(r/t),r=r%t*1e7},p=function(e){var t=6,i="";while(--t>=0)if(""!==i||0===t||0!==e[t]){var r=String(e[t]);i=""===i?r:i+a.call("0",7-r.length)+r}return i},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));r({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,i,r,o,c=n(this),d=s(e),m=[0,0,0,0,0,0],g="",y="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(t=u(c*h(2,69,1))-69,i=t<0?c*h(2,-t,1):c/h(2,t,1),i*=4503599627370496,t=52-t,t>0){l(m,0,i),r=d;while(r>=7)l(m,1e7,0),r-=7;l(m,h(10,r,1),0),r=t-1;while(r>=23)f(m,1<<23),r-=23;f(m,1<<r),l(m,1,1),f(m,2),y=p(m)}else l(m,0,i),l(m,1<<-t,0),y=p(m)+a.call("0",d);return d>0?(o=y.length,y=g+(o<=d?"0."+a.call("0",d-o)+y:y.slice(0,o-d)+"."+y.slice(o-d))):y=g+y,y}})},b727:function(e,t,i){var r=i("0366"),s=i("44ad"),n=i("7b0b"),a=i("50c4"),o=i("65f0"),c=[].push,d=function(e){var t=1==e,i=2==e,d=3==e,h=4==e,u=6==e,l=7==e,f=5==e||u;return function(p,m,g,y){for(var v,b,w=n(p),S=s(w),k=r(m,g,3),_=a(S.length),O=0,T=y||o,C=t?T(p,_):i||l?T(p,0):void 0;_>O;O++)if((f||O in S)&&(v=S[O],b=k(v,O,w),e))if(t)C[O]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return O;case 2:c.call(C,v)}else switch(e){case 4:return!1;case 7:c.call(C,v)}return u?-1:d||h?h:C}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},b761:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n}=i("74b0"),a=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btctradeua",name:"BTC Trade UA",countries:["UA"],rateLimit:3e3,has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,signIn:!0},urls:{referral:"https://btc-trade.com.ua/registration/22689",logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"dash",quoteId:"btc"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH",baseId:"dash",quoteId:"uah"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH",baseId:"doge",quoteId:"uah"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH",baseId:"iti",quoteId:"uah"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH",baseId:"krb",quoteId:"uah"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH",baseId:"ltc",quoteId:"uah"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC",baseId:"nvc",quoteId:"btc"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH",baseId:"nvc",quoteId:"uah"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC",baseId:"ppc",quoteId:"btc"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH",baseId:"sib",quoteId:"uah"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH",baseId:"xmr",quoteId:"uah"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH",baseId:"zec",quoteId:"uah"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}async signIn(e={}){return await this.privatePostAuth(e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.safeValue(t,"accounts");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["total"]=this.safeString(e,"balance"),i[n]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]},n=await this.publicGetTradesBuySymbol(this.extend(s,i)),a=await this.publicGetTradesSellSymbol(this.extend(s,i)),o={bids:[],asks:[]};return n&&"list"in n&&(o["bids"]=n["list"]),a&&"list"in a&&(o["asks"]=a["list"]),this.parseOrderBook(o,e,void 0,"bids","asks","price","currency_trade")}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetJapanStatHighSymbol(this.extend(i,t)),s=this.safeValue(r,"trades"),n=this.milliseconds(),a={symbol:e,timestamp:n,datetime:this.iso8601(n),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s},o=s.length;if(o>0){const e=Math.max(o-48,0);for(let i=e;i<s.length;i++){const e=s[i];void 0===a["open"]&&(a["open"]=e[1]),(void 0===a["high"]||a["high"]<e[2])&&(a["high"]=e[2]),(void 0===a["low"]||a["low"]>e[3])&&(a["low"]=e[3]),void 0===a["baseVolume"]?a["baseVolume"]=-e[5]:a["baseVolume"]-=e[5]}const t=o-1;a["last"]=s[t][4],a["close"]=a["last"],a["baseVolume"]=-1*a["baseVolume"]}return a}convertCyrillicMonthNameToString(e){const t={"":"01","":"02","":"03","":"04","":"05","":"06","":"07","":"08","":"09","":"10","":"11","":"12"};return this.safeString(t,e)}parseCyrillicDatetime(e){const t=e.split(" ");let i=t[0];const r=this.convertCyrillicMonthNameToString(t[1]);if(!r)throw new s(this.id+" parseTrade() undefined month name: "+e);const n=t[2];let a=t[4];const o=a.length;7===o&&(a="0"+a),1===i.length&&(i="0"+i);const c=[n,r,i].join("-"),d=c+"T"+a,h=this.parse8601(d);let u=[r,i].join("");return u=parseInt(u),u<325||u>1028?h-72e5:h-108e5}parseTrade(e,t){const i=this.parseCyrillicDatetime(this.safeString(e,"pub_date")),r=this.safeString(e,"id"),s="limit",n=this.safeString(e,"type"),o=this.safeString(e,"price"),c=this.safeString(e,"amnt_trade"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(a.stringMul(o,c));let l=void 0;return void 0!==t&&(l=t["symbol"]),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,type:s,side:n,order:void 0,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.publicGetDealsSymbol(this.extend(n,r)),o=[];for(let c=0;c<a.length;c++)a[c]["id"]%2&&o.push(a[c]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,n,a={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i)+"Id",d={count:r,currency1:o["quoteId"],currency:o["baseId"],price:n};return this[c](this.extend(d,a))}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostRemoveOrderId(this.extend(r,i))}parseOrder(e,t){const i=this.milliseconds();let r=void 0;return void 0!==t&&(r=t["symbol"]),{id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:"open",symbol:r,type:void 0,timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:this.safeNumber(e,"price"),stopPrice:void 0,amount:this.safeNumber(e,"amnt_trade"),filled:0,remaining:this.safeNumber(e,"amnt_trade"),trades:void 0,info:e,cost:void 0,average:void 0,fee:void 0}}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s["id"]},o=await this.privatePostMyOrdersSymbol(this.extend(a,r)),c=this.safeValue(o,"your_open_orders");return this.parseOrders(c,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+=this.implodeParams(e,o));else{this.checkRequiredCredentials();const e=this.nonce();n=this.urlencode(this.extend({out_order_id:e,nonce:e},o));const t=n+this.secret;s={"public-key":this.apiKey,"api-sign":this.hash(this.encode(t),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:i,body:n,headers:s}}}},b76b:function(e,t,i){var r=i("5259");i("fb3e"),i("deb0"),i("ca73"),i("66b0"),i("3b29"),i("da63"),i("1ae3"),i("4778"),i("6497"),i("9d8b");var s=r.asn1,n=e.exports=r.pki=r.pki||{};n.pemToDer=function(e){var t=r.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(t.body)},n.privateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=t.type,i}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=s.fromDer(t.body);return n.privateKeyFromAsn1(a)},n.privateKeyToPem=function(e,t){var i={type:"RSA PRIVATE KEY",body:s.toDer(n.privateKeyToAsn1(e)).getBytes()};return r.pem.encode(i,{maxline:t})},n.privateKeyInfoToPem=function(e,t){var i={type:"PRIVATE KEY",body:s.toDer(e).getBytes()};return r.pem.encode(i,{maxline:t})}},b7d1:function(e,t,i){(function(t){function i(e,t){if(r("noDeprecation"))return e;var i=!1;function s(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}return s}function r(e){try{if(!t.localStorage)return!1}catch(r){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(this,i("c8ba"))},b810:function(e,t,i){"use strict";var r=i("ce7e");t["a"]=r["a"]},b848:function(e,t,i){"use strict";var r=i("2909"),s=i("58df");function n(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];s.isActive&&s.isDependent?t.push(s):t.push.apply(t,Object(r["a"])(n(s.$children)))}return t}t["a"]=Object(s["a"])().extend({name:"dependent",data:function(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive:function(e){if(!e)for(var t=this.getOpenDependents(),i=0;i<t.length;i++)t[i].isActive=!1}},methods:{getOpenDependents:function(){return this.closeDependents?n(this.$children):[]},getOpenDependentElements:function(){for(var e=[],t=this.getOpenDependents(),i=0;i<t.length;i++)e.push.apply(e,Object(r["a"])(t[i].getClickableDependentElements()));return e},getClickableDependentElements:function(){var e=[this.$el];return this.$refs.content&&e.push(this.$refs.content),this.overlay&&e.push(this.overlay.$el),e.push.apply(e,Object(r["a"])(this.getOpenDependentElements())),e}}})},b85c:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");var r=i("06c5");function s(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(c)throw a}}}}},b8fe:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,ExchangeNotAvailable:a,InvalidNonce:o,InsufficientFunds:c,OrderNotFound:d,DDoSProtection:h,InvalidOrder:u,AuthenticationError:l,RateLimitExceeded:f}=i("74b0"),p=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"yobit",name:"YoBit",countries:["RU"],rateLimit:3e3,version:"3",has:{cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BITS:"Bitstar",BLN:"Bulleon",BNS:"Benefit Bonus Coin",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BST:"BitStone",BTS:"Bitshares2",CAT:"BitClave",CBC:"CryptoBossCoin",CMT:"CometCoin",COIN:"Coin.com",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CREDIT:"Creditbit",CS:"CryptoSpots",DCT:"Discount",DFT:"DraftCoin",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",DSH:"DASH",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUND:"FUNDChains",FUNK:"FUNKCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",GOT:"Giotto Coin",GSX:"GlowShares",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",JWL:"Jewels",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",LUNA:"Luna Coin",MASK:"Yobit MASK",MDT:"Midnight",MIS:"MIScoin",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",ONX:"Onix",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PutinCoin",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RAI:"RaiderCoin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",SBTC:"Super Bitcoin",TTC:"TittieCoin",UNI:"Universe",UST:"Uservice",VOL:"VolumeCoin",XIN:"XINCoin",XRA:"Ratecoin"},options:{fetchOrdersRequiresSymbol:!0,fetchTickersMaxLength:512},exceptions:{exact:{803:u,804:u,805:u,806:u,807:u,831:c,832:c,833:d},broad:{"Invalid pair name":s,"invalid api key":l,"invalid sign":l,"api key dont have trade permission":l,"invalid parameter":u,"invalid order":u,"The given order has already been cancelled":u,"Requests too often":h,"not available":a,"data unavailable":a,"external service unavailable":a,"Total transaction amount":u,"The given order has already been closed and cannot be cancelled":u,"Insufficient funds":c,"invalid key":l,"invalid nonce":o,"Total order amount is less than minimal amount":u,"Rate Limited":f}},orders:{}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeInteger(i,"server_time"),s={info:t,timestamp:r,datetime:this.iso8601(r)},n=this.safeValue(i,"funds",{}),a=this.safeValue(i,"funds_incl_orders",{}),o=Object.keys(this.extend(n,a));for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),i=this.account();i["free"]=this.safeString(n,e),i["total"]=this.safeString(a,e),s[t]=i}return this.parseBalance(s,!1)}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=this.safeValue(t,"pairs"),r=Object.keys(i),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=i[e],[a,o]=e.split("_");let c=a.toUpperCase(),d=o.toUpperCase();c=this.safeCurrencyCode(c),d=this.safeCurrencyCode(d);const h=c+"/"+d,u={amount:this.safeInteger(t,"decimal_places"),price:this.safeInteger(t,"decimal_places")},l={min:this.safeNumber(t,"min_amount"),max:this.safeNumber(t,"max_amount")},f={min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},m={min:this.safeNumber(t,"min_total")},g={amount:l,price:f,cost:m},y=this.safeInteger(t,"hidden"),v=0===y;let b=this.safeString(t,"fee");b=p.stringDiv(b,"100");const w=this.parseNumber(b),S=this.parseNumber(b);s.push({id:e,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:v,taker:w,maker:S,precision:u,limits:g,info:t})}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),n={pair:r["id"]};void 0!==t&&(n["limit"]=t);const a=await this.publicGetDepthPair(this.extend(n,i)),o=r["id"]in a;if(!o)throw new s(this.id+" "+r["symbol"]+" order book is empty or not available");const c=a[r["id"]];return this.parseOrderBook(c,e)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const n={pair:r};void 0!==t&&(n["limit"]=t);const a=await this.publicGetDepthPair(this.extend(n,i)),o={};r=Object.keys(a);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeSymbol(e);o[t]=this.parseOrderBook(a[e])}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol_cur"),quoteVolume:this.safeNumber(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;i=i.join("-");const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);if(i.length>this.options["fetchTickersMaxLength"])throw new n(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),a={},o=Object.keys(s);for(let n=0;n<o.length;n++){const e=o[n],t=s[e],i=this.safeMarket(e),r=i["symbol"];a[r]=this.parseTicker(t,i)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return i[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeString2(e,"rate","price"),n=this.safeString2(e,"trade_id","tid"),a=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),d=this.safeString(e,"amount"),h=this.parseNumber(p.stringMul(s,d)),u=this.parseNumber(s),l=this.parseNumber(d),f="limit";let m=void 0;const g=this.safeNumber(e,"commission");if(void 0!==g){const t=this.safeString(e,"commissionCurrency"),i=this.safeCurrencyCode(t);m={cost:g,currency:i}}const y=this.safeValue(e,"is_your_order");return void 0!==y&&void 0===m&&(m=this.calculateFee(c,f,r,l,u,"taker")),{id:n,order:a,timestamp:i,datetime:this.iso8601(i),symbol:c,type:f,side:r,takerOrMaker:void 0,price:u,amount:l,cost:h,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetTradesPair(this.extend(n,r));if(Array.isArray(a)){const e=a.length;if(0===e)return[]}return this.parseTrades(a[s["id"]],s,t,i)}async createOrder(e,t,i,r,n,a={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,amount:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,n)};n=parseFloat(n),r=parseFloat(r);const d=await this.privatePostTrade(this.extend(c,a));let h=void 0,u="open",l=0,f=r;"return"in d&&(h=this.safeString(d["return"],"order_id"),"0"===h&&(h=this.safeString(d["return"],"init_order_id"),u="closed"),l=this.safeNumber(d["return"],"received",0),f=this.safeNumber(d["return"],"remains",r));const p=this.milliseconds();return{id:h,timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,status:u,symbol:e,type:t,side:i,price:n,cost:n*l,amount:r,remaining:f,filled:l,fee:void 0,info:d,clientOrderId:void 0,average:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrderStatus(e){const t={0:"open",1:"closed",2:"canceled",3:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestamp_created"),n=this.safeString(e,"pair"),a=this.safeSymbol(n,t),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"start_amount"),d=this.safeNumber(e,"rate"),h=void 0,u="limit",l=this.safeString(e,"type");return this.safeOrder({info:e,id:i,clientOrderId:void 0,symbol:a,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:u,timeInForce:void 0,postOnly:void 0,side:l,price:d,stopPrice:void 0,cost:void 0,amount:c,remaining:o,filled:void 0,status:r,fee:h,average:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderInfo(this.extend(r,i));e=e.toString();const n=this.safeValue(s,"return",{});return this.parseOrder(this.extend({id:e},n[e]))}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s={},a=void 0;if(void 0!==e){const t=this.market(e);s["pair"]=t["id"]}const o=await this.privatePostActiveOrders(this.extend(s,r)),c=this.safeValue(o,"return",[]);return this.parseOrders(c,a,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={pair:s["id"]};void 0!==i&&(a["count"]=parseInt(i)),void 0!==t&&(a["since"]=parseInt(t/1e3));const o=await this.privatePostTradeHistory(this.extend(a,r)),c=this.safeValue(o,"return",{}),d=Object.keys(c),h=[];for(let n=0;n<d.length;n++){const e=d[n],t=this.parseTrade(this.extend(c[e],{trade_id:e}),s);h.push(t)}return this.filterBySymbolSinceLimit(h,e,t,i)}async createDepositAddress(e,t={}){const i={need_new:1},r=await this.fetchDepositAddress(e,this.extend(i,t)),s=this.safeString(r,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,info:r["info"]}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={coinName:i["id"],need_new:0},s=await this.privatePostGetDepositAddress(this.extend(r,t)),n=this.safeString(s["return"],"address");return this.checkAddress(n),{currency:e,address:n,tag:void 0,info:s}}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),o={coinName:a["id"],amount:t,address:i};if(void 0!==r)throw new s(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");const c=await this.privatePostWithdrawCoinsToAddress(this.extend(o,n));return{info:c,id:void 0}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t];const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();n=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(n),this.encode(this.secret),"sha512");s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(a+="/"+this.version+"/"+this.implodeParams(e,r),Object.keys(o).length&&(a+="?"+this.urlencode(o))):(a+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(n=this.json(o),s={"Content-Type":"application/json"}));return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new s(i)}}}}},b92f:function(e,t,i){"use strict";var r,s=t,n=i("fee7"),a=n.utils.assert;function o(e){"short"===e.type?this.curve=new n.curve.short(e):"edwards"===e.type?this.curve=new n.curve.edwards(e):this.curve=new n.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){var i=new o(t);return Object.defineProperty(s,e,{configurable:!0,enumerable:!0,value:i}),i}})}s.PresetCurve=o,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:"SHA256",gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:"SHA256",gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:"SHA256",gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:"SHA384",gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:"SHA512",gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=i("815d")}catch(d){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:"SHA256",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},b9b3:function(e,t,i){"use strict";var r=t,s=i("74d2");function n(e,t){var i=[],r=1<<t+1,s=e.clone();while(s.cmpn(1)>=0){var n;if(s.isOdd()){var a=s.andln(r-1);n=a>(r>>1)-1?(r>>1)-a:a,s.isubn(n)}else n=0;i.push(n);for(var o=0!==s.cmpn(0)&&0===s.andln(r-1)?t+1:1,c=1;c<o;c++)i.push(0);s.iushrn(o)}return i}function a(e,t){var i=[[],[]];e=e.clone(),t=t.clone();var r=0,s=0;while(e.cmpn(-r)>0||t.cmpn(-s)>0){var n,a,o=e.andln(3)+r&3,c=t.andln(3)+s&3;if(3===o&&(o=-1),3===c&&(c=-1),0===(1&o))n=0;else{var d=e.andln(7)+r&7;n=3!==d&&5!==d||2!==c?o:-o}if(i[0].push(n),0===(1&c))a=0;else{d=t.andln(7)+s&7;a=3!==d&&5!==d||2!==o?c:-c}i[1].push(a),2*r===n+1&&(r=1-r),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return i}function o(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}}function c(e){return"string"===typeof e?r.toArray(e,"hex"):e}function d(e){return new s(e,"hex","le")}function h(e,t){var i=[],r=255;return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&r),t>2&&i.push(e>>>8&r),t>3&&i.push(e&r),i}function u(e){let t=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");t=e.sigBytes,e=e.words;const i=[];let r=[],s=0;while(t>0)r=h(e[s],Math.min(4,t)),t-=r.length,i.push(r),s++;return[].concat.apply([],i)}function l(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var s=e.charCodeAt(r),n=s>>8,a=255&s;n?i.push(n,a):i.push(a)}return i}function f(e){return 1===e.length?"0"+e:e}function p(e){for(var t="",i=0;i<e.length;i++)t+=f(e[i].toString(16));return t}r.assert=function(e,t){if(!e)throw new Error(t)},r.getNAF=n,r.getJSF=a,r.cachedProperty=o,r.parseBytes=c,r.intFromLE=d,r.wordArrayToBuffer=u,r.toArray=l,r.zero2=f,r.toHex=p,r.encode=function(e,t){return"hex"===t?p(e):e}},b9df:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InsufficientFunds:n,InvalidOrder:a,AuthenticationError:o,PermissionDenied:c,InvalidNonce:d,OrderNotFound:h,DDoSProtection:u}=i("74b0"),l=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcbox",name:"BtcBox",countries:["JP"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87327317-98c55400-c53c-11ea-9a11-81f7d951cc74.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://blog.btcbox.jp/en/archives/8762",fees:"https://support.btcbox.co.jp/hc/en-us/articles/360001235694-Fees-introduction"},api:{public:{get:["depth","orders","ticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"btc",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy",taker:5e-4,maker:5e-4},"ETH/JPY":{id:"eth",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy",taker:.001,maker:.001},"LTC/JPY":{id:"ltc",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy",taker:.001,maker:.001},"BCH/JPY":{id:"bch",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bch",quoteId:"jpy",taker:.001,maker:.001}},exceptions:{104:o,105:c,106:d,107:a,200:n,201:a,202:a,203:h,401:h,402:u}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],n=this.currency(e),a=n["id"],o=a+"_balance";if(o in t){const r=this.account(),s=a+"_lock";r["free"]=this.safeString(t,o),r["used"]=this.safeString(t,s),i[e]=r}}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={},n=this.symbols.length;n>1&&(s["coin"]=r["baseId"]);const a=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(a,e)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={},s=this.symbols.length;s>1&&(r["coin"]=i["baseId"]);const n=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(n,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeString(e,"tid"),n=this.safeString(e,"price"),a=this.safeString(e,"amount"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(l.stringMul(n,a)),h=void 0,u=this.safeString(e,"type");return{info:e,id:s,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:h,side:u,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={},a=this.symbols.length;a>1&&(n["coin"]=s["baseId"]);const o=await this.publicGetOrders(this.extend(n,r));return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={amount:r,price:s,type:i,coin:a["baseId"]},c=await this.privatePostTradeAdd(this.extend(o,n));return this.parseOrder(c,a)}async cancelOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const r=this.market(t),s={id:e,coin:r["baseId"]},n=await this.privatePostTradeCancel(this.extend(s,i));return this.parseOrder(n,r)}parseOrderStatus(e){const t={part:"open",all:"closed",cancelled:"canceled",closed:"closed",no:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"datetime");let s=void 0;void 0!==r&&(s=this.parse8601(e["datetime"]+"+09:00"));const n=this.safeNumber(e,"amount_original"),a=this.safeNumber(e,"amount_outstanding"),o=this.safeNumber(e,"price");let c=this.parseOrderStatus(this.safeString(e,"status"));void 0===c&&void 0!==a&&0===a&&(c="closed");const d=void 0;let h=void 0;void 0!==t&&(h=t["symbol"]);const u=this.safeString(e,"type");return this.safeOrder({id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,amount:n,remaining:a,filled:void 0,side:u,type:void 0,timeInForce:void 0,postOnly:void 0,status:c,symbol:h,price:o,stopPrice:void 0,cost:void 0,trades:d,fee:void 0,info:e,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const r=this.market(t),s=this.extend({id:e,coin:r["baseId"]},i),n=await this.privatePostTradeView(this.extend(s,i));return this.parseOrder(n,r)}async fetchOrdersByType(e,t,i,r,s={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const n=this.market(t),a={type:e,coin:n["baseId"]},o=await this.privatePostTradeList(this.extend(a,s)),c=this.parseOrders(o,n,i,r);if("open"===e)for(let d=0;d<c.length;d++)c[d]["status"]="open";return c}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByType("all",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByType("open",e,t,i,r)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.extend({key:this.apiKey,nonce:e},r),i=this.urlencode(t),a=this.hash(this.encode(this.secret));t["signature"]=this.hmac(this.encode(i),this.encode(a)),n=this.urlencode(t),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;if(e>=400)return;const h=this.safeValue(o,"result");if(void 0===h||!0===h)return;const u=this.safeValue(o,"code"),l=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,u,l),new s(l)}async request(e,t="public",i="GET",r={},n,a){let o=await this.fetch2(e,t,i,r,n,a);if("string"===typeof o){if(o=this.strip(o),!this.isJsonEncodedObject(o))throw new s(this.id+" "+o);o=JSON.parse(o)}return o}}},b9ff:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,OrderNotFound:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitflyer",name:"bitFlyer",countries:["JP"],version:"v1",rateLimit:1e3,hostname:"bitflyer.com",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:"emulated",fetchOrder:"emulated",fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.{hostname}",www:"https://bitflyer.com",doc:"https://lightning.bitflyer.com/docs?lang=en"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getbalancehistory","getcollateral","getcollateralhistory","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.002,taker:.002},"BTC/JPY":{maker:.0015,taker:.0015}}})}async fetchMarkets(e={}){const t=await this.publicGetGetmarkets(e),i=await this.publicGetGetmarketsUsa(e),r=await this.publicGetGetmarketsEu(e);let s=this.arrayConcat(t,i);s=this.arrayConcat(s,r);const n=[];for(let a=0;a<s.length;a++){const e=s[a],t=this.safeString(e,"product_code"),i=t.split("_");let r=void 0,o=void 0,c=void 0,d=void 0;const h=i.length;1===h?(r=t.slice(0,3),o=t.slice(3,6)):2===h?(r=i[0],o=i[1]):(r=i[1],o=i[2]),c=this.safeCurrencyCode(r),d=this.safeCurrencyCode(o);const u=2===h?c+"/"+d:t,l=this.safeValue(this.fees,u,this.fees["trading"]);let f=this.safeValue(l,"maker",this.fees["trading"]["maker"]),p=this.safeValue(l,"taker",this.fees["trading"]["taker"]),m=!0,g=!1,y="spot";("alias"in e||"FX"===i[0])&&(y="future",g=!0,m=!1,f=0,p=0),n.push({id:t,symbol:u,base:c,quote:d,baseId:r,quoteId:o,maker:f,taker:p,type:y,spot:m,future:g,info:e})}return n}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetbalance(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency_code"),n=this.safeCurrencyCode(s),a=this.account();a["total"]=this.safeString(e,"amount"),a["free"]=this.safeString(e,"available"),i[n]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={product_code:this.marketId(e)},s=await this.publicGetGetboard(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","size")}async fetchTicker(e,t={}){await this.loadMarkets();const i={product_code:this.marketId(e)},r=await this.publicGetGetticker(this.extend(i,t)),s=this.parse8601(this.safeString(r,"timestamp")),n=this.safeNumber(r,"ltp");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeNumber(r,"best_bid"),bidVolume:void 0,ask:this.safeNumber(r,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r,"volume_by_product"),quoteVolume:void 0,info:r}}parseTrade(e,t){let i=this.safeStringLower(e,"side");void 0!==i&&i.length<1&&(i=void 0);let r=void 0;if(void 0!==i){const t=i+"_child_order_acceptance_id";t in e&&(r=e[t])}void 0===r&&(r=this.safeString(e,"child_order_acceptance_id"));const s=this.parse8601(this.safeString(e,"exec_date")),n=this.safeString(e,"price"),a=this.safeString(e,"size"),c=this.parseNumber(n),d=this.parseNumber(a),h=this.parseNumber(o.stringMul(n,a)),u=this.safeString(e,"id");let l=void 0;return void 0!==t&&(l=t["symbol"]),{id:u,info:e,timestamp:s,datetime:this.iso8601(s),symbol:l,order:r,type:void 0,side:i,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={product_code:s["id"]},a=await this.publicGetGetexecutions(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={product_code:this.marketId(e),child_order_type:t.toUpperCase(),side:i.toUpperCase(),price:s,size:r},o=await this.privatePostSendchildorder(this.extend(a,n)),c=this.safeString(o,"child_order_acceptance_id");return{info:o,id:c}}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a `symbol` argument");await this.loadMarkets();const r={product_code:this.marketId(t),child_order_acceptance_id:e};return await this.privatePostCancelchildorder(this.extend(r,i))}parseOrderStatus(e){const t={ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"child_order_date")),r=this.safeNumber(e,"size"),s=this.safeNumber(e,"outstanding_size"),n=this.safeNumber(e,"executed_size"),a=this.safeNumber(e,"price"),o=this.parseOrderStatus(this.safeString(e,"child_order_state")),c=this.safeStringLower(e,"child_order_type"),d=this.safeStringLower(e,"side"),h=this.safeString(e,"product_code"),u=this.safeSymbol(h,t);let l=void 0;const f=this.safeNumber(e,"total_commission");void 0!==f&&(l={cost:f,currency:void 0,rate:void 0});const p=this.safeString(e,"child_order_acceptance_id");return this.safeOrder({id:p,clientOrderId:void 0,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:o,symbol:u,type:c,timeInForce:void 0,postOnly:void 0,side:d,price:a,stopPrice:void 0,cost:void 0,amount:r,filled:n,remaining:s,fee:l,average:void 0,trades:void 0})}async fetchOrders(e,t,i=100,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={product_code:s["id"],count:i},o=await this.privateGetGetchildorders(this.extend(a,r));let c=this.parseOrders(o,s,t,i);return void 0!==e&&(c=this.filterBy(c,"symbol",e)),c}async fetchOpenOrders(e,t,i=100,r={}){const s={child_order_state:"ACTIVE"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i=100,r={}){const s={child_order_state:"COMPLETED"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a `symbol` argument");const r=await this.fetchOrders(t),s=this.indexBy(r,"id");if(e in s)return s[e];throw new a(this.id+" No order found with id "+e)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={product_code:s["id"]};void 0!==i&&(a["count"]=i);const o=await this.privateGetGetexecutions(this.extend(a,r));return this.parseTrades(o,s,t,i)}async fetchPositions(e,t={}){if(void 0===e)throw new n(this.id+" fetchPositions() requires a `symbols` argument, exactly one symbol in an array");await this.loadMarkets();const i={product_code:this.marketIds(e)},r=await this.privateGetpositions(this.extend(i,t));return r}async withdraw(e,t,i,r,n={}){if(this.checkAddress(i),await this.loadMarkets(),"JPY"!==e&&"USD"!==e&&"EUR"!==e)throw new s(this.id+" allows withdrawing JPY, USD, EUR only, "+e+" is not supported");const a=this.currency(e),o={currency_code:a["id"],amount:t},c=await this.privatePostWithdraw(this.extend(o,n)),d=this.safeString(c,"message_id");return{info:c,id:d}}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/";"private"===t&&(a+="me/"),a+=e,"GET"===i&&Object.keys(r).length&&(a+="?"+this.urlencode(r));const o=this.implodeHostname(this.urls["api"]),c=o+a;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,a].join("");Object.keys(r).length&&"GET"!==i&&(n=this.json(r),t+=n),s={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":e,"ACCESS-SIGN":this.hmac(this.encode(t),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}}},ba0d:function(e,t,i){"use strict";var r=i("ade3"),s=i("5530"),n=(i("a9e3"),i("d81d"),i("99af"),i("caad"),i("2532"),i("498a"),i("d3b7"),i("25f0"),i("b680"),i("9e29"),i("c37a")),a=i("0789"),o=i("58df"),c=i("297c"),d=i("a293"),h=i("80d2"),u=i("d9bd");t["a"]=Object(o["a"])(n["a"],c["a"]).extend({name:"v-slider",directives:{ClickOutside:d["a"]},mixins:[c["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:function(e){return"boolean"===typeof e||"always"===e}},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:function(){return[]}},ticks:{type:[Boolean,String],default:!1,validator:function(e){return"boolean"===typeof e||"always"===e}},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:function(){return{app:null,oldValue:null,thumbPressed:!1,mouseTimeout:-1,isFocused:!1,isActive:!1,noClick:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel})},internalValue:{get:function(){return this.lazyValue},set:function(e){e=isNaN(e)?this.minValue:e;var t=this.roundValue(Math.min(Math.max(e,this.minValue),this.maxValue));t!==this.lazyValue&&(this.lazyValue=t,this.$emit("input",t))}},trackTransition:function(){return this.thumbPressed?this.showTicks||this.stepNumeric?"0.1s cubic-bezier(0.25, 0.8, 0.5, 1)":"none":""},minValue:function(){return parseFloat(this.min)},maxValue:function(){return parseFloat(this.max)},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},inputWidth:function(){return(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100},trackFillStyles:function(){var e,t=this.vertical?"bottom":"left",i=this.vertical?"top":"right",s=this.vertical?"height":"width",n=this.$vuetify.rtl?"auto":"0",a=this.$vuetify.rtl?"0":"auto",o=this.isDisabled?"calc(".concat(this.inputWidth,"% - 10px)"):"".concat(this.inputWidth,"%");return e={transition:this.trackTransition},Object(r["a"])(e,t,n),Object(r["a"])(e,i,a),Object(r["a"])(e,s,o),e},trackStyles:function(){var e,t=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",i=this.vertical?"height":"width",s="0px",n=this.isDisabled?"calc(".concat(100-this.inputWidth,"% - 10px)"):"calc(".concat(100-this.inputWidth,"%)");return e={transition:this.trackTransition},Object(r["a"])(e,t,s),Object(r["a"])(e,i,n),e},showTicks:function(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks:function(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel:function(){return!this.isDisabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor:function(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor:function(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor:function(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min:function(e){var t=parseFloat(e);t>this.internalValue&&this.$emit("input",t)},max:function(e){var t=parseFloat(e);t<this.internalValue&&this.$emit("input",t)},value:{handler:function(e){this.internalValue=e}}},beforeMount:function(){this.internalValue=this.value},mounted:function(){this.app=document.querySelector("[data-app]")||Object(u["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var e=[this.genLabel()],t=this.genSlider();return this.inverseLabel?e.unshift(t):e.push(t),e.push(this.genProgress()),e},genSlider:function(){return this.$createElement("div",{class:Object(s["a"])({"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly},this.themeClasses),directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick,mousedown:this.onSliderMouseDown,touchstart:this.onSliderMouseDown}},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onFocus,this.onBlur)]},genInput:function(){return this.$createElement("input",{attrs:Object(s["a"])({value:this.internalValue,id:this.computedId,disabled:!0,readonly:!0,tabindex:-1},this.$attrs)})},genTrackContainer:function(){var e=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genSteps:function(){var e=this;if(!this.step||!this.showTicks)return null;var t=parseFloat(this.tickSize),i=Object(h["h"])(this.numTicks+1),s=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",n=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&i.reverse();var a=i.map((function(i){var a,o=[];e.tickLabels[i]&&o.push(e.$createElement("div",{staticClass:"v-slider__tick-label"},e.tickLabels[i]));var c=i*(100/e.numTicks),d=e.$vuetify.rtl?100-e.inputWidth<c:c<e.inputWidth;return e.$createElement("span",{key:i,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":d},style:(a={width:"".concat(t,"px"),height:"".concat(t,"px")},Object(r["a"])(a,s,"calc(".concat(c,"% - ").concat(t/2,"px)")),Object(r["a"])(a,n,"calc(50% - ".concat(t/2,"px)")),a)},o)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},a)},genThumbContainer:function(e,t,i,r,n,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"thumb",c=[this.genThumb()],d=this.genThumbLabelContent(e);return this.showThumbLabel&&c.push(this.genThumbLabel(d)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:o,key:o,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":i,"v-slider__thumb-container--focused":r,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(t),attrs:Object(s["a"])({role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},this.$attrs),on:{focus:n,blur:a,keydown:this.onKeyDown}}),c)},genThumbLabelContent:function(e){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:e}):[this.$createElement("span",[String(e)])]},genThumbLabel:function(e){var t=Object(h["g"])(this.thumbSize),i=this.vertical?"translateY(20%) translateY(".concat(Number(this.thumbSize)/3-1,"px) translateX(55%) rotate(135deg)"):"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(a["d"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:t,width:t,transform:i}}),[this.$createElement("div",e)])])])},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles:function(e){var t=this.vertical?"top":"left",i=this.$vuetify.rtl?100-e:e;return i=this.vertical?100-i:i,Object(r["a"])({transition:this.trackTransition},t,"".concat(i,"%"))},onSliderMouseDown:function(e){var t,i=this;e.preventDefault(),this.oldValue=this.internalValue,this.isActive=!0;var r=!h["B"]||{passive:!0,capture:!0},s=!!h["B"]&&{passive:!0};(null==(t=e.target)?void 0:t.matches(".v-slider__thumb-container, .v-slider__thumb-container *"))?this.thumbPressed=!0:(window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((function(){i.thumbPressed=!0}),300));var n="touches"in e;this.onMouseMove(e),this.app.addEventListener(n?"touchmove":"mousemove",this.onMouseMove,s),Object(h["a"])(this.app,n?"touchend":"mouseup",this.onSliderMouseUp,r),this.$emit("start",this.internalValue)},onSliderMouseUp:function(e){e.stopPropagation(),window.clearTimeout(this.mouseTimeout),this.thumbPressed=!1;var t=!!h["B"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("mouseup",e),this.$emit("end",this.internalValue),Object(h["j"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove:function(e){"mousemove"===e.type&&(this.thumbPressed=!0),this.internalValue=this.parseMouseMove(e)},onKeyDown:function(e){if(this.isInteractive){var t=this.parseKeyDown(e,this.internalValue);null==t||t<this.minValue||t>this.maxValue||(this.internalValue=t,this.$emit("change",t))}},onSliderClick:function(e){if(this.noClick)this.noClick=!1;else{var t=this.$refs.thumb;t.focus(),this.onMouseMove(e),this.$emit("change",this.internalValue)}},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},parseMouseMove:function(e){var t=this.vertical?"top":"left",i=this.vertical?"height":"width",r=this.vertical?"clientY":"clientX",s=this.$refs.track.getBoundingClientRect(),n=s[t],a=s[i],o="touches"in e?e.touches[0][r]:e[r],c=Math.min(Math.max((o-n)/a,0),1)||0;return this.vertical&&(c=1-c),this.$vuetify.rtl&&(c=1-c),parseFloat(this.min)+c*(this.maxValue-this.minValue)},parseKeyDown:function(e,t){if(this.isInteractive){var i=h["x"].pageup,r=h["x"].pagedown,s=h["x"].end,n=h["x"].home,a=h["x"].left,o=h["x"].right,c=h["x"].down,d=h["x"].up;if([i,r,s,n,a,o,c,d].includes(e.keyCode)){e.preventDefault();var u=this.stepNumeric||1,l=(this.maxValue-this.minValue)/u;if([a,o,c,d].includes(e.keyCode)){var f=this.$vuetify.rtl?[a,d]:[o,d],p=f.includes(e.keyCode)?1:-1,m=e.shiftKey?3:e.ctrlKey?2:1;t+=p*u*m}else if(e.keyCode===n)t=this.minValue;else if(e.keyCode===s)t=this.maxValue;else{var g=e.keyCode===r?1:-1;t-=g*u*(l>100?l/10:10)}return t}}},roundValue:function(e){if(!this.stepNumeric)return e;var t=this.step.toString().trim(),i=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0,r=this.minValue%this.stepNumeric,s=Math.round((e-r)/this.stepNumeric)*this.stepNumeric+r;return parseFloat(Math.min(s,this.maxValue).toFixed(i))}}})},ba87:function(e,t,i){"use strict";var r=i("5530"),s=(i("a9e3"),i("1b2c"),i("a9ad")),n=i("7560"),a=i("58df"),o=i("80d2"),c=Object(a["a"])(n["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render:function(e,t){var i=t.children,a=t.listeners,c=t.props,d={staticClass:"v-label",class:Object(r["a"])({"v-label--active":c.value,"v-label--is-disabled":c.disabled},Object(n["b"])(t)),attrs:{for:c.for,"aria-hidden":!c.for},on:a,style:{left:Object(o["g"])(c.left),right:Object(o["g"])(c.right),position:c.absolute?"absolute":"relative"},ref:"label"};return e("label",s["a"].options.methods.setTextColor(c.focused&&c.color,d),i)}});t["a"]=c},bb2b:function(e,t,i){var r=i("5259");i("6497"),r.mgf=r.mgf||{};var s=e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{};s.create=function(e){var t={generate:function(t,i){for(var s=new r.util.ByteBuffer,n=Math.ceil(i/e.digestLength),a=0;a<n;a++){var o=new r.util.ByteBuffer;o.putInt32(a),e.start(),e.update(t+o.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-i),s.getBytes()}};return t}},bb2f:function(e,t,i){var r=i("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bb3e:function(e,t,i){"use strict";(function(e){t.__esModule=!0;var i="Input must be an string, Buffer or Uint8Array";function r(t){var r;if(t instanceof Uint8Array)r=t;else if(t instanceof e)r=new Uint8Array(t);else{if("string"!==typeof t)throw new Error(i);r=new Uint8Array(e.from(t,"utf8"))}return r}function s(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")}function n(e,t,i){var r=e[t]+e[i],s=e[t+1]+e[i+1];r>=4294967296&&s++,e[t]=r,e[t+1]=s}function a(e,t,i,r){var s=e[t]+i;i<0&&(s+=4294967296);var n=e[t+1]+r;s>=4294967296&&n++,e[t]=s,e[t+1]=n}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function c(e,t,i,r,s,o){var c=f[s],d=f[s+1],h=f[o],u=f[o+1];n(l,e,t),a(l,e,c,d);var p=l[r]^l[e],m=l[r+1]^l[e+1];l[r]=m,l[r+1]=p,n(l,i,r),p=l[t]^l[i],m=l[t+1]^l[i+1],l[t]=p>>>24^m<<8,l[t+1]=m>>>24^p<<8,n(l,e,t),a(l,e,h,u),p=l[r]^l[e],m=l[r+1]^l[e+1],l[r]=p>>>16^m<<16,l[r+1]=m>>>16^p<<16,n(l,i,r),p=l[t]^l[i],m=l[t+1]^l[i+1],l[t]=m>>>31^p<<1,l[t+1]=p>>>31^m<<1}var d=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],u=new Uint8Array(h.map((function(e){return 2*e}))),l=new Uint32Array(32),f=new Uint32Array(32);function p(e,t){var i=0;for(i=0;i<16;i++)l[i]=e.h[i],l[i+16]=d[i];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),i=0;i<32;i++)f[i]=o(e.b,4*i);for(i=0;i<12;i++)c(0,8,16,24,u[16*i+0],u[16*i+1]),c(2,10,18,26,u[16*i+2],u[16*i+3]),c(4,12,20,28,u[16*i+4],u[16*i+5]),c(6,14,22,30,u[16*i+6],u[16*i+7]),c(0,10,20,30,u[16*i+8],u[16*i+9]),c(2,12,22,24,u[16*i+10],u[16*i+11]),c(4,14,16,26,u[16*i+12],u[16*i+13]),c(6,8,18,28,u[16*i+14],u[16*i+15]);for(i=0;i<16;i++)e.h[i]=e.h[i]^l[i]^l[i+16]}function m(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)i.h[r]=d[r];var s=t?t.length:0;return i.h[0]^=16842752^s<<8^e,t&&(g(i,t),i.c=128),i}function g(e,t){for(var i=0;i<t.length;i++)128===e.c&&(e.t+=e.c,p(e,!1),e.c=0),e.b[e.c++]=t[i]}function y(e){e.t+=e.c;while(e.c<128)e.b[e.c++]=0;p(e,!0);for(var t=new Uint8Array(e.outlen),i=0;i<e.outlen;i++)t[i]=e.h[i>>2]>>8*(3&i);return t}function v(e,t,i){i=i||64,e=r(e);var s=m(i,t);return g(s,e),y(s)}function b(e,t,i){var r=v(e,t,i);return s(r)}t.blake2bInit=m,t.blake2bUpdate=g,t.blake2bFinal=y,t.blake2b=v,t.blake2bHex=b}).call(this,i("b639").Buffer)},bb89:function(e,t){},bc3a:function(e,t,i){e.exports=i("cee4")},bc95:function(e,t,i){"use strict";var r=i("2cdb"),s=i("5e0b"),n=i("9eef");e.exports={formats:n,parse:s,stringify:r}},bd0c:function(e,t,i){},bd90:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s}=i("74b0"),n=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0,fetchBalance:!0,fetchTicker:!0,fetchTrades:!0,fetchOrderBook:!0,createOrder:!0,cancelOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153930-f0f02200-c2c0-11ea-9c0a-40337375ae89.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",fees:"https://www.paymium.com/page/help/fees",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"],referral:"https://www.paymium.com/page/sign-up?referral=eDAzPoRQFMvaAB8sf-qj"},api:{public:{get:["countries","data/{currency}/ticker","data/{currency}/trades","data/{currency}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["user","user/addresses","user/addresses/{address}","user/orders","user/orders/{uuid}","user/price_alerts","merchant/get_payment/{uuid}"],post:["user/addresses","user/orders","user/withdrawals","user/email_transfers","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{uuid}","user/orders/{uuid}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur"}},fees:{trading:{maker:.002,taker:.002}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUser(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],n=this.currencyId(e),a="balance_"+n;if(a in t){const r=this.account(),s="locked_"+n;r["free"]=this.safeString(t,a),r["used"]=this.safeString(t,s),i[e]=r}}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.marketId(e)},s=await this.publicGetDataCurrencyDepth(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currency:this.marketId(e)},r=await this.publicGetDataCurrencyTicker(this.extend(i,t)),s=this.safeTimestamp(r,"at"),n=this.safeNumber(r,"vwap"),a=this.safeNumber(r,"volume");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeNumber(r,"price");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:n,open:this.safeNumber(r,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:this.safeNumber(r,"variation"),average:void 0,baseVolume:a,quoteVolume:o,info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at_int"),r=this.safeString(e,"uuid");let s=void 0;void 0!==t&&(s=t["symbol"]);const a=this.safeString(e,"side"),o=this.safeString(e,"price"),c="traded_"+t["base"].toLowerCase(),d=this.safeString(e,c),h=this.parseNumber(o),u=this.parseNumber(d),l=this.parseNumber(n.stringMul(o,d));return{info:e,id:r,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:a,takerOrMaker:void 0,price:h,amount:u,cost:l,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currency:s["id"]},a=await this.publicGetDataCurrencyTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={type:this.capitalize(t)+"Order",currency:this.marketId(e),direction:i,amount:r};"market"!==t&&(a["price"]=s);const o=await this.privatePostUserOrders(this.extend(a,n));return{info:o,id:o["uuid"]}}async cancelOrder(e,t,i={}){const r={uuid:e};return await this.privateDeleteUserOrdersUuidCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t=e+a;if(s={"Api-Key":this.apiKey,"Api-Nonce":e},"POST"===i)Object.keys(o).length&&(n=this.json(o),t+=n,s["Content-Type"]="application/json");else if(Object.keys(o).length){const e=this.urlencode(o);t+=e,a+="?"+e}s["Api-Signature"]=this.hmac(this.encode(t),this.encode(this.secret))}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("errors"in o)throw new s(this.id+" "+this.json(o));return o}}},be02:function(e,t,i){"use strict";const r=i("90db"),{TICK_SIZE:s}=i("5ea4"),{ExchangeError:n,InvalidOrder:a,BadRequest:o,InsufficientFunds:c,OrderNotFound:d,AuthenticationError:h,RateLimitExceeded:u,ExchangeNotAvailable:l,CancelPending:f,ArgumentsRequired:p,PermissionDenied:m,BadSymbol:g,DuplicateOrderId:y}=i("74b0"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ftx",name:"FTX",countries:["HK"],rateLimit:50,certified:!0,pro:!0,hostname:"ftx.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/67149189-df896480-f2b0-11e9-8816-41593e17f9ec.jpg",www:"https://ftx.com",api:{public:"https://{hostname}",private:"https://{hostname}"},doc:"https://github.com/ftexchange/ftx",fees:"https://ftexchange.zendesk.com/hc/en-us/articles/360024479432-Fees",referral:{url:"https://ftx.com/#a=ccxt",discount:.05}},has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchPositions:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"15s":"15","1m":"60","5m":"300","15m":"900","1h":"3600","4h":"14400","1d":"86400"},api:{public:{get:["coins","markets","markets/{market_name}","markets/{market_name}/orderbook","markets/{market_name}/trades","markets/{market_name}/candles","futures","futures/{future_name}","futures/{future_name}/stats","funding_rates","indexes/{index_name}/weights","expired_futures","indexes/{market_name}/candles","lt/tokens","lt/{token_name}","options/requests","options/trades","stats/24h_options_volume","options/historical_volumes/BTC","options/open_interest/BTC","options/historical_open_interest/BTC","spot_margin/history"]},private:{get:["account","positions","wallet/coins","wallet/balances","wallet/all_balances","wallet/deposit_address/{coin}","wallet/deposits","wallet/withdrawals","wallet/withdrawal_fee","wallet/airdrops","wallet/saved_addresses","orders","orders/history","orders/{order_id}","orders/by_client_id/{client_order_id}","conditional_orders","conditional_orders/{conditional_order_id}/triggers","conditional_orders/history","spot_margin/borrow_rates","spot_margin/lending_rates","spot_margin/borrow_summary","spot_margin/market_info","spot_margin/borrow_history","spot_margin/lending_history","spot_margin/offers","spot_margin/lending_info","fills","funding_payments","lt/balances","lt/creations","lt/redemptions","subaccounts","subaccounts/{nickname}/balances","otc/quotes/{quoteId}","options/my_requests","options/requests/{request_id}/quotes","options/my_quotes","options/account_info","options/positions","options/fills","staking/stakes","staking/unstake_requests","staking/balances","staking/staking_rewards"],post:["account/leverage","wallet/withdrawals","wallet/saved_addresses","orders","conditional_orders","orders/{order_id}/modify","orders/by_client_id/{client_order_id}/modify","conditional_orders/{order_id}/modify","spot_margin/offers","lt/{token_name}/create","lt/{token_name}/redeem","subaccounts","subaccounts/update_name","subaccounts/transfer","otc/quotes/{quote_id}/accept","otc/quotes","options/requests","options/requests/{request_id}/quotes","options/quotes/{quote_id}/accept","staking/unstake_requests","srm_stakes/stakes"],delete:["wallet/saved_addresses/{saved_address_id}","orders/{order_id}","orders/by_client_id/{client_order_id}","orders","conditional_orders/{order_id}","subaccounts","options/requests/{request_id}","options/quotes/{quote_id}","staking/unstake_requests/{request_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:2e-4,taker:.07/100,tiers:{taker:[[0,.07/100],[1e6,6e-4],[5e6,55e-5],[1e7,5e-4],[15e6,45e-5],[35e6,4e-4]],maker:[[0,2e-4],[1e6,2e-4],[5e6,15e-5],[1e7,15e-5],[15e6,1e-4],[35e6,1e-4]]}},funding:{withdraw:{}}},exceptions:{exact:{"Please slow down":u,"Size too small for provide":a,"Not logged in":h,"Not enough balances":c,InvalidPrice:a,"Size too small":a,"Size too large":a,"Missing parameter price":a,"Order not found":d,"Order already closed":a,"Trigger price too high":a,"Trigger price too low":a,"Order already queued for cancellation":f,"Duplicate client order ID":y,"Spot orders cannot be reduce-only":a,"Invalid reduce-only order":a},broad:{"Account does not have enough margin for order":c,"Invalid parameter":o,"The requested URL was not found on the server":o,"No such coin":o,"No such future":g,"No such market":g,"Do not send more than":u,"An unexpected error occurred":l,"Please retry request":l,"Please try again":l,"Try again":l,"Only have permissions for subaccount":m}},precisionMode:s,options:{cancelOrder:{method:"privateDeleteOrdersOrderId"},fetchOpenOrders:{method:"privateGetOrders"},fetchOrders:{method:"privateGetOrdersHistory"},sign:{"ftx.com":"FTX","ftx.us":"FTXUS"}}})}async fetchCurrencies(e={}){const t=await this.publicGetCoins(e),i=this.safeValue(t,"result",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),n=this.safeCurrencyCode(t),a=this.safeString(e,"name");r[n]={id:t,code:n,info:e,type:void 0,name:a,active:void 0,fee:void 0,precision:void 0,limits:{withdraw:{min:void 0,max:void 0},amount:{min:void 0,max:void 0}}}}return r}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[],r=this.safeValue(t,"result",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"name"),n=this.safeString2(e,"baseCurrency","underlying"),a=this.safeString(e,"quoteCurrency","USD"),o=this.safeString(e,"type"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(a),h="future"===o?this.safeString(e,"name"):c+"/"+d,u=this.safeValue(e,"enabled"),l=this.safeNumber(e,"sizeIncrement"),f=this.safeNumber(e,"priceIncrement"),p={amount:l,price:f};i.push({id:t,symbol:h,base:c,quote:d,baseId:n,quoteId:a,type:o,future:"future"===o,spot:"spot"===o,active:u,precision:p,limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:void 0,max:void 0}},info:e})}return i}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"name");if(r in this.markets_by_id)t=this.markets_by_id[r];else{const t=this.safeString(e,"type");if("future"===t)i=r;else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),r=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));void 0!==t&&void 0!==r&&(i=t+"/"+r)}}void 0===i&&void 0!==t&&(i=t["symbol"]);const s=this.safeNumber(e,"last"),n=this.safeTimestamp(e,"time",this.milliseconds());return{symbol:i,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidSize"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askSize"),vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:this.safeNumber(e,"change24h"),average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"quoteVolume24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_name:i["id"]},s=await this.publicGetMarketsMarketName(this.extend(r,t)),n=this.safeValue(s,"result",{});return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),r=this.safeValue(i,"result",[]);return this.parseTickers(r,e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market_name:r["id"]};void 0!==t&&(s["depth"]=t);const n=await this.publicGetMarketsMarketNameOrderbook(this.extend(s,i)),a=this.safeValue(n,"result",{});return this.parseOrderBook(a,e)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}getMarketId(e,t,i={}){const r=this.getMarketParams(e,t,i);return this.safeString(r,1,e)}getMarketParams(e,t,i={}){let r=void 0,s=void 0;return e in this.markets?(r=this.market(e),s=r["id"]):s=this.safeString(i,t,e),[r,s]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const[n,a]=this.getMarketParams(e,"market_name",s),o={resolution:this.timeframes[t],market_name:a};r=void 0===r?1501:r,void 0===i?(o["end_time"]=this.seconds(),o["limit"]=r,o["start_time"]=o["end_time"]-r*this.parseTimeframe(t)):(o["start_time"]=parseInt(i/1e3),o["limit"]=r,o["end_time"]=this.sum(o["start_time"],r*this.parseTimeframe(t)));const c=await this.publicGetMarketsMarketNameCandles(this.extend(o,s)),d=this.safeValue(c,"result",[]);return this.parseOHLCVs(d,n,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"liquidity"),s=this.safeString(e,"market");let n=void 0;if(s in this.markets_by_id)t=this.markets_by_id[s],n=t["symbol"];else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),i=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));n=void 0!==t&&void 0!==i?t+"/"+i:s}const a=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"price"),c=this.safeString(e,"size"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(v.stringMul(o,c));void 0===n&&void 0!==t&&(n=t["symbol"]);const l=this.safeString(e,"side");let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const t=this.safeString(e,"feeCurrency"),i=this.safeCurrencyCode(t);f={cost:p,currency:i,rate:this.safeNumber(e,"feeRate")}}const m=this.safeString(e,"orderId");return{info:e,timestamp:a,datetime:this.iso8601(a),symbol:n,id:i,order:m,type:void 0,takerOrMaker:r,side:l,price:d,amount:h,cost:u,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const[s,n]=this.getMarketParams(e,"market_name",r),a={market_name:n};void 0!==t&&(a["start_time"]=parseInt(t/1e3),a["end_time"]=this.seconds()),void 0!==i&&(a["limit"]=i);const o=await this.publicGetMarketsMarketNameTrades(this.extend(a,r)),c=this.safeValue(o,"result",[]);return this.parseTrades(c,s,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e),i=this.safeValue(t,"result",{});return{info:t,maker:this.safeNumber(i,"makerFee"),taker:this.safeNumber(i,"takerFee")}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i={info:t},r=this.safeValue(t,"result",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeCurrencyCode(this.safeString(e,"coin")),n=this.account();n["free"]=this.safeString(e,"free"),n["total"]=this.safeString(e,"total"),i[t]=n}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={new:"open",open:"open",closed:"closed",triggered:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt"));let s=this.parseOrderStatus(this.safeString(e,"status"));const n=this.safeNumber(e,"size"),a=this.safeNumber(e,"filledSize");let o=this.safeNumber(e,"remainingSize");0===o&&void 0!==n&&void 0!==a&&(o=Math.max(n-a,0),o>0&&(s="canceled"));let c=void 0;const d=this.safeString(e,"market");void 0!==d&&(d in this.markets_by_id?(t=this.markets_by_id[d],c=t["symbol"]):c=d),void 0===c&&void 0!==t&&(c=t["symbol"]);const h=this.safeString(e,"side"),u=this.safeString(e,"type"),l=this.safeNumber(e,"avgFillPrice"),f=this.safeNumber2(e,"price","triggerPrice",l);let p=void 0;void 0!==a&&void 0!==f&&(p=a*f);const m=this.parse8601(this.safeString(e,"triggeredAt")),g=this.safeString(e,"clientId"),y=this.safeNumber(e,"triggerPrice"),v=this.safeValue(e,"postOnly");return{info:e,id:i,clientOrderId:g,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:m,symbol:c,type:u,timeInForce:void 0,postOnly:v,side:h,price:f,stopPrice:y,amount:n,cost:p,average:l,filled:a,remaining:o,status:s,fee:void 0,trades:void 0}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),c={market:o["id"],side:i,type:t,size:parseFloat(this.amountToPrecision(e,r))},d=this.safeString2(n,"clientId","clientOrderId");void 0!==d&&(c["clientId"]=d,n=this.omit(n,["clientId","clientOrderId"]));let h=void 0;if("limit"===t)h="privatePostOrders",c["price"]=parseFloat(this.priceToPrecision(e,s));else if("market"===t)h="privatePostOrders",c["price"]=null;else if("stop"===t||"takeProfit"===t){h="privatePostConditionalOrders";const i=this.safeNumber2(n,"stopPrice","triggerPrice");if(void 0===i)throw new p(this.id+" createOrder () requires a stopPrice parameter or a triggerPrice parameter for "+t+" orders");n=this.omit(n,["stopPrice","triggerPrice"]),c["triggerPrice"]=parseFloat(this.priceToPrecision(e,i)),void 0!==s&&(c["orderPrice"]=parseFloat(this.priceToPrecision(e,s)))}else{if("trailingStop"!==t)throw new a(this.id+" createOrder () does not support order type "+t+", only limit, market, stop, trailingStop, or takeProfit orders are supported");h="privatePostConditionalOrders",c["trailValue"]=parseFloat(this.priceToPrecision(e,s))}const u=await this[h](this.extend(c,n)),l=this.safeValue(u,"result",[]);return this.parseOrder(l,o)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o=this.market(t),c={};let d=void 0;const h=this.safeString2(a,"client_order_id","clientOrderId"),u=this.safeNumber(a,"triggerPrice"),l=this.safeNumber(a,"orderPrice"),f=this.safeNumber(a,"trailValue");a=this.omit(a,["client_order_id","clientOrderId","triggerPrice","orderPrice","trailValue"]);const p=void 0!==u,m=void 0!==l,g=void 0!==f;p||m||g?(d="privatePostConditionalOrdersOrderIdModify",c["order_id"]=e,p&&(c["triggerPrice"]=parseFloat(this.priceToPrecision(t,u))),m&&(c["orderPrice"]=parseFloat(this.priceToPrecision(t,l))),g&&(c["trailValue"]=parseFloat(this.priceToPrecision(t,f)))):(void 0===h?(d="privatePostOrdersOrderIdModify",c["order_id"]=e):(d="privatePostOrdersByClientIdClientOrderIdModify",c["client_order_id"]=h),void 0!==n&&(c["price"]=parseFloat(this.priceToPrecision(t,n)))),void 0!==s&&(c["size"]=parseFloat(this.amountToPrecision(t,s)));const y=await this[d](this.extend(c,a)),v=this.safeValue(y,"result",{});return this.parseOrder(v,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeValue(this.options,"cancelOrder",{}),n=this.safeString(s,"method","privateDeleteOrdersOrderId");let a=this.safeString(i,"method",n);const o=this.safeValue(i,"type"),c=this.safeValue2(i,"client_order_id","clientOrderId");void 0===c?(r["order_id"]=parseInt(e),"stop"!==o&&"trailingStop"!==o&&"takeProfit"!==o||(a="privateDeleteConditionalOrdersOrderId")):(r["client_order_id"]=c,a="privateDeleteOrdersByClientIdClientOrderId");const d=this.omit(i,["method","type","client_order_id","clientOrderId"]),h=await this[a](this.extend(r,d)),u=this.safeValue(h,"result",{});return u}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={},r=this.getMarketId(e,"market",t);void 0!==r&&(i["market"]=r);const s=await this.privateDeleteOrders(this.extend(i,t)),n=this.safeValue(s,"result",{});return n}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeValue2(i,"client_order_id","clientOrderId");let n="privateGetOrdersOrderId";void 0===s?r["order_id"]=e:(r["client_order_id"]=s,i=this.omit(i,["client_order_id","clientOrderId"]),n="privateGetOrdersByClientIdClientOrderId");const a=await this[n](this.extend(r,i)),o=this.safeValue(a,"result",{});return this.parseOrder(o)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={},[n,a]=this.getMarketParams(e,"market",r);void 0!==a&&(s["market"]=a);const o=this.safeValue(this.options,"fetchOpenOrders",{}),c=this.safeString(o,"method","privateGetOrders");let d=this.safeString(r,"method",c);const h=this.safeValue(r,"type");"stop"!==h&&"trailingStop"!==h&&"takeProfit"!==h||(d="privateGetConditionalOrders");const u=this.omit(r,["method","type"]),l=await this[d](this.extend(s,u)),f=this.safeValue(l,"result",[]);return this.parseOrders(f,n,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={},[n,a]=this.getMarketParams(e,"market",r);void 0!==a&&(s["market"]=a),void 0!==i&&(s["limit"]=i),void 0!==t&&(s["start_time"]=parseInt(t/1e3));const o=this.safeValue(this.options,"fetchOrders",{}),c=this.safeString(o,"method","privateGetOrdersHistory");let d=this.safeString(r,"method",c);const h=this.safeValue(r,"type");"stop"!==h&&"trailingStop"!==h&&"takeProfit"!==h||(d="privateGetConditionalOrdersHistory");const u=this.omit(r,["method","type"]),l=await this[d](this.extend(s,u)),f=this.safeValue(l,"result",[]);return this.parseOrders(f,n,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const[s,n]=this.getMarketParams(e,"market",r),a={};void 0!==n&&(a["market"]=n),void 0!==t&&(a["start_time"]=parseInt(t/1e3),a["end_time"]=this.seconds());const o=await this.privateGetFills(this.extend(a,r)),c=this.safeValue(o,"result",[]);return this.parseTrades(c,s,t,i)}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const n=this.currency(e),a={coin:n["id"],size:t,address:i};void 0!==this.password&&(a["password"]=this.password),void 0!==r&&(a["tag"]=r);const o=await this.privatePostWalletWithdrawals(this.extend(a,s)),c=this.safeValue(o,"result",{});return this.parseTransaction(c,n)}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetAccount(t),r=this.safeValue(i,"result",{});return this.safeValue(r,"positions",[])}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={coin:i["id"]},s=await this.privateGetWalletDepositAddressCoin(this.extend(r,t)),n=this.safeValue(s,"result",{}),a=this.safeString(n,"address"),o=this.safeString(n,"tag");return this.checkAddress(a),{currency:e,address:a,tag:o,info:s}}parseTransactionStatus(e){const t={confirmed:"ok",complete:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeCurrencyCode(this.safeString(e,"coin")),r=this.safeString(e,"id"),s=this.safeNumber(e,"size"),n=this.parseTransactionStatus(this.safeString(e,"status")),a=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"txid");let c=void 0,d=this.safeValue(e,"address");if("string"!==typeof d&&(c=this.safeString(d,"tag"),d=this.safeString(d,"address")),void 0===d){const t=this.safeString(e,"notes");void 0!==t&&t.indexOf("Transfer to")>=0&&(d=t.slice(12))}const h=this.safeNumber(e,"fee");return{info:e,id:r,txid:o,timestamp:a,datetime:this.iso8601(a),addressFrom:void 0,address:d,addressTo:d,tagFrom:void 0,tag:c,tagTo:c,type:void 0,amount:s,currency:i,status:n,updated:void 0,fee:{currency:i,cost:h,rate:void 0}}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetWalletDeposits(r),n=this.safeValue(s,"result",[]);let a=void 0;return void 0!==e&&(a=this.currency(e)),this.parseTransactions(n,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetWalletWithdrawals(r),n=this.safeValue(s,"result",[]);let a=void 0;return void 0!==e&&(a=this.currency(e)),this.parseTransactions(n,a,t,i,{type:"withdrawal"})}sign(e,t="public",i="GET",r={},s,n){let a="/api/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e)),c=this.implodeHostname(this.urls["api"][t]);let d=c+a;if("POST"!==i&&Object.keys(o).length){const e="?"+this.urlencode(o);d+=e,a+=e}if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+a;s={},"POST"!==i&&"DELETE"!==i||(n=this.json(o),t+=n,s["Content-Type"]="application/json");const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256"),c=this.safeValue(this.options,"sign",{}),d=this.safeString(c,this.hostname,"FTX"),h=d+"-KEY",u=d+"-TS",l=d+"-SIGN";s[h]=this.apiKey,s[u]=e,s[l]=r}return{url:d,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"success");if(!h){const e=this.id+" "+a,t=this.safeString(o,"error");throw this.throwExactlyMatchedException(this.exceptions["exact"],t,e),this.throwBroadlyMatchedException(this.exceptions["broad"],t,e),new n(e)}}}},be7f:function(e,t,i){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var i=t.shift();if(i){if("object"!==typeof i)throw new TypeError(i+"must be non-object");for(var r in i)s(i,r)&&(e[r]=i[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),s);else for(var n=0;n<r;n++)e[s+n]=t[i+n]},flattenChunks:function(e){var t,i,r,s,n,a;for(r=0,t=0,i=e.length;t<i;t++)r+=e[t].length;for(a=new Uint8Array(r),s=0,t=0,i=e.length;t<i;t++)n=e[t],a.set(n,s),s+=n.length;return a}},a={arraySet:function(e,t,i,r,s){for(var n=0;n<r;n++)e[s+n]=t[i+n]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},bee0:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InsufficientFunds:n,BadRequest:a,BadSymbol:o,InvalidOrder:c,AuthenticationError:d,ArgumentsRequired:h,OrderNotFound:u,ExchangeNotAvailable:l}=i("74b0"),{TICK_SIZE:f}=i("5ea4"),p=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"delta",name:"Delta Exchange",countries:["VC"],rateLimit:300,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchCurrencies:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","1d":"1d","7d":"7d","1w":"1w","2w":"2w","1M":"30d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/99450025-3be60a00-2931-11eb-9302-f4fd8d8589aa.jpg",test:{public:"https://testnet-api.delta.exchange",private:"https://testnet-api.delta.exchange"},api:{public:"https://api.delta.exchange",private:"https://api.delta.exchange"},www:"https://www.delta.exchange",doc:["https://docs.delta.exchange"],fees:"https://www.delta.exchange/fees",referral:"https://www.delta.exchange/app/signup/?code=IULYNB"},api:{public:{get:["assets","settings","indices","products","tickers","tickers/{symbol}","l2orderbook/{symbol}","trades/{symbol}","history/candles","history/sparklines"]},private:{get:["orders","orders/leverage","positions","positions/margined","orders/history","fills","fills/history/download/csv","wallet/balances","wallet/transactions","wallet/transactions/download","deposits/address"],post:["orders","orders/batch","orders/leverage","positions/change_margin"],put:["orders","orders/batch"],delete:["orders","orders/all","orders/batch"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}}},precisionMode:f,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{insufficient_margin:n,order_size_exceed_available:c,risk_limits_breached:a,invalid_contract:o,immediate_liquidation:c,out_of_bankruptcy:c,self_matching_disrupted_post_only:c,immediate_execution_post_only:c,bad_schema:a,invalid_api_key:d,invalid_signature:d,open_order_not_found:u,unavailable:l},broad:{}}})}async fetchTime(e={}){const t=await this.publicGetSettings(e),i=this.safeValue(t,"result",{});return this.safeIntegerProduct(i,"server_time",.001)}async fetchStatus(e={}){const t=await this.publicGetSettings(e),i=this.safeValue(t,"result",{}),r=this.safeValue(i,"under_maintenance"),s="true"===r?"maintenance":"ok",n=this.safeIntegerProduct(i,"server_time",.001);return this.status=this.extend(this.status,{status:s,updated:n}),this.status}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=this.safeInteger(e,"id"),a=this.safeCurrencyCode(t),o=this.safeString(e,"deposit_status"),c=this.safeString(e,"withdrawal_status"),d="enabled"===o,h="enabled"===c,u=d&&h,l=this.safeInteger(e,"precision");r[a]={id:t,numericId:n,code:a,name:this.safeString(e,"name"),info:e,active:u,fee:this.safeNumber(e,"base_withdrawal_fee"),precision:1/Math.pow(10,l),limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"min_withdrawal_amount"),max:void 0}}}}return r}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t),r=this.safeValue(this.options,"currenciesByNumericId");(void 0===r||e)&&(this.options["currenciesByNumericId"]=this.indexBy(this.currencies,"numericId"));const s=this.safeValue(this.options,"marketsByNumericId");return(void 0===s||e)&&(this.options["marketsByNumericId"]=this.indexBy(this.markets,"numericId")),i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=this.safeValue(t,"result",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s];let t=this.safeString(e,"contract_type");const n=this.safeValue(e,"quoting_asset",{}),a=this.safeValue(e,"underlying_asset",{}),o=this.safeString(a,"symbol"),c=this.safeString(n,"symbol"),d=this.safeString(e,"symbol"),h=this.safeInteger(e,"id"),u=this.safeCurrencyCode(o),l=this.safeCurrencyCode(c);let f=d,p=!1,m=!1,g=!1;"perpetual_futures"===t?(t="swap",p=!0,m=!1,g=!1,d.indexOf("_")<0&&(f=u+"/"+l)):"call_options"===t||"put_options"===t||"move_options"===t?(t="option",p=!1,g=!0,m=!1):"futures"===t&&(t="future",p=!1,g=!1,m=!0);const y={amount:1,price:this.safeNumber(e,"tick_size")},v={amount:{min:1,max:this.safeNumber(e,"position_size_limit")},price:{min:y["price"],max:void 0},cost:{min:this.safeNumber(e,"min_size"),max:void 0}},b=this.safeString(e,"state"),w="live"===b,S=this.safeNumber(e,"maker_commission_rate"),k=this.safeNumber(e,"taker_commission_rate");r.push({id:d,numericId:h,symbol:f,base:u,quote:l,baseId:o,quoteId:c,type:t,option:g,swap:p,future:m,maker:S,taker:k,precision:y,limits:v,info:e,active:w})}return r}parseTicker(e,t){const i=this.safeIntegerProduct(e,"timestamp",.001),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.safeNumber(e,"close"),a=this.safeNumber(e,"open");let o=void 0,c=void 0,d=void 0;void 0!==a&&void 0!==n&&(o=n-a,c=this.sum(n,a)/2,0!==a&&(d=o/a*100));const h=this.safeNumber(e,"volume"),u=this.safeNumber(e,"turnover"),l=this.vwap(h,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:l,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:d,average:c,baseVolume:h,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTickersSymbol(this.extend(r,t)),n=this.safeValue(s,"result",{});return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.safeValue(i,"result",[]),s={};for(let n=0;n<r.length;n++){const e=this.parseTicker(r[n]),t=e["symbol"];s[t]=e}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r["depth"]=t);const s=await this.publicGetL2orderbookSymbol(this.extend(r,i)),n=this.safeValue(s,"result",{});return this.parseOrderBook(n,e,void 0,"buy","sell","price","size")}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_id");let s=this.parse8601(this.safeString(e,"created_at"));s=this.safeIntegerProduct(e,"timestamp",.001,s);const n=this.safeString(e,"price"),a=this.safeString(e,"size"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(p.stringMul(n,a)),h=this.safeValue(e,"product",{}),u=this.safeString(h,"symbol"),l=this.safeSymbol(u,t),f=this.safeString(e,"seller_role");let m=this.safeString(e,"side");void 0===m&&("taker"===f?m="sell":"maker"===f&&(m="buy"));const g=this.safeString(e,"role"),y=this.safeValue(e,"meta_data",{});let v=this.safeString(y,"order_type");void 0!==v&&(v=v.replace("_order",""));const b=this.safeNumber(e,"commission");let w=void 0;if(void 0!==b){const e=this.safeValue(h,"settling_asset",{}),t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t);w={cost:b,currency:i}}return{id:i,order:r,timestamp:s,datetime:this.iso8601(s),symbol:l,type:v,side:m,price:o,amount:c,cost:d,takerOrMaker:g,fee:w,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.publicGetTradesSymbol(this.extend(n,r)),o=this.safeValue(a,"result",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],resolution:this.timeframes[t]},o=this.parseTimeframe(t);if(r=r||2e3,void 0===i){const e=this.seconds();a["end"]=e,a["start"]=e-r*o}else{const e=parseInt(i/1e3);a["start"]=e,a["end"]=this.sum(e,r*o)}const c=await this.publicGetHistoryCandles(this.extend(a,s)),d=this.safeValue(c,"result",[]);return this.parseOHLCVs(d,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i=this.safeValue(t,"result",[]),r={info:t},s=this.safeValue(this.options,"currenciesByNumericId",{});for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString(e,"asset_id"),a=this.safeValue(s,t),o=void 0===a?t:a["code"],c=this.account();c["total"]=this.safeString(e,"balance"),c["free"]=this.safeString(e,"available_balance"),r[o]=c}return this.parseBalance(r,!1)}async fetchPosition(e,t){await this.loadMarkets();const i=this.market(e),r={product_id:i["numericId"]},s=await this.privateGetPositions(this.extend(r,t)),n=this.safeValue(s,"result",{});return n}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetPositionsMargined(t),r=this.safeValue(i,"result",[]);return r}parseOrderStatus(e){const t={open:"open",pending:"open",closed:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"client_order_id"),s=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"product_id"),a=this.safeValue(this.options,"marketsByNumericId",{});t=this.safeValue(a,n,t);const o=void 0===t?n:t["symbol"],c=this.parseOrderStatus(this.safeString(e,"state")),d=this.safeString(e,"side");let h=this.safeString(e,"order_type");h=h.replace("_order","");const u=this.safeNumber(e,"limit_price"),l=this.safeNumber(e,"size"),f=this.safeNumber(e,"unfilled_size"),p=this.safeNumber(e,"average_fill_price");let m=void 0;const g=this.safeNumber(e,"paid_commission");if(void 0!==g){let e=void 0;if(void 0!==t){const i=this.safeValue(t["info"],"settling_asset",{}),r=this.safeString(i,"symbol");e=this.safeCurrencyCode(r)}m={cost:g,currency:e}}return this.safeOrder({info:e,id:i,clientOrderId:r,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:o,type:h,side:d,price:u,amount:l,cost:void 0,average:p,filled:void 0,remaining:f,status:c,fee:m,trades:void 0})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=t+"_order",o=this.market(e),c={product_id:o["numericId"],size:this.amountToPrecision(e,r),side:i,order_type:a};"limit"===t&&(c["limit_price"]=this.priceToPrecision(e,s));const d=this.safeString2(n,"clientOrderId","client_order_id");n=this.omit(n,["clientOrderId","client_order_id"]),void 0!==d&&(c["client_order_id"]=d);const h=await this.privatePostOrders(this.extend(c,n)),u=this.safeValue(h,"result",{});return this.parseOrder(u,o)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o=this.market(t),c={id:parseInt(e),product_id:o["numericId"]};void 0!==s&&(c["size"]=parseInt(this.amountToPrecision(t,s))),void 0!==n&&(c["limit_price"]=this.priceToPrecision(t,n));const d=await this.privatePutOrders(this.extend(c,a)),h=this.safeValue(d,"result");return this.parseOrder(h,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={id:parseInt(e),product_id:r["numericId"]},n=await this.privateDeleteOrders(this.extend(s,i)),a=this.safeValue(n,"result");return this.parseOrder(a,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new h(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={product_id:i["numericId"]},s=this.privateDeleteOrdersAll(this.extend(r,t));return s}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrders",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrdersHistory",e,t,i,r)}async fetchOrdersWithMethod(e,t,i,r,s={}){await this.loadMarkets();const n={};let a=void 0;void 0!==t&&(a=this.market(t),n["product_ids"]=a["numericId"]),void 0!==i&&(n["start_time"]=i.toString()+"000"),void 0!==r&&(n["page_size"]=r);const o=await this[e](this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,a,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["product_ids"]=n["numericId"]),void 0!==t&&(s["start_time"]=t.toString()+"000"),void 0!==i&&(s["page_size"]=i);const a=await this.privateGetFills(this.extend(s,r)),o=this.safeValue(a,"result",[]);return this.parseTrades(o,n,t,i)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["asset_id"]=n["numericId"]),void 0!==i&&(s["page_size"]=i);const a=await this.privateGetWalletTransactions(this.extend(s,r)),o=this.safeValue(a,"result",[]);return this.parseLedger(o,n,t,i)}parseLedgerEntryType(e){const t={pnl:"pnl",deposit:"transaction",withdrawal:"transaction",commission:"fee",conversion:"trade",referral_bonus:"referral",commission_rebate:"rebate"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"uuid");let r=void 0;const s=void 0,n=this.safeValue(e,"meta_data",{}),a=this.safeString(n,"transaction_id"),o=void 0;let c=this.safeString(e,"transaction_type");"deposit"===c||"commission_rebate"===c||"referral_bonus"===c||"pnl"===c||"withdrawal_cancellation"===c||"promo_credit"===c?r="in":"withdrawal"!==c&&"commission"!==c&&"conversion"!==c&&"perpetual_futures_funding"!==c||(r="out"),c=this.parseLedgerEntryType(c);const d=this.safeInteger(e,"asset_id"),h=this.safeValue(this.options,"currenciesByNumericId");t=this.safeValue(h,d,t);const u=void 0===t?void 0:t["code"],l=this.safeNumber(e,"amount"),f=this.parse8601(this.safeString(e,"created_at")),p=this.safeNumber(e,"balance"),m=Math.max(0,p-l),g="ok";return{info:e,id:i,direction:r,account:s,referenceId:a,referenceAccount:o,type:c,currency:u,amount:l,before:m,after:p,status:g,timestamp:f,datetime:this.iso8601(f),fee:void 0}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={asset_symbol:i["id"]},s=await this.privateGetDepositsAddress(this.extend(r,t)),n=this.safeValue(s,"result",{}),a=this.safeString(n,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:s}}sign(e,t="public",i="GET",r={},s,n){const a="/"+this.version+"/"+this.implodeParams(e,r);let o=this.urls["api"][t]+a;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.seconds().toString();s={"api-key":this.apiKey,timestamp:e};let t=i+e+a;if("GET"===i||"DELETE"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);t+=e,o+=e}}else n=this.json(c),t+=n,s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret));s["signature"]=r}return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error",{}),u=this.safeString(h,"code");if(void 0!==u){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new s(e)}}}},bf9c:function(e,t,i){(function(t){var r=i("cceb").Ber,s=i("4ab0")._,n=i("4ab0");const a="-----BEGIN RSA PRIVATE KEY-----",o="-----END RSA PRIVATE KEY-----",c="-----BEGIN RSA PUBLIC KEY-----",d="-----END RSA PUBLIC KEY-----";e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=e.d.toBuffer(),c=e.p.toBuffer(),d=e.q.toBuffer(),h=e.dmp1.toBuffer(),u=e.dmq1.toBuffer(),l=e.coeff.toBuffer(),f=i.length+s.length+c.length+d.length+h.length+u.length+l.length+512,p=new r.Writer({size:f});return p.startSequence(),p.writeInt(0),p.writeBuffer(i,2),p.writeInt(e.e),p.writeBuffer(s,2),p.writeBuffer(c,2),p.writeBuffer(d,2),p.writeBuffer(h,2),p.writeBuffer(u,2),p.writeBuffer(l,2),p.endSequence(),"der"===t.type?p.buffer:a+"\n"+n.linebrk(p.buffer.toString("base64"),64)+"\n"+o},privateImport:function(e,i,c){var d;if(c=c||{},"der"!==c.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),!s.isString(i))throw Error("Unsupported key format");var h=n.trimSurroundingText(i,a,o).replace(/\s+|\n\r|\n|\r$/gm,"");d=t.from(h,"base64")}else{if(!t.isBuffer(i))throw Error("Unsupported key format");d=i}var u=new r.Reader(d);u.readSequence(),u.readString(2,!0),e.setPrivate(u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=i.length+512,a=new r.Writer({size:s});return a.startSequence(),a.writeBuffer(i,2),a.writeInt(e.e),a.endSequence(),"der"===t.type?a.buffer:c+"\n"+n.linebrk(a.buffer.toString("base64"),64)+"\n"+d},publicImport:function(e,i,a){var o;if(a=a||{},"der"!==a.type){if(t.isBuffer(i)&&(i=i.toString("utf8")),s.isString(i)){var h=n.trimSurroundingText(i,c,d).replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(h,"base64")}}else{if(!t.isBuffer(i))throw Error("Unsupported key format");o=i}var u=new r.Reader(o);u.readSequence(),e.setPublic(u.readString(2,!0),u.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}}).call(this,i("b639").Buffer)},bfa9:function(e,t,i){"use strict";var r=i("e54b"),s=i.n(r);let n;n=class{get length(){return Object.keys(this).length}key(e){return Object.keys(this)[e]}setItem(e,t){this[e]=t.toString()}getItem(e){return this[e]}removeItem(e){delete this[e]}clear(){for(let e of Object.keys(this))delete this[e]}};class a{constructor(){this._queue=[],this._flushing=!1}enqueue(e){return this._queue.push(e),this._flushing?Promise.resolve():this.flushQueue()}flushQueue(){this._flushing=!0;const e=()=>{const t=this._queue.shift();if(t)return t.then(e);this._flushing=!1};return Promise.resolve(e())}}const o={replaceArrays:{arrayMerge:(e,t,i)=>t},concatArrays:{arrayMerge:(e,t,i)=>e.concat(...t)}};function c(e,t,i){return s()(e,t,o[i])}let d=JSON;class h{constructor(e){this._mutex=new a,this.subscriber=e=>t=>e.subscribe(t),"undefined"===typeof e&&(e={}),this.key=null!=e.key?e.key:"vuex",this.subscribed=!1,this.supportCircular=e.supportCircular||!1,this.supportCircular&&(d=i("7503")),this.mergeOption=e.mergeOption||"replaceArrays";let t=!0;try{window.localStorage.getItem("")}catch(r){t=!1}if(e.storage)this.storage=e.storage;else if(t)this.storage=window.localStorage;else{if(!n)throw new Error("Neither 'window' is defined, nor 'MockStorage' is available");this.storage=new n}this.reducer=null!=e.reducer?e.reducer:null==e.modules?e=>e:t=>e.modules.reduce((e,i)=>c(e,{[i]:t[i]},this.mergeOption),{}),this.filter=e.filter||(e=>!0),this.strictMode=e.strictMode||!1,this.RESTORE_MUTATION=function(e,t){const i=c(e,t||{},this.mergeOption);for(const r of Object.keys(i))this._vm.$set(e,r,i[r])},this.asyncStorage=e.asyncStorage||!1,this.asyncStorage?(this.restoreState=null!=e.restoreState?e.restoreState:(e,t)=>t.getItem(e).then(e=>"string"===typeof e?this.supportCircular?d.parse(e||"{}"):JSON.parse(e||"{}"):e||{}),this.saveState=null!=e.saveState?e.saveState:(e,t,i)=>i.setItem(e,this.asyncStorage?c({},t||{},this.mergeOption):this.supportCircular?d.stringify(t):JSON.stringify(t)),this.plugin=e=>{e.restored=this.restoreState(this.key,this.storage).then(t=>{this.strictMode?e.commit("RESTORE_MUTATION",t):e.replaceState(c(e.state,t||{},this.mergeOption)),this.subscriber(e)((e,t)=>{this.filter(e)&&this._mutex.enqueue(this.saveState(this.key,this.reducer(t),this.storage))}),this.subscribed=!0})}):(this.restoreState=null!=e.restoreState?e.restoreState:(e,t)=>{const i=t.getItem(e);return"string"===typeof i?this.supportCircular?d.parse(i||"{}"):JSON.parse(i||"{}"):i||{}},this.saveState=null!=e.saveState?e.saveState:(e,t,i)=>i.setItem(e,this.supportCircular?d.stringify(t):JSON.stringify(t)),this.plugin=e=>{const t=this.restoreState(this.key,this.storage);this.strictMode?e.commit("RESTORE_MUTATION",t):e.replaceState(c(e.state,t||{},this.mergeOption)),this.subscriber(e)((e,t)=>{this.filter(e)&&this.saveState(this.key,this.reducer(t),this.storage)}),this.subscribed=!0})}}t["a"]=h},c04e:function(e,t,i){var r=i("861d");e.exports=function(e,t){if(!r(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!r(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!r(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!r(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},c0b9:function(e,t,i){"use strict";const{isObject:r,isNumber:s,isDictionary:n,isArray:a}=i("57bb"),o=Object.keys,c=e=>a(e)?e:Object.values(e),d=e=>new Set(c(e)),h=(...e)=>Object.assign({},...e),u=e=>a(e)?Array.from(e):h(e);e.exports={keys:o,values:c,extend:h,clone:u,index:d,ordered:e=>e,unique:e=>Array.from(d(e)),arrayConcat:(e,t)=>e.concat(t),inArray(e,t){return t.includes(e)},toArray(e){return Object.values(e)},isEmpty(e){return!e||(Array.isArray(e)?e:Object.keys(e)).length<1},keysort(e,t={}){for(const i of o(e).sort())t[i]=e[i];return t},indexBy(e,t,i={}){for(const r of c(e))t in r&&(i[r[t]]=r);return i},groupBy(e,t,i={}){for(const r of c(e))if(t in r){const e=r[t];i[e]=i[e]||[],i[e].push(r)}return i},filterBy(e,t,i,r=[]){for(const s of c(e))s[t]===i&&r.push(s);return r},sortBy:(e,t,i=!1,r=(i?-1:1))=>e.sort((e,i)=>e[t]<i[t]?-r:e[t]>i[t]?r:0),flatten:function e(t,i=[]){for(const r of t)a(r)?e(r,i):i.push(r);return i},pluck:(e,t)=>c(e).filter(e=>t in e).map(e=>e[t]),omit(e,...t){if(!Array.isArray(e)){const i=u(e);for(const e of t)if(a(e))for(const t of e)delete i[t];else delete i[e];return i}return e},sum(...e){const t=e.filter(s);return t.length>0?t.reduce((e,t)=>e+t,0):void 0},deepExtend:function e(...t){let i=void 0;for(const r of t)if(n(r)){n(i)||(i={});for(const t in r)i[t]=e(i[t],r[t])}else i=r;return i}}},c101:function(e,t,i){var r=i("97bab"),s=i("2cf0"),n=i("f3f8");function a(e,t,i){var r=0,s=i.length;while(r<s){if(t=e["@@transducer/step"](t,i[r]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}function o(e,t,i){var r=i.next();while(!r.done){if(t=e["@@transducer/step"](t,r.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=i.next()}return e["@@transducer/result"](t)}function c(e,t,i,r){return e["@@transducer/result"](i[r](n(e["@@transducer/step"],e),t))}var d="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function h(e,t,i){if("function"===typeof e&&(e=s(e)),r(i))return a(e,t,i);if("function"===typeof i["fantasy-land/reduce"])return c(e,t,i,"fantasy-land/reduce");if(null!=i[d])return o(e,t,i[d]());if("function"===typeof i.next)return o(e,t,i);if("function"===typeof i.reduce)return c(e,t,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}e.exports=h},c11f:function(e,t,i){"use strict";const r=i("90db"),{AccountSuspended:s,BadRequest:n,BadResponse:a,NetworkError:o,DDoSProtection:c,AuthenticationError:d,PermissionDenied:h,ExchangeError:u,InsufficientFunds:l,InvalidOrder:f,InvalidNonce:p,OrderNotFound:m,InvalidAddress:g,RateLimitExceeded:y,BadSymbol:v}=i("74b0"),b=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"digifinex",name:"DigiFinex",countries:["SG"],version:"v3",rateLimit:900,has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D","1w":"1W"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443315-01283a00-c5fe-11ea-8628-c2a0feaf07ac.jpg",api:"https://openapi.digifinex.com",www:"https://www.digifinex.com",doc:["https://docs.digifinex.com"],fees:"https://digifinex.zendesk.com/hc/en-us/articles/360000328422-Fee-Structure-on-DigiFinex",referral:"https://www.digifinex.com/en-ww/from/DhOzBg?channelCode=ljaUPp"},api:{public:{get:["{market}/symbols","kline","margin/currencies","margin/symbols","markets","order_book","ping","spot/symbols","time","trades","trades/symbols","ticker","currencies"]},private:{get:["{market}/financelog","{market}/mytrades","{market}/order","{market}/order/detail","{market}/order/current","{market}/order/history","margin/assets","margin/financelog","margin/mytrades","margin/order","margin/order/current","margin/order/history","margin/positions","otc/financelog","spot/assets","spot/financelog","spot/mytrades","spot/order","spot/order/current","spot/order/history","deposit/address","deposit/history","withdraw/history"],post:["{market}/order/cancel","{market}/order/new","{market}/order/batch_new","margin/order/cancel","margin/order/new","margin/position/close","spot/order/cancel","spot/order/new","transfer","withdraw/new","withdraw/cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{10001:[n,"Wrong request method, please check it's a GET ot POST request"],10002:[d,"Invalid ApiKey"],10003:[d,"Sign doesn't match"],10004:[n,"Illegal request parameters"],10005:[c,"Request frequency exceeds the limit"],10006:[h,"Unauthorized to execute this request"],10007:[h,"IP address Unauthorized"],10008:[p,"Timestamp for this request is invalid, timestamp must within 1 minute"],10009:[o,"Unexist endpoint, please check endpoint URL"],10011:[s,"ApiKey expired. Please go to client side to re-create an ApiKey"],20001:[h,"Trade is not open for this trading pair"],20002:[h,"Trade of this trading pair is suspended"],20003:[f,"Invalid price or amount"],20007:[f,"Price precision error"],20008:[f,"Amount precision error"],20009:[f,"Amount is less than the minimum requirement"],20010:[f,"Cash Amount is less than the minimum requirement"],20011:[l,"Insufficient balance"],20012:[n,"Invalid trade type, valid value: buy/sell)"],20013:[f,"No order info found"],20014:[n,"Invalid date, Valid format: 2018-07-25)"],20015:[n,"Date exceeds the limit"],20018:[h,"Your trading rights have been banned by the system"],20019:[n,'Wrong trading pair symbol. Correct format:"usdt_btc". Quote asset is in the front'],20020:[c,"You have violated the API operation trading rules and temporarily forbid trading. At present, we have certain restrictions on the user's transaction rate and withdrawal rate."],5e4:[u,"Exception error"],20021:[n,"Invalid currency"],20022:[n,"The ending timestamp must be larger than the starting timestamp"],20023:[n,"Invalid transfer type"],20024:[n,"Invalid amount"],20025:[n,"This currency is not transferable at the moment"],20026:[l,"Transfer amount exceed your balance"],20027:[h,"Abnormal account status"],20028:[h,"Blacklist for transfer"],20029:[h,"Transfer amount exceed your daily limit"],20030:[n,"You have no position on this trading pair"],20032:[h,"Withdrawal limited"],20033:[n,"Wrong Withdrawal ID"],20034:[h,"Withdrawal service of this crypto has been closed"],20035:[h,"Withdrawal limit"],20036:[u,"Withdrawal cancellation failed"],20037:[g,"The withdrawal address, Tag or chain type is not included in the withdrawal management list"],20038:[g,"The withdrawal address is not on the white list"],20039:[u,"Can't be canceled in current status"],20040:[y,"Withdraw too frequently; limitation: 3 times a minute, 100 times a day"],20041:[h,"Beyond the daily withdrawal limit"],20042:[v,"Current trading pair does not support API trading"]},broad:{}},options:{defaultType:"spot",types:["spot","margin","otc"]},commonCurrencies:{BHT:"Black House Test",EPS:"Epanus",MBN:"Mobilian Coin",TEL:"TEL666"}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.safeValue(e,"deposit_status",1),o=this.safeValue(e,"withdraw_status",1),c=a&&o,d=this.safeNumber(e,"withdraw_fee_rate");n in r?Array.isArray(r[n]["info"])?r[n]["info"].push(e):r[n]["info"]=[r[n]["info"],e]:r[n]={id:t,code:n,info:e,type:void 0,name:void 0,active:c,fee:d,precision:8,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"min_withdraw_amount"),max:void 0}}}}return r}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeString(t,"method","fetch_markets_v2");return await this[i](e)}async fetchMarketsV2(e={}){const t=await this.publicGetTradesSymbols(e),i=this.safeValue(t,"symbol_list",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),n=this.safeString(e,"base_asset"),a=this.safeString(e,"quote_asset"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:this.safeInteger(e,"amount_precision"),price:this.safeInteger(e,"price_precision")},u={amount:{min:this.safeNumber(e,"minimum_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"minimum_value"),max:void 0}},l=this.safeInteger(e,"is_allow",1),f=!!l,p="spot",m="spot"===p,g="margin"===p;r.push({id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:f,type:p,spot:m,margin:g,precision:h,limits:u,info:e})}return r}async fetchMarketsV1(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"market"),[n,a]=t.split("_"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:this.safeInteger(e,"volume_precision"),price:this.safeInteger(e,"price_precision")},u={amount:{min:this.safeNumber(e,"min_volume"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(e,"min_amount"),max:void 0}},l=void 0;r.push({id:t,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:l,precision:h,limits:u,info:e})}return r}async fetchBalance(e={}){const t=this.safeString(this.options,"defaultType","spot"),i=this.safeString(e,"type",t);e=this.omit(e,"type");const r="privateGet"+this.capitalize(i)+"Assets",s=await this[r](e),n=this.safeValue(s,"list",[]),a={info:s};for(let o=0;o<n.length;o++){const e=n[o],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r["used"]=this.safeString(e,"frozen"),r["free"]=this.safeString(e,"free"),r["total"]=this.safeString(e,"total"),a[i]=r}return this.parseBalance(a,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderBook(this.extend(s,i)),a=this.safeTimestamp(n,"date");return this.parseOrderBook(n,e,a)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=this.safeValue(i,"ticker",[]),n=this.safeInteger(i,"date");for(let a=0;a<s.length;a++){const e=this.extend({date:n},s[a]),t=this.parseTicker(e),i=t["symbol"];r[i]=t}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetTicker(this.extend(r,t)),n=this.safeInteger(s,"date"),a=this.safeValue(s,"ticker",[]),o=this.safeValue(a,0,{}),c=this.extend({date:n},o);return this.parseTicker(c,i)}parseTicker(e,t){const i=this.safeStringUpper(e,"symbol"),r=this.safeSymbol(i,t,"_"),s=this.safeTimestamp(e,"date"),n=this.safeNumber(e,"last"),a=this.safeNumber(e,"change");return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:a,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"base_vol"),info:e}}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_id"),s=this.safeTimestamp2(e,"date","timestamp"),n=this.safeString2(e,"type","side"),a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(b.stringMul(a,o)),u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t,"_"),f=this.safeValue(e,"is_maker"),p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"fee_currency"),i=this.safeCurrencyCode(t);m={cost:p,currency:i}}return{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:l,type:void 0,order:r,side:n,price:c,amount:d,cost:h,takerOrMaker:f,fee:m}}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeTimestamp(t,"server_time")}async fetchStatus(e={}){return await this.publicGetPing(e),this.status=this.extend(this.status,{status:"ok",updated:this.milliseconds()}),this.status}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,5),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,1)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],period:this.timeframes[t]};if(void 0!==i){const e=parseInt(i/1e3);if(a["start_time"]=e,void 0!==r){const i=this.parseTimeframe(t);a["end_time"]=this.sum(e,r*i)}}else if(void 0!==r){const e=this.seconds(),i=this.parseTimeframe(t);a["startTime"]=this.sum(e,-r*i)}const o=await this.publicGetKline(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=this.safeString(this.options,"defaultType","spot"),c=this.safeString(n,"type",o);n=this.omit(n,"type");const d={market:c,symbol:a["id"],amount:this.amountToPrecision(e,r)};let h="";"market"===t?h="_market":d["price"]=this.priceToPrecision(e,s),d["type"]=i+h;const u=await this.privatePostMarketOrderNew(this.extend(d,n)),l=this.parseOrder(u,a);return this.extend(l,{symbol:e,side:i,type:t,amount:r,price:s})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type");const n={market:s,order_id:e},a=await this.privatePostMarketOrderCancel(this.extend(n,i)),o=this.safeValue(a,"success",[]),c=o.length;if(1!==c)throw new m(this.id+" cancelOrder "+e+" not found");return a}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type");const n={market:s,order_id:e.join(",")},a=await this.privatePostCancelOrder(this.extend(n,i)),o=this.safeValue(a,"success",[]),c=o.length;if(c<1)throw new m(this.id+" cancelOrders error");return a}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeTimestamp(e,"created_date"),s=this.safeTimestamp(e,"finished_date");let n=this.safeString(e,"type"),a=void 0;if(void 0!==n){const e=n.split("_"),t=e.length;t>1?(n=e[0],a=e[1]):a="limit"}const o=this.parseOrderStatus(this.safeString(e,"status")),c=this.safeString(e,"symbol"),d=this.safeSymbol(c,t,"_"),h=this.safeNumber(e,"amount"),u=this.safeNumber(e,"executed_amount"),l=this.safeNumber(e,"price"),f=this.safeNumber(e,"avg_price");return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:d,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:l,stopPrice:void 0,amount:h,filled:u,remaining:void 0,cost:void 0,average:f,status:o,fee:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),n=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();let a=void 0;const o={market:n};void 0!==e&&(a=this.market(e),o["symbol"]=a["id"]);const c=await this.privateGetMarketOrderCurrent(this.extend(o,r)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,a,t,i)}async fetchOrders(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),n=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();let a=void 0;const o={market:n};void 0!==e&&(a=this.market(e),o["symbol"]=a["id"]),void 0!==t&&(o["start_time"]=parseInt(t/1e3)),void 0!==i&&(o["limit"]=i);const c=await this.privateGetMarketOrderHistory(this.extend(o,r)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,a,t,i)}async fetchOrder(e,t,i={}){const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type"),await this.loadMarkets();let n=void 0;void 0!==t&&(n=this.market(t));const a={market:s,order_id:e},o=await this.privateGetMarketOrder(this.extend(a,i)),c=this.safeValue(o,"data",[]),d=this.safeValue(c,0);if(void 0===d)throw new m(this.id+" fetchOrder() order "+e+" not found");return this.parseOrder(d,n)}async fetchMyTrades(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),n=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();let a=void 0;const o={market:n};void 0!==e&&(a=this.market(e),o["symbol"]=a["id"]),void 0!==t&&(o["start_time"]=parseInt(t/1e3)),void 0!==i&&(o["limit"]=i);const c=await this.privateGetMarketMytrades(this.extend(o,r)),d=this.safeValue(c,"list",[]);return this.parseTrades(d,a,t,i)}parseLedgerEntryType(e){const t={};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"num"),r=void 0,s=this.parseLedgerEntryType(this.safeString(e,"type")),n=this.safeCurrencyCode(this.safeString(e,"currency_mark"),t),a=this.safeTimestamp(e,"time"),o=void 0,c=this.safeNumber(e,"balance"),d="ok";return{info:e,id:i,direction:void 0,account:r,referenceId:void 0,referenceAccount:void 0,type:s,currency:n,amount:void 0,before:o,after:c,status:d,timestamp:a,datetime:this.iso8601(a),fee:void 0}}async fetchLedger(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),n=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();const a={market:n};let o=void 0;void 0!==e&&(o=this.currency(e),a["currency_mark"]=o["id"]),void 0!==t&&(a["start_time"]=parseInt(t/1e3)),void 0!==i&&(a["limit"]=i);const c=await this.privateGetMarketFinancelog(this.extend(a,r)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"finance",[]);return this.parseLedger(h,o,t,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"addressTag"),s=this.safeStringUpper(e,"currency"),n=this.safeCurrencyCode(s);return{info:e,code:n,address:i,tag:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetDepositAddress(this.extend(r,t)),n=this.safeValue(s,"data",[]),a=this.parseDepositAddresses(n),o=this.safeValue(a,e);if(void 0===o)throw new g(this.id+" fetchDepositAddress did not return an address for "+e+" - create the deposit address in the user settings on the exchange website first.");return o}async fetchTransactionsByType(e,t,i,r,s={}){await this.loadMarkets();let n=void 0;const a={};void 0!==t&&(n=this.currency(t),a["currency"]=n["id"]),void 0!==r&&(a["size"]=Math.min(500,r));const o="deposit"===e?"privateGetDepositHistory":"privateGetWithdrawHistory",c=await this[o](this.extend(a,s)),d=this.safeValue(c,"data",[]);return this.parseTransactions(d,n,i,r,{type:e})}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdrawal",e,t,i,r)}parseTransactionStatus(e){const t={0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","withdraw_id"),r=this.safeString(e,"address");let s=this.safeString(e,"memo");void 0!==s&&s.length<1&&(s=void 0);const n=this.safeString(e,"hash"),a=this.safeStringUpper(e,"currency"),o=this.safeCurrencyCode(a,t),c=this.parse8601(this.safeString(e,"created_date")),d=this.parse8601(this.safeString(e,"finished_date")),h=this.parseTransactionStatus(this.safeString(e,"state")),u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"fee");let f=void 0;return void 0!==l&&(f={currency:o,cost:l}),{info:e,id:i,txid:n,timestamp:c,datetime:this.iso8601(c),address:r,addressTo:r,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,type:void 0,amount:u,currency:o,status:h,updated:d,fee:f}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={address:i,amount:parseFloat(t),currency:n["id"]};void 0!==r&&(a["memo"]=r);const o=await this.privatePostWithdrawNew(this.extend(a,s));return this.parseTransaction(o,n)}sign(e,t="public",i="GET",r={},s,n){const a=this.version;let o=this.urls["api"]+"/"+a+"/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e)),d=this.urlencode(this.keysort(c));if("private"===t){const e=this.nonce().toString(),t=d,r=this.hmac(this.encode(t),this.encode(this.secret));"GET"===i?d&&(o+="?"+d):"POST"===i&&(s={"Content-Type":"application/x-www-form-urlencoded"},d&&(n=d)),s={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":r,"ACCESS-TIMESTAMP":e}}else d&&(o+="?"+d);return{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(!o)return;const h=this.safeString(o,"code");if("0"===h||"200"===h)return;const l=this.id+" "+n;if(void 0===h)throw new a(l);const f=[u,l],[p,m]=this.safeValue(this.exceptions["exact"],h,f);throw new p(m)}}},c260:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var r=i("53a4"),s=function(e){return e._handleError},n=function(e,t,i){var n=i.value;i.value=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=this.currentProvider;if(!a){var o=s(this),c=o(r["a"].ENSURE_PROVIDER,[t]);throw c}return n.apply(this,e)}},a=function(e,t,i){var n=i.value;i.value=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.apply(this,t).catch((function(t){if("Error: User rejection!"===t)return Promise.reject(t);if(t instanceof r["e"])return Promise.reject(t);var i=s(e),n=i(r["a"].PROVIDER_INTERNAL,[t.message]);return e._console.error(n),Promise.reject(t)}))}},o=function(e,t,i){var n=i.value;i.value=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(null==this.currentProvider.user){var a=s(this),o=a(r["a"].NOT_AUTHORIZED,[t]);throw o}return n.apply(this,e)}}},c2ae:function(e,t,i){e.exports=i("e372").PassThrough},c2f1:function(e,t){},c345:function(e,t,i){"use strict";var r=i("c532"),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,n,a={};return e?(r.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),i=r.trim(e.substr(n+1)),t){if(a[t]&&s.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}})),a):a}},c37a:function(e,t,i){"use strict";var r=i("5530"),s=(i("a9e3"),i("4de4"),i("d81d"),i("ac1f"),i("1276"),i("99af"),i("d191"),i("9d26")),n=i("ba87"),a=(i("8ff2"),i("a9ad")),o=i("7560"),c=i("58df"),d=i("80d2"),h=Object(c["a"])(a["a"],o["a"]).extend({name:"v-messages",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage:function(e,t){return this.$createElement("div",{staticClass:"v-messages__message",key:t},Object(d["s"])(this,"default",{message:e,key:t})||[e])}},render:function(e){return e("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),u=h,l=i("7e2b"),f=i("38cb"),p=i("d9f7"),m=Object(c["a"])(l["a"],f["a"]),g=m.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data:function(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return Object(r["a"])({"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense},this.themeClasses)},computedId:function(){return this.id||"input-".concat(this._uid)},hasDetails:function(){return this.messagesToDisplay.length>0},hasHint:function(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return!(!this.$slots.label&&!this.label)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit(this.$_modelEvent,e)}},isDirty:function(){return!!this.lazyValue},isLabelActive:function(){return this.isDirty},messagesToDisplay:function(){var e=this;return this.hasHint?[this.hint]:this.hasMessages?this.validations.map((function(t){if("string"===typeof t)return t;var i=t(e.internalValue);return"string"===typeof i?i:""})).filter((function(e){return""!==e})):[]},showDetails:function(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value:function(e){this.lazyValue=e}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement("div",{staticClass:"v-input__control",attrs:{title:this.attrs$.title}},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this["".concat(e,"Icon")],a="click:".concat(Object(d["w"])(e)),o=!(!this.listeners$[a]&&!t),c=Object(p["a"])({attrs:{"aria-label":o?Object(d["w"])(e).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light},on:o?{click:function(e){e.preventDefault(),e.stopPropagation(),i.$emit(a,e),t&&t(e)},mouseup:function(e){e.preventDefault(),e.stopPropagation()}}:void 0},r);return this.$createElement("div",{staticClass:"v-input__icon",class:e?"v-input__icon--".concat(Object(d["w"])(e)):void 0},[this.$createElement(s["a"],c,n)])},genInputSlot:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(d["g"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(n["a"],{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){var e=this;return this.showDetails?this.$createElement(u,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:function(t){return Object(d["s"])(e,"message",t)}}}):null},genSlot:function(e,t,i){if(!i.length)return null;var r="".concat(e,"-").concat(t);return this.$createElement("div",{staticClass:"v-input__".concat(r),ref:r},i)},genPrependSlot:function(){var e=[];return this.$slots.prepend?e.push(this.$slots.prepend):this.prependIcon&&e.push(this.genIcon("prepend")),this.genSlot("prepend","outer",e)},genAppendSlot:function(){var e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","outer",e)},onClick:function(e){this.$emit("click",e)},onMouseDown:function(e){this.hasMouseDown=!0,this.$emit("mousedown",e)},onMouseUp:function(e){this.hasMouseDown=!1,this.$emit("mouseup",e)}},render:function(e){return e("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}});t["a"]=g},c3c4:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r=i("fb58"),s=i("a1c6");class n{constructor(e){this._actions=[],this._maxLength=e}get length(){return this._actions.length+(null==this._active?0:1)}push(e){if(this._actions.length>=this._maxLength)throw new Error("Cant't push action! Queue is full!");return new Promise((t,i)=>{const r=()=>{this._active=void 0;const e=this._actions.map(e=>e.action).indexOf(s);-1!==e&&this._actions.splice(e,1),this.run()},s=()=>e().then(e=>{r(),t(e)},e=>{r(),i(e)});this._actions.push({action:s,reject:i}),1===this.length&&this.run()})}clear(e){e=e||new Error("Rejection with clear queue!");const t="string"===typeof e?new Error(e):e;this._actions.splice(0,this._actions.length).forEach(e=>e.reject(t)),this._active=void 0}canPush(){return this._actions.length<this._maxLength}run(){const e=this._actions.shift();null!=e&&(this._active=e.action())}}class a{constructor(e){this._events=[],this._toRunEvents=[],this._queue=new n(e)}dropConnection(){this._queue.clear(new Error("User rejection!")),this._events.forEach(e=>this._toRunEvents.push(e)),this._dropTransportConnect()}sendEvent(e){this._events.push(e),this._toRunEvents.push(e)}dialog(e){return this._runBeforeShow(),this._getBus().then(t=>{const i=this._wrapAction(()=>e(t));return this._runEvents(t),this._queue.canPush()?this._queue.push(i).then(e=>(this._runAfterShow(),e)).catch(e=>(this._runAfterShow(),Promise.reject(e))):Promise.reject(new Error("Queue is full!"))})}_runBeforeShow(){0===this._queue.length&&this._beforeShow()}_runAfterShow(){0===this._queue.length&&this._afterShow()}_runEvents(e){this._toRunEvents.splice(0,this._events.length).forEach(t=>t(e))}_wrapAction(e){return this._toRunEvents?()=>{const t=e();return t.catch(()=>{this._events.forEach(e=>this._toRunEvents.push(e))}),t}:e}}const o=class extends a{constructor(e,t){super(t),this._url=e,this._initIframe()}get(){return this._iframe||this._initIframe(),this._iframe}_dropTransportConnect(){null!=this._iframe&&(document.body.removeChild(this._iframe),this._initIframe()),this._bus&&(this._bus.destroy(),this._bus=void 0)}_getBus(){return this._bus?Promise.resolve(this._bus):r["WindowAdapter"].createSimpleWindowAdapter(this._iframe).then(e=>new Promise(t=>{this._bus=new r["Bus"](e,-1),this._bus.once("ready",()=>{t(this._bus)})}))}_beforeShow(){this._showIframe()}_afterShow(){this._hideIframe()}_initIframe(){this._iframe=this._createIframe(),this._addIframeToDom(this._iframe),this._listenFetchURLError(this._iframe),this._hideIframe()}_addIframeToDom(e){null!=document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(e)})}_createIframe(){const e=document.createElement("iframe");return e.style.transition="opacity .2s",e.style.position="absolute",e.style.opacity="0",e.style.width="100%",e.style.height="100%",e.style.left="0",e.style.top="0",e.style.border="none",e.style.position="fixed",e}_showIframe(){const e={width:"100%",height:"100%",left:"0",top:"0",border:"none",position:"fixed",display:"block",opacity:"0",zIndex:"99999999"};this._applyStyle(e),null!=o._timer&&clearTimeout(o._timer),o._timer=setTimeout(()=>{this._applyStyle({opacity:"1"})},0)}_hideIframe(){const e={opacity:"0"};this._applyStyle(e),null!=o._timer&&clearTimeout(o._timer),o._timer=setTimeout(()=>{this._applyStyle({width:"10px",height:"10px",left:"-100px",top:"-100px",position:"absolute",opacity:"0",zIndex:"0",display:"none"})},200)}_applyStyle(e){Object.entries(e).forEach(([e,t])=>{null!=t&&this._iframe&&(this._iframe.style[e]=t)})}_renderErrorPage(e,t,i){e.parentElement&&(e.parentElement.style.height="100%"),Object.assign(e.style,{position:"relative",boxSizing:"border-box",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0px"});const r=document.createElement("div");Object.assign(r.style,{position:"fixed",zIndex:"-1",height:"100%",width:"100%",overflow:"hidden",backgroundColor:"#000",opacity:"0.6"});const s=document.createElement("div");Object.assign(s.style,{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:"0",backgroundColor:"#292F3C",width:"520px",borderRadius:"6px",padding:"40px",boxSizing:"border-box"});const n=document.createElement("div");n.textContent=i,Object.assign(n.style,{fontSize:"15px",lineHeight:"20px",color:"#fff",marginBottom:"40px",fontFamily:"Roboto, sans-serif"});const a=document.createElement("button");a.textContent="OK",a.addEventListener("click",()=>t()),Object.assign(a.style,{width:"100%",fontSize:"15px",lineHeight:"48px",padding:" 0 40px",color:"#fff",backgroundColor:"#5A81EA",outline:"none",border:"none",cursor:"pointer",fontFamily:"Roboto, sans-serif",borderRadius:"4px"}),s.appendChild(n),s.appendChild(a),e.appendChild(r),e.appendChild(s)}_listenFetchURLError(e){fetch(this._url).catch(()=>{e.addEventListener("load",()=>{e.contentDocument&&(this._renderErrorPage(e.contentDocument.body,()=>this.dropConnection(),"The request could not be processed. To resume your further work, disable the installed plugins."),this._showIframe())})})}};let c=o;function d(){const e=navigator.userAgent.toLowerCase(),t=e.includes("safari")&&!e.includes("chrome"),i=null!=navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return i||t}c._timer=null;class h{constructor(e,t){this.user=null,this.emitter=new s["EventEmitter"],this._clientUrl=(e||"https://waves.exchange/signer/")+"?"+h._getCacheClean(),this._transport=new c(this._clientUrl,3),!0===t&&(r["config"].console.logLevel=r["config"].console.LOG_LEVEL.VERBOSE)}static _getCacheClean(){return String(Date.now()%6e4)}on(e,t){return this.emitter.on(e,t),this}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.once(e,t),this}connect(e){return Promise.resolve(this._transport.sendEvent(t=>t.dispatchEvent("connect",e)))}logout(){return this.user=null,Promise.resolve(this._transport.dropConnection())}login(){var e;if(this.user)return Promise.resolve(this.user);const t=this._transport.get();if(d()){const i=null==(e=t.contentWindow)?void 0:e.open(this._clientUrl);if(!i)throw new Error("Window was blocked")}return t.src=this._clientUrl,this._transport.dialog(e=>e.request("login").then(e=>(this.user=e,e)).catch(e=>(this._transport.dropConnection(),Promise.reject(e))))}signMessage(e){return this.login().then(()=>this._transport.dialog(t=>t.request("sign-message",e)))}signTypedData(e){return this.login().then(()=>this._transport.dialog(t=>t.request("sign-typed-data",e)))}sign(e){return this.login().then(()=>this._transport.dialog(t=>t.request("sign",e)))}}},c3f2:function(e,t,i){"use strict";var r=i("f0be"),s=i("74d2"),n=i("fee7").inherits,a=r.base,o=i("fee7"),c=o.utils;function d(e){a.call(this,"mont",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(e,t,i){a.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(t,16),this.z=new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(d,a),e.exports=d,d.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),s=r.redSqrt();return 0===s.redSqr().cmp(r)},n(h,a.BasePoint),d.prototype.decodePoint=function(e,t){return this.point(c.toArray(e,t),1)},d.prototype.point=function(e,t){return new h(this,e,t)},d.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(e,t){return new h(e,t[0],t[1]||e.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),r=i.redSqr(),s=t.redSub(r),n=t.redMul(r),a=s.redMul(r.redAdd(this.curve.a24.redMul(s)));return this.curve.point(n,a)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),s=e.x.redAdd(e.z),n=e.x.redSub(e.z),a=n.redMul(i),o=s.redMul(r),c=t.z.redMul(a.redAdd(o).redSqr()),d=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(c,d)},h.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),s=this,n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var a=n.length-1;a>=0;a--)0===n[a]?(i=i.diffAdd(r,s),r=r.dbl()):(r=i.diffAdd(r,s),i=i.dbl());return r},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},c401:function(e,t,i){"use strict";var r=i("c532");e.exports=function(e,t,i){return r.forEach(i,(function(i){e=i(e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,i){"use strict";var r=i("1d2b"),s=Object.prototype.toString;function n(e){return"[object Array]"===s.call(e)}function a(e){return"undefined"===typeof e}function o(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===s.call(e)}function d(e){return"undefined"!==typeof FormData&&e instanceof FormData}function h(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function u(e){return"string"===typeof e}function l(e){return"number"===typeof e}function f(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==s.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function m(e){return"[object Date]"===s.call(e)}function g(e){return"[object File]"===s.call(e)}function y(e){return"[object Blob]"===s.call(e)}function v(e){return"[object Function]"===s.call(e)}function b(e){return f(e)&&v(e.pipe)}function w(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function S(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function k(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function _(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),n(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function O(){var e={};function t(t,i){p(e[i])&&p(t)?e[i]=O(e[i],t):p(t)?e[i]=O({},t):n(t)?e[i]=t.slice():e[i]=t}for(var i=0,r=arguments.length;i<r;i++)_(arguments[i],t);return e}function T(e,t,i){return _(t,(function(t,s){e[s]=i&&"function"===typeof t?r(t,i):t})),e}function C(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:n,isArrayBuffer:c,isBuffer:o,isFormData:d,isArrayBufferView:h,isString:u,isNumber:l,isObject:f,isPlainObject:p,isUndefined:a,isDate:m,isFile:g,isBlob:y,isFunction:v,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:k,forEach:_,merge:O,extend:T,trim:S,stripBOM:C}},c6a7:function(e,t,i){"use strict";const r=i("90db"),{BadRequest:s,ExchangeError:n,ArgumentsRequired:a,AuthenticationError:o,InsufficientFunds:c,OrderNotFound:d,ExchangeNotAvailable:h,RateLimitExceeded:u,PermissionDenied:l,InvalidOrder:f,InvalidAddress:p,OnMaintenance:m,RequestTimeout:g,AccountSuspended:y}=i("74b0"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zb",name:"ZB",countries:["CN"],rateLimit:100,version:"v1",certified:!0,pro:!0,has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDepositAddresses:!0,fetchDeposits:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchClosedOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{ws:{1001:n,1002:n,1003:o,1004:o,1005:o,1006:l,1007:n,1009:m,1010:h,1012:l,1013:n,1014:n,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2008:c,2009:c,3001:d,3002:f,3003:f,3004:o,3005:s,3006:l,3007:g,3008:n,3009:f,3010:l,3011:f,3012:f,4001:y,4002:u},exact:{1001:n,1002:n,1003:o,1004:o,1005:o,1006:o,1009:h,1010:h,1012:l,1013:n,1014:n,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2008:c,2009:c,3001:d,3002:f,3003:f,3004:o,3005:s,3006:o,3007:o,3008:d,3009:f,3010:l,3011:f,3012:f,4001:h,4002:u},broad:{"":p}},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"https://api.zb.today/data",private:"https://trade.zb.today/api",trade:"https://trade.zb.today/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate",referral:{url:"https://www.zbex.club/en/register?ref=4301lera",discount:.16}},api:{trade:{get:["getFeeInfo"]},public:{get:["markets","ticker","allTicker","depth","trades","kline","getGroupMarkets"]},private:{get:["order","orderMoreV2","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getFinishedAndPartialOrders","getAccountInfo","getUserAddress","getPayinAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","addSubUser","getSubUserList","doTransferFunds","createSubUserKey","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","autoBorrow","repay","doAllRepay","getRepayments","getFinanceRecords","changeInvestMark","changeLoop","getCrossAssets","getCrossBills","transferInCross","transferOutCross","doCrossLoan","doCrossRepay","getCrossRepayRecords"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ANG:"Anagram",ENT:"ENTCash"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],n=t[e],[a,o]=e.split("_"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeString(n,"amountScale"),l=this.safeString(n,"priceScale"),f=this.parsePrecision(u),p=this.parsePrecision(l),m={amount:parseInt(u),price:parseInt(l)};r.push({id:e,symbol:h,baseId:a,quoteId:o,base:c,quote:d,active:!0,precision:m,limits:{amount:{min:this.parseNumber(f),max:void 0},price:{min:this.parseNumber(p),max:void 0},cost:{min:0,max:void 0}},info:n})}return r}async fetchCurrencies(e={}){const t=await this.tradeGetGetFeeInfo(e),i=this.safeValue(t,"result",{}),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeCurrencyCode(e),o=void 0;let c=!0,d=!0;const h={};for(let i=0;i<t.length;i++){const e=t[i],r=this.safeString(e,"chainName"),s=this.safeNumber(e,"fee"),n=this.safeValue(e,"canDeposit"),a=this.safeValue(e,"canWithdraw");d=d||n,c=c||a,h[r]=s}const u=c&&d;s[a]={id:e,name:void 0,code:a,precision:o,info:t,active:u,fee:void 0,fees:h,limits:this.limits}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetAccountInfo(e),i=this.safeValue(t["result"],"coins"),r={info:t,timestamp:void 0,datetime:void 0};for(let s=0;s<i.length;s++){const e=i[s],t=this.account(),n=this.safeString(e,"key"),a=this.safeCurrencyCode(n);t["free"]=this.safeString(e,"available"),t["used"]=this.safeString(e,"freez"),r[a]=t}return this.parseBalance(r,!1)}parseDepositAddress(e,t){let i=this.safeString2(e,"key","address"),r=void 0;const s=this.safeString(e,"memo");if(void 0!==s)r=s;else if(i.indexOf("_")>=0){const e=i.split("_");i=e[0],r=e[1]}const n=this.safeString(e,"blockChain"),a=this.safeCurrencyCode(n,t);return{currency:a,address:i,tag:r,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetGetPayinAddress(t),r=this.safeValue(i,"message",{}),s=this.safeValue(r,"datas",[]);return this.parseDepositAddresses(s,e)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetGetUserAddress(this.extend(r,t)),n=this.safeValue(s,"message",{}),a=this.safeValue(n,"datas",{});return this.parseDepositAddress(a,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]};void 0!==t&&(s["size"]=t);const n=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(n,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetAllTicker(t),r={},s={},n=Object.keys(this.markets_by_id);for(let o=0;o<n.length;o++){const e=n[o].replace("_","");s[e]=this.markets_by_id[n[o]]}const a=Object.keys(i);for(let o=0;o<a.length;o++){const e=s[a[o]];r[e["symbol"]]=this.parseTicker(i[a[o]],e)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetTicker(this.extend(r,t)),n=this.safeValue(s,"ticker",{});return n["date"]=this.safeValue(s,"date"),this.parseTicker(n,i)}parseTicker(e,t){const i=this.safeInteger(e,"date",this.milliseconds());let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e);void 0===r&&(r=1e3);const a={market:n["id"],type:this.timeframes[t],limit:r};void 0!==i&&(a["since"]=i);const o=await this.publicGetKline(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=this.safeString(e,"trade_type");r="bid"===r?"buy":"sell";const s=this.safeString(e,"tid"),n=this.safeString(e,"price"),a=this.safeString(e,"amount"),o=v.stringMul(n,a),c=this.parseNumber(n),d=this.parseNumber(a),h=this.parseNumber(o);let u=void 0;return void 0!==t&&(u=t["symbol"]),{info:e,id:s,timestamp:i,datetime:this.iso8601(i),symbol:u,type:void 0,side:r,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){if("limit"!==t)throw new f(this.id+" allows limit orders only");await this.loadMarkets();const a={price:this.priceToPrecision(e,s),amount:this.amountToPrecision(e,r),tradeType:"buy"===i?"1":"0",currency:this.marketId(e)},o=await this.privateGetOrder(this.extend(a,n));return{info:o,id:o["id"]}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e.toString(),currency:this.marketId(t)};return await this.privateGetCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r={id:e.toString(),currency:this.marketId(t)},s=await this.privateGetGetOrder(this.extend(r,i));return this.parseOrder(s,void 0)}async fetchOrders(e,t,i=50,r={}){if(void 0===e)throw new a(this.id+"fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={currency:s["id"],pageIndex:1,pageSize:i};let o="privateGetGetOrdersIgnoreTradeType";"tradeType"in r&&(o="privateGetGetOrdersNew");let c=void 0;try{c=await this[o](this.extend(n,r))}catch(h){if(h instanceof d)return[];throw h}return this.parseOrders(c,s,t,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+"fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={currency:s["id"],pageIndex:1,pageSize:10},o=await this.privateGetGetFinishedAndPartialOrders(this.extend(n,r));return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i=10,r={}){if(void 0===e)throw new a(this.id+"fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={currency:s["id"],pageIndex:1,pageSize:i};let o="privateGetGetUnfinishedOrdersIgnoreTradeType";"tradeType"in r&&(o="privateGetGetOrdersNew");let c=void 0;try{c=await this[o](this.extend(n,r))}catch(h){if(h instanceof d)return[];throw h}return this.parseOrders(c,s,t,i)}parseOrder(e,t){let i=this.safeInteger(e,"type");i=1===i?"buy":"sell";const r="limit",s=this.safeInteger(e,"trade_date"),n=this.safeString(e,"currency"),a=this.safeSymbol(n,t,"_"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"trade_amount"),d=this.safeNumber(e,"total_amount"),h=this.safeNumber(e,"trade_money"),u=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeString(e,"id"),f=this.safeNumber(e,"fees");let p=void 0;if(void 0!==f){let r=void 0;const s=this.safeValue(e,"useZbFee");!0===s?r="ZB":void 0!==t&&(r="sell"===i?t["quote"]:t["base"]),p={cost:f,currency:r}}return this.safeOrder({info:e,id:l,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:a,type:r,timeInForce:void 0,postOnly:void 0,side:i,price:o,stopPrice:void 0,average:void 0,cost:h,amount:d,filled:c,remaining:void 0,status:u,fee:p,trades:void 0})}parseOrderStatus(e){const t={0:"open",1:"canceled",2:"closed",3:"open"};return this.safeString(t,e,e)}parseTransactionStatus(e){const t={0:"pending",1:"failed",2:"ok",3:"canceled",5:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"hash"),s=this.safeNumber(e,"amount");let n=this.parse8601(this.safeString(e,"submit_time"));n=this.safeInteger(e,"submitTime",n);let a=this.safeString2(e,"toAddress","address"),o=void 0;if(void 0!==a){const e=a.split("_");a=this.safeString(e,0),o=this.safeString(e,1)}const c=this.safeInteger(e,"confirmTimes"),d=this.safeInteger(e,"manageTime");let h=void 0;const u=this.safeString(e,"currency"),l=this.safeCurrencyCode(u,t);void 0!==a&&(h=void 0===c?"withdrawal":"deposit");const f=this.parseTransactionStatus(this.safeString(e,"status"));let p=void 0;const m=this.safeNumber(e,"fees");return void 0!==m&&(p={cost:m,currency:l}),{info:e,id:i,txid:r,timestamp:n,datetime:this.iso8601(n),addressFrom:void 0,address:a,addressTo:a,tagFrom:void 0,tag:o,tagTo:o,type:h,amount:s,currency:l,status:f,updated:d,fee:p}}async withdraw(e,t,i,r,s={}){const n=this.safeString(s,"safePwd",this.password);if(void 0===n)throw new a(this.id+" withdraw() requires exchange.password or a safePwd parameter");const o=this.safeNumber(s,"fees");if(void 0===o)throw new a(this.id+" withdraw() requires a fees parameter");this.checkAddress(i),await this.loadMarkets();const c=this.currency(e);void 0!==r&&(i+="_"+r);const d={amount:this.currencyToPrecision(e,t),currency:c["id"],fees:this.currencyToPrecision(e,o),method:"withdraw",receiveAddr:i,safePwd:n},h=await this.privateGetWithdraw(this.extend(d,s)),u=this.parseTransaction(h,c);return this.extend(u,{type:"withdrawal",address:i,addressTo:i,amount:t})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["pageSize"]=i);const a=await this.privateGetGetWithdrawRecord(this.extend(s,r)),o=this.safeValue(a,"message",{}),c=this.safeValue(o,"datas",{}),d=this.safeValue(c,"list",[]);return this.parseTransactions(d,n,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["pageSize"]=i);const a=await this.privateGetGetChargeRecord(this.extend(s,r)),o=this.safeValue(a,"message",{}),c=this.safeValue(o,"datas",{}),d=this.safeValue(c,"list",[]);return this.parseTransactions(d,n,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t];if("public"===t)a+="/"+this.version+"/"+e,Object.keys(r).length&&(a+="?"+this.urlencode(r));else if("trade"===t)a+="/"+e,Object.keys(r).length&&(a+="?"+this.urlencode(r));else{let t=this.keysort(this.extend({method:e,accesskey:this.apiKey},r));const i=this.nonce();t=this.keysort(t);const s=this.rawencode(t),n=this.hash(this.encode(this.secret),"sha1"),o=this.hmac(this.encode(s),this.encode(n),"md5"),c="sign="+o+"&reqTime="+i.toString();a+="/"+e+"?"+s+"&"+c}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o&&"{"===a[0]){const e=this.id+" "+a;if(this.throwBroadlyMatchedException(this.exceptions["broad"],a,e),"code"in o){const t=this.safeString(o,"code");if(this.throwExactlyMatchedException(this.exceptions["exact"],t,e),"1000"!==t)throw new n(e)}const t=this.safeValue(o,"result");if(void 0!==t&&!t){const t=this.safeString(o,"message");throw""===t?new h(e):new n(e)}}}}},c6b6:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},c6cd:function(e,t,i){var r=i("da84"),s=i("ce4e"),n="__core-js_shared__",a=r[n]||s(n,{});e.exports=a},c740:function(e,t,i){"use strict";var r=i("23e7"),s=i("b727").findIndex,n=i("44d2"),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n(a)},c7b2:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return Er})),i.d(t,"b",(function(){return Nr})),i.d(t,"c",(function(){return Ar})),i.d(t,"d",(function(){return Pr})),i.d(t,"e",(function(){return Mr})),i.d(t,"f",(function(){return Br})),i.d(t,"g",(function(){return Rr})),i.d(t,"h",(function(){return Ir})),i.d(t,"i",(function(){return xr}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},r(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function n(e){var t="function"===typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var a,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},c=c||{},d=o||self;function h(){}function u(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function f(e){return Object.prototype.hasOwnProperty.call(e,p)&&e[p]||(e[p]=++m)}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(e,t,i){return e.call.apply(e.bind,arguments)}function y(e,t,i){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function v(e,t,i){return v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y,v.apply(null,arguments)}function b(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function i(){}i.prototype=t.prototype,e.Z=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.Vb=function(e,i,r){for(var s=Array(arguments.length-2),n=2;n<arguments.length;n++)s[n-2]=arguments[n];return t.prototype[i].apply(e,s)}}function S(){this.s=this.s,this.o=this.o}var k=0,_={};S.prototype.s=!1,S.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=k)){var e=f(this);delete _[e]}},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},T=Array.prototype.forEach?function(e,t,i){Array.prototype.forEach.call(e,t,i)}:function(e,t,i){for(var r=e.length,s="string"===typeof e?e.split(""):e,n=0;n<r;n++)n in s&&t.call(i,s[n],n,e)};function C(e){e:{for(var t=Fi,i=e.length,r="string"===typeof e?e.split(""):e,s=0;s<i;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function I(e){return Array.prototype.concat.apply([],arguments)}function x(e){var t=e.length;if(0<t){for(var i=Array(t),r=0;r<t;r++)i[r]=e[r];return i}return[]}function E(e){return/^[\s\xa0]*$/.test(e)}var A,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function M(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var B=d.navigator;if(B){var R=B.userAgent;if(R){A=R;break e}}A=""}function D(e,t,i){for(var r in e)t.call(i,e[r],r,e)}function L(e){var t={};for(var i in e)t[i]=e[i];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){for(var i,r,s=1;s<arguments.length;s++){for(i in r=arguments[s],r)e[i]=r[i];for(var n=0;n<V.length;n++)i=V[n],Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}function q(e){return q[" "](e),e}function U(e){var t=ee;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}q[" "]=h;var G,F=M(A,"Opera"),H=M(A,"Trident")||M(A,"MSIE"),z=M(A,"Edge"),K=z||H,W=M(A,"Gecko")&&!(M(A.toLowerCase(),"webkit")&&!M(A,"Edge"))&&!(M(A,"Trident")||M(A,"MSIE"))&&!M(A,"Edge"),$=M(A.toLowerCase(),"webkit")&&!M(A,"Edge");function Y(){var e=d.document;return e?e.documentMode:void 0}e:{var X="",Q=function(){var e=A;return W?/rv:([^\);]+)(\)|;)/.exec(e):z?/Edge\/([\d\.]+)/.exec(e):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Q&&(X=Q?Q[1]:""),H){var Z=Y();if(null!=Z&&Z>parseFloat(X)){G=String(Z);break e}}G=X}var J,ee={};function te(){return U((function(){for(var e=0,t=N(String(G)).split("."),i=N("9").split("."),r=Math.max(t.length,i.length),s=0;0==e&&s<r;s++){var n=t[s]||"",a=i[s]||"";do{if(n=/(\d*)(\D*)(.*)/.exec(n)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==n[0].length&&0==a[0].length)break;e=P(0==n[1].length?0:parseInt(n[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==n[2].length,0==a[2].length)||P(n[2],a[2]),n=n[3],a=a[3]}while(0==e)}return 0<=e}))}if(d.document&&H){var ie=Y();J=ie||(parseInt(G,10)||void 0)}else J=void 0;var re=J,se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",h,t),d.removeEventListener("test",h,t)}catch(i){}return e}();function ne(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ae(e,t){if(ne.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var i=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(W){e:{try{q(t.nodeName);var s=!0;break e}catch(n){}s=!1}s||(t=null)}}else"mouseover"==i?t=e.fromElement:"mouseout"==i&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ae.Z.h.call(this)}}ne.prototype.h=function(){this.defaultPrevented=!0},w(ae,ne);var oe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),de=0;function he(e,t,i,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!r,this.ia=s,this.key=++de,this.ca=this.fa=!1}function ue(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function le(e){this.src=e,this.g={},this.h=0}function fe(e,t){var i=t.type;if(i in e.g){var r,s=e.g[i],n=O(s,t);(r=0<=n)&&Array.prototype.splice.call(s,n,1),r&&(ue(t),0==e.g[i].length&&(delete e.g[i],e.h--))}}function pe(e,t,i,r){for(var s=0;s<e.length;++s){var n=e[s];if(!n.ca&&n.listener==t&&n.capture==!!i&&n.ia==r)return s}return-1}le.prototype.add=function(e,t,i,r,s){var n=e.toString();e=this.g[n],e||(e=this.g[n]=[],this.h++);var a=pe(e,t,r,s);return-1<a?(t=e[a],i||(t.fa=!1)):(t=new he(t,this.src,n,!!r,s),t.fa=i,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ye(e,t,i,r,s){if(r&&r.once)return we(e,t,i,r,s);if(Array.isArray(t)){for(var n=0;n<t.length;n++)ye(e,t[n],i,r,s);return null}return i=Ie(i),e&&e[ce]?e.N(t,i,l(r)?!!r.capture:!!r,s):ve(e,t,i,!1,r,s)}function ve(e,t,i,r,s,n){if(!t)throw Error("Invalid event type");var a=l(s)?!!s.capture:!!s,o=Te(e);if(o||(e[me]=o=new le(e)),i=o.add(t,i,r,a,n),i.proxy)return i;if(r=be(),i.proxy=r,r.src=e,r.listener=i,e.addEventListener)se||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return i}function be(){function e(i){return t.call(e.src,e.listener,i)}var t=Oe;return e}function we(e,t,i,r,s){if(Array.isArray(t)){for(var n=0;n<t.length;n++)we(e,t[n],i,r,s);return null}return i=Ie(i),e&&e[ce]?e.O(t,i,l(r)?!!r.capture:!!r,s):ve(e,t,i,!0,r,s)}function Se(e,t,i,r,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)Se(e,t[n],i,r,s);else r=l(r)?!!r.capture:!!r,i=Ie(i),e&&e[ce]?(e=e.i,t=String(t).toString(),t in e.g&&(n=e.g[t],i=pe(n,i,r,s),-1<i&&(ue(n[i]),Array.prototype.splice.call(n,i,1),0==n.length&&(delete e.g[t],e.h--)))):e&&(e=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pe(t,i,r,s)),(i=-1<e?t[e]:null)&&ke(i))}function ke(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])fe(t.i,e);else{var i=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(i,r,e.capture):t.detachEvent?t.detachEvent(_e(i),r):t.addListener&&t.removeListener&&t.removeListener(r),(i=Te(t))?(fe(i,e),0==i.h&&(i.src=null,t[me]=null)):ue(e)}}}function _e(e){return e in ge?ge[e]:ge[e]="on"+e}function Oe(e,t){if(e.ca)e=!0;else{t=new ae(t,this);var i=e.listener,r=e.ia||e.src;e.fa&&ke(e),e=i.call(r,t)}return e}function Te(e){return e=e[me],e instanceof le?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(e){return"function"===typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function xe(){S.call(this),this.i=new le(this),this.P=this,this.I=null}function Ee(e,t){var i,r=e.I;if(r)for(i=[];r;r=r.I)i.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ne(t,e);else if(t instanceof ne)t.target=t.target||e;else{var s=t;t=new ne(r,e),j(t,s)}if(s=!0,i)for(var n=i.length-1;0<=n;n--){var a=t.g=i[n];s=Ae(a,r,!0,t)&&s}if(a=t.g=e,s=Ae(a,r,!0,t)&&s,s=Ae(a,r,!1,t)&&s,i)for(n=0;n<i.length;n++)a=t.g=i[n],s=Ae(a,r,!1,t)&&s}function Ae(e,t,i,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,n=0;n<t.length;++n){var a=t[n];if(a&&!a.ca&&a.capture==i){var o=a.listener,c=a.ia||a.src;a.fa&&fe(e.i,a),s=!1!==o.call(c,r)&&s}}return s&&!r.defaultPrevented}w(xe,S),xe.prototype[ce]=!0,xe.prototype.removeEventListener=function(e,t,i,r){Se(this,e,t,i,r)},xe.prototype.M=function(){if(xe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],r=0;r<i.length;r++)ue(i[r]);delete t.g[e],t.h--}}this.I=null},xe.prototype.N=function(e,t,i,r){return this.i.add(String(e),t,!1,i,r)},xe.prototype.O=function(e,t,i,r){return this.i.add(String(e),t,!0,i,r)};var Ne=d.JSON.stringify;function Me(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pe,Be=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var i=Re.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i},e}(),Re=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new De}),(function(e){return e.reset()})),De=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Le(e){d.setTimeout((function(){throw e}),0)}function Ve(e,t){Pe||je(),qe||(Pe(),qe=!0),Ue.add(e,t)}function je(){var e=d.Promise.resolve(void 0);Pe=function(){e.then(Ge)}}var qe=!1,Ue=new Be;function Ge(){for(var e;e=Me();){try{e.h.call(e.g)}catch(i){Le(i)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qe=!1}function Fe(e,t){xe.call(this),this.h=e||1,this.g=t||d,this.j=v(this.kb,this),this.l=Date.now()}function He(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ze(e,t,i){if("function"===typeof e)i&&(e=v(e,i));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function Ke(e){e.g=ze((function(){e.g=null,e.i&&(e.i=!1,Ke(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}w(Fe,xe),a=Fe.prototype,a.da=!1,a.S=null,a.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ee(this,"tick"),this.da&&(He(this),this.start()))}},a.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},a.M=function(){Fe.Z.M.call(this),He(this),delete this.g};var We=function(e){function t(t,i){var r=e.call(this)||this;return r.m=t,r.j=i,r.h=null,r.i=!1,r.g=null,r}return s(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ke(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(S);function $e(e){S.call(this),this.h=e,this.g={}}w($e,S);var Ye=[];function Xe(e,t,i,r){Array.isArray(i)||(i&&(Ye[0]=i.toString()),i=Ye);for(var s=0;s<i.length;s++){var n=ye(t,i[s],r||e.handleEvent,!1,e.h||e);if(!n)break;e.g[n.key]=n}}function Qe(e){D(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ke(e)}),e),e.g={}}function Ze(){this.g=!0}function Je(e,t,i,r,s,n){e.info((function(){if(e.g)if(n)for(var a="",o=n.split("&"),c=0;c<o.length;c++){var d=o[c].split("=");if(1<d.length){var h=d[0];d=d[1];var u=h.split("_");a=2<=u.length&&"type"==u[1]?a+(h+"=")+d+"&":a+(h+"=redacted&")}}else a=null;else a=n;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+i+"\n"+a}))}function et(e,t,i,r,s,n,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+i+"\n"+n+" "+a}))}function tt(e,t,i,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+rt(e,i)+(r?" "+r:"")}))}function it(e,t){e.info((function(){return"TIMEOUT: "+t}))}function rt(e,t){if(!e.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var r=i[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var n=s[0];if("noop"!=n&&"stop"!=n&&"close"!=n)for(var a=1;a<s.length;a++)s[a]=""}}}return Ne(i)}catch(o){return t}}$e.prototype.M=function(){$e.Z.M.call(this),Qe(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ze.prototype.Aa=function(){this.g=!1},Ze.prototype.info=function(){};var st={},nt=null;function at(){return nt=nt||new xe}function ot(e){ne.call(this,st.Ma,e)}function ct(e){var t=at();Ee(t,new ot(t,e))}function dt(e,t){ne.call(this,st.STAT_EVENT,e),this.stat=t}function ht(e){var t=at();Ee(t,new dt(t,e))}function ut(e,t){ne.call(this,st.Na,e),this.size=t}function lt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}st.Ma="serverreachability",w(ot,ne),st.STAT_EVENT="statevent",w(dt,ne),st.Na="timingevent",w(ut,ne);var ft={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mt(){}function gt(e){return e.h||(e.h=e.i())}function yt(){}mt.prototype.h=null;var vt,bt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wt(){ne.call(this,"d")}function St(){ne.call(this,"c")}function kt(){}function _t(e,t,i,r){this.l=e,this.j=t,this.m=i,this.X=r||1,this.V=new $e(this),this.P=Tt,e=K?125:void 0,this.W=new Fe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}w(wt,ne),w(St,ne),w(kt,mt),kt.prototype.g=function(){return new XMLHttpRequest},kt.prototype.i=function(){return{}},vt=new kt;var Tt=45e3,Ct={},It={};function xt(e,t,i){e.K=1,e.v=Jt(Wt(t)),e.s=i,e.U=!0,Et(e,null)}function Et(e,t){e.F=Date.now(),Pt(e),e.A=Wt(e.v);var i=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pi(i.h,"t",r),e.C=0,i=e.l.H,e.h=new Ot,e.g=wr(e.l,i?t:null,!e.s),0<e.O&&(e.L=new We(v(e.Ia,e,e.g),e.O)),Xe(e.V,e.g,"readystatechange",e.gb),t=e.H?L(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ct(1),Je(e.j,e.u,e.A,e.m,e.X,e.s)}function At(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Nt(e,t,i){for(var r,s=!0;!e.I&&e.C<i.length;){if(r=Mt(e,i),r==It){4==t&&(e.o=4,ht(14),s=!1),tt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ct){e.o=4,ht(15),tt(e.j,e.m,i,"[Invalid Chunk]"),s=!1;break}tt(e.j,e.m,r,null),Vt(e,r)}At(e)&&r!=It&&r!=Ct&&(e.h.g="",e.C=0),4!=t||0!=i.length||e.h.h||(e.o=1,ht(16),s=!1),e.i=e.i&&s,s?0<i.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),lr(t),t.L=!0,ht(11))):(tt(e.j,e.m,i,"[Invalid Chunked Response]"),Lt(e),Dt(e))}function Mt(e,t){var i=e.C,r=t.indexOf("\n",i);return-1==r?It:(i=Number(t.substring(i,r)),isNaN(i)?Ct:(r+=1,r+i>t.length?It:(t=t.substr(r,i),e.C=r+i,t)))}function Pt(e){e.Y=Date.now()+e.P,Bt(e,e.P)}function Bt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=lt(v(e.eb,e),t)}function Rt(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function Dt(e){0==e.l.G||e.I||mr(e.l,e)}function Lt(e){Rt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,He(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vt(e,t){try{var i=e.l;if(0!=i.G&&(i.g==e||ki(i.i,e)))if(i.I=e.N,!e.J&&ki(i.i,e)&&3==i.G){try{var r=i.Ca.g.parse(t)}catch(n){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!i.u){if(i.g){if(!(i.g.F+3e3<e.F))break e;pr(i),ir(i)}ur(i),ht(18)}}else i.ta=s[1],0<i.ta-i.U&&37500>s[2]&&i.N&&0==i.A&&!i.v&&(i.v=lt(v(i.ab,i),6e3));if(1>=Si(i.i)&&i.ka){try{i.ka()}catch(n){}i.ka=void 0}}else yr(i,11)}else if((e.J||i.g==e)&&pr(i),!E(t))for(s=i.Ca.g.parse(t),t=0;t<s.length;t++){var n=s[t];if(i.U=n[0],n=n[1],2==i.G)if("c"==n[0]){i.J=n[1],i.la=n[2];var a=n[3];null!=a&&(i.ma=a,i.h.info("VER="+i.ma));var o=n[4];null!=o&&(i.za=o,i.h.info("SVER="+i.za));var c=n[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,i.K=r,i.h.info("backChannelRequestTimeoutMs_="+r)),r=i;var d=e.g;if(d){var h=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var u=r.i;!u.g&&(M(h,"spdy")||M(h,"quic")||M(h,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(_i(u,u.h),u.h=null))}if(r.D){var l=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;l&&(r.sa=l,Zt(r.F,r.D,l))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-e.F,i.h.info("Handshake RTT: "+i.O+"ms")),r=i;var f=e;if(r.oa=br(r,r.H?r.la:null,r.W),f.J){Oi(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(Rt(p),Pt(p)),r.g=f}else hr(r);0<i.l.length&&nr(i)}else"stop"!=n[0]&&"close"!=n[0]||yr(i,7);else 3==i.G&&("stop"==n[0]||"close"==n[0]?"stop"==n[0]?yr(i,7):tr(i):"noop"!=n[0]&&i.j&&i.j.wa(n),i.A=0)}ct(4)}catch(n){}}function jt(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(u(e)){for(var t=[],i=e.length,r=0;r<i;r++)t.push(e[r]);return t}for(r in t=[],i=0,e)t[i++]=e[r];return t}function qt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(u(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var i=e.T();else if(e.R&&"function"==typeof e.R)i=void 0;else if(u(e)||"string"===typeof e){i=[];for(var r=e.length,s=0;s<r;s++)i.push(s)}else for(s in i=[],r=0,e)i[r++]=s;r=jt(e),s=r.length;for(var n=0;n<s;n++)t.call(void 0,r[n],i&&i[n],e)}}function Ut(e,t){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var r=0;r<i;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ut)for(i=e.T(),r=0;r<i.length;r++)this.set(i[r],e.get(i[r]));else for(r in e)this.set(r,e[r])}function Gt(e){if(e.i!=e.g.length){for(var t=0,i=0;t<e.g.length;){var r=e.g[t];Ft(e.h,r)&&(e.g[i++]=r),t++}e.g.length=i}if(e.i!=e.g.length){var s={};for(i=t=0;t<e.g.length;)r=e.g[t],Ft(s,r)||(e.g[i++]=r,s[r]=1),t++;e.g.length=i}}function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a=_t.prototype,a.setTimeout=function(e){this.P=e},a.gb=function(e){e=e.target;var t=this.L;t&&3==Yi(e)?t.l():this.Ia(e)},a.Ia=function(e){try{if(e==this.g)e:{var t=Yi(this.g),i=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||K||this.g&&(this.h.h||this.g.ga()||Xi(this.g)))){this.I||4!=t||7==i||ct(8==i||0>=r?3:2),Rt(this);var s=this.g.ba();this.N=s;t:if(At(this)){var n=Xi(this.g);e="";var a=n.length,o=4==Yi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lt(this),Dt(this);var c="";break t}this.h.i=new d.TextDecoder}for(i=0;i<a;i++)this.h.h=!0,e+=this.h.i.decode(n[i],{stream:o&&i==a-1});n.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==s,et(this.j,this.u,this.A,this.m,this.X,t,s),this.i){if(this.$&&!this.J){t:{if(this.g){var h,u=this.g;if((h=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(h)){var l=h;break t}}l=null}if(!(s=l)){this.i=!1,this.o=3,ht(12),Lt(this),Dt(this);break e}tt(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vt(this,s)}this.U?(Nt(this,t,c),K&&this.i&&3==t&&(Xe(this.V,this.W,"tick",this.fb),this.W.start())):(tt(this.j,this.m,c,null),Vt(this,c)),4==t&&Lt(this),this.i&&!this.I&&(4==t?mr(this.l,this):(this.i=!1,Pt(this)))}else 400==s&&0<c.indexOf("Unknown SID")?(this.o=3,ht(12)):(this.o=0,ht(13)),Lt(this),Dt(this)}}}catch(t){}},a.fb=function(){if(this.g){var e=Yi(this.g),t=this.g.ga();this.C<t.length&&(Rt(this),Nt(this,e,t),this.i&&4!=e&&Pt(this))}},a.cancel=function(){this.I=!0,Lt(this)},a.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(it(this.j,this.A),2!=this.K&&(ct(3),ht(17)),Lt(this),this.o=2,Dt(this)):Bt(this,this.Y-e)},a=Ut.prototype,a.R=function(){Gt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},a.T=function(){return Gt(this),this.g.concat()},a.get=function(e,t){return Ft(this.h,e)?this.h[e]:t},a.set=function(e,t){Ft(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},a.forEach=function(e,t){for(var i=this.T(),r=0;r<i.length;r++){var s=i[r],n=this.get(s);e.call(t,n,s,this)}};var Ht=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zt(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var r=e[i].indexOf("="),s=null;if(0<=r){var n=e[i].substring(0,r);s=e[i].substring(r+1)}else n=e[i];t(n,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Kt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kt){this.g=void 0!==t?t:e.g,$t(this,e.j),this.s=e.s,Yt(this,e.i),Xt(this,e.m),this.l=e.l,t=e.h;var i=new hi;i.i=t.i,t.g&&(i.g=new Ut(t.g),i.h=t.h),Qt(this,i),this.o=e.o}else e&&(i=String(e).match(Ht))?(this.g=!!t,$t(this,i[1]||"",!0),this.s=ii(i[2]||""),Yt(this,i[3]||"",!0),Xt(this,i[4]),this.l=ii(i[5]||"",!0),Qt(this,i[6]||"",!0),this.o=ii(i[7]||"")):(this.g=!!t,this.h=new hi(null,this.g))}function Wt(e){return new Kt(e)}function $t(e,t,i){e.j=i?ii(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yt(e,t,i){e.i=i?ii(t,!0):t}function Xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qt(e,t,i){t instanceof hi?(e.h=t,gi(e.h,e.g)):(i||(t=ri(t,ci)),e.h=new hi(t,e.g))}function Zt(e,t,i){e.h.set(t,i)}function Jt(e){return Zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ei(e){return e instanceof Kt?Wt(e):new Kt(e,void 0)}function ti(e,t,i,r){var s=new Kt(null,void 0);return e&&$t(s,e),t&&Yt(s,t),i&&Xt(s,i),r&&(s.l=r),s}function ii(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ri(e,t,i){return"string"===typeof e?(e=encodeURI(e).replace(t,si),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function si(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Kt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ri(t,ni,!0),":");var i=this.i;return(i||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ri(t,ni,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,null!=i&&e.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&e.push("/"),e.push(ri(i,"/"==i.charAt(0)?oi:ai,!0))),(i=this.h.toString())&&e.push("?",i),(i=this.o)&&e.push("#",ri(i,di)),e.join("")};var ni=/[#\/\?@]/g,ai=/[#\?:]/g,oi=/[#\?]/g,ci=/[#\?@]/g,di=/#/g;function hi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ui(e){e.g||(e.g=new Ut,e.h=0,e.i&&zt(e.i,(function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)})))}function li(e,t){ui(e),t=mi(e,t),Ft(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Ft(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gt(e)))}function fi(e,t){return ui(e),t=mi(e,t),Ft(e.g.h,t)}function pi(e,t,i){li(e,t),0<i.length&&(e.i=null,e.g.set(mi(e,t),x(i)),e.h+=i.length)}function mi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function gi(e,t){t&&!e.j&&(ui(e),e.i=null,e.g.forEach((function(e,t){var i=t.toLowerCase();t!=i&&(li(this,t),pi(this,i,e))}),e)),e.j=t}a=hi.prototype,a.add=function(e,t){ui(this),this.i=null,e=mi(this,e);var i=this.g.get(e);return i||this.g.set(e,i=[]),i.push(t),this.h+=1,this},a.forEach=function(e,t){ui(this),this.g.forEach((function(i,r){T(i,(function(i){e.call(t,i,r,this)}),this)}),this)},a.T=function(){ui(this);for(var e=this.g.R(),t=this.g.T(),i=[],r=0;r<t.length;r++)for(var s=e[r],n=0;n<s.length;n++)i.push(t[r]);return i},a.R=function(e){ui(this);var t=[];if("string"===typeof e)fi(this,e)&&(t=I(t,this.g.get(mi(this,e))));else{e=this.g.R();for(var i=0;i<e.length;i++)t=I(t,e[i])}return t},a.set=function(e,t){return ui(this),this.i=null,e=mi(this,e),fi(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},a.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),i=0;i<t.length;i++){var r=t[i],s=encodeURIComponent(String(r));r=this.R(r);for(var n=0;n<r.length;n++){var a=s;""!==r[n]&&(a+="="+encodeURIComponent(String(r[n]))),e.push(a)}}return this.i=e.join("&")};var yi=function(){function e(e,t){this.h=e,this.g=t}return e}();function vi(e){this.l=e||bi,d.PerformanceNavigationTiming?(e=d.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bi=10;function wi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Si(e){return e.h?1:e.g?e.g.size:0}function ki(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _i(e,t){e.g?e.g.add(t):e.h=t}function Oi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ti(e){var t,i;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var s=n(e.g.values()),a=s.next();!a.done;a=s.next()){var o=a.value;r=r.concat(o.D)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return r}return x(e.i)}function Ci(){}function Ii(){this.g=new Ci}function xi(e,t,i){var r=i||"";try{qt(e,(function(e,i){var s=e;l(e)&&(s=Ne(e)),t.push(r+i+"="+encodeURIComponent(s))}))}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ei(e,t){var i=new Ze;if(d.Image){var r=new Image;r.onload=b(Ai,i,r,"TestLoadImage: loaded",!0,t),r.onerror=b(Ai,i,r,"TestLoadImage: error",!1,t),r.onabort=b(Ai,i,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(Ai,i,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Ai(e,t,i,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(n){}}function Ni(e){this.l=e.$b||null,this.j=e.ib||!1}function Mi(e,t){xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vi.prototype.cancel=function(){var e,t;if(this.i=Ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=n(this.g.values()),r=i.next();!r.done;r=i.next()){var s=r.value;s.cancel()}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.g.clear()}},Ci.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},Ci.prototype.parse=function(e){return d.JSON.parse(e,void 0)},w(Ni,mt),Ni.prototype.g=function(){return new Mi(this.l,this.j)},Ni.prototype.i=function(e){return function(){return e}}({}),w(Mi,xe);var Pi=0;function Bi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ri(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Di(e)}function Di(e){e.onreadystatechange&&e.onreadystatechange.call(e)}a=Mi.prototype,a.open=function(e,t){if(this.readyState!=Pi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Di(this)},a.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||d).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},a.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ri(this)),this.readyState=Pi},a.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},a.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ri(this):Di(this),3==this.readyState&&Bi(this)}},a.Ua=function(e){this.g&&(this.response=this.responseText=e,Ri(this))},a.Ta=function(e){this.g&&(this.response=e,Ri(this))},a.ha=function(){this.g&&Ri(this)},a.setRequestHeader=function(e,t){this.v.append(e,t)},a.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),i=t.next();!i.done;)i=i.value,e.push(i[0]+": "+i[1]),i=t.next();return e.join("\r\n")},Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Li=d.JSON.parse;function Vi(e){xe.call(this),this.headers=new Ut,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ji,this.K=this.L=!1}w(Vi,xe);var ji="",qi=/^https?$/i,Ui=["POST","PUT"];function Gi(e){return H&&te()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Fi(e){return"content-type"==e.toLowerCase()}function Hi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zi(e),Wi(e)}function zi(e){e.D||(e.D=!0,Ee(e,"complete"),Ee(e,"error"))}function Ki(e){if(e.h&&"undefined"!=typeof c&&(!e.C[1]||4!=Yi(e)||2!=e.ba()))if(e.v&&4==Yi(e))ze(e.Fa,0,e);else if(Ee(e,"readystatechange"),4==Yi(e)){e.h=!1;try{var t,i=e.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var s;if(s=0===i){var n=String(e.H).match(Ht)[1]||null;if(!n&&d.self&&d.self.location){var a=d.self.location.protocol;n=a.substr(0,a.length-1)}s=!qi.test(n?n.toLowerCase():"")}t=s}if(t)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var o=2<Yi(e)?e.g.statusText:""}catch(h){o=""}e.j=o+" ["+e.ba()+"]",zi(e)}}finally{Wi(e)}}}function Wi(e,t){if(e.g){$i(e);var i=e.g,r=e.C[0]?h:null;e.g=null,e.C=null,t||Ee(e,"ready");try{i.onreadystatechange=r}catch(s){}}}function $i(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function Yi(e){return e.g?e.g.readyState:0}function Xi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ji:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qi(e){var t="";return D(e,(function(e,i){t+=i,t+=":",t+=e,t+="\r\n"})),t}function Zi(e,t,i){e:{for(r in i){var r=!1;break e}r=!0}r||(i=Qi(i),"string"===typeof e?null!=i&&encodeURIComponent(String(i)):Zt(e,t,i))}function Ji(e,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[e]||t}function er(e){this.za=0,this.l=[],this.h=new Ze,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ji("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ji("baseRetryDelayMs",5e3,e),this.$a=Ji("retryDelaySeedMs",1e4,e),this.Ya=Ji("forwardChannelMaxRetries",2,e),this.ra=Ji("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new vi(e&&e.concurrentRequestLimit),this.Ca=new Ii,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function tr(e){if(rr(e),3==e.G){var t=e.V++,i=Wt(e.F);Zt(i,"SID",e.J),Zt(i,"RID",t),Zt(i,"TYPE","terminate"),cr(e,i),t=new _t(e,e.h,t,void 0),t.K=2,t.v=Jt(Wt(i)),i=!1,d.navigator&&d.navigator.sendBeacon&&(i=d.navigator.sendBeacon(t.v.toString(),"")),!i&&d.Image&&((new Image).src=t.v,i=!0),i||(t.g=wr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Pt(t)}vr(e)}function ir(e){e.g&&(lr(e),e.g.cancel(),e.g=null)}function rr(e){ir(e),e.u&&(d.clearTimeout(e.u),e.u=null),pr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&d.clearTimeout(e.m),e.m=null)}function sr(e,t){e.l.push(new yi(e.Za++,t)),3==e.G&&nr(e)}function nr(e){wi(e.i)||e.m||(e.m=!0,Ve(e.Ha,e),e.C=0)}function ar(e,t){return!(Si(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=lt(v(e.Ha,e,t),gr(e,e.C)),e.C++,!0))}function or(e,t){var i;i=t?t.m:e.V++;var r=Wt(e.F);Zt(r,"SID",e.J),Zt(r,"RID",i),Zt(r,"AID",e.U),cr(e,r),e.o&&e.s&&Zi(r,e.o,e.s),i=new _t(e,e.h,i,e.C+1),null===e.o&&(i.H=e.s),t&&(e.l=t.D.concat(e.l)),t=dr(e,i,1e3),i.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_i(e.i,i),xt(i,r,t)}function cr(e,t){e.j&&qt({},(function(e,i){Zt(t,i,e)}))}function dr(e,t,i){i=Math.min(e.l.length,i);var r=e.j?v(e.j.Oa,e.j,e):null;e:for(var s=e.l,n=-1;;){var a=["count="+i];-1==n?0<i?(n=s[0].h,a.push("ofs="+n)):n=0:a.push("ofs="+n);for(var o=!0,c=0;c<i;c++){var d=s[c].h,h=s[c].g;if(d-=n,0>d)n=Math.max(0,s[c].h-100),o=!1;else try{xi(h,a,"req"+d+"_")}catch(u){r&&r(h)}}if(o){r=a.join("&");break e}}return e=e.l.splice(0,i),t.D=e,r}function hr(e){e.g||e.u||(e.Y=1,Ve(e.Ga,e),e.A=0)}function ur(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=lt(v(e.Ga,e),gr(e,e.A)),e.A++,!0)}function lr(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function fr(e){e.g=new _t(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Wt(e.oa);Zt(t,"RID","rpc"),Zt(t,"SID",e.J),Zt(t,"CI",e.N?"0":"1"),Zt(t,"AID",e.U),cr(e,t),Zt(t,"TYPE","xmlhttp"),e.o&&e.s&&Zi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var i=e.g;e=e.la,i.K=1,i.v=Jt(Wt(t)),i.s=null,i.U=!0,Et(i,e)}function pr(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function mr(e,t){var i=null;if(e.g==t){pr(e),lr(e),e.g=null;var r=2}else{if(!ki(e.i,t))return;i=t.D,Oi(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){i=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;r=at(),Ee(r,new ut(r,i,t,s)),nr(e)}else hr(e);else if(s=t.o,3==s||0==s&&0<e.I||!(1==r&&ar(e,t)||2==r&&ur(e)))switch(i&&0<i.length&&(t=e.i,t.i=t.i.concat(i)),s){case 1:yr(e,5);break;case 4:yr(e,10);break;case 3:yr(e,6);break;default:yr(e,2)}}function gr(e,t){var i=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(i*=2),i*t}function yr(e,t){if(e.h.info("Error code "+t),2==t){var i=null;e.j&&(i=null);var r=v(e.jb,e);i||(i=new Kt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||$t(i,"https"),Jt(i)),Ei(i.toString(),r)}else ht(2);e.G=0,e.j&&e.j.va(t),vr(e),rr(e)}function vr(e){e.G=0,e.I=-1,e.j&&(0==Ti(e.i).length&&0==e.l.length||(e.i.i.length=0,x(e.l),e.l.length=0),e.j.ua())}function br(e,t,i){var r=ei(i);if(""!=r.i)t&&Yt(r,t+"."+r.i),Xt(r,r.m);else{var s=d.location;r=ti(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,i)}return e.aa&&D(e.aa,(function(e,t){Zt(r,t,e)})),t=e.D,i=e.sa,t&&i&&Zt(r,t,i),Zt(r,"VER",e.ma),cr(e,r),r}function wr(e,t,i){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=i&&e.Ba&&!e.qa?new Vi(new Ni({ib:!0})):new Vi(e.qa),t.L=e.H,t}function Sr(){}function kr(){if(H&&!(10<=Number(re)))throw Error("Environmental error: no available transport.")}function _r(e,t){xe.call(this),this.g=new er(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!E(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cr(this)}function Or(e){wt.call(this);var t=e.__sm__;if(t){e:{for(var i in t){e=i;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tr(){St.call(this),this.status=1}function Cr(e){this.g=e}a=Vi.prototype,a.ea=function(e,t,i,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vt.g(),this.C=this.u?gt(this.u):gt(vt),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(n){return void Hi(this,n)}e=i||"";var s=new Ut(this.headers);r&&qt(r,(function(e,t){s.set(t,e)})),r=C(s.T()),i=d.FormData&&e instanceof d.FormData,!(0<=O(Ui,t))||r||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$i(this),0<this.B&&((this.K=Gi(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v(this.pa,this)):this.A=ze(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(n){Hi(this,n)}},a.pa=function(){"undefined"!=typeof c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},a.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),Wi(this))},a.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wi(this,!0)),Vi.Z.M.call(this)},a.Fa=function(){this.s||(this.F||this.v||this.l?Ki(this):this.cb())},a.cb=function(){Ki(this)},a.ba=function(){try{return 2<Yi(this)?this.g.status:-1}catch(e){return-1}},a.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},a.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Li(t)}},a.Da=function(){return this.m},a.La=function(){return"string"===typeof this.j?this.j:String(this.j)},a=er.prototype,a.ma=8,a.G=1,a.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},a.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _t(this,this.h,e,void 0),i=this.s;if(this.P&&(i?(i=L(i),j(i,this.P)):i=this.P),null===this.o&&(t.H=i),this.ja)e:{for(var r=0,s=0;s<this.l.length;s++){var n=this.l[s];if(n="__data__"in n.g&&(n=n.g.__data__,"string"===typeof n)?n.length:void 0,void 0===n)break;if(r+=n,4096<r){r=s;break e}if(4096===r||s===this.l.length-1){r=s+1;break e}}r=1e3}else r=1e3;r=dr(this,t,r),s=Wt(this.F),Zt(s,"RID",e),Zt(s,"CVER",22),this.D&&Zt(s,"X-HTTP-Session-Id",this.D),cr(this,s),this.o&&i&&Zi(s,this.o,i),_i(this.i,t),this.Ra&&Zt(s,"TYPE","init"),this.ja?(Zt(s,"$req",r),Zt(s,"SID","null"),t.$=!0,xt(t,s,null)):xt(t,s,r),this.G=2}}else 3==this.G&&(e?or(this,e):0==this.l.length||wi(this.i)||or(this))},a.Ga=function(){if(this.u=null,fr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=lt(v(this.bb,this),e)}},a.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ht(10),ir(this),fr(this))},a.ab=function(){null!=this.v&&(this.v=null,ir(this),ur(this),ht(19))},a.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ht(2)):(this.h.info("Failed to ping google.com"),ht(1))},a=Sr.prototype,a.xa=function(){},a.wa=function(){},a.va=function(){},a.ua=function(){},a.Oa=function(){},kr.prototype.g=function(e,t){return new _r(e,t)},w(_r,xe),_r.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,i=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ve(v(e.hb,e,t))),ht(0),e.W=t,e.aa=i||{},e.N=e.X,e.F=br(e,null,e.W),nr(e)},_r.prototype.close=function(){tr(this.g)},_r.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,sr(this.g,t)}else this.v?(t={},t.__data__=Ne(e),sr(this.g,t)):sr(this.g,e)},_r.prototype.M=function(){this.g.j=null,delete this.j,tr(this.g),delete this.g,_r.Z.M.call(this)},w(Or,wt),w(Tr,St),w(Cr,Sr),Cr.prototype.xa=function(){Ee(this.g,"a")},Cr.prototype.wa=function(e){Ee(this.g,new Or(e))},Cr.prototype.va=function(e){Ee(this.g,new Tr(e))},Cr.prototype.ua=function(){Ee(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,_r.prototype.send=_r.prototype.u,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,pt.COMPLETE="complete",yt.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",xe.prototype.listen=xe.prototype.N,Vi.prototype.listenOnce=Vi.prototype.O,Vi.prototype.getLastError=Vi.prototype.La,Vi.prototype.getLastErrorCode=Vi.prototype.Da,Vi.prototype.getStatus=Vi.prototype.ba,Vi.prototype.getResponseJson=Vi.prototype.Qa,Vi.prototype.getResponseText=Vi.prototype.ga,Vi.prototype.send=Vi.prototype.ea;var Ir=function(){return new kr},xr=function(){return at()},Er=ft,Ar=pt,Nr=st,Mr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Pr=Ni,Br=yt,Rr=Vi}).call(this,i("c8ba"))},c7cd:function(e,t,i){"use strict";var r=i("23e7"),s=i("857a"),n=i("af03");r({target:"String",proto:!0,forced:n("fixed")},{fixed:function(){return s(this,"tt","","")}})},c7e6:function(e,t,i){var r=i("5259");e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},c813:function(e,t,i){var r=i("70ea"),s=r((function(e){return!e}));e.exports=s},c834:function(e,t,i){"use strict";function r(e,t,i,r){var s=65535&e|0,n=e>>>16&65535|0,a=0;while(0!==i){a=i>2e3?2e3:i,i-=a;do{s=s+t[r++]|0,n=n+s|0}while(--a);s%=65521,n%=65521}return s|n<<16|0}e.exports=r},c8af:function(e,t,i){"use strict";var r=i("c532");e.exports=function(e,t){r.forEach(e,(function(i,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[r])}))}},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}e.exports=i},c8d2:function(e,t,i){var r=i("d039"),s=i("5899"),n="";e.exports=function(e){return r((function(){return!!s[e]()||n[e]()!=n||s[e].name!==e}))}},c90b:function(e,t,i){(function(e,r,s){var n=i("a9f1"),a=i("3fb5"),o=i("e372"),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d=t.IncomingMessage=function(t,i,a,c){var d=this;if(o.Readable.call(d),d._mode=a,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",(function(){e.nextTick((function(){d.emit("close")}))})),"fetch"===a){if(d._fetchResponse=i,d.url=i.url,d.statusCode=i.status,d.statusMessage=i.statusText,i.headers.forEach((function(e,t){d.headers[t.toLowerCase()]=e,d.rawHeaders.push(t,e)})),n.writableStream){var h=new WritableStream({write:function(e){return new Promise((function(t,i){d._destroyed?i():d.push(new r(e))?t():d._resumeFetch=t}))},close:function(){s.clearTimeout(c),d._destroyed||d.push(null)},abort:function(e){d._destroyed||d.emit("error",e)}});try{return void i.body.pipeTo(h).catch((function(e){s.clearTimeout(c),d._destroyed||d.emit("error",e)}))}catch(g){}}var u=i.body.getReader();function l(){u.read().then((function(e){if(!d._destroyed){if(e.done)return s.clearTimeout(c),void d.push(null);d.push(new r(e.value)),l()}})).catch((function(e){s.clearTimeout(c),d._destroyed||d.emit("error",e)}))}l()}else{d._xhr=t,d._pos=0,d.url=t.responseURL,d.statusCode=t.status,d.statusMessage=t.statusText;var f=t.getAllResponseHeaders().split(/\r?\n/);if(f.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===d.headers[i]&&(d.headers[i]=[]),d.headers[i].push(t[2])):void 0!==d.headers[i]?d.headers[i]+=", "+t[2]:d.headers[i]=t[2],d.rawHeaders.push(t[1],t[2])}})),d._charset="x-user-defined",!n.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var m=p.match(/;\s*charset=([^;])(;|$)/);m&&(d._charset=m[1].toLowerCase())}d._charset||(d._charset="utf-8")}}};a(d,o.Readable),d.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},d.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{i=new s.VBArray(t.responseBody).toArray()}catch(h){}if(null!==i){e.push(new r(i));break}case"text":try{i=t.responseText}catch(h){e._mode="text:vbarray";break}if(i.length>e._pos){var n=i.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new r(n.length),o=0;o<n.length;o++)a[o]=255&n.charCodeAt(o);e.push(a)}else e.push(n,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;i=t.response,e.push(new r(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==c.LOADING||!i)break;e.push(new r(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==c.LOADING)break;var d=new s.MSStreamReader;d.onprogress=function(){d.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(d.result.slice(e._pos)))),e._pos=d.result.byteLength)},d.onload=function(){e.push(null)},d.readAsArrayBuffer(i);break}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,i("4362"),i("b639").Buffer,i("c8ba"))},c96a:function(e,t,i){"use strict";var r=i("23e7"),s=i("857a"),n=i("af03");r({target:"String",proto:!0,forced:n("small")},{small:function(){return s(this,"small","","")}})},c995:function(e,t,i){"use strict";var r=i("ade3"),s=(i("a9e3"),i("2b0e"));t["a"]=s["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var e=this.computedElevation;return null==e||isNaN(parseInt(e))?{}:Object(r["a"])({},"elevation-".concat(this.elevation),!0)}}})},c9a9:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InsufficientFunds:n,OrderNotFound:a,ArgumentsRequired:o}=i("74b0"),c=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"tidebit",name:"TideBit",countries:["HK"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460811-1e690280-c616-11ea-8652-69f187305add.jpg",api:"https://www.tidebit.com",www:"https://www.tidebit.com",doc:["https://www.tidebit.com/documents/api/guide","https://www.tidebit.com/swagger/#/default"],referral:"http://bit.ly/2IX0LrM"},api:{public:{get:["markets","tickers","tickers/{market}","timestamp","trades","trades/{market}","order_book","order","k_with_pending_trades","k","depth"],post:[]},private:{get:["addresses/{address}","deposits/history","deposits/get_deposit","deposits/deposit_address","historys/orders","historys/vouchers","historys/accounts","historys/snapshots","linkage/get_status","members/me","order","orders","partners/orders/{id}/trades","referral_commissions/get_undeposited","referral_commissions/get_graph_data","trades/my","withdraws/bind_account_list","withdraws/get_withdraw_account","withdraws/fetch_bind_info"],post:["deposits/deposit_cash","favorite_markets/update","order/delete","orders","orders/multi","orders/clear","referral_commissions/deposit","withdraws/apply","withdraws/bind_bank","withdraws/bind_address"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.003,taker:.003},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:n,2003:a}})}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privateGetDepositAddress(this.extend(r,t));if("success"in s&&s["success"]){const t=this.safeString(s,"address"),i=this.safeString(s,"addressTag");return{currency:e,address:this.checkAddress(t),tag:i,info:s}}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),n=this.safeString(e,"name"),[a,o]=n.split("/"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o);i.push({id:s,symbol:n,base:c,quote:d,baseId:a,quoteId:o,info:e,active:void 0,precision:this.precision,limits:this.limits})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"balance"),a["used"]=this.safeString(e,"locked"),r[n]=a}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"]};void 0!==t&&(s["limit"]=t),s["market"]=r["id"];const n=await this.publicGetDepth(this.extend(s,i)),a=this.safeTimestamp(n,"timestamp");return this.parseOrderBook(n,e,a)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");e=this.safeValue(e,"ticker",{});let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),ask:this.safeNumber(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeMarket(e),a=t["symbol"],o=i[e];s[a]=this.parseTicker(o,t)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetTickersMarket(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeString(e,"price"),n=this.safeString(e,"volume"),a=this.parseNumber(s),o=this.parseNumber(n);let d=this.safeNumber(e,"funds");void 0===d&&(d=this.parseNumber(c.stringMul(s,n)));let h=void 0;return void 0!==t&&(h=t["symbol"]),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:a,amount:o,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e);void 0===r&&(r=30);const a={market:n["id"],period:this.timeframes[t],limit:r};a["timestamp"]=void 0!==i?parseInt(i/1e3):18e5;const o=await this.publicGetK(this.extend(a,s));return"null"===o?[]:this.parseOHLCVs(o,n,t,i,r)}parseOrderStatus(e){const t={done:"closed",wait:"open",cancel:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"created_at")),n=this.parseOrderStatus(this.safeString(e,"state")),a=this.safeString(e,"id"),o=this.safeString(e,"ord_type"),c=this.safeString(e,"side"),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"volume"),u=this.safeNumber(e,"executed_volume"),l=this.safeNumber(e,"remaining_volume"),f=this.safeNumber(e,"avg_price");return this.safeOrder({id:a,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:n,symbol:r,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:d,stopPrice:void 0,amount:h,filled:u,remaining:l,cost:void 0,trades:void 0,fee:void 0,info:e,average:f})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={market:this.marketId(e),side:i,volume:r.toString(),ord_type:t};"limit"===t&&(a["price"]=s.toString());const o=await this.privatePostOrders(this.extend(a,n));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderDelete(this.extend(r,i)),n=this.parseOrder(s),o=this.safeString(n,"status");if("closed"===o||"canceled"===o)throw new a(this.id+" "+this.json(n));return n}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a=this.safeString(s,"id");if(void 0===a)throw new o(this.id+" withdraw() requires an extra `id` param (withdraw account id according to withdraws/bind_account_list endpoint");const c={id:a,currency_type:"coin",currency:n["id"],body:t};void 0!==r&&(c["memo"]=r);const d=await this.privatePostWithdrawsApply(this.extend(c,s));return{info:d,id:void 0}}nonce(){return this.milliseconds()}encodeParams(e){return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",r={},s,n){const a="/api/"+this.version+"/"+this.implodeParams(e,r)+".json",o=this.omit(r,this.extractParams(e));let c=this.urls["api"]+a;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.keysort(this.extend({access_key:this.apiKey,tonce:e},r)),o=this.urlencode(t),d=i+"|"+a+"|"+o,h=this.hmac(this.encode(d),this.encode(this.secret)),u=o+"&signature="+h;"GET"===i?c+="?"+u:(n=u,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(400===e||void 0===o){const e=this.id+" "+a;if(void 0===o)throw new s(e);const t=this.safeValue(o,"error",{}),i=this.safeString(t,"code");this.throwExactlyMatchedException(this.exceptions,i,e)}}}},c9b5:function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=i("aa3f"),a=i("fb58"),o=i("8e94"),c=i("d47d"),d={origins:[],availableChanelId:[]},h=function(e){function t(i,r,s){var n=e.call(this)||this;return n.id=a.uniqueId("wa"),n.callbacks=[],n.options=t.prepareOptions(s),n.listen=i,n.dispatch=r,n.listen.forEach((function(e){return e.on("message",n.onMessage,n)})),n}return r(t,e),t.prototype.addListener=function(e){return this.callbacks.push(e),a.console.info("WindowAdapter: Add iframe message listener"),this},t.prototype.send=function(e){var t=s({},e,{chanelId:this.options.chanelId});return this.dispatch.forEach((function(e){return e.dispatch(t)})),a.console.info("WindowAdapter: Send message",t),this},t.prototype.destroy=function(){this.listen.forEach((function(e){return e.destroy()})),this.dispatch.forEach((function(e){return e.destroy()})),a.console.info("WindowAdapter: Destroy")},t.prototype.onMessage=function(e){this.accessEvent(e)&&this.callbacks.forEach((function(t){try{t(e.data)}catch(i){a.console.warn("WindowAdapter: Unhandled exception!",i)}}))},t.prototype.accessEvent=function(e){if("object"!==typeof e.data||null==e.data.type)return a.console.info("WindowAdapter: Block event. Wrong event format!",e.data),!1;if(!this.options.origins.has("*")&&!this.options.origins.has(e.origin))return a.console.info('SimpleWindowAdapter: Block event by origin "'+e.origin+'"'),!1;if(!this.options.availableChanelId.size)return!0;var t=!(!e.data.chanelId||!this.options.availableChanelId.has(e.data.chanelId));return t||a.console.info('SimpleWindowAdapter: Block event by chanel id "'+e.data.chanelId+'"'),t},t.createSimpleWindowAdapter=function(e,i){var r=this,s=this.getContentOrigin(e),n=this.prepareOptions(i),a=[];s&&n.origins.add(s);var c=new o.WindowProtocol(window,o.WindowProtocol.PROTOCOL_TYPES.LISTEN),d=function(e){a.push(e)};return c.on("message",d),this.getIframeContent(e).then((function(e){var i=new o.WindowProtocol(e.win,o.WindowProtocol.PROTOCOL_TYPES.DISPATCH),s=new t([c],[i],r.unPrepareOptions(n));return a.forEach((function(e){s.onMessage(e)})),c.off("message",d),s}))},t.prepareOptions=function(e){void 0===e&&(e=d);var t=function(e){return function(t){return t.reduce((function(e,t){return e.add(t)}),e)}},i=function(e,i){return c.pipe(a.toArray,t(i))(e)},r=i(e.origins||[],new a.UniqPrimitiveCollection([window.location.origin])),n=i(e.availableChanelId||[],new a.UniqPrimitiveCollection);return s({},e,{origins:r,availableChanelId:n})},t.unPrepareOptions=function(e){return{origins:e.origins.toArray(),availableChanelId:e.availableChanelId.toArray(),chanelId:e.chanelId}},t.getIframeContent=function(e){return e?e instanceof HTMLIFrameElement?e.contentWindow?Promise.resolve({win:e.contentWindow}):new Promise((function(t,i){e.addEventListener("load",(function(){return t({win:e.contentWindow})}),!1),e.addEventListener("error",i,!1)})):Promise.resolve({win:e}):Promise.resolve({win:window.opener||window.parent})},t.getContentOrigin=function(e){if(!e)try{return new URL(document.referrer).origin}catch(t){return null}if(!(e instanceof HTMLIFrameElement))try{return window.top.origin}catch(t){return null}try{return new URL(e.src).origin||null}catch(t){return null}},t}(n.Adapter);t.WindowAdapter=h},c9bc:function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,AuthenticationError:n,ExchangeError:a,InsufficientFunds:o,OrderNotFound:c,PermissionDenied:d,BadRequest:h,BadSymbol:u,DDoSProtection:l}=i("74b0"),f=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"stex",name:"STEX",countries:["EE"],rateLimit:500,certified:!1,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createDepositAddress:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},version:"v3",urls:{logo:"https://user-images.githubusercontent.com/1294454/69680782-03fd0b80-10bd-11ea-909e-7f603500e9cc.jpg",api:"https://api3.stex.com",www:"https://www.stex.com",doc:["https://help.stex.com/en/collections/1593608-api-v3-documentation"],fees:"https://app.stex.com/en/pairs-specification",referral:"https://app.stex.com?ref=36416021"},requiredCredentials:{apiKey:!1,secret:!1,token:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D"},api:{public:{get:["currencies","currencies/{currencyId}","markets","pairs-groups","currency_pairs/list/{code}","currency_pairs/group/{currencyPairGroupId}","currency_pairs/{currencyPairId}","ticker","ticker/{currencyPairId}","trades/{currencyPairId}","orderbook/{currencyPairId}","chart/{currencyPairId}/{candlesType}","deposit-statuses","deposit-statuses/{statusId}","withdrawal-statuses","withdrawal-statuses/{statusId}","ping","mobile-versions"]},trading:{get:["fees/{currencyPairId}","orders","orders/{currencyPairId}","order/{orderId}"],post:["orders/{currencyPairId}"],delete:["orders","orders/{currencyPairId}","order/{orderId}"]},reports:{get:["orders","orders/{orderId}","trades/{currencyPairId}","background/{listMode}","background/{id}","background/download/{id}"],post:["background/create"],delete:["background/{id}"]},profile:{get:["info","wallets","wallets/{walletId}","wallets/address/{walletId}","deposits","deposits/{id}","withdrawals","withdrawals/{id}","notifications","favorite/currency_pairs","token-scopes"],post:["wallets/burn/{walletId}","wallets/{currencyId}","wallets/address/{walletId}","withdraw","referral/program","referral/insert/{code}","referral/bonus_transfer/{currencyId}"],put:["profile/favorite/currency_pairs/set"],delete:["profile/withdraw/{withdrawalId}"]},verification:{get:["verification/countries","verification/stex"],post:["verification/stex"]},settings:{get:["notifications/{event}","notifications"],put:["notifications","notifications/set"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},commonCurrencies:{BC:"Bitcoin Confidential",BITS:"Bitcoinus",BITSW:"BITS",BHD:"Bithold",BTH:"Bithereum",MPH:"Chasyr Token",SBTC:"SBTCT"},options:{parseOrderToPrecision:!1},exceptions:{exact:{"Wrong parameters":h,"Unauthenticated.":n,"Server Error":a,"This feature is only enabled for users verifies by Cryptonomica":d,"Too Many Attempts.":l,"Selected Pair is disabled":u},broad:{"Not enough":o}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"id"),n=this.safeInteger(e,"id"),a=this.safeCurrencyCode(this.safeString(e,"code")),o=this.safeString(e,"precision"),c=this.parsePrecision(o),d=this.safeNumber(e,"withdrawal_fee_const"),h=this.safeValue(e,"active",!0);i[a]={id:t,numericId:n,code:a,info:e,type:void 0,name:this.safeString(e,"name"),active:h,fee:d,precision:parseInt(o),limits:{amount:{min:this.parseNumber(c),max:void 0},deposit:{min:this.safeNumber(e,"minimum_deposit_amount"),max:void 0},withdraw:{min:this.safeNumber(e,"minimum_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t={code:"ALL"},i=await this.publicGetCurrencyPairsListCode(this.extend(t,e)),r=[],s=this.safeValue(i,"data",[]);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"id"),i=this.safeInteger(e,"id"),a=this.safeString(e,"currency_id"),o=this.safeString(e,"market_currency_id"),c=this.safeInteger(e,"currency_id"),d=this.safeInteger(e,"market_currency_id"),h=this.safeCurrencyCode(this.safeString(e,"currency_code")),u=this.safeCurrencyCode(this.safeString(e,"market_code")),l=h+"/"+u,f={amount:this.safeInteger(e,"currency_precision"),price:this.safeInteger(e,"market_precision")},p=this.safeValue(e,"active"),m=this.safeNumber(e,"min_buy_price"),g=this.safeNumber(e,"min_sell_price"),y=Math.max(m,g),v=this.safeNumber(e,"buy_fee_percent")/100,b=this.safeNumber(e,"sell_fee_percent")/100,w=Math.max(v,b);r.push({id:t,numericId:i,symbol:l,base:h,quote:u,baseId:a,quoteId:o,baseNumericId:c,quoteNumericId:d,info:e,active:p,maker:w,taker:w,precision:f,limits:{amount:{min:this.safeNumber(e,"min_order_amount"),max:void 0},price:{min:y,max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currencyPairId:i["id"]},s=await this.publicGetTickerCurrencyPairId(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchTime(e={}){const t=await this.publicGetPing(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"server_datetime",{});return this.parse8601(this.safeString(r,"date"))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={currencyPairId:r["id"]};void 0!==t&&(s["limit_bids"]=t,s["limit_asks"]=t);const n=await this.publicGetOrderbookCurrencyPairId(this.extend(s,i)),a=this.safeValue(n,"data",{});return this.parseOrderBook(a,e,void 0,"bid","ask","price","amount")}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString2(e,"id","symbol"),s=this.safeSymbol(r,t,"_"),n=this.safeNumber(e,"last"),a=this.safeNumber(e,"open");let o=void 0,c=void 0;return void 0!==n&&void 0!==a&&a>0&&(o=n-a,c=100/a*n-100),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:void 0,baseVolume:this.safeNumber(e,"volumeQuote"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeValue(i,"data",[]);return this.parseTickers(r,e)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1d",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={currencyPairId:n["id"],candlesType:this.timeframes[t]};void 0===r?r=100:a["limit"]=r;const o=this.parseTimeframe(t),c=r*o;void 0===i?(a["timeEnd"]=this.seconds(),a["timeStart"]=a["timeEnd"]-c):(a["timeStart"]=parseInt(i/1e3),a["timeEnd"]=this.sum(a["timeStart"],c));const d=await this.publicGetChartCurrencyPairIdCandlesType(this.extend(a,s)),h=this.safeValue(d,"data",[]);return this.parseOHLCVs(h,n,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"price"),n=this.safeString(e,"amount"),a=this.parseNumber(s),o=this.parseNumber(n),c=this.parseNumber(f.stringMul(s,n));let d=void 0;void 0===d&&void 0!==t&&(d=t["symbol"]);const h=this.safeStringLower2(e,"type","trade_type");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:d,id:i,order:void 0,type:void 0,takerOrMaker:void 0,side:h,price:a,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={currencyPairId:s["id"]};void 0!==i&&(n["limit"]=i),void 0!==t&&(n["sort"]="ASC",n["from"]=parseInt(t/1e3));const a=await this.publicGetTradesCurrencyPairId(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.profileGetWallets(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeCurrencyCode(this.safeString(e,"currency_id")),n=this.account();n["free"]=this.safeString(e,"balance"),n["used"]=this.safeString(e,"frozen_balance"),i[t]=n}return this.parseBalance(i,!1)}parseOrderStatus(e){const t={PROCESSING:"open",PENDING:"open",PARTIAL:"open",FINISHED:"closed",CANCELLED:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString2(e,"currency_pair_id","currency_pair_name"),n=this.safeSymbol(s,t,"_"),a=this.safeTimestamp(e,"timestamp"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"initial_amount"),d=this.safeNumber(e,"processed_amount");let h=void 0,u=void 0;void 0!==d&&(void 0!==c&&(h=c-d,this.options["parseOrderToPrecision"]&&(h=parseFloat(this.amountToPrecision(n,h))),h=Math.max(h,0)),void 0!==o&&void 0===u&&(u=o*d));let l=this.safeString(e,"original_type");"BUY"!==l&&"SELL"!==l||(l=void 0);const f=this.safeStringLower(e,"type"),p=this.safeValue(e,"trades");let m=void 0;void 0!==p&&(m=this.parseTrades(p,t,void 0,void 0,{symbol:n,order:i}));const g=this.safeNumber(e,"trigger_price"),y={info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:n,type:l,timeInForce:void 0,postOnly:void 0,side:f,price:o,stopPrice:g,amount:c,cost:u,average:void 0,filled:d,remaining:h,status:r,trades:m},v=this.safeValue(e,"fees");if(void 0===v)y["fee"]=void 0;else{const e=v.length;if(e>0){y["fees"]=[];for(let e=0;e<v.length;e++){const t=this.safeNumber(v[e],"amount");if(void 0!==t){const i=this.safeString(v[e],"currency_id"),r=this.safeCurrencyCode(i);y["fees"].push({cost:t,currency:r})}}}else y["fee"]=void 0}return y}async createOrder(e,t,i,r,s,n={}){if("market"===t)throw new a(this.id+" createOrder allows limit orders only");await this.loadMarkets();const o=this.market(e);"limit"===t&&(t=i);const c={currencyPairId:o["id"],type:t.toUpperCase(),amount:parseFloat(this.amountToPrecision(e,r)),price:parseFloat(this.priceToPrecision(e,s))},d=await this.tradingPostOrdersCurrencyPairId(this.extend(c,n)),h=this.safeValue(d,"data",{});return this.parseOrder(h,o)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.tradingGetOrderOrderId(this.extend(r,i)),n=this.safeValue(s,"data",{});let a=void 0;return void 0!==t&&(a=this.market(t)),this.parseOrder(n,a)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.reportsGetOrdersOrderId(this.extend(r,i)),n=this.safeValue(s,"data",{});let a=void 0;return void 0!==t&&(a=this.market(t)),this.parseOrder(n,a)}async fetchOrderTrades(e,t,i,r,s={}){const n=await this.fetchClosedOrder(e,t,s);return n["trades"]}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,n="tradingGetOrders";const a={};void 0!==e&&(n="tradingGetOrdersCurrencyPairId",s=this.market(e),a["currencyPairId"]=s["id"]),void 0!==i&&(a["limit"]=i);const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.tradingDeleteOrderOrderId(this.extend(r,i)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"put_into_processing_queue",[]),o=this.safeValue(n,"not_put_into_processing_queue",[]),d=a.length,h=o.length;if(d<1){if(h<1)throw new c(this.id+" cancelOrder received an empty response: "+this.json(s));return this.parseOrder(o[0])}if(h<1)return this.parseOrder(a[0]);throw new c(this.id+" cancelOrder received an empty response: "+this.json(s))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r="tradingDeleteOrders";if(void 0!==e){const t=this.market(e);i["currencyPairId"]=t["id"],r="tradingDeleteOrdersCurrencyPairId"}const s=await this[r](this.extend(i,t));return s}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(e),a={currencyPairId:n["id"]};void 0!==t&&(a["timeStart"]=this.iso8601(t)),void 0!==i&&(a["limit"]=i);const o=await this.reportsGetTradesCurrencyPairId(this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,n,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currencyId:i["id"]},s=await this.profilePostWalletsCurrencyId(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeValue(n,"deposit_address",{}),o=this.safeString(a,"address"),c=this.safeString(a,"additional_address_parameter");return this.checkAddress(o),{currency:e,address:o,tag:c,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchBalance(),r=this.safeValue(i["info"],"data",[]),s=this.indexBy(r,"currency_id"),n=this.currency(e),o=this.safeValue(s,n["id"]);if(void 0===o)throw new a(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const c=this.safeInteger(o,"id");if(void 0===c)throw new a(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const d={walletId:c},h=await this.profileGetWalletsWalletId(this.extend(d,t)),u=this.safeValue(h,"data",[]),l=this.safeValue(u,"deposit_address",{}),f=this.safeString(l,"address"),p=this.safeString(l,"additional_address_parameter");return this.checkAddress(f),{currency:e,address:f,tag:p,info:h}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+t+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(o).length&&(a+="?"+this.urlencode(o)):(this.checkRequiredCredentials(),s={Authorization:"Bearer "+this.token},"GET"===i||"DELETE"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):(n=this.json(o),Object.keys(o).length&&(s["Content-Type"]="application/json"))),{url:a,method:i,body:n,headers:s}}parseTransactionStatus(e){const t={processing:"pending","checking by system":"pending",hodl:"pending","amount too low":"failed","not confirmed":"pending","cancelled by User":"canceled",approved:"pending",finished:"ok","withdrawal error":"failed","deposit error":"failed","cancelled by admin":"canceled",awaiting:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeValue(e,"withdrawal_address",{}),s=this.safeString(r,"address"),n=this.safeString(r,"additional_address_parameter"),a=this.safeString(e,"currency_id");let o=void 0;a in this.currencies_by_id?t=this.currencies_by_id[a]:o=this.commonCurrencyCode(this.safeString(e,"currency_code")),void 0===o&&void 0!==t&&(o=t["code"]);const c="deposit_status_id"in e?"deposit":"withdrawal",d=this.safeNumber(e,"amount"),h=this.parseTransactionStatus(this.safeStringLower(e,"status")),u=this.safeTimestamp2(e,"timestamp","created_ts"),l=this.safeTimestamp(e,"updated_ts"),f=this.safeString(e,"txid");let p=void 0;const m=this.safeNumber(e,"fee");if(void 0!==m){const t=this.safeString(e,"fee_currency_id","deposit_fee_currency_id"),i=this.safeCurrencyCode(t);p={cost:m,currency:i}}return{info:e,id:i,txid:f,timestamp:u,datetime:this.iso8601(u),addressFrom:void 0,address:s,addressTo:s,tagFrom:void 0,tag:n,tagTo:n,type:c,amount:d,currency:o,status:h,updated:l,fee:p}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["currencyId"]=s["id"]),void 0!==i&&(n["limit"]=i),void 0!==t&&(n["timeStart"]=t);const a=await this.profileGetDeposits(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["currencyId"]=s["id"]),void 0!==i&&(n["limit"]=i),void 0!==t&&(n["timeStart"]=t);const a=await this.profileGetWithdrawals(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={currency_id:n["id"],amount:parseFloat(this.currencyToPrecision(e,t)),address:i};void 0!==r&&(a["additional_address_parameter"]=r);const o=await this.profilePostWithdraw(this.extend(a,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,n)}async fetchFundingFees(e,t={}){const i=await this.publicGetCurrencies(t),r=this.safeValue(i,"data",[]),s={},n={};for(let a=0;a<r.length;a++){const e=this.safeString(r[a],"id"),t=this.safeCurrencyCode(e);s[t]=this.safeNumber(r[a],"withdrawal_fee_const"),n[t]=this.safeNumber(r[a],"deposit_fee_const")}return{withdraw:s,deposit:n,info:i}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"success",!1);if(!h){const e=this.safeString(o,"message"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new a(t)}}}},ca38:function(e,t,i){"use strict";const{ROUND_UP:r,ROUND_DOWN:s}=i("5ea4"),{NotSupported:n}=i("74b0"),a=e=>{const t=e.slice(0,-1),i=e.slice(-1);let r=void 0;if("y"===i)r=31536e3;else if("M"===i)r=2592e3;else if("w"===i)r=604800;else if("d"===i)r=86400;else if("h"===i)r=3600;else if("m"===i)r=60;else{if("s"!==i)throw new n("timeframe unit "+i+" is not supported");r=1}return t*r},o=(e,t,i=s)=>{const n=1e3*a(e),o=t%n;return t-o+(i===r?n:0)},c=(e,t="1m",i=-1/0,r=1/0)=>{const s=1e3*a(t),n=[],[o,,c,d,h,u,l]=[0,1,2,3,4,5,6],f=Math.min(e.length-1,r);for(let a=0;a<=f;a++){const t=e[a];if(t.timestamp<i)continue;const r=Math.floor(t.timestamp/s)*s,f=n.length-1;-1===f||r>=n[f][o]+s?n.push([r,t.price,t.price,t.price,t.price,t.amount,1]):(n[f][c]=Math.max(n[f][c],t.price),n[f][d]=Math.min(n[f][d],t.price),n[f][h]=t.price,n[f][u]+=t.amount,n[f][l]++)}return n},d=e=>{const t=/{([\w-]+)}/g,i=[];let r=t.exec(e);while(r)i.push(r[1]),r=t.exec(e);return i},h=(e,t)=>{if(!Array.isArray(t)){const i=Object.keys(t);for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(t[s])||(e=e.replace("{"+s+"}",t[s]))}}return e};function u(e,t){return void 0!==e&&void 0!==t&&e>0?t/e:void 0}e.exports={aggregate(e){const t={};for(let i=0;i<e.length;i++){const[r,s]=e[i];s>0&&(t[r]=(t[r]||0)+s)}return Object.keys(t).map(e=>[parseFloat(e),parseFloat(t[e])])},parseTimeframe:a,roundTimeframe:o,buildOHLCVC:c,ROUND_UP:r,ROUND_DOWN:s,implodeParams:h,extractParams:d,vwap:u}},ca71:function(e,t,i){},ca73:function(e,t,i){var r=i("5259");if(i("f484"),i("fb3e"),i("ca87"),i("c7e6"),i("deb0"),i("3b29"),i("66b0"),i("3609"),i("eb99"),i("4778"),i("6497"),"undefined"===typeof s)var s=r.jsbn.BigInteger;var n=r.asn1,a=r.pki=r.pki||{};e.exports=a.pbe=r.pbe=r.pbe||{};var o=a.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},d={name:"PBES2Algorithms",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"iterations"}]};function u(e,t){return e.start().update(t).digest().getBytes()}function l(e){var t;if(e){if(t=a.oids[n.derToOid(e)],!t){var i=new Error("Unsupported PRF OID.");throw i.oid=e,i.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],i}}else t="hmacWithSHA1";return f(t)}function f(e){var t=r.md;switch(e){case"hmacWithSHA224":t=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var i=new Error("Unsupported PRF algorithm.");throw i.algorithm=e,i.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],i}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function p(e,t,i,s){var o=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==s&&o.value.push(n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(i.toString(16))),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(a.oids[s]).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])),o}a.encryptPrivateKeyInfo=function(e,t,i){i=i||{},i.saltSize=i.saltSize||8,i.count=i.count||2048,i.algorithm=i.algorithm||"aes128",i.prfAlgorithm=i.prfAlgorithm||"sha1";var s,c,d,h=r.random.getBytesSync(i.saltSize),u=i.count,l=n.integerToDer(u);if(0===i.algorithm.indexOf("aes")||"des"===i.algorithm){var m,g,y;switch(i.algorithm){case"aes128":s=16,m=16,g=o["aes128-CBC"],y=r.aes.createEncryptionCipher;break;case"aes192":s=24,m=16,g=o["aes192-CBC"],y=r.aes.createEncryptionCipher;break;case"aes256":s=32,m=16,g=o["aes256-CBC"],y=r.aes.createEncryptionCipher;break;case"des":s=8,m=8,g=o["desCBC"],y=r.des.createEncryptionCipher;break;default:var v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=i.algorithm,v}var b="hmacWith"+i.prfAlgorithm.toUpperCase(),w=f(b),S=r.pkcs5.pbkdf2(t,h,u,s,w),k=r.random.getBytesSync(m),_=y(S);_.start(k),_.update(n.toDer(e)),_.finish(),d=_.output.getBytes();var O=p(h,l,s,b);c=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o["pkcs5PBES2"]).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o["pkcs5PBKDF2"]).getBytes()),O]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(g).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,k)])])])}else{if("3des"!==i.algorithm){v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=i.algorithm,v}s=24;var T=new r.util.ByteBuffer(h);S=a.pbe.generatePkcs12Key(t,T,1,u,s),k=a.pbe.generatePkcs12Key(t,T,2,u,s),_=r.des.createEncryptionCipher(S);_.start(k),_.update(n.toDer(e)),_.finish(),d=_.output.getBytes(),c=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,h),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,l.getBytes())])])}var C=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[c,n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,d)]);return C},a.decryptPrivateKeyInfo=function(e,t){var i=null,s={},o=[];if(!n.validate(e,c,s,o)){var d=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw d.errors=o,d}var h=n.derToOid(s.encryptionOid),u=a.pbe.getCipher(h,s.encryptionParams,t),l=r.util.createBuffer(s.encryptedData);return u.update(l),u.finish()&&(i=n.fromDer(u.output)),i},a.encryptedPrivateKeyToPem=function(e,t){var i={type:"ENCRYPTED PRIVATE KEY",body:n.toDer(e).getBytes()};return r.pem.encode(i,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var i=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw i.headerType=t.type,i}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return n.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,i){if(i=i||{},!i.legacy){var s=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return s=a.encryptPrivateKeyInfo(s,t,i),a.encryptedPrivateKeyToPem(s)}var o,c,d,h;switch(i.algorithm){case"aes128":o="AES-128-CBC",d=16,c=r.random.getBytesSync(16),h=r.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",d=24,c=r.random.getBytesSync(16),h=r.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",d=32,c=r.random.getBytesSync(16),h=r.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",d=24,c=r.random.getBytesSync(8),h=r.des.createEncryptionCipher;break;case"des":o="DES-CBC",d=8,c=r.random.getBytesSync(8),h=r.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+i.algorithm+'".');throw u.algorithm=i.algorithm,u}var l=r.pbe.opensslDeriveBytes(t,c.substr(0,8),d),f=h(l);f.start(c),f.update(n.toDer(a.privateKeyToAsn1(e))),f.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:r.util.bytesToHex(c).toUpperCase()},body:f.output.getBytes()};return r.pem.encode(p)},a.decryptRsaPrivateKey=function(e,t){var i=null,s=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==s.type&&"PRIVATE KEY"!==s.type&&"RSA PRIVATE KEY"!==s.type){var o=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw o.headerType=o,o}if(s.procType&&"ENCRYPTED"===s.procType.type){var c,d;switch(s.dekInfo.algorithm){case"DES-CBC":c=8,d=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":c=24,d=r.des.createDecryptionCipher;break;case"AES-128-CBC":c=16,d=r.aes.createDecryptionCipher;break;case"AES-192-CBC":c=24,d=r.aes.createDecryptionCipher;break;case"AES-256-CBC":c=32,d=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":c=5,d=function(e){return r.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":c=8,d=function(e){return r.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":c=16,d=function(e){return r.rc2.createDecryptionCipher(e,128)};break;default:o=new Error('Could not decrypt private key; unsupported encryption algorithm "'+s.dekInfo.algorithm+'".');throw o.algorithm=s.dekInfo.algorithm,o}var h=r.util.hexToBytes(s.dekInfo.parameters),u=r.pbe.opensslDeriveBytes(t,h.substr(0,8),c),l=d(u);if(l.start(h),l.update(r.util.createBuffer(s.body)),!l.finish())return i;i=l.output.getBytes()}else i=s.body;return i="ENCRYPTED PRIVATE KEY"===s.type?a.decryptPrivateKeyInfo(n.fromDer(i),t):n.fromDer(i),null!==i&&(i=a.privateKeyFromAsn1(i)),i},a.pbe.generatePkcs12Key=function(e,t,i,s,n,a){var o,c;if("undefined"===typeof a||null===a){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');a=r.md.sha1.create()}var d=a.digestLength,h=a.blockLength,u=new r.util.ByteBuffer,l=new r.util.ByteBuffer;if(null!==e&&void 0!==e){for(c=0;c<e.length;c++)l.putInt16(e.charCodeAt(c));l.putInt16(0)}var f=l.length(),p=t.length(),m=new r.util.ByteBuffer;m.fillWithByte(i,h);var g=h*Math.ceil(p/h),y=new r.util.ByteBuffer;for(c=0;c<g;c++)y.putByte(t.at(c%p));var v=h*Math.ceil(f/h),b=new r.util.ByteBuffer;for(c=0;c<v;c++)b.putByte(l.at(c%f));var w=y;w.putBuffer(b);for(var S=Math.ceil(n/d),k=1;k<=S;k++){var _=new r.util.ByteBuffer;_.putBytes(m.bytes()),_.putBytes(w.bytes());for(var O=0;O<s;O++)a.start(),a.update(_.getBytes()),_=a.digest();var T=new r.util.ByteBuffer;for(c=0;c<h;c++)T.putByte(_.at(c%d));var C=Math.ceil(p/h)+Math.ceil(f/h),I=new r.util.ByteBuffer;for(o=0;o<C;o++){var x=new r.util.ByteBuffer(w.getBytes(h)),E=511;for(c=T.length()-1;c>=0;c--)E>>=8,E+=T.at(c)+x.at(c),x.setAt(c,255&E);I.putBuffer(x)}w=I,u.putBuffer(_)}return u.truncate(u.length()-n),u},a.pbe.getCipher=function(e,t,i){switch(e){case a.oids["pkcs5PBES2"]:return a.pbe.getCipherForPBES2(e,t,i);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,i);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw r.oid=e,r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],r}},a.pbe.getCipherForPBES2=function(e,t,i){var s={},o=[];if(!n.validate(t,d,s,o)){var c=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}if(e=n.derToOid(s.kdfOid),e!==a.oids["pkcs5PBKDF2"]){c=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw c.oid=e,c.supportedOids=["pkcs5PBKDF2"],c}if(e=n.derToOid(s.encOid),e!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids["desCBC"]){c=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw c.oid=e,c.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],c}var h,u,f=s.kdfSalt,p=r.util.createBuffer(s.kdfIterationCount);switch(p=p.getInt(p.length()<<3),a.oids[e]){case"aes128-CBC":h=16,u=r.aes.createDecryptionCipher;break;case"aes192-CBC":h=24,u=r.aes.createDecryptionCipher;break;case"aes256-CBC":h=32,u=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":h=24,u=r.des.createDecryptionCipher;break;case"desCBC":h=8,u=r.des.createDecryptionCipher;break}var m=l(s.prfOid),g=r.pkcs5.pbkdf2(i,f,p,h,m),y=s.encIv,v=u(g);return v.start(y),v},a.pbe.getCipherForPKCS12PBE=function(e,t,i){var s={},o=[];if(!n.validate(t,h,s,o)){var c=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}var d,u,f,p=r.util.createBuffer(s.salt),m=r.util.createBuffer(s.iterations);switch(m=m.getInt(m.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:d=24,u=8,f=r.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:d=5,u=8,f=function(e,t){var i=r.rc2.createDecryptionCipher(e,40);return i.start(t,null),i};break;default:c=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw c.oid=e,c}var g=l(s.prfOid),y=a.pbe.generatePkcs12Key(i,p,1,m,d,g);g.start();var v=a.pbe.generatePkcs12Key(i,p,2,m,u,g);return f(y,v)},a.pbe.opensslDeriveBytes=function(e,t,i,s){if("undefined"===typeof s||null===s){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');s=r.md.md5.create()}null===t&&(t="");for(var n=[u(s,e+t)],a=16,o=1;a<i;++o,a+=16)n.push(u(s,n[o-1]+e+t));return n.join("").substr(0,i)}},ca84:function(e,t,i){var r=i("5135"),s=i("fc6a"),n=i("4d64").indexOf,a=i("d012");e.exports=function(e,t){var i,o=s(e),c=0,d=[];for(i in o)!r(a,i)&&r(o,i)&&d.push(i);while(t.length>c)r(o,i=t[c++])&&(~n(d,i)||d.push(i));return d}},ca87:function(e,t,i){var r=i("5259");function s(e,t){var i=function(){return new r.des.Algorithm(e,t)};r.cipher.registerAlgorithm(e,i)}i("6040"),i("e21e"),i("6497"),e.exports=r.des=r.des||{},r.des.startEncrypting=function(e,t,i,r){var s=m({key:e,output:i,decrypt:!1,mode:r||(null===t?"ECB":"CBC")});return s.start(t),s},r.des.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},r.des.startDecrypting=function(e,t,i,r){var s=m({key:e,output:i,decrypt:!0,mode:r||(null===t?"ECB":"CBC")});return s.start(t),s},r.des.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},r.des.Algorithm=function(e,t){var i=this;i.name=e,i.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return p(i._keys,e,t,!1)},decrypt:function(e,t){return p(i._keys,e,t,!0)}}}),i._init=!1},r.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=r.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=f(t),this._init=!0}},s("DES-ECB",r.cipher.modes.ecb),s("DES-CBC",r.cipher.modes.cbc),s("DES-CFB",r.cipher.modes.cfb),s("DES-OFB",r.cipher.modes.ofb),s("DES-CTR",r.cipher.modes.ctr),s("3DES-ECB",r.cipher.modes.ecb),s("3DES-CBC",r.cipher.modes.cbc),s("3DES-CFB",r.cipher.modes.cfb),s("3DES-OFB",r.cipher.modes.ofb),s("3DES-CTR",r.cipher.modes.ctr);var n=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],d=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],u=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],l=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e){for(var t,i=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],s=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],d=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],h=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<g;w++){var S=e.getInt32(),k=e.getInt32();t=252645135&(S>>>4^k),k^=t,S^=t<<4,t=65535&(k>>>-16^S),S^=t,k^=t<<-16,t=858993459&(S>>>2^k),k^=t,S^=t<<2,t=65535&(k>>>-16^S),S^=t,k^=t<<-16,t=1431655765&(S>>>1^k),k^=t,S^=t<<1,t=16711935&(k>>>8^S),S^=t,k^=t<<8,t=1431655765&(S>>>1^k),k^=t,S^=t<<1,t=S<<8|k>>>20&240,S=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240,k=t;for(var _=0;_<v.length;++_){v[_]?(S=S<<2|S>>>26,k=k<<2|k>>>26):(S=S<<1|S>>>27,k=k<<1|k>>>27),S&=-15,k&=-15;var O=i[S>>>28]|r[S>>>24&15]|s[S>>>20&15]|n[S>>>16&15]|a[S>>>12&15]|o[S>>>8&15]|c[S>>>4&15],T=d[k>>>28]|h[k>>>24&15]|u[k>>>20&15]|l[k>>>16&15]|f[k>>>12&15]|p[k>>>8&15]|m[k>>>4&15];t=65535&(T>>>16^O),y[b++]=O^t,y[b++]=T^t<<16}}return y}function p(e,t,i,r){var s,f,p=32===e.length?3:9;s=3===p?r?[30,-2,-2]:[0,32,2]:r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],g=t[1];f=252645135&(m>>>4^g),g^=f,m^=f<<4,f=65535&(m>>>16^g),g^=f,m^=f<<16,f=858993459&(g>>>2^m),m^=f,g^=f<<2,f=16711935&(g>>>8^m),m^=f,g^=f<<8,f=1431655765&(m>>>1^g),g^=f,m^=f<<1,m=m<<1|m>>>31,g=g<<1|g>>>31;for(var y=0;y<p;y+=3){for(var v=s[y+1],b=s[y+2],w=s[y];w!=v;w+=b){var S=g^e[w],k=(g>>>4|g<<28)^e[w+1];f=m,m=g,g=f^(a[S>>>24&63]|c[S>>>16&63]|h[S>>>8&63]|l[63&S]|n[k>>>24&63]|o[k>>>16&63]|d[k>>>8&63]|u[63&k])}f=m,m=g,g=f}m=m>>>1|m<<31,g=g>>>1|g<<31,f=1431655765&(m>>>1^g),g^=f,m^=f<<1,f=16711935&(g>>>8^m),m^=f,g^=f<<8,f=858993459&(g>>>2^m),m^=f,g^=f<<2,f=65535&(m>>>16^g),g^=f,m^=f<<16,f=252645135&(m>>>4^g),g^=f,m^=f<<4,i[0]=m,i[1]=g}function m(e){e=e||{};var t,i=(e.mode||"CBC").toUpperCase(),s="DES-"+i;t=e.decrypt?r.cipher.createDecipher(s,e.key):r.cipher.createCipher(s,e.key);var n=t.start;return t.start=function(e,i){var s=null;i instanceof r.util.ByteBuffer&&(s=i,i={}),i=i||{},i.output=s,i.iv=e,n.call(t,i)},t}},caad:function(e,t,i){"use strict";var r=i("23e7"),s=i("4d64").includes,n=i("44d2");r({target:"Array",proto:!0},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},cb29:function(e,t,i){var r=i("23e7"),s=i("81d5"),n=i("44d2");r({target:"Array",proto:!0},{fill:s}),n("fill")},cc12:function(e,t,i){var r=i("da84"),s=i("861d"),n=r.document,a=s(n)&&s(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},cc84:function(e,t,i){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};Object.create;Object.create;var s,n,a=i("a8e9"),o=i("ffa6"),c=i("abfd"),d=(s={},s["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",s["bad-app-name"]="Illegal App name: '{$appName}",s["duplicate-app"]="Firebase App named '{$appName}' already exists",s["app-deleted"]="Firebase App named '{$appName}' already deleted",s["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",s["invalid-log-argument"]="First argument to `onLog` must be null or a function.",s),h=new a["b"]("app","Firebase",d),u="@firebase/app",l="0.6.28",f="@firebase/analytics",p="@firebase/app-check",m="@firebase/auth",g="@firebase/database",y="@firebase/functions",v="@firebase/installations",b="@firebase/messaging",w="@firebase/performance",S="@firebase/remote-config",k="@firebase/storage",_="@firebase/firestore",O="firebase-wrapper",T="[DEFAULT]",C=(n={},n[u]="fire-core",n[f]="fire-analytics",n[p]="fire-app-check",n[m]="fire-auth",n[g]="fire-rtdb",n[y]="fire-fn",n[v]="fire-iid",n[b]="fire-fcm",n[w]="fire-perf",n[S]="fire-rc",n[k]="fire-gcs",n[_]="fire-fst",n["fire-js"]="fire-js",n[O]="fire-js-all",n),I=new c["b"]("@firebase/app"),x=function(){function e(e,t,i){var r=this;this.firebase_=i,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a["i"])(e),this.container=new o["b"](t.name),this._addComponent(new o["a"]("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var i;void 0===t&&(t=T),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=T),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){I.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},e}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var E="8.7.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e){var t={},i=new Map,r={__esModule:!0,initializeApp:d,app:n,registerVersion:f,setLogLevel:c["c"],onLog:p,apps:null,SDK_VERSION:E,INTERNAL:{registerComponent:l,removeApp:s,components:i,useAsService:m}};function s(e){delete t[e]}function n(e){if(e=e||T,!Object(a["f"])(t,e))throw h.create("no-app",{appName:e});return t[e]}function d(i,s){if(void 0===s&&(s={}),"object"!==typeof s||null===s){var n=s;s={name:n}}var o=s;void 0===o.name&&(o.name=T);var c=o.name;if("string"!==typeof c||!c)throw h.create("bad-app-name",{appName:String(c)});if(Object(a["f"])(t,c))throw h.create("duplicate-app",{appName:c});var d=new e(i,o,r);return t[c]=d,d}function u(){return Object.keys(t).map((function(e){return t[e]}))}function l(s){var o=s.name;if(i.has(o))return I.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===s.type?r[o]:null;if(i.set(o,s),"PUBLIC"===s.type){var c=function(e){if(void 0===e&&(e=n()),"function"!==typeof e[o])throw h.create("invalid-app-argument",{appName:o});return e[o]()};void 0!==s.serviceProps&&Object(a["j"])(c,s.serviceProps),r[o]=c,e.prototype[o]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this._getService.bind(this,o);return i.apply(this,s.multipleInstances?e:[])}}for(var d=0,u=Object.keys(t);d<u.length;d++){var l=u[d];t[l]._addComponent(s)}return"PUBLIC"===s.type?r[o]:null}function f(e,t,i){var r,s=null!==(r=C[e])&&void 0!==r?r:e;i&&(s+="-"+i);var n=s.match(/\s|\//),a=t.match(/\s|\//);if(n||a){var c=['Unable to register library "'+s+'" with version "'+t+'":'];return n&&c.push('library name "'+s+'" contains illegal characters (whitespace or "/")'),n&&a&&c.push("and"),a&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void I.warn(c.join(" "))}l(new o["a"](s+"-version",(function(){return{library:s,version:t}}),"VERSION"))}function p(e,t){if(null!==e&&"function"!==typeof e)throw h.create("invalid-log-argument");Object(c["d"])(e,t)}function m(e,t){if("serverAuth"===t)return null;var i=t;return i}return r["default"]=r,Object.defineProperty(r,"apps",{get:u}),n["App"]=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(){var e=A(x);function t(t){Object(a["j"])(e,t)}return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:N,extendNamespace:t,createSubscribe:a["h"],ErrorFactory:a["b"],deepExtend:a["j"]}),e}var M=N(),P=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map((function(e){if(B(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e,t){e.INTERNAL.registerComponent(new o["a"]("platform-logger",(function(e){return new P(e)}),"PRIVATE")),e.registerVersion(u,l,t),e.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Object(a["m"])()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var D=self.firebase.SDK_VERSION;D&&D.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var L=M.initializeApp;M.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a["s"])()&&I.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),L.apply(void 0,e)};var V=M;R(V);t["a"]=V},cca6:function(e,t,i){var r=i("23e7"),s=i("60da");r({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},cceb:function(e,t,i){var r=i("32f6");e.exports={Ber:r,BerReader:r.Reader}},ccf3:function(e,t,i){"use strict";const r=i("90db"),s=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:"https://bl3p.eu",doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR",maker:.0025,taker:.0025}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGENMKTMoneyInfo(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"wallets"),s={info:i},n=Object.keys(this.currencies);for(let a=0;a<n.length;a++){const e=n[a],t=this.currency(e),i=t["id"],o=this.safeValue(r,i,{}),c=this.safeValue(o,"available",{}),d=this.safeValue(o,"balance",{}),h=this.account();h["free"]=this.safeString(c,"value"),h["total"]=this.safeString(d,"value"),s[e]=h}return this.parseBalance(s,!1)}parseBidAsk(e,t=0,i=1){const r=this.safeNumber(e,t),s=this.safeNumber(e,i);return[r/1e5,s/1e8]}async fetchOrderBook(e,t,i={}){const r=this.market(e),s={market:r["id"]},n=await this.publicGetMarketOrderbook(this.extend(s,i)),a=this.safeValue(n,"data");return this.parseOrderBook(a,e,void 0,"bids","asks","price_int","amount_int")}async fetchTicker(e,t={}){const i={market:this.marketId(e)},r=await this.publicGetMarketTicker(this.extend(i,t)),s=this.safeTimestamp(r,"timestamp"),n=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r["volume"],"24h"),quoteVolume:void 0,info:r}}parseTrade(e,t){const i=this.safeString(e,"trade_id"),r=this.safeInteger(e,"date");let n=this.safeString(e,"price_int");n=s.stringDiv(n,"100000");let a=this.safeString(e,"amount_int");a=s.stringDiv(a,"100000000");const o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(s.stringMul(n,a));let h=void 0;return void 0!==t&&(h=t["symbol"]),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:h,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){const s=this.market(e),n=await this.publicGetMarketTrades(this.extend({market:s["id"]},r)),a=this.parseTrades(n["data"]["trades"],s,t,i);return a}async createOrder(e,t,i,r,s,n={}){const a=this.market(e),o={market:a["id"],amount_int:parseInt(1e8*r),fee_currency:a["quote"],type:"buy"===i?"bid":"ask"};"limit"===t&&(o["price_int"]=parseInt(1e5*s));const c=await this.privatePostMarketMoneyOrderAdd(this.extend(o,n)),d=this.safeString(c["data"],"order_id");return{info:c,id:d}}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostMarketMoneyOrderCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,n){const a=this.implodeParams(e,r);let o=this.urls["api"]+"/"+this.version+"/"+a;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce();n=this.urlencode(this.extend({nonce:e},c));const t=this.base64ToBinary(this.secret),i=a+"\0"+n,r=this.hmac(this.encode(i),t,"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":r}}return{url:o,method:i,body:n,headers:s}}}},cdf9:function(e,t,i){var r=i("825a"),s=i("861d"),n=i("f069");e.exports=function(e,t){if(r(e),s(t)&&t.constructor===e)return t;var i=n.f(e),a=i.resolve;return a(t),i.promise}},ce02:function(e,t,i){var r=i("ce6e"),s=i("dafe"),n=i("fa07"),a=i("02ff"),o=i("3c78"),c=i("edee"),d=i("3fd9");function h(e,t,i,n){var a=r(e),o=r(t);function c(e,t){return u(e,t,i.slice(),n.slice())}return!s((function(e,t){return!s(c,t,e)}),o,a)}function u(e,t,i,r){if(o(e,t))return!0;var s=d(e);if(s!==d(t))return!1;if(null==e||null==t)return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===n(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!o(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!o(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break}var l=i.length-1;while(l>=0){if(i[l]===e)return r[l]===t;l-=1}switch(s){case"Map":return e.size===t.size&&h(e.entries(),t.entries(),i.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&h(e.values(),t.values(),i.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=c(e);if(f.length!==c(t).length)return!1;var p=i.concat([e]),m=r.concat([t]);l=f.length-1;while(l>=0){var g=f[l];if(!a(g,t)||!u(t[g],e[g],p,m))return!1;l-=1}return!0}e.exports=u},ce4e:function(e,t,i){var r=i("da84"),s=i("9112");e.exports=function(e,t){try{s(r,e,t)}catch(i){r[e]=t}return t}},ce6e:function(e,t){function i(e){var t,i=[];while(!(t=e.next()).done)i.push(t.value);return i}e.exports=i},ce75:function(e,t,i){"use strict";var r=i("74d2"),s=i("fee7"),n=s.utils,a=n.getNAF,o=n.getJSF,c=n.assert;function d(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(e,t){c(e.precomputed);var i=e._getDoubles(),r=a(t,1),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;for(var n=[],o=0;o<r.length;o+=i.step){var d=0;for(t=o+i.step-1;t>=o;t--)d=(d<<1)+r[t];n.push(d)}for(var h=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=s;l>0;l--){for(o=0;o<n.length;o++){d=n[o];d===l?u=u.mixedAdd(i.points[o]):d===-l&&(u=u.mixedAdd(i.points[o].neg()))}h=h.add(u)}return h.toP()},d.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var s=r.points,n=a(t,i),o=this.jpoint(null,null,null),d=n.length-1;d>=0;d--){for(t=0;d>=0&&0===n[d];d--)t++;if(d>=0&&t++,o=o.dblp(t),d<0)break;var h=n[d];c(0!==h),o="affine"===e.type?h>0?o.mixedAdd(s[h-1>>1]):o.mixedAdd(s[-h-1>>1].neg()):h>0?o.add(s[h-1>>1]):o.add(s[-h-1>>1].neg())}return"affine"===e.type?o.toP():o},d.prototype._wnafMulAdd=function(e,t,i,r,s){for(var n=this._wnafT1,c=this._wnafT2,d=this._wnafT3,h=0,u=0;u<r;u++){var l=t[u],f=l._getNAFPoints(e);n[u]=f.wnd,c[u]=f.points}for(u=r-1;u>=1;u-=2){var p=u-1,m=u;if(1===n[p]&&1===n[m]){var g=[t[p],null,null,t[m]];0===t[p].y.cmp(t[m].y)?(g[1]=t[p].add(t[m]),g[2]=t[p].toJ().mixedAdd(t[m].neg())):0===t[p].y.cmp(t[m].y.redNeg())?(g[1]=t[p].toJ().mixedAdd(t[m]),g[2]=t[p].add(t[m].neg())):(g[1]=t[p].toJ().mixedAdd(t[m]),g[2]=t[p].toJ().mixedAdd(t[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(i[p],i[m]);h=Math.max(v[0].length,h),d[p]=new Array(h),d[m]=new Array(h);for(var b=0;b<h;b++){var w=0|v[0][b],S=0|v[1][b];d[p][b]=y[3*(w+1)+(S+1)],d[m][b]=0,c[p]=g}}else d[p]=a(i[p],n[p]),d[m]=a(i[m],n[m]),h=Math.max(d[p].length,h),h=Math.max(d[m].length,h)}var k=this.jpoint(null,null,null),_=this._wnafT4;for(u=h;u>=0;u--){var O=0;while(u>=0){var T=!0;for(b=0;b<r;b++)_[b]=0|d[b][u],0!==_[b]&&(T=!1);if(!T)break;O++,u--}if(u>=0&&O++,k=k.dblp(O),u<0)break;for(b=0;b<r;b++){var C=_[b];0!==C&&(C>0?l=c[b][C-1>>1]:C<0&&(l=c[b][-C-1>>1].neg()),k="affine"===l.type?k.mixedAdd(l):k.add(l))}}for(u=0;u<r;u++)c[u]=null;return s?k:k.toP()},d.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*i){6===e[0]?c(e[e.length-1]%2===0):7===e[0]&&c(e[e.length-1]%2===1);var r=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return r}if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(e){return this.encode(e,!0)},h.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},h.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},h.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},h.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},h.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,s=0;s<t;s+=e){for(var n=0;n<e;n++)r=r.dbl();i.push(r)}return{step:e,points:i}},h.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(r);return{wnd:e,points:t}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},ce7e:function(e,t,i){"use strict";var r=i("5530"),s=(i("8ce9"),i("7560"));t["a"]=s["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){var t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:Object(r["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(r["a"])({role:"separator","aria-orientation":t},this.$attrs),on:this.$listeners})}})},cee4:function(e,t,i){"use strict";var r=i("c532"),s=i("1d2b"),n=i("0a06"),a=i("4a7b"),o=i("2444");function c(e){var t=new n(e),i=s(n.prototype.request,t);return r.extend(i,n.prototype,t),r.extend(i,t),i}var d=c(o);d.Axios=n,d.create=function(e){return c(a(d.defaults,e))},d.Cancel=i("7a77"),d.CancelToken=i("8df4"),d.isCancel=i("2e67"),d.all=function(e){return Promise.all(e)},d.spread=i("0df6"),d.isAxiosError=i("5f02"),e.exports=d,e.exports.default=d},cf36:function(e,t,i){},d012:function(e,t){e.exports={}},d014:function(e,t,i){var r=i("d6ce");function s(e,t,i){var s,n;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){s=1/t;while(i<e.length){if(n=e[i],0===n&&1/n===s)return i;i+=1}return-1}if(t!==t){while(i<e.length){if(n=e[i],"number"===typeof n&&n!==n)return i;i+=1}return-1}return e.indexOf(t,i);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,i);case"object":if(null===t)return e.indexOf(t,i)}while(i<e.length){if(r(e[i],t))return i;i+=1}return-1}e.exports=s},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,i){var r=i("428f"),s=i("da84"),n=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?n(r[e])||n(s[e]):r[e]&&r[e][t]||s[e]&&s[e][t]}},d10f:function(e,t,i){"use strict";var r=i("2b0e");t["a"]=r["a"].extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var e=this;window.requestAnimationFrame((function(){e.$el.setAttribute("data-booted","true"),e.isBooted=!0}))}})},d17b:function(e,t,i){e.exports=i("e372").Transform},d191:function(e,t,i){},d1e7:function(e,t,i){"use strict";var r={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,n=s&&!r.call({1:2},1);t.f=n?function(e){var t=s(this,e);return!!t&&t.enumerable}:r},d225:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s}=i("74b0"),n=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460810-1dd06c00-c616-11ea-9276-956f400d6ffa.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker/","trades/","depth/"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USDT":{id:"btc_usdt",symbol:"BTC/USDT",base:"BTC",quote:"USDT",baseId:"btc",quoteId:"usdt",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"lsk",quoteId:"btc",maker:.0015,taker:.0025},"BCH/USDT":{id:"bch_usdt",symbol:"BCH/USDT",base:"BCH",quote:"USDT",baseId:"bch",quoteId:"usdt",maker:.001,taker:.0015},"ETH/USDT":{id:"eth_usdt",symbol:"ETH/USDT",base:"ETH",quote:"USDT",baseId:"eth",quoteId:"usdt",maker:.001,taker:.0015}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostInfo(e),i=this.safeValue(t["result"],"wallet"),r={info:t},s=Object.keys(i);for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),a=this.safeValue(i,e,{}),o=this.account();o["free"]=this.safeString(a,"avail"),o["used"]=this.safeString(a,"lock"),r[t]=o}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e)},s=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(s["result"],e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={market:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"result"),n=this.milliseconds(),a=this.safeNumber(s,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"buy"),bidVolume:void 0,ask:this.safeNumber(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"vol"),quoteVolume:void 0,info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;void 0!==t&&(r=t["symbol"]);const s=this.safeString(e,"id"),a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(n.stringMul(a,o));return{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]},a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a["result"],s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={market:this.marketId(e),op:i,amount:r};"market"===t?(a["order_type"]=1,a["price"]=s):a["order_type"]=0;const o=await this.privatePostTrade(this.extend(a,n));return{info:o,id:o["result"]["id"].toString()}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce();n=this.urlencode(this.extend({nonce:e},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(n),this.secret,"sha512")}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("status"in o&&200===o["status"])return o;throw new s(this.id+" "+this.json(o))}}},d28b:function(e,t,i){var r=i("746f");r("iterator")},d2bb:function(e,t,i){var r=i("825a"),s=i("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(i,[]),t=i instanceof Array}catch(n){}return function(i,n){return r(i),s(n),t?e.call(i,n):i.__proto__=n,i}}():void 0)},d312:function(e,t,i){"use strict";const r=i("90db"),{PAD_WITH_ZERO:s}=i("5ea4"),{InvalidOrder:n,InsufficientFunds:a,ExchangeError:o,ExchangeNotAvailable:c,DDoSProtection:d,BadRequest:h,NotSupported:u,InvalidAddress:l,AuthenticationError:f}=i("74b0"),p=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"idex",name:"IDEX",countries:["US"],rateLimit:1500,version:"v2",certified:!0,pro:!0,requiresWeb3:!0,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrders:!1,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","1d":"1d"},urls:{test:{public:"https://api-sandbox.idex.io",private:"https://api-sandbox.idex.io"},logo:"https://user-images.githubusercontent.com/51840849/94481303-2f222100-01e0-11eb-97dd-bc14c5943a86.jpg",api:{ETH:"https://api-eth.idex.io",BSC:"https://api-bsc.idex.io"},www:"https://idex.io",doc:["https://docs.idex.io/"]},api:{public:{get:["ping","time","exchange","assets","markets","tickers","candles","trades","orderbook","wsToken"]},private:{get:["user","wallets","balances","orders","fills","deposits","withdrawals"],post:["wallets","orders","orders/test","withdrawals"],delete:["orders"]}},options:{defaultTimeInForce:"gtc",defaultSelfTradePrevention:"cn",network:"ETH"},exceptions:{INVALID_ORDER_QUANTITY:n,INSUFFICIENT_FUNDS:a,SERVICE_UNAVAILABLE:c,EXCEEDED_RATE_LIMIT:d,INVALID_PARAMETER:h,WALLET_NOT_ASSOCIATED:l,INVALID_WALLET_SIGNATURE:f},requiredCredentials:{walletAddress:!0,privateKey:!0,apiKey:!0,secret:!0},paddingMode:s,commonCurrencies:{},requireCredentials:{privateKey:!0,apiKey:!0,secret:!0}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"market"),n=this.safeString(e,"baseAsset"),a=this.safeString(e,"quoteAsset"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeString(e,"baseAssetPrecision"),u=this.safeString(e,"quoteAssetPrecision"),l=this.parsePrecision(h),f=this.parsePrecision(u),p=this.safeString(e,"status"),m="active"===p,g={amount:parseInt(h),price:parseInt(u)};i.push({symbol:d,id:s,base:o,quote:c,baseId:n,quoteId:a,active:m,info:e,precision:g,limits:{amount:{min:this.parseNumber(l),max:void 0},price:{min:this.parseNumber(f),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.publicGetTickers(this.extend(r,t)),n=this.safeValue(s,0);return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t);return this.parseTickers(i,e)}parseTicker(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.safeNumber(e,"baseVolume"),n=this.safeNumber(e,"quoteVolume"),a=this.safeInteger(e,"time"),o=this.safeNumber(e,"open"),c=this.safeNumber(e,"high"),d=this.safeNumber(e,"low"),h=this.safeNumber(e,"close"),u=this.safeNumber(e,"ask"),l=this.safeNumber(e,"bid");let f=this.safeNumber(e,"percentChange");void 0!==f&&(f=1+f/100);let p=void 0;return void 0!==h&&void 0!==o&&(p=h-o),{symbol:r,timestamp:a,datetime:this.iso8601(a),high:c,low:d,bid:l,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:o,close:h,last:h,previousClose:void 0,change:p,percentage:f,average:void 0,baseVolume:s,quoteVolume:n,info:e}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={market:n["id"],interval:t};void 0!==i&&(a["start"]=i),void 0!==r&&(a["limit"]=r);const o=await this.publicGetCandles(this.extend(a,s));return Array.isArray(o)?this.parseOHLCVs(o,n,t,i,r):[]}parseOHLCV(e,t){const i=this.safeInteger(e,"start"),r=this.safeNumber(e,"open"),s=this.safeNumber(e,"high"),n=this.safeNumber(e,"low"),a=this.safeNumber(e,"close"),o=this.safeNumber(e,"volume");return[i,r,s,n,a,o]}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s["id"]};void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"fillId"),r=this.safeString(e,"price"),s=this.safeString(e,"quantity"),n=this.parseNumber(r),a=this.parseNumber(s);let o=this.safeNumber(e,"quoteQuantity");void 0===o&&(o=this.parseNumber(p.stringMul(r,s)));const c=this.safeInteger(e,"time"),d=this.safeString(e,"market"),h=this.safeSymbol(d,t,"-"),u=this.safeString(e,"makerSide"),l="buy"===u?"sell":"buy",f=this.safeString(e,"side",l),m=this.safeString(e,"liquidity","taker"),g=this.safeNumber(e,"fee");let y=void 0;if(void 0!==g){const t=this.safeString(e,"feeAsset");y={cost:g,currency:this.safeCurrencyCode(t)}}const v=this.safeString(e,"orderId");return{info:e,timestamp:c,datetime:this.iso8601(c),symbol:h,id:i,order:v,type:"limit",side:f,takerOrMaker:m,price:n,amount:a,cost:o,fee:y}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r["id"],level:2};void 0!==t&&(s["limit"]=t);const n=await this.publicGetOrderbook(this.extend(s,i)),a=this.safeInteger(n,"sequence");return{symbol:e,timestamp:void 0,datetime:void 0,nonce:a,bids:this.parseSide(n,"bids"),asks:this.parseSide(n,"asks")}}parseSide(e,t){const i=this.safeValue(e,t,[]),r=[];for(let n=0;n<i.length;n++){const e=i[n],t=this.safeNumber(e,0),s=this.safeNumber(e,1),a=this.safeInteger(e,2);r.push([t,s,a])}const s="bids"===t;return this.sortBy(r,0,s)}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name"),n=this.safeString(e,"symbol"),a=this.safeString(e,"exchangeDecimals"),o=this.safeCurrencyCode(n),c=this.parsePrecision(a),d=this.parseNumber(c);i[o]={id:n,code:o,info:e,type:void 0,name:s,active:void 0,fee:void 0,precision:parseInt(a),limits:{amount:{min:d,max:void 0},withdraw:{min:d,max:void 0}}}}return i}async fetchBalance(e={}){this.checkRequiredCredentials(),await this.loadMarkets();const t=this.uuidv1(),i={nonce:t,wallet:this.walletAddress},r=this.extend(i,e);if(void 0===r["wallet"])throw new h(this.id+' wallet is undefined, set this.walletAddress or "address" in params');let s=void 0;try{s=await this.privateGetBalances(r)}catch(a){if(!(a instanceof l))throw a;{const e=r["wallet"];await this.associateWallet(e),s=await this.privateGetBalances(r)}}const n={info:s,timestamp:void 0,datetime:void 0};for(let o=0;o<s.length;o++){const e=s[o],t=this.safeString(e,"asset"),i=this.safeCurrencyCode(t),r=this.account();r["total"]=this.safeString(e,"quantity"),r["free"]=this.safeString(e,"availableForTrade"),r["used"]=this.safeString(e,"locked"),n[i]=r}return this.parseBalance(n,!1)}async fetchMyTrades(e,t,i,r={}){this.checkRequiredCredentials(),await this.loadMarkets();let s=void 0;const n={nonce:this.uuidv1(),wallet:this.walletAddress};void 0!==e&&(s=this.market(e),n["market"]=s["id"]),void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const a=this.extend(n,r);if(void 0===a["wallet"])throw new h(this.id+' walletAddress is undefined, set this.walletAddress or "address" in params');let o=void 0;try{o=await this.privateGetFills(a)}catch(c){if(!(c instanceof l))throw c;{const e=a["wallet"];await this.associateWallet(e),o=await this.privateGetFills(a)}}return this.parseTrades(o,s,t,i)}async fetchOrder(e,t,i={}){const r={orderId:e};return await this.fetchOrdersHelper(t,void 0,void 0,this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){const s={closed:!1};return await this.fetchOrdersHelper(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={closed:!0};return await this.fetchOrdersHelper(e,t,i,this.extend(s,r))}async fetchOrdersHelper(e,t,i,r={}){await this.loadMarkets();const s={nonce:this.uuidv1(),wallet:this.walletAddress};let n=void 0;void 0!==e&&(n=this.market(e),s["market"]=n["id"]),void 0!==t&&(s["start"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetOrders(this.extend(s,r));return Array.isArray(a)?this.parseOrders(a,n,t,i):this.parseOrder(a,n)}parseOrderStatus(e){const t={active:"open",partiallyFilled:"open",rejected:"canceled",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeInteger(e,"time"),r=this.safeValue(e,"fills",[]),s=this.safeString(e,"orderId"),n=this.safeString(e,"clientOrderId"),a=this.safeString(e,"market"),o=this.safeString(e,"side"),c=this.safeSymbol(a,t,"-"),d=this.parseTrades(r,t),h=this.safeString(e,"type"),u=this.safeNumber(e,"originalQuantity"),l=this.safeNumber(e,"executedQuantity"),f=this.safeNumber(e,"avgExecutionPrice"),p=this.safeNumber(e,"price"),m=this.safeString(e,"status"),g=this.parseOrderStatus(m);return this.safeOrder({info:e,id:s,clientOrderId:n,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:c,type:h,timeInForce:void 0,postOnly:void 0,side:o,price:p,stopPrice:void 0,amount:u,cost:void 0,average:f,filled:l,remaining:void 0,status:g,fee:void 0,trades:d})}async associateWallet(e,t={}){const i=this.uuidv1(),r=this.remove0xPrefix(e),s=[this.base16ToBinary(i),this.base16ToBinary(r)],n=this.binaryConcatArray(s),a=this.hash(n,"keccak","hex"),o=this.signMessageString(a,this.privateKey),c={parameters:{nonce:i,wallet:e},signature:o},d=await this.privatePostWallets(c);return d}async createOrder(e,t,i,r,s,n={}){this.checkRequiredCredentials(),await this.loadMarkets();const a=this.market(e),o=this.uuidv1();let c=void 0;const d={stopLoss:3,stopLossLimit:4,takeProfit:5,takeProfitLimit:6};let l=void 0;if("stopLossLimit"===t||"takeProfitLimit"===t||"stopPrice"in n){if(!("stopPrice"in n))throw new h(this.id+" stopPrice is a required parameter for "+t+"orders");l=this.priceToPrecision(e,n["stopPrice"])}const f={limit:1,limitMaker:2};let p=void 0;const m=t.toLowerCase(),g=m.indexOf("limit")>-1;if(t in f)c=f[t],p=this.priceToPrecision(e,s);else if(t in d)c=d[t],p=this.priceToPrecision(e,s);else{if("market"!==t)throw new h(this.id+" "+t+" is not a valid order type");c=0}let y=0;if("quoteOrderQuantity"in n){if("market"!==t)throw new u(this.id+" quoteOrderQuantity is not supported for "+t+" orders, only supported for market orders");y=1,r=this.safeNumber(n,"quoteOrderQuantity")}const v="buy"===i?0:1,b=this.remove0xPrefix(this.walletAddress),w=this.safeString(this.options,"network","ETH"),S="ETH"===w?1:2,k=this.amountToPrecision(e,r),_={gtc:0,ioc:2,fok:3},O=this.safeString(this.options,"defaultTimeInForce","gtc"),T=this.safeString(n,"timeInForce",O);let C=void 0;if(!(T in _)){const e=Object.keys(_),t=e.join(", ");throw new h(this.id+" "+T+" is not a valid timeInForce, please choose one of "+t)}C=_[T];const I={dc:0,co:1,cn:2,cb:3},x=this.safeString(this.options,"defaultSelfTradePrevention","cn"),E=this.safeString(n,"selfTradePrevention",x);let A=void 0;if(!(E in I)){const e=Object.keys(I),t=e.join(", ");throw new h(this.id+" "+E+" is not a valid selfTradePrevention, please choose one of "+t)}A=I[E];const N=[this.numberToBE(S,1),this.base16ToBinary(o),this.base16ToBinary(b),this.stringToBinary(this.encode(a["id"])),this.numberToBE(c,1),this.numberToBE(v,1),this.stringToBinary(this.encode(k)),this.numberToBE(y,1)];if(g){const e=this.stringToBinary(this.encode(p));N.push(e)}if(t in d){const e=this.stringToBinary(this.encode(l||p));N.push(e)}const M=this.safeString(n,"clientOrderId");void 0!==M&&N.push(this.stringToBinary(this.encode(M)));const P=[this.numberToBE(C,1),this.numberToBE(A,1),this.numberToBE(0,8)],B=this.arrayConcat(N,P),R=this.binaryConcatArray(B),D=this.hash(R,"keccak","hex"),L=this.signMessageString(D,this.privateKey),V={parameters:{nonce:o,market:a["id"],side:i,type:t,wallet:this.walletAddress,timeInForce:T,selfTradePrevention:E},signature:L};g&&(V["parameters"]["price"]=p),t in d&&(V["parameters"]["stopPrice"]=l||p),0===y?V["parameters"]["quantity"]=k:V["parameters"]["quoteOrderQuantity"]=k,void 0!==M&&(V["parameters"]["clientOrderId"]=M);const j=await this.privatePostOrders(V);return this.parseOrder(j,a)}async withdraw(e,t,i,r,s={}){this.checkRequiredCredentials(),await this.loadMarkets();const n=this.uuidv1(),a=this.currencyToPrecision(e,t),o=this.currency(e),c=this.remove0xPrefix(this.walletAddress),d=[this.base16ToBinary(n),this.base16ToBinary(c),this.stringToBinary(this.encode(o["id"])),this.stringToBinary(this.encode(a)),this.numberToBE(1,1)],h=this.binaryConcatArray(d),u=this.hash(h,"keccak","hex"),l=this.signMessageString(u,this.privateKey),f={parameters:{nonce:n,wallet:i,asset:o["id"],quantity:a},signature:l},p=await this.privatePostWithdrawals(f),m=this.safeString(p,"withdrawalId");return{info:p,id:m}}async cancelOrder(e,t,i={}){this.checkRequiredCredentials(),await this.loadMarkets();let r=void 0;void 0!==t&&(r=this.market(t));const s=this.uuidv1(),n=this.remove0xPrefix(this.walletAddress),a=[this.base16ToBinary(s),this.base16ToBinary(n),this.stringToBinary(this.encode(e))],o=this.binaryConcatArray(a),c=this.hash(o,"keccak","hex"),d=this.signMessageString(c,this.privateKey),h={parameters:{nonce:s,wallet:this.walletAddress,orderId:e},signature:d},u=await this.privateDeleteOrders(this.extend(h,i)),l=this.safeValue(u,0);return this.parseOrder(l,r)}handleErrors(e,t,i,r,s,n,a,c,d){const h=this.safeString(a,"code"),u=this.safeString(a,"message");if(h in this.exceptions){const e=this.exceptions[h];throw new e(this.id+" "+u)}if(void 0!==h)throw new o(this.id+" "+u)}async fetchDeposits(e,t,i,r={}){return r=this.extend({method:"privateGetDeposits"},r),this.fetchTransactionsHelper(e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return r=this.extend({method:"privateGetWithdrawals"},r),this.fetchTransactionsHelper(e,t,i,r)}async fetchTransactionsHelper(e,t,i,r={}){await this.loadMarkets();const s=this.uuidv1(),n={nonce:s,wallet:this.walletAddress};let a=void 0;void 0!==e&&(a=this.currency(e),n["asset"]=a["id"]),void 0!==t&&(n["start"]=t),void 0!==i&&(n["limit"]=i);const o=r["method"];r=this.omit(r,"method");const c=await this[o](this.extend(n,r));return this.parseTransactions(c,a,t,i)}parseTransactionStatus(e){const t={mined:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=void 0;"depositId"in e?i="deposit":"withdrawalId"in e&&(i="withdrawal");const r=this.safeString2(e,"depositId","withdrawId"),s=this.safeCurrencyCode(this.safeString(e,"asset"),t),n=this.safeNumber(e,"quantity"),a=this.safeString(e,"txId"),o=this.safeInteger(e,"txTime");let c=void 0;"fee"in e&&(c={cost:this.safeNumber(e,"fee"),currency:"ETH"});const d=this.safeString(e,"txStatus"),h=this.parseTransactionStatus(d),u=this.safeInteger(e,"confirmationTime");return{info:e,id:r,txid:a,timestamp:o,datetime:this.iso8601(o),address:void 0,tag:void 0,type:i,amount:n,currency:s,status:h,updated:u,fee:c}}sign(e,t="public",i="GET",r={},s,n){const a=this.safeString(this.options,"network","ETH"),o=this.safeString(this.options,"version","v1");let c=this.urls["api"][a]+"/"+o+"/"+e;const d=Object.keys(r),h=d.length;let u=void 0;if(h>0&&("GET"===i?(u=this.urlencode(r),c=c+"?"+u):n=this.json(r)),s={"Content-Type":"application/json"},void 0!==this.apiKey&&(s["IDEX-API-Key"]=this.apiKey),"private"===t){let e=void 0;e="GET"===i?u:n,s["IDEX-HMAC-Signature"]=this.hmac(this.encode(e),this.encode(this.secret),"sha256","hex")}return{url:c,method:i,body:n,headers:s}}}},d3b7:function(e,t,i){var r=i("00ee"),s=i("6eeb"),n=i("b041");r||s(Object.prototype,"toString",n,{unsafe:!0})},d3e8:function(e,t){function i(e,t){var i;e=e||[],t=t||[];var r=e.length,s=t.length,n=[];i=0;while(i<r)n[n.length]=e[i],i+=1;i=0;while(i<s)n[n.length]=t[i],i+=1;return n}e.exports=i},d436:function(e,t,i){var r=i("00b3"),s=i("e64b"),n=i("48af"),a=i("ae1c");function o(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,n(s,arguments[0],a(arguments)))}e.exports=o},d44e:function(e,t,i){var r=i("9bf2").f,s=i("5135"),n=i("b622"),a=n("toStringTag");e.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},d47d:function(e,t,i){"use strict";function r(e){return Object.keys(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=r;var s=Math.floor(Date.now()*Math.random()),n=0;function a(e){return e+"-"+s+"-"+n++}function o(e){return Array.isArray(e)?e:[e]}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.uniqueId=a,t.toArray=o,t.pipe=c},d485:function(e,t,i){e.exports=n;var r=i("faa1").EventEmitter,s=i("3fb5");function n(){r.call(this)}s(n,r),n.Readable=i("e372"),n.Writable=i("2c63"),n.Duplex=i("0960"),n.Transform=i("d17b"),n.PassThrough=i("c2ae"),n.Stream=n,n.prototype.pipe=function(e,t){var i=this;function s(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function n(){i.readable&&i.resume&&i.resume()}i.on("data",s),e.on("drain",n),e._isStdio||t&&!1===t.end||(i.on("end",o),i.on("close",c));var a=!1;function o(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function d(e){if(h(),0===r.listenerCount(this,"error"))throw e}function h(){i.removeListener("data",s),e.removeListener("drain",n),i.removeListener("end",o),i.removeListener("close",c),i.removeListener("error",d),e.removeListener("error",d),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("error",d),e.on("error",d),i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e}},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d6be:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,InvalidNonce:a,OrderNotFound:o,InvalidOrder:c,DDoSProtection:d,BadRequest:h,AuthenticationError:u}=i("74b0"),l=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"latoken",name:"Latoken",countries:["KY"],version:"v1",rateLimit:2e3,certified:!1,userAgent:this.userAgents["chrome"],has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelAllOrders:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrdersByStatus:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61511972-24c39f00-aa01-11e9-9f7c-471f1d6e5214.jpg",api:"https://api.latoken.com",www:"https://latoken.com",doc:["https://api.latoken.com"]},api:{public:{get:["ExchangeInfo/time","ExchangeInfo/limits","ExchangeInfo/pairs","ExchangeInfo/pairs/{currency}","ExchangeInfo/pair","ExchangeInfo/currencies","ExchangeInfo/currencies/{symbol}","MarketData/tickers","MarketData/ticker/{symbol}","MarketData/orderBook/{symbol}","MarketData/orderBook/{symbol}/{limit}","MarketData/trades/{symbol}","MarketData/trades/{symbol}/{limit}"]},private:{get:["Account/balances","Account/balances/{currency}","Order/status","Order/active","Order/get_order","Order/trades"],post:["Order/new","Order/test-order","Order/cancel","Order/cancel_all"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{MT:"Monarch",TSL:"Treasure SL"},options:{createOrderMethod:"private_post_order_new"},exceptions:{exact:{"Signature or ApiKey is not valid":u,"Request is out of time":a,"Symbol must be specified":h},broad:{"Request limit reached":d,Pair:h,"Price needs to be greater than":c,"Amount needs to be greater than":c,"The Symbol field is required":c,"OrderType is not valid":c,"Side is not valid":c,"Cancelable order whit":o,Order:o}}})}nonce(){return this.milliseconds()}async fetchTime(e={}){const t=await this.publicGetExchangeInfoTime(e);return this.safeInteger(t,"unixTimeMiliseconds")}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfoPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quotedCurrency"),o=this.safeInteger(e,"pairId"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(a),h=c+"/"+d,u=this.safeString(e,"pricePrecision"),l=this.parsePrecision(u),f={price:parseInt(u),amount:this.safeInteger(e,"amountPrecision")},p={amount:{min:this.safeNumber(e,"minQty"),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,numericId:o,info:e,symbol:h,base:c,quote:d,baseId:n,quoteId:a,active:void 0,precision:f,limits:p})}return i}async fetchCurrencies(e={}){const t=await this.publicGetExchangeInfoCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeInteger(e,"currencyId"),a=this.safeCurrencyCode(s),o=this.safeInteger(e,"precission"),c=this.safeNumber(e,"fee"),d=void 0;i[a]={id:s,numericId:n,code:a,info:e,name:a,active:d,fee:c,precision:o,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i={info:t,timestamp:void 0,datetime:void 0};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeCurrencyCode(s),a=this.safeString(e,"frozen"),o=this.safeString(e,"pending"),c=this.account();c["used"]=l.stringAdd(a,o),c["free"]=this.safeString(e,"available"),c["total"]=this.safeString(e,"amount"),i[n]=c}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"],limit:10};void 0!==t&&(s["limit"]=t);const n=await this.publicGetMarketDataOrderBookSymbolLimit(this.extend(s,i));return this.parseOrderBook(n,e,void 0,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"open"),n=this.safeNumber(e,"close");let a=void 0;void 0!==s&&void 0!==n&&(a=n-s);const o=this.safeNumber(e,"priceChange"),c=this.nonce();return{symbol:r,timestamp:c,datetime:this.iso8601(c),low:this.safeNumber(e,"low"),high:this.safeNumber(e,"high"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:s,close:n,last:n,previousClose:void 0,change:a,percentage:o,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetMarketDataTickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataTickers(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=e["symbol"];r[t]=e}return this.filterByArray(r,"symbol",e)}parseTrade(e,t){const i=void 0;let r=this.safeInteger2(e,"timestamp","time");void 0!==r&&r<12309408e5&&(r*=1e3);const s=this.safeString(e,"price"),n=this.safeString(e,"amount"),a=this.parseNumber(s),o=this.parseNumber(n),c=this.parseNumber(l.stringMul(s,n)),d=this.safeString(e,"side");let h=void 0;void 0!==t&&(h=t["symbol"]);const u=this.safeString(e,"id"),f=this.safeString(e,"orderId"),p=this.safeNumber(e,"commission");let m=void 0;return void 0!==p&&(m={cost:p,currency:void 0}),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:h,id:u,order:f,type:i,takerOrMaker:void 0,side:d,price:a,amount:o,cost:c,fee:m}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetMarketDataTradesSymbol(this.extend(n,r)),o=this.safeValue(a,"trades",[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s["id"]},o=await this.privateGetOrderTrades(this.extend(a,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){const t={active:"open",partiallyFilled:"open",filled:"closed",cancelled:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeTimestamp(e,"timeCreated"),s=this.safeString(e,"symbol"),n=this.safeSymbol(s,t),a=this.safeString(e,"side"),o=this.safeString(e,"orderType"),c=this.safeNumber(e,"price"),d=this.safeNumber(e,"amount"),h=this.safeNumber(e,"executedAmount"),u=this.parseOrderStatus(this.safeString(e,"orderStatus")),l=this.safeTimestamp(e,"timeFilled");let f=void 0;void 0!==l&&l>0&&(f=l);const p=this.safeString(e,"cliOrdId");return this.safeOrder({id:i,clientOrderId:p,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:f,status:u,symbol:n,type:o,timeInForce:void 0,postOnly:void 0,side:a,price:c,stopPrice:void 0,cost:void 0,amount:d,filled:h,average:void 0,remaining:void 0,fee:void 0,trades:void 0})}async fetchOpenOrders(e,t,i,r={}){return this.fetchOrdersWithMethod("private_get_order_active",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return this.fetchOrdersByStatus("filled",e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return this.fetchOrdersByStatus("cancelled",e,t,i,r)}async fetchOrdersByStatus(e,t,i,r,s={}){const n={status:e};return this.fetchOrdersWithMethod("private_get_order_status",t,i,r,this.extend(n,s))}async fetchOrdersWithMethod(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchOrdersWithMethod() requires a symbol argument");await this.loadMarkets();const a=this.market(t),o={symbol:a["id"]};void 0!==r&&(o["limit"]=r);const c=await this[e](this.extend(o,s));return this.parseOrders(c,a,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateGetOrderGetOrder(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,n,a={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" allows limit orders only");const o={symbol:this.marketId(e),side:i,price:this.priceToPrecision(e,n),amount:this.amountToPrecision(e,r),orderType:t},c=this.safeString(this.options,"createOrderMethod","private_post_order_new"),d=await this[c](this.extend(o,a));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privatePostOrderCancel(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){if(void 0===e)throw new n(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.marketId(e),r={symbol:i},s=await this.privatePostOrderCancelAll(this.extend(r,t)),a=[],o=this.safeValue(s,"cancelledOrders",[]);for(let n=0;n<o.length;n++){const e=this.parseOrder({symbol:i,orderId:o[n],orderStatus:"canceled"});a.push(e)}return a}sign(e,t="public",i="GET",r,s,n){let a="/api/"+this.version+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("private"===t){const e=this.nonce();o=this.extend({timestamp:e},o)}const c=this.urlencode(o);if(Object.keys(o).length&&(a+="?"+c),"private"===t){this.checkRequiredCredentials();const e=this.hmac(this.encode(a),this.encode(this.secret));s={"X-LA-KEY":this.apiKey,"X-LA-SIGNATURE":e},"POST"===i&&(s["Content-Type"]="application/x-www-form-urlencoded",n=c)}const d=this.urls["api"]+a;return{url:d,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(!o)return;const h=this.safeString(o,"message"),u=this.id+" "+a;void 0!==h&&(this.throwExactlyMatchedException(this.exceptions["exact"],h,u),this.throwBroadlyMatchedException(this.exceptions["broad"],h,u));const l=this.safeValue(o,"error",{}),f=this.safeString(l,"message");if(void 0!==f)throw this.throwExactlyMatchedException(this.exceptions["exact"],f,u),this.throwBroadlyMatchedException(this.exceptions["broad"],f,u),new s(u)}}},d6ce:function(e,t,i){var r=i("5a7c"),s=i("ce02"),n=r((function(e,t){return s(e,t,[],[])}));e.exports=n},d784:function(e,t,i){"use strict";i("ac1f");var r=i("6eeb"),s=i("9263"),n=i("d039"),a=i("b622"),o=i("9112"),c=a("species"),d=RegExp.prototype;e.exports=function(e,t,i,h){var u=a(e),l=!n((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),f=l&&!n((function(){var t=!1,i=/a/;return"split"===e&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[u]=/./[u]),i.exec=function(){return t=!0,null},i[u](""),!t}));if(!l||!f||i){var p=/./[u],m=t(u,""[e],(function(e,t,i,r,n){var a=t.exec;return a===s||a===d.exec?l&&!n?{done:!0,value:p.call(t,i,r)}:{done:!0,value:e.call(i,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(d,u,m[1])}h&&o(d[u],"sham",!0)}},d81d:function(e,t,i){"use strict";var r=i("23e7"),s=i("b727").map,n=i("1dde"),a=n("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},d8be:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,AuthenticationError:a,OrderNotFound:o,InsufficientFunds:c,PermissionDenied:d,BadRequest:h,RateLimitExceeded:u,InvalidOrder:l}=i("74b0"),f=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bigone",name:"BigONE",countries:["CN"],version:"v3",rateLimit:1200,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hour1","3h":"hour3","4h":"hour4","6h":"hour6","12h":"hour12","1d":"day1","1w":"week1","1M":"month1"},hostname:"big.one",urls:{logo:"https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg",api:{public:"https://{hostname}/api/v3",private:"https://{hostname}/api/v3/viewer"},www:"https://big.one",doc:"https://open.big.one/docs/api.html",fees:"https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy",referral:"https://b1.run/users/new?code=D3LLBVFT"},api:{public:{get:["ping","asset_pairs","asset_pairs/{asset_pair_name}/depth","asset_pairs/{asset_pair_name}/trades","asset_pairs/{asset_pair_name}/ticker","asset_pairs/{asset_pair_name}/candles","asset_pairs/tickers"]},private:{get:["accounts","fund/accounts","assets/{asset_symbol}/address","orders","orders/{id}","orders/multi","trades","withdrawals","deposits"],post:["orders","orders/{id}/cancel","orders/cancel","withdrawals","transfer"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,ETH:.005,EOS:.01,ZEC:.003,LTC:.01,QTUM:.01,ETC:.01,GAS:0,BTS:1,GXS:.1,BITCNY:19}}},exceptions:{exact:{10001:h,10005:s,"Amount's scale must greater than AssetPair's base scale":l,10007:h,10011:s,10013:o,10014:c,10403:d,10429:u,40004:a,40103:a,40104:a,40301:d,40302:s,40601:s,40602:s,40603:c,40120:l,40121:l},broad:{}},commonCurrencies:{MBN:"Mobilian Coin",ONE:"BigONE Token"}})}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),n=this.safeString(e,"id"),a=this.safeValue(e,"base_asset",{}),o=this.safeValue(e,"quote_asset",{}),c=this.safeString(a,"symbol"),d=this.safeString(o,"symbol"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f=this.safeString(e,"base_scale"),p=this.safeString(e,"quote_scale"),m=this.parsePrecision(f),g=this.parsePrecision(p),y={amount:parseInt(f),price:parseInt(p)},v=this.safeInteger(e,"min_quote_value"),b={id:t,uuid:n,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:!0,precision:y,limits:{amount:{min:this.parseNumber(m),max:void 0},price:{min:this.parseNumber(g),max:void 0},cost:{min:v,max:void 0}},info:e};r.push(b)}return r}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t);let r=this.safeValue(this.options,"marketsByUuid");if(void 0===r||e){r={};for(let e=0;e<this.symbols.length;e++){const t=this.symbols[e],i=this.markets[t],s=this.safeString(i,"uuid");r[s]=i}this.options["marketsByUuid"]=r}return i}parseTicker(e,t){const i=this.safeString(e,"asset_pair_name"),r=this.safeSymbol(i,t,"-"),s=void 0,n=this.safeNumber(e,"close"),a=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(a,"price"),bidVolume:this.safeNumber(a,"quantity"),ask:this.safeNumber(o,"price"),askVolume:this.safeNumber(o,"quantity"),vwap:void 0,open:this.safeNumber(e,"open"),close:n,last:n,previousClose:void 0,change:this.safeNumber(e,"daily_change"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={asset_pair_name:i["id"]},s=await this.publicGetAssetPairsAssetPairNameTicker(this.extend(r,t)),n=this.safeValue(s,"data",{});return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["pair_names"]=t.join(",")}const r=await this.publicGetAssetPairsTickers(this.extend(i,t)),s=this.safeValue(r,"data",[]),n={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=e["symbol"];n[t]=e}return this.filterByArray(n,"symbol",e)}async fetchTime(e={}){const t=await this.publicGetPing(e),i=this.safeValue(t,"data",{}),r=this.safeInteger(i,"timestamp");return parseInt(r/1e6)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={asset_pair_name:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.publicGetAssetPairsAssetPairNameDepth(this.extend(s,i)),a=this.safeValue(n,"data",{});return this.parseOrderBook(a,e,void 0,"bids","asks","price","quantity")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"created_at","inserted_at")),r=this.safeString(e,"price"),s=this.safeString(e,"amount"),n=this.parseNumber(r),a=this.parseNumber(s),o=this.parseNumber(f.stringMul(r,s)),c=this.safeString(e,"asset_pair_name"),d=this.safeSymbol(c,t,"-");let h=this.safeString(e,"side");const u=this.safeString(e,"taker_side");let l=void 0;void 0!==u&&void 0!==h&&"SELF_TRADING"!==h&&(l=u===h?"taker":"maker"),void 0===h?h="ASK"===u?"sell":"buy":"BID"===h?h="buy":"ASK"===h&&(h="sell");const p=this.safeString(e,"maker_order_id"),m=this.safeString(e,"taker_order_id");let g=void 0;void 0!==p?g=void 0!==m?[p,m]:p:void 0!==m&&(g=m);const y=this.safeString(e,"id"),v={id:y,timestamp:i,datetime:this.iso8601(i),symbol:d,order:g,type:"limit",side:h,takerOrMaker:l,price:n,amount:a,cost:parseFloat(o),info:e};let b=void 0,w=void 0;void 0!==t&&void 0!==l?"buy"===h?"maker"===l?(b=t["base"],w=t["quote"]):(b=t["quote"],w=t["base"]):"maker"===l?(b=t["quote"],w=t["base"]):(b=t["base"],w=t["quote"]):"SELF_TRADING"===h&&("BID"===u?(b=t["quote"],w=t["base"]):"ASK"===u&&(b=t["base"],w=t["quote"]));const S=this.safeNumber(e,"maker_fee"),k=this.safeNumber(e,"taker_fee");return void 0!==S?void 0!==k?v["fees"]=[{cost:S,currency:b},{cost:k,currency:w}]:v["fee"]={cost:S,currency:b}:v["fee"]=void 0!==k?{cost:k,currency:w}:void 0,v}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={asset_pair_name:s["id"]},a=await this.publicGetAssetPairsAssetPairNameTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e);void 0===r&&(r=100);const a={asset_pair_name:n["id"],period:this.timeframes[t],limit:r};if(void 0!==i){const e=this.sum(i,r*this.parseTimeframe(t)*1e3);a["time"]=this.iso8601(e)}const o=await this.publicGetAssetPairsAssetPairNameCandles(this.extend(a,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","");e=this.omit(e,"type");const i="privateGet"+this.capitalize(t)+"Accounts",r=await this[i](e),s={info:r,timestamp:void 0,datetime:void 0},n=this.safeValue(r,"data",[]);for(let a=0;a<n.length;a++){const e=n[a],t=this.safeString(e,"asset_symbol"),i=this.safeCurrencyCode(t),r=this.account();r["total"]=this.safeString(e,"balance"),r["used"]=this.safeString(e,"locked_balance"),s[i]=r}return this.parseBalance(s,!1)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"asset_pair_name"),s=this.safeSymbol(r,t,"-"),n=this.parse8601(this.safeString(e,"created_at")),a=this.safeNumber(e,"price"),o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"filled_amount"),d=this.parseOrderStatus(this.safeString(e,"state"));let h=this.safeString(e,"side");h="BID"===h?"buy":"sell";const u=this.parse8601(this.safeString(e,"updated_at")),l=this.safeNumber(e,"avg_deal_price");return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:u,symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:h,price:a,stopPrice:void 0,amount:o,cost:void 0,average:l,filled:c,remaining:void 0,status:d,fee:void 0,trades:void 0})}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e);i="buy"===i?"BID":"ASK";const c=t.toUpperCase(),d={asset_pair_name:o["id"],side:i,amount:this.amountToPrecision(e,r),type:c};if("LIMIT"===c)d["price"]=this.priceToPrecision(e,s);else{const t="STOP_LIMIT"===c,i="STOP_MARKET"===c;if(t||i){const t=this.safeNumber2(a,"stop_price","stopPrice");if(void 0===t)throw new n(this.id+" createOrder() requires a stop_price parameter");d["stop_price"]=this.priceToPrecision(e,t),a=this.omit(a,["stop_price","stopPrice"])}t&&(d["price"]=this.priceToPrecision(e,s))}const h=await this.privatePostOrders(this.extend(d,a)),u=this.safeValue(h,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrdersIdCancel(this.extend(r,i)),n=this.safeValue(s,"data");return this.parseOrder(n)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i=this.market(e),r={asset_pair_name:i["id"]},s=await this.privatePostOrdersCancel(this.extend(r,t));return s}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i)),n=this.safeValue(s,"data",{});return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={asset_pair_name:s["id"]};void 0!==i&&(a["limit"]=i);const o=await this.privateGetOrders(this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new n(this.id+" fetchMyTrades() requires a symbol argument");const s=this.market(e),a={asset_pair_name:s["id"]};void 0!==i&&(a["limit"]=i);const o=await this.privateGetTrades(this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){const t={PENDING:"open",FILLED:"closed",CANCELLED:"canceled"};return this.safeString(t,e)}async fetchOpenOrders(e,t,i,r={}){const s={state:"PENDING"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={state:"FILLED"};return await this.fetchOrders(e,t,i,this.extend(s,r))}nonce(){return 1e3*this.microseconds()}sign(e,t="public",i="GET",r={},s,n){const a=this.omit(r,this.extractParams(e)),o=this.implodeHostname(this.urls["api"][t]);let c=o+"/"+this.implodeParams(e,r);if("public"===t)Object.keys(a).length&&(c+="?"+this.urlencode(a));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t={type:"OpenAPIV2",sub:this.apiKey,nonce:e},r=this.jwt(t,this.encode(this.secret));s={Authorization:"Bearer "+r},"GET"===i?Object.keys(a).length&&(c+="?"+this.urlencode(a)):"POST"===i&&(s["Content-Type"]="application/json",n=this.json(a))}return{url:c,method:i,body:n,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={asset_symbol:i["id"]},n=await this.privateGetAssetsAssetSymbolAddress(this.extend(r,t)),a=this.safeValue(n,"data",[]),o=a.length;if(o<1)throw new s(this.id+"fetchDepositAddress() returned empty address response");const c=a[0],d=this.safeString(c,"value"),h=this.safeString(c,"memo");return this.checkAddress(d),{currency:e,address:d,tag:h,info:n}}parseTransactionStatus(e){const t={WITHHOLD:"ok",UNCONFIRMED:"pending",CONFIRMED:"ok",COMPLETED:"ok",PENDING:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"asset_symbol"),r=this.safeCurrencyCode(i),s=this.safeInteger(e,"id"),n=this.safeNumber(e,"amount"),a=this.parseTransactionStatus(this.safeString(e,"state")),o=this.parse8601(this.safeString(e,"inserted_at")),c=this.parse8601(this.safeString2(e,"updated_at","completed_at")),d=this.safeString(e,"txid"),h=this.safeString(e,"target_address"),u=this.safeString(e,"memo"),l="customer_id"in e?"deposit":"withdrawal";return{info:e,id:s,txid:d,timestamp:o,datetime:this.iso8601(o),addressFrom:void 0,address:void 0,addressTo:h,tagFrom:void 0,tag:u,tagTo:void 0,type:l,amount:n,currency:r,status:a,updated:c,fee:void 0}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["asset_symbol"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetDeposits(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["asset_symbol"]=n["id"]),void 0!==i&&(s["limit"]=i);const a=await this.privateGetWithdrawals(this.extend(s,r)),o=this.safeValue(a,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const n=this.currency(e),a={symbol:n["id"],target_address:i,amount:this.currencyToPrecision(e,t)};void 0!==r&&(a["memo"]=r);const o=await this.privatePostWithdrawals(this.extend(a,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,n)}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if("0"!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],u,e),this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],u,e),new s(e)}}}},d925:function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d938:function(e,t,i){var r=i("b639").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),i=e.length,s=0;s<i;s++)t[s]=e[s];return t.buffer}throw new Error("Argument must be a Buffer")}},d998:function(e,t,i){var r=i("342f");e.exports=/MSIE|Trident/.test(r)},d9bd:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return c})),i.d(t,"e",(function(){return d}));i("caad"),i("2532"),i("99af"),i("ac1f"),i("5319"),i("b0c0"),i("466d"),i("a15b"),i("d81d"),i("38cf");var r=i("f309");function s(e,t,i){if(!r["a"].config.silent){if(i&&(t={_isVue:!0,$parent:i,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return"[Vuetify] ".concat(e)+(t?f(t):"")}}function n(e,t,i){var r=s(e,t,i);null!=r&&console.warn(r)}function a(e,t,i){var r=s(e,t,i);null!=r&&console.error(r)}function o(e,t,i,r){n("[UPGRADE] '".concat(e,"' is deprecated, use '").concat(t,"' instead."),i,r)}function c(e,t,i,r){a("[BREAKING] '".concat(e,"' has been removed, use '").concat(t,"' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide"),i,r)}function d(e,t,i){n("[REMOVED] '".concat(e,"' has been removed. You can safely omit it."),t,i)}var h=/(?:^|[-_])(\w)/g,u=function(e){return e.replace(h,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")};function l(e,t){if(e.$root===e)return"<Root>";var i="function"===typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e||{},r=i.name||i._componentTag,s=i.__file;if(!r&&s){var n=s.match(/([^/\\]+)\.vue$/);r=n&&n[1]}return(r?"<".concat(u(r),">"):"<Anonymous>")+(s&&!1!==t?" at ".concat(s):"")}function f(e){if(e._isVue&&e.$parent){var t=[],i=0;while(e){if(t.length>0){var r=t[t.length-1];if(r.constructor===e.constructor){i++,e=e.$parent;continue}i>0&&(t[t.length-1]=[r,i],i=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map((function(e,t){return"".concat(0===t?"---\x3e ":" ".repeat(5+2*t)).concat(Array.isArray(e)?"".concat(l(e[0]),"... (").concat(e[1]," recursive calls)"):l(e))})).join("\n")}return"\n\n(found in ".concat(l(e),")")}},d9f7:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u}));var r=i("5530"),s=i("3835"),n=i("b85c"),a=(i("ac1f"),i("1276"),i("498a"),i("b64b"),i("99af"),i("80d2")),o={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function c(e){var t,i={},r=Object(n["a"])(e.split(o.styleList));try{for(r.s();!(t=r.n()).done;){var c=t.value,d=c.split(o.styleProp),h=Object(s["a"])(d,2),u=h[0],l=h[1];u=u.trim(),u&&("string"===typeof l&&(l=l.trim()),i[Object(a["c"])(u)]=l)}}catch(f){r.e(f)}finally{r.f()}return i}function d(){var e,t={},i=arguments.length;while(i--)for(var s=0,n=Object.keys(arguments[i]);s<n.length;s++)switch(e=n[s],e){case"class":case"directives":arguments[i][e]&&(t[e]=u(t[e],arguments[i][e]));break;case"style":arguments[i][e]&&(t[e]=h(t[e],arguments[i][e]));break;case"staticClass":if(!arguments[i][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[i][e].trim();break;case"on":case"nativeOn":arguments[i][e]&&(t[e]=l(t[e],arguments[i][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[i][e])break;t[e]||(t[e]={}),t[e]=Object(r["a"])(Object(r["a"])({},arguments[i][e]),t[e]);break;default:t[e]||(t[e]=arguments[i][e])}return t}function h(e,t){return e?t?(e=Object(a["G"])("string"===typeof e?c(e):e),e.concat("string"===typeof t?c(t):t)):e:t}function u(e,t){return t?e&&e?Object(a["G"])(e).concat(t):t:e}function l(){if(!(arguments.length<=0?void 0:arguments[0]))return arguments.length<=1?void 0:arguments[1];if(!(arguments.length<=1?void 0:arguments[1]))return arguments.length<=0?void 0:arguments[0];for(var e={},t=2;t--;){var i=t<0||arguments.length<=t?void 0:arguments[t];for(var r in i)i[r]&&(e[r]?e[r]=[].concat(i[r],e[r]):e[r]=i[r])}return e}},da63:function(e,t,i){var r=i("5259");i("fb3e"),i("fb58f"),i("deb0"),i("5876"),i("ca73"),i("3609"),i("4778"),i("de46"),i("6497"),i("9d8b");var s=r.asn1,n=r.pki,a=e.exports=r.pkcs12=r.pkcs12||{},o={name:"ContentInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:s.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},d={name:"SafeBag",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:s.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},h={name:"Attribute",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0,capture:"values"}]},u={name:"CertBag",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:s.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:s.Class.UNIVERSAL,type:s.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function l(e,t,i,r){for(var s=[],n=0;n<e.length;n++)for(var a=0;a<e[n].safeBags.length;a++){var o=e[n].safeBags[a];void 0!==r&&o.type!==r||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(i)>=0&&s.push(o):s.push(o))}return s}function f(e){if(e.composed||e.constructed){for(var t=r.util.createBuffer(),i=0;i<e.value.length;++i)t.putBytes(e.value[i].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function p(e,t,i,r){if(t=s.fromDer(t,i),t.tagClass!==s.Class.UNIVERSAL||t.type!==s.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var c=t.value[a],d={},h=[];if(!s.validate(c,o,d,h)){var u=new Error("Cannot read ContentInfo.");throw u.errors=h,u}var l={encrypted:!1},p=null,y=d.content.value[0];switch(s.derToOid(d.contentType)){case n.oids.data:if(y.tagClass!==s.Class.UNIVERSAL||y.type!==s.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");p=f(y).value;break;case n.oids.encryptedData:p=m(y,r),l.encrypted=!0;break;default:u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=s.derToOid(d.contentType),u}l.safeBags=g(p,i,r),e.safeContents.push(l)}}function m(e,t){var i={},a=[];if(!s.validate(e,r.pkcs7.asn1.encryptedDataValidator,i,a)){var o=new Error("Cannot read EncryptedContentInfo.");throw o.errors=a,o}var c=s.derToOid(i.contentType);if(c!==n.oids.data){o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw o.oid=c,o}c=s.derToOid(i.encAlgorithm);var d=n.pbe.getCipher(c,i.encParameter,t),h=f(i.encryptedContentAsn1),u=r.util.createBuffer(h.value);if(d.update(u),!d.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return d.output.getBytes()}function g(e,t,i){if(!t&&0===e.length)return[];if(e=s.fromDer(e,t),e.tagClass!==s.Class.UNIVERSAL||e.type!==s.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var r=[],a=0;a<e.value.length;a++){var o=e.value[a],c={},h=[];if(!s.validate(o,d,c,h)){var l=new Error("Cannot read SafeBag.");throw l.errors=h,l}var f,p,m={type:s.derToOid(c.bagId),attributes:y(c.bagAttributes)};r.push(m);var g=c.bagValue.value[0];switch(m.type){case n.oids.pkcs8ShroudedKeyBag:if(g=n.decryptPrivateKeyInfo(g,i),null===g)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case n.oids.keyBag:try{m.key=n.privateKeyFromAsn1(g)}catch(v){m.key=null,m.asn1=g}continue;case n.oids.certBag:f=u,p=function(){if(s.derToOid(c.certId)!==n.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=s.derToOid(c.certId),e}var i=s.fromDer(c.cert,t);try{m.cert=n.certificateFromAsn1(i,!0)}catch(v){m.cert=null,m.asn1=i}};break;default:l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=m.type,l}if(void 0!==f&&!s.validate(g,f,c,h)){l=new Error("Cannot read PKCS#12 "+f.name);throw l.errors=h,l}p()}return r}function y(e){var t={};if(void 0!==e)for(var i=0;i<e.length;++i){var r={},a=[];if(!s.validate(e[i],h,r,a)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=a,o}var c=s.derToOid(r.oid);if(void 0!==n.oids[c]){t[n.oids[c]]=[];for(var d=0;d<r.values.length;++d)t[n.oids[c]].push(r.values[d].value)}}return t}a.pkcs12FromAsn1=function(e,t,i){"string"===typeof t?(i=t,t=!0):void 0===t&&(t=!0);var o={},d=[];if(!s.validate(e,c,o,d)){var h=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw h.errors=h,h}var u={version:o.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,i={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=r.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(i[e.bagType]=l(u.safeContents,null,null,e.bagType)),void 0!==t&&(i.localKeyId=l(u.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(i.friendlyName=l(u.safeContents,"friendlyName",e.friendlyName,e.bagType)),i},getBagsByFriendlyName:function(e,t){return l(u.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return l(u.safeContents,"localKeyId",e,t)}};if(3!==o.version.charCodeAt(0)){h=new Error("PKCS#12 PFX of version other than 3 not supported.");throw h.version=o.version.charCodeAt(0),h}if(s.derToOid(o.contentType)!==n.oids.data){h=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw h.oid=s.derToOid(o.contentType),h}var m=o.content.value[0];if(m.tagClass!==s.Class.UNIVERSAL||m.type!==s.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=f(m),o.mac){var g=null,y=0,v=s.derToOid(o.macAlgorithm);switch(v){case n.oids.sha1:g=r.md.sha1.create(),y=20;break;case n.oids.sha256:g=r.md.sha256.create(),y=32;break;case n.oids.sha384:g=r.md.sha384.create(),y=48;break;case n.oids.sha512:g=r.md.sha512.create(),y=64;break;case n.oids.md5:g=r.md.md5.create(),y=16;break}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var b=new r.util.ByteBuffer(o.macSalt),w="macIterations"in o?parseInt(r.util.bytesToHex(o.macIterations),16):1,S=a.generateKey(i,b,3,w,y,g),k=r.hmac.create();k.start(g,S),k.update(m.value);var _=k.getMac();if(_.getBytes()!==o.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return p(u,m.value,t,i),u},a.toPkcs12Asn1=function(e,t,i,o){o=o||{},o.saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||o.encAlgorithm||"aes128","useMac"in o||(o.useMac=!0),"localKeyId"in o||(o.localKeyId=null),"generateLocalKeyId"in o||(o.generateLocalKeyId=!0);var c,d=o.localKeyId;if(null!==d)d=r.util.hexToBytes(d);else if(o.generateLocalKeyId)if(t){var h=r.util.isArray(t)?t[0]:t;"string"===typeof h&&(h=n.certificateFromPem(h));var u=r.md.sha1.create();u.update(s.toDer(n.certificateToAsn1(h)).getBytes()),d=u.digest().getBytes()}else d=r.random.getBytes(20);var l=[];null!==d&&l.push(s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.localKeyId).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,d)])])),"friendlyName"in o&&l.push(s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.friendlyName).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,s.Type.BMPSTRING,!1,o.friendlyName)])])),l.length>0&&(c=s.create(s.Class.UNIVERSAL,s.Type.SET,!0,l));var f=[],p=[];null!==t&&(p=r.util.isArray(t)?t:[t]);for(var m=[],g=0;g<p.length;++g){t=p[g],"string"===typeof t&&(t=n.certificateFromPem(t));var y=0===g?c:void 0,v=n.certificateToAsn1(t),b=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.certBag).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.x509Certificate).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(v).getBytes())])])]),y]);m.push(b)}if(m.length>0){var w=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,m),S=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.data).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(w).getBytes())])]);f.push(S)}var k=null;if(null!==e){var _=n.wrapRsaPrivateKey(n.privateKeyToAsn1(e));k=null===i?s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.keyBag).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[_]),c]):s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.pkcs8ShroudedKeyBag).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[n.encryptPrivateKeyInfo(_,i,o)]),c]);var O=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[k]),T=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.data).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(O).getBytes())])]);f.push(T)}var C,I=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,f);if(o.useMac){u=r.md.sha1.create();var x=new r.util.ByteBuffer(r.random.getBytes(o.saltSize)),E=o.count,A=(e=a.generateKey(i,x,3,E,20),r.hmac.create());A.start(u,e),A.update(s.toDer(I).getBytes());var N=A.getMac();C=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.sha1).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,N.getBytes())]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,x.getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(E).getBytes())])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(3).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids.data).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(I).getBytes())])]),C])},a.generateKey=r.pbe.generatePkcs12Key},da84:function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},dae8:function(e,t,i){var r=i("d014");function s(e,t){return r(t,e,0)>=0}e.exports=s},daf3:function(e,t,i){"use strict";var r=i("74d2"),s=i("02a7"),n=i("fee7"),a=n.utils,o=a.assert,c=i("13b7"),d=i("7736");function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(o(n.curves.hasOwnProperty(e),"Unknown curve "+e),e=n.curves[e]),e instanceof n.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new c(this,e)},h.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});var t=new s({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||null,entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new r(2));do{var a=new r(t.generate(i));if(!(a.cmp(n)>0))return a.iaddn(1),this.keyFromPrivate(a)}while(1)},h.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,i,n){"object"===typeof i&&(n=i,i=null),n||(n={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),c=e.toArray("be",a),h=new s({hash:this.hash,entropy:n["extraEntropy"]?o.concat(n["extraEntropy"]):o,nonce:c,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new r(1)),l=0;1;l++){var f=n.k?n.k(l):new r(h.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(y=y.umod(this.n),0!==y.cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return n.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new d({r:g,s:y,recoveryParam:v})}}}}}},h.prototype.verify=function(e,t,i,s){e=this._truncateToN(new r(e,16)),i=this.keyFromPublic(i,s),t=new d(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),h=o.mul(n).umod(this.n);if(!this.curve._maxwellTrick){var u=this.g.mulAdd(c,i.getPublic(),h);return!u.isInfinity()&&0===u.getX().umod(this.n).cmp(n)}u=this.g.jmulAdd(c,i.getPublic(),h);return!u.isInfinity()&&u.eqXToP(n)},h.prototype.recoverPubKey=function(e,t,i,s){o((3&i)===i,"The recovery param is more than two bits"),t=new d(t,s);var n=this.n,a=new r(e),c=t.r,h=t.s,u=1&i,l=i>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");c=l?this.curve.pointFromX(c.add(this.curve.n),u):this.curve.pointFromX(c,u);var f=t.r.invm(n),p=n.sub(a).mul(f).umod(n),m=h.mul(f).umod(n);return this.g.mulAdd(p,c,m)},h.prototype.getKeyRecoveryParam=function(e,t,i,r){if(t=new d(t,r),null!==t.recoveryParam)return t.recoveryParam;for(var s=0;s<4;s++){var n;try{n=this.recoverPubKey(e,t,s)}catch(e){continue}if(n.eq(i))return s}throw new Error("Unable to find valid recovery factor")}},dafe:function(e,t){function i(e,t,i){var r=0,s=i.length;while(r<s){if(e(t,i[r]))return!0;r+=1}return!1}e.exports=i},db42:function(e,t,i){},dbb4:function(e,t,i){var r=i("23e7"),s=i("83ab"),n=i("56ef"),a=i("fc6a"),o=i("06cf"),c=i("8418");r({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){var t,i,r=a(e),s=o.f,d=n(r),h={},u=0;while(d.length>u)i=s(r,t=d[u++]),void 0!==i&&c(h,t,i);return h}})},dbd3:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ExchangeNotAvailable:n,BadResponse:a,BadRequest:o,InvalidOrder:c,InsufficientFunds:d,AuthenticationError:h,ArgumentsRequired:u,InvalidAddress:l,RateLimitExceeded:f,DDoSProtection:p,BadSymbol:m}=i("74b0"),{TRUNCATE:g,TICK_SIZE:y}=i("5ea4"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"probit",name:"ProBit",countries:["SC","KR"],rateLimit:250,has:{CORS:!0,fetchTime:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchTickers:!0,fetchTicker:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTrades:!0,fetchBalance:!0,createOrder:!0,createMarketOrder:!0,cancelOrder:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0,signIn:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"1W","1M":"1M"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/79268032-c4379480-7ea2-11ea-80b3-dd96bb29fd0d.jpg",api:{accounts:"https://accounts.probit.com",public:"https://api.probit.com/api/exchange",private:"https://api.probit.com/api/exchange"},www:"https://www.probit.com",doc:["https://docs-en.probit.com","https://docs-ko.probit.com"],fees:"https://support.probit.com/hc/en-us/articles/360020968611-Trading-Fees",referral:"https://www.probit.com/r/34608773"},api:{public:{get:["market","currency","currency_with_platform","time","ticker","order_book","trade","candle"]},private:{post:["new_order","cancel_order","withdrawal"],get:["balance","order","open_order","order_history","trade_history","deposit_address"]},accounts:{post:["token"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{UNAUTHORIZED:h,INVALID_ARGUMENT:o,TRADING_UNAVAILABLE:n,NOT_ENOUGH_BALANCE:d,NOT_ALLOWED_COMBINATION:o,INVALID_ORDER:c,RATE_LIMIT_EXCEEDED:f,MARKET_UNAVAILABLE:n,INVALID_MARKET:m,MARKET_CLOSED:m,MARKET_NOT_FOUND:m,INVALID_CURRENCY:o,TOO_MANY_OPEN_ORDERS:p,DUPLICATE_ADDRESS:l}},requiredCredentials:{apiKey:!0,secret:!0},precisionMode:y,options:{createMarketBuyOrderRequiresPrice:!0,timeInForce:{limit:"gtc",market:"ioc"}},commonCurrencies:{AUTO:"Cube",BCC:"BCC",BTCBEAR:"BEAR",BTCBULL:"BULL",CBC:"CryptoBharatCoin",EPS:"Epanus",HBC:"Hybrid Bank Cash",ORC:"Oracle System",SOC:"Soda Coin",UNI:"UNICORN Token"}})}async fetchMarkets(e={}){const t=await this.publicGetMarket(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),n=this.safeString(e,"base_currency_id"),a=this.safeString(e,"quote_currency_id"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(e,"closed",!1),u=!h,l=this.safeString(e,"quantity_precision"),f=this.safeString(e,"cost_precision"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:this.parseNumber(p),price:this.safeNumber(e,"price_increment"),cost:this.parseNumber(m)},y=this.safeString(e,"taker_fee_rate"),b=v.stringDiv(y,"100"),w=this.safeString(e,"maker_fee_rate"),S=v.stringDiv(w,"100");r.push({id:t,info:e,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:u,precision:g,taker:this.parseNumber(b),maker:this.parseNumber(S),limits:{amount:{min:this.safeNumber(e,"min_quantity"),max:this.safeNumber(e,"max_quantity")},price:{min:this.safeNumber(e,"min_price"),max:this.safeNumber(e,"max_price")},cost:{min:this.safeNumber(e,"min_cost"),max:this.safeNumber(e,"max_cost")}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencyWithPlatform(e),i=this.safeValue(t,"data"),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),n=this.safeCurrencyCode(t),a=this.safeValue(e,"display_name"),o=this.safeString(a,"en-us"),c=this.safeValue(e,"platform",[]),d=this.sortBy(c,"priority"),h=this.safeValue(d,0,{}),u=this.safeInteger(h,"precision"),l=this.safeValue(h,"deposit_suspended"),f=this.safeValue(h,"withdrawal_suspended"),p=!(l&&f),m=this.safeValue(h,"withdrawal_fee",{}),g=[];for(let i=0;i<m.length;i++){const e=m[i],t=this.safeNumber(e,"amount"),r=this.safeInteger(e,"priority");void 0!==t&&void 0!==r&&g.push(e)}const y=this.sortBy(g,"priority"),v=this.safeValue(y,0,{}),b=this.safeNumber(v,"amount");r[n]={id:t,code:n,info:e,name:o,active:p,fee:b,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},deposit:{min:this.safeNumber(h,"min_deposit_amount"),max:void 0},withdraw:{min:this.safeNumber(h,"min_withdrawal_amount"),max:void 0}}}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency_id"),n=this.safeCurrencyCode(t),a=this.account();a["total"]=this.safeString(e,"total"),a["free"]=this.safeString(e,"available"),i[n]=a}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market_id:r["id"]},n=await this.publicGetOrderBook(this.extend(s,i)),a=this.safeValue(n,"data",[]),o=this.groupBy(a,"side");return this.parseOrderBook(o,e,void 0,"buy","sell","price","quantity")}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["market_ids"]=t.join(",")}const r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data",[]);return this.parseTickers(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_ids:i["id"]},s=await this.publicGetTicker(this.extend(r,t)),n=this.safeValue(s,"data",[]),o=this.safeValue(n,0);if(void 0===o)throw new a(this.id+" fetchTicker() returned an empty response");return this.parseTicker(o,i)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeString(e,"market_id"),s=this.safeSymbol(r,t,"-"),n=this.safeNumber(e,"last"),a=this.safeNumber(e,"change");let o=void 0,c=void 0;void 0!==a&&void 0!==n&&(c=n-a,o=a/c*100);const d=this.safeNumber(e,"base_volume"),h=this.safeNumber(e,"quote_volume"),u=this.vwap(d,h);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:u,open:c,close:n,last:n,previousClose:void 0,change:a,percentage:o,average:void 0,baseVolume:d,quoteVolume:h,info:e}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={limit:100,start_time:this.iso8601(0),end_time:this.iso8601(this.milliseconds())};void 0!==e&&(s=this.market(e),n["market_id"]=s["id"]),void 0!==t&&(n["start_time"]=this.iso8601(t)),void 0!==i&&(n["limit"]=i);const a=await this.privateGetTradeHistory(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market_id:s["id"],limit:100,start_time:"1970-01-01T00:00:00.000Z",end_time:this.iso8601(this.milliseconds())};void 0!==t&&(n["start_time"]=this.iso8601(t)),void 0!==i&&(n["limit"]=i);const a=await this.publicGetTrade(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeString(e,"id");let s=void 0;if(void 0!==r){const e=r.split(":");s=this.safeString(e,0)}s=this.safeString(e,"market_id",s);const n=this.safeSymbol(s,t,"-"),a=this.safeString(e,"side"),o=this.safeString(e,"price"),c=this.safeString(e,"quantity"),d=this.parseNumber(o),h=this.parseNumber(c),u=this.parseNumber(v.stringMul(o,c)),l=this.safeString(e,"order_id"),f=this.safeNumber(e,"fee_amount");let p=void 0;if(void 0!==f){const t=this.safeString(e,"fee_currency_id"),i=this.safeCurrencyCode(t);p={cost:f,currency:i}}return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:n,order:l,type:void 0,side:a,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:p}}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.parse8601(this.safeString(t,"data"));return i}normalizeOHLCVTimestamp(e,t,i=!1){const r=this.parseTimeframe(t);if("1M"===t){const t=this.iso8601(e),r=t.split("-"),s=this.safeString(r,0);let n=this.safeInteger(r,1);return i&&(n=this.sum(n,1)),n=n<10?"0"+n.toString():n.toString(),s+"-"+n+"-01T00:00:00.000Z"}if("1w"===t){e=parseInt(e/1e3);const t=259200,s=e-t,n=Math.floor(s/r);let a=this.sum(t,n*r);return i&&(a=this.sum(a,r)),this.iso8601(1e3*a)}return e=parseInt(e/1e3),e=r*parseInt(e/r),i&&(e=this.sum(e,r)),this.iso8601(1e3*e)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=this.timeframes[t];r=void 0===r?100:r;let o=this.sum(r,1);o=Math.min(1e3,o);const c={market_ids:n["id"],interval:a,sort:"asc",limit:o},d=this.milliseconds(),h=this.parseTimeframe(t);let l=i,f=d;if(void 0===i){if(void 0===r)throw new u(this.id+" fetchOHLCV() requires either a since argument or a limit argument");l=d-r*h*1e3}else f=void 0===r?d:this.sum(i,this.sum(r,1)*h*1e3);const p=this.normalizeOHLCVTimestamp(l,t),m=this.normalizeOHLCVTimestamp(f,t,!0);c["start_time"]=p,c["end_time"]=m;const g=await this.publicGetCandle(this.extend(c,s)),y=this.safeValue(g,"data",[]);return this.parseOHLCVs(y,n,t,i,r)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"start_time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"base_volume")]}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),t=this.parse8601(t);const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["market_id"]=n["id"]);const a=await this.privateGetOpenOrder(this.extend(s,r)),o=this.safeValue(a,"data");return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={start_time:this.iso8601(0),end_time:this.iso8601(this.milliseconds()),limit:100};let n=void 0;void 0!==e&&(n=this.market(e),s["market_id"]=n["id"]),t&&(s["start_time"]=this.iso8601(t)),i&&(s["limit"]=i);const a=await this.privateGetOrderHistory(this.extend(s,r)),o=this.safeValue(a,"data");return this.parseOrders(o,n,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={market_id:r["id"]},n=this.safeString2(i,"clientOrderId","client_order_id");void 0!==n?s["client_order_id"]=n:s["order_id"]=e;const a=this.omit(i,["clientOrderId","client_order_id"]),o=await this.privateGetOrder(this.extend(s,a)),c=this.safeValue(o,"data",[]),d=this.safeValue(c,0);return this.parseOrder(d,r)}parseOrderStatus(e){const t={open:"open",cancelled:"canceled",filled:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"id"),s=this.safeString(e,"type"),n=this.safeString(e,"side"),a=this.safeString(e,"market_id"),o=this.safeSymbol(a,t,"-"),c=this.parse8601(this.safeString(e,"time"));let d=this.safeNumber(e,"limit_price");const h=this.safeNumber(e,"filled_quantity");let u=this.safeNumber(e,"open_quantity");const l=this.safeNumber(e,"cancelled_quantity");void 0!==l&&(u=this.sum(u,l));const f=this.safeNumber(e,"quantity",this.sum(h,u)),p=this.safeNumber2(e,"filled_cost","cost");"market"===s&&(d=void 0);let m=this.safeString(e,"client_order_id");""===m&&(m=void 0);const g=this.safeStringUpper(e,"time_in_force");return this.safeOrder({id:r,info:e,clientOrderId:m,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:s,timeInForce:g,side:n,status:i,price:d,stopPrice:void 0,amount:f,filled:h,remaining:u,average:void 0,cost:p,fee:void 0,trades:void 0})}costToPrecision(e,t){return this.decimalToPrecision(t,g,this.markets[e]["precision"]["cost"],this.precisionMode)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=this.safeValue(this.options,"timeInForce"),d=this.safeValue(o,t),h=this.safeString2(n,"timeInForce","time_in_force",d),u={market_id:a["id"],type:t,side:i,time_in_force:h},l=this.safeString2(n,"clientOrderId","client_order_id");void 0!==l&&(u["client_order_id"]=l);let f=void 0;if("limit"===t)u["limit_price"]=this.priceToPrecision(e,s),u["quantity"]=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){let t=this.safeNumber(n,"cost");const i=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(i){if(void 0!==s)void 0===t&&(t=r*s);else if(void 0===t)throw new c(this.id+" createOrder() requires the price argument for market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'cost' extra parameter (the exchange-specific behaviour)")}else t=void 0===t?r:t;f=this.costToPrecision(e,t),u["cost"]=f}else u["quantity"]=this.amountToPrecision(e,r);const p=this.omit(n,["timeInForce","time_in_force","clientOrderId","client_order_id"]),m=await this.privatePostNewOrder(this.extend(u,p)),g=this.safeValue(m,"data"),y=this.parseOrder(g,a);return"market"===t&&"buy"===i&&(y["amount"]=void 0,y["cost"]=parseFloat(f),y["remaining"]=void 0),y}async cancelOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={market_id:r["id"],order_id:e},n=await this.privatePostCancelOrder(this.extend(s,i)),a=this.safeValue(n,"data");return this.parseOrder(a)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"destination_tag"),s=this.safeString(e,"currency_id"),n=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:n,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency_id:i["id"]},s=await this.privateGetDepositAddress(this.extend(r,t)),n=this.safeValue(s,"data",[]),a=this.safeValue(n,0);if(void 0===a)throw new l(this.id+" fetchDepositAddress returned an empty response");return this.parseDepositAddress(a,i)}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i={};if(e){const t=[];for(let i=0;i<e.length;i++){const r=this.currency(e[i]);t.push(r["id"])}i["currency_id"]=e.join(",")}const r=await this.privateGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data",[]);return this.parseDepositAddresses(s)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);void 0===r&&(r="");const a={currency_id:n["id"],address:i,destination_tag:r,amount:this.currencyToPrecision(e,t)},o=await this.privatePostWithdrawal(this.extend(a,s)),c=this.safeValue(o,"data");return this.parseTransaction(c,n)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeNumber(e,"amount"),s=this.safeString(e,"address"),n=this.safeString(e,"destination_tag"),a=this.safeString(e,"hash"),o=this.parse8601(this.safeString(e,"time")),c=this.safeString(e,"type"),d=this.safeString(e,"currency_id"),h=this.safeCurrencyCode(d),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"fee");let f=void 0;return void 0!==l&&0!==l&&(f={currency:h,cost:l}),{id:i,currency:h,amount:r,addressFrom:void 0,address:s,addressTo:s,tagFrom:void 0,tag:n,tagTo:n,status:u,type:c,txid:a,timestamp:o,datetime:this.iso8601(o),fee:f,info:e}}parseTransactionStatus(e){const t={requested:"pending",pending:"pending",confirming:"pending",confirmed:"pending",applying:"pending",done:"ok",cancelled:"canceled",cancelling:"canceled"};return this.safeString(t,e,e)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/";const o=this.omit(r,this.extractParams(e));if("accounts"===t){this.checkRequiredCredentials(),a+=this.implodeParams(e,r);const t=this.apiKey+":"+this.secret,i=this.stringToBase64(t);s={Authorization:"Basic "+this.decode(i),"Content-Type":"application/json"},Object.keys(o).length&&(n=this.json(o))}else if(a+=this.version+"/","public"===t)a+=this.implodeParams(e,r),Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("private"===t){const t=this.milliseconds();this.checkRequiredCredentials();const c=this.safeInteger(this.options,"expires");if(void 0===c||c<t)throw new h(this.id+" access token expired, call signIn() method");const d=this.safeString(this.options,"accessToken");s={Authorization:"Bearer "+d},a+=this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(n=this.json(o),s["Content-Type"]="application/json")}return{url:a,method:i,body:n,headers:s}}async signIn(e={}){this.checkRequiredCredentials();const t={grant_type:"client_credentials"},i=await this.accountsPostToken(this.extend(t,e)),r=this.safeInteger(i,"expires_in"),s=this.safeString(i,"access_token");return this.options["accessToken"]=s,this.options["expires"]=this.sum(this.milliseconds(),1e3*r),i}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"errorCode"in o){const e=this.safeString(o,"errorCode"),t=this.safeString(o,"message");if(void 0!==e){const i=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["exact"],e,i),new s(i)}}}}},dc14:function(e,t,i){"use strict";(function(t,r){var s=i("966d");function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){D(t,e)}}e.exports=b;var a,o=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:s.nextTick;b.WritableState=v;var c=Object.create(i("3a7c"));c.inherits=i("3fb5");var d={deprecate:i("b7d1")},h=i("429b"),u=i("8707").Buffer,l=r.Uint8Array||function(){};function f(e){return u.from(e)}function p(e){return u.isBuffer(e)||e instanceof l}var m,g=i("4681");function y(){}function v(e,t){a=a||i("b19a"),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var s=e.highWaterMark,o=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:r&&(o||0===o)?o:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){I(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function b(e){if(a=a||i("b19a"),!m.call(b,this)&&!(this instanceof a))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),h.call(this)}function w(e,t){var i=new Error("write after end");e.emit("error",i),s.nextTick(t,i)}function S(e,t,i,r){var n=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"===typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),s.nextTick(r,a),n=!1),n}function k(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,i)),t}function _(e,t,i,r,s,n){if(!i){var a=k(t,r,s);r!==a&&(i=!0,s="buffer",r=a)}var o=t.objectMode?1:r.length;t.length+=o;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:s,isBuf:i,callback:n,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,o,r,s,n);return c}function O(e,t,i,r,s,n,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(s,t.onwrite):e._write(s,n,t.onwrite),t.sync=!1}function T(e,t,i,r,n){--t.pendingcb,i?(s.nextTick(n,r),s.nextTick(B,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(n(r),e._writableState.errorEmitted=!0,e.emit("error",r),B(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function I(e,t){var i=e._writableState,r=i.sync,s=i.writecb;if(C(i),t)T(e,i,r,t,s);else{var n=N(i);n||i.corked||i.bufferProcessing||!i.bufferedRequest||A(e,i),r?o(x,e,i,n,s):x(e,i,n,s)}}function x(e,t,i,r){i||E(e,t),t.pendingcb--,r(),B(e,t)}function E(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,s=new Array(r),a=t.corkedRequestsFree;a.entry=i;var o=0,c=!0;while(i)s[o]=i,i.isBuf||(c=!1),i=i.next,o+=1;s.allBuffers=c,O(e,t,!0,t.length,s,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{while(i){var d=i.chunk,h=i.encoding,u=i.callback,l=t.objectMode?1:d.length;if(O(e,t,!1,l,d,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),B(e,t)}))}function P(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(M,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function B(e,t){var i=N(t);return i&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}function R(e,t,i){t.ending=!0,B(e,t),i&&(t.finished?s.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function D(e,t,i){var r=e.entry;e.entry=null;while(r){var s=r.callback;t.pendingcb--,s(i),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}c.inherits(b,h),v.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):m=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,i){var r=this._writableState,s=!1,n=!r.objectMode&&p(e);return n&&!u.isBuffer(e)&&(e=f(e)),"function"===typeof t&&(i=t,t=null),n?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof i&&(i=y),r.ended?w(this,i):(n||S(this,r,e,i))&&(r.pendingcb++,s=_(this,r,n,e,t,i)),s},b.prototype.cork=function(){var e=this._writableState;e.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,i){var r=this._writableState;"function"===typeof e?(i=e,e=null,t=null):"function"===typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||R(this,r,i)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i("4362"),i("c8ba"))},dc22:function(e,t,i){"use strict";function r(e,t){var i=t.value,r=t.options||{passive:!0};window.addEventListener("resize",i,r),e._onResize={callback:i,options:r},t.modifiers&&t.modifiers.quiet||i()}function s(e){if(e._onResize){var t=e._onResize,i=t.callback,r=t.options;window.removeEventListener("resize",i,r),delete e._onResize}}var n={inserted:r,unbind:s};t["a"]=n},dca8:function(e,t,i){var r=i("23e7"),s=i("bb2f"),n=i("d039"),a=i("861d"),o=i("f183").onFreeze,c=Object.freeze,d=n((function(){c(1)}));r({target:"Object",stat:!0,forced:d,sham:!s},{freeze:function(e){return c&&a(e)?c(o(e)):e}})},dd89:function(e,t,i){"use strict";function r(e){if("function"!==typeof e.getRootNode){while(e.parentNode)e=e.parentNode;return e!==document?null:document}var t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}i.d(t,"a",(function(){return r}))},ddb0:function(e,t,i){var r=i("da84"),s=i("fdbc"),n=i("e260"),a=i("9112"),o=i("b622"),c=o("iterator"),d=o("toStringTag"),h=n.values;for(var u in s){var l=r[u],f=l&&l.prototype;if(f){if(f[c]!==h)try{a(f,c,h)}catch(m){f[c]=h}if(f[d]||a(f,d,u),s[u])for(var p in n)if(f[p]!==n[p])try{a(f,p,n[p])}catch(m){f[p]=n[p]}}}},de46:function(e,t,i){var r=i("5259");i("c7e6"),i("6497");var s=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=s,s.create=function(){a||o();var e=null,t=r.util.createBuffer(),i=new Array(80),s={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var i=s.messageLengthSize/4,n=0;n<i;++n)s.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},s}};return s.start(),s.update=function(n,a){"utf8"===a&&(n=r.util.encodeUtf8(n));var o=n.length;s.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var d=s.fullMessageLength.length-1;d>=0;--d)s.fullMessageLength[d]+=o[1],o[1]=o[0]+(s.fullMessageLength[d]/4294967296>>>0),s.fullMessageLength[d]=s.fullMessageLength[d]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(n),c(e,i,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var o,d,h=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=h&s.blockLength-1;a.putBytes(n.substr(0,s.blockLength-u));for(var l=8*s.fullMessageLength[0],f=0;f<s.fullMessageLength.length-1;++f)o=8*s.fullMessageLength[f+1],d=o/4294967296>>>0,l+=d,a.putInt32(l>>>0),l=o>>>0;a.putInt32(l);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};c(p,i,a);var m=r.util.createBuffer();return m.putInt32(p.h0),m.putInt32(p.h1),m.putInt32(p.h2),m.putInt32(p.h3),m.putInt32(p.h4),m},s};var n=null,a=!1;function o(){n=String.fromCharCode(128),n+=r.util.fillString(String.fromCharCode(0),64),a=!0}function c(e,t,i){var r,s,n,a,o,c,d,h,u=i.length();while(u>=64){for(s=e.h0,n=e.h1,a=e.h2,o=e.h3,c=e.h4,h=0;h<16;++h)r=i.getInt32(),t[h]=r,d=o^n&(a^o),r=(s<<5|s>>>27)+d+c+1518500249+r,c=o,o=a,a=(n<<30|n>>>2)>>>0,n=s,s=r;for(;h<20;++h)r=t[h-3]^t[h-8]^t[h-14]^t[h-16],r=r<<1|r>>>31,t[h]=r,d=o^n&(a^o),r=(s<<5|s>>>27)+d+c+1518500249+r,c=o,o=a,a=(n<<30|n>>>2)>>>0,n=s,s=r;for(;h<32;++h)r=t[h-3]^t[h-8]^t[h-14]^t[h-16],r=r<<1|r>>>31,t[h]=r,d=n^a^o,r=(s<<5|s>>>27)+d+c+1859775393+r,c=o,o=a,a=(n<<30|n>>>2)>>>0,n=s,s=r;for(;h<40;++h)r=t[h-6]^t[h-16]^t[h-28]^t[h-32],r=r<<2|r>>>30,t[h]=r,d=n^a^o,r=(s<<5|s>>>27)+d+c+1859775393+r,c=o,o=a,a=(n<<30|n>>>2)>>>0,n=s,s=r;for(;h<60;++h)r=t[h-6]^t[h-16]^t[h-28]^t[h-32],r=r<<2|r>>>30,t[h]=r,d=n&a|o&(n^a),r=(s<<5|s>>>27)+d+c+2400959708+r,c=o,o=a,a=(n<<30|n>>>2)>>>0,n=s,s=r;for(;h<80;++h)r=t[h-6]^t[h-16]^t[h-28]^t[h-32],r=r<<2|r>>>30,t[h]=r,d=n^a^o,r=(s<<5|s>>>27)+d+c+3395469782+r,c=o,o=a,a=(n<<30|n>>>2)>>>0,n=s,s=r;e.h0=e.h0+s|0,e.h1=e.h1+n|0,e.h2=e.h2+a|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,u-=64}}},de89:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,ExchangeNotAvailable:a,PermissionDenied:o,InvalidOrder:c,AuthenticationError:d,InsufficientFunds:h,OrderNotFound:u,DDoSProtection:l,OnMaintenance:f,RateLimitExceeded:p}=i("74b0"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitz",name:"Bit-Z",countries:["HK"],rateLimit:2e3,version:"v2",userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,createMarketOrder:!1,fetchBalance:!0,fetchDeposits:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","5d":"5day","1w":"1week","1M":"1mon"},hostname:"apiv2.bitz.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87443304-fec5e000-c5fd-11ea-98f8-ba8e67f7eaff.jpg",api:{market:"https://{hostname}",trade:"https://{hostname}",assets:"https://{hostname}"},www:"https://www.bitz.com",doc:"https://apidocv2.bitz.plus/en/",fees:"https://www.bitz.com/fee?type=1",referral:"https://u.bitz.com/register?invite_code=1429193"},api:{market:{get:["ticker","depth","order","tickerall","kline","symbolList","getServerTime","currencyRate","currencyCoinRate","coinRate","getContractCoin","getContractKline","getContractOrderBook","getContractTradesHistory","getContractTickers"]},trade:{post:["addEntrustSheet","cancelEntrustSheet","cancelAllEntrustSheet","coinOut","getUserHistoryEntrustSheet","getUserNowEntrustSheet","getEntrustSheetInfo","depositOrWithdraw","getCoinAddress","getCoinAddressList","marketTrade","addEntrustSheetBatch"]},assets:{post:["getUserAssets"]},contract:{post:["addContractTrade","cancelContractTrade","getContractActivePositions","getContractAccountInfo","getContractMyPositions","getContractOrderResult","getContractTradeResult","getContractOrder","getContractMyHistoryTrade","getContractMyTrades"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{fetchOHLCVVolume:!0,fetchOHLCVWarning:!0,lastNonceTimestamp:0},commonCurrencies:{BOX:"BOX Token",LEO:"LeoCoin",XRB:"NANO",PXC:"Pixiecoin",VTC:"VoteCoin",TTC:"TimesChain"},exceptions:{"-102":s,"-103":d,"-104":a,"-105":d,"-106":a,"-109":d,"-110":l,"-111":o,"-112":f,"-114":p,"-117":d,"-100015":d,"-100044":s,"-100101":s,"-100201":s,"-100301":s,"-100401":s,"-100302":s,"-100303":s,"-200003":d,"-200005":o,"-200025":a,"-200027":c,"-200028":c,"-200029":c,"-200030":c,"-200031":h,"-200032":s,"-200033":s,"-200034":u,"-200035":u,"-200037":c,"-200038":s,"-200055":u,"-300069":d,"-300101":s,"-300102":c,"-300103":d,"-301001":a}})}async fetchMarkets(e={}){const t=await this.marketGetSymbolList(e),i=this.safeValue(t,"data"),r=Object.keys(i),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=i[e],a=this.safeString(t,"id"),o=this.safeString(t,"coinFrom"),c=this.safeString(t,"coinTo");let d=o.toUpperCase(),h=c.toUpperCase();d=this.safeCurrencyCode(d),h=this.safeCurrencyCode(h);const u=d+"/"+h,l=this.safeString(t,"priceFloat"),f=this.parsePrecision(l),p={amount:this.safeInteger(t,"numberFloat"),price:parseInt(l)},g=this.safeString(t,"minTrade");s.push({info:t,id:e,numericId:a,symbol:u,base:d,quote:h,baseId:o,quoteId:c,active:!0,precision:p,limits:{amount:{min:this.parseNumber(g),max:this.safeNumber(t,"maxTrade")},price:{min:this.parseNumber(f),max:void 0},cost:{min:this.parseNumber(m.stringMul(f,g)),max:void 0}}})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.assetsPostGetUserAssets(e),i=this.safeValue(t["data"],"info"),r=this.parseMicrotime(this.safeString(t,"microtime")),s={info:t,timestamp:r,datetime:this.iso8601(r)};for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString(e,"name"),r=this.safeCurrencyCode(t),a=this.account();a["used"]=this.safeString(e,"lock"),a["total"]=this.safeString(e,"num"),a["free"]=this.safeString(e,"over"),s[r]=a}return this.parseBalance(s,!1)}parseTicker(e,t){const i=void 0,r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"_"),n=this.safeNumber(e,"now"),a=this.safeNumber(e,"open");let o=void 0,c=void 0;return void 0!==n&&void 0!==a&&(o=n-a,c=this.sum(n,a)/2),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:this.safeNumber(e,"priceChange24h"),average:c,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}parseMicrotime(e){if(void 0===e)return e;const t=e.split(" "),i=parseFloat(t[0]),r=parseInt(t[1]),s=this.sum(r,i);return parseInt(1e3*s)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.marketGetTicker(this.extend(r,t)),n=this.parseTicker(s["data"],i),a=this.parseMicrotime(this.safeString(s,"microtime"));return this.extend(n,{timestamp:a,datetime:this.iso8601(a)})}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i["symbols"]=t.join(",")}const r=await this.marketGetTickerall(this.extend(i,t)),s=this.safeValue(r,"data"),n=this.parseMicrotime(this.safeString(r,"microtime")),a={},o=Object.keys(s);for(let c=0;c<o.length;c++){const e=o[c];let t=s[e],i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e]),t=this.parseTicker(s[e],i);let r=t["symbol"];if(void 0===r)if(void 0!==i)r=i["symbol"];else{const[t,i]=e.split("_"),s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(i);r=s+"/"+n}void 0!==r&&(a[r]=this.extend(t,{timestamp:n,datetime:this.iso8601(n)}))}return this.filterByArray(a,"symbol",e)}async fetchTime(e={}){const t=await this.marketGetGetServerTime(e);return this.safeTimestamp(t,"time")}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.marketGetDepth(this.extend(r,i)),n=this.safeValue(s,"data"),a=this.parseMicrotime(this.safeString(s,"microtime"));return this.parseOrderBook(n,e,a)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"T");let s=void 0;void 0!==t&&(s=t["symbol"]);const n=this.safeString(e,"p"),a=this.safeString(e,"n"),o=this.parseNumber(n),c=this.parseNumber(a),d=this.parseNumber(m.stringMul(n,a)),h=this.safeString(e,"s");return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:i,order:void 0,type:"limit",side:h,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.marketGetOrder(this.extend(n,r));return this.parseTrades(a["data"],s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=1e3*this.parseTimeframe(t),o=this.market(e),c={symbol:o["id"],resolution:this.timeframes[t]};if(void 0!==r)c["size"]=Math.min(r,300),void 0!==i&&(c["to"]=this.sum(i,r*a*1e3));else if(void 0!==i)throw new n(this.id+" fetchOHLCV() requires a limit argument if the since argument is specified");const d=await this.marketGetKline(this.extend(c,s)),h=this.safeValue(d,"data",{}),u=this.safeValue(h,"bars",[]);return this.parseOHLCVs(u,o,t,i,r)}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0;if(void 0===t){const i=this.safeString(e,"coinFrom"),s=this.safeString(e,"coinTo");if(void 0!==i&&void 0!==s){const e=i+"_"+s;if(e in this.markets_by_id)t=this.safeValue(this.markets_by_id,e);else{const e=this.safeCurrencyCode(i),t=this.safeCurrencyCode(s);r=e+"/"+t}}}void 0!==t&&(r=t["symbol"]);let s=this.safeString(e,"flag");void 0!==s&&(s="sale"===s?"sell":"buy");const n=this.safeNumber(e,"price"),a=this.safeNumber(e,"number"),o=this.safeNumber(e,"numberOver"),c=this.safeNumber(e,"numberDeal");let d=this.safeInteger(e,"timestamp");void 0===d&&(d=this.safeTimestamp(e,"created"));const h=this.safeNumber(e,"orderTotalPrice"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder({id:i,clientOrderId:void 0,datetime:this.iso8601(d),timestamp:d,lastTradeTimestamp:void 0,status:u,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:s,price:n,stopPrice:void 0,cost:h,amount:a,filled:c,remaining:o,trades:void 0,fee:void 0,info:e,average:void 0})}async createOrder(e,t,i,r,n,a={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" createOrder allows limit orders only");const o=this.market(e),c="buy"===i?"1":"2";if(!this.password)throw new s(this.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');const d={symbol:o["id"],type:c,price:this.priceToPrecision(e,n),number:this.amountToPrecision(e,r),tradePwd:this.password},h=await this.tradePostAddEntrustSheet(this.extend(d,a)),u=this.parseMicrotime(this.safeString(h,"microtime")),l=this.extend({timestamp:u},h["data"]);return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={entrustSheetId:e},s=await this.tradePostCancelEntrustSheet(this.extend(r,i));return s}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={ids:e.join(",")},s=await this.tradePostCancelEntrustSheet(this.extend(r,i));return s}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={entrustSheetId:e},s=await this.tradePostGetEntrustSheetInfo(this.extend(r,i));return this.parseOrder(s["data"])}async fetchOrdersWithMethod(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const a=this.market(t),o={coinFrom:a["baseId"],coinTo:a["quoteId"]};void 0!==r&&(o["page"]=1,o["pageSize"]=r),void 0!==i&&(o["startTime"]=parseInt(i/1e3));const c=await this[e](this.extend(o,s)),d=this.safeValue(c["data"],"data",[]);return this.parseOrders(d,void 0,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("tradePostGetUserNowEntrustSheet",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,i,r)}parseTransactionStatus(e){const t={1:"pending",2:"pending",3:"pending",4:"ok",5:"canceled"};return this.safeString(t,e,e)}parseTransaction(e,t){let i=this.safeInteger(e,"updated");0===i&&(i=void 0);const r=this.safeString(e,"coin"),s=this.safeCurrencyCode(r,t),n=this.safeStringLower(e,"type"),a=this.parseTransactionStatus(this.safeString(e,"status"));let o=void 0;const c=this.safeNumber(e,"network_fee");return void 0!==c&&(o={cost:c,code:s}),{id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"wallet"),tag:this.safeString(e,"memo"),type:n,amount:this.safeNumber(e,"number"),currency:s,status:a,updated:i,fee:o,info:e}}parseTransactionsByType(e,t,i,r,s){const n=[];for(let a=0;a<t.length;a++){const i=this.parseTransaction(this.extend({type:e},t[a]));n.push(i)}return this.filterByCurrencySinceLimit(n,i,r,s)}parseTransactionType(e){const t={deposit:1,withdrawal:2};return this.safeInteger(t,e,e)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsForType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsForType("withdrawal",e,t,i,r)}async fetchTransactionsForType(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets();const a=this.currency(t),o={coin:a["id"],type:this.parseTransactionType(e)};void 0!==i&&(o["startTime"]=parseInt(i/1e3).toString()),void 0!==r&&(o["page"]=1,o["pageSize"]=r);const c=await this.tradePostDepositOrWithdraw(this.extend(o,s)),d=this.safeValue(c["data"],"data",[]);return this.parseTransactionsByType(e,d,t,i,r)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a={coin:n["id"],number:this.currencyToPrecision(e,t),address:i};void 0!==r&&(a["memo"]=r);const o=await this.tradePostCoinOut(this.extend(a,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,n)}nonce(){const e=this.seconds();return e>this.options["lastNonceTimestamp"]&&(this.options["lastNonceTimestamp"]=e,this.options["lastNonce"]=1e5),this.options["lastNonce"]=this.sum(this.options["lastNonce"],1),this.options["lastNonce"]}sign(e,t="market",i="GET",r={},s,n){const a=this.implodeHostname(this.urls["api"][t]);let o=a+"/"+this.capitalize(t)+"/"+e,c=void 0;return"market"===t?(c=this.urlencode(r),c.length&&(o+="?"+c)):(this.checkRequiredCredentials(),n=this.rawencode(this.keysort(this.extend({apiKey:this.apiKey,timeStamp:this.seconds(),nonce:this.nonce()},r))),n+="&sign="+this.hash(this.encode(n+this.secret)),s={"Content-type":"application/x-www-form-urlencoded"}),{url:o,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"status");if(void 0!==h){const e=this.id+" "+a;if("200"===h){const t=this.safeInteger(o,"data");if(void 0!==t)throw this.throwExactlyMatchedException(this.exceptions,t,e),new s(e);return}throw this.throwExactlyMatchedException(this.exceptions,h,e),new s(e)}}}},deb0:function(e,t,i){var r=i("5259");r.pki=r.pki||{};var s=e.exports=r.pki.oids=r.oids=r.oids||{};function n(e,t){s[e]=t,s[t]=e}function a(e,t){s[e]=t}n("1.2.840.113549.1.1.1","rsaEncryption"),n("1.2.840.113549.1.1.4","md5WithRSAEncryption"),n("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),n("1.2.840.113549.1.1.7","RSAES-OAEP"),n("1.2.840.113549.1.1.8","mgf1"),n("1.2.840.113549.1.1.9","pSpecified"),n("1.2.840.113549.1.1.10","RSASSA-PSS"),n("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),n("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),n("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),n("1.2.840.10040.4.3","dsa-with-sha1"),n("1.3.14.3.2.7","desCBC"),n("1.3.14.3.2.26","sha1"),n("2.16.840.1.101.3.4.2.1","sha256"),n("2.16.840.1.101.3.4.2.2","sha384"),n("2.16.840.1.101.3.4.2.3","sha512"),n("1.2.840.113549.2.5","md5"),n("1.2.840.113549.1.7.1","data"),n("1.2.840.113549.1.7.2","signedData"),n("1.2.840.113549.1.7.3","envelopedData"),n("1.2.840.113549.1.7.4","signedAndEnvelopedData"),n("1.2.840.113549.1.7.5","digestedData"),n("1.2.840.113549.1.7.6","encryptedData"),n("1.2.840.113549.1.9.1","emailAddress"),n("1.2.840.113549.1.9.2","unstructuredName"),n("1.2.840.113549.1.9.3","contentType"),n("1.2.840.113549.1.9.4","messageDigest"),n("1.2.840.113549.1.9.5","signingTime"),n("1.2.840.113549.1.9.6","counterSignature"),n("1.2.840.113549.1.9.7","challengePassword"),n("1.2.840.113549.1.9.8","unstructuredAddress"),n("1.2.840.113549.1.9.14","extensionRequest"),n("1.2.840.113549.1.9.20","friendlyName"),n("1.2.840.113549.1.9.21","localKeyId"),n("1.2.840.113549.1.9.22.1","x509Certificate"),n("1.2.840.113549.1.12.10.1.1","keyBag"),n("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),n("1.2.840.113549.1.12.10.1.3","certBag"),n("1.2.840.113549.1.12.10.1.4","crlBag"),n("1.2.840.113549.1.12.10.1.5","secretBag"),n("1.2.840.113549.1.12.10.1.6","safeContentsBag"),n("1.2.840.113549.1.5.13","pkcs5PBES2"),n("1.2.840.113549.1.5.12","pkcs5PBKDF2"),n("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),n("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),n("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),n("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),n("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),n("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),n("1.2.840.113549.2.7","hmacWithSHA1"),n("1.2.840.113549.2.8","hmacWithSHA224"),n("1.2.840.113549.2.9","hmacWithSHA256"),n("1.2.840.113549.2.10","hmacWithSHA384"),n("1.2.840.113549.2.11","hmacWithSHA512"),n("1.2.840.113549.3.7","des-EDE3-CBC"),n("2.16.840.1.101.3.4.1.2","aes128-CBC"),n("2.16.840.1.101.3.4.1.22","aes192-CBC"),n("2.16.840.1.101.3.4.1.42","aes256-CBC"),n("2.5.4.3","commonName"),n("2.5.4.5","serialName"),n("2.5.4.6","countryName"),n("2.5.4.7","localityName"),n("2.5.4.8","stateOrProvinceName"),n("2.5.4.10","organizationName"),n("2.5.4.11","organizationalUnitName"),n("2.5.4.13","description"),n("2.16.840.1.113730.1.1","nsCertType"),n("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),n("2.5.29.14","subjectKeyIdentifier"),n("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),n("2.5.29.17","subjectAltName"),n("2.5.29.18","issuerAltName"),n("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),n("2.5.29.31","cRLDistributionPoints"),n("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),n("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),n("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),n("1.3.6.1.4.1.11129.2.4.2","timestampList"),n("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),n("1.3.6.1.5.5.7.3.1","serverAuth"),n("1.3.6.1.5.5.7.3.2","clientAuth"),n("1.3.6.1.5.5.7.3.3","codeSigning"),n("1.3.6.1.5.5.7.3.4","emailProtection"),n("1.3.6.1.5.5.7.3.8","timeStamping")},df75:function(e,t,i){var r=i("ca84"),s=i("7839");e.exports=Object.keys||function(e){return r(e,s)}},df7c:function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var s=e[r];"."===s?e.splice(r,1):".."===s?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,i=0,r=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){i=t+1;break}}else-1===r&&(s=!1,r=t+1);return-1===r?"":e.slice(i,r)}function s(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}t.resolve=function(){for(var t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var a=n>=0?arguments[n]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=i(s(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===n(e,-1);return e=i(s(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(s(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var i=e.length-1;i>=0;i--)if(""!==e[i])break;return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var s=r(e.split("/")),n=r(i.split("/")),a=Math.min(s.length,n.length),o=a,c=0;c<a;c++)if(s[c]!==n[c]){o=c;break}var d=[];for(c=o;c<s.length;c++)d.push("..");return d=d.concat(n.slice(o)),d.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,s=!0,n=e.length-1;n>=1;--n)if(t=e.charCodeAt(n),47===t){if(!s){r=n;break}}else s=!1;return-1===r?i?"/":".":i&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var i=r(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,i=0,r=-1,s=!0,n=0,a=e.length-1;a>=0;--a){var o=e.charCodeAt(a);if(47!==o)-1===r&&(s=!1,r=a+1),46===o?-1===t?t=a:1!==n&&(n=1):-1!==t&&(n=-1);else if(!s){i=a+1;break}}return-1===t||-1===r||0===n||1===n&&t===r-1&&t===i+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i("4362"))},df86:function(e,t,i){},e01a:function(e,t,i){"use strict";var r=i("23e7"),s=i("83ab"),n=i("da84"),a=i("5135"),o=i("861d"),c=i("9bf2").f,d=i("e893"),h=n.Symbol;if(s&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var u={},l=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof l?new h(e):void 0===e?h():h(e);return""===e&&(u[t]=!0),t};d(l,h);var f=l.prototype=h.prototype;f.constructor=l;var p=f.toString,m="Symbol(test)"==String(h("test")),g=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=p.call(e);if(a(u,e))return"";var i=m?t.slice(7,-1):t.replace(g,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:l})}},e099:function(e,t,i){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,o){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"===typeof e?n(a(e),(function(a){var o=encodeURIComponent(r(a))+i;return s(e[a])?n(e[a],(function(e){return o+encodeURIComponent(r(e))})).join(t):o+encodeURIComponent(r(e[a]))})).join(t):o?encodeURIComponent(r(o))+i+encodeURIComponent(r(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var i=[],r=0;r<e.length;r++)i.push(t(e[r],r));return i}var a=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},e0c7:function(e,t,i){"use strict";var r=i("5530"),s=(i("0bc6"),i("7560")),n=i("58df");t["a"]=Object(n["a"])(s["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(e){return e("div",{staticClass:"v-subheader",class:Object(r["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},e10d:function(e,t,i){var r=i("70ea"),s=r((function(e){return null==e}));e.exports=s},e163:function(e,t,i){var r=i("5135"),s=i("7b0b"),n=i("f772"),a=i("e177"),o=n("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=s(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,i){var r=i("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e21e:function(e,t,i){var r=i("5259");i("6497"),r.cipher=r.cipher||{};var s=e.exports=r.cipher.modes=r.cipher.modes||{};function n(e){if("string"===typeof e&&(e=r.util.createBuffer(e)),r.util.isArray(e)&&e.length>4){var t=e;e=r.util.createBuffer();for(var i=0;i<t.length;++i)e.putByte(t[i])}return r.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}s.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},s.ecb.prototype.start=function(e){},s.ecb.prototype.encrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},s.ecb.prototype.decrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},s.ecb.prototype.pad=function(e,t){var i=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(i,i),!0},s.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var i=e.length(),r=e.at(i-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},s.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},s.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv),this._prev=this._iv.slice(0)}},s.cbc.prototype.encrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock},s.cbc.prototype.decrypt=function(e,t,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},s.cbc.prototype.pad=function(e,t){var i=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(i,i),!0},s.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var i=e.length(),r=e.at(i-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},s.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},s.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},s.cfb.prototype.encrypt=function(e,t,i){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);else{var n=(this.blockSize-r)%this.blockSize;n>0&&(n=this.blockSize-n),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(n>0)e.read-=this.blockSize;else for(s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),n>0&&!i)return t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=n,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},s.cfb.prototype.decrypt=function(e,t,i){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);else{var n=(this.blockSize-r)%this.blockSize;n>0&&(n=this.blockSize-n),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(n>0)e.read-=this.blockSize;else for(s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),n>0&&!i)return t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=n,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},s.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},s.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},s.ofb.prototype.encrypt=function(e,t,i){var r=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];else{var n=(this.blockSize-r)%this.blockSize;n>0&&(n=this.blockSize-n),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(n>0)e.read-=this.blockSize;else for(s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),n>0&&!i)return t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=n,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},s.ofb.prototype.decrypt=s.ofb.prototype.encrypt,s.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},s.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},s.ctr.prototype.encrypt=function(e,t,i){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var n=(this.blockSize-r)%this.blockSize;n>0&&(n=this.blockSize-n),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(n>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),n>0&&!i)return t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=n,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},s.ctr.prototype.decrypt=s.ctr.prototype.encrypt,s.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},s.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,i=r.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?r.util.createBuffer(e.additionalData):r.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=r.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var s=i.length();if(12===s)this._j0=[i.getInt32(),i.getInt32(),i.getInt32(),1];else{this._j0=[0,0,0,0];while(i.length()>0)this._j0=this.ghash(this._hashSubkey,this._j0,[i.getInt32(),i.getInt32(),i.getInt32(),i.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*s)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=r.util.createBuffer(t),this._aDataLength=o(8*t.length());var n=t.length()%this.blockSize;n&&t.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];while(t.length()>0)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},s.gcm.prototype.encrypt=function(e,t,i){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var n=(this.blockSize-r)%this.blockSize;n>0&&(n=this.blockSize-n),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(n<=0||i){if(i){var o=r%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),n>0&&!i)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=n,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},s.gcm.prototype.decrypt=function(e,t,i){var r=e.length();if(r<this.blockSize&&!(i&&r>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize},s.gcm.prototype.afterFinish=function(e,t){var i=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=r.util.createBuffer();var s=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,s);var n=[];this.cipher.encrypt(this._j0,n);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^n[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(i=!1),i},s.gcm.prototype.multiply=function(e,t){for(var i=[0,0,0,0],r=t.slice(0),s=0;s<128;++s){var n=e[s/32|0]&1<<31-s%32;n&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),this.pow(r,r)}return i},s.gcm.prototype.pow=function(e,t){for(var i=1&e[3],r=3;r>0;--r)t[r]=e[r]>>>1|(1&e[r-1])<<31;t[0]=e[0]>>>1,i&&(t[0]^=this._R)},s.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],i=0;i<32;++i){var r=i/8|0,s=e[r]>>>4*(7-i%8)&15,n=this._m[i][s];t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]}return t},s.gcm.prototype.ghash=function(e,t,i){return t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3],this.tableMultiply(t)},s.gcm.prototype.generateHashTable=function(e,t){for(var i=8/t,r=4*i,s=16*i,n=new Array(s),a=0;a<s;++a){var o=[0,0,0,0],c=a/r|0,d=(r-1-a%r)*t;o[c]=1<<t-1<<d,n[a]=this.generateSubHashTable(this.multiply(o,e),t)}return n},s.gcm.prototype.generateSubHashTable=function(e,t){var i=1<<t,r=i>>>1,s=new Array(i);s[r]=e.slice(0);var n=r>>>1;while(n>0)this.pow(s[2*n],s[n]=[]),n>>=1;n=2;while(n<r){for(var a=1;a<n;++a){var o=s[n],c=s[a];s[n+a]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}n*=2}for(s[0]=[0,0,0,0],n=r+1;n<i;++n){var d=s[n^r];s[n]=[e[0]^d[0],e[1]^d[1],e[2]^d[2],e[3]^d[3]]}return s}},e260:function(e,t,i){"use strict";var r=i("fc6a"),s=i("44d2"),n=i("3f8c"),a=i("69f3"),o=i("7dd0"),c="Array Iterator",d=a.set,h=a.getterFor(c);e.exports=o(Array,"Array",(function(e,t){d(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,i=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:r,done:!1}:"values"==i?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),n.Arguments=n.Array,s("keys"),s("values"),s("entries")},e283:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return ed})),i.d(t,"b",(function(){return Ko})),i.d(t,"c",(function(){return Vo})),i.d(t,"d",(function(){return od})),i.d(t,"e",(function(){return rd})),i.d(t,"f",(function(){return O})),i.d(t,"g",(function(){return sd})),i.d(t,"h",(function(){return ld})),i.d(t,"i",(function(){return ud})),i.d(t,"j",(function(){return fd})),i.d(t,"k",(function(){return Jc})),i.d(t,"l",(function(){return md})),i.d(t,"m",(function(){return vd})),i.d(t,"n",(function(){return nd})),i.d(t,"o",(function(){return gd})),i.d(t,"p",(function(){return Lo})),i.d(t,"q",(function(){return td})),i.d(t,"r",(function(){return bd}));var r=i("a2cd"),s=i("a8e9"),n=i("abfd"),a=i("c7b2"),o=function(){function e(e,t){var i=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return i.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();o.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(t,i){var r=this;return(r=e.call(this,i)||this).code=t,r.message=i,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r["b"])(t,e),t}(Error),h=new n["b"]("@firebase/firestore");function u(){return h.logLevel}function l(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(h.logLevel<=n["a"].DEBUG){var s=t.map(m);h.debug.apply(h,Object(r["d"])(["Firestore (8.7.0): "+e],s))}}function f(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(h.logLevel<=n["a"].ERROR){var s=t.map(m);h.error.apply(h,Object(r["d"])(["Firestore (8.7.0): "+e],s))}}function p(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(h.logLevel<=n["a"].WARN){var s=t.map(m);h.warn.apply(h,Object(r["d"])(["Firestore (8.7.0): "+e],s))}}function m(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function y(e,t){e||g()}function v(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(var r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var r=b(40),s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length));return i},e}();function S(e,t){return e<t?-1:e>t?1:0}function k(e,t,i){return e.length===t.length&&e.every((function(e,r){return i(e,t[r])}))}function _(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new d(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new d(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new d(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new d(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var i=Math.floor(t/1e3);return new e(i,Math.floor(1e6*(t-1e3*i)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?S(this.nanoseconds,e.nanoseconds):S(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),T=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new O(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(e){var t=0;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function I(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function x(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(){function e(e,t,i){void 0===t?t=0:t>e.length&&g(),void 0===i?i=e.length-t:i>e.length-t&&g(),this.segments=e,this.offset=t,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var i=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){i.push(e)})):i.push(t),this.construct(i)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var i=Math.min(e.length,t.length),r=0;r<i;r++){var s=e.get(r),n=t.get(r);if(s<n)return-1;if(s>n)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype.construct=function(e,i,r){return new t(e,i,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var r=[],s=0,n=e;s<n.length;s++){var a=n[s];if(a.indexOf("//")>=0)throw new d(c.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(E),N=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype.construct=function(e,i,r){return new t(e,i,r)},t.isValidIdentifier=function(e){return N.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var i=[],r="",s=0,n=function(){if(0===r.length)throw new d(c.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(r),r=""},a=!1;s<e.length;){var o=e[s];if("\\"===o){if(s+1===e.length)throw new d(c.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var h=e[s+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new d(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else"`"===o?(a=!a,s++):"."!==o||a?(r+=o,s++):(n(),s++)}if(n(),a)throw new d(c.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(i)},t.emptyPath=function(){return new t([])},t}(E),P=function(){function e(e){this.fields=e,e.sort(M.comparator)}return e.prototype.covers=function(e){for(var t=0,i=this.fields;t<i.length;t++)if(i[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return k(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),B=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return S(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();B.EMPTY_BYTE_STRING=new B("");var R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function D(e){if(y(!!e),"string"==typeof e){var t=0,i=R.exec(e);if(y(!!i),i[1]){var r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}var s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:L(e.seconds),nanos:L(e.nanos)}}function L(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function V(e){return"string"==typeof e?B.fromBase64String(e):B.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function q(e){var t=e.mapValue.fields.__previous_value__;return j(t)?q(t):t}function U(e){var t=D(e.mapValue.fields.__local_write_time__.timestampValue);return new O(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e){return null==e}function F(e){return 0===e&&1/e==-1/0}function H(e){return"number"==typeof e&&Number.isInteger(e)&&!F(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(A.fromString(t))},e.fromName=function(t){return new e(A.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===A.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return A.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new A(t.slice()))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?j(e)?4:10:g()}function W(e,t){var i=K(e);if(i!==K(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return U(e).isEqual(U(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var i=D(e.timestampValue),r=D(t.timestampValue);return i.seconds===r.seconds&&i.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return V(e.bytesValue).isEqual(V(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return L(e.geoPointValue.latitude)===L(t.geoPointValue.latitude)&&L(e.geoPointValue.longitude)===L(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return L(e.integerValue)===L(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var i=L(e.doubleValue),r=L(t.doubleValue);return i===r?F(i)===F(r):isNaN(i)&&isNaN(r)}return!1}(e,t);case 9:return k(e.arrayValue.values||[],t.arrayValue.values||[],W);case 10:return function(e,t){var i=e.mapValue.fields||{},r=t.mapValue.fields||{};if(C(i)!==C(r))return!1;for(var s in i)if(i.hasOwnProperty(s)&&(void 0===r[s]||!W(i[s],r[s])))return!1;return!0}(e,t);default:return g()}}function $(e,t){return void 0!==(e.values||[]).find((function(e){return W(e,t)}))}function Y(e,t){var i=K(e),r=K(t);if(i!==r)return S(i,r);switch(i){case 0:return 0;case 1:return S(e.booleanValue,t.booleanValue);case 2:return function(e,t){var i=L(e.integerValue||e.doubleValue),r=L(t.integerValue||t.doubleValue);return i<r?-1:i>r?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1}(e,t);case 3:return X(e.timestampValue,t.timestampValue);case 4:return X(U(e),U(t));case 5:return S(e.stringValue,t.stringValue);case 6:return function(e,t){var i=V(e),r=V(t);return i.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var i=e.split("/"),r=t.split("/"),s=0;s<i.length&&s<r.length;s++){var n=S(i[s],r[s]);if(0!==n)return n}return S(i.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var i=S(L(e.latitude),L(t.latitude));return 0!==i?i:S(L(e.longitude),L(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var i=e.values||[],r=t.values||[],s=0;s<i.length&&s<r.length;++s){var n=Y(i[s],r[s]);if(n)return n}return S(i.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var i=e.fields||{},r=Object.keys(i),s=t.fields||{},n=Object.keys(s);r.sort(),n.sort();for(var a=0;a<r.length&&a<n.length;++a){var o=S(r[a],n[a]);if(0!==o)return o;var c=Y(i[r[a]],s[n[a]]);if(0!==c)return c}return S(r.length,n.length)}(e.mapValue,t.mapValue);default:throw g()}}function X(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return S(e,t);var i=D(e),r=D(t),s=S(i.seconds,r.seconds);return 0!==s?s:S(i.nanos,r.nanos)}function Q(e){return Z(e)}function Z(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=D(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?V(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,z.fromName(i).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",i=!0,r=0,s=e.values||[];r<s.length;r++)i?i=!1:t+=",",t+=Z(s[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",i=!0,r=0,s=Object.keys(e.fields||{}).sort();r<s.length;r++){var n=s[r];i?i=!1:t+=",",t+=n+":"+Z(e.fields[n])}return t+"}"}(e.mapValue):g();var t,i}function J(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ie(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function se(e){return!!e&&"mapValue"in e}function ne(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},D(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return I(e.mapValue.fields,(function(e,i){return t.mapValue.fields[e]=ne(i)})),t}if(e.arrayValue){for(var i={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)i.arrayValue.values[r]=ne(e.arrayValue.values[r]);return i}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,i=0;i<e.length-1;++i)if(!se(t=(t.mapValue.fields||{})[e.get(i)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ne(t)},e.prototype.setAll=function(e){var t=this,i=M.emptyPath(),r={},s=[];e.forEach((function(e,n){if(!i.isImmediateParentOf(n)){var a=t.getFieldsMap(i);t.applyChanges(a,r,s),r={},s=[],i=n.popLast()}e?r[n.lastSegment()]=ne(e):s.push(n.lastSegment())}));var n=this.getFieldsMap(i);this.applyChanges(n,r,s)},e.prototype.delete=function(e){var t=this.field(e.popLast());se(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return W(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var i=0;i<e.length;++i){var r=t.mapValue.fields[e.get(i)];se(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,i){I(t,(function(t,i){return e[t]=i}));for(var r=0,s=i;r<s.length;r++){var n=s[r];delete e[n]}},e.prototype.clone=function(){return new e(ne(this.value))},e}();function oe(e){var t=[];return I(e.fields,(function(e,i){var r=new M([e]);if(se(i)){var s=oe(i.mapValue).fields;if(0===s.length)t.push(r);else for(var n=0,a=s;n<a.length;n++){var o=a[n];t.push(r.child(o))}}else t.push(r)})),new P(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ce=function(){function e(e,t,i,r,s){this.key=e,this.documentType=t,this.version=i,this.data=r,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,T.min(),ae.empty(),0)},e.newFoundDocument=function(t,i,r){return new e(t,1,i,r,0)},e.newNoDocument=function(t,i){return new e(t,2,i,ae.empty(),0)},e.newUnknownDocument=function(t,i){return new e(t,3,i,ae.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ae.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ae.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),de=function(e,t,i,r,s,n,a){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===n&&(n=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=n,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e,t,i,r,s,n,a){return void 0===t&&(t=null),void 0===i&&(i=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===n&&(n=null),void 0===a&&(a=null),new de(e,t,i,r,s,n,a)}function ue(e){var t=v(e);if(null===t.h){var i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Q(e.value)}(e)})).join(","),i+="|ob:",i+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),G(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=Oe(t.startAt)),t.endAt&&(i+="|ub:",i+=Oe(t.endAt)),t.h=i}return t.h}function le(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var i=0;i<e.orderBy.length;i++)if(!Ce(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(s=e.filters[r],n=t.filters[r],s.op!==n.op||!s.field.isEqual(n.field)||!W(s.value,n.value))return!1;var s,n;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xe(e.startAt,t.startAt)&&xe(e.endAt,t.endAt)}function fe(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pe=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).field=t,s.op=i,s.value=r,s}return Object(r["b"])(t,e),t.create=function(e,i,r){return e.isKeyField()?"in"===i||"not-in"===i?this.l(e,i,r):new me(e,i,r):"array-contains"===i?new be(e,r):"in"===i?new we(e,r):"not-in"===i?new Se(e,r):"array-contains-any"===i?new ke(e,r):new t(e,i,r)},t.l=function(e,t,i){return"in"===t?new ge(e,i):new ye(e,i)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Y(t,this.value)):null!==t&&K(this.value)===K(t)&&this.m(Y(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),me=function(e){function t(t,i,r){var s=this;return(s=e.call(this,t,i,r)||this).key=z.fromName(r.referenceValue),s}return Object(r["b"])(t,e),t.prototype.matches=function(e){var t=z.comparator(e.key,this.key);return this.m(t)},t}(pe),ge=function(e){function t(t,i){var r=this;return(r=e.call(this,t,"in",i)||this).keys=ve("in",i),r}return Object(r["b"])(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe),ye=function(e){function t(t,i){var r=this;return(r=e.call(this,t,"not-in",i)||this).keys=ve("not-in",i),r}return Object(r["b"])(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe);function ve(e,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map((function(e){return z.fromName(e.referenceValue)}))}var be=function(e){function t(t,i){return e.call(this,t,"array-contains",i)||this}return Object(r["b"])(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&$(t.arrayValue,this.value)},t}(pe),we=function(e){function t(t,i){return e.call(this,t,"in",i)||this}return Object(r["b"])(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&$(this.value.arrayValue,t)},t}(pe),Se=function(e){function t(t,i){return e.call(this,t,"not-in",i)||this}return Object(r["b"])(t,e),t.prototype.matches=function(e){if($(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!$(this.value.arrayValue,t)},t}(pe),ke=function(e){function t(t,i){return e.call(this,t,"array-contains-any",i)||this}return Object(r["b"])(t,e),t.prototype.matches=function(e){var t=this,i=e.data.field(this.field);return!(!te(i)||!i.arrayValue.values)&&i.arrayValue.values.some((function(e){return $(t.value.arrayValue,e)}))},t}(pe),_e=function(e,t){this.position=e,this.before=t};function Oe(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Q(e)})).join(",")}var Te=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ce(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ie(e,t,i){for(var r=0,s=0;s<e.position.length;s++){var n=t[s],a=e.position[s];if(r=n.field.isKeyField()?z.comparator(z.fromName(a.referenceValue),i.key):Y(a,i.data.field(n.field)),"desc"===n.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function xe(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var i=0;i<e.position.length;i++)if(!W(e.position[i],t.position[i]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(e,t,i,r,s,n,a,o){void 0===t&&(t=null),void 0===i&&(i=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===n&&(n="F"),void 0===a&&(a=null),void 0===o&&(o=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=n,this.startAt=a,this.endAt=o,this.p=null,this.T=null,this.startAt,this.endAt};function Ae(e,t,i,r,s,n,a,o){return new Ee(e,t,i,r,s,n,a,o)}function Ne(e){return new Ee(e)}function Me(e){return!G(e.limit)&&"F"===e.limitType}function Pe(e){return!G(e.limit)&&"L"===e.limitType}function Be(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Re(e){for(var t=0,i=e.filters;t<i.length;t++){var r=i[t];if(r.g())return r.field}return null}function De(e){return null!==e.collectionGroup}function Le(e){var t=v(e);if(null===t.p){t.p=[];var i=Re(t),r=Be(t);if(null!==i&&null===r)i.isKeyField()||t.p.push(new Te(i)),t.p.push(new Te(M.keyField(),"asc"));else{for(var s=!1,n=0,a=t.explicitOrderBy;n<a.length;n++){var o=a[n];t.p.push(o),o.field.isKeyField()&&(s=!0)}if(!s){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Te(M.keyField(),c))}}}return t.p}function Ve(e){var t=v(e);if(!t.T)if("F"===t.limitType)t.T=he(t.path,t.collectionGroup,Le(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var i=[],r=0,s=Le(t);r<s.length;r++){var n=s[r],a="desc"===n.dir?"asc":"desc";i.push(new Te(n.field,a))}var o=t.endAt?new _e(t.endAt.position,!t.endAt.before):null,c=t.startAt?new _e(t.startAt.position,!t.startAt.before):null;t.T=he(t.path,t.collectionGroup,i,t.filters,t.limit,o,c)}return t.T}function je(e,t,i){return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function qe(e,t){return le(Ve(e),Ve(t))&&e.limitType===t.limitType}function Ue(e){return ue(Ve(e))+"|lt:"+e.limitType}function Ge(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Q(t.value);var t})).join(", ")+"]"),G(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Oe(e.startAt)),e.endAt&&(t+=", endAt: "+Oe(e.endAt)),"Target("+t+")"}(Ve(e))+"; limitType="+e.limitType+")"}function Fe(e,t){return t.isFoundDocument()&&function(e,t){var i=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):z.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(e,t)&&function(e,t){for(var i=0,r=e.explicitOrderBy;i<r.length;i++){var s=r[i];if(!s.field.isKeyField()&&null===t.data.field(s.field))return!1}return!0}(e,t)&&function(e,t){for(var i=0,r=e.filters;i<r.length;i++)if(!r[i].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ie(e.startAt,Le(e),t))&&(!e.endAt||!Ie(e.endAt,Le(e),t))}(e,t)}function He(e){return function(t,i){for(var r=!1,s=0,n=Le(e);s<n.length;s++){var a=n[s],o=ze(a,t,i);if(0!==o)return o;r=r||a.field.isKeyField()}return 0}}function ze(e,t,i){var r=e.field.isKeyField()?z.comparator(t.key,i.key):function(e,t,i){var r=t.data.field(e),s=i.data.field(e);return null!==r&&null!==s?Y(r,s):g()}(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(t)?"-0":t}}function We(e){return{integerValue:""+e}}function $e(e,t){return H(t)?We(t):Ke(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye=function(){this._=void 0};function Xe(e,t,i){return e instanceof Je?function(e,t){var i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(i.fields.__previous_value__=t),{mapValue:i}}(i,t):e instanceof et?tt(e,t):e instanceof it?rt(e,t):function(e,t){var i=Ze(e,t),r=nt(i)+nt(e.A);return ee(i)&&ee(e.A)?We(r):Ke(e.R,r)}(e,t)}function Qe(e,t,i){return e instanceof et?tt(e,t):e instanceof it?rt(e,t):i}function Ze(e,t){return e instanceof st?ee(i=t)||function(e){return!!e&&"doubleValue"in e}(i)?t:{integerValue:0}:null;var i}var Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t}(Ye),et=function(e){function t(t){var i=this;return(i=e.call(this)||this).elements=t,i}return Object(r["b"])(t,e),t}(Ye);function tt(e,t){for(var i=at(t),r=function(e){i.some((function(t){return W(t,e)}))||i.push(e)},s=0,n=e.elements;s<n.length;s++)r(n[s]);return{arrayValue:{values:i}}}var it=function(e){function t(t){var i=this;return(i=e.call(this)||this).elements=t,i}return Object(r["b"])(t,e),t}(Ye);function rt(e,t){for(var i=at(t),r=function(e){i=i.filter((function(t){return!W(t,e)}))},s=0,n=e.elements;s<n.length;s++)r(n[s]);return{arrayValue:{values:i}}}var st=function(e){function t(t,i){var r=this;return(r=e.call(this)||this).R=t,r.A=i,r}return Object(r["b"])(t,e),t}(Ye);function nt(e){return L(e.integerValue||e.doubleValue)}function at(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot=function(e,t){this.field=e,this.transform=t},ct=function(e,t){this.version=e,this.transformResults=t},dt=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ht(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ut=function(){};function lt(e,t,i){e instanceof yt?function(e,t,i){var r=e.value.clone(),s=wt(e.fieldTransforms,t,i.transformResults);r.setAll(s),t.convertToFoundDocument(i.version,r).setHasCommittedMutations()}(e,t,i):e instanceof vt?function(e,t,i){if(ht(e.precondition,t)){var r=wt(e.fieldTransforms,t,i.transformResults),s=t.data;s.setAll(bt(e)),s.setAll(r),t.convertToFoundDocument(i.version,s).setHasCommittedMutations()}else t.convertToUnknownDocument(i.version)}(e,t,i):function(e,t,i){t.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,i)}function ft(e,t,i){e instanceof yt?function(e,t,i){if(ht(e.precondition,t)){var r=e.value.clone(),s=St(e.fieldTransforms,i,t);r.setAll(s),t.convertToFoundDocument(gt(t),r).setHasLocalMutations()}}(e,t,i):e instanceof vt?function(e,t,i){if(ht(e.precondition,t)){var r=St(e.fieldTransforms,i,t),s=t.data;s.setAll(bt(e)),s.setAll(r),t.convertToFoundDocument(gt(t),s).setHasLocalMutations()}}(e,t,i):function(e,t){ht(e.precondition,t)&&t.convertToNoDocument(T.min())}(e,t)}function pt(e,t){for(var i=null,r=0,s=e.fieldTransforms;r<s.length;r++){var n=s[r],a=t.data.field(n.field),o=Ze(n.transform,a||null);null!=o&&(null==i&&(i=ae.empty()),i.set(n.field,o))}return i||null}function mt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&k(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof et&&t instanceof et||e instanceof it&&t instanceof it?k(e.elements,t.elements,W):e instanceof st&&t instanceof st?W(e.A,t.A):e instanceof Je&&t instanceof Je}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gt(e){return e.isFoundDocument()?e.version:T.min()}var yt=function(e){function t(t,i,r,s){void 0===s&&(s=[]);var n=this;return(n=e.call(this)||this).key=t,n.value=i,n.precondition=r,n.fieldTransforms=s,n.type=0,n}return Object(r["b"])(t,e),t}(ut),vt=function(e){function t(t,i,r,s,n){void 0===n&&(n=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=i,a.fieldMask=r,a.precondition=s,a.fieldTransforms=n,a.type=1,a}return Object(r["b"])(t,e),t}(ut);function bt(e){var t=new Map;return e.fieldMask.fields.forEach((function(i){if(!i.isEmpty()){var r=e.data.field(i);t.set(i,r)}})),t}function wt(e,t,i){var r=new Map;y(e.length===i.length);for(var s=0;s<i.length;s++){var n=e[s],a=n.transform,o=t.data.field(n.field);r.set(n.field,Qe(a,o,i[s]))}return r}function St(e,t,i){for(var r=new Map,s=0,n=e;s<n.length;s++){var a=n[s],o=a.transform,c=i.data.field(a.field);r.set(a.field,Xe(o,c,t))}return r}var kt,_t,Ot=function(e){function t(t,i){var r=this;return(r=e.call(this)||this).key=t,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return Object(r["b"])(t,e),t}(ut),Tt=function(e){function t(t,i){var r=this;return(r=e.call(this)||this).key=t,r.precondition=i,r.type=3,r.fieldTransforms=[],r}return Object(r["b"])(t,e),t}(ut),Ct=function(e){this.count=e};function It(e){switch(e){case c.OK:return g();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return g()}}function xt(e){if(void 0===e)return f("GRPC error has no .code"),c.UNKNOWN;switch(e){case kt.OK:return c.OK;case kt.CANCELLED:return c.CANCELLED;case kt.UNKNOWN:return c.UNKNOWN;case kt.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case kt.INTERNAL:return c.INTERNAL;case kt.UNAVAILABLE:return c.UNAVAILABLE;case kt.UNAUTHENTICATED:return c.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case kt.NOT_FOUND:return c.NOT_FOUND;case kt.ALREADY_EXISTS:return c.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return c.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case kt.ABORTED:return c.ABORTED;case kt.OUT_OF_RANGE:return c.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return c.UNIMPLEMENTED;case kt.DATA_LOSS:return c.DATA_LOSS;default:return g()}}(_t=kt||(kt={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Et=function(){function e(e,t){this.comparator=e,this.root=t||Nt.EMPTY}return e.prototype.insert=function(t,i){return new e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Nt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nt.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,i=this.root;!i.isEmpty();){var r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,i){return e(t,i),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,i){return e.push(t+":"+i),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new At(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new At(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new At(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new At(this.root,e,this.comparator,!0)},e}(),At=function(){function e(e,t,i,r){this.isReverse=r,this.nodeStack=[];for(var s=1;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Nt=function(){function e(t,i,r,s,n){this.key=t,this.value=i,this.color=null!=r?r:e.RED,this.left=null!=s?s:e.EMPTY,this.right=null!=n?n:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,i,r,s,n){return new e(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=n?n:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,i){var r=this,s=i(e,r.key);return(r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,i){var r,s=this;if(i(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,i),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===i(t,s.key)){if(s.right.isEmpty())return e.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,i))}return s.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)},e}();Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1,Nt.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,i,r,s){return this},e.prototype.insert=function(e,t,i){return new Nt(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mt=function(){function e(e){this.comparator=e,this.data=new Et(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,i){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Pt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Pt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var i=this.data.getIterator(),r=t.data.getIterator();i.hasNext();){var s=i.getNext().key,n=r.getNext().key;if(0!==this.comparator(s,n))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var i=new e(this.comparator);return i.data=t,i},e}(),Pt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Bt=new Et(z.comparator);function Rt(){return Bt}var Dt=new Et(z.comparator);function Lt(){return Dt}var Vt=new Et(z.comparator);function jt(){return Vt}var qt=new Mt(z.comparator);function Ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=qt,r=0,s=e;r<s.length;r++){var n=s[r];i=i.add(n)}return i}var Gt=new Mt(S);function Ft(){return Gt}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht=function(){function e(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,i){var r=new Map;return r.set(t,zt.createSynthesizedTargetChangeForCurrentChange(t,i)),new e(T.min(),r,Ft(),Rt(),Ut())},e}(),zt=function(){function e(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,i){return new e(B.EMPTY_BYTE_STRING,i,Ut(),Ut(),Ut())},e}(),Kt=function(e,t,i,r){this.v=e,this.removedTargetIds=t,this.key=i,this.P=r},Wt=function(e,t){this.targetId=e,this.V=t},$t=function(e,t,i,r){void 0===i&&(i=B.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r},Yt=function(){function e(){this.S=0,this.D=Zt(),this.C=B.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ut(),t=Ut(),i=Ut();return this.D.forEach((function(r,s){switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:g()}})),new zt(this.C,this.N,e,t,i)},e.prototype.L=function(){this.F=!1,this.D=Zt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Xt=function(){function e(e){this.W=e,this.G=new Map,this.H=Rt(),this.J=Qt(),this.Y=new Mt(S)}return e.prototype.X=function(e){for(var t=0,i=e.v;t<i.length;t++){var r=i[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var s=0,n=e.removedTargetIds;s<n.length;s++)r=n[s],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(i){var r=t.nt(i);switch(e.state){case 0:t.st(i)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(i);break;case 3:t.st(i)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(i)&&(t.it(i),r.O(e.resumeToken));break;default:g()}}))},e.prototype.forEachTarget=function(e,t){var i=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){i.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,i=e.V.count,r=this.ot(t);if(r){var s=r.target;if(fe(s))if(0===i){var n=new z(s.path);this.tt(t,n,ce.newNoDocument(n,T.min()))}else y(1===i);else this.ct(t)!==i&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,i=new Map;this.G.forEach((function(r,s){var n=t.ot(s);if(n){if(r.current&&fe(n.target)){var a=new z(n.target.path);null!==t.H.get(a)||t.at(s,a)||t.tt(s,a,ce.newNoDocument(a,e))}r.$&&(i.set(s,r.M()),r.L())}}));var r=Ut();this.J.forEach((function(e,i){var s=!0;i.forEachWhile((function(e){var i=t.ot(e);return!i||2===i.purpose||(s=!1,!1)})),s&&(r=r.add(e))}));var s=new Ht(e,i,this.Y,this.H,r);return this.H=Rt(),this.J=Qt(),this.Y=new Mt(S),s},e.prototype.Z=function(e,t){if(this.st(e)){var i=this.at(e,t.key)?2:0;this.nt(e).B(t.key,i),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,i){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),i&&(this.H=this.H.insert(t,i))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Yt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Mt(S),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||l("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Yt),this.W.getRemoteKeysForTarget(e).forEach((function(i){t.tt(e,i,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Qt(){return new Et(z.comparator)}function Zt(){return new Et(z.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt={asc:"ASCENDING",desc:"DESCENDING"},ei={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ti=function(e,t){this.databaseId=e,this.I=t};function ii(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ri(e,t){return e.I?t.toBase64():t.toUint8Array()}function si(e,t){return ii(e,t.toTimestamp())}function ni(e){return y(!!e),T.fromTimestamp(function(e){var t=D(e);return new O(t.seconds,t.nanos)}(e))}function ai(e,t){return function(e){return new A(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function oi(e){var t=A.fromString(e);return y(Ni(t)),t}function ci(e,t){return ai(e.databaseId,t.path)}function di(e,t){var i=oi(t);if(i.get(1)!==e.databaseId.projectId)throw new d(c.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new d(c.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new z(fi(i))}function hi(e,t){return ai(e.databaseId,t)}function ui(e){var t=oi(e);return 4===t.length?A.emptyPath():fi(t)}function li(e){return new A(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fi(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pi(e,t,i){return{name:ci(e,t),fields:i.value.mapValue.fields}}function mi(e,t,i){var r=di(e,t.name),s=ni(t.updateTime),n=new ae({mapValue:{fields:t.fields}}),a=ce.newFoundDocument(r,s,n);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}function gi(e,t){var i;if(t instanceof yt)i={update:pi(e,t.key,t.value)};else if(t instanceof Ot)i={delete:ci(e,t.key)};else if(t instanceof vt)i={update:pi(e,t.key,t.data),updateMask:Ai(t.fieldMask)};else{if(!(t instanceof Tt))return g();i={verify:ci(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var i=t.transform;if(i instanceof Je)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof it)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof st)return{fieldPath:t.field.canonicalString(),increment:i.A};throw g()}(0,e)}))),t.precondition.isNone||(i.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:si(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.precondition)),i}function yi(e,t){var i=t.currentDocument?function(e){return void 0!==e.updateTime?dt.updateTime(ni(e.updateTime)):void 0!==e.exists?dt.exists(e.exists):dt.none()}(t.currentDocument):dt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var i=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue),i=new Je;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];i=new et(r)}else if("removeAllFromArray"in t){var s=t.removeAllFromArray.values||[];i=new it(s)}else"increment"in t?i=new st(e,t.increment):g();var n=M.fromServerFormat(t.fieldPath);return new ot(n,i)}(e,t)})):[];if(t.update){t.update.name;var s=di(e,t.update.name),n=new ae({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new P(t.map((function(e){return M.fromServerFormat(e)})))}(t.updateMask);return new vt(s,n,a,i,r)}return new yt(s,n,i,r)}if(t.delete){var o=di(e,t.delete);return new Ot(o,i)}if(t.verify){var c=di(e,t.verify);return new Tt(c,i)}return g()}function vi(e,t){return{documents:[hi(e,t.path)]}}function bi(e,t){var i={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(i.parent=hi(e,r),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=hi(e,r.popLast()),i.structuredQuery.from=[{collectionId:r.lastSegment()}]);var s=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:Ci(e.field),op:"IS_NAN"}};if(ie(e.value))return{unaryFilter:{field:Ci(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:Ci(e.field),op:"IS_NOT_NAN"}};if(ie(e.value))return{unaryFilter:{field:Ci(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ci(e.field),op:Ti(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);s&&(i.structuredQuery.where=s);var n=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ci(e.field),direction:Oi(e.dir)}}(e)}))}(t.orderBy);n&&(i.structuredQuery.orderBy=n);var a=function(e,t){return e.I||G(t)?t:{value:t}}(e,t.limit);return null!==a&&(i.structuredQuery.limit=a),t.startAt&&(i.structuredQuery.startAt=ki(t.startAt)),t.endAt&&(i.structuredQuery.endAt=ki(t.endAt)),i}function wi(e){var t=ui(e.parent),i=e.structuredQuery,r=i.from?i.from.length:0,s=null;if(r>0){y(1===r);var n=i.from[0];n.allDescendants?s=n.collectionId:t=t.child(n.collectionId)}var a=[];i.where&&(a=Si(i.where));var o=[];i.orderBy&&(o=i.orderBy.map((function(e){return function(e){return new Te(Ii(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;i.limit&&(c=function(e){var t;return G(t="object"==typeof e?e.value:e)?null:t}(i.limit));var d=null;i.startAt&&(d=_i(i.startAt));var h=null;return i.endAt&&(h=_i(i.endAt)),Ae(t,s,o,a,c,"F",d,h)}function Si(e){return e?void 0!==e.unaryFilter?[Ei(e)]:void 0!==e.fieldFilter?[xi(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Si(e)})).reduce((function(e,t){return e.concat(t)})):g():[]}function ki(e){return{before:e.before,values:e.position}}function _i(e){var t=!!e.before,i=e.values||[];return new _e(i,t)}function Oi(e){return Jt[e]}function Ti(e){return ei[e]}function Ci(e){return{fieldPath:e.canonicalString()}}function Ii(e){return M.fromServerFormat(e.fieldPath)}function xi(e){return pe.create(Ii(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ei(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ii(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var i=Ii(e.unaryFilter.field);return pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ii(e.unaryFilter.field);return pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=Ii(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function Ai(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ni(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e){for(var t="",i=0;i<e.length;i++)t.length>0&&(t=Bi(t)),t=Pi(e.get(i),t);return Bi(t)}function Pi(e,t){for(var i=t,r=e.length,s=0;s<r;s++){var n=e.charAt(s);switch(n){case"\0":i+="";break;case"":i+="";break;default:i+=n}}return i}function Bi(e){return e+""}function Ri(e){var t=e.length;if(y(t>=2),2===t)return y(""===e.charAt(0)&&""===e.charAt(1)),A.emptyPath();for(var i=t-2,r=[],s="",n=0;n<t;){var a=e.indexOf("",n);switch((a<0||a>i)&&g(),e.charAt(a+1)){case"":var o=e.substring(n,a),c=void 0;0===s.length?c=o:(c=s+=o,s=""),r.push(c);break;case"":s+=e.substring(n,a),s+="\0";break;case"":s+=e.substring(n,a+1);break;default:g()}n=a+2}return new A(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di=function(e,t){this.seconds=e,this.nanoseconds=t},Li=function(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i};Li.store="owner",Li.key="owner";var Vi=function(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i};Vi.store="mutationQueues",Vi.keyPath="userId";var ji=function(e,t,i,r,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=s};ji.store="mutations",ji.keyPath="batchId",ji.userMutationsIndex="userMutationsIndex",ji.userMutationsKeyPath=["userId","batchId"];var qi=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Mi(t)]},e.key=function(e,t,i){return[e,Mi(t),i]},e}();qi.store="documentMutations",qi.PLACEHOLDER=new qi;var Ui=function(e,t){this.path=e,this.readTime=t},Gi=function(e,t){this.path=e,this.version=t},Fi=function(e,t,i,r,s,n){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=n};Fi.store="remoteDocuments",Fi.readTimeIndex="readTimeIndex",Fi.readTimeIndexPath="readTime",Fi.collectionReadTimeIndex="collectionReadTimeIndex",Fi.collectionReadTimeIndexPath=["parentPath","readTime"];var Hi=function(e){this.byteSize=e};Hi.store="remoteDocumentGlobal",Hi.key="remoteDocumentGlobalKey";var zi=function(e,t,i,r,s,n,a){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=n,this.query=a};zi.store="targets",zi.keyPath="targetId",zi.queryTargetsIndexName="queryTargetsIndex",zi.queryTargetsKeyPath=["canonicalId","targetId"];var Ki=function(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i};Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];var Wi=function(e,t,i,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=r};Wi.key="targetGlobalKey",Wi.store="targetGlobal";var $i=function(e,t){this.collectionId=e,this.parent=t};$i.store="collectionParents",$i.keyPath=["collectionId","parent"];var Yi=function(e,t,i,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=r};Yi.store="clientMetadata",Yi.keyPath="clientId";var Xi=function(e,t,i){this.bundleId=e,this.createTime=t,this.version=i};Xi.store="bundles",Xi.keyPath="bundleId";var Qi=function(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i};Qi.store="namedQueries",Qi.keyPath="name";var Zi=Object(r["d"])(Object(r["d"])([],Object(r["d"])(Object(r["d"])([],Object(r["d"])(Object(r["d"])([],Object(r["d"])(Object(r["d"])([],[Vi.store,ji.store,qi.store,Fi.store,zi.store,Li.store,Wi.store,Ki.store]),[Yi.store])),[Hi.store])),[$i.store])),[Xi.store,Qi.store]),Ji="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",er=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),tr=function(){var e=this;this.promise=new Promise((function(t,i){e.resolve=t,e.reject=i}))},ir=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,i){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new e((function(e,s){r.nextCallback=function(i){r.wrapSuccess(t,i).next(e,s)},r.catchCallback=function(t){r.wrapFailure(i,t).next(e,s)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,i){e.next(t,i)}))},e.prototype.wrapUserFunction=function(t){try{var i=t();return i instanceof e?i:e.resolve(i)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,i){return t?this.wrapUserFunction((function(){return t(i)})):e.resolve(i)},e.prototype.wrapFailure=function(t,i){return t?this.wrapUserFunction((function(){return t(i)})):e.reject(i)},e.resolve=function(t){return new e((function(e,i){e(t)}))},e.reject=function(t){return new e((function(e,i){i(t)}))},e.waitFor=function(t){return new e((function(e,i){var r=0,s=0,n=!1;t.forEach((function(t){++r,t.next((function(){++s,n&&s===r&&e()}),(function(e){return i(e)}))})),n=!0,s===r&&e()}))},e.or=function(t){for(var i=e.resolve(!1),r=function(t){i=i.next((function(i){return i?e.resolve(i):t()}))},s=0,n=t;s<n.length;s++)r(n[s]);return i},e.forEach=function(e,t){var i=this,r=[];return e.forEach((function(e,s){r.push(t.call(i,e,s))})),this.waitFor(r)},e}(),rr=function(){function e(e,t){var i=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new tr,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){t.error?i.ft.reject(new ar(e,t.error)):i.ft.resolve()},this.transaction.onerror=function(t){var r=ur(t.target.error);i.ft.reject(new ar(e,r))}}return e.open=function(t,i,r,s){try{return new e(i,t.transaction(s,r))}catch(t){throw new ar(i,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(l("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new cr(t)},e}(),sr=function(){function t(e,i,r){this.name=e,this.version=i,this.wt=r,12.2===t._t(Object(s["l"])())&&f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return l("SimpleDb","Removing database:",e),dr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(s["l"])(),i=t._t(e),r=0<i&&i<10,n=t.Et(e),a=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",BASE_URL:"/"}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(l("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var s=indexedDB.open(i.name,i.version);s.onsuccess=function(e){var i=e.target.result;t(i)},s.onblocked=function(){r(new ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var i=t.target.error;"VersionError"===i.name?r(new d(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ar(e,i))},s.onupgradeneeded=function(e){l("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;i.wt.Rt(t,s.transaction,e.oldVersion,i.version).next((function(){l("SimpleDb","Database upgrade to version "+i.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return i.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,i,s){return Object(r["a"])(this,void 0,void 0,(function(){var n,a,o,c,d;return Object(r["c"])(this,(function(h){switch(h.label){case 0:n="readonly"===t,a=0,o=function(){var t,o,d,h,u;return Object(r["c"])(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=r.sent(),t=rr.open(c.db,e,n?"readonly":"readwrite",i),o=s(t).catch((function(e){return t.abort(e),ir.reject(e)})).toPromise(),d={},o.catch((function(){})),[4,t.dt];case 3:return[2,(d.value=(r.sent(),o),d)];case 4:return h=r.sent(),u="FirebaseError"!==h.name&&a<3,l("SimpleDb","Transaction failed with error:",h.message,"Retrying:",u),c.close(),u?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}}))},c=this,h.label=1;case 1:return[5,o()];case 2:if("object"==typeof(d=h.sent()))return[2,d.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),nr=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return dr(this.Pt.delete())},e}(),ar=function(e){function t(t,i){var r=this;return(r=e.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+i)||this).name="IndexedDbTransactionError",r}return Object(r["b"])(t,e),t}(d);function or(e){return"IndexedDbTransactionError"===e.name}var cr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var i;return void 0!==t?(l("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(l("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),dr(i)},e.prototype.add=function(e){return l("SimpleDb","ADD",this.store.name,e,e),dr(this.store.add(e))},e.prototype.get=function(e){var t=this;return dr(this.store.get(e)).next((function(i){return void 0===i&&(i=null),l("SimpleDb","GET",t.store.name,e,i),i}))},e.prototype.delete=function(e){return l("SimpleDb","DELETE",this.store.name,e),dr(this.store.delete(e))},e.prototype.count=function(){return l("SimpleDb","COUNT",this.store.name),dr(this.store.count())},e.prototype.Nt=function(e,t){var i=this.cursor(this.options(e,t)),r=[];return this.xt(i,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){l("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,t);i.kt=!1;var r=this.cursor(i);return this.xt(r,(function(e,t,i){return i.delete()}))},e.prototype.$t=function(e,t){var i;t?i=e:(i={},t=e);var r=this.cursor(i);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new ir((function(i,r){t.onerror=function(e){var t=ur(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():i()})):i()}}))},e.prototype.xt=function(e,t){var i=[];return new ir((function(r,s){e.onerror=function(e){s(e.target.error)},e.onsuccess=function(e){var s=e.target.result;if(s){var n=new nr(s),a=t(s.primaryKey,s.value,n);if(a instanceof ir){var o=a.catch((function(e){return n.done(),ir.reject(e)}));i.push(o)}n.isDone?r():null===n.Dt?s.continue():s.continue(n.Dt)}else r()}})).next((function(){return ir.waitFor(i)}))},e.prototype.options=function(e,t){var i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var i=this.store.index(e.index);return e.kt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function dr(e){return new ir((function(t,i){e.onsuccess=function(e){var i=e.target.result;t(i)},e.onerror=function(e){var t=ur(e.target.error);i(t)}}))}var hr=!1;function ur(e){var t=sr._t(Object(s["l"])());if(t>=12.2&&t<13){var i="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(i)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hr||(hr=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(e){function t(t,i){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=i,r}return Object(r["b"])(t,e),t}(er);function fr(e,t){var i=v(e);return sr.It(i.Mt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(){function e(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var i=t.mutationResults,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(e.key)&&lt(s,e,i[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,i=this.baseMutations;t<i.length;t++)(n=i[t]).key.isEqual(e.key)&&ft(n,e,this.localWriteTime);for(var r=0,s=this.mutations;r<s.length;r++){var n;(n=s[r]).key.isEqual(e.key)&&ft(n,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(i){var r=e.get(i.key),s=r;t.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(T.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ut())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&k(this.mutations,e.mutations,(function(e,t){return mt(e,t)}))&&k(this.baseMutations,e.baseMutations,(function(e,t){return mt(e,t)}))},e}(),mr=function(){function e(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}return e.from=function(t,i,r){y(t.mutations.length===r.length);for(var s=jt(),n=t.mutations,a=0;a<n.length;a++)s=s.insert(n[a].key,r[a].version);return new e(t,i,r,s)},e}(),gr=function(){function e(e,t,i,r,s,n,a){void 0===s&&(s=T.min()),void 0===n&&(n=T.min()),void 0===a&&(a=B.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=n,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),yr=function(e){this.Lt=e};function vr(e,t){if(t.document)return mi(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var i=z.fromSegments(t.noDocument.path),r=_r(t.noDocument.readTime),s=ce.newNoDocument(i,r);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){var n=z.fromSegments(t.unknownDocument.path);return r=_r(t.unknownDocument.version),ce.newUnknownDocument(n,r)}return g()}function br(e,t,i){var r=wr(i),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){var n=function(e,t){return{name:ci(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ii(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Fi(null,null,n,a,r,s)}if(t.isNoDocument()){var o=t.key.path.toArray(),c=kr(t.version);return a=t.hasCommittedMutations,new Fi(null,new Ui(o,c),null,a,r,s)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),h=kr(t.version);return new Fi(new Gi(d,h),null,null,!0,r,s)}return g()}function wr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sr(e){var t=new O(e[0],e[1]);return T.fromTimestamp(t)}function kr(e){var t=e.toTimestamp();return new Di(t.seconds,t.nanoseconds)}function _r(e){var t=new O(e.seconds,e.nanoseconds);return T.fromTimestamp(t)}function Or(e,t){for(var i=(t.baseMutations||[]).map((function(t){return yi(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var s=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var n=t.mutations[r+1];s.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return yi(e.Lt,t)})),o=O.fromMillis(t.localWriteTimeMs);return new pr(t.batchId,o,i,a)}function Tr(e){var t,i,r=_r(e.readTime),s=void 0!==e.lastLimboFreeSnapshotVersion?_r(e.lastLimboFreeSnapshotVersion):T.min();return void 0!==e.query.documents?(y(1===(i=e.query).documents.length),t=Ve(Ne(ui(i.documents[0])))):t=function(e){return Ve(wi(e))}(e.query),new gr(t,e.targetId,0,e.lastListenSequenceNumber,r,s,B.fromBase64String(e.resumeToken))}function Cr(e,t){var i,r=kr(t.snapshotVersion),s=kr(t.lastLimboFreeSnapshotVersion);i=fe(t.target)?vi(e.Lt,t.target):bi(e.Lt,t.target);var n=t.resumeToken.toBase64();return new zi(t.targetId,ue(t.target),r,n,t.sequenceNumber,s,i)}function Ir(e){var t=wi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?je(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Er(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_r(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Er(e).put({bundleId:(i=t).id,createTime:kr(ni(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(e,t){return Ar(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ir(t.bundledQuery),readTime:_r(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Ar(e).put(function(e){return{name:e.name,readTime:kr(ni(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Er(e){return fr(e,Xi.store)}function Ar(e){return fr(e,Qi.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){function e(){this.Bt=new Mr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),ir.resolve()},e.prototype.getCollectionParents=function(e,t){return ir.resolve(this.Bt.getEntries(t))},e}(),Mr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Mt(A.comparator),s=!r.has(i);return this.index[t]=r.add(i),s},e.prototype.has=function(e){var t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)},e.prototype.getEntries=function(e){return(this.index[e]||new Mt(A.comparator)).toArray()},e}(),Pr=function(){function e(){this.qt=new Mr}return e.prototype.addToCollectionParentIndex=function(e,t){var i=this;if(!this.qt.has(t)){var r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((function(){i.qt.add(t)}));var n={collectionId:r,parent:Mi(s)};return Br(e).put(n)}return ir.resolve()},e.prototype.getCollectionParents=function(e,t){var i=[],r=IDBKeyRange.bound([t,""],[_(t),""],!1,!0);return Br(e).Nt(r).next((function(e){for(var r=0,s=e;r<s.length;r++){var n=s[r];if(n.collectionId!==t)break;i.push(Ri(n.parent))}return i}))},e}();function Br(e){return fr(e,$i.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dr=function(){function e(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e,t,i){var r=e.store(ji.store),s=e.store(qi.store),n=[],a=IDBKeyRange.only(i.batchId),o=0,c=r.$t({range:a},(function(e,t,i){return o++,i.delete()}));n.push(c.next((function(){y(1===o)})));for(var d=[],h=0,u=i.mutations;h<u.length;h++){var l=u[h],f=qi.key(t,l.key.path,i.batchId);n.push(s.delete(f)),d.push(l.key)}return ir.waitFor(n).next((function(){return d}))}function Vr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);var jr=function(){function e(e,t,i,r){this.userId=e,this.R=t,this.Ut=i,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,i,r,s){return y(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",i,r,s)},e.prototype.checkEmpty=function(e){var t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ur(e).$t({index:ji.userMutationsIndex,range:i},(function(e,i,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,i,r){var s=this,n=Gr(e),a=Ur(e);return a.add({}).next((function(o){y("number"==typeof o);for(var c=new pr(o,t,i,r),d=function(e,t,i){var r=i.baseMutations.map((function(t){return gi(e.Lt,t)})),s=i.mutations.map((function(t){return gi(e.Lt,t)}));return new ji(t,i.batchId,i.localWriteTime.toMillis(),r,s)}(s.R,s.userId,c),h=[],u=new Mt((function(e,t){return S(e.canonicalString(),t.canonicalString())})),l=0,f=r;l<f.length;l++){var p=f[l],m=qi.key(s.userId,p.key.path,o);u=u.add(p.key.path.popLast()),h.push(a.put(d)),h.push(n.put(m,qi.PLACEHOLDER))}return u.forEach((function(t){h.push(s.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){s.Kt[o]=c.keys()})),ir.waitFor(h).next((function(){return c}))}))},e.prototype.lookupMutationBatch=function(e,t){var i=this;return Ur(e).get(t).next((function(e){return e?(y(e.userId===i.userId),Or(i.R,e)):null}))},e.prototype.jt=function(e,t){var i=this;return this.Kt[t]?ir.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return i.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var i=this,r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]),n=null;return Ur(e).$t({index:ji.userMutationsIndex,range:s},(function(e,t,s){t.userId===i.userId&&(y(t.batchId>=r),n=Or(i.R,t)),s.done()})).next((function(){return n}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ur(e).$t({index:ji.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){i=t.batchId,r.done()})).next((function(){return i}))},e.prototype.getAllMutationBatches=function(e){var t=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ur(e).Nt(ji.userMutationsIndex,i).next((function(e){return e.map((function(e){return Or(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var i=this,r=qi.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(r),n=[];return Gr(e).$t({range:s},(function(r,s,a){var o=r[0],c=r[1],d=r[2],h=Ri(c);if(o===i.userId&&t.path.isEqual(h))return Ur(e).get(d).next((function(e){if(!e)throw g();y(e.userId===i.userId),n.push(Or(i.R,e))}));a.done()})).next((function(){return n}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var i=this,r=new Mt(S),s=[];return t.forEach((function(t){var n=qi.prefixForPath(i.userId,t.path),a=IDBKeyRange.lowerBound(n),o=Gr(e).$t({range:a},(function(e,s,n){var a=e[0],o=e[1],c=e[2],d=Ri(o);a===i.userId&&t.path.isEqual(d)?r=r.add(c):n.done()}));s.push(o)})),ir.waitFor(s).next((function(){return i.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var i=this,r=t.path,s=r.length+1,n=qi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(n),o=new Mt(S);return Gr(e).$t({range:a},(function(e,t,n){var a=e[0],c=e[1],d=e[2],h=Ri(c);a===i.userId&&r.isPrefixOf(h)?h.length===s&&(o=o.add(d)):n.done()})).next((function(){return i.Wt(e,o)}))},e.prototype.Wt=function(e,t){var i=this,r=[],s=[];return t.forEach((function(t){s.push(Ur(e).get(t).next((function(e){if(null===e)throw g();y(e.userId===i.userId),r.push(Or(i.R,e))})))})),ir.waitFor(s).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var i=this;return Lr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){i.Gt(t.batchId)})),ir.forEach(r,(function(t){return i.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(i){if(!i)return ir.resolve();var r=IDBKeyRange.lowerBound(qi.prefixForUser(t.userId)),s=[];return Gr(e).$t({range:r},(function(e,i,r){if(e[0]===t.userId){var n=Ri(e[1]);s.push(n)}else r.done()})).next((function(){y(0===s.length)}))}))},e.prototype.containsKey=function(e,t){return qr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Fr(e).get(this.userId).next((function(e){return e||new Vi(t.userId,-1,"")}))},e}();function qr(e,t,i){var r=qi.prefixForPath(t,i.path),s=r[1],n=IDBKeyRange.lowerBound(r),a=!1;return Gr(e).$t({range:n,kt:!0},(function(e,i,r){var n=e[0],o=e[1];e[2],n===t&&o===s&&(a=!0),r.done()})).next((function(){return a}))}function Ur(e){return fr(e,ji.store)}function Gr(e){return fr(e,qi.store)}function Fr(e){return fr(e,Vi.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),zr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(i){var r=new Hr(i.highestTargetId);return i.highestTargetId=r.next(),t.Zt(e,i).next((function(){return i.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return T.fromTimestamp(new O(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,i){var r=this;return this.Xt(e).next((function(s){return s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),r.Zt(e,s)}))},e.prototype.addTargetData=function(e,t){var i=this;return this.te(e,t).next((function(){return i.Xt(e).next((function(r){return r.targetCount+=1,i.ee(t,r),i.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var i=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kr(e).delete(t.targetId)})).next((function(){return i.Xt(e)})).next((function(t){return y(t.targetCount>0),t.targetCount-=1,i.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,i){var r=this,s=0,n=[];return Kr(e).$t((function(a,o){var c=Tr(o);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(s++,n.push(r.removeTargetData(e,c)))})).next((function(){return ir.waitFor(n)})).next((function(){return s}))},e.prototype.forEachTarget=function(e,t){return Kr(e).$t((function(e,i){var r=Tr(i);t(r)}))},e.prototype.Xt=function(e){return Wr(e).get(Wi.key).next((function(e){return y(null!==e),e}))},e.prototype.Zt=function(e,t){return Wr(e).put(Wi.key,t)},e.prototype.te=function(e,t){return Kr(e).put(Cr(this.R,t))},e.prototype.ee=function(e,t){var i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var i=ue(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Kr(e).$t({range:r,index:zi.queryTargetsIndexName},(function(e,i,r){var n=Tr(i);le(t,n.target)&&(s=n,r.done())})).next((function(){return s}))},e.prototype.addMatchingKeys=function(e,t,i){var r=this,s=[],n=$r(e);return t.forEach((function(t){var a=Mi(t.path);s.push(n.put(new Ki(i,a))),s.push(r.referenceDelegate.addReference(e,i,t))})),ir.waitFor(s)},e.prototype.removeMatchingKeys=function(e,t,i){var r=this,s=$r(e);return ir.forEach(t,(function(t){var n=Mi(t.path);return ir.waitFor([s.delete([i,n]),r.referenceDelegate.removeReference(e,i,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var i=$r(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var i=IDBKeyRange.bound([t],[t+1],!1,!0),r=$r(e),s=Ut();return r.$t({range:i,kt:!0},(function(e,t,i){var r=Ri(e[1]),n=new z(r);s=s.add(n)})).next((function(){return s}))},e.prototype.containsKey=function(e,t){var i=Mi(t.path),r=IDBKeyRange.bound([i],[_(i)],!1,!0),s=0;return $r(e).$t({index:Ki.documentTargetsIndex,kt:!0,range:r},(function(e,t,i){var r=e[0];e[1],0!==r&&(s++,i.done())})).next((function(){return s>0}))},e.prototype.lt=function(e,t){return Kr(e).get(t).next((function(e){return e?Tr(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e){return fr(e,zi.store)}function Wr(e){return fr(e,Wi.store)}function $r(e){return fr(e,Ki.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){if(e.code!==c.FAILED_PRECONDITION||e.message!==Ji)throw e;return l("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e,t){var i=e[0],r=e[1],s=t[0],n=t[1],a=S(i,s);return 0===a?S(r,n):a}var Qr=function(){function e(e){this.ne=e,this.buffer=new Mt(Xr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var i=this.buffer.last();Xr(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Zr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,i=this.oe?3e5:6e4;l("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(function(){return Object(r["a"])(t,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:this.ce=null,this.oe=!0,i.label=1;case 1:return i.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return i.sent(),[3,7];case 3:return or(t=i.sent())?(l("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Yr(t)];case 5:i.sent(),i.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return i.sent(),[2]}}))}))}))},e}(),Jr=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var i=this;if(0===t)return ir.resolve(o.o);var r=new Qr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return i.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,i){return this.ae.removeTargets(e,t,i)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var i=this;return-1===this.params.cacheSizeCollectionThreshold?(l("LruGarbageCollector","Garbage collection skipped; disabled"),ir.resolve(Rr)):this.getCacheSize(e).next((function(r){return r<i.params.cacheSizeCollectionThreshold?(l("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),Rr):i.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var i,r,s,a,o,c,d,h=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>h.params.maximumSequenceNumbersToCollect?(l("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+t),r=h.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),h.nthSequenceNumber(e,r)})).next((function(r){return i=r,o=Date.now(),h.removeTargets(e,i,t)})).next((function(t){return s=t,c=Date.now(),h.removeOrphanedDocuments(e,i)})).next((function(e){return d=Date.now(),u()<=n["a"].DEBUG&&l("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(o-a)+"ms\n\tRemoved "+s+" targets in "+(c-o)+"ms\n\tRemoved "+e+" documents in "+(d-c)+"ms\nTotal Duration: "+(d-f)+"ms"),ir.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})}))},e}(),es=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Jr(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,i){return t(i)}))},e.prototype.addReference=function(e,t,i){return ts(e,i)},e.prototype.removeReference=function(e,t,i){return ts(e,i)},e.prototype.removeTargets=function(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)},e.prototype.markPotentiallyOrphaned=function(e,t){return ts(e,t)},e.prototype._e=function(e,t){return function(e,t){var i=!1;return Fr(e).Ot((function(r){return qr(e,r,t).next((function(e){return e&&(i=!0),ir.resolve(!e)}))})).next((function(){return i}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var i=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],n=0;return this.we(e,(function(a,o){if(o<=t){var c=i._e(e,a).next((function(t){if(!t)return n++,r.getEntry(e,a).next((function(){return r.removeEntry(a),$r(e).delete([0,Mi(a.path)])}))}));s.push(c)}})).next((function(){return ir.waitFor(s)})).next((function(){return r.apply(e)})).next((function(){return n}))},e.prototype.removeTarget=function(e,t){var i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},e.prototype.updateLimboDocument=function(e,t){return ts(e,t)},e.prototype.we=function(e,t){var i,r=$r(e),s=o.o;return r.$t({index:Ki.documentTargetsIndex},(function(e,r){var n=e[0];e[1];var a=r.path,c=r.sequenceNumber;0===n?(s!==o.o&&t(new z(Ri(i)),s),s=c,i=a):s=o.o})).next((function(){s!==o.o&&t(new z(Ri(i)),s)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ts(e,t){return $r(e).put(function(e,t){return new Ki(0,Mi(e.path),t)}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(var r=0,s=i;r<s.length;r++){var n=s[r],a=n[0],o=n[1];if(this.equalsFn(a,e))return o}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var i=this.mapKeyFn(e),r=this.inner[i];if(void 0!==r){for(var s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t])}else this.inner[i]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),!0;return!1},e.prototype.forEach=function(e){I(this.inner,(function(t,i){for(var r=0,s=i;r<s.length;r++){var n=s[r],a=n[0],o=n[1];e(a,o)}}))},e.prototype.isEmpty=function(){return x(this.inner)},e}(),rs=function(){function e(){this.changes=new is((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:T.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ce.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var i=this.changes.get(t);return void 0!==i?ir.resolve(i.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ss=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,i){return os(e).put(cs(t),i)},e.prototype.removeEntry=function(e,t){var i=os(e),r=cs(t);return i.delete(r)},e.prototype.updateMetadata=function(e,t){var i=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,i.me(e,r)}))},e.prototype.getEntry=function(e,t){var i=this;return os(e).get(cs(t)).next((function(e){return i.ye(t,e)}))},e.prototype.ge=function(e,t){var i=this;return os(e).get(cs(t)).next((function(e){return{document:i.ye(t,e),size:Vr(e)}}))},e.prototype.getEntries=function(e,t){var i=this,r=Rt();return this.pe(e,t,(function(e,t){var s=i.ye(e,t);r=r.insert(e,s)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var i=this,r=Rt(),s=new Et(z.comparator);return this.pe(e,t,(function(e,t){var n=i.ye(e,t);r=r.insert(e,n),s=s.insert(e,Vr(t))})).next((function(){return{documents:r,Te:s}}))},e.prototype.pe=function(e,t,i){if(t.isEmpty())return ir.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator(),n=s.getNext();return os(e).$t({range:r},(function(e,t,r){for(var a=z.fromSegments(e);n&&z.comparator(n,a)<0;)i(n,null),n=s.getNext();n&&n.isEqual(a)&&(i(n,t),n=s.hasNext()?s.getNext():null),n?r.Ct(n.path.toArray()):r.done()})).next((function(){for(;n;)i(n,null),n=s.hasNext()?s.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,i){var r=this,s=Rt(),n=t.path.length+1,a={};if(i.isEqual(T.min())){var o=t.path.toArray();a.range=IDBKeyRange.lowerBound(o)}else{var c=t.path.toArray(),d=wr(i);a.range=IDBKeyRange.lowerBound([c,d],!0),a.index=Fi.collectionReadTimeIndex}return os(e).$t(a,(function(e,i,a){if(e.length===n){var o=vr(r.R,i);t.path.isPrefixOf(o.key.path)?Fe(t,o)&&(s=s.insert(o.key,o)):a.done()}})).next((function(){return s}))},e.prototype.newChangeBuffer=function(e){return new ns(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return as(e).get(Hi.key).next((function(e){return y(!!e),e}))},e.prototype.me=function(e,t){return as(e).put(Hi.key,t)},e.prototype.ye=function(e,t){if(t){var i=vr(this.R,t);if(!i.isNoDocument()||!i.version.isEqual(T.min()))return i}return ce.newInvalidDocument(e)},e}(),ns=function(e){function t(t,i){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=i,r.Ae=new is((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r["b"])(t,e),t.prototype.applyChanges=function(e){var t=this,i=[],r=0,s=new Mt((function(e,t){return S(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(n,a){var o=t.Ae.get(n);if(a.document.isValidDocument()){var c=br(t.Ie.R,a.document,t.getReadTime(n));s=s.add(n.path.popLast());var d=Vr(c);r+=d-o,i.push(t.Ie.addEntry(e,n,c))}else if(r-=o,t.trackRemovals){var h=br(t.Ie.R,ce.newNoDocument(n,T.min()),t.getReadTime(n));i.push(t.Ie.addEntry(e,n,h))}else i.push(t.Ie.removeEntry(e,n))})),s.forEach((function(r){i.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),i.push(this.Ie.updateMetadata(e,r)),ir.waitFor(i)},t.prototype.getFromCache=function(e,t){var i=this;return this.Ie.ge(e,t).next((function(e){return i.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var i=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){i.Ae.set(e,t)})),t}))},t}(rs);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(e){return fr(e,Hi.store)}function os(e){return fr(e,Fi.store)}function cs(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,i,r){var s=this;y(i<r&&i>=0&&r<=11);var n=new rr("createOrUpgrade",t);i<1&&r>=1&&(function(e){e.createObjectStore(Li.store)}(e),function(e){e.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),e.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0}),e.createObjectStore(qi.store)}(e),hs(e),function(e){e.createObjectStore(Fi.store)}(e));var a=ir.resolve();return i<3&&r>=3&&(0!==i&&(function(e){e.deleteObjectStore(Ki.store),e.deleteObjectStore(zi.store),e.deleteObjectStore(Wi.store)}(e),hs(e)),a=a.next((function(){return function(e){var t=e.store(Wi.store),i=new Wi(0,0,T.min().toTimestamp(),0);return t.put(Wi.key,i)}(n)}))),i<4&&r>=4&&(0!==i&&(a=a.next((function(){return function(e,t){return t.store(ji.store).Nt().next((function(i){e.deleteObjectStore(ji.store),e.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0});var r=t.store(ji.store),s=i.map((function(e){return r.put(e)}));return ir.waitFor(s)}))}(e,n)}))),a=a.next((function(){!function(e){e.createObjectStore(Yi.store,{keyPath:Yi.keyPath})}(e)}))),i<5&&r>=5&&(a=a.next((function(){return s.Re(n)}))),i<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Hi.store)}(e),s.be(n)}))),i<7&&r>=7&&(a=a.next((function(){return s.ve(n)}))),i<8&&r>=8&&(a=a.next((function(){return s.Pe(e,n)}))),i<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Fi.store);t.createIndex(Fi.readTimeIndex,Fi.readTimeIndexPath,{unique:!1}),t.createIndex(Fi.collectionReadTimeIndex,Fi.collectionReadTimeIndexPath,{unique:!1})}(t)}))),i<10&&r>=10&&(a=a.next((function(){return s.Ve(n)}))),i<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Xi.store,{keyPath:Xi.keyPath})}(e),function(e){e.createObjectStore(Qi.store,{keyPath:Qi.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Fi.store).$t((function(e,i){t+=Vr(i)})).next((function(){var i=new Hi(t);return e.store(Hi.store).put(Hi.key,i)}))},e.prototype.Re=function(e){var t=this,i=e.store(Vi.store),r=e.store(ji.store);return i.Nt().next((function(i){return ir.forEach(i,(function(i){var s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.Nt(ji.userMutationsIndex,s).next((function(r){return ir.forEach(r,(function(r){y(r.userId===i.userId);var s=Or(t.R,r);return Lr(e,i.userId,s).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Ki.store),i=e.store(Fi.store);return e.store(Wi.store).get(Wi.key).next((function(e){var r=[];return i.$t((function(i,s){var n=new A(i),a=function(e){return[0,Mi(e)]}(n);r.push(t.get(a).next((function(i){return i?ir.resolve():function(i){return t.put(new Ki(0,Mi(i),e.highestListenSequenceNumber))}(n)})))})).next((function(){return ir.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore($i.store,{keyPath:$i.keyPath});var i=t.store($i.store),r=new Mr,s=function(e){if(r.add(e)){var t=e.lastSegment(),s=e.popLast();return i.put({collectionId:t,parent:Mi(s)})}};return t.store(Fi.store).$t({kt:!0},(function(e,t){var i=new A(e);return s(i.popLast())})).next((function(){return t.store(qi.store).$t({kt:!0},(function(e,t){e[0];var i=e[1];e[2];var r=Ri(i);return s(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,i=e.store(zi.store);return i.$t((function(e,r){var s=Tr(r),n=Cr(t.R,s);return i.put(n)}))},e}();function hs(e){e.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(zi.store,{keyPath:zi.keyPath}).createIndex(zi.queryTargetsIndexName,zi.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wi.store)}var us="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ls=function(){function e(t,i,r,s,n,a,o,h,u,l){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=r,this.Se=n,this.window=a,this.document=o,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new d(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new es(this,s),this.Le=i+"main",this.R=new yr(h),this.Be=new sr(this.Le,11,new ds(this.R)),this.qe=new zr(this.referenceDelegate,this.R),this.Ut=new Pr,this.Ue=function(e,t){return new ss(e,t)}(this.R,this.Ut),this.Ke=new xr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&f("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new d(c.FAILED_PRECONDITION,us);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new o(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(i){return Object(r["a"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return this.started?[2,e(i)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(i){return Object(r["a"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return null===i.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r["a"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ps(t).put(new Yi(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(i){return e.isPrimary&&!i?e.Xe(t).next((function(){return!1})):!!i&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(or(t))return l("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return l("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return fs(e).get(Li.key).next((function(e){return ir.resolve(t.tn(e))}))},e.prototype.en=function(e){return ps(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t,i,s,n=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fr(e,Yi.store);return t.Nt().next((function(e){var i=n.rn(e,18e5),r=e.filter((function(e){return-1===i.indexOf(e)}));return ir.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,i=e;t<i.length;t++)s=i[t],this.Qe.removeItem(this.on(s.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?ir.resolve(!0):fs(e).get(Li.key).next((function(i){if(null!==i&&t.sn(i.leaseTimestampMs,5e3)&&!t.cn(i.ownerId)){if(t.tn(i)&&t.networkEnabled)return!0;if(!t.tn(i)){if(!i.allowTabSynchronization)throw new d(c.FAILED_PRECONDITION,us);return!1}}return!(!t.networkEnabled||!t.inForeground)||ps(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var i=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,s=t.networkEnabled===e.networkEnabled;if(i||r&&s)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&l("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e=this;return Object(r["c"])(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Li.store,Yi.store],(function(t){var i=new lr(t,o.o);return e.Xe(i).next((function(){return e.en(i)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var i=this;return e.filter((function(e){return i.sn(e.updateTimeMs,t)&&!i.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ps(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return jr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,i){var r=this;l("IndexedDbPersistence","Starting transaction:",e);var s,n="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,n,Zi,(function(n){return s=new lr(n,r.Ne?r.Ne.next():o.o),"readwrite-primary"===t?r.Je(s).next((function(e){return!!e||r.Ye(s)})).next((function(t){if(!t)throw f("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new d(c.FAILED_PRECONDITION,Ji);return i(s)})).next((function(e){return r.Ze(s).next((function(){return e}))})):r.dn(s).next((function(){return i(s)}))})).then((function(e){return s.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return fs(e).get(Li.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new d(c.FAILED_PRECONDITION,us)}))},e.prototype.Ze=function(e){var t=new Li(this.clientId,this.allowTabSynchronization,Date.now());return fs(e).put(Li.key,t)},e.yt=function(){return sr.yt()},e.prototype.Xe=function(e){var t=this,i=fs(e);return i.get(Li.key).next((function(e){return t.tn(e)?(l("IndexedDbPersistence","Releasing primary lease."),i.delete(Li.key)):ir.resolve()}))},e.prototype.sn=function(e,t){var i=Date.now();return!(e<i-t||e>i&&(f("Detected an update time that is in the future: "+e+" > "+i),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var i=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return l("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(e){return f("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){f("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function fs(e){return fr(e,Li.store)}function ps(e){return fr(e,Yi.store)}function ms(e,t){var i=e.projectId;return e.isDefaultDatabase||(i+="."+e.database),"firestore/"+t+"/"+i+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var gs=function(e,t){this.progress=e,this.wn=t},ys=function(){function e(e,t,i){this.Ue=e,this._n=t,this.Ut=i}return e.prototype.mn=function(e,t){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return i.yn(e,t,r)}))},e.prototype.yn=function(e,t,i){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=i;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,i){for(var r=0,s=t;r<s.length;r++)s[r].applyToLocalView(i)}))},e.prototype.pn=function(e,t){var i=this;return this.Ue.getEntries(e,t).next((function(t){return i.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return i.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,i){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):De(t)?this.In(e,t,i):this.An(e,t,i)},e.prototype.Tn=function(e,t){return this.mn(e,new z(t)).next((function(e){var t=Lt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,i){var r=this,s=t.collectionGroup,n=Lt();return this.Ut.getCollectionParents(e,s).next((function(a){return ir.forEach(a,(function(a){var o=function(e,t){return new Ee(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return r.An(e,o,i).next((function(e){e.forEach((function(e,t){n=n.insert(e,t)}))}))})).next((function(){return n}))}))},e.prototype.An=function(e,t,i){var r,s,n=this;return this.Ue.getDocumentsMatchingQuery(e,t,i).next((function(i){return r=i,n._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return s=t,n.Rn(e,s,r).next((function(e){r=e;for(var t=0,i=s;t<i.length;t++)for(var n=i[t],a=0,o=n.mutations;a<o.length;a++){var c=o[a],d=c.key,h=r.get(d);null==h&&(h=ce.newInvalidDocument(d),r=r.insert(d,h)),ft(c,h,n.localWriteTime),h.isFoundDocument()||(r=r.remove(d))}}))})).next((function(){return r.forEach((function(e,i){Fe(t,i)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,i){for(var r=Ut(),s=0,n=t;s<n.length;s++)for(var a=0,o=n[s].mutations;a<o.length;a++){var c=o[a];c instanceof vt&&null===i.get(c.key)&&(r=r.add(c.key))}var d=i;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(d=d.insert(e,t))})),d}))},e}(),vs=function(){function e(e,t,i,r){this.targetId=e,this.fromCache=t,this.bn=i,this.vn=r}return e.Pn=function(t,i){for(var r=Ut(),s=Ut(),n=0,a=i.docChanges;n<a.length;n++){var o=a[n];switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}}return new e(t,i.fromCache,r,s)},e}(),bs=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,i,r){var s=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(T.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var o=s.Cn(t,a);return(Me(t)||Pe(t))&&s.Nn(t.limitType,o,r,i)?s.Dn(e,t):(u()<=n["a"].DEBUG&&l("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ge(t)),s.Sn.getDocumentsMatchingQuery(e,t,i).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var i=new Mt(He(e));return t.forEach((function(t,r){Fe(e,r)&&(i=i.add(r))})),i},e.prototype.Nn=function(e,t,i,r){if(i.size!==t.size)return!0;var s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return u()<=n["a"].DEBUG&&l("QueryEngine","Using full collection scan to execute query:",Ge(t)),this.Sn.getDocumentsMatchingQuery(e,t,T.min())},e}(),ws=function(){function e(e,t,i,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Et(S),this.kn=new is((function(e){return ue(e)}),le),this.$n=T.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new ys(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(i){return e.collect(i,t.Fn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e,t,i,r){return new ws(e,t,i,r)}function ks(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=v(e),s=i._n,n=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return i._n.getAllMutationBatches(e).next((function(a){return r=a,s=i.persistence.getMutationQueue(t),n=new ys(i.On,s,i.persistence.getIndexManager()),s.getAllMutationBatches(e)})).next((function(t){for(var i=[],s=[],a=Ut(),o=0,c=r;o<c.length;o++){var d=c[o];i.push(d.batchId);for(var h=0,u=d.mutations;h<u.length;h++){var l=u[h];a=a.add(l.key)}}for(var f=0,p=t;f<p.length;f++){var m=p[f];s.push(m.batchId);for(var g=0,y=m.mutations;g<y.length;g++){var v=y[g];a=a.add(v.key)}}return n.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:i,addedBatchIds:s}}))}))}))];case 1:return a=r.sent(),[2,(i._n=s,i.Mn=n,i.xn.Vn(i.Mn),a)]}}))}))}function _s(e,t){var i=v(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),s=i.On.newChangeBuffer({trackRemovals:!0});return function(e,t,i,r){var s=i.batch,n=s.keys(),a=ir.resolve();return n.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var n=i.docVersions.get(e);y(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,i),t.isValidDocument()&&r.addEntry(t,i.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,s)}))}(i,e,t,s).next((function(){return s.apply(e)})).next((function(){return i._n.performConsistencyCheck(e)})).next((function(){return i.Mn.pn(e,r)}))}))}function Os(e){var t=v(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Ts(e,t){var i=v(e),r=t.snapshotVersion,s=i.Fn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var n=i.On.newChangeBuffer({trackRemovals:!0});s=i.Fn;var a=[];t.targetChanges.forEach((function(t,n){var o=s.get(n);if(o){a.push(i.qe.removeMatchingKeys(e,t.removedDocuments,n).next((function(){return i.qe.addMatchingKeys(e,t.addedDocuments,n)})));var c=t.resumeToken;if(c.approximateByteSize()>0){var d=o.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);s=s.insert(n,d),function(e,t,i){return y(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size>0}(o,d,t)&&a.push(i.qe.updateTargetData(e,d))}}}));var o=Rt();if(t.documentUpdates.forEach((function(r,s){t.resolvedLimboDocuments.has(r)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Cs(e,n,t.documentUpdates,r,void 0).next((function(e){o=e}))),!r.isEqual(T.min())){var c=i.qe.getLastRemoteSnapshotVersion(e).next((function(t){return i.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return ir.waitFor(a).next((function(){return n.apply(e)})).next((function(){return i.Mn.En(e,o)})).next((function(){return o}))})).then((function(e){return i.Fn=s,e}))}function Cs(e,t,i,r,s){var n=Ut();return i.forEach((function(e){return n=n.add(e)})),t.getEntries(e,n).next((function(e){var n=Rt();return i.forEach((function(i,a){var o=e.get(i),c=(null==s?void 0:s.get(i))||r;a.isNoDocument()&&a.version.isEqual(T.min())?(t.removeEntry(i,c),n=n.insert(i,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a,c),n=n.insert(i,a)):l("LocalStore","Ignoring outdated watch update for ",i,". Current version:",o.version," Watch version:",a.version)})),n}))}function Is(e,t){var i=v(e);return i.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),i._n.getNextMutationBatchAfterBatchId(e,t)}))}function xs(e,t){var i=v(e);return i.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return i.qe.getTargetData(e,t).next((function(s){return s?(r=s,ir.resolve(r)):i.qe.allocateTargetId(e).next((function(s){return r=new gr(t,s,0,e.currentSequenceNumber),i.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=i.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.Fn=i.Fn.insert(e.targetId,e),i.kn.set(t,e.targetId)),e}))}function Es(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:s=v(e),n=s.Fn.get(t),a=i?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),i?[3,3]:[4,s.persistence.runTransaction("Release target",a,(function(e){return s.persistence.referenceDelegate.removeTarget(e,n)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!or(o=r.sent()))throw o;return l("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return s.Fn=s.Fn.remove(t),s.kn.delete(n.target),[2]}}))}))}function As(e,t,i){var r=v(e),s=T.min(),n=Ut();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,i){var r=v(e),s=r.kn.get(i);return void 0!==s?ir.resolve(r.Fn.get(s)):r.qe.getTargetData(t,i)}(r,e,Ve(t)).next((function(t){if(t)return s=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){n=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,i?s:T.min(),i?n:Ut())})).next((function(e){return{documents:e,Bn:n}}))}))}function Ns(e,t){var i=v(e),r=v(i.qe),s=i.Fn.get(t);return s?Promise.resolve(s.target):i.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ms(e){var t=v(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,i){var r=v(e),s=Rt(),n=wr(i),a=os(t),o=IDBKeyRange.lowerBound(n,!0);return a.$t({index:Fi.readTimeIndex,range:o},(function(e,t){var i=vr(r.R,t);s=s.insert(i.key,i),n=t.readTime})).next((function(){return{wn:s,readTime:Sr(n)}}))}(t.On,e,t.$n)})).then((function(e){var i=e.wn,r=e.readTime;return t.$n=r,i}))}function Ps(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){return[2,(t=v(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=os(e),i=T.min();return t.$t({index:Fi.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(i=Sr(t.readTime)),r.done()})).next((function(){return i}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Bs(e,t,i,s){return Object(r["a"])(this,void 0,void 0,(function(){var n,a,o,c,d,h,u,l,f,p;return Object(r["c"])(this,(function(r){switch(r.label){case 0:for(n=v(e),a=Ut(),o=Rt(),c=jt(),d=0,h=i;d<h.length;d++)u=h[d],l=t.qn(u.metadata.name),u.document&&(a=a.add(l)),o=o.insert(l,t.Un(u)),c=c.insert(l,t.Kn(u.metadata.readTime));return f=n.On.newChangeBuffer({trackRemovals:!0}),[4,xs(n,function(e){return Ve(Ne(A.fromString("__bundle__/docs/"+e)))}(s))];case 1:return p=r.sent(),[2,n.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Cs(e,f,o,T.min(),c).next((function(t){return f.apply(e),t})).next((function(t){return n.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return n.qe.addMatchingKeys(e,a,p.targetId)})).next((function(){return n.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Rs(e,t,i){return void 0===i&&(i=Ut()),Object(r["a"])(this,void 0,void 0,(function(){var s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,xs(e,Ve(Ir(t.bundledQuery)))];case 1:return s=r.sent(),[2,(n=v(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=ni(t.readTime);if(s.snapshotVersion.compareTo(r)>=0)return n.Ke.saveNamedQuery(e,t);var a=s.withResumeToken(B.EMPTY_BYTE_STRING,r);return n.Fn=n.Fn.insert(a.targetId,a),n.qe.updateTargetData(e,a).next((function(){return n.qe.removeMatchingKeysForTargetId(e,s.targetId)})).next((function(){return n.qe.addMatchingKeys(e,i,s.targetId)})).next((function(){return n.Ke.saveNamedQuery(e,t)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ds=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return ir.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var i;return this.Qn.set(t.id,{id:(i=t).id,version:i.version,createTime:ni(i.createTime)}),ir.resolve()},e.prototype.getNamedQuery=function(e,t){return ir.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ir(e.bundledQuery),readTime:ni(e.readTime)}}(t)),ir.resolve()},e}(),Ls=function(){function e(){this.Wn=new Mt(Vs.Gn),this.zn=new Mt(Vs.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var i=new Vs(e,t);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(e,t){var i=this;e.forEach((function(e){return i.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Vs(e,t))},e.prototype.Xn=function(e,t){var i=this;e.forEach((function(e){return i.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,i=new z(new A([])),r=new Vs(i,e),s=new Vs(i,e+1),n=[];return this.zn.forEachInRange([r,s],(function(e){t.Yn(e),n.push(e.key)})),n},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new z(new A([])),i=new Vs(t,e),r=new Vs(t,e+1),s=Ut();return this.zn.forEachInRange([i,r],(function(e){s=s.add(e.key)})),s},e.prototype.containsKey=function(e){var t=new Vs(e,0),i=this.Wn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)},e}(),Vs=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return z.comparator(e.key,t.key)||S(e.ns,t.ns)},e.Hn=function(e,t){return S(e.ns,t.ns)||z.comparator(e.key,t.key)},e}(),js=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Mt(Vs.Gn)}return e.prototype.checkEmpty=function(e){return ir.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,i,r){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var n=new pr(s,t,i,r);this._n.push(n);for(var a=0,o=r;a<o.length;a++){var c=o[a];this.rs=this.rs.add(new Vs(c.key,s)),this.Ut.addToCollectionParentIndex(e,c.key.path.popLast())}return ir.resolve(n)},e.prototype.lookupMutationBatch=function(e,t){return ir.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var i=t+1,r=this.cs(i),s=r<0?0:r;return ir.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ir.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return ir.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var i=this,r=new Vs(t,0),s=new Vs(t,Number.POSITIVE_INFINITY),n=[];return this.rs.forEachInRange([r,s],(function(e){var t=i.os(e.ns);n.push(t)})),ir.resolve(n)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var i=this,r=new Mt(S);return t.forEach((function(e){var t=new Vs(e,0),s=new Vs(e,Number.POSITIVE_INFINITY);i.rs.forEachInRange([t,s],(function(e){r=r.add(e.ns)}))})),ir.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var i=t.path,r=i.length+1,s=i;z.isDocumentKey(s)||(s=s.child(""));var n=new Vs(new z(s),0),a=new Mt(S);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!i.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),n),ir.resolve(this.us(a))},e.prototype.us=function(e){var t=this,i=[];return e.forEach((function(e){var r=t.os(e);null!==r&&i.push(r)})),i},e.prototype.removeMutationBatch=function(e,t){var i=this;y(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return ir.forEach(t.mutations,(function(s){var n=new Vs(s.key,t.batchId);return r=r.delete(n),i.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((function(){i.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var i=new Vs(t,0),r=this.rs.firstAfterOrEqual(i);return ir.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,ir.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),qs=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Et(z.comparator),this.size=0}return e.prototype.addEntry=function(e,t,i){var r=t.key,s=this.docs.get(r),n=s?s.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:i}),this.size+=a-n,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var i=this.docs.get(t);return ir.resolve(i?i.document.clone():ce.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var i=this,r=Rt();return t.forEach((function(e){var t=i.docs.get(e);r=r.insert(e,t?t.document.clone():ce.newInvalidDocument(e))})),ir.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,i){for(var r=Rt(),s=new z(t.path.child("")),n=this.docs.getIteratorFrom(s);n.hasNext();){var a=n.getNext(),o=a.key,c=a.value,d=c.document,h=c.readTime;if(!t.path.isPrefixOf(o.path))break;h.compareTo(i)<=0||Fe(t,d)&&(r=r.insert(d.key,d.clone()))}return ir.resolve(r)},e.prototype.fs=function(e,t){return ir.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Us(this)},e.prototype.getSize=function(e){return ir.resolve(this.size)},e}(),Us=function(e){function t(t){var i=this;return(i=e.call(this)||this).Ie=t,i}return Object(r["b"])(t,e),t.prototype.applyChanges=function(e){var t=this,i=[];return this.changes.forEach((function(r,s){s.document.isValidDocument()?i.push(t.Ie.addEntry(e,s.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),ir.waitFor(i)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(rs),Gs=function(){function e(e){this.persistence=e,this.ds=new is((function(e){return ue(e)}),le),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.ws=0,this._s=new Ls,this.targetCount=0,this.ys=Hr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,i){return t(i)})),ir.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return ir.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return ir.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),ir.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ws&&(this.ws=t),ir.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Hr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,ir.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),ir.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,ir.resolve()},e.prototype.removeTargets=function(e,t,i){var r=this,s=0,n=[];return this.ds.forEach((function(a,o){o.sequenceNumber<=t&&null===i.get(o.targetId)&&(r.ds.delete(a),n.push(r.removeMatchingKeysForTargetId(e,o.targetId)),s++)})),ir.waitFor(n).next((function(){return s}))},e.prototype.getTargetCount=function(e){return ir.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var i=this.ds.get(t)||null;return ir.resolve(i)},e.prototype.addMatchingKeys=function(e,t,i){return this._s.Jn(t,i),ir.resolve()},e.prototype.removeMatchingKeys=function(e,t,i){this._s.Xn(t,i);var r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((function(t){s.push(r.markPotentiallyOrphaned(e,t))})),ir.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),ir.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var i=this._s.es(t);return ir.resolve(i)},e.prototype.containsKey=function(e,t){return ir.resolve(this._s.containsKey(t))},e}(),Fs=function(){function e(e,t){var i=this;this.gs={},this.Ne=new o(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Gs(this),this.Ut=new Nr,this.Ue=function(e,t){return new qs(e,(function(e){return i.referenceDelegate.ps(e)}))}(this.Ut),this.R=new yr(t),this.Ke=new Ds(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new js(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,i){var r=this;l("MemoryPersistence","Starting transaction:",e);var s=new Hs(this.Ne.next());return this.referenceDelegate.Es(),i(s).next((function(e){return r.referenceDelegate.Ts(s).next((function(){return e}))})).toPromise().then((function(e){return s.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return ir.or(Object.values(this.gs).map((function(i){return function(){return i.containsKey(e,t)}})))},e}(),Hs=function(e){function t(t){var i=this;return(i=e.call(this)||this).currentSequenceNumber=t,i}return Object(r["b"])(t,e),t}(er),zs=function(){function e(e){this.persistence=e,this.As=new Ls,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,i){return this.As.addReference(i,t),this.vs.delete(i.toString()),ir.resolve()},e.prototype.removeReference=function(e,t,i){return this.As.removeReference(i,t),this.vs.add(i.toString()),ir.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),ir.resolve()},e.prototype.removeTarget=function(e,t){var i=this;this.As.Zn(t.targetId).forEach((function(e){return i.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return i.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ir.forEach(this.vs,(function(r){var s=z.fromPath(r);return t.Ps(e,s).next((function(e){e||i.removeEntry(s)}))})).next((function(){return t.Rs=null,i.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var i=this;return this.Ps(e,t).next((function(e){e?i.vs.delete(t.toString()):i.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var i=this;return ir.or([function(){return ir.resolve(i.As.containsKey(t))},function(){return i.persistence.getTargetCache().containsKey(e,t)},function(){return i.persistence.Is(e,t)}])},e}(),Ks=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(e,t){return"firestore_clients_"+e+"_"+t}function $s(e,t,i){var r="firestore_mutations_"+e+"_"+i;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Ys(e,t){return"firestore_targets_"+e+"_"+t}Ks.UNAUTHENTICATED=new Ks(null),Ks.GOOGLE_CREDENTIALS=new Ks("google-credentials-uid"),Ks.FIRST_PARTY=new Ks("first-party-uid");var Xs=function(){function e(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}return e.Vs=function(t,i,r){var s,n=JSON.parse(r),a="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return a&&n.error&&(a="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(s=new d(n.error.code,n.error.message)),a?new e(t,i,n.state,s):(f("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Qs=function(){function e(e,t,i){this.targetId=e,this.state=t,this.error=i}return e.Vs=function(t,i){var r,s=JSON.parse(i),n="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return n&&s.error&&(n="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(r=new d(s.error.code,s.error.message)),n?new e(t,s.state,r):(f("SharedClientState","Failed to parse target state for ID '"+t+"': "+i),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zs=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,i){for(var r=JSON.parse(i),s="object"==typeof r&&r.activeTargetIds instanceof Array,n=Ft(),a=0;s&&a<r.activeTargetIds.length;++a)s=H(r.activeTargetIds[a]),n=n.add(r.activeTargetIds[a]);return s?new e(t,n):(f("SharedClientState","Failed to parse client data for instance '"+t+"': "+i),null)},e}(),Js=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new e(i.clientId,i.onlineState):(f("SharedClientState","Failed to parse online state: "+t),null)},e}(),en=function(){function e(){this.activeTargetIds=Ft()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),tn=function(){function e(e,t,i,r,s){this.window=e,this.Se=t,this.persistenceKey=i,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Et(S),this.started=!1,this.$s=[];var n=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=Ws(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new en),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t,i,s,n,a,o,c,d,h,u,l=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,i=e;t<i.length;t++)(s=i[t])!==this.Ns&&(n=this.getItem(Ws(this.persistenceKey,s)))&&(a=Zs.Vs(s,n))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(c=this.js(o))&&this.Ws(c),d=0,h=this.$s;d<h.length;d++)u=h[d],this.Fs(u);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(i,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,i){this.zs(e,t,i),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(Ys(this.persistenceKey,e));if(i){var r=Qs.Vs(e,i);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Ys(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,i){this.Ys(e,t,i)},e.prototype.handleUserChange=function(e,t,i){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,i.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return l("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){l("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){l("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,i=e;if(i.storageArea===this.storage){if(l("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r["a"])(t,void 0,void 0,(function(){var e,t,s,n,a,c;return Object(r["c"])(this,(function(r){if(this.started){if(null!==i.key)if(this.Ls.test(i.key)){if(null==i.newValue)return e=this.ti(i.key),[2,this.ei(e,null)];if(t=this.ni(i.key,i.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(i.key)){if(null!==i.newValue&&(s=this.si(i.key,i.newValue)))return[2,this.ii(s)]}else if(this.qs.test(i.key)){if(null!==i.newValue&&(n=this.ri(i.key,i.newValue)))return[2,this.oi(n)]}else if(i.key===this.Us){if(null!==i.newValue&&(a=this.js(i.newValue)))return[2,this.Ws(a)]}else if(i.key===this.Ms)(c=function(e){var t=o.o;if(null!=e)try{var i=JSON.parse(e);y("number"==typeof i),t=i}catch(e){f("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(i.newValue))!==o.o&&this.sequenceNumberHandler(c);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(i);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,i){var r=new Xs(this.currentUser,e,t,i),s=$s(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Ss())},e.prototype.Hs=function(e){var t=$s(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,i){var r=Ys(this.persistenceKey,e),s=new Qs(e,t,i);this.setItem(r,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var i=this.ti(e);return Zs.Vs(i,t)},e.prototype.si=function(e,t){var i=this.Bs.exec(e),r=Number(i[1]),s=void 0!==i[2]?i[2]:null;return Xs.Vs(new Ks(s),r,t)},e.prototype.ri=function(e,t){var i=this.qs.exec(e),r=Number(i[1]);return Qs.Vs(r,t)},e.prototype.js=function(e){return Js.Vs(e)},e.prototype.ii=function(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(l("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var i=this,r=t?this.ks.insert(e,t):this.ks.remove(e),s=this.Gs(this.ks),n=this.Gs(r),a=[],o=[];return n.forEach((function(e){s.has(e)||a.push(e)})),s.forEach((function(e){n.has(e)||o.push(e)})),this.syncEngine.hi(a,o).then((function(){i.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Ft();return e.forEach((function(e,i){t=t.unionWith(i.activeTargetIds)})),t},e}(),rn=function(){function e(){this.li=new en,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,i){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,i){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new en,Promise.resolve()},e.prototype.handleUserChange=function(e,t,i){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),sn=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),nn=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){l("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){l("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),an={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},on=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),cn=function(e){function t(t){var i=this;return(i=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,i.autoDetectLongPolling=t.autoDetectLongPolling,i.useFetchStreams=t.useFetchStreams,i}return Object(r["b"])(t,e),t.prototype.ki=function(e,t,i,r){return new Promise((function(s,n){var o=new a["g"];o.listenOnce(a["c"].COMPLETE,(function(){try{switch(o.getLastErrorCode()){case a["a"].NO_ERROR:var t=o.getResponseJson();l("Connection","XHR received:",JSON.stringify(t)),s(t);break;case a["a"].TIMEOUT:l("Connection",'RPC "'+e+'" timed out'),n(new d(c.DEADLINE_EXCEEDED,"Request time out"));break;case a["a"].HTTP_ERROR:var i=o.getStatus();if(l("Connection",'RPC "'+e+'" failed with status:',i,"response text:",o.getResponseText()),i>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var h=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(c).indexOf(t)>=0?t:c.UNKNOWN}(r.status);n(new d(h,r.message))}else n(new d(c.UNKNOWN,"Server responded with status "+o.getStatus()))}else n(new d(c.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{l("Connection",'RPC "'+e+'" completed.')}}));var h=JSON.stringify(r);o.send(t,"POST",h,i,15)}))},t.prototype.Oi=function(e,t){var i=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(a["h"])(),n=Object(a["i"])(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new a["d"]({})),this.Fi(o.initMessageHeaders,t),Object(s["r"])()||Object(s["t"])()||Object(s["o"])()||Object(s["p"])()||Object(s["u"])()||Object(s["n"])()||(o.httpHeadersOverwriteParam="$httpHeaders");var h=i.join("");l("Connection","Creating WebChannel: "+h,o);var u=r.createWebChannel(h,o),f=!1,m=!1,g=new on({Ei:function(e){m?l("Connection","Not sending because WebChannel is closed:",e):(f||(l("Connection","Opening WebChannel transport."),u.open(),f=!0),l("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),v=function(e,t,i){e.listen(t,(function(e){try{i(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return v(u,a["f"].EventType.OPEN,(function(){m||l("Connection","WebChannel transport opened.")})),v(u,a["f"].EventType.CLOSE,(function(){m||(m=!0,l("Connection","WebChannel transport closed"),g.Vi())})),v(u,a["f"].EventType.ERROR,(function(e){m||(m=!0,p("Connection","WebChannel transport errored:",e),g.Vi(new d(c.UNAVAILABLE,"The operation could not be completed")))})),v(u,a["f"].EventType.MESSAGE,(function(e){var t;if(!m){var i=e.data[0];y(!!i);var r=i,s=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(s){l("Connection","WebChannel received error:",s);var n=s.status,a=function(e){var t=kt[e];if(void 0!==t)return xt(t)}(n),o=s.message;void 0===a&&(a=c.INTERNAL,o="Unknown error status: "+n+" with message "+s.message),m=!0,g.Vi(new d(a,o)),u.close()}else l("Connection","WebChannel received:",i),g.Si(i)}})),v(n,a["b"].STAT_EVENT,(function(e){e.stat===a["e"].PROXY?l("Connection","Detected buffering proxy"):e.stat===a["e"].NOPROXY&&l("Connection","Detected no buffering proxy")})),setTimeout((function(){g.Pi()}),0),g},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,i,r){var s=this.xi(e,t);l("RestConnection","Sending: ",s,i);var n={};return this.Fi(n,r),this.ki(e,s,n,i).then((function(e){return l("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",s,"request:",i),t}))},e.prototype.$i=function(e,t,i,r){return this.Ni(e,t,i,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var i in t.authHeaders)t.authHeaders.hasOwnProperty(i)&&(e[i]=t.authHeaders[i])},e.prototype.xi=function(e,t){var i=an[e];return this.Di+"/v1/"+t+":"+i},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return"undefined"!=typeof window?window:null}function hn(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return new ti(e,!0)}var ln=function(){function e(e,t,i,r,s){void 0===i&&(i=1e3),void 0===r&&(r=1.5),void 0===s&&(s=6e4),this.Se=e,this.timerId=t,this.Mi=i,this.Li=r,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-r);s>0&&l("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),fn=function(){function e(e,t,i,r,s,n){this.Se=e,this.zi=i,this.Hi=r,this.Ji=s,this.listener=n,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ln(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===c.RESOURCE_EXHAUSTED?(f(t.toString()),f("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===c.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return i.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then((function(t){e.Yi===i&&e.lr(t)}),(function(i){t((function(){var t=new d(c.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){i((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){i((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){i((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r["a"])(e,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return l("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(i){t.Se.enqueueAndForget((function(){return t.Yi===e?i():(l("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),pn=function(e){function t(t,i,r,s,n){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",i,r,n)||this).R=s,a}return Object(r["b"])(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var i;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],n=function(e,t){return e.I?(y(void 0===t||"string"==typeof t),B.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),B.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(o=t.targetChange.cause)&&function(e){var t=void 0===e.code?c.UNKNOWN:xt(e.code);return new d(t,e.message||"")}(o);i=new $t(r,s,n,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,s=di(e,r.document.name),n=ni(r.document.updateTime);var o=new ae({mapValue:{fields:r.document.fields}}),h=(a=ce.newFoundDocument(s,n,o),r.targetIds||[]),u=r.removedTargetIds||[];i=new Kt(h,u,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,s=di(e,r.document),n=r.readTime?ni(r.readTime):T.min(),o=ce.newNoDocument(s,n),a=r.removedTargetIds||[],i=new Kt([],a,o.key,o);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,s=di(e,r.document),n=r.removedTargetIds||[],i=new Kt([],n,s,null);else{if(!("filter"in t))return g();t.filter;var l=t.filter;l.targetId,r=l.count||0,s=new Ct(r),n=l.targetId,i=new Wt(n,s)}return i}(this.R,e),i=function(e){if(!("targetChange"in e))return T.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?T.min():t.readTime?ni(t.readTime):T.min()}(e);return this.listener._r(t,i)},t.prototype.mr=function(e){var t={};t.database=li(this.R),t.addTarget=function(e,t){var i,r=t.target;return(i=fe(r)?{documents:vi(e,r)}:{query:bi(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?i.resumeToken=ri(e,t.resumeToken):t.snapshotVersion.compareTo(T.min())>0&&(i.readTime=ii(e,t.snapshotVersion.toTimestamp())),i}(this.R,e);var i=function(e,t){var i=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.purpose);return null==i?null:{"goog-listen-tags":i}}(this.R,e);i&&(t.labels=i),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=li(this.R),t.removeTarget=e,this.cr(t)},t}(fn),mn=function(e){function t(t,i,r,s,n){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",i,r,n)||this).R=s,a.gr=!1,a}return Object(r["b"])(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((function(e){return function(e,t){var i=e.updateTime?ni(e.updateTime):ni(t);return i.isEqual(T.min())&&(i=ni(t)),new ct(i,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.Tr(i,t)}return y(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=li(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,i={streamToken:this.lastStreamToken,writes:e.map((function(e){return gi(t.R,e)}))};this.cr(i)},t}(fn),gn=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).credentials=t,s.Hi=i,s.R=r,s.Rr=!1,s}return Object(r["b"])(t,e),t.prototype.br=function(){if(this.Rr)throw new d(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,i){var r=this;return this.br(),this.credentials.getToken().then((function(s){return r.Hi.Ni(e,t,i,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===c.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new d(c.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,i){var r=this;return this.br(),this.credentials.getToken().then((function(s){return r.Hi.$i(e,t,i,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===c.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new d(c.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),yn=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(f(t),this.Vr=!1):l("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),vn=function(e,t,i,s,n){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=n,this.Lr.di((function(e){i.enqueueAndForget((function(){return Object(r["a"])(a,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return In(this)?(l("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return(t=v(e)).Or.add(4),[4,wn(t)];case 1:return i.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,bn(t)];case 2:return i.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new yn(i,s)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:if(!In(e))return[3,4];t=0,i=e.Mr,r.label=1;case 1:return t<i.length?[4,(0,i[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function wn(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:t=0,i=e.Mr,r.label=1;case 1:return t<i.length?[4,(0,i[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Sn(e,t){var i=v(e);i.$r.has(t.targetId)||(i.$r.set(t.targetId,t),Cn(i)?Tn(i):Gn(i).er()&&_n(i,t))}function kn(e,t){var i=v(e),r=Gn(i);i.$r.delete(t),r.er()&&On(i,t),0===i.$r.size&&(r.er()?r.ir():In(i)&&i.Br.set("Unknown"))}function _n(e,t){e.qr.U(t.targetId),Gn(e).mr(t)}function On(e,t){e.qr.U(t),Gn(e).yr(t)}function Tn(e){e.qr=new Xt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Gn(e).start(),e.Br.Sr()}function Cn(e){return In(e)&&!Gn(e).tr()&&e.$r.size>0}function In(e){return 0===v(e).Or.size}function xn(e){e.qr=void 0}function En(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return e.$r.forEach((function(t,i){_n(e,t)})),[2]}))}))}function An(e,t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(i){return xn(e),Cn(e)?(e.Br.Nr(t),Tn(e)):e.Br.set("Unknown"),[2]}))}))}function Nn(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a;return Object(r["c"])(this,(function(o){switch(o.label){case 0:if(e.Br.set("Online"),!(t instanceof $t&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=t.cause,s=0,n=t.targetIds,r.label=1;case 1:return s<n.length?(a=n[s],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,i)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(a),e.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return s++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return s=o.sent(),l("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),[4,Mn(e,s)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Kt?e.qr.X(t):t instanceof Wt?e.qr.rt(t):e.qr.et(t),i.isEqual(T.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Os(e.localStore)];case 8:return n=o.sent(),i.compareTo(n)>=0?[4,function(e,t){var i=e.qr.ut(t);return i.targetChanges.forEach((function(i,r){if(i.resumeToken.approximateByteSize()>0){var s=e.$r.get(r);s&&e.$r.set(r,s.withResumeToken(i.resumeToken,t))}})),i.targetMismatches.forEach((function(t){var i=e.$r.get(t);if(i){e.$r.set(t,i.withResumeToken(B.EMPTY_BYTE_STRING,i.snapshotVersion)),On(e,t);var r=new gr(i.target,t,1,i.sequenceNumber);_n(e,r)}})),e.remoteSyncer.applyRemoteEvent(i)}(e,i)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return l("RemoteStore","Failed to raise snapshot:",a=o.sent()),[4,Mn(e,a)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Mn(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s=this;return Object(r["c"])(this,(function(n){switch(n.label){case 0:if(!or(t))throw t;return e.Or.add(1),[4,wn(e)];case 1:return n.sent(),e.Br.set("Offline"),i||(i=function(){return Os(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r["a"])(s,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return l("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return t.sent(),e.Or.delete(1),[4,bn(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Pn(e,t){return t().catch((function(i){return Mn(e,i,t)}))}function Bn(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i,s,n,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:t=v(e),i=Fn(t),s=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return In(e)&&e.kr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Is(t.localStore,s)];case 3:return null===(n=r.sent())?(0===t.kr.length&&i.ir(),[3,7]):(s=n.batchId,function(e,t){e.kr.push(t);var i=Fn(e);i.er()&&i.pr&&i.Er(t.mutations)}(t,n),[3,6]);case 4:return a=r.sent(),[4,Mn(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Rn(t)&&Dn(t),[2]}}))}))}function Rn(e){return In(e)&&!Fn(e).tr()&&e.kr.length>0}function Dn(e){Fn(e).start()}function Ln(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return Fn(e).Ar(),[2]}))}))}function Vn(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i,s,n;return Object(r["c"])(this,(function(r){for(t=Fn(e),i=0,s=e.kr;i<s.length;i++)n=s[i],t.Er(n.mutations);return[2]}))}))}function jn(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return s=e.kr.shift(),n=mr.from(s,t,i),[4,Pn(e,(function(){return e.remoteSyncer.applySuccessfulWrite(n)}))];case 1:return r.sent(),[4,Bn(e)];case 2:return r.sent(),[2]}}))}))}function qn(e,t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(i){switch(i.label){case 0:return t&&Fn(e).pr?[4,function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return It(s=t.code)&&s!==c.ABORTED?(i=e.kr.shift(),Fn(e).sr(),[4,Pn(e,(function(){return e.remoteSyncer.rejectFailedWrite(i.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,Bn(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return Rn(e)&&Dn(e),[2]}}))}))}function Un(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=v(e),t?(i.Or.delete(2),[4,bn(i)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(i.Or.add(2),[4,wn(i)]);case 3:r.sent(),i.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Gn(e){var t=this;return e.Ur||(e.Ur=function(e,t,i){var r=v(e);return r.br(),new pn(t,r.Hi,r.credentials,r.R,i)}(e.datastore,e.asyncQueue,{Ii:En.bind(null,e),Ri:An.bind(null,e),_r:Nn.bind(null,e)}),e.Mr.push((function(i){return Object(r["a"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return i?(e.Ur.sr(),Cn(e)?Tn(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),xn(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Fn(e){var t=this;return e.Kr||(e.Kr=function(e,t,i){var r=v(e);return r.br(),new mn(t,r.Hi,r.credentials,r.R,i)}(e.datastore,e.asyncQueue,{Ii:Ln.bind(null,e),Ri:qn.bind(null,e),Ir:Vn.bind(null,e),Tr:jn.bind(null,e)}),e.Mr.push((function(i){return Object(r["a"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return i?(e.Kr.sr(),[4,Bn(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(l("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Hn=function(){function e(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,i,r,s,n){var a=new e(t,i,Date.now()+r,s,n);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new d(c.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function zn(e,t){if(f("AsyncQueue",t+": "+e),or(e))return new d(c.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function e(e){this.comparator=e?function(t,i){return e(t,i)||z.comparator(t.key,i.key)}:function(e,t){return z.comparator(e.key,t.key)},this.keyedMap=Lt(),this.sortedSet=new Et(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,i){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();i.hasNext();){var s=i.getNext().key,n=r.getNext().key;if(!s.isEqual(n))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,i){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r},e}(),Wn=function(){function e(){this.Qr=new Et(z.comparator)}return e.prototype.track=function(e){var t=e.doc.key,i=this.Qr.get(t);i?0!==e.type&&3===i.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==i.type?this.Qr=this.Qr.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Qr=this.Qr.remove(t):1===e.type&&2===i.type?this.Qr=this.Qr.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):g():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,i){e.push(i)})),e},e}(),$n=function(){function e(e,t,i,r,s,n,a,o){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=n,this.syncStateChanged=a,this.excludesMetadataChanges=o}return e.fromInitialDocuments=function(t,i,r,s){var n=[];return i.forEach((function(e){n.push({type:0,doc:e})})),new e(t,i,Kn.emptySet(i),n,r,s,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0},e}(),Yn=function(){this.Wr=void 0,this.listeners=[]},Xn=function(){this.queries=new is((function(e){return Ue(e)}),qe),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o,c,d;return Object(r["c"])(this,(function(r){switch(r.label){case 0:if(i=v(e),s=t.query,n=!1,(a=i.queries.get(s))||(n=!0,a=new Yn),!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),o=a,[4,i.onListen(s)];case 2:return o.Wr=r.sent(),[3,4];case 3:return c=r.sent(),d=zn(c,"Initialization of query '"+Ge(t.query)+"' failed"),[2,void t.onError(d)];case 4:return i.queries.set(s,a),a.listeners.push(t),t.zr(i.onlineState),a.Wr&&t.Hr(a.Wr)&&ta(i),[2]}}))}))}function Zn(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o;return Object(r["c"])(this,(function(r){return i=v(e),s=t.query,n=!1,(a=i.queries.get(s))&&(o=a.listeners.indexOf(t))>=0&&(a.listeners.splice(o,1),n=0===a.listeners.length),n?[2,(i.queries.delete(s),i.onUnlisten(s))]:[2]}))}))}function Jn(e,t){for(var i=v(e),r=!1,s=0,n=t;s<n.length;s++){var a=n[s],o=a.query,c=i.queries.get(o);if(c){for(var d=0,h=c.listeners;d<h.length;d++)h[d].Hr(a)&&(r=!0);c.Wr=a}}r&&ta(i)}function ea(e,t,i){var r=v(e),s=r.queries.get(t);if(s)for(var n=0,a=s.listeners;n<a.length;n++)a[n].onError(i);r.queries.delete(t)}function ta(e){e.Gr.forEach((function(e){e.next()}))}var ia=function(){function e(e,t,i){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],i=0,r=e.docChanges;i<r.length;i++){var s=r[i];3!==s.type&&t.push(s)}e=new $n(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var n=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),n=!0):this.eo(e,this.onlineState)&&(this.no(e),n=!0),this.Xr=e,n},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var i="Offline"!==t;return!(this.options.so&&i||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=$n.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ra=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),sa=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return di(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?mi(this.R,e.document,!1):ce.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return ni(e)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){function e(e,t,i){this.ro=e,this.localStore=t,this.R=i,this.queries=[],this.documents=[],this.progress=na(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,i=new sa(this.R),r=0,s=e;r<s.length;r++){var n=s[r];if(n.metadata.queries)for(var a=i.qn(n.metadata.name),o=0,c=n.metadata.queries;o<c.length;o++){var d=c[o],h=(t.get(d)||Ut()).add(a);t.set(d,h)}}return t},e.prototype.complete=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t,i,s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,Bs(this.localStore,new sa(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),i=0,s=this.queries,r.label=2;case 2:return i<s.length?(n=s[i],[4,Rs(this.localStore,n,t.get(n.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new gs(Object.assign({},this.progress),e))]}}))}))}})();function na(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa=function(e){this.key=e},oa=function(e){this.key=e},ca=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ut(),this.mutatedKeys=Ut(),this.lo=He(e),this.fo=new Kn(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var i=this,r=t?t.mo:new Wn,s=t?t.fo:this.fo,n=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1,c=Me(this.query)&&s.size===this.query.limit?s.last():null,d=Pe(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((function(e,t){var h=s.get(e),u=Fe(i.query,t)?t:null,l=!!h&&i.mutatedKeys.has(h.key),f=!!u&&(u.hasLocalMutations||i.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;h&&u?h.data.isEqual(u.data)?l!==f&&(r.track({type:3,doc:u}),p=!0):i.yo(h,u)||(r.track({type:2,doc:u}),p=!0,(c&&i.lo(u,c)>0||d&&i.lo(u,d)<0)&&(o=!0)):!h&&u?(r.track({type:0,doc:u}),p=!0):h&&!u&&(r.track({type:1,doc:h}),p=!0,(c||d)&&(o=!0)),p&&(u?(a=a.add(u),n=f?n.add(e):n.delete(e)):(a=a.delete(e),n=n.delete(e)))})),Me(this.query)||Pe(this.query))for(;a.size>this.query.limit;){var h=Me(this.query)?a.last():a.first();a=a.delete(h.key),n=n.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:o,mutatedKeys:n}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,i){var r=this,s=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var n=e.mo.jr();n.sort((function(e,t){return function(e,t){var i=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return i(e)-i(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(i);var a=t?this.Eo():[],o=0===this.ho.size&&this.current?1:0,c=o!==this.ao;return this.ao=o,0!==n.length||c?{snapshot:new $n(this.query,e.fo,s,n,e.mutatedKeys,0===o,c,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Wn,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ut(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var i=[];return t.forEach((function(t){e.ho.has(t)||i.push(new oa(t))})),this.ho.forEach((function(e){t.has(e)||i.push(new aa(e))})),i},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ut();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return $n.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),da=function(e,t,i){this.query=e,this.targetId=t,this.view=i},ha=function(e){this.key=e,this.bo=!1},ua=function(){function e(e,t,i,r,s,n){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=n,this.vo={},this.Po=new is((function(e){return Ue(e)}),qe),this.Vo=new Map,this.So=new Set,this.Do=new Et(z.comparator),this.Co=new Map,this.No=new Ls,this.xo={},this.Fo=new Map,this.ko=Hr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function la(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o,c;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=Ua(e),(a=i.Po.get(t))?(s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),n=a.view.Ro(),[3,4]):[3,1];case 1:return[4,xs(i.localStore,Ve(t))];case 2:return o=r.sent(),c=i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.targetId,[4,fa(i,t,s,"current"===c)];case 3:n=r.sent(),i.isPrimaryClient&&Sn(i.remoteStore,o),r.label=4;case 4:return[2,n]}}))}))}function fa(e,t,i,s){return Object(r["a"])(this,void 0,void 0,(function(){var n,a,o,c,d,h;return Object(r["c"])(this,(function(u){switch(u.label){case 0:return e.Oo=function(t,i,s){return function(e,t,i,s){return Object(r["a"])(this,void 0,void 0,(function(){var n,a,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=t.view._o(i),n.Nn?[4,As(e.localStore,t.query,!1).then((function(e){var i=e.documents;return t.view._o(i,n)}))]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return a=s&&s.targetChanges.get(t.targetId),o=t.view.applyChanges(n,e.isPrimaryClient,a),[2,(Ca(e,t.targetId,o.To),o.snapshot)]}}))}))}(e,t,i,s)},[4,As(e.localStore,t,!0)];case 1:return n=u.sent(),a=new ca(t,n.Bn),o=a._o(n.documents),c=zt.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==e.onlineState),d=a.applyChanges(o,e.isPrimaryClient,c),Ca(e,i,d.To),h=new da(t,i,a),[2,(e.Po.set(t,h),e.Vo.has(i)?e.Vo.get(i).push(t):e.Vo.set(i,[t]),d.snapshot)]}}))}))}function pa(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=v(e),s=i.Po.get(t),(n=i.Vo.get(s.targetId)).length>1?[2,(i.Vo.set(s.targetId,n.filter((function(e){return!qe(e,t)}))),void i.Po.delete(t))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,Es(i.localStore,s.targetId,!1).then((function(){i.sharedClientState.clearQueryState(s.targetId),kn(i.remoteStore,s.targetId),Oa(i,s.targetId)})).catch(Yr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Oa(i,s.targetId),[4,Es(i.localStore,s.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ma(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:s=Ga(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var i,r=v(e),s=O.now(),n=t.reduce((function(e,t){return e.add(t.key)}),Ut());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,n).next((function(n){i=n;for(var a=[],o=0,c=t;o<c.length;o++){var d=c[o],h=pt(d,i.get(d.key));null!=h&&a.push(new vt(d.key,h,oe(h.value.mapValue),dt.exists(!0)))}return r._n.addMutationBatch(e,s,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(i),{batchId:e.batchId,changes:i}}))}(s.localStore,t)];case 2:return n=r.sent(),s.sharedClientState.addPendingMutation(n.batchId),function(e,t,i){var r=e.xo[e.currentUser.toKey()];r||(r=new Et(S)),r=r.insert(t,i),e.xo[e.currentUser.toKey()]=r}(s,n.batchId,i),[4,Ea(s,n.changes)];case 3:return r.sent(),[4,Bn(s.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),o=zn(a,"Failed to persist write"),i.reject(o),[3,6];case 6:return[2]}}))}))}function ga(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=v(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ts(i.localStore,t)];case 2:return s=r.sent(),t.targetChanges.forEach((function(e,t){var r=i.Co.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?y(r.bo):e.removedDocuments.size>0&&(y(r.bo),r.bo=!1))})),[4,Ea(i,s,t)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ya(e,t,i){var r=v(e);if(r.isPrimaryClient&&0===i||!r.isPrimaryClient&&1===i){var s=[];r.Po.forEach((function(e,i){var r=i.view.zr(t);r.snapshot&&s.push(r.snapshot)})),function(e,t){var i=v(e);i.onlineState=t;var r=!1;i.queries.forEach((function(e,i){for(var s=0,n=i.listeners;s<n.length;s++)n[s].zr(t)&&(r=!0)})),r&&ta(i)}(r.eventManager,t),s.length&&r.vo._r(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function va(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a,o,c,d;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(s=v(e)).sharedClientState.updateQueryState(t,"rejected",i),n=s.Co.get(t),(a=n&&n.key)?(o=(o=new Et(z.comparator)).insert(a,ce.newNoDocument(a,T.min())),c=Ut().add(a),d=new Ht(T.min(),new Map,new Mt(S),o,c),[4,ga(s,d)]):[3,2];case 1:return r.sent(),s.Do=s.Do.remove(a),s.Co.delete(t),xa(s),[3,4];case 2:return[4,Es(s.localStore,t,!1).then((function(){return Oa(s,t,i)})).catch(Yr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function ba(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=v(e),s=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_s(i.localStore,t)];case 2:return n=r.sent(),_a(i,s,null),ka(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),[4,Ea(i,n)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function wa(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:s=v(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var i=v(e);return i.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return i._n.lookupMutationBatch(e,t).next((function(t){return y(null!==t),r=t.keys(),i._n.removeMutationBatch(e,t)})).next((function(){return i._n.performConsistencyCheck(e)})).next((function(){return i.Mn.pn(e,r)}))}))}(s.localStore,t)];case 2:return n=r.sent(),_a(s,t,i),ka(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),[4,Ea(s,n)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Sa(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:In((i=v(e)).remoteStore)||l("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=v(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(i.localStore)];case 2:return-1===(s=r.sent())?[2,void t.resolve()]:((n=i.Fo.get(s)||[]).push(t),i.Fo.set(s,n),[3,4]);case 3:return a=r.sent(),o=zn(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))}function ka(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function _a(e,t,i){var r=v(e),s=r.xo[r.currentUser.toKey()];if(s){var n=s.get(t);n&&(i?n.reject(i):n.resolve(),s=s.remove(t)),r.xo[r.currentUser.toKey()]=s}}function Oa(e,t,i){void 0===i&&(i=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,s=e.Vo.get(t);r<s.length;r++){var n=s[r];e.Po.delete(n),i&&e.vo.Mo(n,i)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ta(e,t)}))}function Ta(e,t){e.So.delete(t.path.canonicalString());var i=e.Do.get(t);null!==i&&(kn(e.remoteStore,i),e.Do=e.Do.remove(t),e.Co.delete(i),xa(e))}function Ca(e,t,i){for(var r=0,s=i;r<s.length;r++){var n=s[r];n instanceof aa?(e.No.addReference(n.key,t),Ia(e,n)):n instanceof oa?(l("SyncEngine","Document no longer in limbo: "+n.key),e.No.removeReference(n.key,t),e.No.containsKey(n.key)||Ta(e,n.key)):g()}}function Ia(e,t){var i=t.key,r=i.path.canonicalString();e.Do.get(i)||e.So.has(r)||(l("SyncEngine","New document in limbo: "+i),e.So.add(r),xa(e))}function xa(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var i=new z(A.fromString(t)),r=e.ko.next();e.Co.set(r,new ha(i)),e.Do=e.Do.insert(i,r),Sn(e.remoteStore,new gr(Ve(Ne(i.path)),r,2,o.o))}}function Ea(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a,o;return Object(r["c"])(this,(function(c){switch(c.label){case 0:return s=v(e),n=[],a=[],o=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach((function(e,r){o.push(s.Oo(r,t,i).then((function(e){if(e){s.isPrimaryClient&&s.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),n.push(e);var t=vs.Pn(r.targetId,e);a.push(t)}})))})),[4,Promise.all(o)]);case 1:return c.sent(),s.vo._r(n),[4,function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o,c,d,h,u;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=v(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ir.forEach(t,(function(t){return ir.forEach(t.bn,(function(r){return i.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return ir.forEach(t.vn,(function(r){return i.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!or(s=r.sent()))throw s;return l("LocalStore","Failed to update sequence numbers: "+s),[3,4];case 4:for(n=0,a=t;n<a.length;n++)o=a[n],c=o.targetId,o.fromCache||(d=i.Fn.get(c),h=d.snapshotVersion,u=d.withLastLimboFreeSnapshotVersion(h),i.Fn=i.Fn.insert(c,u));return[2]}}))}))}(s.localStore,a)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Aa(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(i=v(e)).currentUser.isEqual(t)?[3,3]:(l("SyncEngine","User change. New user:",t.toKey()),[4,ks(i.localStore,t)]);case 1:return s=r.sent(),i.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new d(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(i),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),[4,Ea(i,s.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Na(e,t){var i=v(e),r=i.Co.get(t);if(r&&r.bo)return Ut().add(r.key);var s=Ut(),n=i.Vo.get(t);if(!n)return s;for(var a=0,o=n;a<o.length;a++){var c=o[a],d=i.Po.get(c);s=s.unionWith(d.view.wo)}return s}function Ma(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,As((i=v(e)).localStore,t.query,!0)];case 1:return s=r.sent(),n=t.view.Ao(s),[2,(i.isPrimaryClient&&Ca(i,t.targetId,n.To),n)]}}))}))}function Pa(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){return[2,Ms((t=v(e)).localStore).then((function(e){return Ea(t,e)}))]}))}))}function Ba(e,t,i,s){return Object(r["a"])(this,void 0,void 0,(function(){var n,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var i=v(e),r=v(i._n);return i.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?i.Mn.pn(e,t):ir.resolve(null)}))}))}((n=v(e)).localStore,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==i?[3,3]:[4,Bn(n.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(_a(n,t,s||null),ka(n,t),function(e,t){v(v(e)._n).Gt(t)}(n.localStore,t)):g(),r.label=4;case 4:return[4,Ea(n,a)];case 5:return r.sent(),[3,7];case 6:l("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Ra(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o,c,d,h;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return Ua(i=v(e)),Ga(i),!0!==t||!0===i.$o?[3,3]:(s=i.sharedClientState.getAllActiveQueryTargets(),[4,Da(i,s.toArray())]);case 1:return n=r.sent(),i.$o=!0,[4,Un(i.remoteStore,!0)];case 2:for(r.sent(),a=0,o=n;a<o.length;a++)c=o[a],Sn(i.remoteStore,c);return[3,7];case 3:return!1!==t||!1===i.$o?[3,7]:(d=[],h=Promise.resolve(),i.Vo.forEach((function(e,t){i.sharedClientState.isLocalQueryTarget(t)?d.push(t):h=h.then((function(){return Oa(i,t),Es(i.localStore,t,!0)})),kn(i.remoteStore,t)})),[4,h]);case 4:return r.sent(),[4,Da(i,d)];case 5:return r.sent(),function(e){var t=v(e);t.Co.forEach((function(e,i){kn(t.remoteStore,i)})),t.No.ts(),t.Co=new Map,t.Do=new Et(z.comparator)}(i),i.$o=!1,[4,Un(i.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Da(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o,c,d,h,u,l,f,p,m,g;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=v(e),s=[],n=[],a=0,o=t,r.label=1;case 1:return a<o.length?(c=o[a],d=void 0,(h=i.Vo.get(c))&&0!==h.length?[4,xs(i.localStore,Ve(h[0]))]:[3,7]):[3,13];case 2:d=r.sent(),u=0,l=h,r.label=3;case 3:return u<l.length?(f=l[u],p=i.Po.get(f),[4,Ma(i,p)]):[3,6];case 4:(m=r.sent()).snapshot&&n.push(m.snapshot),r.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,Ns(i.localStore,c)];case 8:return g=r.sent(),[4,xs(i.localStore,g)];case 9:return d=r.sent(),[4,fa(i,La(g),c,!1)];case 10:r.sent(),r.label=11;case 11:s.push(d),r.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(n),s)]}}))}))}function La(e){return Ae(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Va(e){var t=v(e);return v(v(t.localStore).persistence).fn()}function ja(e,t,i,s){return Object(r["a"])(this,void 0,void 0,(function(){var n,a,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(n=v(e)).$o?(l("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!n.Vo.has(t))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ms(n.localStore)];case 3:return a=r.sent(),o=Ht.createSynthesizedRemoteEventForCurrentChange(t,"current"===i),[4,Ea(n,a,o)];case 4:return r.sent(),[3,8];case 5:return[4,Es(n.localStore,t,!0)];case 6:return r.sent(),Oa(n,t,s),[3,8];case 7:g(),r.label=8;case 8:return[2]}}))}))}function qa(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a,o,c,d,h,u,f,p;return Object(r["c"])(this,(function(m){switch(m.label){case 0:if(!(s=Ua(e)).$o)return[3,10];n=0,a=t,m.label=1;case 1:return n<a.length?(o=a[n],s.Vo.has(o)?(l("SyncEngine","Adding an already active target "+o),[3,5]):[4,Ns(s.localStore,o)]):[3,6];case 2:return c=m.sent(),[4,xs(s.localStore,c)];case 3:return d=m.sent(),[4,fa(s,La(c),d.targetId,!1)];case 4:m.sent(),Sn(s.remoteStore,d),m.label=5;case 5:return n++,[3,1];case 6:h=function(e){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return s.Vo.has(e)?[4,Es(s.localStore,e,!1).then((function(){kn(s.remoteStore,e),Oa(s,e)})).catch(Yr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},u=0,f=i,m.label=7;case 7:return u<f.length?(p=f[u],[5,h(p)]):[3,10];case 8:m.sent(),m.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))}function Ua(e){var t=v(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ga.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Na.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=va.bind(null,t),t.vo._r=Jn.bind(null,t.eventManager),t.vo.Mo=ea.bind(null,t.eventManager),t}function Ga(e){var t=v(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ba.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wa.bind(null,t),t}var Fa=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return this.R=un(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Ss(this.persistence,new bs,e.initialUser,this.R)},e.prototype.qo=function(e){return new Fs(zs.bs,this.R)},e.prototype.Bo=function(e){return new rn},e.prototype.terminate=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ha=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).Qo=t,s.cacheSizeBytes=i,s.forceOwnership=r,s.synchronizeTabs=!1,s}return Object(r["b"])(t,e),t.prototype.initialize=function(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),[4,Ps(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,t)];case 3:return i.sent(),[4,Ga(this.Qo.syncEngine)];case 4:return i.sent(),[4,Bn(this.Qo.remoteStore)];case 5:return i.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Ss(this.persistence,new bs,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=ms(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new ls(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,dn(),hn(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new rn},t}(Fa),za=function(e){function t(t,i){var r=this;return(r=e.call(this,t,i,!1)||this).Qo=t,r.cacheSizeBytes=i,r.synchronizeTabs=!0,r}return Object(r["b"])(t,e),t.prototype.initialize=function(t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s=this;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof tn?(this.sharedClientState.syncEngine={ui:Ba.bind(null,i),ai:ja.bind(null,i),hi:qa.bind(null,i),fn:Va.bind(null,i),ci:Pa.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:n.sent(),n.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r["a"])(s,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return[4,Ra(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return n.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=dn();if(!tn.yt(t))throw new d(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=ms(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tn(t,e.asyncQueue,i,e.clientId,e.initialUser)},t}(Ha),Ka=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ya(i.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Aa.bind(null,this.syncEngine),[4,Un(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Xn},e.prototype.createDatastore=function(e){var t,i=un(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cn(t));return function(e,t,i){return new gn(e,t,i)}(e.credentials,r,i)},e.prototype.createRemoteStore=function(e){var t,i,r,s,n,a=this;return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=function(e){return ya(a.syncEngine,e,0)},n=nn.yt()?new nn:new sn,new vn(t,i,r,s,n)},e.prototype.createSyncEngine=function(e,t){return function(e,t,i,r,s,n,a){var o=new ua(e,t,i,r,s,n);return a&&(o.$o=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return t=v(e),l("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,wn(t)];case 1:return i.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wa=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var i=this;this.muted||setTimeout((function(){i.muted||e(t)}),0)},e}(),$a=(function(){function e(e,t){var i=this;this.Go=e,this.R=t,this.metadata=new tr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?i.metadata.resolve(e.payload.metadata):i.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return i.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t,i,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),i=Number(t),isNaN(i)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(i)]);case 2:return s=r.sent(),[2,new ra(JSON.parse(s),e.length+i)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(e=i.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i=this;return Object(r["c"])(this,(function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new d(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n,a,o,c;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=v(e),s=li(i.R)+"/documents",n={documents:t.map((function(e){return ci(i.R,e)}))},[4,i.$i("BatchGetDocuments",s,n)];case 1:return a=r.sent(),o=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){y(!!t.found),t.found.name,t.found.updateTime;var i=di(e,t.found.name),r=ni(t.found.updateTime),s=new ae({mapValue:{fields:t.found.fields}});return ce.newFoundDocument(i,r,s)}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);var i=di(e,t.missing),r=ni(t.readTime);return ce.newNoDocument(i,r)}(e,t):g()}(i.R,e);o.set(t.key.toString(),t)})),c=[],[2,(t.forEach((function(e){var t=o.get(e.toString());y(!!t),c.push(t)})),c)]}}))}))}(this.datastore,e)];case 1:return[2,((t=s.sent()).forEach((function(e){return i.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ot(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t=this;return Object(r["c"])(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,i){var r=z.fromPath(i);t.mutations.push(new Tt(r,t.precondition(r)))})),[4,function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=v(e),s=li(i.R)+"/documents",n={writes:t.map((function(e){return gi(i.R,e)}))},[4,i.Ni("Commit",s,n)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw g();t=T.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new d(c.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?dt.updateTime(t):dt.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(T.min()))throw new d(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dt.updateTime(t)}return dt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Ya=function(){function e(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.ec=5,this.Zi=new ln(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r["a"])(e,void 0,void 0,(function(){var e,t,i=this;return Object(r["c"])(this,(function(r){return e=new $a(this.datastore),(t=this.sc(e))&&t.then((function(t){i.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){i.deferred.resolve(t)})).catch((function(e){i.ic(e)}))}))})).catch((function(e){i.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!G(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!It(t)}return!1},e}(),Xa=function(){function e(e,t,i){var s=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=i,this.user=Ks.UNAUTHENTICATED,this.clientId=w.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r["a"])(s,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return l("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new d(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r["a"])(e,void 0,void 0,(function(){var e,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),i=zn(e,"Failed to shutdown persistence"),t.reject(i),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s,n=this;return Object(r["c"])(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),l("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return i=a.sent(),[4,t.initialize(i)];case 2:return a.sent(),s=i.initialUser,e.setCredentialChangeListener((function(e){return Object(r["a"])(n,void 0,void 0,(function(){return Object(r["c"])(this,(function(i){switch(i.label){case 0:return s.isEqual(e)?[3,2]:[4,ks(t.localStore,e)];case 1:i.sent(),s=e,i.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Za(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ja(e)];case 1:return i=n.sent(),l("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return s=n.sent(),[4,t.initialize(i,s)];case 3:return n.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r["a"])(this,void 0,void 0,(function(){var i,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(i=v(e)).asyncQueue.verifyOperationInProgress(),l("RemoteStore","RemoteStore received new credentials"),s=In(i),i.Or.add(3),[4,wn(i)];case 1:return r.sent(),s&&i.Br.set("Unknown"),[4,i.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),i.Or.delete(3),[4,bn(i)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Ja(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(l("FirestoreClient","Using default OfflineComponentProvider"),[4,Qa(e,new Fa)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function eo(e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(l("FirestoreClient","Using default OnlineComponentProvider"),[4,Za(e,new Ka)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function to(e){return Ja(e).then((function(e){return e.persistence}))}function io(e){return Ja(e).then((function(e){return e.localStore}))}function ro(e){return eo(e).then((function(e){return e.remoteStore}))}function so(e){return eo(e).then((function(e){return e.syncEngine}))}function no(e){return Object(r["a"])(this,void 0,void 0,(function(){var t,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,eo(e)];case 1:return t=r.sent(),[2,((i=t.eventManager).onListen=la.bind(null,t.syncEngine),i.onUnlisten=pa.bind(null,t.syncEngine),i)]}}))}))}function ao(e,t,i){var s=this;void 0===i&&(i={});var n=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(s,void 0,void 0,(function(){var s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return s=function(e,t,i,r,s){var n=new Wa({next:function(n){t.enqueueAndForget((function(){return Zn(e,a)}));var o=n.docs.has(i);!o&&n.fromCache?s.reject(new d(c.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&n.fromCache&&r&&"server"===r.source?s.reject(new d(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(n)},error:function(e){return s.reject(e)}}),a=new ia(Ne(i.path),n,{includeMetadataChanges:!0,so:!0});return Qn(e,a)},[4,no(e)];case 1:return[2,s.apply(void 0,[r.sent(),e.asyncQueue,t,i,n])]}}))}))})),n.promise}function oo(e,t,i){var s=this;void 0===i&&(i={});var n=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(s,void 0,void 0,(function(){var s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return s=function(e,t,i,r,s){var n=new Wa({next:function(i){t.enqueueAndForget((function(){return Zn(e,a)})),i.fromCache&&"server"===r.source?s.reject(new d(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(i)},error:function(e){return s.reject(e)}}),a=new ia(i,n,{includeMetadataChanges:!0,so:!0});return Qn(e,a)},[4,no(e)];case 1:return[2,s.apply(void 0,[r.sent(),e.asyncQueue,t,i,n])]}}))}))})),n.promise}var co=function(e,t,i,r,s,n,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=n,this.autoDetectLongPolling=a,this.useFetchStreams=o},ho=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),uo=new Map,lo=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},fo=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Ks.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),po=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var i=this;this.changeListener=t,e.enqueueRetryable((function(){return t(i.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),mo=function(){function e(e){var t=this;this.currentUser=Ks.UNAUTHENTICATED,this.oc=new tr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var i=function(e){l("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return i(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?i(r):(l("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((function(i){return e.cc!==t?(l("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(y("string"==typeof i.accessToken),new lo(i.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r["a"])(i,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new Ks(e)},e}(),go=function(){function e(e,t,i){this.hc=e,this.lc=t,this.fc=i,this.type="FirstParty",this.user=Ks.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),yo=function(){function e(e,t,i){this.hc=e,this.lc=t,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new go(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Ks.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e,t,i){if(!i)throw new d(c.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function bo(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new d(c.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function wo(e,t,i,r){if(!0===t&&!0===r)throw new d(c.INVALID_ARGUMENT,e+" and "+i+" cannot be used together.")}function So(e){if(!z.isDocumentKey(e))throw new d(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ko(e){if(z.isDocumentKey(e))throw new d(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function _o(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function Oo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new d(c.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=_o(e);throw new d(c.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+i)}return e}function To(e,t){if(t<=0)throw new d(c.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new d(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new d(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wo("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Io=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Co({}),this._settingsFrozen=!1,e instanceof ho?(this._databaseId=e,this._credentials=new fo):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new d(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(e.options.projectId)}(e),this._credentials=new mo(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new d(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new d(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Co(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new fo;switch(e.type){case"gapi":var t=e.client;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new d(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return e=this,(t=uo.get(e))&&(l("ComponentProvider","Removing Datastore"),uo.delete(e),t.terminate()),Promise.resolve();var e,t},e}(),xo=function(){function e(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ao(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Eo=function(){function e(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ao=function(e){function t(t,i,r){var s=this;return(s=e.call(this,t,i,Ne(r))||this)._path=r,s.type="collection",s}return Object(r["b"])(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xo(this.firestore,null,new z(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Eo);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e,t){for(var i,n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(e=Object(s["k"])(e),vo("collection","path",t),e instanceof Io)return ko(i=A.fromString.apply(A,Object(r["d"])([t],n))),new Ao(e,null,i);if(!(e instanceof xo||e instanceof Ao))throw new d(c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ko(i=A.fromString.apply(A,Object(r["d"])([e.path],n)).child(A.fromString(t))),new Ao(e.firestore,null,i)}function Mo(e,t){for(var i,n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(e=Object(s["k"])(e),1===arguments.length&&(t=w.u()),vo("doc","path",t),e instanceof Io)return So(i=A.fromString.apply(A,Object(r["d"])([t],n))),new xo(e,null,new z(i));if(!(e instanceof xo||e instanceof Ao))throw new d(c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return So(i=e._path.child(A.fromString.apply(A,Object(r["d"])([t],n)))),new xo(e.firestore,e instanceof Ao?e.converter:null,new z(i))}function Po(e,t){return e=Object(s["k"])(e),t=Object(s["k"])(t),(e instanceof xo||e instanceof Ao)&&(t instanceof xo||t instanceof Ao)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bo(e,t){return e=Object(s["k"])(e),t=Object(s["k"])(t),e instanceof Eo&&t instanceof Eo&&e.firestore===t.firestore&&qe(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ro=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new ln(this,"async_queue_retry"),this.Tc=function(){var t=hn();t&&l("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=hn();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=hn();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},e.prototype.Rc=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e,t=this;return Object(r["c"])(this,(function(i){switch(i.label){case 0:if(0===this.wc.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!or(e=i.sent()))throw e;return l("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.Rc()})),i.label=5;case 5:return[2]}}))}))},e.prototype.Ac=function(e){var t=this,i=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,f("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=i,i},e.prototype.enqueueAfterDelay=function(e,t,i){var r=this;this.Ic(),this.Ec.indexOf(e)>-1&&(t=0);var s=Hn.createAndSchedule(this,e,t,i,(function(e){return r.bc(e)}));return this.mc.push(s),s},e.prototype.Ic=function(){this.yc&&g()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Pc=function(e){for(var t=0,i=this.mc;t<i.length;t++)if(i[t].timerId===e)return!0;return!1},e.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var i=0,r=t.mc;i<r.length;i++){var s=r[i];if(s.skipDelay(),"all"!==e&&s.timerId===e)break}return t.vc()}))},e.prototype.Sc=function(e){this.Ec.push(e)},e.prototype.bc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Do(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var i=e,r=0,s=["next","error","complete"];r<s.length;r++){var n=s[r];if(n in i&&"function"==typeof i[n])return!0}return!1}(e)}(function(){function e(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,i){this._progressObserver={next:e,error:t,complete:i}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}})();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=-1,Vo=function(e){function t(t,i){var r=this;return(r=e.call(this,t,i)||this).type="firestore",r._queue=new Ro,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r["b"])(t,e),t.prototype._terminate=function(){return this._firestoreClient||qo(this),this._firestoreClient.terminate()},t}(Io);function jo(e){return e._firestoreClient||qo(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qo(e){var t,i=e._freezeSettings(),r=function(e,t,i,r){return new co(e,t,i,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Xa(e._credentials,e._queue,r)}function Uo(e,t,i){var s=this,n=new tr;return e.asyncQueue.enqueue((function(){return Object(r["a"])(s,void 0,void 0,(function(){var s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Qa(e,i)];case 1:return r.sent(),[4,Za(e,t)];case 2:return r.sent(),n.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===c.FAILED_PRECONDITION||e.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(s=r.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),n.reject(s),[3,4];case 4:return[2]}}))}))})).then((function(){return n.promise}))}function Go(e){if(e._initialized||e._terminated)throw new d(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0;i<e.length;++i)if(0===e[i].length)throw new d(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new M(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Ho=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(B.fromBase64String(t))}catch(t){throw new d(c.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(B.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),zo=function(e){this._methodName=e},Ko=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new d(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new d(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return S(this._lat,e._lat)||S(this._long,e._long)},e}(),Wo=/^__.*__$/,$o=function(){function e(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new vt(e,this.data,this.fieldMask,t,this.fieldTransforms):new yt(e,this.data,t,this.fieldTransforms)},e}(),Yo=function(){function e(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}return e.prototype.toMutation=function(e,t){return new vt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var Qo=function(){function e(e,t,i,r,s,n){this.settings=e,this.databaseId=t,this.R=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Dc(),this.fieldTransforms=s||[],this.fieldMask=n||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(e){var t,i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:i,Fc:!1});return r.kc(e),r},e.prototype.$c=function(e){var t,i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:i,Fc:!1});return r.Dc(),r},e.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(e){return yc(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},e.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(Xo(this.Cc)&&Wo.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),Zo=function(){function e(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=i||un(e)}return e.prototype.qc=function(e,t,i,r){return void 0===r&&(r=!1),new Qo({Cc:e,methodName:t,Bc:i,path:M.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Jo(e){var t=e._freezeSettings(),i=un(e._databaseId);return new Zo(e._databaseId,!!t.ignoreUndefinedProperties,i)}function ec(e,t,i,r,s,n){void 0===n&&(n={});var a=e.qc(n.merge||n.mergeFields?2:0,t,i,s);fc("Data must be an object, but it was:",a,r);var o,h,u=uc(r,a);if(n.merge)o=new P(a.fieldMask),h=a.fieldTransforms;else if(n.mergeFields){for(var l=[],f=0,p=n.mergeFields;f<p.length;f++){var m=pc(t,p[f],i);if(!a.contains(m))throw new d(c.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");vc(l,m)||l.push(m)}o=new P(l),h=a.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=null,h=a.fieldTransforms;return new $o(new ae(u),o,h)}var tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(zo);function ic(e,t,i){return new Qo({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:i},t.databaseId,t.R,t.ignoreUndefinedProperties)}var rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype._toFieldTransform=function(e){return new ot(e.path,new Je)},t.prototype.isEqual=function(e){return e instanceof t},t}(zo),sc=function(e){function t(t,i){var r=this;return(r=e.call(this,t)||this).Uc=i,r}return Object(r["b"])(t,e),t.prototype._toFieldTransform=function(e){var t=ic(this,e,!0),i=this.Uc.map((function(e){return hc(e,t)})),r=new et(i);return new ot(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(zo),nc=function(e){function t(t,i){var r=this;return(r=e.call(this,t)||this).Uc=i,r}return Object(r["b"])(t,e),t.prototype._toFieldTransform=function(e){var t=ic(this,e,!0),i=this.Uc.map((function(e){return hc(e,t)})),r=new it(i);return new ot(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(zo),ac=function(e){function t(t,i){var r=this;return(r=e.call(this,t)||this).Kc=i,r}return Object(r["b"])(t,e),t.prototype._toFieldTransform=function(e){var t=new st(e.R,$e(e.R,this.Kc));return new ot(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(zo);function oc(e,t,i,r){var n=e.qc(1,t,i);fc("Data must be an object, but it was:",n,r);var a=[],o=ae.empty();I(r,(function(e,r){var c=gc(t,e,i);r=Object(s["k"])(r);var d=n.$c(c);if(r instanceof tc)a.push(c);else{var h=hc(r,d);null!=h&&(a.push(c),o.set(c,h))}}));var c=new P(a);return new Yo(o,c,n.fieldTransforms)}function cc(e,t,i,r,n,a){var o=e.qc(1,t,i),h=[pc(t,r,i)],u=[n];if(a.length%2!=0)throw new d(c.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)h.push(pc(t,a[l])),u.push(a[l+1]);for(var f=[],p=ae.empty(),m=h.length-1;m>=0;--m)if(!vc(f,h[m])){var g=h[m],y=u[m];y=Object(s["k"])(y);var v=o.$c(g);if(y instanceof tc)f.push(g);else{var b=hc(y,v);null!=b&&(f.push(g),p.set(g,b))}}var w=new P(f);return new Yo(p,w,o.fieldTransforms)}function dc(e,t,i,r){return void 0===r&&(r=!1),hc(i,e.qc(r?4:3,t))}function hc(e,t){if(lc(e=Object(s["k"])(e)))return fc("Unsupported field value:",t,e),uc(e,t);if(e instanceof zo)return function(e,t){if(!Xo(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");var i=e._toFieldTransform(t);i&&t.fieldTransforms.push(i)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(e,t){for(var i=[],r=0,s=0,n=e;s<n.length;s++){var a=hc(n[s],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}return{arrayValue:{values:i}}}(e,t)}return function(e,t){if(null===(e=Object(s["k"])(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $e(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var i=O.fromDate(e);return{timestampValue:ii(t.R,i)}}if(e instanceof O)return i=new O(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ii(t.R,i)};if(e instanceof Ko)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ho)return{bytesValue:ri(t.R,e._byteString)};if(e instanceof xo){i=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(i))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ai(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+_o(e))}(e,t)}function uc(e,t){var i={};return x(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):I(e,(function(e,r){var s=hc(r,t.xc(e));null!=s&&(i[e]=s)})),{mapValue:{fields:i}}}function lc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof O||e instanceof Ko||e instanceof Ho||e instanceof xo||e instanceof zo)}function fc(e,t,i){if(!lc(i)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(i)){var r=_o(i);throw"an object"===r?t.Mc(e+" a custom object"):t.Mc(e+" "+r)}}function pc(e,t,i){if((t=Object(s["k"])(t))instanceof Fo)return t._internalPath;if("string"==typeof t)return gc(e,t);throw yc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,i)}var mc=new RegExp("[~\\*/\\[\\]]");function gc(e,t,i){if(t.search(mc)>=0)throw yc("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,i);try{return(new(Fo.bind.apply(Fo,Object(r["d"])([void 0],t.split(".")))))._internalPath}catch(s){throw yc("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,i)}}function yc(e,t,i,r,s){var n=r&&!r.isEmpty(),a=void 0!==s,o="Function "+t+"() called with invalid data";i&&(o+=" (via `toFirestore()`)");var h="";return(n||a)&&(h+=" (found",n&&(h+=" in field "+r),a&&(h+=" in document "+s),h+=")"),new d(c.INVALID_ARGUMENT,(o+=". ")+e+h)}function vc(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bc=function(){function e(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xo(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new wc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Sc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),wc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(bc);function Sc(e,t){return"string"==typeof t?gc(e,t):t instanceof Fo?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kc=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),_c=function(e){function t(t,i,r,s,n,a){var o=this;return(o=e.call(this,t,i,r,s,a)||this)._firestore=t,o._firestoreImpl=t,o.metadata=n,o}return Object(r["b"])(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var i=this._document.data.field(Sc("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}},t}(bc),Oc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(_c),Tc=function(){function e(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kc(r.hasPendingWrites,r.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var i=this;this._snapshot.docs.forEach((function(r){e.call(t,new Oc(i._firestore,i._userDataWriter,r.key,r,new kc(i._snapshot.mutatedKeys.has(r.key),i._snapshot.fromCache),i.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new d(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var i=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Oc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:i++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var i=new Oc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),s=-1,n=-1;return 0!==t.type&&(s=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(n=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Cc(t.type),doc:i,oldIndex:s,newIndex:n}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Cc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Ic(e,t){return e instanceof _c&&t instanceof _c?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Tc&&t instanceof Tc&&e._firestore===t._firestore&&Bo(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(e){if(Pe(e)&&0===e.explicitOrderBy.length)throw new d(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ec=function(){};function Ac(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=0,s=t;r<s.length;r++){var n=s[r];e=n._apply(e)}return e}var Nc=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).Qc=t,s.jc=i,s.Wc=r,s.type="where",s}return Object(r["b"])(t,e),t.prototype._apply=function(e){var t=Jo(e.firestore),i=function(e,t,i,r,s,n,a){var o;if(s.isKeyField()){if("array-contains"===n||"array-contains-any"===n)throw new d(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+n+"' queries on FieldPath.documentId().");if("in"===n||"not-in"===n){Vc(a,n);for(var h=[],u=0,l=a;u<l.length;u++){var f=l[u];h.push(Lc(r,e,f))}o={arrayValue:{values:h}}}else o=Lc(r,e,a)}else"in"!==n&&"not-in"!==n&&"array-contains-any"!==n||Vc(a,n),o=dc(i,"where",a,"in"===n||"not-in"===n);var p=pe.create(s,n,o);return function(e,t){if(t.g()){var i=Re(e);if(null!==i&&!i.isEqual(t.field))throw new d(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+i.toString()+"' and '"+t.field.toString()+"'");var r=Be(e);null!==r&&jc(e,t.field,r)}var s=function(e,t){for(var i=0,r=e.filters;i<r.length;i++){var s=r[i];if(t.indexOf(s.op)>=0)return s.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==s)throw s===t.op?new d(c.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new d(c.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Eo(e.firestore,e.converter,function(e,t){var i=e.filters.concat([t]);return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,i))},t}(Ec),Mc=function(e){function t(t,i){var r=this;return(r=e.call(this)||this).Qc=t,r.Gc=i,r.type="orderBy",r}return Object(r["b"])(t,e),t.prototype._apply=function(e){var t=function(e,t,i){if(null!==e.startAt)throw new d(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new d(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Te(t,i);return function(e,t){if(null===Be(e)){var i=Re(e);null!==i&&jc(e,i,t.field)}}(e,r),r}(e._query,this.Qc,this.Gc);return new Eo(e.firestore,e.converter,function(e,t){var i=e.explicitOrderBy.concat([t]);return new Ee(e.path,e.collectionGroup,i,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Ec),Pc=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).type=t,s.zc=i,s.Hc=r,s}return Object(r["b"])(t,e),t.prototype._apply=function(e){return new Eo(e.firestore,e.converter,je(e._query,this.zc,this.Hc))},t}(Ec),Bc=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).type=t,s.Jc=i,s.Yc=r,s}return Object(r["b"])(t,e),t.prototype._apply=function(e){var t=Dc(e,this.type,this.Jc,this.Yc);return new Eo(e.firestore,e.converter,function(e,t){return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Ec),Rc=function(e){function t(t,i,r){var s=this;return(s=e.call(this)||this).type=t,s.Jc=i,s.Yc=r,s}return Object(r["b"])(t,e),t.prototype._apply=function(e){var t=Dc(e,this.type,this.Jc,this.Yc);return new Eo(e.firestore,e.converter,function(e,t){return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Ec);function Dc(e,t,i,r){if(i[0]=Object(s["k"])(i[0]),i[0]instanceof bc)return function(e,t,i,r,s){if(!r)throw new d(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+i+"().");for(var n=[],a=0,o=Le(e);a<o.length;a++){var h=o[a];if(h.field.isKeyField())n.push(J(t,r.key));else{var u=r.data.field(h.field);if(j(u))throw new d(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=h.field.canonicalString();throw new d(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}n.push(u)}}return new _e(n,s)}(e._query,e.firestore._databaseId,t,i[0]._document,r);var n=Jo(e.firestore);return function(e,t,i,r,s,n){var a=e.explicitOrderBy;if(s.length>a.length)throw new d(c.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var o=[],h=0;h<s.length;h++){var u=s[h];if(a[h].field.isKeyField()){if("string"!=typeof u)throw new d(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!De(e)&&-1!==u.indexOf("/"))throw new d(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=e.path.child(A.fromString(u));if(!z.isDocumentKey(l))throw new d(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new z(l);o.push(J(t,f))}else{var p=dc(i,r,u);o.push(p)}}return new _e(o,n)}(e._query,e.firestore._databaseId,n,t,i,r)}function Lc(e,t,i){if("string"==typeof(i=Object(s["k"])(i))){if(""===i)throw new d(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!De(t)&&-1!==i.indexOf("/"))throw new d(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var r=t.path.child(A.fromString(i));if(!z.isDocumentKey(r))throw new d(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return J(e,new z(r))}if(i instanceof xo)return J(e,i._key);throw new d(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_o(i)+".")}function Vc(e,t){if(!Array.isArray(e)||0===e.length)throw new d(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new d(c.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function jc(e,t,i){if(!i.isEqual(t))throw new d(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),K(e)){case 0:return null;case 1:return e.booleanValue;case 2:return L(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(V(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}},e.prototype.convertObject=function(e,t){var i=this,r={};return I(e.fields,(function(e,s){r[e]=i.convertValue(s,t)})),r},e.prototype.convertGeoPoint=function(e){return new Ko(L(e.latitude),L(e.longitude))},e.prototype.convertArray=function(e,t){var i=this;return(e.values||[]).map((function(e){return i.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var i=q(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(U(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=D(e);return new O(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var i=A.fromString(e);y(Ni(i));var r=new ho(i.get(1),i.get(3)),s=new z(i.popFirst(5));return r.isEqual(t)||f("Document "+s+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),s},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e,t,i){return e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t}var Gc=function(e){function t(t){var i=this;return(i=e.call(this)||this).firestore=t,i}return Object(r["b"])(t,e),t.prototype.convertBytes=function(e){return new Ho(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xo(this.firestore,null,t)},t}(qc),Fc=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jo(e)}return e.prototype.set=function(e,t,i){this._verifyNotCommitted();var r=Hc(e,this._firestore),s=Uc(r.converter,t,i),n=ec(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(n.toMutation(r._key,dt.none())),this},e.prototype.update=function(e,t,i){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];this._verifyNotCommitted();var a,o=Hc(e,this._firestore);return a="string"==typeof(t=Object(s["k"])(t))||t instanceof Fo?cc(this._dataReader,"WriteBatch.update",o._key,t,i,r):oc(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(a.toMutation(o._key,dt.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Hc(e,this._firestore);return this._mutations=this._mutations.concat(new Ot(t._key,dt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new d(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(e,t){if((e=Object(s["k"])(e)).firestore!==t)throw new d(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc=function(e){function t(t){var i=this;return(i=e.call(this)||this).firestore=t,i}return Object(r["b"])(t,e),t.prototype.convertBytes=function(e){return new Ho(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xo(this.firestore,null,t)},t}(qc);function Kc(e,t,i){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];e=Oo(e,xo);var a=Oo(e.firestore,Vo),o=Jo(a);return $c(a,[("string"==typeof(t=Object(s["k"])(t))||t instanceof Fo?cc(o,"updateDoc",e._key,t,i,r):oc(o,"updateDoc",e._key,t)).toMutation(e._key,dt.exists(!0))])}function Wc(e){for(var t,i,n,a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];e=Object(s["k"])(e);var c={includeMetadataChanges:!1},d=0;"object"!=typeof a[d]||Do(a[d])||(c=a[d],d++);var h,u,l,f={includeMetadataChanges:c.includeMetadataChanges};if(Do(a[d])){var p=a[d];a[d]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[d+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),a[d+2]=null===(n=p.complete)||void 0===n?void 0:n.bind(p)}if(e instanceof xo)u=Oo(e.firestore,Vo),l=Ne(e._key.path),h={next:function(t){a[d]&&a[d](Yc(u,e,t))},error:a[d+1],complete:a[d+2]};else{var m=Oo(e,Eo);u=Oo(m.firestore,Vo),l=m._query;var g=new zc(u);h={next:function(e){a[d]&&a[d](new Tc(u,g,m,e))},error:a[d+1],complete:a[d+2]},xc(e._query)}return function(e,t,i,s){var n=this,a=new Wa(s),o=new ia(t,a,i);return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return t=Qn,[4,no(e)];case 1:return[2,t.apply(void 0,[i.sent(),o])]}}))}))})),function(){a.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return t=Zn,[4,no(e)];case 1:return[2,t.apply(void 0,[i.sent(),o])]}}))}))}))}}(jo(u),l,f,h)}function $c(e,t){return function(e,t){var i=this,s=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=ma,[4,so(e)];case 1:return[2,i.apply(void 0,[r.sent(),t,s])]}}))}))})),s.promise}(jo(e),t)}function Yc(e,t,i){var r=i.docs.get(t._key),s=new zc(e);return new _c(e,s,t._key,r,new kc(i.hasPendingWrites,i.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xc=function(e){function t(t,i){var r=this;return(r=e.call(this,t,i)||this)._firestore=t,r}return Object(r["b"])(t,e),t.prototype.get=function(t){var i=this,r=Hc(t,this._firestore),s=new zc(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new _c(i._firestore,s,r._key,e._document,new kc(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jo(e)}return e.prototype.get=function(e){var t=this,i=Hc(e,this._firestore),r=new Gc(this._firestore);return this._transaction.lookup([i._key]).then((function(e){if(!e||1!==e.length)return g();var s=e[0];if(s.isFoundDocument())return new bc(t._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new bc(t._firestore,r,i._key,null,i.converter);throw g()}))},e.prototype.set=function(e,t,i){var r=Hc(e,this._firestore),s=Uc(r.converter,t,i),n=ec(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,n),this},e.prototype.update=function(e,t,i){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];var a,o=Hc(e,this._firestore);return a="string"==typeof(t=Object(s["k"])(t))||t instanceof Fo?cc(this._dataReader,"Transaction.update",o._key,t,i,r):oc(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,a),this},e.prototype.delete=function(e){var t=Hc(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(){if("undefined"==typeof Uint8Array)throw new d(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Zc(){if("undefined"==typeof atob)throw new d(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Jc=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Zc(),new e(Ho.fromBase64String(t))},e.fromUint8Array=function(t){return Qc(),new e(Ho.fromUint8Array(t))},e.prototype.toBase64=function(){return Zc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Qc(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),ed=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Go(e=Oo(e,Vo));var i=jo(e),r=e._freezeSettings(),s=new Ka;return Uo(i,s,new Ha(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Go(e=Oo(e,Vo));var t=jo(e),i=e._freezeSettings(),r=new Ka;return Uo(t,r,new za(r,i.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new d(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new tr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r["a"])(t,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return sr.yt()?(t=e+"main",[4,sr.delete(t)]):[2,Promise.resolve()];case 1:return i.sent(),[2]}}))}))}(ms(e._databaseId,e._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return t=s.sent(),i.reject(t),[3,3];case 3:return[2]}}))}))})),i.promise}(e._delegate)},e}(),td=function(){function e(e,t,i){var r=this;this._delegate=t,this.Xc=i,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ho||(this.Zc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,i){void 0===i&&(i={}),function(e,t,i,r){void 0===r&&(r={});var n=(e=Oo(e,Io))._getSettings();if("firestore.googleapis.com"!==n.host&&n.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},n),{host:t+":"+i,ssl:!1})),r.mockUserToken){var a=Object(s["g"])(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new d(c.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new po(new lo(a,new Ks(o)))}}(this._delegate,e,t,i)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r["a"])(t,void 0,void 0,(function(){var t,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,to(e)];case 1:return t=r.sent(),[4,ro(e)];case 2:return i=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=v(e);return t.Or.delete(0),bn(t)}(i))]}}))}))}))}(jo(Oo(this._delegate,Vo)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r["a"])(t,void 0,void 0,(function(){var t,i;return Object(r["c"])(this,(function(s){switch(s.label){case 0:return[4,to(e)];case 1:return t=s.sent(),[4,ro(e)];case 2:return i=s.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return(t=v(e)).Or.add(0),[4,wn(t)];case 1:return i.sent(),t.Br.set("Offline"),[2]}}))}))}(i))]}}))}))}))}(jo(Oo(this._delegate,Vo)))},e.prototype.enablePersistence=function(e){var t=!1,i=!1;return e&&wo("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,i=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(t,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return t=Sa,[4,so(e)];case 1:return[2,t.apply(void 0,[r.sent(),i])]}}))}))})),i.promise}(jo(Oo(this._delegate,Vo)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var i=this,s=new Wa(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return t=function(e,t){v(e).Gr.add(t),t.next()},[4,no(e)];case 1:return[2,t.apply(void 0,[i.sent(),s])]}}))}))})),function(){s.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return t=function(e,t){v(e).Gr.delete(t)},[4,no(e)];case 1:return[2,t.apply(void 0,[i.sent(),s])]}}))}))}))}}(jo(e=Oo(e,Vo)),Do(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new d(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new gd(this,No(this._delegate,e))}catch(e){throw cd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new od(this,Mo(this._delegate,e))}catch(e){throw cd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new fd(this,function(e,t){if(e=Oo(e,Io),vo("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new d(c.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Eo(e,null,function(e){return new Ee(A.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw cd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var i=this,s=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,function(e){return eo(e).then((function(e){return e.datastore}))}(e)];case 1:return i=r.sent(),new Ya(e.asyncQueue,i,t,s).run(),[2]}}))}))})),s.promise}(jo(e),(function(i){return t(new Xc(e,i))}))}(this._delegate,(function(i){return e(new sd(t,i))}))},e.prototype.batch=function(){var e=this;return jo(this._delegate),new nd(new Fc(this._delegate,(function(t){return $c(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new d(c.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new d(c.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),id=function(e){function t(t){var i=this;return(i=e.call(this)||this).firestore=t,i}return Object(r["b"])(t,e),t.prototype.convertBytes=function(e){return new Jc(new Ho(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return od.tu(t,this.firestore,null)},t}(qc);function rd(e){var t;t=e,h.setLogLevel(t)}var sd=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new id(e)}return e.prototype.get=function(e){var t=this,i=yd(e);return this._delegate.get(i).then((function(e){return new ud(t._firestore,new _c(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,i.converter))}))},e.prototype.set=function(e,t,i){var r=yd(e);return i?(bo("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,i){for(var s,n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];var o=yd(e);return 2===arguments.length?this._delegate.update(o,t):(s=this._delegate).update.apply(s,Object(r["d"])([o,t,i],n)),this},e.prototype.delete=function(e){var t=yd(e);return this._delegate.delete(t),this},e}(),nd=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,i){var r=yd(e);return i?(bo("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,i){for(var s,n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];var o=yd(e);return 2===arguments.length?this._delegate.update(o,t):(s=this._delegate).update.apply(s,Object(r["d"])([o,t,i],n)),this},e.prototype.delete=function(e){var t=yd(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ad=function(){function e(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}return e.prototype.fromFirestore=function(e,t){var i=new Oc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ld(this._firestore,i),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.eu=function(t,i){var r=e.nu,s=r.get(t);s||(s=new WeakMap,r.set(t,s));var n=s.get(i);return n||(n=new e(t,new id(t),i),s.set(i,n)),n},e}();ad.nu=new WeakMap;var od=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new id(e)}return e.su=function(t,i,r){if(t.length%2!=0)throw new d(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(i,new xo(i._delegate,r,new z(t)))},e.tu=function(t,i,r){return new e(i,new xo(i._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new gd(this.firestore,No(this._delegate,e))}catch(e){throw cd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(s["k"])(e))instanceof xo&&Po(this._delegate,e)},e.prototype.set=function(e,t){t=bo("DocumentReference.set",t);try{return function(e,t,i){e=Oo(e,xo);var r=Oo(e.firestore,Vo),s=Uc(e.converter,t,i);return $c(r,[ec(Jo(r),"setDoc",e._key,s,null!==e.converter,i).toMutation(e._key,dt.none())])}(this._delegate,e,t)}catch(e){throw cd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return 1===arguments.length?Kc(this._delegate,e):Kc.apply(void 0,Object(r["d"])([this._delegate,e,t],i))}catch(e){throw cd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return $c(Oo((e=this._delegate).firestore,Vo),[new Ot(e._key,dt.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=dd(t),s=hd(t,(function(t){return new ud(e.firestore,new _c(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Wc(this._delegate,r,s)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Oo(e,xo);var t=Oo(e.firestore,Vo),i=jo(t),s=new zc(t);return function(e,t){var i=this,s=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return i=function(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var i=v(e);return i.persistence.runTransaction("read document","readonly",(function(e){return i.Mn.mn(e,t)}))}(e,t)];case 1:return(n=r.sent()).isFoundDocument()?i.resolve(n):n.isNoDocument()?i.resolve(null):i.reject(new d(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=r.sent(),n=zn(s,"Failed to get document '"+t+" from cache"),i.reject(n),[3,3];case 3:return[2]}}))}))},[4,io(e)];case 1:return[2,i.apply(void 0,[n.sent(),t,s])]}}))}))})),s.promise}(i,e._key).then((function(i){return new _c(t,s,e._key,i,new kc(null!==i&&i.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Oo(e,xo);var t=Oo(e.firestore,Vo);return ao(jo(t),e._key,{source:"server"}).then((function(i){return Yc(t,e,i)}))}(this._delegate):function(e){e=Oo(e,xo);var t=Oo(e.firestore,Vo);return ao(jo(t),e._key).then((function(i){return Yc(t,e,i)}))}(this._delegate)).then((function(e){return new ud(t.firestore,new _c(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ad.eu(this.firestore,t)):this._delegate.withConverter(null))},e}();function cd(e,t,i){return e.message=e.message.replace(t,i),e}function dd(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if("object"==typeof r&&!Do(r))return r}return{}}function hd(e,t){var i,r,s;return{next:function(e){s.next&&s.next(t(e))},error:null===(i=(s=Do(e[0])?e[0]:Do(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===i?void 0:i.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}var ud=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new od(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Ic(this._delegate,e._delegate)},e}(),ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(ud),fd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new id(e)}return e.prototype.where=function(t,i,r){try{return new e(this.firestore,Ac(this._delegate,function(e,t,i){var r=t,s=Sc("where",e);return new Nc(s,r,i)}(t,i,r)))}catch(t){throw cd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,i){try{return new e(this.firestore,Ac(this._delegate,function(e,t){void 0===t&&(t="asc");var i=t,r=Sc("orderBy",e);return new Mc(r,i)}(t,i)))}catch(t){throw cd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ac(this._delegate,function(e){return To("limit",e),new Pc("limit",e,"F")}(t)))}catch(t){throw cd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ac(this._delegate,function(e){return To("limitToLast",e),new Pc("limitToLast",e,"L")}(t)))}catch(t){throw cd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new e(this.firestore,Ac(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bc("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw cd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new e(this.firestore,Ac(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bc("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw cd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new e(this.firestore,Ac(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rc("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw cd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{return new e(this.firestore,Ac(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rc("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw cd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Bo(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Oo(e,Eo);var t=Oo(e.firestore,Vo),i=jo(t),s=new zc(t);return function(e,t){var i=this,s=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return i=function(e,t,i){return Object(r["a"])(this,void 0,void 0,(function(){var s,n,a,o,c;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,As(e,t,!0)];case 1:return c=r.sent(),s=new ca(t,c.Bn),n=s._o(c.documents),a=s.applyChanges(n,!1),i.resolve(a.snapshot),[3,3];case 2:return o=r.sent(),c=zn(o,"Failed to execute query '"+t+" against cache"),i.reject(c),[3,3];case 3:return[2]}}))}))},[4,io(e)];case 1:return[2,i.apply(void 0,[n.sent(),t,s])]}}))}))})),s.promise}(i,e._query).then((function(i){return new Tc(t,s,e,i)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Oo(e,Eo);var t=Oo(e.firestore,Vo),i=jo(t),r=new zc(t);return oo(i,e._query,{source:"server"}).then((function(i){return new Tc(t,r,e,i)}))}(this._delegate):function(e){e=Oo(e,Eo);var t=Oo(e.firestore,Vo),i=jo(t),r=new zc(t);return xc(e._query),oo(i,e._query).then((function(i){return new Tc(t,r,e,i)}))}(this._delegate)).then((function(e){return new md(t.firestore,new Tc(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=dd(t),s=hd(t,(function(t){return new md(e.firestore,new Tc(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Wc(this._delegate,r,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ad.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(),pd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ld(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),md=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new fd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new ld(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pd(t._firestore,e)}))},e.prototype.forEach=function(e,t){var i=this;this._delegate.forEach((function(r){e.call(t,new ld(i._firestore,r))}))},e.prototype.isEqual=function(e){return Ic(this._delegate,e._delegate)},e}(),gd=function(e){function t(t,i){var r=this;return(r=e.call(this,t,i)||this).firestore=t,r._delegate=i,r}return Object(r["b"])(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new od(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new od(this.firestore,void 0===e?Mo(this._delegate):Mo(this._delegate,e))}catch(e){throw cd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var i=Oo(e.firestore,Vo),r=Mo(e),s=Uc(e.converter,t);return $c(i,[ec(Jo(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,dt.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new od(t.firestore,e)}))},t.prototype.isEqual=function(e){return Po(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ad.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(fd);function yd(e){return Oo(e,xo)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Fo.bind.apply(Fo,Object(r["d"])([void 0],e)))}return e.documentId=function(){return new e(M.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(s["k"])(e))instanceof Fo&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),bd=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new rc("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new tc("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sc("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nc("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var i=function(e){return new ac("increment",e)}(t);return i._methodName="FieldValue.increment",new e(i)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,i("4362"))},e2cc:function(e,t,i){var r=i("6eeb");e.exports=function(e,t,i){for(var s in t)r(e,s,t[s],i);return e}},e372:function(e,t,i){t=e.exports=i("ad71"),t.Stream=t,t.Readable=t,t.Writable=i("dc14"),t.Duplex=i("b19a"),t.Transform=i("27bf"),t.PassThrough=i("780f")},e3db:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},e439:function(e,t,i){var r=i("23e7"),s=i("d039"),n=i("fc6a"),a=i("06cf").f,o=i("83ab"),c=s((function(){a(1)})),d=!o||c;r({target:"Object",stat:!0,forced:d,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(n(e),t)}})},e49b:function(e,t,i){"use strict";const r=i("90db"),{TICK_SIZE:s}=i("5ea4"),{AuthenticationError:n,BadRequest:a,DDoSProtection:o,ExchangeError:c,ExchangeNotAvailable:d,InsufficientFunds:h,InvalidOrder:u,OrderNotFound:l,PermissionDenied:f,ArgumentsRequired:p}=i("74b0"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmex",name:"BitMEX",countries:["SC"],version:"v1",userAgent:void 0,rateLimit:2e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",withdraw:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:{public:"https://testnet.bitmex.com",private:"https://testnet.bitmex.com"},logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:{public:"https://www.bitmex.com",private:"https://www.bitmex.com"},www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees",referral:"https://www.bitmex.com/register/upZpOX"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/executionHistory","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{exact:{"Invalid API Key.":n,"This key is disabled.":f,"Access Denied":f,"Duplicate clOrdID":u,"orderQty is invalid":u,"Invalid price":u,"Invalid stopPx for ordType":u},broad:{"Signature not valid":n,overloaded:d,"Account has insufficient Available Balance":h,"Service unavailable":d,"Server Error":c,"Unable to cancel order due to existing state":u}},precisionMode:s,options:{"api-expires":5,fetchOHLCVOpenTimestamp:!0}})}async fetchMarkets(e={}){const t=await this.publicGetInstrumentActiveAndIndices(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s="Unlisted"!==e["state"],n=e["symbol"],a=e["underlying"],o=e["quoteCurrency"],c=a+o,d=this.safeCurrencyCode(a),h=this.safeCurrencyCode(o),u=n===c,l=this.safeString2(e,"positionCurrency","quoteCurrency");let f=void 0,p=!1,m=!1;const g=this.safeCurrencyCode(l);let y=n;u?(f="swap",y=d+"/"+h):n.indexOf("B_")>=0?(m=!0,f="prediction"):(p=!0,f="future");const v={amount:void 0,price:void 0},b=this.safeNumber(e,"lotSize"),w=this.safeNumber(e,"tickSize");void 0!==b&&(v["amount"]=b),void 0!==w&&(v["price"]=w);const S={amount:{min:void 0,max:void 0},price:{min:w,max:this.safeNumber(e,"maxPrice")},cost:{min:void 0,max:void 0}},k=g===h?"cost":"amount";S[k]={min:b,max:this.safeNumber(e,"maxOrderQty")},i.push({id:n,symbol:y,base:d,quote:h,baseId:a,quoteId:o,active:s,precision:v,limits:S,taker:this.safeNumber(e,"takerFee"),maker:this.safeNumber(e,"makerFee"),type:f,spot:!1,swap:u,future:p,prediction:m,info:e})}return i}parseBalanceResponse(e){const t={info:e};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"currency"),n=this.safeCurrencyCode(s),a=this.account();let o=this.safeString(r,"availableMargin"),c=this.safeString(r,"marginBalance");"BTC"===n&&(o=m.stringDiv(o,"1e8"),c=m.stringDiv(c,"1e8")),a["free"]=o,a["total"]=c,t[n]=a}return this.parseBalance(t,!1)}async fetchBalance(e={}){await this.loadMarkets();const t={currency:"all"},i=await this.privateGetUserMargin(this.extend(t,e));return this.parseBalanceResponse(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};void 0!==t&&(s["depth"]=t);const n=await this.publicGetOrderBookL2(this.extend(s,i)),a={symbol:e,bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let o=0;o<n.length;o++){const e=n[o],t="Sell"===e["side"]?"asks":"bids",i=this.safeNumber(e,"size"),r=this.safeNumber(e,"price");void 0!==r&&a[t].push([r,i])}return a["bids"]=this.sortBy(a["bids"],0,!0),a["asks"]=this.sortBy(a["asks"],0),a}async fetchOrder(e,t,i={}){const r={filter:{orderID:e}},s=await this.fetchOrders(t,void 0,void 0,this.deepExtend(r,i)),n=s.length;if(1===n)return s[0];throw new l(this.id+": The order "+e+" not found.")}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,n={};void 0!==e&&(s=this.market(e),n["symbol"]=s["id"]),void 0!==t&&(n["startTime"]=this.iso8601(t)),void 0!==i&&(n["count"]=i),n=this.deepExtend(n,r),"filter"in n&&(n["filter"]=this.json(n["filter"]));const a=await this.privateGetOrder(n);return this.parseOrders(a,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={filter:{open:!0}};return await this.fetchOrders(e,t,i,this.deepExtend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0,n={};void 0!==e&&(s=this.market(e),n["symbol"]=s["id"]),void 0!==t&&(n["startTime"]=this.iso8601(t)),void 0!==i&&(n["count"]=i),n=this.deepExtend(n,r),"filter"in n&&(n["filter"]=this.json(n["filter"]));const a=await this.privateGetExecutionTradeHistory(n);return this.parseTrades(a,s,t,i)}parseLedgerEntryType(e){const t={Withdrawal:"transaction",RealisedPNL:"margin",UnrealisedPNL:"margin",Deposit:"transaction",Transfer:"transfer",AffiliatePayout:"referral"};return this.safeString(t,e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"transactID"),r=this.safeString(e,"account"),s=this.safeString(e,"tx"),n=void 0,a=this.parseLedgerEntryType(this.safeString(e,"transactType")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t);let d=this.safeNumber(e,"amount");void 0!==d&&(d/=1e8);let h=this.parse8601(this.safeString(e,"transactTime"));void 0===h&&(h=0);let u=this.safeNumber(e,"fee",0);void 0!==u&&(u/=1e8);const l={cost:u,currency:c};let f=this.safeNumber(e,"walletBalance");void 0!==f&&(f/=1e8);const p=this.sum(f,-d);let m=void 0;d<0?(m="out",d=Math.abs(d)):m="in";const g=this.parseTransactionStatus(this.safeString(e,"transactStatus"));return{id:i,info:e,timestamp:h,datetime:this.iso8601(h),direction:m,account:r,referenceId:s,referenceAccount:n,type:a,currency:c,amount:d,before:p,after:f,status:g,fee:l}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const n={};void 0!==i&&(n["count"]=i);const a=await this.privateGetUserWalletHistory(this.extend(n,r));return this.parseLedger(a,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s["count"]=i);const n=await this.privateGetUserWalletHistory(this.extend(s,r)),a=this.filterByArray(n,"transactType",["Withdrawal","Deposit"],!1);let o=void 0;return void 0!==e&&(o=this.currency(e)),this.parseTransactions(a,o,t,i)}parseTransactionStatus(e){const t={Canceled:"canceled",Completed:"ok",Pending:"pending"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"transactID"),r=this.parse8601(this.safeString(e,"transactTime")),s=this.parse8601(this.safeString(e,"timestamp")),n=this.safeStringLower(e,"transactType");let a=void 0,o=void 0,c=void 0;"withdrawal"===n&&(a=this.safeString(e,"address"),o=this.safeString(e,"tx"),c=a);let d=this.safeInteger(e,"amount");void 0!==d&&(d=Math.abs(d)/1e7);let h=this.safeInteger(e,"fee");void 0!==h&&(h/=1e7);const u={cost:h,currency:"BTC"};let l=this.safeString(e,"transactStatus");return void 0!==l&&(l=this.parseTransactionStatus(l)),{info:e,id:i,txid:void 0,timestamp:r,datetime:this.iso8601(r),addressFrom:o,address:a,addressTo:c,tagFrom:void 0,tag:void 0,tagTo:void 0,type:n,amount:d,currency:"BTC",status:l,updated:s,comment:void 0,fee:u}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e);if(!i["active"])throw new c(this.id+": symbol "+e+" is delisted");const r=await this.fetchTickers([e],t),s=this.safeValue(r,e);if(void 0===s)throw new c(this.id+" ticker symbol "+e+" not found");return s}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetInstrumentActiveAndIndices(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=this.safeString(e,"symbol");void 0!==t&&(r[t]=e)}return this.filterByArray(r,"symbol",e)}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,r,t),void 0!==t&&(i=t["symbol"]);const s=this.parse8601(this.safeString(e,"timestamp")),n=this.safeNumber(e,"prevPrice24h"),a=this.safeNumber(e,"lastPrice");let o=void 0,c=void 0;return void 0!==a&&void 0!==n&&(o=a-n,n>0&&(c=o/n*100)),{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:void 0,ask:this.safeNumber(e,"askPrice"),askVolume:void 0,vwap:this.safeNumber(e,"vwap"),open:n,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:this.sum(n,a)/2,baseVolume:this.safeNumber(e,"homeNotional24h"),quoteVolume:this.safeNumber(e,"foreignNotional24h"),info:e}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],binSize:this.timeframes[t],partial:!0};void 0!==r&&(a["count"]=r);const o=1e3*this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCVOpenTimestamp",!0);if(void 0!==i){let e=i;c&&(e=this.sum(e,o));const t=this.ymdhms(e);a["startTime"]=t}else a["reverse"]=!0;const d=await this.publicGetTradeBucketed(this.extend(a,s)),h=this.parseOHLCVs(d,n,t,i,r);if(c)for(let u=0;u<h.length;u++)h[u][0]=h[u][0]-o;return h}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeNumber2(e,"avgPx","price"),s=this.safeNumber2(e,"size","lastQty"),n=this.safeString(e,"trdMatchID"),a=this.safeString(e,"orderID"),o=this.safeStringLower(e,"side");let c=this.safeNumber(e,"execCost");void 0!==c&&(c=Math.abs(c)/1e8);let d=void 0;if("execComm"in e){let t=this.safeNumber(e,"execComm");t/=1e8;const i=this.safeString(e,"settlCurrency"),r=this.safeCurrencyCode(i),s=this.safeNumber(e,"commission");d={cost:t,currency:r,rate:s}}let h=void 0;void 0!==d&&(h=d["cost"]<0?"maker":"taker");const u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t),f=this.safeStringLower(e,"ordType");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,id:n,order:a,type:f,takerOrMaker:h,side:o,price:r,cost:c,amount:s,fee:d}}parseOrderStatus(e){const t={New:"open",PartiallyFilled:"open",Filled:"closed",DoneForDay:"open",Canceled:"canceled",PendingCancel:"open",PendingNew:"open",Rejected:"rejected",Expired:"expired",Stopped:"open",Untriggered:"open",Triggered:"open"};return this.safeString(t,e,e)}parseTimeInForce(e){const t={Day:"Day",GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"ordStatus")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),n=this.parse8601(this.safeString(e,"timestamp")),a=this.parse8601(this.safeString(e,"transactTime")),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"orderQty"),d=this.safeNumber(e,"cumQty",0),h=this.safeNumber(e,"avgPx"),u=this.safeString(e,"orderID"),l=this.safeStringLower(e,"ordType"),f=this.safeStringLower(e,"side"),p=this.safeString(e,"clOrdID"),m=this.parseTimeInForce(this.safeString(e,"timeInForce")),g=this.safeNumber(e,"stopPx"),y=this.safeString(e,"execInst"),v="ParticipateDoNotInitiate"===y;return this.safeOrder({info:e,id:u,clientOrderId:p,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:a,symbol:s,type:l,timeInForce:m,postOnly:v,side:f,price:o,stopPrice:g,amount:c,cost:void 0,average:h,filled:d,remaining:void 0,status:i,fee:void 0,trades:void 0})}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==t?n["startTime"]=this.iso8601(t):n["reverse"]=!0,void 0!==i&&(n["count"]=i);const a=await this.publicGetTrade(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o=this.capitalize(t),c={symbol:a["id"],side:this.capitalize(i),orderQty:parseFloat(this.amountToPrecision(e,r)),ordType:o};if("Stop"===o||"StopLimit"===o||"MarketIfTouched"===o||"LimitIfTouched"===o){const t=this.safeNumber2(n,"stopPx","stopPrice");if(void 0===t)throw new p(this.id+" createOrder() requires a stopPx or stopPrice parameter for the "+o+" order type");c["stopPx"]=parseFloat(this.priceToPrecision(e,t)),n=this.omit(n,["stopPx","stopPrice"])}"Limit"!==o&&"StopLimit"!==o&&"LimitIfTouched"!==o||(c["price"]=parseFloat(this.priceToPrecision(e,s)));const d=this.safeString2(n,"clOrdID","clientOrderId");void 0!==d&&(c["clOrdID"]=d,n=this.omit(n,["clOrdID","clientOrderId"]));const h=await this.privatePostOrder(this.extend(c,n));return this.parseOrder(h,a)}async editOrder(e,t,i,r,s,n,a={}){await this.loadMarkets();const o={},c=this.safeString2(a,"origClOrdID","clientOrderId");if(void 0!==c){o["origClOrdID"]=c;const e=this.safeString(a,"clOrdID","clientOrderId");void 0!==e&&(o["clOrdID"]=e),a=this.omit(a,["origClOrdID","clOrdID","clientOrderId"])}else o["orderID"]=e;void 0!==s&&(o["orderQty"]=s),void 0!==n&&(o["price"]=n);const d=await this.privatePutOrder(this.extend(o,a));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString2(i,"clOrdID","clientOrderId"),s={};void 0===r?s["orderID"]=e:(s["clOrdID"]=r,i=this.omit(i,["clOrdID","clientOrderId"]));const n=await this.privateDeleteOrder(this.extend(s,i)),a=this.safeValue(n,0,{}),o=this.safeString(a,"error");if(void 0!==o&&o.indexOf("Unable to cancel order due to existing state")>=0)throw new l(this.id+" cancelOrder() failed: "+o);return this.parseOrder(a)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;void 0!==e&&(r=this.market(e),i["symbol"]=r["id"]);const s=await this.privateDeleteOrderAll(this.extend(i,t));return this.parseOrders(s,r)}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetPosition(t);return i}isFiat(e){return"EUR"===e||"PLN"===e}async withdraw(e,t,i,r,s={}){if(this.checkAddress(i),await this.loadMarkets(),"BTC"!==e)throw new c(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");const n={currency:"XBt",amount:t,address:i},a=await this.privatePostUserRequestWithdrawal(this.extend(n,s));return{info:a,id:this.safeString(a,"transactID")}}handleErrors(e,t,i,r,s,n,d,h,u){if(void 0!==d){if(429===e)throw new o(this.id+" "+n);if(e>=400){const t=this.safeValue(d,"error",{}),i=this.safeString(t,"message"),r=this.id+" "+n;if(this.throwExactlyMatchedException(this.exceptions["exact"],i,r),this.throwBroadlyMatchedException(this.exceptions["broad"],i,r),400===e)throw new a(r);throw new c(r)}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a="/api/"+this.version+"/"+e;if("GET"===i)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{const e=this.safeString(r,"_format");void 0!==e&&(a+="?"+this.urlencode({_format:e}),r=this.omit(r,"_format"))}const o=this.urls["api"][t]+a;if(this.apiKey&&this.secret){let e=i+a,t=this.safeInteger(this.options,"api-expires");s={"Content-Type":"application/json","api-key":this.apiKey},t=this.sum(this.seconds(),t),t=t.toString(),e+=t,s["api-expires"]=t,"POST"!==i&&"PUT"!==i&&"DELETE"!==i||Object.keys(r).length&&(n=this.json(r),e+=n),s["api-signature"]=this.hmac(this.encode(e),this.encode(this.secret))}return{url:o,method:i,body:n,headers:s}}}},e4d3:function(e,t,i){"use strict";var r=i("2b0e");t["a"]=r["a"].extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(e){e?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(e){var t=this;this.originalValue=e,setTimeout((function(){t.isActive=!1}))}}})},e538:function(e,t,i){var r=i("b622");t.f=r},e54b:function(e,t,i){"use strict";var r=function(e){return s(e)&&!n(e)};function s(e){return!!e&&"object"===typeof e}function n(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||c(e)}var a="function"===typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===o}function d(e){return Array.isArray(e)?[]:{}}function h(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v(d(e),e,t):e}function u(e,t,i){return e.concat(t).map((function(e){return h(e,i)}))}function l(e,t){if(!t.customMerge)return v;var i=t.customMerge(e);return"function"===typeof i?i:v}function f(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function p(e){return Object.keys(e).concat(f(e))}function m(e,t){try{return t in e}catch(i){return!1}}function g(e,t){return m(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function y(e,t,i){var r={};return i.isMergeableObject(e)&&p(e).forEach((function(t){r[t]=h(e[t],i)})),p(t).forEach((function(s){g(e,s)||(m(e,s)&&i.isMergeableObject(t[s])?r[s]=l(s,i)(e[s],t[s],i):r[s]=h(t[s],i))})),r}function v(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||u,i.isMergeableObject=i.isMergeableObject||r,i.cloneUnlessOtherwiseSpecified=h;var s=Array.isArray(t),n=Array.isArray(e),a=s===n;return a?s?i.arrayMerge(e,t,i):y(e,t,i):h(t,i)}v.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,i){return v(e,i,t)}),{})};var b=v;e.exports=b},e64b:function(e,t){function i(e,t){return function(){return t.call(this,e.apply(this,arguments))}}e.exports=i},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e683:function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,i){"use strict";var r,s,n,a,o=i("23e7"),c=i("c430"),d=i("da84"),h=i("d066"),u=i("fea9"),l=i("6eeb"),f=i("e2cc"),p=i("d2bb"),m=i("d44e"),g=i("2626"),y=i("861d"),v=i("1c0b"),b=i("19aa"),w=i("8925"),S=i("2266"),k=i("1c7e"),_=i("4840"),O=i("2cf4").set,T=i("b575"),C=i("cdf9"),I=i("44de"),x=i("f069"),E=i("e667"),A=i("69f3"),N=i("94ca"),M=i("b622"),P=i("6069"),B=i("605d"),R=i("2d00"),D=M("species"),L="Promise",V=A.get,j=A.set,q=A.getterFor(L),U=u&&u.prototype,G=u,F=U,H=d.TypeError,z=d.document,K=d.process,W=x.f,$=W,Y=!!(z&&z.createEvent&&d.dispatchEvent),X="function"==typeof PromiseRejectionEvent,Q="unhandledrejection",Z="rejectionhandled",J=0,ee=1,te=2,ie=1,re=2,se=!1,ne=N(L,(function(){var e=w(G),t=e!==String(G);if(!t&&66===R)return!0;if(c&&!F["finally"])return!0;if(R>=51&&/native code/.test(e))return!1;var i=new G((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},s=i.constructor={};return s[D]=r,se=i.then((function(){}))instanceof r,!se||!t&&P&&!X})),ae=ne||!k((function(e){G.all(e)["catch"]((function(){}))})),oe=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ce=function(e,t){if(!e.notified){e.notified=!0;var i=e.reactions;T((function(){var r=e.value,s=e.state==ee,n=0;while(i.length>n){var a,o,c,d=i[n++],h=s?d.ok:d.fail,u=d.resolve,l=d.reject,f=d.domain;try{h?(s||(e.rejection===re&&le(e),e.rejection=ie),!0===h?a=r:(f&&f.enter(),a=h(r),f&&(f.exit(),c=!0)),a===d.promise?l(H("Promise-chain cycle")):(o=oe(a))?o.call(a,u,l):u(a)):l(r)}catch(p){f&&!c&&f.exit(),l(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&he(e)}))}},de=function(e,t,i){var r,s;Y?(r=z.createEvent("Event"),r.promise=t,r.reason=i,r.initEvent(e,!1,!0),d.dispatchEvent(r)):r={promise:t,reason:i},!X&&(s=d["on"+e])?s(r):e===Q&&I("Unhandled promise rejection",i)},he=function(e){O.call(d,(function(){var t,i=e.facade,r=e.value,s=ue(e);if(s&&(t=E((function(){B?K.emit("unhandledRejection",r,i):de(Q,i,r)})),e.rejection=B||ue(e)?re:ie,t.error))throw t.value}))},ue=function(e){return e.rejection!==ie&&!e.parent},le=function(e){O.call(d,(function(){var t=e.facade;B?K.emit("rejectionHandled",t):de(Z,t,e.value)}))},fe=function(e,t,i){return function(r){e(t,r,i)}},pe=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=te,ce(e,!0))},me=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw H("Promise can't be resolved itself");var r=oe(t);r?T((function(){var i={done:!1};try{r.call(t,fe(me,i,e),fe(pe,i,e))}catch(s){pe(i,s,e)}})):(e.value=t,e.state=ee,ce(e,!1))}catch(s){pe({done:!1},s,e)}}};if(ne&&(G=function(e){b(this,G,L),v(e),r.call(this);var t=V(this);try{e(fe(me,t),fe(pe,t))}catch(i){pe(t,i)}},F=G.prototype,r=function(e){j(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},r.prototype=f(F,{then:function(e,t){var i=q(this),r=W(_(this,G));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=B?K.domain:void 0,i.parent=!0,i.reactions.push(r),i.state!=J&&ce(i,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new r,t=V(e);this.promise=e,this.resolve=fe(me,t),this.reject=fe(pe,t)},x.f=W=function(e){return e===G||e===n?new s(e):$(e)},!c&&"function"==typeof u&&U!==Object.prototype)){a=U.then,se||(l(U,"then",(function(e,t){var i=this;return new G((function(e,t){a.call(i,e,t)})).then(e,t)}),{unsafe:!0}),l(U,"catch",F["catch"],{unsafe:!0}));try{delete U.constructor}catch(ge){}p&&p(U,F)}o({global:!0,wrap:!0,forced:ne},{Promise:G}),m(G,L,!1,!0),g(L),n=h(L),o({target:L,stat:!0,forced:ne},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),o({target:L,stat:!0,forced:c||ne},{resolve:function(e){return C(c&&this===n?G:this,e)}}),o({target:L,stat:!0,forced:ae},{all:function(e){var t=this,i=W(t),r=i.resolve,s=i.reject,n=E((function(){var i=v(t.resolve),n=[],a=0,o=1;S(e,(function(e){var c=a++,d=!1;n.push(void 0),o++,i.call(t,e).then((function(e){d||(d=!0,n[c]=e,--o||r(n))}),s)})),--o||r(n)}));return n.error&&s(n.value),i.promise},race:function(e){var t=this,i=W(t),r=i.reject,s=E((function(){var s=v(t.resolve);S(e,(function(e){s.call(t,e).then(i.resolve,r)}))}));return s.error&&r(s.value),i.promise}})},e6f8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seedWordsList=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},e71f:function(e,t,i){"use strict";var r=i("cc84"),s=i("e283"),n=i("ffa6"),a=(i("a8e9"),i("abfd"),i("c7b2"),{Firestore:s["q"],GeoPoint:s["b"],Timestamp:s["f"],Blob:s["k"],Transaction:s["g"],WriteBatch:s["n"],DocumentReference:s["d"],DocumentSnapshot:s["i"],Query:s["j"],QueryDocumentSnapshot:s["h"],QuerySnapshot:s["l"],CollectionReference:s["o"],FieldPath:s["m"],FieldValue:s["r"],setLogLevel:s["e"],CACHE_SIZE_UNLIMITED:s["p"]});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(e){!function(e,t){e.INTERNAL.registerComponent(new n["a"]("firestore",(function(e){var i=e.getProvider("app").getImmediate();return t(i,e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},a)))}(e,(function(e,t){return new s["q"](e,new s["c"](e,t),new s["a"])})),e.registerVersion("@firebase/firestore","2.3.8")}o(r["a"])},e79f:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,ExchangeNotAvailable:a,InsufficientFunds:o,OrderNotFound:c,DDoSProtection:d,InvalidOrder:h,AuthenticationError:u}=i("74b0"),l=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"tidex",name:"Tidex",countries:["UK"],rateLimit:2e3,version:"3",userAgent:this.userAgents["chrome"],has:{cancelOrder:!0,CORS:!1,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://gate.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",referral:"https://tidex.com/exchange/?ref=57f5638d9cd7",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]},public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfoExt","getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{DSH:"DASH",EMGO:"MGO",MGO:"WMGO"},exceptions:{exact:{803:h,804:h,805:h,806:h,807:h,831:o,832:o,833:c},broad:{"Invalid pair name":s,"invalid api key":u,"invalid sign":u,"api key dont have trade permission":u,"invalid parameter":h,"invalid order":h,"Requests too often":d,"not available":a,"data unavailable":a,"external service unavailable":a}},options:{fetchTickersMaxLength:2048},orders:{}})}async fetchCurrencies(e={}){const t=await this.webGetCurrency(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),n=this.safeInteger(e,"amountPoint"),a=this.safeCurrencyCode(s),o=this.safeValue(e,"visible");let c=!0===o;const d=this.safeValue(e,"withdrawEnable"),h=this.safeValue(e,"depositEnable"),u=!0===d,l=!0===h;u&&l||(c=!1);const f=this.safeString(e,"name"),p=this.safeNumber(e,"withdrawFee");i[a]={id:s,code:a,name:f,active:c,precision:n,funding:{withdraw:{active:u,fee:p},deposit:{active:l,fee:this.parseNumber("0")}},limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(e,"withdrawMinAmount"),max:void 0},deposit:{min:this.safeNumber(e,"depositMinAmount"),max:void 0}},info:e}}return i}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=t["pairs"],r=Object.keys(i),s=[];for(let n=0;n<r.length;n++){const e=r[n],t=i[e],[a,o]=e.split("_"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(t,"decimal_places"),price:this.safeInteger(t,"decimal_places")},f={amount:{min:this.safeNumber(t,"min_amount"),max:this.safeNumber(t,"max_amount")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:this.safeNumber(t,"min_total")}},p=this.safeInteger(t,"hidden"),m=0===p;let g=this.safeString(t,"fee");g=l.stringDiv(g,"100");const y=this.parseNumber(g);s.push({id:e,symbol:h,base:c,quote:d,baseId:a,quoteId:o,active:m,taker:y,precision:u,limits:f,info:t})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfoExt(e),i=this.safeValue(t,"return"),r=this.safeTimestamp(i,"server_time"),s={info:t,timestamp:r,datetime:this.iso8601(r)},n=this.safeValue(i,"funds",{}),a=Object.keys(n);for(let o=0;o<a.length;o++){const e=a[o],t=this.safeCurrencyCode(e),i=this.safeValue(n,e,{}),r=this.account();r["free"]=this.safeString(i,"value"),r["used"]=this.safeString(i,"inOrders"),s[t]=r}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),n={pair:r["id"]};void 0!==t&&(n["limit"]=t);const a=await this.publicGetDepthPair(this.extend(n,i)),o=r["id"]in a;if(!o)throw new s(this.id+" "+r["symbol"]+" order book is empty or not available");const c=a[r["id"]];return this.parseOrderBook(c,e)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const n={pair:r};void 0!==t&&(n["limit"]=t);const a=await this.publicGetDepthPair(this.extend(n,i)),o={};r=Object.keys(a);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeSymbol(e);o[t]=this.parseOrderBook(a[e])}return o}parseTicker(e,t){let i=this.safeTimestamp(e,"updated"),r=void 0;void 0!==t&&(r=t["symbol"],t["active"]||(i=void 0));const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol_cur"),quoteVolume:this.safeNumber(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;if(i=i.join("-"),i.length>this.options["fetchTickersMaxLength"]){const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);throw new n(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),a={},o=Object.keys(s);for(let n=0;n<o.length;n++){const e=o[n],t=this.safeMarket(e),i=t["symbol"];a[i]=this.parseTicker(s[e],t)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return i[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeString2(e,"rate","price"),n=this.safeString2(e,"trade_id","tid"),a=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),d=this.safeString(e,"amount"),h=this.parseNumber(s),u=this.parseNumber(d),f=this.parseNumber(l.stringMul(s,d)),p="limit";let m=void 0,g=void 0;const y=this.safeNumber(e,"commission");if(void 0!==y){const t=this.safeString(e,"commissionCurrency"),i=this.safeCurrencyCode(t);g={cost:y,currency:i}}const v=this.safeValue(e,"is_your_order");return void 0!==v&&(m="taker",v&&(m="maker"),void 0===g&&(g=this.calculateFee(c,p,r,u,h,m))),{id:n,order:a,timestamp:i,datetime:this.iso8601(i),symbol:c,type:p,side:r,takerOrMaker:m,price:h,amount:u,cost:f,fee:g,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetTradesPair(this.extend(n,r));if(Array.isArray(a)){const e=a.length;if(0===e)return[]}return this.parseTrades(a[s["id"]],s,t,i)}async createOrder(e,t,i,r,n,a={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o["id"],type:i,amount:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,n)};n=parseFloat(n),r=parseFloat(r);const d=await this.privatePostTrade(this.extend(c,a));let h=void 0,u="open",l=0,f=r;const p=this.safeValue(d,"return");void 0!==p&&(h=this.safeString(p,"order_id"),"0"===h&&(h=this.safeString(p,"init_order_id"),u="closed"),l=this.safeNumber(p,"received",l),f=this.safeNumber(p,"remains",r));const m=this.milliseconds();return this.safeOrder({id:h,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,status:u,symbol:e,type:t,side:i,price:n,cost:void 0,amount:r,remaining:f,filled:l,fee:void 0,info:d,clientOrderId:void 0,average:void 0,trades:void 0})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrderStatus(e){const t={0:"open",1:"closed",2:"canceled",3:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestamp_created"),n=this.safeString(e,"pair"),a=this.safeSymbol(n,t);let o=void 0,c=void 0;const d=this.safeNumber(e,"rate");"start_amount"in e?(c=this.safeNumber(e,"start_amount"),o=this.safeNumber(e,"amount")):o=this.safeNumber(e,"amount");const h=void 0;return this.safeOrder({info:e,id:i,clientOrderId:void 0,symbol:a,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:"limit",timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:d,stopPrice:void 0,cost:void 0,amount:c,remaining:o,filled:void 0,status:r,fee:h,average:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderInfo(this.extend(r,i));e=e.toString();const n=this.safeValue(s,"return",{}),a=this.safeValue(n,e);return this.parseOrder(this.extend({id:e},a))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s["pair"]=n["id"]);const a=await this.privatePostActiveOrders(this.extend(s,r)),o=this.safeValue(a,"return",[]);return this.parseOrders(o,n,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.market(e),n["pair"]=s["id"]),void 0!==i&&(n["count"]=parseInt(i)),void 0!==t&&(n["since"]=parseInt(t/1e3));const a=await this.privatePostTradeHistory(this.extend(n,r)),o=this.safeValue(a,"return",[]);return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),o={coinName:a["id"],amount:parseFloat(t),address:i};if(void 0!==r)throw new s(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");const c=await this.privatePostWithdrawCoin(this.extend(o,n));return{info:c,id:c["return"]["tId"]}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t];const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();n=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(n),this.encode(this.secret),"sha512");s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(a+="/"+this.implodeParams(e,r),Object.keys(o).length&&(a+="?"+this.urlencode(o))):(a+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(n=this.json(o),s={"Content-Type":"application/json"}));return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,i),this.throwExactlyMatchedException(this.exceptions["exact"],t,i),this.throwBroadlyMatchedException(this.exceptions["broad"],t,i),new s(i)}}}}},e893:function(e,t,i){var r=i("5135"),s=i("56ef"),n=i("06cf"),a=i("9bf2");e.exports=function(e,t){for(var i=s(t),o=a.f,c=n.f,d=0;d<i.length;d++){var h=i[d];r(e,h)||o(e,h,c(t,h))}}},e8b5:function(e,t,i){var r=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,i){var r=i("b622"),s=i("3f8c"),n=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||a[n]===e)}},e9b1:function(e,t,i){},ea7c:function(e,t,i){var r=i("5a7c"),s=i("d6ce"),n=i("3e14"),a=r((function(e,t){return s(n(e.length,t),e)}));e.exports=a},eb99:function(e,t,i){var r=i("5259");i("6497");var s=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],n=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(e,t){"string"===typeof e&&(e=r.util.createBuffer(e)),t=t||128;var i,n=e,a=e.length(),o=t,c=Math.ceil(o/8),d=255>>(7&o);for(i=a;i<128;i++)n.putByte(s[n.at(i-1)+n.at(i-a)&255]);for(n.setAt(128-c,s[n.at(128-c)&d]),i=127-c;i>=0;i--)n.setAt(i,s[n.at(i+1)^n.at(i+c)]);return n};var c=function(e,t,i){var s,c,d,h,u=!1,l=null,f=null,p=null,m=[];for(e=r.rc2.expandKey(e,t),d=0;d<64;d++)m.push(e.getInt16Le());i?(s=function(e){for(d=0;d<4;d++)e[d]+=m[h]+(e[(d+3)%4]&e[(d+2)%4])+(~e[(d+3)%4]&e[(d+1)%4]),e[d]=a(e[d],n[d]),h++},c=function(e){for(d=0;d<4;d++)e[d]+=m[63&e[(d+3)%4]]}):(s=function(e){for(d=3;d>=0;d--)e[d]=o(e[d],n[d]),e[d]-=m[h]+(e[(d+3)%4]&e[(d+2)%4])+(~e[(d+3)%4]&e[(d+1)%4]),h--},c=function(e){for(d=3;d>=0;d--)e[d]-=m[63&e[(d+3)%4]]});var g=function(e){var t=[];for(d=0;d<4;d++){var r=l.getInt16Le();null!==p&&(i?r^=p.getInt16Le():p.putInt16Le(r)),t.push(65535&r)}h=i?0:63;for(var s=0;s<e.length;s++)for(var n=0;n<e[s][0];n++)e[s][1](t);for(d=0;d<4;d++)null!==p&&(i?p.putInt16Le(t[d]):t[d]^=p.getInt16Le()),f.putInt16Le(t[d])},y=null;return y={start:function(e,t){e&&"string"===typeof e&&(e=r.util.createBuffer(e)),u=!1,l=r.util.createBuffer(),f=t||new r.util.createBuffer,p=e,y.output=f},update:function(e){u||l.putBuffer(e);while(l.length()>=8)g([[5,s],[1,c],[6,s],[1,c],[5,s]])},finish:function(e){var t=!0;if(i)if(e)t=e(8,l,!i);else{var r=8===l.length()?8:8-l.length();l.fillWithByte(r,r)}if(t&&(u=!0,y.update()),!i&&(t=0===l.length(),t))if(e)t=e(8,f,!i);else{var s=f.length(),n=f.at(s-1);n>s?t=!1:f.truncate(n)}return t}},y};r.rc2.startEncrypting=function(e,t,i){var s=r.rc2.createEncryptionCipher(e,128);return s.start(t,i),s},r.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},r.rc2.startDecrypting=function(e,t,i){var s=r.rc2.createDecryptionCipher(e,128);return s.start(t,i),s},r.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},edc5:function(e,t,i){"use strict";const r=i("90db"),{AuthenticationError:s,ExchangeError:n,OrderNotFound:a,ArgumentsRequired:o,BadSymbol:c,BadRequest:d,NullResponse:h,InvalidOrder:u,BadResponse:l,NotSupported:f,ExchangeNotAvailable:p,RequestTimeout:m,RateLimitExceeded:g,PermissionDenied:y,InsufficientFunds:v,InvalidAddress:b}=i("74b0"),{TICK_SIZE:w,TRUNCATE:S}=i("5ea4"),k=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hbtc",name:"HBTC",countries:["CN"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchBidAsk:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/51840849/80134449-70663300-85a7-11ea-8942-e204cdeaab5d.jpg",api:{quote:"https://api.hbtc.com/openapi/quote",contract:"https://api.hbtc.com/openapi/contract",option:"https://api.hbtc.com/openapi/option",public:"https://api.hbtc.com/openapi",private:"https://api.hbtc.com/openapi",zendesk:"https://hbtc.zendesk.com/hc/en-us"},www:"https://www.hbtc.com",referral:"https://www.hbtc.com/register/O2S8NS",doc:"https://github.com/bhexopen/BHEX-OpenApi/tree/master/doc",fees:"https://hbtc.zendesk.com/hc/zh-cn/articles/360009274694"},api:{public:{get:["ping","time","brokerInfo","getOptions"]},quote:{get:["depth","depth/merged","trades","klines","ticker/24hr","ticker/price","ticker/bookTicker","contract/index","contract/depth","contract/depth/merged","contract/trades","contract/klines","contract/ticker/24hr","option/index","option/depth","option/depth/merged","option/trades","option/klines","option/ticker/24hr"]},contract:{get:["insurance","fundingRate","openOrders","historyOrders","getOrder","myTrades","positions","account"],post:["order","modifyMargin"],delete:["order/cancel","order/batchCancel"]},option:{get:["openOrders","positions","historyOrders","myTrades","settlements","account"],post:["order"],delete:["order/cancel"]},private:{get:["order","openOrders","historyOrders","account","myTrades","depositOrders","withdrawalOrders","withdraw/detail","balance_flow"],post:["order","order/test","userDataStream","subAccount/query","transfer","user/transfer","withdraw"],put:["userDataStream"],delete:["order","userDataStream"]}},precisionMode:w,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},exceptions:{exact:{"-1000":n,"-1001":n,"-1002":s,"-1003":g,"-1004":d,"-1005":y,"-1006":l,"-1007":m,"-1014":u,"-1015":g,"-1016":p,"-1020":f,"-1021":d,"-1022":s,"-1100":d,"-1101":d,"-1102":d,"-1103":d,"-1104":d,"-1105":d,"-1106":d,"-1111":d,"-1112":h,"-1114":u,"-1115":u,"-1116":u,"-1117":u,"-1118":u,"-1119":u,"-1120":d,"-1121":c,"-1125":s,"-1127":d,"-1128":d,"-1130":d,"-1131":v,"-1132":u,"-1133":u,"-1134":u,"-1135":u,"-1136":u,"-1137":u,"-1138":u,"-1139":u,"-1140":u,"-1141":u,"-1142":u,"-1143":a,"-1144":u,"-1145":u,"-1146":m,"-1147":m,"-1149":u,"-1187":b,"-2010":u,"-2011":u,"-2013":a,"-2014":s,"-2015":s,"-2016":n}},options:{fetchTickers:{method:"quoteGetTicker24hr"},accountsByType:{trade:1,trading:1,spot:1,option:2,options:2,futures:3,contract:3}},commonCurrencies:{MIS:"Themis Protocol"}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}parseMarket(e,t="spot"){const i=this.safeValue(e,"filters",[]),r=this.safeString(e,"symbol");let s=this.safeString(e,"baseAsset");const n=this.safeString(e,"quoteAsset");let a=this.safeCurrencyCode(s);const o=this.safeCurrencyCode(n);let c=a+"/"+o,d=!0,h=!1,u=!1,l=!1;"future"===t?(c=r,d=!1,h=!0,l=this.safeValue(e,"inverse",!1),s=this.safeString(e,"underlying"),a=this.safeCurrencyCode(s)):"option"===t&&(c=r,d=!1,u=!0);const f=this.safeValue(e,"allowMargin",void 0),p=this.safeValue(e,"isAggregate",void 0);let m=!0;!0===p&&(m=!1);let g=void 0,y=void 0,v=void 0,b=void 0,w=void 0,S=void 0;for(let O=0;O<i.length;O++){const e=i[O],t=this.safeString(e,"filterType");"LOT_SIZE"===t&&(g=this.safeNumber(e,"minQty"),S=this.safeNumber(e,"stepSize")),"PRICE_FILTER"===t&&(y=this.safeNumber(e,"minPrice"),v=this.safeNumber(e,"maxPrice"),w=this.safeNumber(e,"tickSize"))}void 0!==g&&void 0!==y&&(b=g*y);const k={price:w,amount:S,base:this.safeNumber(e,"baseAssetPrecision"),quote:this.safeNumber2(e,"quotePrecision","quoteAssetPrecision")},_={amount:{min:g,max:void 0},price:{min:y,max:v},cost:{min:b,max:void 0}};return{id:r,symbol:c,base:a,quote:o,baseId:s,quoteId:n,active:m,type:t,spot:d,future:h,option:u,margin:f,inverse:l,precision:k,limits:_,info:e}}async fetchMarkets(e={}){const t=await this.publicGetBrokerInfo(e),i=[],r=this.safeValue(t,"symbols",[]);for(let a=0;a<r.length;a++){const e=this.parseMarket(r[a],"spot");i.push(e)}const s=this.safeValue(t,"options",[]);for(let a=0;a<s.length;a++){const e=this.parseMarket(s[a],"option");i.push(e)}const n=this.safeValue(t,"contracts",[]);for(let a=0;a<n.length;a++){const e=this.parseMarket(n[a],"future");i.push(e)}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r["id"]};void 0!==t&&(s["limit"]=t);const n=await this.quoteGetDepth(this.extend(s,i)),a=this.safeInteger(n,"time");return this.parseOrderBook(n,e,a)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.quoteGetTicker24hr(this.extend(r,t));return this.parseTicker(s,i)}async fetchBidAsk(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.quoteGetTickerBookTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=await this.quoteGetTickerBookTicker(t);return this.parseTickers(i,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"fetchTickers",{}),r=this.safeString(i,"method","quoteGetTicker24hr"),s=this.safeString(i,"type","spot"),n=this.safeString(t,"type",s),a=this.omit(t,"type");let o=r;"future"===n?o="quoteGetContractTicker24hr":"option"===n&&(o="quoteGetOptionTicker24hr");const c=await this[o](a);return this.parseTickers(c,e)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeString(t,"type","spot"),r=this.safeString(e,"type",i),s=this.omit(e,"type");let n="privateGetAccount";"future"===r?n="contractGetAccount":"option"===r&&(n="optionGetAccount");const a=await this[n](s),o=this.safeValue(a,"balances"),c={info:a,timestamp:void 0,datetime:void 0};if(void 0!==o)for(let d=0;d<o.length;d++){const e=o[d],t=this.safeString2(e,"asset","tokenName"),i=this.safeCurrencyCode(t),r=this.account();r["free"]=this.safeString(e,"free"),r["used"]=this.safeString(e,"locked"),c[i]=r}else{const e=Object.keys(a);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeCurrencyCode(i),s=a[i],n=this.account();n["free"]=this.safeString(s,"availableMargin"),n["total"]=this.safeString(s,"total"),c[r]=n}}return this.parseBalance(c,!1)}async fetchTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.quoteGetTrades(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a={symbol:n["id"],interval:this.timeframes[t]};void 0!==i&&(a["startTime"]=i),void 0!==r&&(a["limit"]=r);const o=await this.quoteGetKlines(this.extend(a,s));return this.parseOHLCVs(o,n,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={},a=this.safeString(this.options,"type","spot"),c=this.safeValue(this.options,"fetchMyTrades",{}),d=this.safeString(c,"type",a);let h=this.safeString(r,"type",d);void 0!==e&&(s=this.market(e),n["symbol"]=s["id"],h=s["type"]);const u=this.omit(r,"type");void 0!==i&&(n["limit"]=i);let l="privateGetMyTrades";if("future"===h)l="contractGetMyTrades";else if("option"===h)l="optionGetMyTrades";else{if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a `symbol` argument for "+h+" markets");const i=this.market(e);n["symbol"]=i["id"],void 0!==t&&(n["startTime"]=t)}void 0!==t&&(n["startTime"]=t);const f=await this[l](this.extend(n,u));return this.parseTrades(f,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),c=i.toUpperCase(),d=t.toUpperCase(),h={symbol:a["id"],side:c};let l=n,p="privatePostOrder";if("future"===a["type"]){if("BUY_OPEN"!==c&&"SELL_OPEN"!==c&&"BUY_CLOSE"!==c&&"SELL_CLOSE"!==c)throw new f(this.id+" createOrder() does not support order side "+i+" for "+a["type"]+" markets, only BUY_OPEN, SELL_OPEN, BUY_CLOSE and SELL_CLOSE are supported");if("LIMIT"!==d&&"STOP"!==d)throw new f(this.id+" createOrder() does not support order type "+t+" for "+a["type"]+" markets, only LIMIT and STOP are supported");const u=this.safeValue(n,"clientOrderId");if(void 0===u)throw new o(this.id+" createOrder() requires a clientOrderId parameter for "+a["type"]+" markets, supply clientOrderId in the params argument");const l=this.safeValue(n,"leverage");if(void 0===l&&("BUY_OPEN"===c||"SELL_OPEN"===c))throw new f(this.id+" createOrder() requires a leverage parameter for "+a["type"]+" markets if orderSide is BUY_OPEN or SELL_OPEN");p="contractPostOrder";const m=this.safeString(n,"priceType");void 0===m?h["price"]=this.priceToPrecision(e,s):(h["priceType"]=m,"INPUT"===m&&(h["price"]=this.priceToPrecision(e,s))),h["orderType"]=t.toUpperCase(),h["quantity"]=this.amountToPrecision(e,r),h["leverage"]=l,h["clientOrderId"]=u}else{"option"===a["type"]&&(p="optionPostOrder");const o=this.safeValue2(n,"clientOrderId","newClientOrderId");if(void 0!==o&&(h["newClientOrderId"]=o),h["type"]=d,"limit"===t)h["price"]=this.priceToPrecision(e,s),h["quantity"]=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){const e=this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0);if(e){if(void 0===s)throw new u(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument (the exchange-specific behaviour)");r*=s}const t=a["precision"]["price"];h["quantity"]=this.decimalToPrecision(r,S,t,this.precisionMode)}else h["quantity"]=this.amountToPrecision(e,r)}l=this.omit(l,["clientOrderId","newClientOrderId"]);const m=await this[p](this.extend(h,l));return this.parseOrder(m,a)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"origClientOrderId","clientOrderId"),s={},n=this.safeString(this.options,"type","spot"),a=this.safeValue(this.options,"cancelOrder",{}),c=this.safeString(a,"type",n);let d=this.safeString(i,"type",c),h=this.omit(i,"type");void 0!==r?(s["origClientOrderId"]=r,h=this.omit(h,["origClientOrderId","clientOrderId"])):s["orderId"]=e;let u="privateDeleteOrder";const l=this.safeString(h,"orderType");if(void 0!==l&&(d="future"),"future"===d){if(u="contractDeleteOrderCancel",void 0===l)throw new o(this.id+" cancelOrder() requires an orderType parameter, pass the { 'orderType': 'LIMIT' } or { 'orderType': 'STOP' } in params argument");s["orderType"]=l}else"option"===d&&(u="optionDeleteOrderCancel");const f=await this[u](this.extend(s,h));return this.parseOrder(f)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={},a=this.safeString(this.options,"type","spot"),o=this.safeValue(this.options,"fetchOpenOrders",{}),c=this.safeString(o,"type",a);let d=this.safeString(r,"type",c);void 0!==e&&(s=this.market(e),n["symbol"]=s["id"],d=s["type"]);const h=this.omit(r,"type");void 0!==i&&(n["limit"]=i);let u="privateGetOpenOrders";"future"===d?u="contractGetOpenOrders":"option"===d&&(u="optionGetOpenOrders");const l=await this[u](this.extend(n,h));return this.parseOrders(l,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={},a=this.safeString(this.options,"type","spot"),o=this.safeValue(this.options,"fetchClosedOrders",{}),c=this.safeString(o,"type",a);let d=this.safeString(r,"type",c);void 0!==e&&(s=this.market(e),n["symbol"]=s["id"],d=s["type"]);const h=this.omit(r,"type");void 0!==i&&(n["limit"]=i),void 0!==t&&(n["startTime"]=t);let u="privateGetHistoryOrders";"future"===d?u="contractGetHistoryOrders":"option"===d&&(u="optionGetHistoryOrders");const l=await this[u](this.extend(n,h));return this.parseOrders(l,s,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"origClientOrderId","clientOrderId"),s={},n=this.safeString(this.options,"type","spot"),a=this.safeValue(this.options,"fetchOrder",{}),o=this.safeString(a,"type",n),c=this.safeString(i,"type",o);let d=this.omit(i,"type");void 0!==r?(s["origClientOrderId"]=r,d=this.omit(d,["origClientOrderId","clientOrderId"])):s["orderId"]=e;let h="privateGetOrder";"future"===c?h="contractGetGetOrder":"option"===c&&(h="optionGetGetOrder");const u=await this[h](this.extend(s,d));return this.parseOrder(u)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e)),void 0!==t&&(n["startTime"]=t),void 0!==i&&(n["limit"]=i);const a=await this.privateGetDepositOrders(this.extend(n,r));return this.parseTransactions(a,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==e&&(s=this.currency(e),n["token"]=s["id"]),void 0!==t&&(n["startTime"]=t),void 0!==i&&(n["limit"]=i);const a=await this.privateGetWithdrawalOrders(this.extend(n,r));return this.parseTransactions(a,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),a=this.safeString(s,"clientOrderId",this.uuid()),o={clientOrderId:a,tokenId:n["id"],address:i,withdrawQuantity:t};void 0!==r&&(o["addressExt"]=r);const c=await this.privatePostWithdraw(this.extend(o,s));return{info:c,id:this.safeString(c,"orderId")}}async fetchAccounts(e={}){const t=await this.privatePostSubAccountQuery(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"accountId"),n=this.safeString(e,"accountType");let a=n;"1"===n?a="spot":"2"===n?a="option":"3"===n&&(a="future"),i.push({id:s,type:a,currency:void 0,info:e})}return i}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={accountType:1,accountIndex:0,fromFlowId:"",endFlowId:"",endTime:1588450533040};let n=void 0;void 0!==e&&(n=this.currency(e),s["tokenId"]=n["id"]),void 0!==t&&(s["startTime"]=t),void 0!==i&&(s["limit"]=i);const a=await this.privateGetBalanceFlow(this.extend(s,r));return this.parseLedger(a,n,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"tokenId"),r=this.safeCurrencyCode(i,t),s=this.safeNumber(e,"change"),n=this.safeNumber(e,"total"),a=s<0?"out":"in";let o=void 0;if(void 0!==n&&void 0!==s){const e="out"===a?s:-s;o=this.sum(n,e)}const c=this.safeInteger(e,"created"),d=this.parseLedgerEntryType(this.safeString(e,"flowType")),h=this.safeString(e,"id"),u=this.safeString(e,"accountId");return{id:h,currency:r,account:u,referenceAccount:void 0,referenceId:void 0,status:void 0,amount:s,before:o,after:n,fee:void 0,direction:a,timestamp:c,datetime:this.iso8601(c),type:d,info:e}}parseLedgerEntryType(e){const t={TRADE:"trade",FEE:"fee",TRANSFER:"transfer",DEPOSIT:"transaction",MAKER_REWARD:"rebate",PNL:"pnl",SETTLEMENT:"settlement",LIQUIDATION:"liquidation",FUNDING_SETTLEMENT:"settlement",USER_ACCOUNT_TRANSFER:"transfer",OTC_BUY_COIN:"trade",OTC_SELL_COIN:"trade",OTC_FEE:"fee",OTC_TRADE:"trade",ACTIVITY_AWARD:"referral",INVITATION_REFERRAL_BONUS:"referral",REGISTER_BONUS:"referral",AIRDROP:"airdrop",MINE_REWARD:"reward"};return this.safeString(t,e,e)}parseTransactionStatus(e){const t={BROKER_AUDITING_STATUS:"pending",BROKER_REJECT_STATUS:"failed",AUDITING_STATUS:"pending",AUDIT_REJECT_STATUS:"failed",PROCESSING_STATUS:"pending",WITHDRAWAL_SUCCESS_STATUS:"ok",WITHDRAWAL_FAILURE_STATUS:"failed",BLOCK_MINING_STATUS:"ok"};return this.safeString(t,e,e)}parseTransaction(e,t){const i=this.safeString(e,"orderId"),r=this.safeString(e,"address");let s=this.safeString2(e,"addressExt","addressTag");void 0!==s&&s.length<1&&(s=void 0);const n=this.safeString(e,"fromAddress");let a=this.safeString(e,"fromAddressTag");void 0!==a&&a.length<1&&(a=void 0);const o=this.safeString(e,"tokenId"),c=this.safeCurrencyCode(o,t),d=this.safeInteger(e,"time");let h=this.safeString(e,"txid");""===h&&(h=void 0);let u=void 0,l=this.parseTransactionStatus(this.safeString(e,"statusCode"));void 0===l?(u="deposit",l="ok"):u="withdrawal";const f=this.safeNumber(e,"quantity"),p=this.safeNumber(e,"fee");let m=void 0;if(void 0!==p){const t=this.safeString(e,"feeTokenId"),i=this.safeCurrencyCode(t);m={currency:i,cost:p}}return{info:e,id:i,txid:h,timestamp:d,datetime:this.iso8601(d),addressFrom:n,address:r,addressTo:r,tagFrom:a,tag:s,tagTo:s,type:u,amount:f,currency:c,status:l,updated:void 0,fee:m}}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeInteger(e,"time"),n=this.safeNumber(e,"openPrice"),a=this.safeNumber(e,"lastPrice");let o=void 0,c=void 0,d=void 0;void 0!==n&&void 0!==a&&(o=a-n,d=this.sum(n,a)/2,void 0!==a&&a>0&&(c=o/n*100));const h=this.safeNumber(e,"quoteVolume"),u=this.safeNumber(e,"volume"),l=this.vwap(u,h);return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber2(e,"bestBidPrice","bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber2(e,"bestAskPrice","askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:l,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:d,baseVolume:u,quoteVolume:h,info:e}}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeNumber(e,"time"),s=void 0,n=this.safeString(e,"orderId"),a=this.safeString(e,"price"),o=this.safeString(e,"qty"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(k.stringMul(a,o));let u=void 0,l=void 0;if("isBuyerMaker"in e)u=e["isBuyerMaker"]?"sell":"buy";else{const t=this.safeValue(e,"isMaker");void 0!==t&&(l=t?"maker":"taker");const i=this.safeValue(e,"isBuyer");u=i?"buy":"sell"}let f=void 0;const p=this.safeNumber(e,"commission");if(void 0!==p){const t=this.safeString(e,"commissionAsset"),i=this.safeCurrencyCode(t);f={cost:p,currency:i}}let m=void 0;return void 0===m&&void 0!==t&&(m=t["symbol"]),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:m,type:s,order:n,side:u,takerOrMaker:l,price:c,amount:d,cost:h,fee:f}}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeString(e,"clientOrderId");let s=this.safeInteger(e,"time");void 0===s&&(s=this.safeInteger(e,"transactTime"));const n=this.safeString(e,"symbol"),a=this.safeSymbol(n,t);let o=this.safeStringLower(e,"type");const c=this.safeStringLower(e,"side");let d=this.safeNumber(e,"price"),h=this.safeNumber(e,"avgPrice"),u=void 0,l=this.safeNumber(e,"cummulativeQuoteQty"),f=void 0,p=void 0;void 0===o?(o=this.safeStringLower(e,"orderType"),void 0!==t&&t["inverse"]&&(l=this.safeNumber(e,"executedQty"),u=void 0),0===l&&(f=0)):(u=this.safeNumber(e,"origQty"),"market"===o&&(d=void 0,"buy"===c&&(u=void 0)),f=this.safeNumber(e,"executedQty"),void 0!==f&&void 0!==u&&(p=u-f)),0===h&&(h=void 0);const m=this.parseOrderStatus(this.safeString(e,"status")),g=this.safeString(e,"timeInForce"),y=this.safeNumber(e,"stopPrice"),v={info:e,id:i,clientOrderId:r,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:a,type:o,timeInForce:g,side:c,price:d,stopPrice:y,average:h,cost:l,amount:u,filled:f,remaining:p,status:m,trades:void 0,fee:void 0,fees:void 0},b=this.safeValue(e,"fees",[]),w=b.length;if(w>0){v["fees"]=[];for(let e=0;e<b.length;e++){const t=this.safeNumber(b[e],"fee");if(void 0!==t){const i=this.safeString(b[e],"feeToken"),r=this.safeCurrencyCode(i);v["fees"].push({cost:t,currency:r})}}}return v}parseOrderStatus(e){const t={NEW:"open",CANCELED:"canceled",FILLED:"closed",PARTIALLY_FILLED:"open",PENDING_CANCEL:"canceled"};return this.safeString(t,e,e)}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e)),c="contract"===t&&("insurance"===e||"fundingRate"===e);if("public"===t||"quote"===t||c)Object.keys(r).length&&(a+="?"+this.urlencode(r));else{const e=this.milliseconds();this.checkRequiredCredentials();const t=this.extend({timestamp:e},o),r=this.urlencode(t),c=this.hmac(this.encode(r),this.encode(this.secret),"sha256");t["signature"]=c,s={"X-BH-APIKEY":this.apiKey},"POST"===i?(n=this.urlencode(t),s=this.extend({"Content-Type":"application/x-www-form-urlencoded"},s)):a+="?"+this.urlencode(t)}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o&&"code"in o){const e=this.safeString(o,"code");if("0"!==e){const t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),new n(t)}}}}},edee:function(e,t,i){var r=i("70ea"),s=i("02ff"),n=i("97ba"),a=!{toString:null}.propertyIsEnumerable("toString"),o=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),d=function(e,t){var i=0;while(i<e.length){if(e[i]===t)return!0;i+=1}return!1},h="function"!==typeof Object.keys||c?r((function(e){if(Object(e)!==e)return[];var t,i,r=[],h=c&&n(e);for(t in e)!s(t,e)||h&&"length"===t||(r[r.length]=t);if(a){i=o.length-1;while(i>=0)t=o[i],s(t,e)&&!d(r,t)&&(r[r.length]=t),i-=1}return r})):r((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=h},ee6f:function(e,t,i){},eeda:function(e,t,i){"use strict";function r(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}var s=r();function n(e,t,i,r){var n=s,a=r+i;e^=-1;for(var o=r;o<a;o++)e=e>>>8^n[255&(e^t[o])];return-1^e}e.exports=n},ef50:function(e,t,i){"use strict";const r=i("90db"),s=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lykke",name:"Lykke",countries:["CH"],version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchTrades:!0,fetchMyTrades:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0},timeframes:{"1m":"Minute","5m":"Min5","15m":"Min15","30m":"Min30","1h":"Hour","4h":"Hour4","6h":"Hour6","12h":"Hour12","1d":"Day","1w":"Week","1M":"Month"},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api"},test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["AssetPairs/rate","AssetPairs/rate/{assetPairId}","AssetPairs/dictionary/{market}","Assets/dictionary","Candles/history/{market}/available","Candles/history/{market}/{assetPair}/{period}/{type}/{from}/{to}","Company/ownershipStructure","Company/registrationsCount","IsAlive","Market","Market/{market}","Market/capitalization/{market}","OrderBook","OrderBook/{assetPairId}","Trades/{AssetPairId}","Trades/Last/{assetPair}/{n}"],post:["AssetPairs/rate/history","AssetPairs/rate/history/{assetPairId}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets","History/trades"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel","Orders/v2/market","Orders/v2/limit","Orders/stoplimit","Orders/bulk"],delete:["Orders","Orders/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}},commonCurrencies:{CAN:"CanYaCoin",XPD:"Lykke XPD"}})}parseTrade(e,t){const i=this.safeString(e,"AssetPairId"),r=this.safeSymbol(i,t),n=this.safeString2(e,"id","Id"),a=this.safeString(e,"OrderId"),o=this.parse8601(this.safeString2(e,"dateTime","DateTime")),c=this.safeString2(e,"price","Price");let d=this.safeString2(e,"volume","Amount"),h=this.safeStringLower(e,"action");void 0===h&&(h="-"===d[0]?"sell":"buy"),d=s.stringAbs(d);const u=this.parseNumber(c),l=this.parseNumber(d),f=this.parseNumber(s.stringMul(c,d)),p={cost:0,currency:t["quote"]};return{id:n,info:e,timestamp:o,datetime:this.iso8601(o),symbol:r,type:void 0,order:a,side:h,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);void 0===i&&(i=100);const n={AssetPairId:s["id"],skip:0,take:i},a=await this.mobileGetTradesAssetPairId(this.extend(n,r));return this.parseTrades(a,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==i&&(s["take"]=i),void 0!==e&&(n=this.market(e),s["assetPairId"]=n["id"]);const a=await this.privateGetHistoryTrades(this.extend(s,r));return this.parseTrades(a,n,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"AssetId"),n=this.safeCurrencyCode(s),a=this.account();a["total"]=this.safeString(e,"Balance"),a["used"]=this.safeString(e,"Reserved"),i[n]=a}return this.parseBalance(i,!1)}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteOrdersId(this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;return void 0!==e&&(r=this.market(e),i["assetPairId"]=r["id"]),await this.privateDeleteOrders(this.extend(i,t))}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.market(e),o={AssetPairId:a["id"],OrderAction:this.capitalize(i),Volume:r,Asset:a["baseId"]};"limit"===t&&(o["Price"]=s);const c="privatePostOrdersV2"+this.capitalize(t),d=await this[c](this.extend(o,n)),h=this.safeString(d,"Id");return s=this.safeNumber(d,"Price"),{id:h,info:d,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:r,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"Id"),n=this.safeString(e,"Name"),[a,o]=n.split("/"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeString(e,"Accuracy"),l=this.parsePrecision(u),f={price:parseInt(u),amount:this.safeInteger(e,"InvertedAccuracy")};i.push({id:s,symbol:h,base:c,quote:d,active:!0,info:e,precision:f,limits:{amount:{min:this.safeNumber(e,"MinVolume"),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:this.safeNumber(e,"MinInvertedVolume"),max:void 0}},baseId:void 0,quoteId:void 0})}return i}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t["symbol"]);const s=this.safeNumber(e,"lastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume24H"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i["id"]},s=await this.mobileGetMarketMarket(this.extend(r,t));return this.parseTicker(s,i)}parseOrderStatus(e){const t={Open:"open",Pending:"open",InOrderBook:"open",Processing:"open",Matched:"closed",Cancelled:"canceled",Rejected:"rejected",Replaced:"canceled",Placed:"open"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"Status")),r=this.safeString(e,"AssetPairId"),s=this.safeSymbol(r,t),n=this.parse8601(this.safeString(e,"LastMatchTime"));let a=void 0;"Registered"in e&&e["Registered"]?a=this.parse8601(e["Registered"]):"CreatedAt"in e&&e["CreatedAt"]&&(a=this.parse8601(e["CreatedAt"]));const o=this.safeNumber(e,"Price");let c=void 0,d=this.safeNumber(e,"Volume");d<0?(c="sell",d=Math.abs(d)):c="buy";const h=Math.abs(this.safeNumber(e,"RemainingVolume")),u=this.safeString(e,"Id");return this.safeOrder({info:e,id:u,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:n,symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:void 0,cost:void 0,average:void 0,amount:d,filled:void 0,remaining:h,status:i,fee:void 0,trades:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetOrders(r);let n=void 0;return void 0!==e&&(n=this.market(e)),this.parseOrders(s,n,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={status:"InOrderBook"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"Matched"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(e)},i)),s={timestamp:void 0,bids:[],asks:[]};let n=void 0;for(let a=0;a<r.length;a++){const e=r[a];e["IsBuy"]?s["bids"]=this.arrayConcat(s["bids"],e["Prices"]):s["asks"]=this.arrayConcat(s["asks"],e["Prices"]);const t=this.parse8601(e["Timestamp"]);n=void 0===n?t:Math.max(n,t)}return this.parseOrderBook(s,e,n,"bids","asks","Price","Volume")}parseBidAsk(e,t=0,i=1){const r=this.safeNumber(e,t);let s=this.safeNumber(e,i);return s<0&&(s=-s),[r,s]}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"][t]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"mobile"===t||"public"===t?Object.keys(o).length&&(a+="?"+this.urlencode(o)):"private"===t&&("GET"!==i&&"DELETE"!==i||Object.keys(o).length&&(a+="?"+this.urlencode(o)),this.checkRequiredCredentials(),s={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===i&&Object.keys(r).length&&(n=this.json(r))),{url:a,method:i,body:n,headers:s}}}},efc3:function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var n=i("abf9");t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return Uint8Array.from(s(e,n._fromIn(t)))}),new Uint8Array(0))},t.split=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=t.reduce((function(e,t){return{arr:e.arr.slice(t),r:s(e.r,[e.arr.slice(0,t)])}}),{arr:n._fromIn(e),r:[]}),a=r.r,o=r.arr;return s(a,[o])}},f069:function(e,t,i){"use strict";var r=i("1c0b"),s=function(e){var t,i;this.promise=new e((function(e,r){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=r})),this.resolve=r(t),this.reject=r(i)};e.exports.f=function(e){return new s(e)}},f0be:function(e,t,i){"use strict";var r=t;r.base=i("ce75"),r.short=i("6405"),r.mont=i("c3f2"),r.edwards=i("8df3")},f183:function(e,t,i){var r=i("d012"),s=i("861d"),n=i("5135"),a=i("9bf2").f,o=i("90e3"),c=i("bb2f"),d=o("meta"),h=0,u=Object.isExtensible||function(){return!0},l=function(e){a(e,d,{value:{objectID:"O"+h++,weakData:{}}})},f=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,d)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[d].objectID},p=function(e,t){if(!n(e,d)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[d].weakData},m=function(e){return c&&g.REQUIRED&&u(e)&&!n(e,d)&&l(e),e},g=e.exports={REQUIRED:!1,fastKey:f,getWeakData:p,onFreeze:m};r[d]=!0},f29a:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r,s=i("9ab4"),n=i("53a4"),a=(r={},r[n["a"].SIGNER_OPTIONS]=n["h"],r[n["a"].NETWORK_BYTE]=n["f"],r[n["a"].PROVIDER_INTERFACE]=n["j"],r[n["a"].API_ARGUMENTS]=n["b"],r[n["a"].PROVIDER_CONNECT]=n["i"],r[n["a"].ENSURE_PROVIDER]=n["d"],r[n["a"].PROVIDER_INTERNAL]=n["k"],r[n["a"].NOT_AUTHORIZED]=n["c"],r[n["a"].NETWORK_ERROR]=n["g"],r),o=function(e){return function(t,i){var r,n=new((r=a[t]).bind.apply(r,Object(s["f"])([void 0],i||[])));throw e.log(n.toString()),n}}},f2e7:function(e,t,i){"use strict";i.d(t,"b",(function(){return n}));var r=i("ade3"),s=i("2b0e");function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return s["a"].extend({name:"toggleable",model:{prop:t,event:i},props:Object(r["a"])({},t,{required:!1}),data:function(){return{isActive:!!this[t]}},watch:(e={},Object(r["a"])(e,t,(function(e){this.isActive=!!e})),Object(r["a"])(e,"isActive",(function(e){!!e!==this[t]&&this.$emit(i,e)})),e)})}var a=n();t["a"]=a},f2eb:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.makeStateUpdate=t.addStateUpdateField=void 0;var s=i("52e4"),n=i("3ee4");function a(e){if(e.type===n.TRANSACTION_TYPE.INVOKE_SCRIPT&&e.stateChanges.invokes&&e.stateChanges.invokes.length){var t=e.payment?e.payment.map((function(e){return{assetId:e.assetId,amount:e.amount}})):[];return Object.defineProperty(e,"stateUpdate",{get:function(){return o(e.stateChanges,t,e.dApp,e.sender)}})}return e}function o(e,t,i,n){var a=t.map((function(e){return{payment:e,dApp:i,sender:n}})),o=function(e,t){return e.map((function(e){var s;return r(r({},e),(s={},s[t]=i,s))}))},c=o(e.transfers,"sender"),d=o(e.leases,"sender"),h=o(e.issues,"address"),u=o(e.data,"address"),l=o(e.reissues,"address"),f=o(e.burns,"address"),p=o(e.sponsorFees,"address"),m=o(e.leaseCancels,"address"),g={payments:a,data:u,transfers:c,reissues:l,issues:h,burns:f,sponsorFees:p,leases:d,leaseCancels:m},y=function(e,t){e.invokes.length&&e.invokes.forEach((function(e){e.payment&&e.payment.forEach((function(i){var r=a.findIndex((function(r){return r.payment.assetId===i.assetId&&r.dApp===e.dApp&&t===e.dApp}));-1!==r?a[r].payment.amount=new s.BigNumber(a[r].payment.amount).add(i.amount).toNumber():a.push({payment:i,sender:t,dApp:e.dApp})})),e.stateChanges.data.forEach((function(t){var i=g.data.findIndex((function(e){return e.key===t.key}));-1!==i?g.data[i]=r(r({},t),{address:e.dApp}):g.data.push(r(r({},t),{address:e.dApp}))})),e.stateChanges.burns.forEach((function(t){var i=g.burns.findIndex((function(e){return e.assetId===t.assetId}));-1!==i?g.burns[i].quantity+=t.quantity:g.burns.push(r(r({},t),{address:e.dApp}))})),e.stateChanges.issues.forEach((function(t){return g.issues.push(r(r({},t),{address:e.dApp}))})),e.stateChanges.reissues.forEach((function(t){var i=g.reissues.findIndex((function(e){return e.assetId===t.assetId}));-1!==i?g.reissues[i].quantity+=t.quantity:g.reissues.push(r(r({},t),{address:e.dApp}))})),e.stateChanges.transfers.forEach((function(t){var i=g.transfers.findIndex((function(i){return i.asset===t.asset&&i.address===t.address&&e.dApp===i.sender}));-1!==i?g.transfers[i].amount=new s.BigNumber(g.transfers[i].amount).add(t.amount).toNumber():g.transfers.push(r(r({},t),{sender:e.dApp}))})),e.stateChanges.sponsorFees.forEach((function(t){var i=g.sponsorFees.findIndex((function(i){return i.assetId===t.assetId&&i.address===e.dApp}));-1!==i?g.sponsorFees[i]=r(r({},t),{address:e.dApp}):g.sponsorFees.push(r(r({},t),{address:e.dApp}))})),e.stateChanges.leases.forEach((function(t){return g.leases.push(r(r({},t),{sender:e.dApp}))})),e.stateChanges.leaseCancels.forEach((function(t){return g.leaseCancels.push(r(r({},t),{address:e.dApp}))})),y(e.stateChanges,e.dApp)}))};return y(e,n),g}t.addStateUpdateField=a,t.makeStateUpdate=o},f309:function(e,t,i){"use strict";i.d(t,"a",(function(){return Be}));var r={};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.r(r),i.d(r,"linear",(function(){return A})),i.d(r,"easeInQuad",(function(){return N})),i.d(r,"easeOutQuad",(function(){return M})),i.d(r,"easeInOutQuad",(function(){return P})),i.d(r,"easeInCubic",(function(){return B})),i.d(r,"easeOutCubic",(function(){return R})),i.d(r,"easeInOutCubic",(function(){return D})),i.d(r,"easeInQuart",(function(){return L})),i.d(r,"easeOutQuart",(function(){return V})),i.d(r,"easeInOutQuart",(function(){return j})),i.d(r,"easeInQuint",(function(){return q})),i.d(r,"easeOutQuint",(function(){return U})),i.d(r,"easeInOutQuint",(function(){return G}));i("159b"),i("caad"),i("2532");var o=i("2b0e"),c=i("d9bd");function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!d.installed){d.installed=!0,o["a"]!==e&&Object(c["b"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");var i=t.components||{},r=t.directives||{};for(var s in r){var n=r[s];e.directive(s,n)}(function t(i){if(i){for(var r in i){var s=i[r];s&&!t(s.$_vuetify_subcomponents)&&e.component(r,s)}return!0}return!1})(i),e.$_vuetify_installed||(e.$_vuetify_installed=!0,e.mixin({beforeCreate:function(){var t=this.$options;t.vuetify?(t.vuetify.init(this,this.$ssrContext),this.$vuetify=e.observable(t.vuetify.framework)):this.$vuetify=t.parent&&t.parent.$vuetify||this},beforeMount:function(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted:function(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}}var h=i("15fd");function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}i("4ae1"),i("3410");function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=i("7037"),g=i.n(m);function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!==g()(t)&&"function"!==typeof t?y(e):t}function b(e){var t=p();return function(){var i,r=f(e);if(t){var s=f(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return v(this,i)}}i("95ed");var w={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}},S={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:w},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}},k=i("80d2"),_=function(){function e(){s(this,e),this.framework={}}return a(e,[{key:"init",value:function(e,t){}}]),e}(),O=["preset"],T=function(e){l(i,e);var t=b(i);function i(e,r){var n;s(this,i),n=t.call(this);var a=Object(k["z"])({},S),o=r.userPreset,d=o.preset,u=void 0===d?{}:d,l=Object(h["a"])(o,O);return null!=u.preset&&Object(c["c"])("Global presets do not support the **preset** option, it can be safely omitted"),r.preset=Object(k["z"])(Object(k["z"])(a,u),l),n}return i}(_);T.property="presets";var C=i("ade3"),I=(i("07ac"),function(e){l(i,e);var t=b(i);function i(){var e;return s(this,i),e=t.apply(this,arguments),e.bar=0,e.top=0,e.left=0,e.insetFooter=0,e.right=0,e.bottom=0,e.footer=0,e.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}},e}return a(i,[{key:"register",value:function(e,t,i){this.application[t]=Object(C["a"])({},e,i),this.update(t)}},{key:"unregister",value:function(e,t){null!=this.application[t][e]&&(delete this.application[t][e],this.update(t))}},{key:"update",value:function(e){this[e]=Object.values(this.application[e]).reduce((function(e,t){return e+t}),0)}}]),i}(_));I.property="application";i("b0c0");var x=function(e){l(i,e);var t=b(i);function i(e){var r;s(this,i),r=t.call(this),r.xs=!1,r.sm=!1,r.md=!1,r.lg=!1,r.xl=!1,r.xsOnly=!1,r.smOnly=!1,r.smAndDown=!1,r.smAndUp=!1,r.mdOnly=!1,r.mdAndDown=!1,r.mdAndUp=!1,r.lgOnly=!1,r.lgAndDown=!1,r.lgAndUp=!1,r.xlOnly=!1,r.name="xs",r.height=0,r.width=0,r.mobile=!0,r.resizeTimeout=0;var n=e[i.property],a=n.mobileBreakpoint,o=n.scrollBarWidth,c=n.thresholds;return r.mobileBreakpoint=a,r.scrollBarWidth=o,r.thresholds=c,r}return a(i,[{key:"init",value:function(){this.update(),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?0:this.getClientHeight(),i=e?0:this.getClientWidth(),r=i<this.thresholds.xs,s=i<this.thresholds.sm&&!r,n=i<this.thresholds.md-this.scrollBarWidth&&!(s||r),a=i<this.thresholds.lg-this.scrollBarWidth&&!(n||s||r),o=i>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=t,this.width=i,this.xs=r,this.sm=s,this.md=n,this.lg=a,this.xl=o,this.xsOnly=r,this.smOnly=s,this.smAndDown=(r||s)&&!(n||a||o),this.smAndUp=!r&&(s||n||a||o),this.mdOnly=n,this.mdAndDown=(r||s||n)&&!(a||o),this.mdAndUp=!(r||s)&&(n||a||o),this.lgOnly=a,this.lgAndDown=(r||s||n||a)&&!o,this.lgAndUp=!(r||s||n)&&(a||o),this.xlOnly=o,!0){case r:this.name="xs";break;case s:this.name="sm";break;case n:this.name="md";break;case a:this.name="lg";break;default:this.name="xl";break}if("number"!==typeof this.mobileBreakpoint){var c={xs:0,sm:1,md:2,lg:3,xl:4},d=c[this.name],h=c[this.mobileBreakpoint];this.mobile=d<=h}else this.mobile=i<parseInt(this.mobileBreakpoint,10)}},{key:"onResize",value:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}},{key:"getClientWidth",value:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},{key:"getClientHeight",value:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}]),i}(_);x.property="breakpoint";var E=i("5530"),A=(i("d3b7"),function(e){return e}),N=function(e){return Math.pow(e,2)},M=function(e){return e*(2-e)},P=function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},B=function(e){return Math.pow(e,3)},R=function(e){return Math.pow(--e,3)+1},D=function(e){return e<.5?4*Math.pow(e,3):(e-1)*(2*e-2)*(2*e-2)+1},L=function(e){return Math.pow(e,4)},V=function(e){return 1-Math.pow(--e,4)},j=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},q=function(e){return Math.pow(e,5)},U=function(e){return 1+Math.pow(--e,5)},G=function(e){return e<.5?16*Math.pow(e,5):1+16*Math.pow(--e,5)};function F(e){if("number"===typeof e)return e;var t=K(e);if(!t)throw"string"===typeof e?new Error('Target element "'.concat(e,'" not found.')):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received ".concat(z(e)," instead."));var i=0;while(t)i+=t.offsetTop,t=t.offsetParent;return i}function H(e){var t=K(e);if(t)return t;throw"string"===typeof e?new Error('Container element "'.concat(e,'" not found.')):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received ".concat(z(e)," instead."))}function z(e){return null==e?e:e.constructor.name}function K(e){return"string"===typeof e?document.querySelector(e):e&&e._isVue?e.$el:e instanceof HTMLElement?e:null}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(E["a"])({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},t),s=H(i.container);if(i.appOffset&&W.framework.application){var n=s.classList.contains("v-navigation-drawer"),a=s.classList.contains("v-navigation-drawer--clipped"),o=W.framework.application,c=o.bar,d=o.top;i.offset+=c,n&&!a||(i.offset+=d)}var h,u=performance.now();h="number"===typeof e?F(e)-i.offset:F(e)-F(s)-i.offset;var l=s.scrollTop;if(h===l)return Promise.resolve(h);var f="function"===typeof i.easing?i.easing:r[i.easing];if(!f)throw new TypeError('Easing function "'.concat(i.easing,'" not found.'));return new Promise((function(e){return requestAnimationFrame((function t(r){var n=r-u,a=Math.abs(i.duration?Math.min(n/i.duration,1):1);s.scrollTop=Math.floor(l+(h-l)*f(a));var o=s===document.body?document.documentElement.clientHeight:s.clientHeight;if(1===a||o+s.scrollTop===s.scrollHeight)return e(h);requestAnimationFrame(t)}))}))}W.framework={},W.init=function(){};var $=function(e){l(i,e);var t=b(i);function i(){var e;return s(this,i),e=t.call(this),v(e,W)}return i}(_);$.property="goTo";i("ddb0"),i("dca8");var Y={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"},X=Y,Q={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"},Z=Q,J={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},ee=J,te={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"},ie=te,re={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"},se=re;i("ac1f"),i("1276");function ne(e,t){var i={};for(var r in t)i[r]={component:e,props:{icon:t[r].split(" fa-")}};return i}var ae=ne("font-awesome-icon",ie),oe=Object.freeze({mdiSvg:X,md:Z,mdi:ee,fa:ie,fa4:se,faSvg:ae}),ce=function(e){l(i,e);var t=b(i);function i(e){var r;s(this,i),r=t.call(this);var n=e[i.property],a=n.iconfont,o=n.values,c=n.component;return r.component=c,r.iconfont=a,r.values=Object(k["z"])(oe[a],o),r}return i}(_);ce.property="icons";i("a4d3"),i("e01a"),i("5319"),i("2ca0"),i("99af");var de="$vuetify.",he=Symbol("Lang fallback");function ue(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,s=t.replace(de,""),n=Object(k["p"])(e,s,he);return n===he&&(i?(Object(c["b"])('Translation key "'.concat(s,'" not found in fallback')),n=t):(Object(c["c"])('Translation key "'.concat(s,'" not found, falling back to default')),n=ue(r,t,!0,r))),n}var le=function(e){l(i,e);var t=b(i);function i(e){var r;s(this,i),r=t.call(this),r.defaultLocale="en";var n=e[i.property],a=n.current,o=n.locales,c=n.t;return r.current=a,r.locales=o,r.translator=c||r.defaultTranslator,r}return a(i,[{key:"currentLocale",value:function(e){var t=this.locales[this.current],i=this.locales[this.defaultLocale];return ue(t,e,!1,i)}},{key:"t",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e.startsWith(de)?this.translator.apply(this,[e].concat(i)):this.replace(e,i)}},{key:"defaultTranslator",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return this.replace(this.currentLocale(e),i)}},{key:"replace",value:function(e,t){return e.replace(/\{(\d+)\}/g,(function(e,i){return String(t[+i])}))}}]),i}(_);le.property="lang";i("7db0");var fe=i("3835"),pe=i("53ca"),me=(i("18a5"),i("b64b"),i("7bc6")),ge=i("8da5"),ye=(i("3ea3"),.20689655172413793),ve=function(e){return e>Math.pow(ye,3)?Math.cbrt(e):e/(3*Math.pow(ye,2))+4/29},be=function(e){return e>ye?Math.pow(e,3):3*Math.pow(ye,2)*(e-4/29)};function we(e){var t=ve,i=t(e[1]);return[116*i-16,500*(t(e[0]/.95047)-i),200*(i-t(e[2]/1.08883))]}function Se(e){var t=be,i=(e[0]+16)/116;return[.95047*t(i+e[1]/500),t(i),1.08883*t(i-e[2]/200)]}var ke=["anchor"],_e=["anchor"];function Oe(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.anchor,s=Object(h["a"])(e,ke),n=Object.keys(s),a={},o=0;o<n.length;++o){var c=n[o],d=e[c];null!=d&&(i?t?("base"===c||c.startsWith("lighten")||c.startsWith("darken"))&&(a[c]=Object(me["a"])(d)):"object"===Object(pe["a"])(d)?a[c]=Oe(d,!0,i):a[c]=Ae(c,Object(me["b"])(d)):a[c]={base:Object(me["c"])(Object(me["b"])(d))})}return t||(a.anchor=r||a.base||a.primary.base),a}var Te=function(e,t){return"\n.v-application .".concat(e," {\n  background-color: ").concat(t," !important;\n  border-color: ").concat(t," !important;\n}\n.v-application .").concat(e,"--text {\n  color: ").concat(t," !important;\n  caret-color: ").concat(t," !important;\n}")},Ce=function(e,t,i){var r=t.split(/(\d)/,2),s=Object(fe["a"])(r,2),n=s[0],a=s[1];return"\n.v-application .".concat(e,".").concat(n,"-").concat(a," {\n  background-color: ").concat(i," !important;\n  border-color: ").concat(i," !important;\n}\n.v-application .").concat(e,"--text.text--").concat(n,"-").concat(a," {\n  color: ").concat(i," !important;\n  caret-color: ").concat(i," !important;\n}")},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"--v-".concat(e,"-").concat(t)},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"var(".concat(Ie(e,t),")")};function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.anchor,r=Object(h["a"])(e,_e),s=Object.keys(r);if(!s.length)return"";var n="",a="",o=t?xe("anchor"):i;a+=".v-application a { color: ".concat(o,"; }"),t&&(n+="  ".concat(Ie("anchor"),": ").concat(i,";\n"));for(var c=0;c<s.length;++c){var d=s[c],u=e[d];a+=Te(d,t?xe(d):u.base),t&&(n+="  ".concat(Ie(d),": ").concat(u.base,";\n"));for(var l=Object(k["y"])(u),f=0;f<l.length;++f){var p=l[f],m=u[p];"base"!==p&&(a+=Ce(d,p,t?xe(d,p):m),t&&(n+="  ".concat(Ie(d,p),": ").concat(m,";\n")))}}return t&&(n=":root {\n".concat(n,"}\n\n")),n+a}function Ae(e,t){for(var i={base:Object(me["c"])(t)},r=5;r>0;--r)i["lighten".concat(r)]=Object(me["c"])(Ne(t,r));for(var s=1;s<=4;++s)i["darken".concat(s)]=Object(me["c"])(Me(t,s));return i}function Ne(e,t){var i=we(ge["b"](e));return i[0]=i[0]+10*t,ge["a"](Se(i))}function Me(e,t){var i=we(ge["b"](e));return i[0]=i[0]-10*t,ge["a"](Se(i))}var Pe=function(e){l(i,e);var t=b(i);function i(e){var r;s(this,i),r=t.call(this),r.disabled=!1,r.isDark=null,r.unwatch=null,r.vueMeta=null;var n=e[i.property],a=n.dark,o=n.disable,c=n.options,d=n.themes;return r.dark=Boolean(a),r.defaults=r.themes=d,r.options=c,o?(r.disabled=!0,v(r)):(r.themes={dark:r.fillVariant(d.dark,!0),light:r.fillVariant(d.light,!1)},r)}return a(i,[{key:"css",set:function(e){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=e)}},{key:"dark",get:function(){return Boolean(this.isDark)},set:function(e){var t=this.isDark;this.isDark=e,null!=t&&this.applyTheme()}},{key:"applyTheme",value:function(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}},{key:"clearCss",value:function(){this.css=""}},{key:"init",value:function(e,t){this.disabled||(e.$meta?this.initVueMeta(e):t&&this.initSSR(t),this.initTheme(e))}},{key:"setTheme",value:function(e,t){this.themes[e]=Object.assign(this.themes[e],t),this.applyTheme()}},{key:"resetThemes",value:function(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}},{key:"checkOrCreateStyleElement",value:function(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}},{key:"fillVariant",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=this.themes[t?"dark":"light"];return Object.assign({},i,e)}},{key:"genStyleElement",value:function(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}},{key:"initVueMeta",value:function(e){var t=this;if(this.vueMeta=e.$meta(),this.isVueMeta23)e.$nextTick((function(){t.applyVueMeta23()}));else{var i="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",r=e.$options[i]||{};e.$options[i]=function(){r.style=r.style||[];var e=r.style.find((function(e){return"vuetify-theme-stylesheet"===e.id}));return e?e.cssText=t.generatedStyles:r.style.push({cssText:t.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(t.options||{}).cspNonce}),r}}}},{key:"applyVueMeta23",value:function(){var e=this.vueMeta.addApp("vuetify"),t=e.set;t({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}},{key:"initSSR",value:function(e){var t=this.options.cspNonce?' nonce="'.concat(this.options.cspNonce,'"'):"";e.head=e.head||"",e.head+='<style type="text/css" id="vuetify-theme-stylesheet"'.concat(t,">").concat(this.generatedStyles,"</style>")}},{key:"initTheme",value:function(e){var t=this;"undefined"!==typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),e.$once("hook:created",(function(){var i=o["a"].observable({themes:t.themes});t.unwatch=e.$watch((function(){return i.themes}),(function(){return t.applyTheme()}),{deep:!0})})),this.applyTheme())}},{key:"currentTheme",get:function(){var e=this.dark?"dark":"light";return this.themes[e]}},{key:"generatedStyles",get:function(){var e,t=this.parsedTheme,i=this.options||{};return null!=i.themeCache&&(e=i.themeCache.get(t),null!=e)||(e=Ee(t,i.customProperties),null!=i.minifyTheme&&(e=i.minifyTheme(e)),null!=i.themeCache&&i.themeCache.set(t,e)),e}},{key:"parsedTheme",get:function(){return Oe(this.currentTheme||{},void 0,Object(k["o"])(this.options,["variations"],!0))}},{key:"isVueMeta23",get:function(){return"function"===typeof this.vueMeta.addApp}}]),i}(_);Pe.property="theme";var Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=t,this.use(T),this.use(I),this.use(x),this.use($),this.use(ce),this.use(le),this.use(Pe)}return a(e,[{key:"init",value:function(e,t){var i=this;this.installed.forEach((function(r){var s=i.framework[r];s.framework=i.framework,s.init(e,t)})),this.framework.rtl=Boolean(this.preset.rtl)}},{key:"use",value:function(e){var t=e.property;this.installed.includes(t)||(this.framework[t]=new e(this.preset,this),this.installed.push(t))}}]),e}();Be.install=d,Be.installed=!1,Be.version="2.5.6",Be.config={silent:!1}},f331:function(e,t,i){"use strict";const r=i("6299");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbaseprime",name:"Coinbase Prime",pro:!0,hostname:"exchange.coinbase.com",urls:{test:{public:"https://public.sandbox.exchange.coinbase.com",private:"https://public.sandbox.exchange.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/44539184-29f26e00-a70c-11e8-868f-e907fc236a7c.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://exchange.coinbase.com",doc:"https://docs.exchange.coinbase.com"}})}}},f3f8:function(e,t,i){var r=i("00b3"),s=i("5a7c"),n=s((function(e,t){return r(e.length,(function(){return e.apply(t,arguments)}))}));e.exports=n},f484:function(e,t,i){var r=i("5259");function s(e,t){var i=function(){return new r.aes.Algorithm(e,t)};r.cipher.registerAlgorithm(e,i)}i("6040"),i("e21e"),i("6497"),e.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(e,t,i,r){var s=m({key:e,output:i,decrypt:!1,mode:r});return s.start(t),s},r.aes.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},r.aes.startDecrypting=function(e,t,i,r){var s=m({key:e,output:i,decrypt:!0,mode:r});return s.start(t),s},r.aes.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},r.aes.Algorithm=function(e,t){h||l();var i=this;i.name=e,i.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return p(i._w,e,t,!1)},decrypt:function(e,t){return p(i._w,e,t,!0)}}}),i._init=!1},r.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,i=e.key;if("string"!==typeof i||16!==i.length&&24!==i.length&&32!==i.length){if(r.util.isArray(i)&&(16===i.length||24===i.length||32===i.length)){t=i,i=r.util.createBuffer();for(var s=0;s<t.length;++s)i.putByte(t[s])}}else i=r.util.createBuffer(i);if(!r.util.isArray(i)){t=i,i=[];var n=t.length();if(16===n||24===n||32===n){n>>>=2;for(s=0;s<n;++s)i.push(t.getInt32())}}if(!r.util.isArray(i)||4!==i.length&&6!==i.length&&8!==i.length)throw new Error("Invalid key parameter.");var a=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=f(i,e.decrypt&&!o),this._init=!0}},r.aes._expandKey=function(e,t){return h||l(),f(e,t)},r.aes._updateBlock=p,s("AES-ECB",r.cipher.modes.ecb),s("AES-CBC",r.cipher.modes.cbc),s("AES-CFB",r.cipher.modes.cfb),s("AES-OFB",r.cipher.modes.ofb),s("AES-CTR",r.cipher.modes.ctr),s("AES-GCM",r.cipher.modes.gcm);var n,a,o,c,d,h=!1,u=4;function l(){h=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;n=new Array(256),a=new Array(256),c=new Array(4),d=new Array(4);for(t=0;t<4;++t)c[t]=new Array(256),d[t]=new Array(256);var i,r,s,u,l,f,p,m=0,g=0;for(t=0;t<256;++t){u=g^g<<1^g<<2^g<<3^g<<4,u=u>>8^255&u^99,n[m]=u,a[u]=m,l=e[u],i=e[m],r=e[i],s=e[r],f=l<<24^u<<16^u<<8^u^l,p=(i^r^s)<<24^(m^s)<<16^(m^r^s)<<8^m^i^s;for(var y=0;y<4;++y)c[y][m]=f,d[y][u]=p,f=f<<24|f>>>8,p=p<<24|p>>>8;0===m?m=g=1:(m=i^e[e[e[i^s]]],g^=e[e[g]])}}function f(e,t){for(var i,r=e.slice(0),s=1,a=r.length,c=a+6+1,h=u*c,l=a;l<h;++l)i=r[l-1],l%a===0?(i=n[i>>>16&255]<<24^n[i>>>8&255]<<16^n[255&i]<<8^n[i>>>24]^o[s]<<24,s++):a>6&&l%a===4&&(i=n[i>>>24]<<24^n[i>>>16&255]<<16^n[i>>>8&255]<<8^n[255&i]),r[l]=r[l-a]^i;if(t){var f,p=d[0],m=d[1],g=d[2],y=d[3],v=r.slice(0);h=r.length;l=0;for(var b=h-u;l<h;l+=u,b-=u)if(0===l||l===h-u)v[l]=r[b],v[l+1]=r[b+3],v[l+2]=r[b+2],v[l+3]=r[b+1];else for(var w=0;w<u;++w)f=r[b+w],v[l+(3&-w)]=p[n[f>>>24]]^m[n[f>>>16&255]]^g[n[f>>>8&255]]^y[n[255&f]];r=v}return r}function p(e,t,i,r){var s,o,h,u,l,f,p,m,g,y,v,b,w=e.length/4-1;r?(s=d[0],o=d[1],h=d[2],u=d[3],l=a):(s=c[0],o=c[1],h=c[2],u=c[3],l=n),f=t[0]^e[0],p=t[r?3:1]^e[1],m=t[2]^e[2],g=t[r?1:3]^e[3];for(var S=3,k=1;k<w;++k)y=s[f>>>24]^o[p>>>16&255]^h[m>>>8&255]^u[255&g]^e[++S],v=s[p>>>24]^o[m>>>16&255]^h[g>>>8&255]^u[255&f]^e[++S],b=s[m>>>24]^o[g>>>16&255]^h[f>>>8&255]^u[255&p]^e[++S],g=s[g>>>24]^o[f>>>16&255]^h[p>>>8&255]^u[255&m]^e[++S],f=y,p=v,m=b;i[0]=l[f>>>24]<<24^l[p>>>16&255]<<16^l[m>>>8&255]<<8^l[255&g]^e[++S],i[r?3:1]=l[p>>>24]<<24^l[m>>>16&255]<<16^l[g>>>8&255]<<8^l[255&f]^e[++S],i[2]=l[m>>>24]<<24^l[g>>>16&255]<<16^l[f>>>8&255]<<8^l[255&p]^e[++S],i[r?1:3]=l[g>>>24]<<24^l[f>>>16&255]<<16^l[p>>>8&255]<<8^l[255&m]^e[++S]}function m(e){e=e||{};var t,i=(e.mode||"CBC").toUpperCase(),s="AES-"+i;t=e.decrypt?r.cipher.createDecipher(s,e.key):r.cipher.createCipher(s,e.key);var n=t.start;return t.start=function(e,i){var s=null;i instanceof r.util.ByteBuffer&&(s=i,i={}),i=i||{},i.output=s,i.iv=e,n.call(t,i)},t}},f4c8:function(e,t,i){(function(t,i){e.exports=i()})(0,(function(){var e=e||function(e,t){var i=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),r={},s=r.lib={},n=s.Base=function(){return{extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=s.WordArray=n.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,r=this.sigBytes,s=e.sigBytes;if(this.clamp(),r%4)for(var n=0;n<s;n++){var a=i[n>>>2]>>>24-n%4*8&255;t[r+n>>>2]|=a<<24-(r+n)%4*8}else for(n=0;n<s;n+=4)t[r+n>>>2]=i[n>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i,r=[],s=function(t){t=t;var i=987654321,r=4294967295;return function(){i=36969*(65535&i)+(i>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var s=(i<<16)+t&r;return s/=4294967296,s+=.5,s*(e.random()>.5?1:-1)}},n=0;n<t;n+=4){var o=s(4294967296*(i||e.random()));i=987654071*o(),r.push(4294967296*o()|0)}return new a.init(r,t)}}),o=r.enc={},c=o.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s++){var n=t[s>>>2]>>>24-s%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r+=2)i[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(i,t/2)}},d=o.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s++){var n=t[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(n))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(i,t)}},h=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=s.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,r=i.words,s=i.sigBytes,n=this.blockSize,o=4*n,c=s/o;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var d=c*n,h=e.min(4*d,s);if(d){for(var u=0;u<d;u+=n)this._doProcessBlock(r,u);var l=r.splice(0,d);i.sigBytes-=h}return new a.init(l,h)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(s.Hasher=u.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new l.HMAC.init(e,i).finalize(t)}}}),r.algo={});return r}(Math);return function(){var t=e,i=t.lib,r=i.WordArray,s=t.enc;s.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,r=this._map;e.clamp();for(var s=[],n=0;n<i;n+=3)for(var a=t[n>>>2]>>>24-n%4*8&255,o=t[n+1>>>2]>>>24-(n+1)%4*8&255,c=t[n+2>>>2]>>>24-(n+2)%4*8&255,d=a<<16|o<<8|c,h=0;h<4&&n+.75*h<i;h++)s.push(r.charAt(d>>>6*(3-h)&63));var u=r.charAt(64);if(u)while(s.length%4)s.push(u);return s.join("")},parse:function(e){var t=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<i.length;s++)r[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(t=o)}return n(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function n(e,t,i){for(var s=[],n=0,a=0;a<t;a++)if(a%4){var o=i[e.charCodeAt(a-1)]<<a%4*2,c=i[e.charCodeAt(a)]>>>6-a%4*2;s[n>>>2]|=(o|c)<<24-n%4*8,n++}return r.create(s,n)}}(),function(t){var i=e,r=i.lib,s=r.WordArray,n=r.Hasher,a=i.algo,o=[];(function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0})();var c=a.MD5=n.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var r=t+i,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var n=this._hash.words,a=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],S=e[t+10],k=e[t+11],_=e[t+12],O=e[t+13],T=e[t+14],C=e[t+15],I=n[0],x=n[1],E=n[2],A=n[3];I=d(I,x,E,A,a,7,o[0]),A=d(A,I,x,E,c,12,o[1]),E=d(E,A,I,x,f,17,o[2]),x=d(x,E,A,I,p,22,o[3]),I=d(I,x,E,A,m,7,o[4]),A=d(A,I,x,E,g,12,o[5]),E=d(E,A,I,x,y,17,o[6]),x=d(x,E,A,I,v,22,o[7]),I=d(I,x,E,A,b,7,o[8]),A=d(A,I,x,E,w,12,o[9]),E=d(E,A,I,x,S,17,o[10]),x=d(x,E,A,I,k,22,o[11]),I=d(I,x,E,A,_,7,o[12]),A=d(A,I,x,E,O,12,o[13]),E=d(E,A,I,x,T,17,o[14]),x=d(x,E,A,I,C,22,o[15]),I=h(I,x,E,A,c,5,o[16]),A=h(A,I,x,E,y,9,o[17]),E=h(E,A,I,x,k,14,o[18]),x=h(x,E,A,I,a,20,o[19]),I=h(I,x,E,A,g,5,o[20]),A=h(A,I,x,E,S,9,o[21]),E=h(E,A,I,x,C,14,o[22]),x=h(x,E,A,I,m,20,o[23]),I=h(I,x,E,A,w,5,o[24]),A=h(A,I,x,E,T,9,o[25]),E=h(E,A,I,x,p,14,o[26]),x=h(x,E,A,I,b,20,o[27]),I=h(I,x,E,A,O,5,o[28]),A=h(A,I,x,E,f,9,o[29]),E=h(E,A,I,x,v,14,o[30]),x=h(x,E,A,I,_,20,o[31]),I=u(I,x,E,A,g,4,o[32]),A=u(A,I,x,E,b,11,o[33]),E=u(E,A,I,x,k,16,o[34]),x=u(x,E,A,I,T,23,o[35]),I=u(I,x,E,A,c,4,o[36]),A=u(A,I,x,E,m,11,o[37]),E=u(E,A,I,x,v,16,o[38]),x=u(x,E,A,I,S,23,o[39]),I=u(I,x,E,A,O,4,o[40]),A=u(A,I,x,E,a,11,o[41]),E=u(E,A,I,x,p,16,o[42]),x=u(x,E,A,I,y,23,o[43]),I=u(I,x,E,A,w,4,o[44]),A=u(A,I,x,E,_,11,o[45]),E=u(E,A,I,x,C,16,o[46]),x=u(x,E,A,I,f,23,o[47]),I=l(I,x,E,A,a,6,o[48]),A=l(A,I,x,E,v,10,o[49]),E=l(E,A,I,x,T,15,o[50]),x=l(x,E,A,I,g,21,o[51]),I=l(I,x,E,A,_,6,o[52]),A=l(A,I,x,E,p,10,o[53]),E=l(E,A,I,x,S,15,o[54]),x=l(x,E,A,I,c,21,o[55]),I=l(I,x,E,A,b,6,o[56]),A=l(A,I,x,E,C,10,o[57]),E=l(E,A,I,x,y,15,o[58]),x=l(x,E,A,I,O,21,o[59]),I=l(I,x,E,A,m,6,o[60]),A=l(A,I,x,E,k,10,o[61]),E=l(E,A,I,x,f,15,o[62]),x=l(x,E,A,I,w,21,o[63]),n[0]=n[0]+I|0,n[1]=n[1]+x|0,n[2]=n[2]+E|0,n[3]=n[3]+A|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;i[s>>>5]|=128<<24-s%32;var n=t.floor(r/4294967296),a=r;i[15+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),i[14+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,c=o.words,d=0;d<4;d++){var h=c[d];c[d]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return o},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,i,r,s,n,a){var o=e+(t&i|~t&r)+s+a;return(o<<n|o>>>32-n)+t}function h(e,t,i,r,s,n,a){var o=e+(t&r|i&~r)+s+a;return(o<<n|o>>>32-n)+t}function u(e,t,i,r,s,n,a){var o=e+(t^i^r)+s+a;return(o<<n|o>>>32-n)+t}function l(e,t,i,r,s,n,a){var o=e+(i^(t|~r))+s+a;return(o<<n|o>>>32-n)+t}i.MD5=n._createHelper(c),i.HmacMD5=n._createHmacHelper(c)}(Math),function(){var t=e,i=t.lib,r=i.WordArray,s=i.Hasher,n=t.algo,a=[],o=n.SHA1=s.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],n=i[2],o=i[3],c=i[4],d=0;d<80;d++){if(d<16)a[d]=0|e[t+d];else{var h=a[d-3]^a[d-8]^a[d-14]^a[d-16];a[d]=h<<1|h>>>31}var u=(r<<5|r>>>27)+c+a[d];u+=d<20?1518500249+(s&n|~s&o):d<40?1859775393+(s^n^o):d<60?(s&n|s&o|n&o)-1894007588:(s^n^o)-899497514,c=o,o=n,n=s<<30|s>>>2,s=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+n|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(r+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=s._createHelper(o),t.HmacSHA1=s._createHmacHelper(o)}(),function(t){var i=e,r=i.lib,s=r.WordArray,n=r.Hasher,a=i.algo,o=[],c=[];(function(){function e(e){for(var i=t.sqrt(e),r=2;r<=i;r++)if(!(e%r))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}var r=2,s=0;while(s<64)e(r)&&(s<8&&(o[s]=i(t.pow(r,.5))),c[s]=i(t.pow(r,1/3)),s++),r++})();var d=[],h=a.SHA256=n.extend({_doReset:function(){this._hash=new s.init(o.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],n=i[2],a=i[3],o=i[4],h=i[5],u=i[6],l=i[7],f=0;f<64;f++){if(f<16)d[f]=0|e[t+f];else{var p=d[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=d[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;d[f]=m+d[f-7]+y+d[f-16]}var v=o&h^~o&u,b=r&s^r&n^s&n,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),k=l+S+v+c[f]+d[f],_=w+b;l=u,u=h,h=o,o=a+k|0,a=n,n=s,s=r,r=k+_|0}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+n|0,i[3]=i[3]+a|0,i[4]=i[4]+o|0,i[5]=i[5]+h|0,i[6]=i[6]+u|0,i[7]=i[7]+l|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=t.floor(r/4294967296),i[15+(s+64>>>9<<4)]=r,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});i.SHA256=n._createHelper(h),i.HmacSHA256=n._createHmacHelper(h)}(Math),function(){var t=e,i=t.lib,r=i.WordArray,s=t.enc;s.Utf16=s.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s+=2){var n=t[s>>>2]>>>16-s%4*8&65535;r.push(String.fromCharCode(n))}return r.join("")},parse:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i[s>>>1]|=e.charCodeAt(s)<<16-s%2*16;return r.create(i,2*t)}};function n(e){return e<<8&4278255360|e>>>8&16711935}s.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s+=2){var a=n(t[s>>>2]>>>16-s%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i[s>>>1]|=n(e.charCodeAt(s)<<16-s%2*16);return r.create(i,2*t)}}}(),function(){if("function"==typeof ArrayBuffer){var t=e,i=t.lib,r=i.WordArray,s=r.init,n=r.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,i=[],r=0;r<t;r++)i[r>>>2]|=e[r]<<24-r%4*8;s.call(this,i,t)}else s.apply(this,arguments)};n.prototype=r}}(),
/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var i=e,r=i.lib,s=r.WordArray,n=r.Hasher,a=i.algo,o=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=s.create([0,1518500249,1859775393,2400959708,2840853838]),l=s.create([1352829926,1548603684,1836072691,2053994217,0]),f=a.RIPEMD160=n.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var r=t+i,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var n,a,f,w,S,k,_,O,T,C,I,x=this._hash.words,E=u.words,A=l.words,N=o.words,M=c.words,P=d.words,B=h.words;k=n=x[0],_=a=x[1],O=f=x[2],T=w=x[3],C=S=x[4];for(i=0;i<80;i+=1)I=n+e[t+N[i]]|0,I+=i<16?p(a,f,w)+E[0]:i<32?m(a,f,w)+E[1]:i<48?g(a,f,w)+E[2]:i<64?y(a,f,w)+E[3]:v(a,f,w)+E[4],I|=0,I=b(I,P[i]),I=I+S|0,n=S,S=w,w=b(f,10),f=a,a=I,I=k+e[t+M[i]]|0,I+=i<16?v(_,O,T)+A[0]:i<32?y(_,O,T)+A[1]:i<48?g(_,O,T)+A[2]:i<64?m(_,O,T)+A[3]:p(_,O,T)+A[4],I|=0,I=b(I,B[i]),I=I+C|0,k=C,C=T,T=b(O,10),O=_,_=I;I=x[1]+f+T|0,x[1]=x[2]+w+C|0,x[2]=x[3]+S+k|0,x[3]=x[4]+n+_|0,x[4]=x[0]+a+O|0,x[0]=I},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,n=s.words,a=0;a<5;a++){var o=n[a];n[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,i){return e^t^i}function m(e,t,i){return e&t|~e&i}function g(e,t,i){return(e|~t)^i}function y(e,t,i){return e&i|t&~i}function v(e,t,i){return e^(t|~i)}function b(e,t){return e<<t|e>>>32-t}i.RIPEMD160=n._createHelper(f),i.HmacRIPEMD160=n._createHmacHelper(f)}(Math),function(){var t=e,i=t.lib,r=i.Base,s=t.enc,n=s.Utf8,a=t.algo;a.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),a=this._iKey=t.clone(),o=s.words,c=a.words,d=0;d<i;d++)o[d]^=1549556828,c[d]^=909522486;s.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(i));return r}})}(),function(){var t=e,i=t.lib,r=i.Base,s=i.WordArray,n=t.algo,a=n.SHA1,o=n.HMAC,c=n.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var i=this.cfg,r=o.create(i.hasher,e),n=s.create(),a=s.create([1]),c=n.words,d=a.words,h=i.keySize,u=i.iterations;while(c.length<h){var l=r.update(t).finalize(a);r.reset();for(var f=l.words,p=f.length,m=l,g=1;g<u;g++){m=r.finalize(m),r.reset();for(var y=m.words,v=0;v<p;v++)f[v]^=y[v]}n.concat(l),d[0]++}return n.sigBytes=4*h,n}});t.PBKDF2=function(e,t,i){return c.create(i).compute(e,t)}}(),function(){var t=e,i=t.lib,r=i.Base,s=i.WordArray,n=t.algo,a=n.MD5,o=n.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var i=this.cfg,r=i.hasher.create(),n=s.create(),a=n.words,o=i.keySize,c=i.iterations;while(a.length<o){d&&r.update(d);var d=r.update(e).finalize(t);r.reset();for(var h=1;h<c;h++)d=r.finalize(d),r.reset();n.concat(d)}return n.sigBytes=4*o,n}});t.EvpKDF=function(e,t,i){return o.create(i).compute(e,t)}}(),function(){var t=e,i=t.lib,r=i.WordArray,s=t.algo,n=s.SHA256,a=s.SHA224=n.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=n._createHelper(a),t.HmacSHA224=n._createHmacHelper(a)}(),function(t){var i=e,r=i.lib,s=r.Base,n=r.WordArray,a=i.x64={};a.Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=s.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],r=0;r<t;r++){var s=e[r];i.push(s.high),i.push(s.low)}return n.create(i,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),i=t.length,r=0;r<i;r++)t[r]=t[r].clone();return e}})}(),function(t){var i=e,r=i.lib,s=r.WordArray,n=r.Hasher,a=i.x64,o=a.Word,c=i.algo,d=[],h=[],u=[];(function(){for(var e=1,t=0,i=0;i<24;i++){d[e+5*t]=(i+1)*(i+2)/2%64;var r=t%5,s=(2*e+3*t)%5;e=r,t=s}for(e=0;e<5;e++)for(t=0;t<5;t++)h[e+5*t]=t+(2*e+3*t)%5*5;for(var n=1,a=0;a<24;a++){for(var c=0,l=0,f=0;f<7;f++){if(1&n){var p=(1<<f)-1;p<32?l^=1<<p:c^=1<<p-32}128&n?n=n<<1^113:n<<=1}u[a]=o.create(c,l)}})();var l=[];(function(){for(var e=0;e<25;e++)l[e]=o.create()})();var f=c.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,r=this.blockSize/2,s=0;s<r;s++){var n=e[t+2*s],a=e[t+2*s+1];n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);var o=i[s];o.high^=a,o.low^=n}for(var c=0;c<24;c++){for(var f=0;f<5;f++){for(var p=0,m=0,g=0;g<5;g++){o=i[f+5*g];p^=o.high,m^=o.low}var y=l[f];y.high=p,y.low=m}for(f=0;f<5;f++){var v=l[(f+4)%5],b=l[(f+1)%5],w=b.high,S=b.low;for(p=v.high^(w<<1|S>>>31),m=v.low^(S<<1|w>>>31),g=0;g<5;g++){o=i[f+5*g];o.high^=p,o.low^=m}}for(var k=1;k<25;k++){o=i[k];var _=o.high,O=o.low,T=d[k];if(T<32)p=_<<T|O>>>32-T,m=O<<T|_>>>32-T;else p=O<<T-32|_>>>64-T,m=_<<T-32|O>>>64-T;var C=l[h[k]];C.high=p,C.low=m}var I=l[0],x=i[0];I.high=x.high,I.low=x.low;for(f=0;f<5;f++)for(g=0;g<5;g++){k=f+5*g,o=i[k];var E=l[k],A=l[(f+1)%5+5*g],N=l[(f+2)%5+5*g];o.high=E.high^~A.high&N.high,o.low=E.low^~A.low&N.low}o=i[0];var M=u[c];o.high^=M.high,o.low^=M.low}},_doFinalize:function(){var e=this._data,i=e.words,r=(this._nDataBytes,8*e.sigBytes),n=32*this.blockSize;i[r>>>5]|=1<<24-r%32,i[(t.ceil((r+1)/n)*n>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,c=o/8,d=[],h=0;h<c;h++){var u=a[h],l=u.high,f=u.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d.push(f),d.push(l)}return new s.init(d,o)},clone:function(){for(var e=n.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});i.SHA3=n._createHelper(f),i.HmacSHA3=n._createHmacHelper(f)}(Math),function(){var t=e,i=t.lib,r=i.Hasher,s=t.x64,n=s.Word,a=s.WordArray,o=t.algo;function c(){return n.create.apply(n,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],h=[];(function(){for(var e=0;e<80;e++)h[e]=c()})();var u=o.SHA512=r.extend({_doReset:function(){this._hash=new a.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],n=i[2],a=i[3],o=i[4],c=i[5],u=i[6],l=i[7],f=r.high,p=r.low,m=s.high,g=s.low,y=n.high,v=n.low,b=a.high,w=a.low,S=o.high,k=o.low,_=c.high,O=c.low,T=u.high,C=u.low,I=l.high,x=l.low,E=f,A=p,N=m,M=g,P=y,B=v,R=b,D=w,L=S,V=k,j=_,q=O,U=T,G=C,F=I,H=x,z=0;z<80;z++){var K=h[z];if(z<16)var W=K.high=0|e[t+2*z],$=K.low=0|e[t+2*z+1];else{var Y=h[z-15],X=Y.high,Q=Y.low,Z=(X>>>1|Q<<31)^(X>>>8|Q<<24)^X>>>7,J=(Q>>>1|X<<31)^(Q>>>8|X<<24)^(Q>>>7|X<<25),ee=h[z-2],te=ee.high,ie=ee.low,re=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,se=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),ne=h[z-7],ae=ne.high,oe=ne.low,ce=h[z-16],de=ce.high,he=ce.low;$=J+oe,W=Z+ae+($>>>0<J>>>0?1:0),$=$+se,W=W+re+($>>>0<se>>>0?1:0),$=$+he,W=W+de+($>>>0<he>>>0?1:0);K.high=W,K.low=$}var ue=L&j^~L&U,le=V&q^~V&G,fe=E&N^E&P^N&P,pe=A&M^A&B^M&B,me=(E>>>28|A<<4)^(E<<30|A>>>2)^(E<<25|A>>>7),ge=(A>>>28|E<<4)^(A<<30|E>>>2)^(A<<25|E>>>7),ye=(L>>>14|V<<18)^(L>>>18|V<<14)^(L<<23|V>>>9),ve=(V>>>14|L<<18)^(V>>>18|L<<14)^(V<<23|L>>>9),be=d[z],we=be.high,Se=be.low,ke=H+ve,_e=F+ye+(ke>>>0<H>>>0?1:0),Oe=(ke=ke+le,_e=_e+ue+(ke>>>0<le>>>0?1:0),ke=ke+Se,_e=_e+we+(ke>>>0<Se>>>0?1:0),ke=ke+$,_e=_e+W+(ke>>>0<$>>>0?1:0),ge+pe),Te=me+fe+(Oe>>>0<ge>>>0?1:0);F=U,H=G,U=j,G=q,j=L,q=V,V=D+ke|0,L=R+_e+(V>>>0<D>>>0?1:0)|0,R=P,D=B,P=N,B=M,N=E,M=A,A=ke+Oe|0,E=_e+Te+(A>>>0<ke>>>0?1:0)|0}p=r.low=p+A,r.high=f+E+(p>>>0<A>>>0?1:0),g=s.low=g+M,s.high=m+N+(g>>>0<M>>>0?1:0),v=n.low=v+B,n.high=y+P+(v>>>0<B>>>0?1:0),w=a.low=w+D,a.high=b+R+(w>>>0<D>>>0?1:0),k=o.low=k+V,o.high=S+L+(k>>>0<V>>>0?1:0),O=c.low=O+q,c.high=_+j+(O>>>0<q>>>0?1:0),C=u.low=C+G,u.high=T+U+(C>>>0<G>>>0?1:0),x=l.low=x+H,l.high=I+F+(x>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(r+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process();var s=this._hash.toX32();return s},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(u),t.HmacSHA512=r._createHmacHelper(u)}(),function(){var t=e,i=t.x64,r=i.Word,s=i.WordArray,n=t.algo,a=n.SHA512,o=n.SHA384=a.extend({_doReset:function(){this._hash=new s.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=a._createHelper(o),t.HmacSHA384=a._createHmacHelper(o)}(),e.lib.Cipher||function(t){var i=e,r=i.lib,s=r.Base,n=r.WordArray,a=r.BufferedBlockAlgorithm,o=i.enc,c=(o.Utf8,o.Base64),d=i.algo,h=d.EvpKDF,u=r.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:w}return function(t){return{encrypt:function(i,r,s){return e(r).encrypt(t,i,r,s)},decrypt:function(i,r,s){return e(r).decrypt(t,i,r,s)}}}}()}),l=(r.StreamCipher=u.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),i.mode={}),f=r.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=l.CBC=function(){var e=f.extend();function i(e,i,r){var s=this._iv;if(s){var n=s;this._iv=t}else n=this._prevBlock;for(var a=0;a<r;a++)e[i+a]^=n[a]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize;i.call(this,e,t,s),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+s)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize,n=e.slice(t,t+s);r.decryptBlock(e,t),i.call(this,e,t,s),this._prevBlock=n}}),e}(),m=i.pad={},g=m.Pkcs7={pad:function(e,t){for(var i=4*t,r=i-e.sigBytes%i,s=r<<24|r<<16|r<<8|r,a=[],o=0;o<r;o+=4)a.push(s);var c=n.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:g}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,i=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=i.createEncryptor;else{r=i.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(i,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),r.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=i.format={},b=v.OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;if(i)var r=n.create([1398893684,1701076831]).concat(i).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),i=t.words;if(1398893684==i[0]&&1701076831==i[1]){var r=n.create(i.slice(2,4));i.splice(0,4),t.sigBytes-=16}return y.create({ciphertext:t,salt:r})}},w=r.SerializableCipher=s.extend({cfg:s.extend({format:b}),encrypt:function(e,t,i,r){r=this.cfg.extend(r);var s=e.createEncryptor(i,r),n=s.finalize(t),a=s.cfg;return y.create({ciphertext:n,key:i,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,i,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var s=e.createDecryptor(i,r).finalize(t.ciphertext);return s},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),S=i.kdf={},k=S.OpenSSL={execute:function(e,t,i,r){r||(r=n.random(8));var s=h.create({keySize:t+i}).compute(e,r),a=n.create(s.words.slice(t),4*i);return s.sigBytes=4*t,y.create({key:s,iv:a,salt:r})}},_=r.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:k}),encrypt:function(e,t,i,r){r=this.cfg.extend(r);var s=r.kdf.execute(i,e.keySize,e.ivSize);r.iv=s.iv;var n=w.encrypt.call(this,e,t,s.key,r);return n.mixIn(s),n},decrypt:function(e,t,i,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var s=r.kdf.execute(i,e.keySize,e.ivSize,t.salt);r.iv=s.iv;var n=w.decrypt.call(this,e,t,s.key,r);return n}})}(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function i(e,t,i,r){var s=this._iv;if(s){var n=s.slice(0);this._iv=void 0}else n=this._prevBlock;r.encryptBlock(n,0);for(var a=0;a<i;a++)e[t+a]^=n[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize;i.call(this,e,t,s,r),this._prevBlock=e.slice(t,t+s)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,s=r.blockSize,n=e.slice(t,t+s);i.call(this,e,t,s,r),this._prevBlock=n}}),t}(),e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,r=4*t,s=r-i%r,n=i+s-1;e.clamp(),e.words[n>>>2]|=s<<24-n%4*8,e.sigBytes+=s},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126={pad:function(t,i){var r=4*i,s=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso97971={pad:function(t,i){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,i)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,s=this._iv,n=this._keystream;s&&(n=this._keystream=s.slice(0),this._iv=void 0),i.encryptBlock(n,0);for(var a=0;a<r;a++)e[t+a]^=n[a]}});return t.Decryptor=i,t}(),e.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var i=e,r=i.lib,s=r.CipherParams,n=i.enc,a=n.Hex,o=i.format;o.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return s.create({ciphertext:t})}}}(),function(){var t=e,i=t.lib,r=i.BlockCipher,s=t.algo,n=[],a=[],o=[],c=[],d=[],h=[],u=[],l=[],f=[],p=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,r=0;for(t=0;t<256;t++){var s=r^r<<1^r<<2^r<<3^r<<4;s=s>>>8^255&s^99,n[i]=s,a[s]=i;var m=e[i],g=e[m],y=e[g],v=257*e[s]^16843008*s;o[i]=v<<24|v>>>8,c[i]=v<<16|v>>>16,d[i]=v<<8|v>>>24,h[i]=v;v=16843009*y^65537*g^257*m^16843008*i;u[s]=v<<24|v>>>8,l[s]=v<<16|v>>>16,f[s]=v<<8|v>>>24,p[s]=v,i?(i=m^e[e[e[y^m]]],r^=e[e[r]]):i=r=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=s.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,r=this._nRounds=i+6,s=4*(r+1),a=this._keySchedule=[],o=0;o<s;o++)if(o<i)a[o]=t[o];else{var c=a[o-1];o%i?i>6&&o%i==4&&(c=n[c>>>24]<<24|n[c>>>16&255]<<16|n[c>>>8&255]<<8|n[255&c]):(c=c<<8|c>>>24,c=n[c>>>24]<<24|n[c>>>16&255]<<16|n[c>>>8&255]<<8|n[255&c],c^=m[o/i|0]<<24),a[o]=a[o-i]^c}for(var d=this._invKeySchedule=[],h=0;h<s;h++){o=s-h;if(h%4)c=a[o];else c=a[o-4];d[h]=h<4||o<=4?c:u[n[c>>>24]]^l[n[c>>>16&255]]^f[n[c>>>8&255]]^p[n[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,c,d,h,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,l,f,p,a);i=e[t+1];e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,r,s,n,a,o){for(var c=this._nRounds,d=e[t]^i[0],h=e[t+1]^i[1],u=e[t+2]^i[2],l=e[t+3]^i[3],f=4,p=1;p<c;p++){var m=r[d>>>24]^s[h>>>16&255]^n[u>>>8&255]^a[255&l]^i[f++],g=r[h>>>24]^s[u>>>16&255]^n[l>>>8&255]^a[255&d]^i[f++],y=r[u>>>24]^s[l>>>16&255]^n[d>>>8&255]^a[255&h]^i[f++],v=r[l>>>24]^s[d>>>16&255]^n[h>>>8&255]^a[255&u]^i[f++];d=m,h=g,u=y,l=v}m=(o[d>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&l])^i[f++],g=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[l>>>8&255]<<8|o[255&d])^i[f++],y=(o[u>>>24]<<24|o[l>>>16&255]<<16|o[d>>>8&255]<<8|o[255&h])^i[f++],v=(o[l>>>24]<<24|o[d>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^i[f++];e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});t.AES=r._createHelper(g)}(),function(){var t=e,i=t.lib,r=i.WordArray,s=i.BlockCipher,n=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=n.DES=s.extend({_doReset:function(){for(var e=this._key,t=e.words,i=[],r=0;r<56;r++){var s=a[r]-1;i[r]=t[s>>>5]>>>31-s%32&1}for(var n=this._subKeys=[],d=0;d<16;d++){var h=n[d]=[],u=c[d];for(r=0;r<24;r++)h[r/6|0]|=i[(o[r]-1+u)%28]<<31-r%6,h[4+(r/6|0)]|=i[28+(o[r+24]-1+u)%28]<<31-r%6;h[0]=h[0]<<1|h[0]>>>31;for(r=1;r<7;r++)h[r]=h[r]>>>4*(r-1)+3;h[7]=h[7]<<5|h[7]>>>27}var l=this._invSubKeys=[];for(r=0;r<16;r++)l[r]=n[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),l.call(this,1,1431655765);for(var r=0;r<16;r++){for(var s=i[r],n=this._lBlock,a=this._rBlock,o=0,c=0;c<8;c++)o|=d[c][((a^s[c])&h[c])>>>0];this._lBlock=a,this._rBlock=n^o}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,l.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function f(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}t.DES=s._createHelper(u);var p=n.TripleDES=s.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=u.createEncryptor(r.create(t.slice(0,2))),this._des2=u.createEncryptor(r.create(t.slice(2,4))),this._des3=u.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=s._createHelper(p)}(),function(){var t=e,i=t.lib,r=i.StreamCipher,s=t.algo,n=s.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,r=this._S=[],s=0;s<256;s++)r[s]=s;s=0;for(var n=0;s<256;s++){var a=s%i,o=t[a>>>2]>>>24-a%4*8&255;n=(n+r[s]+o)%256;var c=r[s];r[s]=r[n],r[n]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,i=this._j,r=0,s=0;s<4;s++){t=(t+1)%256,i=(i+e[t])%256;var n=e[t];e[t]=e[i],e[i]=n,r|=e[(e[t]+e[i])%256]<<24-8*s}return this._i=t,this._j=i,r}t.RC4=r._createHelper(n);var o=s.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});t.RC4Drop=r._createHelper(o)}(),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function i(e){if(255===(e>>24&255)){var t=e>>16&255,i=e>>8&255,r=255&e;255===t?(t=0,255===i?(i=0,255===r?r=0:++r):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=r}else e+=1<<24;return e}function r(e){return 0===(e[0]=i(e[0]))&&(e[1]=i(e[1])),e}var s=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,s=i.blockSize,n=this._iv,a=this._counter;n&&(a=this._counter=n.slice(0),this._iv=void 0),r(a);var o=a.slice(0);i.encryptBlock(o,0);for(var c=0;c<s;c++)e[t+c]^=o[c]}});return t.Decryptor=s,t}(),function(){var t=e,i=t.lib,r=i.StreamCipher,s=t.algo,n=[],a=[],o=[],c=s.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(i=0;i<4;i++)d.call(this);for(i=0;i<8;i++)s[i]^=r[i+4&7];if(t){var n=t.words,a=n[0],o=n[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=c>>>16|4294901760&h,l=h<<16|65535&c;s[0]^=c,s[1]^=u,s[2]^=h,s[3]^=l,s[4]^=c,s[5]^=u,s[6]^=h,s[7]^=l;for(i=0;i<4;i++)d.call(this)}},_doProcessBlock:function(e,t){var i=this._X;d.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),e[t+r]^=n[r]},blockSize:4,ivSize:2});function d(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0;for(i=0;i<8;i++){var r=e[i]+t[i],s=65535&r,n=r>>>16,c=((s*s>>>17)+s*n>>>15)+n*n,d=((4294901760&r)*r|0)+((65535&r)*r|0);o[i]=c^d}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=r._createHelper(c)}(),e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,s=this._iv,n=this._counter;s&&(n=this._counter=s.slice(0),this._iv=void 0);var a=n.slice(0);i.encryptBlock(a,0),n[r-1]=n[r-1]+1|0;for(var o=0;o<r;o++)e[t+o]^=a[o]}});return t.Decryptor=i,t}(),function(){var t=e,i=t.lib,r=i.StreamCipher,s=t.algo,n=[],a=[],o=[],c=s.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var s=0;s<4;s++)d.call(this);for(s=0;s<8;s++)r[s]^=i[s+4&7];if(t){var n=t.words,a=n[0],o=n[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=c>>>16|4294901760&h,l=h<<16|65535&c;r[0]^=c,r[1]^=u,r[2]^=h,r[3]^=l,r[4]^=c,r[5]^=u,r[6]^=h,r[7]^=l;for(s=0;s<4;s++)d.call(this)}},_doProcessBlock:function(e,t){var i=this._X;d.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),e[t+r]^=n[r]},blockSize:4,ivSize:2});function d(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0;for(i=0;i<8;i++){var r=e[i]+t[i],s=65535&r,n=r>>>16,c=((s*s>>>17)+s*n>>>15)+n*n,d=((4294901760&r)*r|0)+((65535&r)*r|0);o[i]=c^d}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=r._createHelper(c)}(),e.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){var t=e.words,i=e.sigBytes-1;while(!(t[i>>>2]>>>24-i%4*8&255))i--;e.sigBytes=i+1}},e}))},f59e:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,AuthenticationError:n,ArgumentsRequired:a}=i("74b0"),o=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"itbit",name:"itBit",countries:["US"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"XBT",quoteId:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",baseId:"XBT",quoteId:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR"},"ETH/SGD":{id:"ETHSGD",symbol:"ETH/SGD",base:"ETH",quote:"SGD",baseId:"ETH",quoteId:"SGD"},PAXGUSD:{id:"PAXGUSD",symbol:"PAXG/USD",base:"PAXG",quote:"USD",baseId:"PAXG",quoteId:"USD"},BCHUSD:{id:"BCHUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCH",quoteId:"USD"},LTCUSD:{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD"}},fees:{trading:{maker:-3e-4,taker:.35/100}},commonCurrencies:{XBT:"BTC"}})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetMarketsSymbolOrderBook(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetMarketsSymbolTicker(this.extend(i,t)),n=this.safeString(r,"serverTimeUTC");if(!n)throw new s(this.id+" fetchTicker returned a bad response: "+this.json(r));const a=this.parse8601(n),o=this.safeNumber(r,"vwap24h"),c=this.safeNumber(r,"volume24h");let d=void 0;void 0!==c&&void 0!==o&&(d=c*o);const h=this.safeNumber(r,"lastPrice");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(r,"high24h"),low:this.safeNumber(r,"low24h"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:o,open:this.safeNumber(r,"openToday"),close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:d,info:r}}parseTrade(e,t){const i=this.safeString2(e,"executionId","matchNumber"),r=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"direction"),n=this.safeString(e,"orderId");let a=this.safeNumber(e,"commissionPaid");const c=this.safeString(e,"commissionCurrency"),d=this.safeCurrencyCode(c);let h=this.safeNumber(e,"rebatesApplied");void 0!==h&&(h=-h);const u=this.safeString(e,"rebateCurrency"),l=this.safeCurrencyCode(u),f=this.safeString2(e,"price","rate"),p=this.safeString2(e,"currency1Amount","amount"),m=this.parseNumber(f),g=this.parseNumber(p),y=this.parseNumber(o.stringMul(f,p));let v=void 0;const b=this.safeString(e,"instrument");if(void 0!==b)if(b in this.markets_by_id)t=this.markets_by_id[b];else{const t=this.safeString(e,"currency1"),i=this.safeString(e,"currency2"),r=this.safeCurrencyCode(t),s=this.safeCurrencyCode(i);v=r+"/"+s}void 0===v&&void 0!==t&&(v=t["symbol"]);const w={info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:v,order:n,type:void 0,side:s,takerOrMaker:void 0,price:m,amount:g,cost:y,fee:void 0};return void 0!==a&&(void 0!==h?d===l?(a=this.sum(a,h),w["fee"]={cost:a,currency:d}):w["fees"]=[{cost:a,currency:d},{cost:h,currency:l}]:w["fee"]={cost:a,currency:d}),"fee"in w||"fees"in w||(w["fee"]=void 0),w}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=this.safeString(r,"walletId");if(void 0===s)throw new a(this.id+" fetchMyTrades() requires a walletId parameter");const n={walletId:s};void 0!==i&&(n["perPage"]=i);const o=await this.privateGetWalletsWalletIdFundingHistory(this.extend(n,r)),c=o["fundingHistory"],d=[];for(let a=0;a<c.length;a++){const e=c[a],t=this.safeString(e,"time"),i=this.parse8601(t),r=this.safeString(e,"currency"),s=this.safeString(e,"destinationAddress"),n=this.safeString(e,"txnHash"),o=this.safeStringLower(e,"transactionType"),h=this.safeString(e,"status"),u=this.parseTransferStatus(h);d.push({id:this.safeString(e,"withdrawalId"),timestamp:i,datetime:this.iso8601(i),currency:this.safeCurrencyCode(r),address:s,tag:void 0,txid:n,type:o,status:u,amount:this.safeNumber(e,"amount"),fee:void 0,info:e})}return d}parseTransferStatus(e){const t={cancelled:"canceled",completed:"ok"};return this.safeString(t,e,"pending")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const n=this.safeString(r,"walletId");if(void 0===n)throw new s(this.id+" fetchMyTrades() requires a walletId parameter");const a={walletId:n};void 0!==t&&(a["rangeStart"]=this.ymdhms(t,"T")),void 0!==i&&(a["perPage"]=i);const o=await this.privateGetWalletsWalletIdTrades(this.extend(a,r)),c=this.safeValue(o,"tradingHistory",[]);let d=void 0;return void 0!==e&&(d=this.market(e)),this.parseTrades(c,d,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]},a=await this.publicGetMarketsSymbolTrades(this.extend(n,r)),o=this.safeValue(a,"recentTrades",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.fetchWallets(e),i=t[0]["balances"],r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"availableBalance"),a["total"]=this.safeString(e,"totalBalance"),r[n]=a}return this.parseBalance(r,!1)}async fetchWallets(e={}){if(await this.loadMarkets(),!this.uid)throw new n(this.id+" fetchWallets() requires uid API credential");const t={userId:this.uid};return await this.privateGetWallets(this.extend(t,e))}async fetchWallet(e,t={}){await this.loadMarkets();const i={walletId:e};return await this.privateGetWalletsWalletId(this.extend(i,t))}async fetchOpenOrders(e,t,i,r={}){const s={status:"open"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={status:"filled"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let n=void 0;void 0!==e&&(n=this.market(e));const a="walletId"in r;if(!a)throw new s(this.id+" fetchOrders() requires a walletId parameter");const o=r["walletId"],c={walletId:o},d=await this.privateGetWalletsWalletIdOrders(this.extend(c,r));return this.parseOrders(d,n,t,i)}parseOrderStatus(e){const t={submitted:"open",open:"open",filled:"closed",cancelled:"canceled",rejected:"canceled"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"side"),r=this.safeString(e,"type"),s=this.markets_by_id[e["instrument"]]["symbol"],n=this.parse8601(e["createdTime"]),a=this.safeNumber(e,"amount"),o=this.safeNumber(e,"amountFilled"),c=void 0,d=this.safeNumber(e,"price"),h=this.safeNumber(e,"volumeWeightedAveragePrice"),u=this.safeString(e,"clientOrderIdentifier"),l=this.safeString(e,"id"),f=this.safeString(e,"postOnly"),p="True"===f;return this.safeOrder({id:l,clientOrderId:u,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:this.parseOrderStatus(this.safeString(e,"status")),symbol:s,type:r,timeInForce:void 0,postOnly:p,side:i,price:d,stopPrice:void 0,cost:void 0,average:h,amount:a,filled:o,remaining:void 0,fee:c,trades:void 0})}nonce(){return this.milliseconds()}async createOrder(e,t,i,r,n,a={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o="walletId"in a;if(!o)throw new s(this.id+" createOrder() requires a walletId parameter");r=r.toString(),n=n.toString();const c=this.market(e),d={side:i,type:t,currency:c["id"].replace(c["quote"],""),amount:r,display:r,price:n,instrument:c["id"]},h=await this.privatePostWalletsWalletIdOrders(this.extend(d,a));return{info:h,id:h["id"]}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r="walletId"in i;if(!r)throw new s(this.id+" fetchOrder() requires a walletId parameter");const n={id:e},a=await this.privateGetWalletsWalletIdOrdersId(this.extend(n,i));return this.parseOrder(a)}async cancelOrder(e,t,i={}){const r="walletId"in i;if(!r)throw new s(this.id+" cancelOrder() requires a walletId parameter");const n={id:e};return await this.privateDeleteWalletsWalletIdOrdersId(this.extend(n,i))}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("GET"===i&&Object.keys(o).length&&(a+="?"+this.urlencode(o)),"POST"===i&&Object.keys(o).length&&(n=this.json(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=e,r="POST"===i?n:"",o=[i,a,r,e,t],c=e+this.json(o).replace("\\/","/"),d=this.hash(this.encode(c),"sha256","binary"),h=this.stringToBinary(this.encode(a)),u=this.binaryConcat(h,d),l=this.hmac(u,this.encode(this.secret),"sha512","base64");s={Authorization:this.apiKey+":"+l,"Content-Type":"application/json","X-Auth-Timestamp":t,"X-Auth-Nonce":e}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("code"in o)throw new s(this.id+" "+this.json(o));return o}}},f5df:function(e,t,i){var r=i("00ee"),s=i("c6b6"),n=i("b622"),a=n("toStringTag"),o="Arguments"==s(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(i){}};e.exports=r?s:function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=c(t=Object(e),a))?i:o?s(t):"Object"==(r=s(t))&&"function"==typeof t.callee?"Arguments":r}},f601:function(e,t,i){var r=i("84eb"),s=i("fd6f");function n(e,t,i){return function(){if(0===arguments.length)return i();var n=Array.prototype.slice.call(arguments,0),a=n.pop();if(!r(a)){var o=0;while(o<e.length){if("function"===typeof a[e[o]])return a[e[o]].apply(a,n);o+=1}if(s(a)){var c=t.apply(null,n);return c(a)}}return i.apply(this,arguments)}}e.exports=n},f654:function(e,t,i){"use strict";(function(t){var r=i("320c");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function s(e,t){if(e===t)return 0;for(var i=e.length,r=t.length,s=0,n=Math.min(i,r);s<n;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0}function n(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=i("3022"),o=Object.prototype.hasOwnProperty,c=Array.prototype.slice,d=function(){return"foo"===function(){}.name}();function h(e){return Object.prototype.toString.call(e)}function u(e){return!n(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var l=e.exports=b,f=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(d)return e.name;var t=e.toString(),i=t.match(f);return i&&i[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(d||!a.isFunction(e))return a.inspect(e);var t=p(e),i=t?": "+t:"";return"[Function"+i+"]"}function y(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}function v(e,t,i,r,s){throw new l.AssertionError({message:i,actual:e,expected:t,operator:r,stackStartFunction:s})}function b(e,t){e||v(e,!0,t,"==",l.ok)}function w(e,t,i,r){if(e===t)return!0;if(n(e)&&n(t))return 0===s(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(u(e)&&u(t)&&h(e)===h(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===s(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(n(e)!==n(t))return!1;r=r||{actual:[],expected:[]};var o=r.actual.indexOf(e);return-1!==o&&o===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),k(e,t,i,r))}return i?e===t:e==t}function S(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function k(e,t,i,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var s=S(e),n=S(t);if(s&&!n||!s&&n)return!1;if(s)return e=c.call(e),t=c.call(t),w(e,t,i);var o,d,h=x(e),u=x(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),d=h.length-1;d>=0;d--)if(h[d]!==u[d])return!1;for(d=h.length-1;d>=0;d--)if(o=h[d],!w(e[o],t[o],i,r))return!1;return!0}function _(e,t,i){w(e,t,!0)&&v(e,t,i,"notDeepStrictEqual",_)}function O(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(i){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function T(e){var t;try{e()}catch(i){t=i}return t}function C(e,t,i,r){var s;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof i&&(r=i,i=null),s=T(t),r=(i&&i.name?" ("+i.name+").":".")+(r?" "+r:"."),e&&!s&&v(s,i,"Missing expected exception"+r);var n="string"===typeof r,o=!e&&a.isError(s),c=!e&&s&&!i;if((o&&n&&O(s,i)||c)&&v(s,i,"Got unwanted exception"+r),e&&s&&i&&!O(s,i)||!e&&s)throw s}function I(e,t){e||v(e,!0,t,"==",I)}l.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=y(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var r=i.stack,s=p(t),n=r.indexOf("\n"+s);if(n>=0){var a=r.indexOf("\n",n+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(l.AssertionError,Error),l.fail=v,l.ok=b,l.equal=function(e,t,i){e!=t&&v(e,t,i,"==",l.equal)},l.notEqual=function(e,t,i){e==t&&v(e,t,i,"!=",l.notEqual)},l.deepEqual=function(e,t,i){w(e,t,!1)||v(e,t,i,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,i){w(e,t,!0)||v(e,t,i,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,i){w(e,t,!1)&&v(e,t,i,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=_,l.strictEqual=function(e,t,i){e!==t&&v(e,t,i,"===",l.strictEqual)},l.notStrictEqual=function(e,t,i){e===t&&v(e,t,i,"!==",l.notStrictEqual)},l.throws=function(e,t,i){C(!0,e,t,i)},l.doesNotThrow=function(e,t,i){C(!1,e,t,i)},l.ifError=function(e){if(e)throw e},l.strict=r(I,l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var x=Object.keys||function(e){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t}}).call(this,i("c8ba"))},f6b4:function(e,t,i){"use strict";var r=i("c532");function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},f6c4:function(e,t,i){"use strict";i("bd0c");var r=i("d10f");t["a"]=r["a"].extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles:function(){var e=this.$vuetify.application,t=e.bar,i=e.top,r=e.right,s=e.footer,n=e.insetFooter,a=e.bottom,o=e.left;return{paddingTop:"".concat(i+t,"px"),paddingRight:"".concat(r,"px"),paddingBottom:"".concat(s+n+a,"px"),paddingLeft:"".concat(o,"px")}}},render:function(e){var t={staticClass:"v-main",style:this.styles,ref:"main"};return e(this.tag,t,[e("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},f6e8:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,ExchangeNotAvailable:a,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,AccountSuspended:h,InvalidNonce:u,NotSupported:l,BadRequest:f,AuthenticationError:p,BadSymbol:m,RateLimitExceeded:g,PermissionDenied:y}=i("74b0"),v=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kucoin",name:"KuCoin",countries:["SC"],rateLimit:334,version:"v2",certified:!1,pro:!0,comment:"Platform 2.0",has:{CORS:!1,cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFee:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0,transfer:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295558-132aaf80-c50e-11ea-9801-a2fb0c57c799.jpg",referral:"https://www.kucoin.com/?rcode=E5wkqe",api:{public:"https://openapi-v2.kucoin.com",private:"https://openapi-v2.kucoin.com",futuresPrivate:"https://api-futures.kucoin.com",futuresPublic:"https://api-futures.kucoin.com"},test:{public:"https://openapi-sandbox.kucoin.com",private:"https://openapi-sandbox.kucoin.com",futuresPrivate:"https://api-sandbox-futures.kucoin.com",futuresPublic:"https://api-sandbox-futures.kucoin.com"},www:"https://www.kucoin.com",doc:["https://docs.kucoin.com"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["timestamp","status","symbols","markets","market/allTickers","market/orderbook/level{level}_{limit}","market/orderbook/level2_20","market/orderbook/level2_100","market/histories","market/candles","market/stats","currencies","currencies/{currency}","prices","mark-price/{symbol}/current","margin/config"],post:["bullet-public"]},private:{get:["market/orderbook/level{level}","market/orderbook/level2","market/orderbook/level3","accounts","accounts/{accountId}","accounts/{accountId}/ledgers","accounts/{accountId}/holds","accounts/transferable","sub/user","sub-accounts","sub-accounts/{subUserId}","deposit-addresses","deposits","hist-deposits","hist-orders","hist-withdrawals","withdrawals","withdrawals/quotas","orders","order/client-order/{clientOid}","orders/{orderId}","limit/orders","fills","limit/fills","margin/account","margin/borrow","margin/borrow/outstanding","margin/borrow/borrow/repaid","margin/lend/active","margin/lend/done","margin/lend/trade/unsettled","margin/lend/trade/settled","margin/lend/assets","margin/market","margin/trade/last","stop-order/{orderId}","stop-order","stop-order/queryOrderByClientOid"],post:["accounts","accounts/inner-transfer","accounts/sub-transfer","deposit-addresses","withdrawals","orders","orders/multi","margin/borrow","margin/order","margin/repay/all","margin/repay/single","margin/lend","margin/toggle-auto-lend","bullet-private","stop-order"],delete:["withdrawals/{withdrawalId}","orders","orders/client-order/{clientOid}","orders/{orderId}","margin/lend/{orderId}","stop-order/cancelOrderByClientOid","stop-order/{orderId}","stop-order/cancel"]},futuresPublic:{get:["contracts/active","contracts/{symbol}","ticker","level2/snapshot","level2/depth20","level2/depth100","level2/message/query","level3/message/query","level3/snapshot","trade/history","interest/query","index/query","mark-price/{symbol}/current","premium/query","funding-rate/{symbol}/current","timestamp","status","kline/query"],post:["bullet-public"]},futuresPrivate:{get:["account-overview","transaction-history","deposit-address","deposit-list","withdrawals/quotas","withdrawal-list","transfer-list","orders","stopOrders","recentDoneOrders","orders/{order-id}","orders/byClientOid","fills","recentFills","openOrderStatistics","position","positions","funding-history"],post:["withdrawals","transfer-out","orders","position/margin/auto-deposit-status","position/margin/deposit-margin","bullet-private"],delete:["withdrawals/{withdrawalId}","cancel/transfer-out","orders/{order-id}","orders","stopOrders"]}},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},exceptions:{exact:{"order not exist":c,"order not exist.":c,order_not_exist:c,order_not_exist_or_not_allow_to_cancel:d,"Order size below the minimum requirement.":d,"The withdrawal amount is below the minimum requirement.":s,"Unsuccessful! Exceeded the max. funds out-transfer limit":o,400:f,401:p,403:l,404:l,405:l,429:g,500:a,503:a,101030:y,200004:o,230003:o,260100:o,3e5:d,4e5:m,400001:p,400002:u,400003:p,400004:p,400005:p,400006:p,400007:p,400008:l,400100:f,411100:h,415e3:f,5e5:s},broad:{"Exceeded the access frequency":g,"require more permission":y}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{HOT:"HOTNOW",EDGE:"DADI",WAX:"WAXP",TRY:"Trias",VAI:"VAIOT"},options:{version:"v1",symbolSeparator:"-",fetchMyTradesMethod:"private_get_fills",fetchBalance:"trade",versions:{public:{GET:{status:"v1","market/orderbook/level2_20":"v1","market/orderbook/level2_100":"v1","market/orderbook/level{level}_{limit}":"v1"}},private:{GET:{"market/orderbook/level2":"v3","market/orderbook/level3":"v3","market/orderbook/level{level}":"v3"},POST:{"accounts/inner-transfer":"v2","accounts/sub-transfer":"v2"}},futuresPrivate:{GET:{"account-overview":"v1",positions:"v1"},POST:{"transfer-out":"v2"}},futuresPublic:{GET:{"level3/snapshot":"v2"}}},accountsByType:{trade:"trade",trading:"trade",spot:"trade",margin:"margin",main:"main",funding:"main",futures:"contract",contract:"contract",pool:"pool","pool-x":"pool"}}})}nonce(){return this.milliseconds()}async loadTimeDifference(e={}){const t=await this.publicGetTimestamp(e),i=this.milliseconds(),r=this.safeInteger(t,"data");return this.options["timeDifference"]=parseInt(i-r),this.options["timeDifference"]}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeInteger(t,"data")}async fetchStatus(e={}){const t=await this.publicGetStatus(e),i=this.safeValue(t,"data",{});let r=this.safeValue(i,"status");return void 0!==r&&(r="open"===r?"ok":"maintenance",this.status=this.extend(this.status,{status:r,updated:this.milliseconds()})),this.status}async fetchMarkets(e={}){const t=await this.publicGetSymbols(e),i=t["data"],r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),[n,a]=t.split("-"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(e,"enableTrading"),u=this.safeNumber(e,"baseMaxSize"),l=this.safeString(e,"baseMinSize"),f=this.safeString(e,"quoteMaxSize"),p=this.parseNumber(l),m=this.parseNumber(f),g=this.safeNumber(e,"quoteMinSize"),y={amount:this.precisionFromString(this.safeString(e,"baseIncrement")),price:this.precisionFromString(this.safeString(e,"priceIncrement"))},b={amount:{min:p,max:u},price:{min:this.safeNumber(e,"priceIncrement"),max:this.parseNumber(v.stringDiv(f,l))},cost:{min:g,max:m}};r.push({id:t,symbol:d,baseId:n,quoteId:a,base:o,quote:c,active:h,precision:y,limits:b,info:e})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),n=this.safeString(e,"fullName"),a=this.safeCurrencyCode(t),o=this.safeInteger(e,"precision"),c=this.safeValue(e,"isWithdrawEnabled",!1),d=this.safeValue(e,"isDepositEnabled",!1),h=this.safeNumber(e,"withdrawalMinFee"),u=c&&d;r[a]={id:t,name:n,code:a,precision:o,info:e,active:u,fee:h,limits:this.limits}}return r}async fetchAccounts(e={}){const t=await this.privateGetAccounts(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),n=this.safeString(e,"currency"),a=this.safeCurrencyCode(n),o=this.safeString(e,"type");r.push({id:t,type:o,currency:a,info:e})}return r}async fetchFundingFee(e,t={}){const i=this.currencyId(e),r={currency:i},s=await this.privateGetWithdrawalsQuotas(this.extend(r,t)),n=s["data"],a={};return a[e]=this.safeNumber(n,"withdrawMinFee"),{info:s,withdraw:a,deposit:{}}}parseTicker(e,t){let i=this.safeNumber(e,"changeRate");void 0!==i&&(i*=100);const r=this.safeNumber2(e,"last","lastTradedPrice"),s=this.safeString(e,"symbol"),n=this.safeSymbol(s,t,"-"),a=this.safeNumber(e,"vol"),o=this.safeNumber(e,"volValue"),c=this.vwap(a,o),d=this.safeInteger2(e,"time","datetime");return{symbol:n,timestamp:d,datetime:this.iso8601(d),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:c,open:this.safeNumber(e,"open"),close:r,last:r,previousClose:void 0,change:this.safeNumber(e,"changePrice"),percentage:i,average:this.safeNumber(e,"averagePrice"),baseVolume:a,quoteVolume:o,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketAllTickers(t),r=this.safeValue(i,"data",{}),s=this.safeValue(r,"ticker",[]),n={};for(let a=0;a<s.length;a++){const e=this.parseTicker(s[a]),t=this.safeString(e,"symbol");void 0!==t&&(n[t]=e)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i["id"]},s=await this.publicGetMarketStats(this.extend(r,t));return this.parseTicker(s["data"],i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="15m",i,r,s={}){await this.loadMarkets();const n=this.market(e),a=n["id"],o={symbol:a,type:this.timeframes[t]},c=1e3*this.parseTimeframe(t);let d=this.milliseconds();void 0!==i?(o["startAt"]=parseInt(Math.floor(i/1e3)),void 0===r&&(r=this.safeInteger(this.options,"fetchOHLCVLimit",1500)),d=this.sum(i,r*c)):void 0!==r&&(i=d-r*c,o["startAt"]=parseInt(Math.floor(i/1e3))),o["endAt"]=parseInt(Math.floor(d/1e3));const h=await this.publicGetMarketCandles(this.extend(o,s)),u=this.safeValue(h,"data",[]);return this.parseOHLCVs(u,n,t,i,r)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currencyId(e),r={currency:i},s=await this.privatePostDepositAddresses(this.extend(r,t)),n=this.safeValue(s,"data",{});let a=this.safeString(n,"address");void 0!==a&&(a=a.replace("bitcoincash:",""));const o=this.safeString(n,"memo");return"NIM"!==e&&this.checkAddress(a),{info:s,currency:e,address:a,tag:o}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currencyId(e),r={currency:i},s=await this.privateGetDepositAddresses(this.extend(r,t)),n=this.safeValue(s,"data",{}),a=this.safeString(n,"address"),o=this.safeString(n,"memo");return"NIM"!==e&&this.checkAddress(a),{info:s,currency:e,address:a,tag:o}}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,{level:3})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.marketId(e),n=this.safeInteger(i,"level",2),a={symbol:r,level:n};let o="privateGetMarketOrderbookLevelLevel";if(2===n&&void 0!==t){if(20!==t&&100!==t)throw new s(this.id+" fetchOrderBook limit argument must be undefined, 20 or 100");a["limit"]=t,o="publicGetMarketOrderbookLevelLevelLimit"}const c=await this[o](this.extend(a,i)),d=this.safeValue(c,"data",{}),h=this.safeInteger(d,"time"),u=this.parseOrderBook(d,e,h,"bids","asks",n-2,n-1);return u["nonce"]=this.safeInteger(d,"sequence"),u}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a=this.marketId(e),o=this.safeString2(n,"clientOid","clientOrderId",this.uuid());n=this.omit(n,["clientOid","clientOrderId"]);const c={clientOid:o,side:i,symbol:a,type:t},d=this.safeNumber2(n,"cost","funds");"market"===t?void 0!==d?(n=this.omit(n,["cost","funds"]),c["funds"]=this.amountToPrecision(e,d)):c["size"]=this.amountToPrecision(e,r):(c["price"]=this.priceToPrecision(e,s),c["size"]=this.amountToPrecision(e,r));const h=await this.privatePostOrders(this.extend(c,n)),u=this.safeValue(h,"data",{}),l=this.milliseconds(),f=this.safeString(u,"orderId"),p={id:f,clientOrderId:o,info:u,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0};return void 0===d?p["amount"]=r:p["cost"]=d,p}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOid","clientOrderId");let n="privateDeleteOrdersOrderId";return void 0!==s?(r["clientOid"]=s,n="privateDeleteOrdersClientOrderClientOid"):r["orderId"]=e,i=this.omit(i,["clientOid","clientOrderId"]),await this[n](this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r=void 0;return void 0!==e&&(r=this.market(e),i["symbol"]=r["id"]),await this.privateDeleteOrders(this.extend(i,t))}async fetchOrdersByStatus(e,t,i,r,s={}){await this.loadMarkets();const n={status:e};let a=void 0;void 0!==t&&(a=this.market(t),n["symbol"]=a["id"]),void 0!==i&&(n["startAt"]=i),void 0!==r&&(n["pageSize"]=r);const o=await this.privateGetOrders(this.extend(n,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"items",[]);return this.parseOrders(d,a,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("done",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("active",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOid","clientOrderId");let n="privateGetOrdersOrderId";if(void 0!==s)r["clientOid"]=s,n="privateGetOrdersClientOrderClientOid";else{if(void 0===e)throw new d(this.id+" fetchOrder() requires an order id");r["orderId"]=e}i=this.omit(i,["clientOid","clientOrderId"]);const a=await this[n](this.extend(r,i));let o=void 0;void 0!==t&&(o=this.market(t));const c=this.safeValue(a,"data");return this.parseOrder(c,o)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.safeString(e,"id"),n=this.safeString(e,"type"),a=this.safeInteger(e,"createdAt"),o=this.iso8601(a);let c=this.safeNumber(e,"price");0===c&&(c=void 0);const d=this.safeString(e,"side"),h=this.safeString(e,"feeCurrency"),u=this.safeCurrencyCode(h),l=this.safeNumber(e,"fee"),f=this.safeNumber(e,"size"),p=this.safeNumber(e,"dealSize"),m=this.safeNumber(e,"dealFunds"),g=this.safeValue(e,"isActive",!1),y=this.safeValue(e,"cancelExist",!1);let v=g?"open":"closed";v=y?"canceled":v;const b={currency:u,cost:l},w=this.safeString(e,"clientOid"),S=this.safeString(e,"timeInForce"),k=this.safeNumber(e,"stopPrice"),_=this.safeValue(e,"postOnly");return this.safeOrder({id:s,clientOrderId:w,symbol:r,type:n,timeInForce:S,postOnly:_,side:d,amount:f,price:c,stopPrice:k,cost:m,filled:p,remaining:void 0,timestamp:a,datetime:o,fee:b,status:v,info:e,lastTradeTimestamp:void 0,average:void 0,trades:void 0})}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const n={};let a=void 0;void 0!==e&&(a=this.market(e),n["symbol"]=a["id"]),void 0!==i&&(n["pageSize"]=i);const o=this.options["fetchMyTradesMethod"];let c=!1;if("private_get_fills"===o)void 0!==t&&(n["startAt"]=t);else if("private_get_limit_fills"===o)c=!0;else{if("private_get_hist_orders"!==o)throw new s(this.id+" invalid fetchClosedOrder method");void 0!==t&&(n["startAt"]=parseInt(t/1e3))}const d=await this[o](this.extend(n,r)),h=this.safeValue(d,"data",{});let u=void 0;return u=c?h:this.safeValue(h,"items",[]),this.parseTrades(u,a,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={symbol:s["id"]};void 0!==t&&(n["startAt"]=Math.floor(t/1e3)),void 0!==i&&(n["pageSize"]=i);const a=await this.publicGetMarketHistories(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.safeString2(e,"tradeId","id"),n=this.safeString(e,"orderId"),a=this.safeString(e,"liquidity");let o=this.safeInteger(e,"time");void 0!==o?o=parseInt(o/1e6):(o=this.safeInteger(e,"createdAt"),"dealValue"in e&&void 0!==o&&(o*=1e3));const c=this.safeString2(e,"price","dealPrice"),d=this.safeString2(e,"size","amount"),h=this.parseNumber(c),u=this.parseNumber(d),l=this.safeString(e,"side");let f=void 0;const p=this.safeNumber(e,"fee");if(void 0!==p){const i=this.safeString(e,"feeCurrency");let r=this.safeCurrencyCode(i);void 0===r&&void 0!==t&&(r="sell"===l?t["quote"]:t["base"]),f={cost:p,currency:r,rate:this.safeNumber(e,"feeRate")}}let m=this.safeString(e,"type");"match"===m&&(m=void 0);let g=this.safeNumber2(e,"funds","dealValue");return void 0===g&&(g=this.parseNumber(v.stringMul(c,d))),{info:e,id:s,order:n,timestamp:o,datetime:this.iso8601(o),symbol:r,type:m,takerOrMaker:a,side:l,price:h,amount:u,cost:g,fee:f}}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const n=this.currencyId(e),a={currency:n,address:i,amount:t};void 0!==r&&(a["memo"]=r);const o=await this.privatePostWithdrawals(this.extend(a,s)),c=this.safeValue(o,"data",{});return{id:this.safeString(c,"withdrawalId"),info:o}}parseTransactionStatus(e){const t={SUCCESS:"ok",PROCESSING:"ok",FAILURE:"failed"};return this.safeString(t,e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t);let s=this.safeString(e,"address");const n=this.safeNumber(e,"amount");let a=this.safeString(e,"walletTxId");if(void 0!==a){const e=a.split("@"),t=e.length;t>1&&void 0===s&&e[1].length>1&&(s=e[1]),a=e[0]}let o=void 0===a?"withdrawal":"deposit";const c=this.safeString(e,"status"),d=this.parseTransactionStatus(c);let h=void 0;const u=this.safeNumber(e,"fee");if(void 0!==u){let e=void 0;void 0!==n&&(e=u/n),h={cost:u,rate:e,currency:r}}const l=this.safeString(e,"memo");let f=this.safeInteger2(e,"createdAt","createAt");const p=this.safeString(e,"id");let m=this.safeInteger(e,"updatedAt");const g=!("createdAt"in e);g&&(o="address"in e?"withdrawal":"deposit",void 0!==f&&(f*=1e3),void 0!==m&&(m*=1e3));const y=this.safeString(e,"remark");return{id:p,info:e,timestamp:f,datetime:this.iso8601(f),address:s,addressTo:s,addressFrom:void 0,tag:l,tagTo:l,tagFrom:void 0,currency:r,amount:n,txid:a,type:o,status:d,comment:y,fee:h,updated:m}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["pageSize"]=i);let a="privateGetDeposits";void 0!==t&&(t<1550448e6?(s["startAt"]=parseInt(t/1e3),a="privateGetHistDeposits"):s["startAt"]=t);const o=await this[a](this.extend(s,r)),c=o["data"]["items"];return this.parseTransactions(c,n,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.currency(e),s["currency"]=n["id"]),void 0!==i&&(s["pageSize"]=i);let a="privateGetWithdrawals";void 0!==t&&(t<1550448e6?(s["startAt"]=parseInt(t/1e3),a="privateGetHistWithdrawals"):s["startAt"]=t);const o=await this[a](this.extend(s,r)),c=o["data"]["items"];return this.parseTransactions(c,n,t,i,{type:"withdrawal"})}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","trade"),i=this.safeString(e,"type",t),r=this.safeValue(this.options,"accountsByType"),n=this.safeString(r,i);if(void 0===n){const e=Object.keys(r);throw new s(this.id+" type must be one of "+e.join(", "))}if(e=this.omit(e,"type"),"contract"===n){const t=await this.futuresPrivateGetAccountOverview(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data"),s=this.safeString(r,"currency"),n=this.safeCurrencyCode(s),a=this.account();return a["free"]=this.safeString(r,"availableBalance"),a["total"]=this.safeString(r,"accountEquity"),i[n]=a,this.parseBalance(i,!1)}{const t={type:n},i=await this.privateGetAccounts(this.extend(t,e)),r=this.safeValue(i,"data",[]),s={info:i,timestamp:void 0,datetime:void 0};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"type");if(i===n){const e=this.safeString(t,"currency"),i=this.safeCurrencyCode(e),r=this.account();r["total"]=this.safeString(t,"balance"),r["free"]=this.safeString(t,"available"),r["used"]=this.safeString(t,"holds"),s[i]=r}}return this.parseBalance(s,!1)}}async transfer(e,t,i,r,n={}){await this.loadMarkets();const a=this.currency(e),o=this.currencyToPrecision(e,t),c=this.safeValue(this.options,"accountsByType",{}),d=this.safeString(c,i);if(void 0===d){const e=Object.keys(c);throw new s(this.id+" fromAccount must be one of "+e.join(", "))}const h=this.safeString(c,r);if(void 0===h){const e=Object.keys(c);throw new s(this.id+" toAccount must be one of "+e.join(", "))}if("contract"===d){if("main"!==h)throw new s(this.id+" only supports transferring from futures account to main account");const e={currency:a["id"],amount:o};"bizNo"in n||(e["bizNo"]=this.uuid22());const t=await this.futuresPrivatePostTransferOut(this.extend(e,n)),i=this.safeValue(t,"data"),r=this.safeInteger(i,"createdAt"),c=this.safeString(i,"applyId"),u=this.safeString(i,"currency"),l=this.safeCurrencyCode(u),f=this.safeNumber(i,"amount"),p=this.safeString(i,"status");let m=void 0;return"PROCESSING"===p&&(m="pending"),{info:t,currency:l,timestamp:r,datetime:this.iso8601(r),amount:f,fromAccount:d,toAccount:h,id:c,status:m}}{const t={currency:a["id"],from:d,to:h,amount:o};"clientOid"in n||(t["clientOid"]=this.uuid());const i=await this.privatePostAccountsInnerTransfer(this.extend(t,n)),r=this.safeValue(i,"data"),s=this.safeString(r,"orderId");return{info:i,id:s,timestamp:void 0,datetime:void 0,currency:e,amount:o,fromAccount:d,toAccount:h,status:void 0}}}async fetchLedger(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchLedger() requires a code param");await this.loadMarkets(),await this.loadAccounts();const a=this.currency(e);let o=this.safeString(r,"accountId");if(void 0===o)for(let s=0;s<this.accounts.length;s++){const t=this.accounts[s];if(t["currency"]===e&&"main"===t["type"]){o=t["id"];break}}if(void 0===o)throw new s(this.id+" "+e+"main account is not loaded in loadAccounts");const c={accountId:o};void 0!==t&&(c["startAt"]=Math.floor(t/1e3));const d=await this.privateGetAccountsAccountIdLedgers(this.extend(c,r)),h=d["data"]["items"];return this.parseLedger(h,a,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t),s={cost:this.safeNumber(e,"fee"),code:r},n=this.safeNumber(e,"amount"),a=this.safeNumber(e,"balance"),o=this.safeString(e,"direction");let c=void 0;if(void 0!==a&&void 0!==n){const e="out"===o?n:-n;c=this.sum(a,e)}const d=this.safeInteger(e,"createdAt"),h=this.parseLedgerEntryType(this.safeString(e,"bizType")),u=this.safeString(e,"context");let l=void 0,f=void 0;if(this.isJsonEncodedObject(u)){const e=this.parseJson(u);l=this.safeString(e,"orderId"),"trade"===h?f=this.safeString(e,"tradeId"):"transaction"===h&&(f=this.safeString(e,"txId"))}return{id:l,currency:r,account:void 0,referenceAccount:void 0,referenceId:f,status:void 0,amount:n,before:c,after:a,fee:s,direction:o,timestamp:d,datetime:this.iso8601(d),type:h,info:e}}parseLedgerEntryType(e){const t={Exchange:"trade",Withdrawal:"transaction",Deposit:"transaction",Transfer:"transfer"};return this.safeString(t,e,e)}async fetchPositions(e,t={}){const i=await this.futuresPrivateGetPositions(t);return this.safeValue(i,"data",i)}sign(e,t="public",i="GET",r={},s,n){const a=this.safeValue(this.options,"versions",{}),o=this.safeValue(a,t,{}),c=this.safeValue(o,i,{}),d=this.safeString(c,e,this.options["version"]),h=this.safeString(r,"version",d);r=this.omit(r,"version");let u="/api/"+h+"/"+this.implodeParams(e,r);const l=this.omit(r,this.extractParams(e));let f="";s=void 0!==s?s:{},Object.keys(l).length&&("GET"===i||"DELETE"===i?u+="?"+this.urlencode(l):(n=this.json(l),f=n,s["Content-Type"]="application/json"));const p=this.urls["api"][t]+u;if("private"===t||"futuresPrivate"===t){this.checkRequiredCredentials();const e=this.nonce().toString();s=this.extend({"KC-API-KEY-VERSION":"2","KC-API-KEY":this.apiKey,"KC-API-TIMESTAMP":e},s);const t=this.safeString(s,"KC-API-KEY-VERSION");if("2"===t){const e=this.hmac(this.encode(this.password),this.encode(this.secret),"sha256","base64");s["KC-API-PASSPHRASE"]=e}else s["KC-API-PASSPHRASE"]=this.password;const r=e+i+u+f,n=this.hmac(this.encode(r),this.encode(this.secret),"sha256","base64");s["KC-API-SIGN"]=n;const a=this.safeValue(this.options,"partner",{}),o=this.safeString(a,"id"),c=this.safeString(a,"secret");if(void 0!==o&&void 0!==c){const t=e+o+this.apiKey,i=this.hmac(this.encode(t),this.encode(c),"sha256","base64");s["KC-API-PARTNER-SIGN"]=i,s["KC-API-PARTNER"]=o}}return{url:p,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,n,a,o,c){if(!a)return void this.throwBroadlyMatchedException(this.exceptions["broad"],n,n);const d=this.safeString(a,"code"),h=this.safeString(a,"msg","");this.throwExactlyMatchedException(this.exceptions["exact"],h,this.id+" "+h),this.throwExactlyMatchedException(this.exceptions["exact"],d,this.id+" "+h)}}},f748:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},f772:function(e,t,i){var r=i("5692"),s=i("90e3"),n=r("keys");e.exports=function(e){return n[e]||(n[e]=s(e))}},f803:function(e,t,i){"use strict";const r=i("90db"),{ArgumentsRequired:s,ExchangeError:n,InvalidNonce:a,AuthenticationError:o,PermissionDenied:c}=i("74b0"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bit2c",name:"Bit2C",countries:["IL"],rateLimit:3e3,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",referral:"https://bit2c.co.il/Aff/63bfed10-e359-420c-ab5a-ad368dab0baf",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS",baseId:"Btc",quoteId:"Nis"},"ETH/NIS":{id:"EthNis",symbol:"ETH/NIS",base:"ETH",quote:"NIS",baseId:"Eth",quoteId:"Nis"},"BCH/NIS":{id:"BchabcNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS",baseId:"Bchabc",quoteId:"Nis"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS",baseId:"Ltc",quoteId:"Nis"},"ETC/NIS":{id:"EtcNis",symbol:"ETC/NIS",base:"ETC",quote:"NIS",baseId:"Etc",quoteId:"Nis"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS",baseId:"Btg",quoteId:"Nis"},"BSV/NIS":{id:"BchsvNis",symbol:"BSV/NIS",base:"BSV",quote:"NIS",baseId:"Bchsv",quoteId:"Nis"},"GRIN/NIS":{id:"GrinNis",symbol:"GRIN/NIS",base:"GRIN",quote:"NIS",baseId:"Grin",quoteId:"Nis"}},fees:{trading:{maker:.005,taker:.005}},options:{fetchTradesMethod:"public_get_exchanges_pair_trades"},exceptions:{exact:{"Please provide valid APIkey":o},broad:{"Please provide valid nonce":a,"please approve new terms of use on site":c}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalanceV2(e),i={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],n=this.account(),a=this.currencyId(e),o=a.toUpperCase();o in t&&(n["free"]=this.safeString(t,"AVAILABLE_"+o),n["total"]=this.safeString(t,o)),i[e]=n}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetExchangesPairOrderbook(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetExchangesPairTicker(this.extend(i,t)),s=this.milliseconds(),n=this.safeNumber(r,"av"),a=this.safeNumber(r,"a");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeNumber(r,"ll");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeNumber(r,"h"),bidVolume:void 0,ask:this.safeNumber(r,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:n,baseVolume:a,quoteVolume:o,info:r}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=this.options["fetchTradesMethod"],o={pair:s["id"]};void 0!==t&&(o["date"]=parseInt(t)),void 0!==i&&(o["limit"]=i);const c=await this[a](this.extend(o,r));if("string"===typeof c)throw new n(c);return this.parseTrades(c,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();let a="privatePostOrderAddOrder";const o={Amount:r,Pair:this.marketId(e)};"market"===t?a+="MarketPrice"+this.capitalize(i):(o["Price"]=s,o["Total"]=r*s,o["IsBid"]="buy"===i);const c=await this[a](this.extend(o,n));return{info:c,id:c["NewOrder"]["id"]}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostOrderCancelOrder(this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const n=this.market(e),a={pair:n["id"]},o=await this.privateGetOrderMyOrders(this.extend(a,r)),c=this.safeValue(o,n["id"],{}),d=this.safeValue(c,"ask",[]),h=this.safeValue(c,"bid",[]);return this.parseOrders(this.arrayConcat(d,h),n,t,i)}parseOrder(e,t){const i=this.safeInteger(e,"created"),r=this.safeNumber(e,"price"),s=this.safeNumber(e,"amount");let n=void 0;void 0!==t&&(n=t["symbol"]);let a=this.safeValue(e,"type");0===a?a="buy":1===a&&(a="sell");const o=this.safeString(e,"id"),c=this.safeString(e,"status");return this.safeOrder({id:o,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:c,symbol:n,type:void 0,timeInForce:void 0,postOnly:void 0,side:a,price:r,stopPrice:void 0,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const n={};void 0!==i&&(n["take"]=i),n["take"]=i,void 0!==t&&(n["toTime"]=this.ymd(this.milliseconds(),"."),n["fromTime"]=this.ymd(t,".")),void 0!==e&&(s=this.market(e),n["pair"]=s["id"]);const a=await this.privateGetOrderOrderHistory(this.extend(n,r));return this.parseTrades(a,s,t,i)}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,n=void 0,a=void 0,o=void 0,c=void 0;const h=this.safeString(e,"reference");if(void 0!==h){i=this.safeTimestamp(e,"ticks"),s=this.safeString(e,"price"),n=this.safeString(e,"firstAmount");const d=h.split("|");if(void 0===t){const i=this.safeString(e,"pair");i in this.markets_by_id[i]?t=this.markets_by_id[i]:d[0]in this.markets_by_id&&(t=this.markets_by_id[d[0]])}a=d[1],r=d[2],c=this.safeInteger(e,"action"),0===c?c="buy":1===c&&(c="sell"),o=this.safeNumber(e,"feeAmount")}else i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeString(e,"price"),n=this.safeString(e,"amount"),c=this.safeValue(e,"isBid"),void 0!==c&&(c=c?"buy":"sell");let u=void 0;void 0!==t&&(u=t["symbol"]);const l=this.parseNumber(s),f=this.parseNumber(n),p=this.parseNumber(d.stringMul(s,n));return{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:u,order:a,type:void 0,side:c,takerOrMaker:void 0,price:l,amount:f,cost:p,fee:{cost:o,currency:"NIS",rate:void 0}}}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r);if("public"===t)a+=".json";else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({nonce:e},r),o=this.urlencode(t);"GET"===i?Object.keys(t).length&&(a+="?"+o):n=o;const c=this.hmac(this.encode(o),this.encode(this.secret),"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:c}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"error");if(void 0!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],h,e),this.throwBroadlyMatchedException(this.exceptions["broad"],h,e),new n(e)}}}},f823:function(e,t,i){},f832:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,ArgumentsRequired:n,AuthenticationError:a,NullResponse:o,InvalidOrder:c,NotSupported:d,InsufficientFunds:h,InvalidNonce:u,OrderNotFound:l,RateLimitExceeded:f,DDoSProtection:p}=i("74b0"),m=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"],referral:"https://cex.io/r/0/up105393824/0/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_profile","currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/","raw_tx_history"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},exceptions:{exact:{},broad:{"Insufficient funds":h,"Nonce must be incremented":u,"Invalid Order":c,"Order not found":l,"limit exceeded":f,"Invalid API key":a,"There was an error while placing your order":c,"Sorry, too many clients already":p}},options:{fetchOHLCVWarning:!0,createMarketBuyOrderRequiresPrice:!0,order:{status:{c:"canceled",d:"closed",cd:"canceled",a:"open"}}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencyProfile(e);this.options["fetchCurrencies"]=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options["fetchCurrencies"],"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options["currencies"]={timestamp:this.milliseconds(),response:t};const i=this.safeValue(t,"data",[]),r=this.safeValue(i,"symbols",[]),s={};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"code"),i=this.safeCurrencyCode(t),a=this.safeInteger(e,"precision"),o=!0;s[i]={id:t,code:i,name:t,active:o,precision:a,fee:void 0,limits:{amount:{min:this.safeNumber(e,"minimumCurrencyAmount"),max:void 0},withdraw:{min:this.safeNumber(e,"minimalWithdrawalAmount"),max:void 0}},info:e}}return s}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"symbols",[]),s=this.indexBy(r,"code"),n=this.safeValue(i,"pairs",[]),a=await this.publicGetCurrencyLimits(e),o=[],c=this.safeValue(a["data"],"pairs");for(let d=0;d<c.length;d++){const e=c[d],t=this.safeString(e,"symbol1"),i=this.safeString(e,"symbol2"),r=t+"/"+i,a=this.safeCurrencyCode(t),h=this.safeCurrencyCode(i),u=a+"/"+h,l=this.safeValue(s,t,{}),f=this.safeValue(s,i,{});let p=this.safeInteger(f,"precision",8);for(let s=0;s<n.length;s++){const e=n[s];e["symbol1"]===t&&e["symbol2"]===i&&(p=this.safeInteger(e,"pricePrecision",p))}const m=this.safeInteger(l,"precision",8),g=this.safeInteger(l,"scale",0),y=m-g,v={amount:y,price:p};o.push({id:r,info:e,symbol:u,base:a,quote:h,baseId:t,quoteId:i,precision:v,limits:{amount:{min:this.safeNumber(e,"minLotSize"),max:this.safeNumber(e,"maxLotSize")},price:{min:this.safeNumber(e,"minPrice"),max:this.safeNumber(e,"maxPrice")},cost:{min:this.safeNumber(e,"minLotSizeS2"),max:void 0}},active:void 0})}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=["username","timestamp"],s=this.omit(t,r),n=Object.keys(s);for(let a=0;a<n.length;a++){const e=n[a],t=this.safeValue(s,e,{}),r=this.account();r["free"]=this.safeString(t,"available"),r["used"]=this.safeString(t,"orders","0");const o=this.safeCurrencyCode(e);i[o]=r}return this.parseBalance(i,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)};void 0!==t&&(r["depth"]=t);const s=await this.publicGetOrderBookPair(this.extend(r,i)),n=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,n)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,n={}){await this.loadMarkets();const a=this.market(e);if(void 0===i)i=this.milliseconds()-864e5;else if(this.options["fetchOHLCVWarning"])throw new s(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");let c=this.ymd(i);c=c.split("-"),c=c.join("");const d={pair:a["id"],yyyymmdd:c};try{const e=await this.publicGetOhlcvHdYyyymmddPair(this.extend(d,n)),s="data"+this.timeframes[t],o=this.safeString(e,s),c=JSON.parse(o);return this.parseOHLCVs(c,a,t,i,r)}catch(h){if(h instanceof o)return[]}}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeNumber(e,"volume"),s=this.safeNumber(e,"high"),n=this.safeNumber(e,"low"),a=this.safeNumber(e,"bid"),o=this.safeNumber(e,"ask"),c=this.safeNumber(e,"last");let d=void 0;return t&&(d=t["symbol"]),{symbol:d,timestamp:i,datetime:this.iso8601(i),high:s,low:n,bid:a,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r,quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=Object.keys(this.currencies),r={currencies:i.join("/")},s=await this.publicGetTickersCurrencies(this.extend(r,t)),n=s["data"],a={};for(let o=0;o<n.length;o++){const e=n[o],t=e["pair"].replace(":","/"),i=this.markets[t];a[t]=this.parseTicker(e,i)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},s=await this.publicGetTickerPair(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=void 0,n=this.safeString(e,"type"),a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),d=this.parseNumber(o),h=this.parseNumber(m.stringMul(a,o));let u=void 0;return void 0!==t&&(u=t["symbol"]),{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:u,type:s,side:n,order:void 0,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]},a=await this.publicGetTradeHistoryPair(this.extend(n,r));return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,n={}){if("market"===t&&"buy"===i&&this.options["createMarketBuyOrderRequiresPrice"]){if(void 0===s)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r*=s}await this.loadMarkets();const a={pair:this.marketId(e),type:i,amount:r};"limit"===t?a["price"]=s:a["order_type"]=t;const o=await this.privatePostPlaceOrderPair(this.extend(a,n)),d=this.safeNumber(o,"amount"),h=this.safeNumber(o,"pending"),u=this.safeValue(o,"time"),l=this.safeValue(o,"complete"),f=l?"closed":"open";let p=void 0;return void 0!==d&&void 0!==h&&(p=Math.max(d-h,0)),{id:this.safeString(o,"id"),info:o,clientOrderId:void 0,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,type:t,side:this.safeString(o,"type"),symbol:e,status:f,price:this.safeNumber(o,"price"),amount:d,cost:void 0,average:void 0,remaining:h,filled:p,fee:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrder(e,t){let i=this.safeValue(e,"time");i="string"===typeof i&&i.indexOf("T")>=0?this.parse8601(i):parseInt(i);let r=void 0;if(void 0===t){const i=this.safeString(e,"symbol1"),s=this.safeString(e,"symbol2"),n=this.safeCurrencyCode(i),a=this.safeCurrencyCode(s);r=n+"/"+a,r in this.markets&&(t=this.market(r))}const s=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeNumber(e,"price");let a=this.safeNumber(e,"amount");void 0!==a&&(a=Math.abs(a));const o=this.safeNumber2(e,"pending","remains"),c=a-o;let d=void 0,h=void 0;if(void 0!==t){r=t["symbol"];const i=this.safeNumber(e,"ta:"+t["quote"]),s=this.safeNumber(e,"tta:"+t["quote"]);h=this.sum(i,s);const n="fa:"+t["base"],a="tfa:"+t["base"],o="fa:"+t["quote"],c="tfa:"+t["quote"];let u=this.safeNumber(e,"tradingFeeMaker");if(u||(u=this.safeNumber(e,"tradingFeeTaker",u)),u&&(u/=100),n in e||a in e){const i=this.safeNumber2(e,n,a);d={currency:t["base"],rate:u,cost:i}}else if(o in e||c in e){const i=this.safeNumber2(e,o,c);d={currency:t["quote"],rate:u,cost:i}}}h||(h=n*c);const u=e["type"];let l=void 0;const f=e["id"];if("vtx"in e){l=[];for(let i=0;i<e["vtx"].length;i++){const s=e["vtx"][i],n=this.safeString(s,"type");if("cancel"===n)continue;const a=this.safeNumber(s,"price");if(void 0===a)continue;if("costsNothing"===n)continue;const o=this.parse8601(this.safeString(s,"time")),c=this.safeNumber(s,"amount"),d=this.safeNumber(s,"fee_amount");let h=c<0?-c:c,u=void 0;"sell"===n?(u=h,h=this.sum(d,u)/a):u=h*a,l.push({id:this.safeString(s,"id"),timestamp:o,datetime:this.iso8601(o),order:f,symbol:r,price:a,amount:h,cost:u,side:n,fee:{cost:d,currency:t["quote"]},info:s,type:void 0,takerOrMaker:void 0})}}return{id:f,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:s,symbol:r,type:void 0===n?"market":"limit",timeInForce:void 0,postOnly:void 0,side:u,price:n,stopPrice:void 0,cost:h,amount:a,filled:c,remaining:o,trades:l,fee:d,info:e,average:void 0}}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let n="privatePostOpenOrders",a=void 0;void 0!==e&&(a=this.market(e),s["pair"]=a["id"],n+="Pair");const o=await this[n](this.extend(s,r));for(let c=0;c<o.length;c++)o[c]=this.extend(o[c],{status:"open"});return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s="privatePostArchivedOrdersPair";if(void 0===e)throw new n(this.id+" fetchClosedOrders() requires a symbol argument");const a=this.market(e),o={pair:a["id"]},c=await this[s](this.extend(o,r));return this.parseOrders(c,a,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e.toString()},s=await this.privatePostGetOrderTx(this.extend(r,i)),n=this.safeValue(s,"data",{});return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={limit:i,pair:s["id"],dateFrom:t},a=await this.privatePostArchivedOrdersPair(this.extend(n,r)),o=[];for(let c=0;c<a.length;c++){const e=a[c],t=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeString(e,"symbol1"),r=this.safeString(e,"symbol2"),s=this.safeCurrencyCode(i),n=this.safeCurrencyCode(r),d=s+"/"+n,h=this.safeString(e,"type"),u=this.safeNumber(e,"a:"+i+":cds"),l=this.safeNumber(e,"a:"+r+":cds"),f=this.safeNumber(e,"f:"+r+":cds"),p=this.safeNumber(e,"amount"),m=this.safeNumber(e,"price"),g=this.safeNumber(e,"remains"),y=p-g;let v=void 0,b=void 0,w=void 0,S=void 0;if(m){const t=this.safeNumber(e,"ta:"+r,0),i=this.safeNumber(e,"tta:"+r,0),s=this.safeNumber(e,"fa:"+r,0),n=this.safeNumber(e,"tfa:"+r,0);b="sell"===h?this.sum(this.sum(t,i),this.sum(s,n)):this.sum(t,i)-this.sum(s,n),S="limit",v=p,w=b/y}else S="market",v=u,b=l,w=v/b;const k=this.safeString(e,"time"),_=this.safeString(e,"lastTxTime"),O=this.parse8601(k);o.push({id:this.safeString(e,"id"),timestamp:O,datetime:this.iso8601(O),lastUpdated:this.parse8601(_),status:t,symbol:d,side:h,price:m,amount:v,average:w,type:S,filled:y,cost:b,remaining:g,fee:{cost:f,currency:n},info:e})}return o}parseOrderStatus(e){return this.safeString(this.options["order"]["status"],e,e)}async editOrder(e,t,i,r,s,a,o={}){if(void 0===s)throw new n(this.id+" editOrder() requires a amount argument");if(void 0===a)throw new n(this.id+" editOrder() requires a price argument");await this.loadMarkets();const c=this.market(t),d={pair:c["id"],type:r,amount:s,price:a,order_id:e},h=await this.privatePostCancelReplaceOrderPair(this.extend(d,o));return this.parseOrder(h,c)}async fetchDepositAddress(e,t={}){if("XRP"===e||"XLM"===e)throw new d(this.id+" fetchDepositAddress does not support XRP and XLM addresses yet (awaiting docs from CEX.io)");await this.loadMarkets();const i=this.currency(e),r={currency:i["id"]},s=await this.privatePostGetAddress(this.extend(r,t)),n=this.safeString(s,"data");return this.checkAddress(n),{currency:e,address:n,tag:void 0,info:s}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));n=this.json(this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o)),s={"Content-Type":"application/json"}}return{url:a,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,c,d,h){if(Array.isArray(c))return c;if("true"!==a){if(void 0===c)throw new o(this.id+" returned "+this.json(c));if((!("e"in c)||!("ok"in c)||"ok"!==c["ok"])&&"error"in c){const e=this.safeString(c,"error"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions["exact"],e,t),this.throwBroadlyMatchedException(this.exceptions["broad"],e,t),new s(t)}}}}},f937:function(e,t,i){var r=i("5a7c"),s=r((function(e,t){return null==t||t!==t?e:t}));e.exports=s},f963:function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=Object.create(null));var i=Object.keys(e).map((function(t){return[t,e[t]]})).map((function(e){var i=e[0],r=e[1];return[i,Object.prototype.hasOwnProperty.call(t,i)?t[i](r):r]})).filter((function(e){e[0];var t=e[1];return null!=t})).map((function(e){var t=e[0],i=e[1];return t+"="+i})).join("&");return i.length?"?"+i:""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},f9ee:function(e,t,i){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i("abf9"),n=i("56b8"),a=r(i("fb58f")),o=r(i("c7e6"));i("46e8");var c=r(i("bb3e")),d=i("fe34");t._hashChain=function(e){return s._fromIn(t.keccak(t.blake2b(s._fromIn(e))))},t.sha256=function(e){var t=o.algorithms.sha256.create();return t.update(d.bytesToString(e,"raw")),d.stringToBytes(t.digest().getBytes(),"raw")},t.blake2b=function(e){return c.blake2b(s._fromIn(e),null,32)},t.keccak=function(e){return s._fromIn(n.keccak256.array(s._fromIn(e)))},t.hmacSHA256=function(e,t){var i=a.create();return i.start("sha256",d.bytesToString(s._fromIn(t),"raw")),i.update(d.bytesToString(s._fromIn(e),"raw")),d.stringToBytes(i.digest().getBytes(),"raw")}},fa07:function(e,t){function i(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}e.exports=i},faa1:function(e,t,i){"use strict";var r,s="object"===typeof Reflect?Reflect:null,n=s&&"function"===typeof s.apply?s.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};function a(e){console&&console.warn&&console.warn(e)}r=s&&"function"===typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function h(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function l(e,t,i,r){var s,n,o;if(h(i),n=e._events,void 0===n?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),n=e._events),o=n[t]),void 0===o)o=n[t]=i,++e._eventsCount;else if("function"===typeof o?o=n[t]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),s=u(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},s=f.bind(r);return s.listener=i,r.wrapFn=s,s}function m(e,t,i){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"===typeof s?i?[s.listener||s]:[s]:i?b(s):y(s,s.length)}function g(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function y(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function v(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function w(e,t){return new Promise((function(i,r){function s(i){e.removeListener(t,n),r(i)}function n(){"function"===typeof e.removeListener&&e.removeListener("error",s),i([].slice.call(arguments))}k(e,t,n,{once:!0}),"error"!==t&&S(e,s,{once:!0})}))}function S(e,t,i){"function"===typeof e.on&&k(e,"error",t,i)}function k(e,t,i,r){if("function"===typeof e.on)r.once?e.once(t,i):e.on(t,i);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(n){r.once&&e.removeEventListener(t,s),i(n)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var d=c.length,h=y(c,d);for(i=0;i<d;++i)n(h[i],this,t)}return!0},c.prototype.addListener=function(e,t){return l(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return l(this,e,t,!0)},c.prototype.once=function(e,t){return h(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var i,r,s,n,a;if(h(t),r=this._events,void 0===r)return this;if(i=r[e],void 0===i)return this;if(i===t||i.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!==typeof i){for(s=-1,n=i.length-1;n>=0;n--)if(i[n]===t||i[n].listener===t){a=i[n].listener,s=n;break}if(s<0)return this;0===s?i.shift():v(i,s),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,i,r;if(i=this._events,void 0===i)return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var s,n=Object.keys(i);for(r=0;r<n.length;++r)s=n[r],"removeListener"!==s&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return m(this,e,!0)},c.prototype.rawListeners=function(e){return m(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},faff:function(e,t,i){var r=i("dae8"),s=i("5a7c"),n=s(r);e.exports=n},fb3e:function(e,t,i){var r=i("5259");i("6497"),i("deb0");var s=e.exports=r.asn1=r.asn1||{};function n(e,t,i){if(i>t){var r=new Error("Too few bytes to parse DER.");throw r.available=e.length(),r.remaining=t,r.requested=i,r}}s.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},s.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},s.create=function(e,t,i,n,a){if(r.util.isArray(n)){for(var o=[],c=0;c<n.length;++c)void 0!==n[c]&&o.push(n[c]);n=o}var d={tagClass:e,type:t,constructed:i,composed:i||r.util.isArray(n),value:n};return a&&"bitStringContents"in a&&(d.bitStringContents=a.bitStringContents,d.original=s.copy(d)),d},s.copy=function(e,t){var i;if(r.util.isArray(e)){i=[];for(var n=0;n<e.length;++n)i.push(s.copy(e[n],t));return i}return"string"===typeof e?e:(i={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:s.copy(e.value,t)},t&&!t.excludeBitStringContents&&(i.bitStringContents=e.bitStringContents),i)},s.equals=function(e,t,i){if(r.util.isArray(e)){if(!r.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!s.equals(e[n],t[n]))return!1;return!0}if(typeof e!==typeof t)return!1;if("string"===typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&s.equals(e.value,t.value);return i&&i.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},s.getBerValueLength=function(e){var t=e.getByte();if(128!==t){var i,r=128&t;return i=r?e.getInt((127&t)<<3):t,i}};var a=function(e,t){var i=e.getByte();if(t--,128!==i){var r,s=128&i;if(s){var a=127&i;n(e,t,a),r=e.getInt(a<<3)}else r=i;if(r<0)throw new Error("Negative length: "+r);return r}};function o(e,t,i,r){var c;n(e,t,2);var d=e.getByte();t--;var h=192&d,u=31&d;c=e.length();var l,f,p=a(e,t);if(t-=c-e.length(),void 0!==p&&p>t){if(r.strict){var m=new Error("Too few bytes to read ASN.1 value.");throw m.available=e.length(),m.remaining=t,m.requested=p,m}p=t}var g=32===(32&d);if(g)if(l=[],void 0===p)for(;;){if(n(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}c=e.length(),l.push(o(e,t,i+1,r)),t-=c-e.length()}else while(p>0)c=e.length(),l.push(o(e,p,i+1,r)),t-=c-e.length(),p-=c-e.length();if(void 0===l&&h===s.Class.UNIVERSAL&&u===s.Type.BITSTRING&&(f=e.bytes(p)),void 0===l&&r.decodeBitStrings&&h===s.Class.UNIVERSAL&&u===s.Type.BITSTRING&&p>1){var y=e.read,v=t,b=0;if(u===s.Type.BITSTRING&&(n(e,t,1),b=e.getByte(),t--),0===b)try{c=e.length();var w={verbose:r.verbose,strict:!0,decodeBitStrings:!0},S=o(e,t,i+1,w),k=c-e.length();t-=k,u==s.Type.BITSTRING&&k++;var _=S.tagClass;k!==p||_!==s.Class.UNIVERSAL&&_!==s.Class.CONTEXT_SPECIFIC||(l=[S])}catch(T){}void 0===l&&(e.read=y,t=v)}if(void 0===l){if(void 0===p){if(r.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=t}if(u===s.Type.BMPSTRING)for(l="";p>0;p-=2)n(e,t,2),l+=String.fromCharCode(e.getInt16()),t-=2;else l=e.getBytes(p)}var O=void 0===f?null:{bitStringContents:f};return s.create(h,u,g,l,O)}s.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"===typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"===typeof e&&(e=r.util.createBuffer(e)),o(e,e.length(),0,t)},s.toDer=function(e){var t=r.util.createBuffer(),i=e.tagClass|e.type,n=r.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=s.equals(e,e.original))),a)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?i|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&n.putBuffer(s.toDer(e.value[o]))}else if(e.type===s.Type.BMPSTRING)for(o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===s.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0===(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128===(128&e.value.charCodeAt(1)))?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(i),n.length()<=127)t.putByte(127&n.length());else{var c=n.length(),d="";do{d+=String.fromCharCode(255&c),c>>>=8}while(c>0);t.putByte(128|d.length);for(o=d.length-1;o>=0;--o)t.putByte(d.charCodeAt(o))}return t.putBuffer(n),t},s.oidToDer=function(e){var t,i,s,n,a=e.split("."),o=r.util.createBuffer();o.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var c=2;c<a.length;++c){t=!0,i=[],s=parseInt(a[c],10);do{n=127&s,s>>>=7,t||(n|=128),i.push(n),t=!1}while(s>0);for(var d=i.length-1;d>=0;--d)o.putByte(i[d])}return o},s.derToOid=function(e){var t;"string"===typeof e&&(e=r.util.createBuffer(e));var i=e.getByte();t=Math.floor(i/40)+"."+i%40;var s=0;while(e.length()>0)i=e.getByte(),s<<=7,128&i?s+=127&i:(t+="."+(s+i),s=0);return t},s.utcTimeToDate=function(e){var t=new Date,i=parseInt(e.substr(0,2),10);i=i>=50?1900+i:2e3+i;var r=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),n=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),d=10;"+"!==c&&"-"!==c&&(o=parseInt(e.substr(10,2),10),d+=2)}if(t.setUTCFullYear(i,r,s),t.setUTCHours(n,a,o,0),d&&(c=e.charAt(d),"+"===c||"-"===c)){var h=parseInt(e.substr(d+1,2),10),u=parseInt(e.substr(d+4,2),10),l=60*h+u;l*=6e4,"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t},s.generalizedTimeToDate=function(e){var t=new Date,i=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),n=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,d=0,h=!1;"Z"===e.charAt(e.length-1)&&(h=!0);var u=e.length-5,l=e.charAt(u);if("+"===l||"-"===l){var f=parseInt(e.substr(u+1,2),10),p=parseInt(e.substr(u+4,2),10);d=60*f+p,d*=6e4,"+"===l&&(d*=-1),h=!0}return"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),h?(t.setUTCFullYear(i,r,s),t.setUTCHours(n,a,o,c),t.setTime(+t+d)):(t.setFullYear(i,r,s),t.setHours(n,a,o,c)),t},s.dateToUtcTime=function(e){if("string"===typeof e)return e;var t="",i=[];i.push((""+e.getUTCFullYear()).substr(2)),i.push(""+(e.getUTCMonth()+1)),i.push(""+e.getUTCDate()),i.push(""+e.getUTCHours()),i.push(""+e.getUTCMinutes()),i.push(""+e.getUTCSeconds());for(var r=0;r<i.length;++r)i[r].length<2&&(t+="0"),t+=i[r];return t+="Z",t},s.dateToGeneralizedTime=function(e){if("string"===typeof e)return e;var t="",i=[];i.push(""+e.getUTCFullYear()),i.push(""+(e.getUTCMonth()+1)),i.push(""+e.getUTCDate()),i.push(""+e.getUTCHours()),i.push(""+e.getUTCMinutes()),i.push(""+e.getUTCSeconds());for(var r=0;r<i.length;++r)i[r].length<2&&(t+="0"),t+=i[r];return t+="Z",t},s.integerToDer=function(e){var t=r.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var i=new Error("Integer too large; max is 32-bits.");throw i.integer=e,i},s.derToInteger=function(e){"string"===typeof e&&(e=r.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},s.validate=function(e,t,i,n){var a=!1;if(e.tagClass!==t.tagClass&&"undefined"!==typeof t.tagClass||e.type!==t.type&&"undefined"!==typeof t.type)n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||"undefined"===typeof t.constructed){if(a=!0,t.value&&r.util.isArray(t.value))for(var o=0,c=0;a&&c<t.value.length;++c)a=t.value[c].optional||!1,e.value[o]&&(a=s.validate(e.value[o],t.value[c],i,n),a?++o:t.value[c].optional&&(a=!0)),!a&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&i)if(t.capture&&(i[t.capture]=e.value),t.captureAsn1&&(i[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(i[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)i[t.captureBitStringValue]="";else{var d=e.bitStringContents.charCodeAt(0);if(0!==d)throw new Error("captureBitStringValue only supported for zero unused bits");i[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var c=/[^\\u0000-\\u00ff]/;s.prettyPrint=function(e,t,i){var n="";t=t||0,i=i||2,t>0&&(n+="\n");for(var a="",o=0;o<t*i;++o)a+=" ";switch(n+=a+"Tag: ",e.tagClass){case s.Class.UNIVERSAL:n+="Universal:";break;case s.Class.APPLICATION:n+="Application:";break;case s.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case s.Class.PRIVATE:n+="Private:";break}if(e.tagClass===s.Class.UNIVERSAL)switch(n+=e.type,e.type){case s.Type.NONE:n+=" (None)";break;case s.Type.BOOLEAN:n+=" (Boolean)";break;case s.Type.INTEGER:n+=" (Integer)";break;case s.Type.BITSTRING:n+=" (Bit string)";break;case s.Type.OCTETSTRING:n+=" (Octet string)";break;case s.Type.NULL:n+=" (Null)";break;case s.Type.OID:n+=" (Object Identifier)";break;case s.Type.ODESC:n+=" (Object Descriptor)";break;case s.Type.EXTERNAL:n+=" (External or Instance of)";break;case s.Type.REAL:n+=" (Real)";break;case s.Type.ENUMERATED:n+=" (Enumerated)";break;case s.Type.EMBEDDED:n+=" (Embedded PDV)";break;case s.Type.UTF8:n+=" (UTF8)";break;case s.Type.ROID:n+=" (Relative Object Identifier)";break;case s.Type.SEQUENCE:n+=" (Sequence)";break;case s.Type.SET:n+=" (Set)";break;case s.Type.PRINTABLESTRING:n+=" (Printable String)";break;case s.Type.IA5String:n+=" (IA5String (ASCII))";break;case s.Type.UTCTIME:n+=" (UTC time)";break;case s.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case s.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+="\n",n+=a+"Constructed: "+e.constructed+"\n",e.composed){var d=0,h="";for(o=0;o<e.value.length;++o)void 0!==e.value[o]&&(d+=1,h+=s.prettyPrint(e.value[o],t+1,i),o+1<e.value.length&&(h+=","));n+=a+"Sub values: "+d+h}else{if(n+=a+"Value: ",e.type===s.Type.OID){var u=s.derToOid(e.value);n+=u,r.pki&&r.pki.oids&&u in r.pki.oids&&(n+=" ("+r.pki.oids[u]+") ")}if(e.type===s.Type.INTEGER)try{n+=s.derToInteger(e.value)}catch(f){n+="0x"+r.util.bytesToHex(e.value)}else if(e.type===s.Type.BITSTRING){if(e.value.length>1?n+="0x"+r.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var l=e.value.charCodeAt(0);1==l?n+=" (1 unused bit shown)":l>1&&(n+=" ("+l+" unused bits shown)")}}else e.type===s.Type.OCTETSTRING?(c.test(e.value)||(n+="("+e.value+") "),n+="0x"+r.util.bytesToHex(e.value)):e.type===s.Type.UTF8?n+=r.util.decodeUtf8(e.value):e.type===s.Type.PRINTABLESTRING||e.type===s.Type.IA5String?n+=e.value:c.test(e.value)?n+="0x"+r.util.bytesToHex(e.value):0===e.value.length?n+="[null]":n+=e.value}return n}},fb58:function(e,t,i){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),r(i("b1a8")),r(i("aa3f")),r(i("c9b5")),r(i("8e94")),r(i("9c4b")),r(i("6783"))},fb58f:function(e,t,i){var r=i("5259");i("c7e6"),i("6497");var s=e.exports=r.hmac=r.hmac||{};s.create=function(){var e=null,t=null,i=null,s=null,n={start:function(n,a){if(null!==n)if("string"===typeof n){if(n=n.toLowerCase(),!(n in r.md.algorithms))throw new Error('Unknown hash algorithm "'+n+'"');t=r.md.algorithms[n].create()}else t=n;if(null===a)a=e;else{if("string"===typeof a)a=r.util.createBuffer(a);else if(r.util.isArray(a)){var o=a;a=r.util.createBuffer();for(var c=0;c<o.length;++c)a.putByte(o[c])}var d=a.length();d>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),i=r.util.createBuffer(),s=r.util.createBuffer(),d=a.length();for(c=0;c<d;++c){o=a.at(c);i.putByte(54^o),s.putByte(92^o)}if(d<t.blockLength)for(o=t.blockLength-d,c=0;c<o;++c)i.putByte(54),s.putByte(92);e=a,i=i.bytes(),s=s.bytes()}t.start(),t.update(i)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(s),t.update(e),t.digest()}};return n.digest=n.getMac,n}},fb6a:function(e,t,i){"use strict";var r=i("23e7"),s=i("861d"),n=i("e8b5"),a=i("23cb"),o=i("50c4"),c=i("fc6a"),d=i("8418"),h=i("b622"),u=i("1dde"),l=u("slice"),f=h("species"),p=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!l},{slice:function(e,t){var i,r,h,u=c(this),l=o(u.length),g=a(e,l),y=a(void 0===t?l:t,l);if(n(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?s(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return p.call(u,g,y);for(r=new(void 0===i?Array:i)(m(y-g,0)),h=0;g<y;g++,h++)g in u&&d(r,h,u[g]);return r.length=h,r}})},fbb0:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return n}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},r(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var n=function(){return n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};Object.create;Object.create},fc50:function(e,t,i){"use strict";(function(r,s){Object.defineProperty(t,"__esModule",{value:!0});const n=Symbol("buffer"),a=Symbol("type");class o{constructor(){this[a]="";const e=arguments[0],t=arguments[1],i=[];if(e){const t=e,s=Number(t.length);for(let e=0;e<s;e++){const s=t[e];let a;a=s instanceof r?s:ArrayBuffer.isView(s)?r.from(s.buffer,s.byteOffset,s.byteLength):s instanceof ArrayBuffer?r.from(s):s instanceof o?s[n]:r.from("string"===typeof s?s:String(s)),i.push(a)}}this[n]=r.concat(i);let s=t&&void 0!==t.type&&String(t.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[a]=s)}get size(){return this[n].length}get type(){return this[a]}slice(){const e=this.size,t=arguments[0],i=arguments[1];let r,s;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),s=void 0===i?e:i<0?Math.max(e+i,0):Math.min(i,e);const a=Math.max(s-r,0),c=this[n],d=c.slice(r,r+a),h=new o([],{type:arguments[2]});return h[n]=d,h}}function c(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="FetchError";const d=i("d485");var h=i("d485");const u=h.PassThrough,l=Symbol("Body internals");function f(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.size;let n=void 0===s?0:s;var a=i.timeout;let h=void 0===a?0:a;null==e?e=null:"string"===typeof e||g(e)||e instanceof o||r.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||e instanceof d||(e=String(e)),this[l]={body:e,disturbed:!1,error:null},this.size=n,this.timeout=h,e instanceof d&&e.on("error",(function(e){t[l].error=new c(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e)}))}function p(){var e=this;if(this[l].disturbed)return f.Promise.reject(new TypeError("body used already for: "+this.url));if(this[l].disturbed=!0,this[l].error)return f.Promise.reject(this[l].error);if(null===this.body)return f.Promise.resolve(r.alloc(0));if("string"===typeof this.body)return f.Promise.resolve(r.from(this.body));if(this.body instanceof o)return f.Promise.resolve(this.body[n]);if(r.isBuffer(this.body))return f.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return f.Promise.resolve(r.from(this.body));if(!(this.body instanceof d))return f.Promise.resolve(r.alloc(0));let t=[],i=0,s=!1;return new f.Promise((function(n,a){let o;e.timeout&&(o=setTimeout((function(){s=!0,a(new c(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),e.body.on("error",(function(t){a(new c(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),e.body.on("data",(function(r){if(!s&&null!==r){if(e.size&&i+r.length>e.size)return s=!0,void a(new c(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=r.length,t.push(r)}})),e.body.on("end",(function(){if(!s){clearTimeout(o);try{n(r.concat(t))}catch(i){a(new c(`Could not create Buffer from response body for ${e.url}: ${i.message}`,"system",i))}}}))}))}function m(e,t){if("function"!==typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");const i=t.get("content-type");let r,s,n="utf-8";return i&&(r=/charset=([^;]*)/i.exec(i)),s=e.slice(0,1024).toString(),!r&&s&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!r&&s&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),r&&(r=/charset=(.*)/i.exec(r.pop()))),!r&&s&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),r&&(n=r.pop(),"gb2312"!==n&&"gbk"!==n||(n="gb18030")),convert(e,"UTF-8",n).toString()}function g(e){return"object"===typeof e&&"function"===typeof e.append&&"function"===typeof e.delete&&"function"===typeof e.get&&"function"===typeof e.getAll&&"function"===typeof e.has&&"function"===typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"===typeof e.sort)}function y(e){let t,i,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof d&&"function"!==typeof r.getBoundary&&(t=new u,i=new u,r.pipe(t),r.pipe(i),e[l].body=t,r=i),r}function v(e){const t=e.body;return null===t?null:"string"===typeof t?"text/plain;charset=UTF-8":g(t)?"application/x-www-form-urlencoded;charset=UTF-8":t instanceof o?t.type||null:r.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:"function"===typeof t.getBoundary?"multipart/form-data;boundary="+t.getBoundary():null}function b(e){const t=e.body;return null===t?0:"string"===typeof t?r.byteLength(t):g(t)?r.byteLength(String(t)):t instanceof o?t.size:r.isBuffer(t)?t.length:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?t.byteLength:t&&"function"===typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function w(e,t){const i=t.body;null===i?e.end():"string"===typeof i?(e.write(i),e.end()):g(i)?(e.write(r.from(String(i))),e.end()):i instanceof o?(e.write(i[n]),e.end()):r.isBuffer(i)?(e.write(i),e.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(i)?(e.write(r.from(i)),e.end()):i.pipe(e)}f.prototype={get body(){return this[l].body},get bodyUsed(){return this[l].disturbed},arrayBuffer(){return p.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return p.call(this).then((function(t){return Object.assign(new o([],{type:e.toLowerCase()}),{[n]:t})}))},json(){var e=this;return p.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(i){return f.Promise.reject(new c(`invalid json response body at ${e.url} reason: ${i.message}`,"invalid-json"))}}))},text(){return p.call(this).then((function(e){return e.toString()}))},buffer(){return p.call(this)},textConverted(){var e=this;return p.call(this).then((function(t){return m(t,e.headers)}))}},Object.defineProperties(f.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),f.mixIn=function(e){for(const t of Object.getOwnPropertyNames(f.prototype))if(!(t in e)){const i=Object.getOwnPropertyDescriptor(f.prototype,t);Object.defineProperty(e,t,i)}},f.Promise=s.Promise;const S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,k=/[^\t\x20-\x7e\x80-\xff]/;function _(e){if(e=""+e,S.test(e))throw new TypeError(e+" is not a legal HTTP header name")}function O(e){if(e=""+e,k.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function T(e,t){t=t.toLowerCase();for(const i in e)if(i.toLowerCase()===t)return i}const C=Symbol("map");class I{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[C]=Object.create(null),e instanceof I){const t=e.raw(),i=Object.keys(t);for(const e of i)for(const i of t[e])this.append(e,i)}else if(null==e);else{if("object"!==typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!==typeof t)throw new TypeError("Header pairs must be iterable");const i=[];for(const t of e){if("object"!==typeof t||"function"!==typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(const e of i){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const i of Object.keys(e)){const t=e[i];this.append(i,t)}}}}get(e){e=""+e,_(e);const t=T(this[C],e);return void 0===t?null:this[C][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=x(this),r=0;while(r<i.length){var s=i[r];const n=s[0],a=s[1];e.call(t,a,n,this),i=x(this),r++}}set(e,t){e=""+e,t=""+t,_(e),O(t);const i=T(this[C],e);this[C][void 0!==i?i:e]=[t]}append(e,t){e=""+e,t=""+t,_(e),O(t);const i=T(this[C],e);void 0!==i?this[C][i].push(t):this[C][e]=[t]}has(e){return e=""+e,_(e),void 0!==T(this[C],e)}delete(e){e=""+e,_(e);const t=T(this[C],e);void 0!==t&&delete this[C][t]}raw(){return this[C]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const i=Object.keys(e[C]).sort();return i.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[C][t].join(", ")}:function(t){return[t.toLowerCase(),e[C][t].join(", ")]})}I.prototype.entries=I.prototype[Symbol.iterator],Object.defineProperty(I.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(I.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const E=Symbol("internal");function A(e,t){const i=Object.create(N);return i[E]={target:e,kind:t,index:0},i}const N=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==N)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[E];const t=e.target,i=e.kind,r=e.index,s=x(t,i),n=s.length;return r>=n?{value:void 0,done:!0}:(this[E].index=r+1,{value:s[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function M(e){const t=Object.assign({__proto__:null},e[C]),i=T(e[C],"Host");return void 0!==i&&(t[i]=t[i][0]),t}function P(e){const t=new I;for(const i of Object.keys(e))if(!S.test(i))if(Array.isArray(e[i]))for(const r of e[i])k.test(r)||(void 0===t[C][i]?t[C][i]=[r]:t[C][i].push(r));else k.test(e[i])||(t[C][i]=[e[i]]);return t}Object.defineProperty(N,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});var B=i("9490");const R=B.STATUS_CODES,D=Symbol("Response internals");class L{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.call(this,e,t);const i=t.status||200;this[D]={url:t.url,status:i,statusText:t.statusText||R[i],headers:new I(t.headers)}}get url(){return this[D].url}get status(){return this[D].status}get ok(){return this[D].status>=200&&this[D].status<300}get statusText(){return this[D].statusText}get headers(){return this[D].headers}clone(){return new L(y(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}f.mixIn(L.prototype),Object.defineProperties(L.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(L.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var V=i("0b16");const j=V.format,q=V.parse,U=Symbol("Request internals");function G(e){return"object"===typeof e&&"object"===typeof e[U]}class F{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G(e)?t=q(e.url):(t=e&&e.href?q(e.href):q(""+e),e={});let r=i.method||e.method||"GET";if(r=r.toUpperCase(),(null!=i.body||G(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let s=null!=i.body?i.body:G(e)&&null!==e.body?y(e):null;f.call(this,s,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});const n=new I(i.headers||e.headers||{});if(null!=i.body){const e=v(this);null===e||n.has("Content-Type")||n.append("Content-Type",e)}this[U]={method:r,redirect:i.redirect||e.redirect||"follow",headers:n,parsedURL:t},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[U].method}get url(){return j(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}clone(){return new F(this)}}function H(e){const t=e[U].parsedURL,i=new I(e[U].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=b(e);"number"===typeof t&&(r=String(t))}return r&&i.set("Content-Length",r),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&i.set("Accept-Encoding","gzip,deflate"),i.has("Connection")||e.agent||i.set("Connection","close"),Object.assign({},t,{method:e.method,headers:M(i),agent:e.agent})}f.mixIn(F.prototype),Object.defineProperty(F.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(F.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});const z=i("9490"),K=i("24f8");var W=i("d485");const $=W.PassThrough;var Y=i("0b16");const X=Y.resolve,Q=i("470b");function Z(e,t){if(!Z.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return f.Promise=Z.Promise,new Z.Promise((function(i,r){const s=new F(e,t),n=H(s),a=("https:"===n.protocol?K:z).request,o=a(n);let d;function h(){o.abort(),clearTimeout(d)}s.timeout&&o.once("socket",(function(e){d=setTimeout((function(){r(new c("network timeout at: "+s.url,"request-timeout")),h()}),s.timeout)})),o.on("error",(function(e){r(new c(`request to ${s.url} failed, reason: ${e.message}`,"system",e)),h()})),o.on("response",(function(e){clearTimeout(d);const t=P(e.headers);if(Z.isRedirect(e.statusCode)){const n=t.get("Location"),a=null===n?null:X(s.url,n);switch(s.redirect){case"error":return r(new c("redirect mode is set to error: "+s.url,"no-redirect")),void h();case"manual":null!==a&&t.set("Location",a);break;case"follow":if(null===a)break;if(s.counter>=s.follow)return r(new c("maximum redirect reached at: "+s.url,"max-redirect")),void h();const n={headers:new I(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:s.body};return 303!==e.statusCode&&s.body&&null===b(s)?(r(new c("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==s.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),i(Z(new F(a,n))),void h())}}let n=e.pipe(new $);const a={url:s.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:s.size,timeout:s.timeout},o=t.get("Content-Encoding");if(!s.compress||"HEAD"===s.method||null===o||204===e.statusCode||304===e.statusCode)return void i(new L(n,a));const u={flush:Q.Z_SYNC_FLUSH,finishFlush:Q.Z_SYNC_FLUSH};if("gzip"==o||"x-gzip"==o)return n=n.pipe(Q.createGunzip(u)),void i(new L(n,a));if("deflate"!=o&&"x-deflate"!=o)i(new L(n,a));else{const t=e.pipe(new $);t.once("data",(function(e){n=8===(15&e[0])?n.pipe(Q.createInflate()):n.pipe(Q.createInflateRaw()),i(new L(n,a))}))}})),w(o,s)}))}Z.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Z.default=Z,Z.Promise=s.Promise,Z.http=z,Z.https=K,e.exports=t=Z,t.Headers=I,t.Request=F,t.Response=L,t.FetchError=c}).call(this,i("b639").Buffer,i("c8ba"))},fc6a:function(e,t,i){var r=i("44ad"),s=i("1d80");e.exports=function(e){return r(s(e))}},fce3:function(e,t,i){var r=i("d039");e.exports=r((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fd46:function(e,t,i){var r=i("84eb");function s(e,t){return function(){var i=arguments.length;if(0===i)return t();var s=arguments[i-1];return r(s)||"function"!==typeof s[e]?t.apply(this,arguments):s[e].apply(s,Array.prototype.slice.call(arguments,0,i-1))}}e.exports=s},fd6f:function(e,t){function i(e){return null!=e&&"function"===typeof e["@@transducer/step"]}e.exports=i},fd8c:function(e,t,i){"use strict";const r=i("90db"),{ExchangeError:s,InvalidNonce:n,AuthenticationError:a,OrderNotFound:o}=i("74b0"),{TICK_SIZE:c}=i("5ea4"),d=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitso",name:"Bitso",countries:["MX"],rateLimit:2e3,version:"v3",has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295554-11f98280-c50e-11ea-80d6-15b3bafa8cbf.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees",referral:"https://bitso.com/?ref=itej"},precisionMode:c,options:{precision:{XRP:1e-6,MXN:.01,TUSD:.01},defaultPrecision:1e-8},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":a,104:n}})}async fetchMarkets(e={}){const t=await this.publicGetAvailableBooks(e),i=this.safeValue(t,"payload"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"book"),[n,a]=t.split("_");let o=n.toUpperCase(),c=a.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const h=o+"/"+c,u={amount:{min:this.safeNumber(e,"minimum_amount"),max:this.safeNumber(e,"maximum_amount")},price:{min:this.safeNumber(e,"minimum_price"),max:this.safeNumber(e,"maximum_price")},cost:{min:this.safeNumber(e,"minimum_value"),max:this.safeNumber(e,"maximum_value")}},l=this.safeNumber(this.options["precision"],c,this.options["defaultPrecision"]),f=this.safeNumber(e,"tick_size",l),p={amount:this.safeNumber(this.options["precision"],o,this.options["defaultPrecision"]),price:f},m=this.safeValue(e,"fees",{}),g=this.safeValue(m,"flat_rate",{}),y=this.safeString(g,"maker"),v=this.safeString(g,"taker"),b=this.parseNumber(d.stringDiv(y,"100")),w=this.parseNumber(d.stringDiv(v,"100")),S=this.safeValue(m,"structure",[]),k={taker:w,maker:b,percentage:!0,tierBased:!0},_=[],O=[];for(let i=0;i<S.length;i++){const e=S[i],t=this.safeNumber(e,"volume"),r=this.safeNumber(e,"taker"),s=this.safeNumber(e,"maker");_.push([t,r]),O.push([t,s]),0===i&&(k["taker"]=r,k["maker"]=s)}const T={taker:_,maker:O};k["tiers"]=T,r.push(this.extend({id:t,symbol:h,base:o,quote:c,baseId:n,quoteId:a,info:e,limits:u,precision:p,active:void 0},k))}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"payload",{}),r=this.safeValue(i,"balances"),s={info:t,timestamp:void 0,datetime:void 0};for(let n=0;n<r.length;n++){const e=r[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),a=this.account();a["free"]=this.safeString(e,"available"),a["used"]=this.safeString(e,"locked"),a["total"]=this.safeString(e,"total"),s[i]=a}return this.parseBalance(s,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={book:this.marketId(e)},s=await this.publicGetOrderBook(this.extend(r,i)),n=this.safeValue(s,"payload"),a=this.parse8601(this.safeString(n,"updated_at"));return this.parseOrderBook(n,e,a,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={book:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"payload"),n=this.parse8601(this.safeString(s,"created_at")),a=this.safeNumber(s,"vwap"),o=this.safeNumber(s,"volume");let c=void 0;void 0!==o&&void 0!==a&&(c=o*a);const d=this.safeNumber(s,"last");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:a,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:s}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"book"),s=this.safeSymbol(r,t,"_"),n=this.safeString2(e,"side","maker_side");let a=this.safeNumber2(e,"amount","major");void 0!==a&&(a=Math.abs(a));let o=void 0;const c=this.safeNumber(e,"fees_amount");if(void 0!==c){const t=this.safeString(e,"fees_currency"),i=this.safeCurrencyCode(t);o={cost:c,currency:i}}let d=this.safeNumber(e,"minor");void 0!==d&&(d=Math.abs(d));const h=this.safeNumber(e,"price"),u=this.safeString(e,"oid"),l=this.safeString(e,"tid");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:u,type:void 0,side:n,takerOrMaker:void 0,price:h,amount:a,cost:d,fee:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={book:s["id"]},a=await this.publicGetTrades(this.extend(n,r));return this.parseTrades(a["payload"],s,t,i)}async fetchMyTrades(e,t,i=25,r={}){await this.loadMarkets();const n=this.market(e),a="marker"in r;if(void 0!==t&&!a)throw new s(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");a&&(r=this.extend(r,{marker:parseInt(r["marker"])}));const o={book:n["id"],limit:i},c=await this.privateGetUserTrades(this.extend(o,r));return this.parseTrades(c["payload"],n,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={book:this.marketId(e),side:i,type:t,major:this.amountToPrecision(e,r)};"limit"===t&&(a["price"]=this.priceToPrecision(e,s));const o=await this.privatePostOrders(this.extend(a,n)),c=this.safeString(o["payload"],"oid");return{info:o,id:c}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={oid:e};return await this.privateDeleteOrdersOid(this.extend(r,i))}parseOrderStatus(e){const t={"partial-fill":"open",completed:"closed"};return this.safeString(t,e,e)}parseOrder(e,t){const i=this.safeString(e,"oid"),r=this.safeString(e,"side"),s=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"book"),a=this.safeSymbol(n,t,"_"),o=this.safeString(e,"type"),c=this.parse8601(this.safeString(e,"created_at")),d=this.safeNumber(e,"price"),h=this.safeNumber(e,"original_amount"),u=this.safeNumber(e,"unfilled_amount"),l=this.safeString(e,"client_id");return this.safeOrder({info:e,id:i,clientOrderId:l,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:a,type:o,timeInForce:void 0,postOnly:void 0,side:r,price:d,stopPrice:void 0,amount:h,cost:void 0,remaining:u,filled:void 0,status:s,fee:void 0,average:void 0,trades:void 0})}async fetchOpenOrders(e,t,i=25,r={}){await this.loadMarkets();const n=this.market(e),a="marker"in r;if(void 0!==t&&!a)throw new s(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");a&&(r=this.extend(r,{marker:parseInt(r["marker"])}));const o={book:n["id"],limit:i},c=await this.privateGetOpenOrders(this.extend(o,r)),d=this.parseOrders(c["payload"],n,t,i);return d}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privateGetOrdersOid({oid:e}),s=this.safeValue(r,"payload");if(Array.isArray(s)){const e=r["payload"].length;if(1===e)return this.parseOrder(s[0])}throw new o(this.id+": The order "+e+" not found.")}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const n=this.market(t),a={oid:e},o=await this.privateGetOrderTradesOid(this.extend(a,s));return this.parseTrades(o["payload"],n)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={fund_currency:i["id"]},s=await this.privateGetFundingDestination(this.extend(r,t));let n=this.safeString(s["payload"],"account_identifier"),a=void 0;if(n.indexOf("?dt=")>=0){const e=n.split("?dt=");n=this.safeString(e,0),a=this.safeString(e,1)}return this.checkAddress(n),{currency:e,address:n,tag:a,info:s}}async withdraw(e,t,i,r,n={}){this.checkAddress(i),await this.loadMarkets();const a={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"},o=e in a?a[e]:void 0;if(void 0===o)throw new s(this.id+" not valid withdraw coin: "+e);const c={amount:t,address:i,destination_tag:r},d="privatePost"+o+"Withdrawal",h=await this[d](this.extend(c,n));return{info:h,id:this.safeString(h["payload"],"wid")}}sign(e,t="public",i="GET",r={},s,n){let a="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(a+="?"+this.urlencode(o));const c=this.urls["api"]+a;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,a].join("");"GET"!==i&&Object.keys(o).length&&(n=this.json(o),t+=n);const r=this.hmac(this.encode(t),this.encode(this.secret)),c=this.apiKey+":"+e+":"+r;s={Authorization:"Bitso "+c,"Content-Type":"application/json"}}return{url:c,method:i,body:n,headers:s}}handleErrors(e,t,i,r,n,a,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.id+" "+this.json(o),t=this.safeValue(o,"error");if(void 0===t)throw new s(e);const i=this.safeString(t,"code");throw this.throwExactlyMatchedException(this.exceptions,i,e),new s(e)}}}async request(e,t="public",i="GET",r={},n,a){const o=await this.fetch2(e,t,i,r,n,a);if("success"in o&&o["success"])return o;throw new s(this.id+" "+this.json(o))}}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,i){var r=i("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe34:function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var n=i("abf9"),a=i("5eec");t.stringToBytes=function(e,t){if(void 0===t&&(t="utf8"),"utf8"===t)return a.strToUtf8Array(e);if("raw"===t)return Uint8Array.from(s(e).map((function(e){return e.charCodeAt(0)})));throw new Error("Unsupported encoding "+t)},t.bytesToString=function(e,t){if(void 0===t&&(t="utf8"),"utf8"===t)return a.utf8ArrayToStr(Array.from(n._fromIn(e)));if("raw"===t)return Array.from(n._fromIn(e)).map((function(e){return String.fromCharCode(e)})).join("");throw new Error("Unsupported encoding "+t)},t.binaryStringToBytes=function(e){return Uint8Array.from(s(e).map((function(e){return e.charCodeAt(0)})))},t.bytesToBinaryString=function(e){return Array.from(n._fromIn(e)).map((function(e){return String.fromCharCode(e)})).join("")}},fe6c:function(e,t,i){"use strict";i.d(t,"b",(function(){return a}));var r=i("2b0e"),s=i("80d2"),n={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r["a"].extend({name:"positionable",props:e.length?Object(s["n"])(n,e):n})}t["a"]=a()},fe7e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp('((?!\\\\)"\\w+"):\\s*(-?[\\d|\\.]{14,})',"g");function s(e){return JSON.parse(e.replace(r,'$1:"$2"'))}t.default=s},fea9:function(e,t,i){var r=i("da84");e.exports=r.Promise},fee7:function(e,t,i){"use strict";var r=t;function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}r.inherits=s,r.version="6.5.0",r.utils=i("b9b3"),r.curve=i("f0be"),r.curves=i("b92f"),r.ec=i("daf3"),r.eddsa=i("0697")},feef:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.broadcast=t.fetchStatus=t.fetchInfo=t.fetchUnconfirmedInfo=t.fetchTransactions=t.fetchUnconfirmed=t.fetchCalculateFee=t.fetchUnconfirmedSize=void 0;var n=i("ff3f"),a=i("5884"),o=s(i("85aa")),c=s(i("f963")),d=i("b640"),h=s(i("3bc7")),u=i("f2eb");function l(e){return o.default({base:e,url:"/transactions/unconfirmed/size"})}function f(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/calculateFee",options:d.deepAssign(r({},i),{method:"POST",body:h.default(t),headers:{"Content-Type":"application/json"}})})}function p(e,t){return void 0===t&&(t=Object.create(null)),o.default({base:e,url:"/transactions/unconfirmed",options:t})}function m(e,t,i,r,s,n){return void 0===n&&(n=Object.create(null)),o.default({base:e,url:"/transactions/address/"+t+"/limit/"+i+c.default({after:r}),options:n}).then((function(e){var t=e[0];return t.forEach((function(e){return u.addStateUpdateField(e)})),t}))}function g(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/unconfirmed/info/"+t,options:i})}function y(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/info/"+t,options:i}).then((function(e){return u.addStateUpdateField(e)}))}function v(e,t){var i={id:"",confirmations:-1,height:-1,inUTX:!1,status:n.TRANSACTION_STATUSES.NOT_FOUND},s=t.map((function(t){return g(e,t).then((function(){return r(r({},i),{id:t,status:n.TRANSACTION_STATUSES.UNCONFIRMED,inUTX:!0})})).catch((function(){return y(e,t).then((function(e){return r(r({},i),{id:t,status:n.TRANSACTION_STATUSES.IN_BLOCKCHAIN,height:e.height,applicationStatus:e.applicationStatus})}))})).catch((function(){return r(r({},i),{id:t})}))}));return Promise.all([a.fetchHeight(e),Promise.all(s)]).then((function(e){var t=e[0].height,i=e[1];return{height:t,statuses:i.map((function(e){return r(r({},e),{confirmations:e.status===n.TRANSACTION_STATUSES.IN_BLOCKCHAIN?t-e.height:e.confirmations})}))}}))}function b(e,t,i){return void 0===i&&(i=Object.create(null)),o.default({base:e,url:"/transactions/broadcast",options:d.deepAssign(r({},i),{method:"POST",body:h.default(t),headers:{"Content-Type":"application/json"}})})}t.fetchUnconfirmedSize=l,t.fetchCalculateFee=f,t.fetchUnconfirmed=p,t.fetchTransactions=m,t.fetchUnconfirmedInfo=g,t.fetchInfo=y,t.fetchStatus=v,t.broadcast=b},ff3f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSACTION_STATUSES=t.NAME_MAP=t.TYPE_MAP=void 0,t.TYPE_MAP={3:"issue",4:"transfer",5:"reissue",6:"burn",7:"exchange",8:"lease",9:"cancelLease",10:"alias",11:"massTransfer",12:"data",13:"setScript",14:"sponsorship",15:"setAssetScript",16:"invoke",17:"updateAsset"},t.NAME_MAP={issue:3,transfer:4,reissue:5,burn:6,exchange:7,lease:8,cancelLease:9,alias:10,massTransfer:11,data:12,setScript:13,sponsorship:14,setAssetScript:15,invoke:16,updateAsset:17},t.TRANSACTION_STATUSES={IN_BLOCKCHAIN:"in_blockchain",UNCONFIRMED:"unconfirmed",NOT_FOUND:"not_found"}},ffa6:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return p}));function r(e,t,i,r){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(t){n(t)}}function o(e){try{c(r["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function s(e,t){var i,r,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(s=2&n[0]?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}Object.create;function n(e){var t="function"===typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=n.next()).done)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(s)throw s.error}}return a}function o(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}Object.create;var c=i("a8e9"),d=function(){function e(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),h="[DEFAULT]",u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var i=new c["a"];if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,i=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(f(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(p){}try{for(var r=n(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=a(s.value,2),c=o[0],d=o[1],u=this.normalizeInstanceIdentifier(c);try{var l=this.getOrInitializeService({instanceIdentifier:u});d.resolve(l)}catch(p){}}}catch(m){t={error:m}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=h),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(o([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=h),this.instances.has(e)},e.prototype.initialize=function(e){var t,i;void 0===e&&(e={});var r=e.options,s=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var d=n(this.instancesDeferred.entries()),h=d.next();!h.done;h=d.next()){var u=a(h.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);o===p&&f.resolve(c)}}catch(m){t={error:m}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(t)throw t.error}}return c},e.prototype.onInit=function(e,t){var i,r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);var n=this.instances.get(r);return n&&e(n,r),function(){s.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var i,r,s=this.onInitCallbacks.get(t);if(s)try{for(var a=n(s),o=a.next();!o.done;o=a.next()){var c=o.value;try{c(e,t)}catch(d){}}}catch(h){i={error:h}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,i=e.options,r=void 0===i?{}:i,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l(t),options:r}),this.instances.set(t,s),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch(n){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=h),this.component?this.component.multipleInstances?e:h:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function l(e){return e===h?void 0:e}function f(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},ffca:function(e,t,i){"use strict";const r=i("90db"),{BadSymbol:s,ExchangeError:n}=i("74b0"),a=i("5524");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{cancelOrder:!0,CORS:!1,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182088-1d6d6380-c2ec-11ea-9c64-8ab9f9b289f5.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api",fees:["https://coincheck.com/exchange/fee","https://coincheck.com/info/fee"]},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"},"ETC/JPY":{id:"etc_jpy",symbol:"ETC/JPY",base:"ETC",quote:"JPY",baseId:"etc",quoteId:"jpy"},"FCT/JPY":{id:"fct_jpy",symbol:"FCT/JPY",base:"FCT",quote:"JPY",baseId:"fct",quoteId:"jpy"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"ETC/BTC":{id:"etc_btc",symbol:"ETC/BTC",base:"ETC",quote:"BTC",baseId:"etc",quoteId:"btc"}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],n=this.currencyId(e);if(n in t){const r=this.account(),s=n+"_reserved";r["free"]=this.safeString(t,n),r["used"]=this.safeString(t,s),i[e]=r}}return this.parseBalance(i,!1)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const n=await this.privateGetExchangeOrdersOpens(r),a=this.safeValue(n,"orders",[]),o=this.parseOrders(a,s,t,i),c=[];for(let d=0;d<o.length;d++)c.push(this.extend(o[d],{status:"open"}));return c}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_type"),s=this.parse8601(this.safeString(e,"created_at")),n=this.safeNumber(e,"pending_amount"),a=this.safeNumber(e,"pending_amount"),o=this.safeNumber(e,"rate"),c=void 0,d=this.safeString(e,"pair"),h=this.safeSymbol(d,t,"_");return this.safeOrder({id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,amount:n,remaining:a,filled:void 0,side:r,type:void 0,timeInForce:void 0,postOnly:void 0,status:c,symbol:h,price:o,stopPrice:void 0,cost:void 0,fee:void 0,info:e,average:void 0,trades:void 0})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pair:r["id"]},n=await this.publicGetOrderBooks(this.extend(s,i));return this.parseOrderBook(n,e)}async fetchTicker(e,t={}){if("BTC/JPY"!==e)throw new s(this.id+" fetchTicker () supports BTC/JPY only");await this.loadMarkets();const i=this.market(e),r={pair:i["id"]},n=await this.publicGetTicker(this.extend(r,t)),a=this.safeTimestamp(n,"timestamp"),o=this.safeNumber(n,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(n,"high"),low:this.safeNumber(n,"low"),bid:this.safeNumber(n,"bid"),bidVolume:void 0,ask:this.safeNumber(n,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(n,"volume"),quoteVolume:void 0,info:n}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeString(e,"rate"),n=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,n,t);let o=void 0,c=void 0,d=void 0;if(void 0!==n)if(n in this.markets_by_id)t=this.markets_by_id[n],c=t["baseId"],d=t["quoteId"],o=t["symbol"];else{const e=n.split("_");c=e[0],d=e[1];const t=this.safeCurrencyCode(c),i=this.safeCurrencyCode(d);o=t+"/"+i}void 0===o&&void 0!==t&&(o=t["symbol"]);let h=void 0,u=void 0,l=void 0,f=void 0,p=void 0,m=void 0;if("liquidity"in e){"T"===this.safeString(e,"liquidity")?h="taker":"M"===this.safeString(e,"liquidity")&&(h="maker");const t=this.safeValue(e,"funds",{});u=this.safeString(t,c),l=this.safeNumber(t,d),p={currency:this.safeString(e,"fee_currency"),cost:this.safeNumber(e,"fee")},f=this.safeString(e,"side"),m=this.safeString(e,"order_id")}else u=this.safeString(e,"amount"),f=this.safeString(e,"order_type");const g=this.parseNumber(s),y=this.parseNumber(u);return void 0===l&&(l=this.parseNumber(a.stringMul(s,u))),{id:r,info:e,datetime:this.iso8601(i),timestamp:i,symbol:o,type:void 0,side:f,order:m,takerOrMaker:h,price:g,amount:y,cost:l,fee:p}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=await this.privateGetExchangeOrdersTransactions(this.extend({},r)),a=this.safeValue(n,"transactions",[]);return this.parseTrades(a,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={pair:s["id"]};void 0!==i&&(n["limit"]=i);const a=await this.publicGetTrades(this.extend(n,r)),o=this.safeValue(a,"data",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const a={pair:this.marketId(e)};if("market"===t){const e=t+"_"+i;a["order_type"]=e;const s="buy"===i?e+"_":"";a[s+"amount"]=r}else a["order_type"]=i,a["rate"]=s,a["amount"]=r;const o=await this.privatePostExchangeOrders(this.extend(a,n)),c=this.safeString(o,"id");return{info:o,id:c}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteExchangeOrdersId(this.extend(r,i))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,n){let a=this.urls["api"]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"===i?Object.keys(o).length&&(a+="?"+this.urlencode(this.keysort(o))):Object.keys(o).length&&(n=this.urlencode(this.keysort(o)),t=n);const r=e+a+t;s={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":e,"ACCESS-SIGNATURE":this.hmac(this.encode(r),this.encode(this.secret))}}return{url:a,method:i,body:n,headers:s}}async request(e,t="public",i="GET",r={},s,a){const o=await this.fetch2(e,t,i,r,s,a);if("public"===t)return o;if("success"in o&&o["success"])return o;throw new n(this.id+" "+this.json(o))}}}}]);
//# sourceMappingURL=chunk-vendors.1d9095eb.js.map